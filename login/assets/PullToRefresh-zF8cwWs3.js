import{r as e,j as t}from"./index-C-N-wVvC.js";function v({children:h,onRefresh:c}){const[n,i]=e.useState(0),[s,o]=e.useState(!1),f=e.useRef(null),a=e.useRef(0),l=e.useRef(!1),d=e.useCallback(r=>{window.scrollY<=0&&(a.current=r.touches[0].clientY,l.current=!0)},[]),x=e.useCallback(r=>{if(!l.current||s)return;const u=r.touches[0].clientY-a.current;u>20&&window.scrollY<=0&&(r.preventDefault(),i(Math.min((u-20)*.35,80)))},[s]),p=e.useCallback(async()=>{n>55&&!s&&(o(!0),c?await c():window.location.reload(),o(!1)),i(0),l.current=!1},[n,s,c]);return t.jsxs("div",{ref:f,onTouchStart:d,onTouchMove:x,onTouchEnd:p,children:[t.jsxs("div",{className:`pull-refresh-indicator ${n>0?"visible":""} ${s?"refreshing":""}`,style:{height:n},children:[t.jsx("div",{className:`refresh-spinner ${s?"spinning":""}`,children:t.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:t.jsx("path",{fill:"currentColor",d:"M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})}),t.jsx("span",{className:"refresh-text",children:s?"Refreshing...":"Pull to refresh"})]}),h]})}export{v as P};
