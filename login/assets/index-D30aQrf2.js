(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var nm={exports:{}},Nl={};var Sv;function Pb(){if(Sv)return Nl;Sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var Av;function Ub(){return Av||(Av=1,nm.exports=Pb()),nm.exports}var V=Ub(),im={exports:{}},we={};var bv;function zb(){if(bv)return we;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function ie(M,W,G){this.props=M,this.context=W,this.refs=H,this.updater=G||Q}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function re(){}re.prototype=ie.prototype;function ae(M,W,G){this.props=M,this.context=W,this.refs=H,this.updater=G||Q}var Ce=ae.prototype=new re;Ce.constructor=ae,k(Ce,ie.prototype),Ce.isPureReactComponent=!0;var Ae=Array.isArray;function be(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(M,W,G){var te=G.ref;return{$$typeof:r,type:M,key:W,ref:te!==void 0?te:null,props:G}}function x(M,W){return I(M.type,W,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(G){return W[G]})}var C=/\/+/g;function it(M,W){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):W.toString(36)}function ht(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,W,G,te,le){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(he){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case r:case e:de=!0;break;case E:return de=M._init,X(de(M._payload),W,G,te,le)}}if(de)return le=le(M),de=te===""?"."+it(M,0):te,Ae(le)?(G="",de!=null&&(G=de.replace(C,"$&/")+"/"),X(le,W,G,"",function(kt){return kt})):le!=null&&(N(le)&&(le=x(le,G+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(C,"$&/")+"/")+de)),W.push(le)),1;de=0;var Ye=te===""?".":te+":";if(Ae(M))for(var Te=0;Te<M.length;Te++)te=M[Te],he=Ye+it(te,Te),de+=X(te,W,G,he,le);else if(Te=P(M),typeof Te=="function")for(M=Te.call(M),Te=0;!(te=M.next()).done;)te=te.value,he=Ye+it(te,Te++),de+=X(te,W,G,he,le);else if(he==="object"){if(typeof M.then=="function")return X(ht(M),W,G,te,le);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return de}function oe(M,W,G){if(M==null)return M;var te=[],le=0;return X(M,te,"","",function(he){return W.call(G,he,le++)}),te}function pe(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(G){(M._status===0||M._status===-1)&&(M._status=1,M._result=G)},function(G){(M._status===0||M._status===-1)&&(M._status=2,M._result=G)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qe={map:oe,forEach:function(M,W,G){oe(M,function(){W.apply(this,arguments)},G)},count:function(M){var W=0;return oe(M,function(){W++}),W},toArray:function(M){return oe(M,function(W){return W})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=S,we.Children=qe,we.Component=ie,we.Fragment=n,we.Profiler=o,we.PureComponent=ae,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,W,G){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=k({},M.props),le=M.key;if(W!=null)for(he in W.key!==void 0&&(le=""+W.key),W)!w.call(W,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&W.ref===void 0||(te[he]=W[he]);var he=arguments.length-2;if(he===1)te.children=G;else if(1<he){for(var de=Array(he),Ye=0;Ye<he;Ye++)de[Ye]=arguments[Ye+2];te.children=de}return I(M.type,le,te)},we.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},we.createElement=function(M,W,G){var te,le={},he=null;if(W!=null)for(te in W.key!==void 0&&(he=""+W.key),W)w.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=W[te]);var de=arguments.length-2;if(de===1)le.children=G;else if(1<de){for(var Ye=Array(de),Te=0;Te<de;Te++)Ye[Te]=arguments[Te+2];le.children=Ye}if(M&&M.defaultProps)for(te in de=M.defaultProps,de)le[te]===void 0&&(le[te]=de[te]);return I(M,he,le)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:m,render:M}},we.isValidElement=N,we.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},we.memo=function(M,W){return{$$typeof:y,type:M,compare:W===void 0?null:W}},we.startTransition=function(M){var W=R.T,G={};R.T=G;try{var te=M(),le=R.S;le!==null&&le(G,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(be,Ue)}catch(he){Ue(he)}finally{W!==null&&G.types!==null&&(W.types=G.types),R.T=W}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(M){return R.H.use(M)},we.useActionState=function(M,W,G){return R.H.useActionState(M,W,G)},we.useCallback=function(M,W){return R.H.useCallback(M,W)},we.useContext=function(M){return R.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,W){return R.H.useDeferredValue(M,W)},we.useEffect=function(M,W){return R.H.useEffect(M,W)},we.useEffectEvent=function(M){return R.H.useEffectEvent(M)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(M,W,G){return R.H.useImperativeHandle(M,W,G)},we.useInsertionEffect=function(M,W){return R.H.useInsertionEffect(M,W)},we.useLayoutEffect=function(M,W){return R.H.useLayoutEffect(M,W)},we.useMemo=function(M,W){return R.H.useMemo(M,W)},we.useOptimistic=function(M,W){return R.H.useOptimistic(M,W)},we.useReducer=function(M,W,G){return R.H.useReducer(M,W,G)},we.useRef=function(M){return R.H.useRef(M)},we.useState=function(M){return R.H.useState(M)},we.useSyncExternalStore=function(M,W,G){return R.H.useSyncExternalStore(M,W,G)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.4",we}var wv;function tp(){return wv||(wv=1,im.exports=zb()),im.exports}var q=tp(),rm={exports:{}},Ol={},sm={exports:{}},am={};var Rv;function jb(){return Rv||(Rv=1,(function(r){function e(X,oe){var pe=X.length;X.push(oe);e:for(;0<pe;){var Ue=pe-1>>>1,qe=X[Ue];if(0<o(qe,oe))X[Ue]=oe,X[pe]=qe,pe=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],pe=X.pop();if(pe!==oe){X[0]=pe;e:for(var Ue=0,qe=X.length,M=qe>>>1;Ue<M;){var W=2*(Ue+1)-1,G=X[W],te=W+1,le=X[te];if(0>o(G,pe))te<qe&&0>o(le,G)?(X[Ue]=le,X[te]=pe,Ue=te):(X[Ue]=G,X[W]=pe,Ue=W);else if(te<qe&&0>o(le,pe))X[Ue]=le,X[te]=pe,Ue=te;else break e}}return oe}function o(X,oe){var pe=X.sortIndex-oe.sortIndex;return pe!==0?pe:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,b=3,P=!1,Q=!1,k=!1,H=!1,ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Ce(X){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=X)s(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function Ae(X){if(k=!1,Ce(X),!Q)if(n(g)!==null)Q=!0,be||(be=!0,U());else{var oe=n(y);oe!==null&&ht(Ae,oe.startTime-X)}}var be=!1,R=-1,w=5,I=-1;function x(){return H?!0:!(r.unstable_now()-I<w)}function N(){if(H=!1,be){var X=r.unstable_now();I=X;var oe=!0;try{e:{Q=!1,k&&(k=!1,re(R),R=-1),P=!0;var pe=b;try{t:{for(Ce(X),S=n(g);S!==null&&!(S.expirationTime>X&&x());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,b=S.priorityLevel;var qe=Ue(S.expirationTime<=X);if(X=r.unstable_now(),typeof qe=="function"){S.callback=qe,Ce(X),oe=!0;break t}S===n(g)&&s(g),Ce(X)}else s(g);S=n(g)}if(S!==null)oe=!0;else{var M=n(y);M!==null&&ht(Ae,M.startTime-X),oe=!1}}break e}finally{S=null,b=pe,P=!1}oe=void 0}}finally{oe?U():be=!1}}}var U;if(typeof ae=="function")U=function(){ae(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,it=C.port2;C.port1.onmessage=N,U=function(){it.postMessage(null)}}else U=function(){ie(N,0)};function ht(X,oe){R=ie(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var pe=b;b=oe;try{return X()}finally{b=pe}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=b;b=X;try{return oe()}finally{b=pe}},r.unstable_scheduleCallback=function(X,oe,pe){var Ue=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,X){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=pe+qe,X={id:E++,callback:oe,priorityLevel:X,startTime:pe,expirationTime:qe,sortIndex:-1},pe>Ue?(X.sortIndex=pe,e(y,X),n(g)===null&&X===n(y)&&(k?(re(R),R=-1):k=!0,ht(Ae,pe-Ue))):(X.sortIndex=qe,e(g,X),Q||P||(Q=!0,be||(be=!0,U()))),X},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(X){var oe=b;return function(){var pe=b;b=oe;try{return X.apply(this,arguments)}finally{b=pe}}}})(am)),am}var Cv;function Bb(){return Cv||(Cv=1,sm.exports=jb()),sm.exports}var om={exports:{}},$t={};var Iv;function qb(){if(Iv)return $t;Iv=1;var r=tp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},$t.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var Dv;function Hb(){if(Dv)return om.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=qb(),om.exports}var Nv;function Fb(){if(Nv)return Ol;Nv=1;var r=Bb(),e=tp(),n=Hb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case ie:return"Profiler";case H:return"StrictMode";case Ae:return"Suspense";case be:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ae:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case Ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:it(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return it(t(i))}catch{}}return null}var ht=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],qe=-1;function M(t){return{current:t}}function W(t){0>qe||(t.current=Ue[qe],Ue[qe]=null,qe--)}function G(t,i){qe++,Ue[qe]=t.current,t.current=i}var te=M(null),le=M(null),he=M(null),de=M(null);function Ye(t,i){switch(G(he,i),G(le,t),G(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=G_(i),t=K_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(te),G(te,t)}function Te(){W(te),W(le),W(he)}function kt(t){t.memoizedState!==null&&G(de,t);var i=te.current,a=K_(i,t.type);i!==a&&(G(le,t),G(te,a))}function hr(t){le.current===t&&(W(te),W(le)),de.current===t&&(W(de),Rl._currentValue=pe)}var fr,dr;function Rn(t){if(fr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fr=i&&i[1]||"",dr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fr+t+dr}var Cn=!1;function oi(t,i){if(!t||Cn)return"";Cn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var F=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){F=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){F=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Cn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function _s(t,i){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return t.child!==i&&i!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return oi(t.type,!1);case 11:return oi(t.type.render,!1);case 1:return oi(t.type,!0);case 31:return Rn("Activity");default:return""}}function mr(t){try{var i="",a=null;do i+=_s(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,pr=r.unstable_cancelCallback,rf=r.unstable_shouldYield,_u=r.unstable_requestPaint,tn=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,No=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,sf=r.unstable_LowPriority,vu=r.unstable_IdlePriority,Eu=r.log,Tu=r.unstable_setDisableYieldValue,qn=null,Bt=null;function In(t){if(typeof Eu=="function"&&Tu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(qn,t)}catch{}}var pt=Math.clz32?Math.clz32:Au,Su=Math.log,la=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(Su(t)/la|0)|0}var li=256,Es=262144,Et=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ui(l):(_&=T,_!==0?h=ui(_):a||(a=T&~t,a!==0&&(h=ui(a))))):(T=l&~d,T!==0?h=ui(T):_!==0?h=ui(_):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function af(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ts(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function of(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),Z=1<<$;T[$]=0,D[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&Ss(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Fn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,fi="__reactContainer$"+Gn,ua="__reactEvents$"+Gn,lf="__reactListeners$"+Gn,Ru="__reactHandles$"+Gn,Cu="__reactResources$"+Gn,di="__reactMarker$"+Gn;function ca(t){delete t[Tt],delete t[Lt],delete t[ua],delete t[lf],delete t[Ru]}function mi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[Tt])return a;t=Z_(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[Tt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[Cu];return i||(i=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[di]=!0}var Mo=new Set,xo={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(xo[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Po={};function Iu(t){return ft.call(Po,t)?!0:ft.call(Lo,t)?!1:ko.test(t)?Po[t]=!0:(Lo[t]=!0,!1)}function ha(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=yr(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function bs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ws=/[\n"\\]/g;function sn(t){return t.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Pt(i)):a!=null?zo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Du(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function zo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _r(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function vr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ou.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&jo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return Er.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var qo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,vi=null;function Rs(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&bs(l)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_r(t,!!a.multiple,i,!1)}}}var pa=!1;function Sr(t,i,a){if(pa)return t(i,a);pa=!0;try{var l=t(i);return l}finally{if(pa=!1,(Tr!==null||vi!==null)&&(wc(),Tr&&(i=Tr,t=vi,vi=Tr=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(On)try{var We={};Object.defineProperty(We,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Cs=!1}var Ei=null,Ho=null,Is=null;function Fo(){if(Is)return Is;var t,i=Ho,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Is=h.slice(t,1<l?1-l:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Qn(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=qt(zi),Ar=S({},zi,{view:0,detail:0}),Go=qt(Ar),br,ga,Si,ya=S({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(br=t.screenX-Si.screenX,ga=t.screenY-Si.screenY):ga=br=0,Si=t),br)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Ko=qt(ya),Ns=S({},ya,{dataTransfer:0}),Mu=qt(Ns),xu=S({},Ar,{relatedTarget:0}),Os=qt(xu),Yo=S({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=qt(Yo),_a=S({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lu=qt(_a),Pu=S({},zi,{data:0}),Ai=qt(Pu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function wr(){return Bu}var nn=S({},Ar,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=qt(nn),Hu=S({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=qt(Hu),c=S({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),p=qt(c),v=S({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(v),z=S({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qt(z),se=S({},zi,{newState:0,oldState:0}),Ie=qt(se),gt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,ot=null;On&&"documentMode"in document&&(ot=document.documentMode);var Vn=On&&"TextEvent"in window&&!ot,bi=On&&(!Ge||ot&&8<ot&&11>=ot),Xn=" ",$n=!1;function Vs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function oA(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function lA(t,i){if(Ea)return t==="compositionend"||!Ge&&Vs(t,i)?(t=Fo(),Is=Ho=Ei=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var uA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!uA[t.type]:i==="textarea"}function ig(t,i,a,l){Tr?vi?vi.push(l):vi=[l]:Tr=l,i=Vc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qo=null,Xo=null;function cA(t){z_(t,0)}function Fu(t){var i=pn(t);if(bs(i))return t}function rg(t,i){if(t==="change")return i}var sg=!1;if(On){var uf;if(On){var cf="oninput"in document;if(!cf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),cf=typeof ag.oninput=="function"}uf=cf}else uf=!1;sg=uf&&(!document.documentMode||9<document.documentMode)}function og(){Qo&&(Qo.detachEvent("onpropertychange",lg),Xo=Qo=null)}function lg(t){if(t.propertyName==="value"&&Fu(Xo)){var i=[];ig(i,Xo,t,Nn(t)),Sr(cA,i)}}function hA(t,i,a){t==="focusin"?(og(),Qo=i,Xo=a,Qo.attachEvent("onpropertychange",lg)):t==="focusout"&&og()}function fA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Xo)}function dA(t,i){if(t==="click")return Fu(i)}function mA(t,i){if(t==="input"||t==="change")return Fu(i)}function pA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:pA;function $o(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ft.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cg(t,i){var a=ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ug(a)}}function hg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?hg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var gA=On&&"documentMode"in document&&11>=document.documentMode,Ta=null,ff=null,Jo=null,df=!1;function dg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Ta==null||Ta!==_i(l)||(l=Ta,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&$o(Jo,l)||(Jo=l,l=Vc(ff,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},mf={},mg={};On&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function xs(t){if(mf[t])return mf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return mf[t]=i[a];return t}var pg=xs("animationend"),gg=xs("animationiteration"),yg=xs("animationstart"),yA=xs("transitionrun"),_A=xs("transitionstart"),vA=xs("transitioncancel"),_g=xs("transitionend"),vg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function Jn(t,i){vg.set(t,i),gi(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Aa=0,gf=0;function Ku(){for(var t=Aa,i=gf=Aa=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Eg(a,h,d)}}function Yu(t,i,a,l){Mn[Aa++]=t,Mn[Aa++]=i,Mn[Aa++]=a,Mn[Aa++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,a,l){return Yu(t,i,a,l),Qu(t)}function ks(t,i){return Yu(t,null,null,i),Qu(t)}function Eg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Qu(t){if(50<vl)throw vl=0,Rd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function EA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new EA(t,i,a,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")_f(t)&&(_=1);else if(typeof t=="string")_=wb(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,i,h),t.elementType=I,t.lanes=d,t;case k:return Ls(a.children,h,d,i);case H:_=8,h|=24;break;case ie:return t=_n(12,a,i,h|2),t.elementType=ie,t.lanes=d,t;case Ae:return t=_n(13,a,i,h),t.elementType=Ae,t.lanes=d,t;case be:return t=_n(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case re:_=9;break e;case Ce:_=11;break e;case R:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Sg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ag=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:mr(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:mr(i)}}var wa=[],Ra=0,$u=null,Wo=0,kn=[],Ln=0,Rr=null,wi=1,Ri="";function qi(t,i){wa[Ra++]=Wo,wa[Ra++]=$u,$u=t,Wo=i}function bg(t,i,a){kn[Ln++]=wi,kn[Ln++]=Ri,kn[Ln++]=Rr,Rr=t;var l=wi;t=Ri;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-pt(i)+h|a<<h|l,Ri=d+t}else wi=1<<d|a<<h|l,Ri=t}function Tf(t){t.return!==null&&(qi(t,1),bg(t,1,0))}function Sf(t){for(;t===$u;)$u=wa[--Ra],wa[Ra]=null,Wo=wa[--Ra],wa[Ra]=null;for(;t===Rr;)Rr=kn[--Ln],kn[Ln]=null,Ri=kn[--Ln],kn[Ln]=null,wi=kn[--Ln],kn[Ln]=null}function wg(t,i){kn[Ln++]=wi,kn[Ln++]=Ri,kn[Ln++]=Rr,wi=i.id,Ri=i.overflow,Rr=t}var Ht=null,st=null,ze=!1,Cr=null,Pn=!1,Af=Error(s(519));function Ir(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(xn(i,t)),Af}function Rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Ve(Tl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),vr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||H_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Ir(t,!0)}function Cg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ht=Ht.return}}function Ca(t){if(t!==Ht)return!1;if(!ze)return Cg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&st&&Ir(t),Cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=W_(t)}else i===27?(i=st,qr(t.type)?(t=Kd,Kd=null,st=t):st=i):st=Ht?zn(t.stateNode.nextSibling):null;return!0}function Ps(){st=Ht=null,ze=!1}function bf(){var t=Cr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Cr=null),t}function Zo(t){Cr===null?Cr=[t]:Cr.push(t)}var wf=M(null),Us=null,Hi=null;function Dr(t,i,a){G(wf,i._currentValue),i._currentValue=a}function Fi(t){t._currentValue=wf.current,W(wf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Rf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===de.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Us=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Ig(Us,t)}function Wu(t,i){return Us===null&&zs(t),Ig(t,i)}function Ig(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hi=Hi.next=i;return a}var TA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},SA=r.unstable_scheduleCallback,AA=r.unstable_NormalPriority,bt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new TA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&SA(AA,function(){t.controller.abort()})}var tl=null,Df=0,Da=0,Na=null;function bA(t,i){if(tl===null){var a=tl=[];Df=0,Da=Vd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Dg,Dg),i}function Dg(){if(--Df===0&&tl!==null){Na!==null&&(Na.status="fulfilled");var t=tl;tl=null,Da=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function wA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=X.S;X.S=function(t,i){d_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&bA(t,i),Ng!==null&&Ng(t,i)};var js=M(null);function Nf(){var t=js.current;return t!==null?t:nt.pooledCache}function Zu(t,i){i===null?G(js,js.current):G(js,i.pool)}function Og(){var t=Nf();return t===null?null:{parent:bt._currentValue,pool:t}}var Oa=Error(s(460)),Of=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t}throw qs=i,Oa}}function Bs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,Oa):a}}var qs=null;function xg(){if(qs===null)throw Error(s(459));var t=qs;return qs=null,t}function kg(t){if(t===Oa||t===ec)throw Error(s(483))}var Va=null,nl=0;function nc(t){var i=nl;return nl+=1,Va===null&&(Va=[]),Mg(Va,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){function i(L,O){if(t){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Bi(L,O),L.index=0,L.sibling=null,L}function d(L,O,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,j,J){return O===null||O.tag!==6?(O=vf(j,L.mode,J),O.return=L,O):(O=h(O,j),O.return=L,O)}function D(L,O,j,J){var ge=j.type;return ge===k?$(L,O,j.props.children,J,j.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Bs(ge)===O.type)?(O=h(O,j.props),il(O,j),O.return=L,O):(O=Xu(j.type,j.key,j.props,null,L.mode,J),il(O,j),O.return=L,O)}function B(L,O,j,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Ef(j,L.mode,J),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function $(L,O,j,J,ge){return O===null||O.tag!==7?(O=Ls(j,L.mode,J,ge),O.return=L,O):(O=h(O,j),O.return=L,O)}function Z(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vf(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return j=Xu(O.type,O.key,O.props,null,L.mode,j),il(j,O),j.return=L,j;case Q:return O=Ef(O,L.mode,j),O.return=L,O;case w:return O=Bs(O),Z(L,O,j)}if(ht(O)||U(O))return O=Ls(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return Z(L,nc(O),j);if(O.$$typeof===ae)return Z(L,Wu(L,O),j);ic(L,O)}return null}function F(L,O,j,J){var ge=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ge!==null?null:T(L,O,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===ge?D(L,O,j,J):null;case Q:return j.key===ge?B(L,O,j,J):null;case w:return j=Bs(j),F(L,O,j,J)}if(ht(j)||U(j))return ge!==null?null:$(L,O,j,J,null);if(typeof j.then=="function")return F(L,O,nc(j),J);if(j.$$typeof===ae)return F(L,O,Wu(L,j),J);ic(L,j)}return null}function Y(L,O,j,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(j)||null,T(O,L,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return L=L.get(J.key===null?j:J.key)||null,D(O,L,J,ge);case Q:return L=L.get(J.key===null?j:J.key)||null,B(O,L,J,ge);case w:return J=Bs(J),Y(L,O,j,J,ge)}if(ht(J)||U(J))return L=L.get(j)||null,$(O,L,J,ge,null);if(typeof J.then=="function")return Y(L,O,j,nc(J),ge);if(J.$$typeof===ae)return Y(L,O,j,Wu(O,J),ge);ic(O,J)}return null}function fe(L,O,j,J){for(var ge=null,He=null,me=O,Ne=O=0,xe=null;me!==null&&Ne<j.length;Ne++){me.index>Ne?(xe=me,me=null):xe=me.sibling;var Fe=F(L,me,j[Ne],J);if(Fe===null){me===null&&(me=xe);break}t&&me&&Fe.alternate===null&&i(L,me),O=d(Fe,O,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe,me=xe}if(Ne===j.length)return a(L,me),ze&&qi(L,Ne),ge;if(me===null){for(;Ne<j.length;Ne++)me=Z(L,j[Ne],J),me!==null&&(O=d(me,O,Ne),He===null?ge=me:He.sibling=me,He=me);return ze&&qi(L,Ne),ge}for(me=l(me);Ne<j.length;Ne++)xe=Y(me,L,Ne,j[Ne],J),xe!==null&&(t&&xe.alternate!==null&&me.delete(xe.key===null?Ne:xe.key),O=d(xe,O,Ne),He===null?ge=xe:He.sibling=xe,He=xe);return t&&me.forEach(function(Yr){return i(L,Yr)}),ze&&qi(L,Ne),ge}function _e(L,O,j,J){if(j==null)throw Error(s(151));for(var ge=null,He=null,me=O,Ne=O=0,xe=null,Fe=j.next();me!==null&&!Fe.done;Ne++,Fe=j.next()){me.index>Ne?(xe=me,me=null):xe=me.sibling;var Yr=F(L,me,Fe.value,J);if(Yr===null){me===null&&(me=xe);break}t&&me&&Yr.alternate===null&&i(L,me),O=d(Yr,O,Ne),He===null?ge=Yr:He.sibling=Yr,He=Yr,me=xe}if(Fe.done)return a(L,me),ze&&qi(L,Ne),ge;if(me===null){for(;!Fe.done;Ne++,Fe=j.next())Fe=Z(L,Fe.value,J),Fe!==null&&(O=d(Fe,O,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return ze&&qi(L,Ne),ge}for(me=l(me);!Fe.done;Ne++,Fe=j.next())Fe=Y(me,L,Ne,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Ne:Fe.key),O=d(Fe,O,Ne),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function(Lb){return i(L,Lb)}),ze&&qi(L,Ne),ge}function tt(L,O,j,J){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var ge=j.key;O!==null;){if(O.key===ge){if(ge=j.type,ge===k){if(O.tag===7){a(L,O.sibling),J=h(O,j.props.children),J.return=L,L=J;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Bs(ge)===O.type){a(L,O.sibling),J=h(O,j.props),il(J,j),J.return=L,L=J;break e}a(L,O);break}else i(L,O);O=O.sibling}j.type===k?(J=Ls(j.props.children,L.mode,J,j.key),J.return=L,L=J):(J=Xu(j.type,j.key,j.props,null,L.mode,J),il(J,j),J.return=L,L=J)}return _(L);case Q:e:{for(ge=j.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(L,O.sibling),J=h(O,j.children||[]),J.return=L,L=J;break e}else{a(L,O);break}else i(L,O);O=O.sibling}J=Ef(j,L.mode,J),J.return=L,L=J}return _(L);case w:return j=Bs(j),tt(L,O,j,J)}if(ht(j))return fe(L,O,j,J);if(U(j)){if(ge=U(j),typeof ge!="function")throw Error(s(150));return j=ge.call(j),_e(L,O,j,J)}if(typeof j.then=="function")return tt(L,O,nc(j),J);if(j.$$typeof===ae)return tt(L,O,Wu(L,j),J);ic(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(L,O.sibling),J=h(O,j),J.return=L,L=J):(a(L,O),J=vf(j,L.mode,J),J.return=L,L=J),_(L)):a(L,O)}return function(L,O,j,J){try{nl=0;var ge=tt(L,O,j,J);return Va=null,ge}catch(me){if(me===Oa||me===ec)throw me;var He=_n(29,me,null,L.mode);return He.lanes=J,He.return=L,He}}}var Hs=Lg(!0),Pg=Lg(!1),Nr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(t),Eg(t,null,a),i}return Yu(t,l,i,a),Qu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}function xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var kf=!1;function sl(){if(kf){var t=Na;if(t!==null)throw t}}function al(t,i,a,l){kf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=D))}if(d!==null){var Z=h.baseState;_=0,$=B=D=null,T=d;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(Me&F)===F:(l&F)===F){F!==0&&F===Da&&(kf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;F=i;var tt=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){Z=fe.call(tt,Z,F);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(tt,Z,F):fe,F==null)break e;Z=S({},Z,F);break e;case 2:Nr=!0}}F=T.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=Y,D=Z):$=$.next=Y,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Pr|=_,t.lanes=_,t.memoizedState=Z}}function Ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var Ma=M(null),rc=M(0);function jg(t,i){t=Zi,G(rc,t),G(Ma,i),Zi=t|i.baseLanes}function Lf(){G(rc,Zi),G(Ma,Ma.current)}function Pf(){Zi=rc.current,W(Ma),W(rc)}var vn=M(null),Un=null;function Mr(t){var i=t.alternate;G(yt,yt.current&1),G(vn,t),Un===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Un=t)}function Uf(t){G(yt,yt.current),G(vn,t),Un===null&&(Un=t)}function Bg(t){t.tag===22?(G(yt,yt.current),G(vn,t),Un===null&&(Un=t)):xr()}function xr(){G(yt,yt.current),G(vn,vn.current)}function En(t){W(vn),Un===t&&(Un=null),W(yt)}var yt=M(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,De=null,Ze=null,wt=null,ac=!1,xa=!1,Fs=!1,oc=0,ol=0,ka=null,RA=0;function dt(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function jf(t,i,a,l,h,d){return Gi=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?by:td,Fs=!1,d=a(l,h),Fs=!1,xa&&(d=Hg(i,a,l,h)),qg(t),d}function qg(t){X.H=cl;var i=Ze!==null&&Ze.next!==null;if(Gi=0,wt=Ze=De=null,ac=!1,ol=0,ka=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Ju(t)&&(Rt=!0))}function Hg(t,i,a,l){De=t;var h=0;do{if(xa&&(ka=null),ol=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=wy,d=i(a,l)}while(xa);return d}function CA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(De.flags|=1024),i}function Bf(){var t=oc!==0;return oc=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Gi=0,wt=Ze=De=null,xa=!1,ol=oc=0,ka=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?De.memoizedState=wt=t:wt=wt.next=t,wt}function _t(){if(Ze===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=wt===null?De.memoizedState:wt.next;if(i!==null)wt=i,Ze=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?De.memoizedState=wt=t:wt=wt.next=t}return wt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,ka===null&&(ka=[]),t=Mg(ka,t,i),i=De,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?by:td),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ae)return Ft(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=_t();return Gf(i,Ze,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,B=i,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Me&Z)===Z:(Gi&Z)===Z){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Da&&($=!0);else if((Gi&F)===F){B=B.next,F===Da&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=Z,_=d):D=D.next=Z,De.lanes|=F,Pr|=F;Z=B.action,Fs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else F={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=F,_=d):D=D.next=F,De.lanes|=Z,Pr|=Z;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!yn(d,t.memoizedState)&&(Rt=!0,$&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Fg(t,i,a){var l=De,h=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,Xf(Yg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Kg.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(Gi&127)!==0||Gg(l,i,a)}return a}function Gg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=lc(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Kg(t,i,a,l){i.value=a,i.getSnapshot=l,Qg(i)&&Xg(t)}function Yg(t,i,a){return a(function(){Qg(i)&&Xg(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Xg(t){var i=ks(t,2);i!==null&&hn(i,t,2)}function Yf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Fs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function $g(t,i,a,l){return t.baseState=a,Gf(t,Ze,typeof l=="function"?l:Ki)}function IA(t,i,a,l,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(h,l),D=X.S;D!==null&&D(_,T),Wg(t,i,T)}catch(B){Qf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,l),Wg(t,i,d)}catch(B){Qf(t,i,B)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zg(t,i,l)},function(l){return Qf(t,i,l)}):Zg(t,i,a)}function Zg(t,i,a){i.status="fulfilled",i.value=a,ey(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Jg(t,a)))}function Qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ey(i),i=i.next;while(i!==l)}t.action=null}function ey(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ty(t,i){return i}function ny(t,i){if(ze){var a=nt.formState;if(a!==null){e:{var l=De;if(ze){if(st){t:{for(var h=st,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=zn(h.nextSibling),l=h.data==="F!";break e}}Ir(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:i},a.queue=l,a=Ty.bind(null,De,l),l.dispatch=a,l=Yf(!1),d=ed.bind(null,De,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=IA.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function iy(t){var i=_t();return ry(i,Ze,t)}function ry(t,i,a){if(i=Gf(t,i,ty)[0],t=cc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(_){throw _===Oa?ec:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,La(9,{destroy:void 0},DA.bind(null,h,a),null)),[l,d,t]}function DA(t,i){t.action=i}function sy(t){var i=_t(),a=Ze;if(a!==null)return ry(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=lc(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ay(){return _t().memoizedState}function hc(t,i,a,l){var h=rn();De.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function fc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&zf(l,Ze.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(De.flags|=t,h.memoizedState=La(1|i,d,a,l))}function oy(t,i){hc(8390656,8,t,i)}function Xf(t,i){fc(2048,8,t,i)}function NA(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=lc(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ly(t){var i=_t().memoizedState;return NA({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function uy(t,i){return fc(4,2,t,i)}function cy(t,i){return fc(4,4,t,i)}function hy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function fy(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,hy.bind(null,i,t),a)}function $f(){}function dy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function my(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=t(),Fs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function Jf(t,i,a){return a===void 0||(Gi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=p_(),De.lanes|=t,Pr|=t,a)}function py(t,i,a,l){return yn(a,i)?a:Ma.current!==null?(t=Jf(t,a,l),yn(t,i)||(Rt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=p_(),De.lanes|=t,Pr|=t,i)}function gy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,ed(t,!1,i,a);try{var D=h(),B=X.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=wA(D,l);ul(t,i,$,An(t))}else ul(t,i,l,An(t))}catch(Z){ul(t,i,{then:function(){},status:"rejected",reason:Z},An())}finally{oe.p=d,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function OA(){}function Wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=yy(t).queue;gy(t,h,i,pe,a===null?OA:function(){return _y(t),a(l)})}function yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _y(t){var i=yy(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},An())}function Zf(){return Ft(Rl)}function vy(){return _t().memoizedState}function Ey(){return _t().memoizedState}function VA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Or(a);var l=Vr(i,t,a);l!==null&&(hn(l,i,a),rl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function MA(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?Sy(i,a):(a=yf(t,i,a,l),a!==null&&(hn(a,t,l),Ay(a,i,l)))}function Ty(t,i,a){var l=An();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Sy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return Yu(t,i,h,0),nt===null&&Ku(),!1}catch{}if(a=yf(t,i,h,l),a!==null)return hn(a,t,l),Ay(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=yf(t,a,l,2),i!==null&&hn(i,t,2)}function dc(t){var i=t.alternate;return t===De||i!==null&&i===De}function Sy(t,i){xa=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}var cl={readContext:Ft,use:uc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};cl.useEffectEvent=dt;var by={readContext:Ft,use:uc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,hy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Fs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Fs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=MA.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Yf(t);var i=t.queue,a=Ty.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=rn();return Jf(a,t,i)},useTransition:function(){var t=Yf(!1);return t=gy.bind(null,De,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=rn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Me&127)!==0||Gg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,oy(Yg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Kg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=nt.identifierPrefix;if(ze){var a=Ri,l=wi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=RA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:ny,useActionState:ny,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return rn().memoizedState=VA.bind(null,De)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:Ft,use:uc,useCallback:dy,useContext:Ft,useEffect:Xf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:cc,useRef:ay,useState:function(){return cc(Ki)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return py(a,Ze.memoizedState,t,i)},useTransition:function(){var t=cc(Ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:Zf,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=_t();return $g(a,Ze,t,i)},useMemoCache:Ff,useCacheRefresh:Ey};td.useEffectEvent=ly;var wy={readContext:Ft,use:uc,useCallback:dy,useContext:Ft,useEffect:Xf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:Kf,useRef:ay,useState:function(){return Kf(Ki)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return Ze===null?Jf(a,t,i):py(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Kf(Ki)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:Zf,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=_t();return Ze!==null?$g(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:Ey};wy.useEffectEvent=ly;function nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(hn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(hn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(hn(i,t,a),rl(i,t,a))}};function Ry(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function Cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&id.enqueueReplaceState(i,i.state,null)}function Gs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Iy(t){Gu(t)}function Dy(t){console.error(t)}function Ny(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Vy(t){return t=Or(t),t.tag=3,t}function My(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function xA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Rc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(s(435,a.tag))}return Dd(t,l,h),Rc(),!1}if(ze)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),Zo(xn(t,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),Zo(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=rd(t.stateNode,l,h),xf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),_l===null?_l=[d]:_l.push(d),mt!==4&&(mt=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,l,t),xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),My(h,t,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Rt=!1;function Gt(t,i,a,l){i.child=t===null?Pg(i,null,a,l):Hs(i,t.child,a,l)}function xy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return zs(i),l=jf(t,i,a,_,d,h),T=Bf(),t!==null&&!Rt?(qf(t,i,h),Yi(t,i,h)):(ze&&T&&Tf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!dd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ly(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return ad(t,i,a,l,h)}function Py(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Uy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?jg(i,d):Lf(),Bg(i);else return l=i.lanes=536870912,Uy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),jg(i,d),xr(),i.memoizedState=null):(t!==null&&Zu(i,null),Lf(),xr());return Gt(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Uy(t,i,a,l,h){var d=Nf();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zu(i,null),Lf(),Bg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zy(t,i,a){return Hs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function kA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=pc(i,l),i.lanes=536870912,hl(null,t);if(Uf(i),(t=st)?(t=J_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw Ir(i);return i.lanes=536870912,null}return pc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Uf(i),h)if(i.flags&256)i.flags&=-257,i=zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=nt,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ks(t,_),hn(l,t,_),sd;Rc(),i=zy(t,i,a)}else t=d.treeContext,st=zn(_.nextSibling),Ht=i,ze=!0,Cr=null,Pn=!1,t!==null&&wg(i,t),i=pc(i,l),i.flags|=4096;return i}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,l,h){return zs(i),a=jf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!Rt?(qf(t,i,h),Yi(t,i,h)):(ze&&l&&Tf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function jy(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=Hg(i,l,a,h),qg(t),l=Bf(),t!==null&&!Rt?(qf(t,i,d),Yi(t,i,d)):(ze&&l&&Tf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function By(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Gs(a,T);d.props=D;var B=d.context,$=a.contextType;_=ba,typeof $=="object"&&$!==null&&(_=Ft($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Cy(i,d,l,_),Nr=!1;var F=i.memoizedState;d.state=F,al(i,l,d,h),sl(),B=i.memoizedState,T||F!==B||Nr?(typeof Z=="function"&&(nd(i,a,Z,l),B=i.memoizedState),(D=Nr||Ry(i,a,D,l,F,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),_=i.memoizedProps,$=Gs(a,_),d.props=$,Z=i.pendingProps,F=d.context,B=a.contextType,D=ba,typeof B=="object"&&B!==null&&(D=Ft(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||F!==D)&&Cy(i,d,l,D),Nr=!1,F=i.memoizedState,d.state=F,al(i,l,d,h),sl();var Y=i.memoizedState;_!==Z||F!==Y||Nr||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&(nd(i,a,T,l),Y=i.memoizedState),($=Nr||Ry(i,a,$,l,F,Y,D)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Hs(i,t.child,null,h),i.child=Hs(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yi(t,i,h),t}function qy(t,i,a,l){return Ps(),i.flags|=256,Gt(t,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Og()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Hy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Mr(i):xr(),(t=st)?(t=J_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,Ht=i,st=null)):t=null,t===null)throw Ir(i);return Gd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xr(),h=i.mode,T=yc({mode:"hidden",children:T},h),l=Ls(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),i.memoizedState=od,hl(null,l)):(Mr(i),cd(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Mr(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(xr(),i.child=t.child,i.flags|=128,i=null):(xr(),T=l.fallback,h=i.mode,l=yc({mode:"visible",children:l.children},h),T=Ls(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Hs(i,t.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),i.memoizedState=od,i=hl(null,l));else if(Mr(i),Gd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=hd(t,i,a)}else if(Rt||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=nt,_!==null&&(l=Vo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ks(t,l),hn(_,t,l),sd;Fd(T)||Rc(),i=hd(t,i,a)}else Fd(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,st=zn(T.nextSibling),Ht=i,ze=!0,Cr=null,Pn=!1,t!==null&&wg(i,t),i=cd(i,l.children),i.flags|=4096);return i}return h?(xr(),T=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=Bi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=Bi(B,T):(T=Ls(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,hl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=ld(a):(h=T.cachePool,h!==null?(D=bt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Og(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ud(t,_,a),i.memoizedState=od,hl(t.child,l)):(Mr(i),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function hd(t,i,a){return Hs(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function fd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Gy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,G(yt,_),Gt(t,i,l,a),l=ze?Wo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fy(t,a,i);else if(t.tag===19)Fy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(i,!0,a,null,d,l);break;case"together":fd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function LA(t,i,a){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),Dr(i,bt,t.memoizedState.cache),Ps();break;case 27:case 5:kt(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hy(t,i,a):(Mr(i),t=Yi(t,i,a),t!==null?t.sibling:null);Mr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Gy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Py(t,i,a,i.pendingProps);case 24:Dr(i,bt,t.memoizedState.cache)}return Yi(t,i,a)}function Ky(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return Rt=!1,LA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(i.flags&1048576)!==0&&bg(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Bs(i.elementType),i.type=t,typeof t=="function")_f(t)?(l=Gs(t,l),i.tag=1,i=By(null,i,t,l,a)):(i.tag=0,i=ad(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ce){i.tag=11,i=xy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=ky(null,i,t,l,a);break e}}throw i=it(t)||t,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Gs(l,i.pendingProps),By(t,i,l,h,a);case 3:e:{if(Ye(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,bt,l),l!==d.cache&&Cf(i,[bt],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=qy(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),Zo(h),i=qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=zn(t.firstChild),Ht=i,ze=!0,Cr=null,Pn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),l===h){i=Yi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Mc(he.current).createElement(a),l[Tt]=i,l[Lt]=t,Kt(l,a,t),St(l),i.stateNode=l):i.memoizedState=iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return kt(i),t===null&&ze&&(l=i.stateNode=ev(i.type,i.pendingProps,he.current),Ht=i,Pn=!0,h=st,qr(i.type)?(Kd=h,st=zn(l.firstChild)):st=h),Gt(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=st)&&(l=fb(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ht=i,st=zn(l.firstChild),Pn=!1,h=!0):h=!1),h||Ir(i)),kt(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(t,i,CA,null,null,a),Rl._currentValue=h),gc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=st)&&(a=db(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ht=i,st=null,t=!0):t=!1),t||Ir(i)),null;case 13:return Hy(t,i,a);case 4:return Ye(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Hs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return xy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return ky(t,i,i.type,i.pendingProps,a);case 15:return Ly(t,i,i.type,i.pendingProps,a);case 19:return Gy(t,i,a);case 31:return kA(t,i,a);case 22:return Py(t,i,a,i.pendingProps);case 24:return zs(i),l=Ft(bt),t===null?(h=Nf(),h===null&&(h=nt,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Dr(i,bt,h)):((t.lanes&a)!==0&&(Mf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,bt,l)):(l=d.cache,Dr(i,bt,l),l!==h.cache&&Cf(i,[bt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function md(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(v_())t.flags|=8192;else throw qs=tc,Of}else t.flags&=-16777217}function Yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(i))if(v_())t.flags|=8192;else throw qs=tc,Of}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?bu():536870912,t.lanes|=i,ja|=i)}function fl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function PA(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(bt),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(at(i),Yy(i,d)):(at(i),md(i,h,null,l,a))):d?d!==t.memoizedState?(Qi(i),at(i),Yy(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),at(i),md(i,h,t,l,a)),null;case 27:if(hr(i),a=he.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=te.current,Ca(i)?Rg(i):(t=ev(h,l,a),i.stateNode=t,Qi(i))}return at(i),null;case 5:if(hr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=te.current,Ca(i))Rg(i);else{var _=Mc(he.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return at(i),md(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=he.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H_(t.nodeValue,a)),t||Ir(i,!0)}else t=Mc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),at(i),null);case 4:return Te(),t===null&&Ld(i.stateNode.containerInfo),at(i),null;case 10:return Fi(i.type),at(i),null;case 19:if(W(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Tg(a,t),a=a.sibling;return G(yt,yt.current&1|2),ze&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Ac&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*tn()-l.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,G(yt,h?a&1|2:a&1),ze&&qi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return En(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(bt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function UA(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(bt),Te(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hr(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(yt),null;case 4:return Te(),null;case 10:return Fi(i.type),null;case 22:case 23:return En(i),Pf(),t!==null&&W(js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(bt),null;case 25:return null;default:return null}}function Qy(t,i){switch(Sf(i),i.tag){case 3:Fi(bt),Te();break;case 26:case 27:case 5:hr(i);break;case 4:Te();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:W(yt);break;case 10:Fi(i.type);break;case 22:case 23:En(i),Pf(),t!==null&&W(js);break;case 24:Fi(bt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,B=T;try{B()}catch($){Je(h,D,$)}}}l=l.next}while(l!==d)}}catch($){Je(i,i.return,$)}}function Xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){Je(t,t.return,l)}}}function $y(t,i,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function pd(t,i,a){try{var l=t.stateNode;ab(l,t.type,a,i),l[Lt]=i}catch(h){Je(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qr(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(yd(t,i,a),t=t.sibling;t!==null;)yd(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function Zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[Tt]=t,i[Lt]=a}catch(d){Je(t,t.return,d)}}var Xi=!1,Ct=!1,_d=!1,e_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function zA(t,i){if(t=t.containerInfo,zd=jc,t=fg(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,$=0,Z=t,F=null;t:for(;;){for(var Y;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(D=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)F=Z,Z=Y;for(;;){if(Z===t)break t;if(F===a&&++B===h&&(T=_),F===d&&++$===l&&(D=_),(Y=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Y}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},jc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Gs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function t_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&dl(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=Gs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&Xy(a),l&512&&ml(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&Zy(a);case 26:case 5:Ji(t,a),i===null&&l&4&&Jy(a),l&512&&ml(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&r_(t,a);break;case 13:Ji(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QA.bind(null,a),mb(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Xi;var d=Ct;Xi=l,(Ct=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=h,Ct=d}break;case 30:break;default:Ji(t,a)}}function n_(t){var i=t.alternate;i!==null&&(t.alternate=null,n_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function $i(t,i,a){for(a=a.child;a!==null;)i_(t,i,a),a=a.sibling}function i_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ct||Ci(a,i),$i(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ci(a,i);var l=lt,h=on;qr(a.type)&&(lt=a.stateNode,on=!1),$i(t,i,a),Al(a.stateNode),lt=l,on=h;break;case 5:Ct||Ci(a,i);case 6:if(l=lt,h=on,lt=null,$i(t,i,a),lt=l,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:lt!==null&&(on?(t=lt,X_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):X_(lt,a.stateNode));break;case 4:l=lt,h=on,lt=a.stateNode.containerInfo,on=!0,$i(t,i,a),lt=l,on=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),Ct||kr(4,a,i),$i(t,i,a);break;case 1:Ct||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,i,l)),$i(t,i,a);break;case 21:$i(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,$i(t,i,a),Ct=l;break;default:$i(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Je(i,i.return,a)}}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Je(i,i.return,a)}}function jA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new e_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new e_),i;default:throw Error(s(435,t.tag))}}function Ec(t,i){var a=jA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=XA.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(qr(T.type)){lt=T.stateNode,on=!1;break e}break;case 5:lt=T.stateNode,on=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(lt===null)throw Error(s(160));i_(d,_,h),lt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)a_(i,t),i=i.sibling}var Wn=null;function a_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(kr(3,t,t.return),dl(3,t),kr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Ct||a===null||Ci(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(ln(i,t),un(t),l&512&&(Ct||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var _=av("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=av("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ov(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Ct||a===null||Ci(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Ct||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(fe){Je(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Je(t,t.return,fe)}}break;case 3:if(Lc=null,h=Wn,Wn=xc(i.containerInfo),ln(i,t),Wn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(fe){Je(t,t.return,fe)}_d&&(_d=!1,o_(t));break;case 4:l=Wn,Wn=xc(t.stateNode.containerInfo),ln(i,t),un(t),Wn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Xi,$=Ct;if(Xi=B||h,Ct=$||D,ln(i,t),Ct=$,Xi=B,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Xi||Ct||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var Z=D.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Je(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){Je(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var Y=D.stateNode;h?$_(Y,!0):$_(D.stateNode,!1)}catch(fe){Je(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ec(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ec(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(t);vc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=gd(t);vc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=gd(t);yd(t,B,D);break;default:throw Error(s(161))}}catch($){Je(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function o_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;o_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t_(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Ks(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$y(i,i.return,a),Ks(i);break;case 27:Al(i.stateNode);case 26:case 5:Ci(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),dl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Je(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ug(D[h],T)}catch(B){Je(l,l.return,B)}}a&&_&64&&Xy(d),ml(d,d.return);break;case 27:Zy(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&Jy(d),ml(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&r_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&s_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),ml(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(t,i,a,l),i=i.sibling}function l_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),h&2048&&dl(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):pl(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,Pa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vd(_,i);break;case 24:Zn(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:Zn(t,i,a,l)}}function Pa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,T,D,h),dl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Pa(d,_,T,D,h):pl(d,_):($._visibility|=2,Pa(d,_,T,D,h)),h&&B&2048&&vd(_.alternate,_);break;case 24:Pa(d,_,T,D,h),h&&B&2048&&Ed(_.alternate,_);break;default:Pa(d,_,T,D,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&vd(l.alternate,l);break;case 24:pl(a,l),h&2048&&Ed(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Ua(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)u_(t,i,a),t=t.sibling}function u_(t,i,a){switch(t.tag){case 26:Ua(t,i,a),t.flags&gl&&t.memoizedState!==null&&Rb(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,i,a);break;case 3:case 4:var l=Wn;Wn=xc(t.stateNode.containerInfo),Ua(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Ua(t,i,a),gl=l):Ua(t,i,a));break;default:Ua(t,i,a)}}function c_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,f_(l,t)}c_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h_(t),t=t.sibling}function h_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):yl(t);break;default:yl(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,f_(l,t)}c_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function f_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(n_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var BA={getCacheForType:function(t){var i=Ft(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(bt).controller.signal}},qA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Oe=null,Me=0,$e=0,Tn=null,Lr=!1,za=!1,Td=!1,Zi=0,mt=0,Pr=0,Ys=0,Sd=0,Sn=0,ja=0,_l=null,cn=null,Ad=!1,Sc=0,d_=0,Ac=1/0,bc=null,Ur=null,Vt=0,zr=null,Ba=null,er=0,bd=0,wd=null,m_=null,vl=0,Rd=null;function An(){return(Ke&2)!==0&&Me!==0?Me&-Me:X.T!==null?Vd():wu()}function p_(){if(Sn===0)if((Me&536870912)===0||ze){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Sn=t}else Sn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Sn}function hn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(qa(t,0),jr(t,Me,Sn,!1)),Ts(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Ys|=a),mt===4&&jr(t,Me,Sn,!1)),Ii(t))}function g_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?GA(t,i):Id(t,i,!0),d=l;do{if(h===0){za&&!l&&jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!HA(a)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=_l;var D=T.current.memoizedState.isDehydrated;if(D&&(qa(T,_).flags|=256),_=Id(T,_,!1),_!==2){if(Td&&!D){T.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),jr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,Sn,!Lr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-tn(),10<h)){if(jr(l,i,Sn,!Lr),ci(l,0,!0)!==0)break e;er=i,l.timeoutHandle=Y_(y_.bind(null,l,a,cn,bc,Ad,i,Sn,Ys,ja,Lr,d,"Throttled",-0,0),h);break e}y_(l,a,cn,bc,Ad,i,Sn,Ys,ja,Lr,d,null,-0,0)}}break}while(!0);Ii(t)}function y_(t,i,a,l,h,d,_,T,D,B,$,Z,F,Y){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},u_(i,d,Z);var fe=(d&62914560)===d?Sc-tn():(d&4194048)===d?d_-tn():0;if(fe=Cb(Z,fe),fe!==null){er=d,t.cancelPendingCommit=fe(w_.bind(null,t,i,d,a,l,h,_,T,D,$,Z,null,F,Y)),jr(t,d,_,!B);return}}w_(t,i,d,a,l,h,_,T,D)}function HA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(t,i,a,l){i&=~Sd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ss(t,a,i)}function wc(){return(Ke&6)===0?(El(0),!1):!0}function Cd(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,Hi=Us=null,Hf(t),Va=null,nl=0,t=Oe;for(;t!==null;)Qy(t.alternate,t),t=t.return;Oe=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ub(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),er=0,Cd(),nt=t,Oe=a=Bi(t.current,null),Me=i,$e=0,Tn=null,Lr=!1,za=Hn(t,i),Td=!1,ja=Sn=Sd=Ys=Pr=mt=0,cn=_l=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return Zi=i,Ku(),a}function __(t,i){De=null,X.H=cl,i===Oa||i===ec?(i=xg(),$e=3):i===Of?(i=xg(),$e=4):$e=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(mt=1,mc(t,xn(i,t.current)))}function v_(){var t=vn.current;return t===null?!0:(Me&4194048)===Me?Un===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Un:!1}function E_(){var t=X.H;return X.H=cl,t===null?cl:t}function T_(){var t=X.A;return X.A=BA,t}function Rc(){mt=4,Lr||(Me&4194048)!==Me&&vn.current!==null||(za=!0),(Pr&134217727)===0&&(Ys&134217727)===0||nt===null||jr(nt,Me,Sn,!1)}function Id(t,i,a){var l=Ke;Ke|=2;var h=E_(),d=T_();(nt!==t||Me!==i)&&(bc=null,qa(t,i)),i=!1;var _=mt;e:do try{if($e!==0&&Oe!==null){var T=Oe,D=Tn;switch($e){case 8:Cd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var B=$e;if($e=0,Tn=null,Ha(t,T,D,B),a&&za){_=0;break e}break;default:B=$e,$e=0,Tn=null,Ha(t,T,D,B)}}FA(),_=mt;break}catch($){__(t,$)}while(!0);return i&&t.shellSuspendCounter++,Hi=Us=null,Ke=l,X.H=h,X.A=d,Oe===null&&(nt=null,Me=0,Ku()),_}function FA(){for(;Oe!==null;)S_(Oe)}function GA(t,i){var a=Ke;Ke|=2;var l=E_(),h=T_();nt!==t||Me!==i?(bc=null,Ac=tn()+500,qa(t,i)):za=Hn(t,i);e:do try{if($e!==0&&Oe!==null){i=Oe;var d=Tn;t:switch($e){case 1:$e=0,Tn=null,Ha(t,i,d,1);break;case 2:case 9:if(Vg(d)){$e=0,Tn=null,A_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ii(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Vg(d)?($e=0,Tn=null,A_(i)):($e=0,Tn=null,Ha(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(_?lv(_):T.stateNode.complete){$e=0,Tn=null;var D=T.sibling;if(D!==null)Oe=D;else{var B=T.return;B!==null?(Oe=B,Cc(B)):Oe=null}break t}}$e=0,Tn=null,Ha(t,i,d,5);break;case 6:$e=0,Tn=null,Ha(t,i,d,6);break;case 8:Cd(),mt=6;break e;default:throw Error(s(462))}}KA();break}catch($){__(t,$)}while(!0);return Hi=Us=null,X.H=l,X.A=h,Ke=a,Oe!==null?0:(nt=null,Me=0,Ku(),mt)}function KA(){for(;Oe!==null&&!rf();)S_(Oe)}function S_(t){var i=Ky(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Cc(t):Oe=i}function A_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=jy(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=jy(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Hf(i);default:Qy(a,i),i=Oe=Tg(i,Zi),i=Ky(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Cc(t):Oe=i}function Ha(t,i,a,l){Hi=Us=null,Hf(i),Va=null,nl=0;var h=i.return;try{if(xA(t,h,i,a,Me)){mt=1,mc(t,xn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;mt=1,mc(t,xn(a,t.current)),Oe=null;return}i.flags&32768?(ze||l===1?t=!0:za||(Me&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(i,t)):Cc(i)}function Cc(t){var i=t;do{if((i.flags&32768)!==0){b_(i,Lr);return}t=i.return;var a=PA(i.alternate,i,Zi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);mt===0&&(mt=5)}function b_(t,i){do{var a=UA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function w_(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Ic();while(Vt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,of(t,a,d,_,T,D),t===nt&&(Oe=nt=null,Me=0),Ba=i,zr=t,er=a,bd=d,wd=h,m_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$A(gr,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,_=Ke,Ke|=4;try{zA(t,i,a)}finally{Ke=_,oe.p=h,X.T=l}}Vt=1,R_(),C_(),I_()}}function R_(){if(Vt===1){Vt=0;var t=zr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{a_(i,t);var d=jd,_=fg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&hg(T.ownerDocument.documentElement,T)){if(D!==null&&hf(T)){var B=D.start,$=D.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Y=F.getSelection(),fe=T.textContent.length,_e=Math.min(D.start,fe),tt=D.end===void 0?_e:Math.min(D.end,fe);!Y.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var L=cg(T,_e),O=cg(T,tt);if(L&&O&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var j=Z.createRange();j.setStart(L.node,L.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(j),Y.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),Y.addRange(j))}}}}for(Z=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}jc=!!zd,jd=zd=null}finally{Ke=h,oe.p=l,X.T=a}}t.current=i,Vt=2}}function C_(){if(Vt===2){Vt=0;var t=zr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{t_(t,i.alternate,i)}finally{Ke=h,oe.p=l,X.T=a}}Vt=3}}function I_(){if(Vt===4||Vt===3){Vt=0,_u();var t=zr,i=Ba,a=er,l=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ba=zr=null,D_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ur=null),Pi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,oe.p=h}}(er&3)!==0&&Ic(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rd?vl++:(vl=0,Rd=t):vl=0,El(0)}}function D_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Ic(){return R_(),C_(),I_(),N_()}function N_(){if(Vt!==5)return!1;var t=zr,i=bd;bd=0;var a=Pi(er),l=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=wd,wd=null;var d=zr,_=er;if(Vt=0,Ba=zr=null,er=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,h_(d.current),l_(d,d.current,_,a),Ke=T,El(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{oe.p=h,X.T=l,D_(t,i)}}function O_(t,i,a){i=xn(a,i),i=rd(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(Ts(t,2),Ii(t))}function Je(t,i,a){if(t.tag===3)O_(t,t,a);else for(;i!==null;){if(i.tag===3){O_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=xn(a,t),a=Vy(2),l=Vr(i,a,2),l!==null&&(My(a,l,i,t),Ts(l,2),Ii(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),t=YA.bind(null,t,i,a),i.then(t,t))}function YA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>tn()-Sc?(Ke&2)===0&&qa(t,0):Sd|=a,ja===Me&&(ja=0)),Ii(t)}function V_(t,i){i===0&&(i=bu()),t=ks(t,i),t!==null&&(Ts(t,i),Ii(t))}function QA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),V_(t,a)}function XA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),V_(t,a)}function $A(t,i){return Ot(t,i)}var Dc=null,Fa=null,Nd=!1,Nc=!1,Od=!1,Br=0;function Ii(t){t!==Fa&&t.next===null&&(Fa===null?Dc=Fa=t:Fa=Fa.next=t),Nc=!0,Nd||(Nd=!0,WA())}function El(t,i){if(!Od&&Nc){Od=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Me,d=ci(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Od=!1}}function JA(){M_()}function M_(){Nc=Nd=!1;var t=0;Br!==0&&lb()&&(t=Br);for(var i=tn(),a=null,l=Dc;l!==null;){var h=l.next,d=x_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Nc=!0)),l=h}Vt!==0&&Vt!==5||El(t),Br!==0&&(Br=0)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=af(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=Me,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&pr(l),Pi(a)){case 2:case 8:a=No;break;case 32:a=gr;break;case 268435456:a=vu;break;default:a=gr}return l=k_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=Me;return l=ci(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,i),x_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function L_(t,i){if(Ic())return null;g_(t,i,!0)}function WA(){cb(function(){(Ke&6)!==0?Ot(Do,JA):M_()})}function Vd(){if(Br===0){var t=Da;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Br=t}return Br}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function U_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ZA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?P_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ti("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var D=_?U_(h,_):new FormData(h);Wf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?U_(h,_):new FormData(h),Wf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Md=0;Md<pf.length;Md++){var xd=pf[Md],eb=xd.toLowerCase(),tb=xd[0].toUpperCase()+xd.slice(1);Jn(eb,"on"+tb)}Jn(pg,"onAnimationEnd"),Jn(gg,"onAnimationIteration"),Jn(yg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(yA,"onTransitionRun"),Jn(_A,"onTransitionStart"),Jn(vA,"onTransitionCancel"),Jn(_g,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){Gu($)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){Gu($)}h.currentTarget=null,d=D}}}}function Ve(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(j_(i,t,2,!1),a.add(l))}function kd(t,i,a){var l=0;i&&(l|=4),j_(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Oc]){t[Oc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(nb.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,kd("selectionchange",!1,i))}}function j_(t,i,a,l){switch(pv(i)){case 2:var h=Nb;break;case 8:h=Ob;break;default:h=Jd}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Pd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Sr(function(){var B=d,$=Nn(a),Z=[];e:{var F=vg.get(t);if(F!==void 0){var Y=Ti,fe=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":Y=qu;break;case"focusin":fe="focus",Y=Os;break;case"focusout":fe="blur",Y=Os;break;case"beforeblur":case"afterblur":Y=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=p;break;case pg:case gg:case yg:Y=ku;break;case _g:Y=A;break;case"scroll":case"scrollend":Y=Go;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ji;break;case"toggle":case"beforetoggle":Y=Ie}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var O=B,j;O!==null;){var J=O;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||L===null||(J=Yn(O,L),J!=null&&_e.push(Sl(O,J,j))),tt)break;O=O.return}0<_e.length&&(F=new Y(F,fe,null,a,$),Z.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==qo&&(fe=a.relatedTarget||a.fromElement)&&(mi(fe)||fe[fi]))break e;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=B,fe=fe?mi(fe):null,fe!==null&&(tt=u(fe),_e=fe.tag,fe!==tt||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Y=null,fe=B),Y!==fe)){if(_e=Ko,J="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ji,J="onPointerLeave",L="onPointerEnter",O="pointer"),tt=Y==null?F:pn(Y),j=fe==null?F:pn(fe),F=new _e(J,O+"leave",Y,a,$),F.target=tt,F.relatedTarget=j,J=null,mi($)===B&&(_e=new _e(L,O+"enter",fe,a,$),_e.target=j,_e.relatedTarget=tt,J=_e),tt=J,Y&&fe)t:{for(_e=ib,L=Y,O=fe,j=0,J=L;J;J=_e(J))j++;J=0;for(var ge=O;ge;ge=_e(ge))J++;for(;0<j-J;)L=_e(L),j--;for(;0<J-j;)O=_e(O),J--;for(;j--;){if(L===O||O!==null&&L===O.alternate){_e=L;break t}L=_e(L),O=_e(O)}_e=null}else _e=null;Y!==null&&B_(Z,F,Y,_e,!1),fe!==null&&tt!==null&&B_(Z,tt,fe,_e,!0)}}e:{if(F=B?pn(B):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var He=rg;else if(ng(F))if(sg)He=mA;else{He=fA;var me=hA}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&da(B.elementType)&&(He=rg):He=dA;if(He&&(He=He(t,B))){ig(Z,He,a,$);break e}me&&me(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&zo(F,"number",F.value)}switch(me=B?pn(B):window,t){case"focusin":(ng(me)||me.contentEditable==="true")&&(Ta=me,ff=B,Jo=null);break;case"focusout":Jo=ff=Ta=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,dg(Z,a,$);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":dg(Z,a,$)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ea?Vs(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(bi&&a.locale!=="ko"&&(Ea||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ea&&(Ne=Fo()):(Ei=$,Ho="value"in Ei?Ei.value:Ei.textContent,Ea=!0)),me=Vc(B,xe),0<me.length&&(xe=new Ai(xe,t,null,a,$),Z.push({event:xe,listeners:me}),Ne?xe.data=Ne:(Ne=va(a),Ne!==null&&(xe.data=Ne)))),(Ne=Vn?oA(t,a):lA(t,a))&&(xe=Vc(B,"onBeforeInput"),0<xe.length&&(me=new Ai("onBeforeInput","beforeinput",null,a,$),Z.push({event:me,listeners:xe}),me.data=Ne)),ZA(Z,t,B,a,$)}z_(Z,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Yn(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ib(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=Yn(a,d),B!=null&&_.unshift(Sl(a,B,D))):h||(B=Yn(a,d),B!=null&&_.push(Sl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var rb=/\r\n?/g,sb=/\u0000|\uFFFD/g;function q_(t){return(typeof t=="string"?t:""+t).replace(rb,`
`).replace(sb,"")}function H_(t,i){return i=q_(i),q_(t)===i}function et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,ha(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,_,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:et(t,i,l,$,a,null)}}Du(t,d,T,D,B,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?_r(t,!!l,i,!1):a!=null&&_r(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(t,i,_,T,a,null)}vr(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,D,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ve(Tl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,B,l,a,null)}return;default:if(da(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Ud(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,i,T,l,a,null))}function ab(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,B=null,$=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,Z)}}for(var F in l){var Y=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(Y!=null||Z!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&et(t,i,F,Y,l,Z)}}fa(t,_,T,D,B,$,d,h);return;case"select":Y=_=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||et(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&et(t,i,h,d,l,D)}i=T,a=_,l=Y,F!=null?_r(t,!!a,F,!1):!!l!=!!a&&(i!=null?_r(t,!!a,i,!0):_r(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,_,h,l,d)}Nu(t,F,Y);return;case"option":for(var fe in a)F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:et(t,i,fe,null,l,F));for(D in l)F=l[D],Y=a[D],l.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null)&&(D==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":et(t,i,D,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,F);for(B in l)if(F=l[B],Y=a[B],l.hasOwnProperty(B)&&F!==Y&&(F!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:et(t,i,B,F,l,Y)}return;default:if(da(i)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&Ud(t,i,tt,void 0,l,F);for($ in l)F=l[$],Y=a[$],!l.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||Ud(t,i,$,F,l,Y);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&et(t,i,L,null,l,F);for(Z in l)F=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||F===Y||F==null&&Y==null||et(t,i,Z,F,l,Y)}function F_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&F_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var $=D.transferSize,Z=D.initiatorType;$&&F_(Z)&&(D=D.responseEnd,_+=$*(D<T?1:(T-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,jd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function lb(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(hb)}:Y_;function hb(t){setTimeout(function(){throw t})}function qr(t){return t==="head"}function X_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);Qa(i)}function $_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function db(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function J_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ev(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var jn=new Map,tv=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=oe.d;oe.d={f:pb,r:gb,D:yb,C:_b,L:vb,m:Eb,X:Sb,S:Tb,M:Ab};function pb(){var t=tr.f(),i=wc();return t||i}function gb(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?_y(i):tr.r(t)}var Ga=typeof document>"u"?null:document;function nv(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function yb(t){tr.D(t),nv("dns-prefetch",t,null)}function _b(t,i){tr.C(t,i),nv("preconnect",t,i)}function vb(t,i,a){tr.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ka(t);break;case"script":d=Ya(t)}jn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function Eb(t,i){tr.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!jn.has(d)&&(t=S({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Kt(l,"link",t),St(l),a.head.appendChild(l)}}}function Tb(t,i,a){tr.S(t,i,a);var l=Ga;if(l&&t){var h=pi(l).hoistableStyles,d=Ka(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(bl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&Yd(t,a);var D=_=l.createElement("link");St(D),Kt(D,"link",t),D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Sb(t,i){tr.X(t,i);var a=Ga;if(a&&t){var l=pi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=S({src:t,async:!0},i),(i=jn.get(h))&&Qd(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ab(t,i){tr.M(t,i);var a=Ga;if(a&&t){var l=pi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&Qd(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(t,i,a,l){var h=(h=he.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(bl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||bb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+sn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function bb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),St(i),t.head.appendChild(i))}function Ya(t){return'[src="'+sn(t)+'"]'}function wl(t){return"script[async]"+t}function sv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Kt(l,"style",h),kc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=rv(a),(h=jn.get(h))&&Yd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(d,"link",l),i.state.loading|=4,kc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,St(h),h):(l=a,(h=jn.get(d))&&(l=S({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,t));return i.instance}function kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function av(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function ov(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function wb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(bl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=rv(l),(h=jn.get(h))&&Yd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function Cb(t,i){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Xd===0&&(Xd=62500*ob());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(Ib,t),Uc=null,Pc.call(t))}function Ib(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Db(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function uv(t,i,a,l,h,d,_,T,D,B,$,Z){return t=new Db(t,i,a,_,D,B,$,Z,T),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function cv(t){return t?(t=ba,t):ba}function hv(t,i,a,l,h,d){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(hn(a,t,i),rl(a,t,i))}function fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){fv(t,i),(t=t.alternate)&&fv(t,i)}function dv(t){if(t.tag===13||t.tag===31){var i=ks(t,67108864);i!==null&&hn(i,t,67108864),$d(t,67108864)}}function mv(t){if(t.tag===13||t.tag===31){var i=An();i=As(i);var a=ks(t,i);a!==null&&hn(a,t,i),$d(t,i)}}var jc=!0;function Nb(t,i,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,Jd(t,i,a,l)}finally{oe.p=d,X.T=h}}function Ob(t,i,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,Jd(t,i,a,l)}finally{oe.p=d,X.T=h}}function Jd(t,i,a,l){if(jc){var h=Wd(l);if(h===null)Pd(t,i,l,Bc,a),gv(t,l);else if(Mb(h,t,i,a,l))l.stopPropagation();else if(gv(t,l),i&4&&-1<Vb.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-pt(_);T.entanglements[1]|=D,_&=~D}Ii(d),(Ke&6)===0&&(Ac=tn()+500,El(0))}}break;case 31:case 13:T=ks(d,2),T!==null&&hn(T,d,2),wc(),$d(d,2)}if(d=Wd(l),d===null&&Pd(t,i,l,Bc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,a)}}function Wd(t){return t=Nn(t),Zd(t)}var Bc=null;function Zd(t){if(Bc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case Do:return 2;case No:return 8;case gr:case sf:return 32;case vu:return 268435456;default:return 32}default:return 32}}var em=!1,Hr=null,Fr=null,Gr=null,Cl=new Map,Il=new Map,Kr=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,i){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Dl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Mb(t,i,a,l,h){switch(i){case"focusin":return Hr=Dl(Hr,t,i,a,l,h),!0;case"dragenter":return Fr=Dl(Fr,t,i,a,l,h),!0;case"mouseover":return Gr=Dl(Gr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Dl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Dl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function yv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){mv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=Dn(a),i!==null&&dv(i),t.blockedOn=a,!1;i.shift()}return!0}function _v(t,i,a){qc(t)&&a.delete(i)}function xb(){em=!1,Hr!==null&&qc(Hr)&&(Hr=null),Fr!==null&&qc(Fr)&&(Fr=null),Gr!==null&&qc(Gr)&&(Gr=null),Cl.forEach(_v),Il.forEach(_v)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xb)))}var Fc=null;function vv(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(D){return Hc(D,t)}Hr!==null&&Hc(Hr,t),Fr!==null&&Hc(Fr,t),Gr!==null&&Hc(Gr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)yv(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||vv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(Zd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),vv(a)}}}function Ev(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}Gc.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();hv(a,l,t,i,null,null)},Gc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hv(t.current,2,null,t,null,null),wc(),i[fi]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&yv(t)}};var Tv=e.version;if(Tv!=="19.2.4")throw Error(s(527,Tv,"19.2.4"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var kb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{qn=Kc.inject(kb),Bt=Kc}catch{}}return Ol.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Iy,d=Dy,_=Ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=uv(t,1,!1,null,null,a,l,null,h,d,_,Ev),t[fi]=i.current,Ld(t),new tm(i)},Ol.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Iy,_=Dy,T=Ny,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=uv(t,1,!0,i,a??null,l,h,D,d,_,T,Ev),i.context=cv(null),a=i.current,l=An(),l=As(l),h=Or(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,Ts(i,a),Ii(i),t[fi]=i.current,Ld(t),new Gc(i)},Ol.version="19.2.4",Ol}var Ov;function Gb(){if(Ov)return rm.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=Fb(),rm.exports}var Kb=Gb();var Vv="popstate";function Yb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return Xb(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ri(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qb(){return Math.random().toString(36).substring(2,10)}function Mv(r,e){return{usr:r.state,key:r.key,idx:e}}function Am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||Qb()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Xb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),ie=H==null?null:H-y;y=H,g&&g({action:m,location:k.location,delta:ie})}function b(H,ie){m="PUSH";let re=Am(k.location,H,ie);y=E()+1;let ae=Mv(re,y),Ce=k.createHref(re);try{f.pushState(ae,"",Ce)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(Ce)}u&&g&&g({action:m,location:k.location,delta:1})}function P(H,ie){m="REPLACE";let re=Am(k.location,H,ie);y=E();let ae=Mv(re,y),Ce=k.createHref(re);f.replaceState(ae,"",Ce),u&&g&&g({action:m,location:k.location,delta:0})}function Q(H){return $b(H)}let k={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,S),g=H,()=>{o.removeEventListener(Vv,S),g=null}},createHref(H){return e(o,H)},createURL:Q,encodeLocation(H){let ie=Q(H);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:b,replace:P,go(H){return f.go(H)}};return k}function $b(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yT(r,e,n="/"){return Jb(r,e,n,!1)}function Jb(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let f=_T(r);Wb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=uw(u);m=ow(f[g],y,s)}return m}function _T(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=rr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),_T(f.children,e,b,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:sw(S,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of vT(f.path))u(f,m,!0,g)}),e}function vT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=vT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Wb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:aw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Zb=/^:[\w-]+$/,ew=3,tw=2,nw=1,iw=10,rw=-2,xv=r=>r==="*";function sw(r,e){let n=r.split("/"),s=n.length;return n.some(xv)&&(s+=rw),e&&(s+=tw),n.filter(o=>!xv(o)).reduce((o,u)=>o+(Zb.test(u)?ew:u===""?nw:iw),s)}function aw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ow(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),b=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:rr([u,S.pathname]),pathnameBase:dw(rr([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=rr([u,S.pathnameBase]))}return f}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=lw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let Q=m[b]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const P=m[b];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function lw(r,e=!1,n=!0){ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function hw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=kv(n.substring(1),"/"):u=kv(n,e)):u=e,{pathname:u,search:mw(s),hash:pw(o)}}function kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=fw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let g=hw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function _w(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TT(r,e){let n=r;if(typeof n!="string"||!cw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ET)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=sr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ri(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var vw=["GET",...ST];new Set(vw);var _o=q.createContext(null);_o.displayName="DataRouter";var Lh=q.createContext(null);Lh.displayName="DataRouterState";var Ew=q.createContext(!1),AT=q.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var Tw=q.createContext(new Map);Tw.displayName="Fetchers";var Sw=q.createContext(null);Sw.displayName="Await";var wn=q.createContext(null);wn.displayName="Navigation";var iu=q.createContext(null);iu.displayName="Location";var Li=q.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var rp=q.createContext(null);rp.displayName="RouteError";var bT="REACT_ROUTER_ERROR",Aw="REDIRECT",bw="ROUTE_ERROR_RESPONSE";function ww(r){if(r.startsWith(`${bT}:${Aw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Rw(r){if(r.startsWith(`${bT}:${bw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gw(e.status,e.statusText,e.data)}catch{}}function Cw(r,{relative:e}={}){ut(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(wn),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return q.useContext(iu)!=null}function ms(){return ut(vo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(iu).location}var wT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(r){q.useContext(wn).static||q.useLayoutEffect(r)}function ru(){let{isDataRoute:r}=q.useContext(Li);return r?jw():Iw()}function Iw(){ut(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(_o),{basename:e,navigator:n}=q.useContext(wn),{matches:s}=q.useContext(Li),{pathname:o}=ms(),u=JSON.stringify(np(s)),f=q.useRef(!1);return RT(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(ri(f.current,wT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=ip(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}q.createContext(null);function su(r,{relative:e}={}){let{matches:n}=q.useContext(Li),{pathname:s}=ms(),o=JSON.stringify(np(n));return q.useMemo(()=>ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Dw(r,e){return CT(r,e)}function CT(r,e,n,s,o){ut(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(wn),{matches:f}=q.useContext(Li),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let re=S&&S.path||"";DT(y,!S||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let b=ms(),P;if(e){let re=typeof e=="string"?yo(e):e;ut(E==="/"||re.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),P=re}else P=b;let Q=P.pathname||"/",k=Q;if(E!=="/"){let re=E.replace(/^\//,"").split("/");k="/"+Q.replace(/^\//,"").split("/").slice(re.length).join("/")}let H=yT(r,{pathname:k});ri(S||H!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ri(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=xw(H&&H.map(re=>Object.assign({},re,{params:Object.assign({},g,re.params),pathname:rr([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:rr([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ie?q.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ie):ie}function Nw(){let r=zw(),e=yw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var Ow=q.createElement(Nw,null),IT=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Rw(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(Li.Provider,{value:this.props.routeContext},q.createElement(rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(Vw,{error:r},e):e}};IT.contextType=Ew;var um=new WeakMap;function Vw({children:r,error:e}){let{basename:n}=q.useContext(wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=ww(e.digest);if(s){let o=um.get(e);if(o)throw o;let u=TT(s.location,n);if(ET&&!um.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw um.set(e,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Mw({routeContext:r,match:e,children:n}){let s=q.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Li.Provider,{value:r},n)}function xw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:b,errors:P}=n,Q=S.route.loader&&!b.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||Q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_w(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,b)=>{let P,Q=!1,k=null,H=null;n&&(P=f&&S.route.id?f[S.route.id]:void 0,k=S.route.errorElement||Ow,m&&(g<0&&b===0?(DT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,H=null):g===b&&(Q=!0,H=S.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,b+1)),re=()=>{let ae;return P?ae=k:Q?ae=H:S.route.Component?ae=q.createElement(S.route.Component,null):S.route.element?ae=S.route.element:ae=E,q.createElement(Mw,{match:S,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:ae})};return n&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?q.createElement(IT,{location:n.location,revalidation:n.revalidation,component:k,error:P,children:re(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):re()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kw(r){let e=q.useContext(_o);return ut(e,sp(r)),e}function Lw(r){let e=q.useContext(Lh);return ut(e,sp(r)),e}function Pw(r){let e=q.useContext(Li);return ut(e,sp(r)),e}function ap(r){let e=Pw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Uw(){return ap("useRouteId")}function zw(){let r=q.useContext(rp),e=Lw("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function jw(){let{router:r}=kw("useNavigate"),e=ap("useNavigate"),n=q.useRef(!1);return RT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{ri(n.current,wT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Lv={};function DT(r,e,n){!e&&!Lv[r]&&(Lv[r]=!0,ri(!1,n))}q.memo(Bw);function Bw({routes:r,future:e,state:n,onError:s}){return CT(r,void 0,n,s,e)}function qw({to:r,replace:e,state:n,relative:s}){ut(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(wn);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Li),{pathname:f}=ms(),m=ru(),g=ip(r,np(u),f,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function xl(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ut(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=yo(n));let{pathname:y="/",search:E="",hash:S="",state:b=null,key:P="default"}=n,Q=q.useMemo(()=>{let k=sr(y,m);return k==null?null:{location:{pathname:k,search:E,hash:S,state:b,key:P},navigationType:s}},[m,y,E,S,b,P,s]);return ri(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:q.createElement(wn.Provider,{value:g},q.createElement(iu.Provider,{children:e,value:Q}))}function Fw({children:r,location:e}){return Dw(bm(r),e)}function bm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,bm(s.props.children,u));return}ut(s.type===xl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=bm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Ph(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Gw(r){return Ph(r)&&r.tagName.toLowerCase()==="button"}function Kw(r){return Ph(r)&&r.tagName.toLowerCase()==="form"}function Yw(r){return Ph(r)&&r.tagName.toLowerCase()==="input"}function Qw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Xw(r,e){return r.button===0&&(!e||e==="_self")&&!Qw(r)}var Yc=null;function $w(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var Jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!Jw.has(r)?(ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function Ww(r,e){let n,s,o,u,f;if(Kw(r)){let m=r.getAttribute("action");s=m?sr(m,e):null,n=r.getAttribute("method")||nh,o=cm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(Gw(r)||Yw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?sr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!$w()){let{name:y,type:E,value:S}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,S)}}else{if(Ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Zw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&sr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function e1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function n1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await e1(u,n);return f.links?f.links():[]}return[]}));return a1(s.flat(1).filter(t1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function i1(r,e,{includeHydrateFallback:n}={}){return r1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function r1(r){return[...new Set(r)]}function s1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function a1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(s1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function NT(){let r=q.useContext(_o);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function o1(){let r=q.useContext(Lh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=q.createContext(void 0);lp.displayName="FrameworkContext";function OT(){let r=q.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function l1(r,e){let n=q.useContext(lp),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,b=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let k=ie=>{ie.forEach(re=>{f(re.isIntersecting)})},H=new IntersectionObserver(k,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[r]),q.useEffect(()=>{if(s){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[s]);let P=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,P),onBlur:Vl(g,Q),onMouseEnter:Vl(y,P),onMouseLeave:Vl(E,Q),onTouchStart:Vl(S,P)}]:[!1,b,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function u1({page:r,...e}){let{router:n}=NT(),s=q.useMemo(()=>yT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(h1,{page:r,matches:s,...e}):null}function c1(r){let{manifest:e,routeModules:n}=OT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return n1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function h1({page:r,matches:e,...n}){let s=ms(),{future:o,manifest:u,routeModules:f}=OT(),{basename:m}=NT(),{loaderData:g,matches:y}=o1(),E=q.useMemo(()=>Pv(r,e,y,u,s,"data"),[r,e,y,u,s]),S=q.useMemo(()=>Pv(r,e,y,u,s,"assets"),[r,e,y,u,s]),b=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,H=!1;if(e.forEach(re=>{let ae=u.routes[re.route.id];!ae||!ae.hasLoader||(!E.some(Ce=>Ce.route.id===re.route.id)&&re.route.id in g&&f[re.route.id]?.shouldRevalidate||ae.hasClientLoader?H=!0:k.add(re.route.id))}),k.size===0)return[];let ie=Zw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&k.size>0&&ie.searchParams.set("_routes",e.filter(re=>k.has(re.route.id)).map(re=>re.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),P=q.useMemo(()=>i1(S,u),[S,u]),Q=c1(S);return q.createElement(q.Fragment,null,b.map(k=>q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),P.map(k=>q.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),Q.map(({key:k,link:H})=>q.createElement("link",{key:k,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function f1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.13.0")}catch{}function m1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=Yb({window:s,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{n===!1?m(y):q.startTransition(()=>m(y))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(Hw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MT=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b,...P},Q){let{basename:k,unstable_useTransitions:H}=q.useContext(wn),ie=typeof y=="string"&&VT.test(y),re=TT(y,k);y=re.to;let ae=Cw(y,{relative:o}),[Ce,Ae,be]=l1(s,P),R=_1(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:b,unstable_useTransitions:H});function w(x){e&&e(x),x.defaultPrevented||R(x)}let I=q.createElement("a",{...P,...be,href:re.absoluteURL||ae,onClick:re.isExternal||u?e:w,ref:f1(Q,Ae),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return Ce&&!ie?q.createElement(q.Fragment,null,I,q.createElement(u1,{page:ae})):I});MT.displayName="Link";var p1=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=su(f,{relative:y.relative}),b=ms(),P=q.useContext(Lh),{navigator:Q,basename:k}=q.useContext(wn),H=P!=null&&A1(S)&&m===!0,ie=Q.encodeLocation?Q.encodeLocation(S).pathname:S.pathname,re=b.pathname,ae=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),ae=ae?ae.toLowerCase():null,ie=ie.toLowerCase()),ae&&k&&(ae=sr(ae,k)||ae);const Ce=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Ae=re===ie||!o&&re.startsWith(ie)&&re.charAt(Ce)==="/",be=ae!=null&&(ae===ie||!o&&ae.startsWith(ie)&&ae.charAt(ie.length)==="/"),R={isActive:Ae,isPending:be,isTransitioning:H},w=Ae?e:void 0,I;typeof s=="function"?I=s(R):I=[s,Ae?"active":null,be?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(R):u;return q.createElement(MT,{...y,"aria-current":w,className:I,ref:E,style:x,to:f,viewTransition:m},typeof g=="function"?g(R):g)});p1.displayName="NavLink";var g1=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b,...P},Q)=>{let{unstable_useTransitions:k}=q.useContext(wn),H=T1(),ie=S1(m,{relative:y}),re=f.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&VT.test(m),Ce=Ae=>{if(g&&g(Ae),Ae.defaultPrevented)return;Ae.preventDefault();let be=Ae.nativeEvent.submitter,R=be?.getAttribute("formmethod")||f,w=()=>H(be||Ae.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b});k&&n!==!1?q.startTransition(()=>w()):w()};return q.createElement("form",{ref:Q,method:re,action:ie,onSubmit:s?g:Ce,...P,"data-discover":!ae&&r==="render"?"true":void 0})});g1.displayName="Form";function y1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(r){let e=q.useContext(_o);return ut(e,y1(r)),e}function _1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=ru(),E=ms(),S=su(r,{relative:u});return q.useCallback(b=>{if(Xw(b,e)){b.preventDefault();let P=n!==void 0?n:Kl(E)===Kl(S),Q=()=>y(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?q.startTransition(()=>Q()):Q()}},[E,y,S,n,s,e,r,o,u,f,m,g])}var v1=0,E1=()=>`__${String(++v1)}__`;function T1(){let{router:r}=xT("useSubmit"),{basename:e}=q.useContext(wn),n=Uw(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=Ww(u,e);if(f.navigate===!1){let b=f.fetcherKey||E1();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function S1(r,{relative:e}={}){let{basename:n}=q.useContext(wn),s=q.useContext(Li);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=ms();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Kl(u)}function A1(r,{relative:e}={}){let n=q.useContext(AT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xT("useViewTransitionState"),o=su(r,{relative:e});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}const b1=()=>{};var Uv={};const kT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},w1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(b=64)),s.push(n[E],n[S],n[b],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):w1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new R1;const b=u<<2|m>>4;if(s.push(b),y!==64){const P=m<<4&240|y>>2;if(s.push(P),S!==64){const Q=y<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C1=function(r){const e=kT(r);return LT.encodeByteArray(e,!0)},gh=function(r){return C1(r).replace(/\./g,"")},PT=function(r){try{return LT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D1=()=>I1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},O1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PT(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return b1()||D1()||N1()||O1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UT=r=>Uh()?.emulatorHosts?.[r],V1=r=>{const e=UT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zT=()=>Uh()?.config,jT=r=>Uh()?.[`_${r}`];class M1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BT(r){return(await fetch(r,{credentials:"include"})).ok}function x1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const jl={};function k1(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function L1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let zv=!1;function qT(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||jl[r]===e||jl[r]||zv)return;jl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=k1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{zv=!0,f()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=L1(s),P=n("text"),Q=document.getElementById(P)||document.createElement("span"),k=n("learnmore"),H=document.getElementById(k)||document.createElement("a"),ie=n("preprendIcon"),re=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ae=b.element;m(ae),E(H,k);const Ce=y();g(re,ie),ae.append(re,Q,H,Ce),document.body.appendChild(ae)}u?(Q.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function U1(){const r=Uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q1(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function H1(){return!U1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F1(){try{return typeof indexedDB=="object"}catch{return!1}}function G1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const K1="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=K1,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Y1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function Y1(r,e){return r.replace(Q1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Q1=/\{\$([^}]+)}/g;function X1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(jv(u)&&jv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function $1(r,e){const n=new J1(r,e);return n.subscribe.bind(n)}class J1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");W1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}function jt(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class Z1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new M1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eR(r){return r===Xs?void 0:r}function tR(r){return r.instantiationMode==="EAGER"}class nR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const iR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},rR=ke.INFO,sR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},aR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=sR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const oR=(r,e)=>e.some(n=>r instanceof n);let Bv,qv;function lR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HT=new WeakMap,wm=new WeakMap,FT=new WeakMap,fm=new WeakMap,cp=new WeakMap;function cR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&HT.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function hR(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||FT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fR(r){Rm=r(Rm)}function dR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dm(this),e,...n);return FT.set(s,e.sort?e.sort():[e]),ts(s)}:uR().includes(r)?function(...e){return r.apply(dm(this),e),ts(HT.get(this))}:function(...e){return ts(r.apply(dm(this),e))}}function mR(r){return typeof r=="function"?dR(r):(r instanceof IDBTransaction&&hR(r),oR(r,lR())?new Proxy(r,Rm):r)}function ts(r){if(r instanceof IDBRequest)return cR(r);if(fm.has(r))return fm.get(r);const e=mR(r);return e!==r&&(fm.set(r,e),cp.set(e,r)),e}const dm=r=>cp.get(r);function pR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ts(f.result),g.oldVersion,g.newVersion,ts(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],mm=new Map;function Hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return mm.set(e,u),u}fR(r=>({...r,get:(e,n,s)=>Hv(e,n)||r.get(e,n,s),has:(e,n)=>!!Hv(e,n)||r.has(e,n)}));class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vR(r){return r.getComponent()?.type==="VERSION"}const Cm="@firebase/app",Fv="0.14.7";const ar=new up("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",SR="@firebase/analytics",AR="@firebase/app-check-compat",bR="@firebase/app-check",wR="@firebase/auth",RR="@firebase/auth-compat",CR="@firebase/database",IR="@firebase/data-connect",DR="@firebase/database-compat",NR="@firebase/functions",OR="@firebase/functions-compat",VR="@firebase/installations",MR="@firebase/installations-compat",xR="@firebase/messaging",kR="@firebase/messaging-compat",LR="@firebase/performance",PR="@firebase/performance-compat",UR="@firebase/remote-config",zR="@firebase/remote-config-compat",jR="@firebase/storage",BR="@firebase/storage-compat",qR="@firebase/firestore",HR="@firebase/ai",FR="@firebase/firestore-compat",GR="firebase",KR="12.8.0";const Im="[DEFAULT]",YR={[Cm]:"fire-core",[ER]:"fire-core-compat",[SR]:"fire-analytics",[TR]:"fire-analytics-compat",[bR]:"fire-app-check",[AR]:"fire-app-check-compat",[wR]:"fire-auth",[RR]:"fire-auth-compat",[CR]:"fire-rtdb",[IR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[NR]:"fire-fn",[OR]:"fire-fn-compat",[VR]:"fire-iid",[MR]:"fire-iid-compat",[xR]:"fire-fcm",[kR]:"fire-fcm-compat",[LR]:"fire-perf",[PR]:"fire-perf-compat",[UR]:"fire-rc",[zR]:"fire-rc-compat",[jR]:"fire-gcs",[BR]:"fire-gcs-compat",[qR]:"fire-fst",[FR]:"fire-fst-compat",[HR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};const yh=new Map,QR=new Map,Dm=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oo(r){const e=r.name;if(Dm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of yh.values())Gv(n,r);for(const n of QR.values())Gv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new au("app","Firebase",XR);class $R{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const To=KR;function GT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=zT()),!n)throw ns.create("no-options");const u=yh.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new nR(o);for(const g of Dm.values())f.addComponent(g);const m=new $R(n,s,f);return yh.set(o,m),m}function KT(r=Im){const e=yh.get(r);if(!e&&r===Im&&zT())return GT();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=YR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}oo(new Zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const JR="firebase-heartbeat-database",WR=1,Yl="firebase-heartbeat-store";let pm=null;function YT(){return pm||(pm=pR(JR,WR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),pm}async function ZR(r){try{const n=(await YT()).transaction(Yl),s=await n.objectStore(Yl).get(QT(r));return await n.done,s}catch(e){if(e instanceof cr)ar.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function Kv(r,e){try{const s=(await YT()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,QT(r)),await s.done}catch(n){if(n instanceof cr)ar.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function QT(r){return`${r.name}!${r.options.appId}`}const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tC){const o=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:n,unsentEntries:s}=iC(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function iC(r,e=eC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F1()?G1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(r){return gh(JSON.stringify({version:2,heartbeats:r})).length}function sC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function aC(r){oo(new Zs("platform-logger",e=>new _R(e),"PRIVATE")),oo(new Zs("heartbeat",e=>new nC(e),"PRIVATE")),is(Cm,Fv,r),is(Cm,Fv,"esm2020"),is("fire-js","")}aC("");function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oC=XT,$T=new au("auth","Firebase",XT());const _h=new up("@firebase/auth");function lC(r,...e){_h.logLevel<=ke.WARN&&_h.warn(`Auth (${To}): ${r}`,...e)}function rh(r,...e){_h.logLevel<=ke.ERROR&&_h.error(`Auth (${To}): ${r}`,...e)}function si(r,...e){throw fp(r,...e)}function Ni(r,...e){return fp(r,...e)}function JT(r,e,n){const s={...oC(),[e]:n};return new au("auth","Firebase",s).create(e,{appName:r.name})}function rs(r){return JT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $T.create(r,...e)}function ve(r,e,...n){if(!r)throw fp(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function or(r,e){r||nr(e)}function Nm(){return typeof self<"u"&&self.location?.href||""}function uC(){return Xv()==="http:"||Xv()==="https:"}function Xv(){return typeof self<"u"&&self.location?.protocol||null}function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||j1()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=P1()||B1()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class WT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mC=new lu(3e4,6e4);function ra(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,o={}){return ZT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return z1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),WT.fetch()(await e0(r,r.config.apiHost,n,m),y)})}async function ZT(r,e,n){r._canInitEmulator=!1;const s={...fC,...e};try{const o=new gC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Qc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Qc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw JT(r,E,y);si(r,E)}}catch(o){if(o instanceof cr)throw o;si(r,"network-request-failed",{message:String(o)})}}async function zh(r,e,n,s,o={}){const u=await ps(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function e0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?dp(r.config,o):`${r.config.apiScheme}://${o}`;return dC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function pC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),mC.get())})}}function Qc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}function $v(r){return r!==void 0&&r.enterprise!==void 0}class yC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _C(r,e){return ps(r,"GET","/v2/recaptchaConfig",ra(r,e))}async function vC(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function vh(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=mp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(gm(o.auth_time)),issuedAtTime:Bl(gm(o.iat)),expirationTime:Bl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gm(r){return Number(r)*1e3}function mp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PT(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(r){const e=mp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&TC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function TC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class SC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(r){const e=r.auth,n=await r.getIdToken(),s=await Ql(r,vh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?t0(o.providerUserInfo):[],f=bC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function AC(r){const e=jt(r);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function t0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wC(r,e){const n=await ZT(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await e0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),WT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RC(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ra(r,e))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Qr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new SC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EC(this,e)}reload(){return AC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Ql(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:P,providerData:Q,stsTokenManager:k}=n;ve(S&&k,e,"internal-error");const H=eo.fromJSON(this.name,k);ve(typeof S=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(g,e.name),Qr(y,e.name),Qr(E,e.name);const ie=new ti({uid:S,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Q&&Array.isArray(Q)&&(ie.providerData=Q.map(re=>({...re}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?t0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const g=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Wv=new Map;function ir(r){or(r instanceof Function,"Expected a class definition");let e=Wv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Wv.set(r,e),e)}class n0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n0.type="NONE";const Zv=n0;function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(ir(Zv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ir(Zv);const f=sh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const b=await vh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await ti._fromGetAccountInfoResponse(e,b,E)}else S=ti._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new to(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new to(u,e,s))}}function eE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l0(e))return"Blackberry";if(u0(e))return"Webos";if(r0(e))return"Safari";if((e.includes("chrome/")||s0(e))&&!e.includes("edge/"))return"Chrome";if(o0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function i0(r=en()){return/firefox\//i.test(r)}function r0(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s0(r=en()){return/crios\//i.test(r)}function a0(r=en()){return/iemobile/i.test(r)}function o0(r=en()){return/android/i.test(r)}function l0(r=en()){return/blackberry/i.test(r)}function u0(r=en()){return/webos/i.test(r)}function pp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CC(r=en()){return pp(r)&&!!window.navigator?.standalone}function IC(){return q1()&&document.documentMode===10}function c0(r=en()){return pp(r)||o0(r)||u0(r)||l0(r)||/windows phone/i.test(r)||a0(r)}function h0(r,e=[]){let n;switch(r){case"Browser":n=eE(en());break;case"Worker":n=`${eE(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class DC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function NC(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ra(r,e))}const OC=6;class VC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class MC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new DC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(rs(this));const n=e?jt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NC(this),n=new VC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await RC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function So(r){return jt(r)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xC(r){jh=r}function f0(r){return jh.loadJS(r)}function kC(){return jh.recaptchaEnterpriseScript}function LC(){return jh.gapiScript}function PC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class UC{constructor(){this.enterprise=new zC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jC="recaptcha-enterprise",d0="NO_RECAPTCHA";class BC{constructor(e){this.type=jC,this.auth=So(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{_C(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new yC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;$v(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(d0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&$v(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kC();g.length!==0&&(g+=m),f0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function nE(r,e,n,s=!1,o=!1){const u=new BC(r);let f;if(o)f=d0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function iE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function qC(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function HC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function FC(r,e,n){const s=So(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=m0(e),{host:f,port:m}=GC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ws(y,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(BT(`${u}//${f}${g}`),qT("Auth",!0)):KC()}function m0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GC(r){const e=m0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:rE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:rE(f)}}}function rE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function YC(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}async function QC(r,e){return zh(r,"POST","/v1/accounts:signInWithPassword",ra(r,e))}async function XC(r,e){return zh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}async function $C(r,e){return zh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}class Xl extends gp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,n,"signInWithPassword",QC);case"emailLink":return XC(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,s,"signUpPassword",YC);case"emailLink":return $C(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function no(r,e){return zh(r,"POST","/v1/accounts:signInWithIdp",ra(r,e))}const JC="http://localhost";class ea extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:JC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}function WC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZC(r){const e=kl(Ll(r)).link,n=e?kl(Ll(e)).deep_link_id:null,s=kl(Ll(r)).deep_link_id;return(s?kl(Ll(s)).link:null)||s||n||e||r}class yp{constructor(e){const n=kl(Ll(e)),s=n.apiKey??null,o=n.oobCode??null,u=WC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZC(e);try{return new yp(n)}catch{return null}}}class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yp.parseLink(n);return ve(s,"argument-error"),Xl._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class p0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends p0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xr extends uu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";class $r extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";class Jr extends uu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Wr extends uu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=sE(s);return new lo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=sE(s);return new lo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function sE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Th extends cr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Th(e,n,s,o)}}function g0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(r,u,e,s):u})}async function eI(r,e,n=!1){const s=await Ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return lo._forOperation(r,"link",s)}async function tI(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(rs(s));const o="reauthenticate";try{const u=await Ql(r,g0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=mp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),lo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}async function y0(r,e,n=!1){if(ei(r.app))return Promise.reject(rs(r));const s="signIn",o=await g0(r,s,e),u=await lo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function nI(r,e){return y0(So(r),e)}async function iI(r){const e=So(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rI(r,e,n){return ei(r.app)?Promise.reject(rs(r)):nI(jt(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iI(r),s})}function sI(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function aI(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function oI(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function aE(r){return jt(r).signOut()}const Sh="__sak";class _0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lI=1e3,uI=10;class v0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);IC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v0.type="LOCAL";const cI=v0;class E0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E0.type="SESSION";const T0=E0;function hI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await hI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function _p(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class fI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=_p("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function dI(r){Oi().location.href=r}function S0(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function mI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){return navigator?.serviceWorker?.controller||null}function gI(){return S0()?self:null}const A0="firebaseLocalStorageDb",yI=1,Ah="firebaseLocalStorage",b0="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function _I(){const r=indexedDB.deleteDatabase(A0);return new cu(r).toPromise()}function Vm(){const r=indexedDB.open(A0,yI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ah,{keyPath:b0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await _I(),e(await Vm()))})})}async function oE(r,e,n){const s=qh(r,!0).put({[b0]:e,value:n});return new cu(s).toPromise()}async function vI(r,e){const n=qh(r,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function lE(r,e){const n=qh(r,!0).delete(e);return new cu(n).toPromise()}const EI=800,TI=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>TI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await oE(e,Sh,"1"),await lE(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>vI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const SI=w0;new lu(3e4,6e4);function AI(r,e){return e?ir(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class vp extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bI(r){return y0(r.auth,new vp(r),r.bypassAuthState)}function wI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),tI(n,new vp(r),r.bypassAuthState)}async function RI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),eI(n,new vp(r),r.bypassAuthState)}class R0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return RI;case"reauthViaPopup":case"reauthViaRedirect":return wI;default:si(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CI=new lu(2e3,1e4);class Za extends R0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CI.get())};e()}}Za.currentPopupAction=null;const II="pendingRedirect",ah=new Map;class DI extends R0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await NI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(r,e){const n=MI(e),s=VI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OI(r,e){ah.set(r._key(),e)}function VI(r){return ir(r._redirectPersistence)}function MI(r){return sh(II,r.config.apiKey,r.name)}async function xI(r,e,n=!1){if(ei(r.app))return Promise.reject(rs(r));const s=So(r),o=AI(s,e),f=await new DI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const kI=600*1e3;class LI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!C0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kI&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function C0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function PI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C0(r);default:return!1}}async function UI(r,e={}){return ps(r,"GET","/v1/projects",e)}const zI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jI=/^https?/;async function BI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UI(r);for(const n of e)try{if(qI(n))return}catch{}si(r,"unauthorized-domain")}function qI(r){const e=Nm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!jI.test(n))return!1;if(zI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const HI=new lu(3e4,6e4);function cE(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FI(r){return new Promise((e,n)=>{function s(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(Ni(r,"network-request-failed"))},timeout:HI.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=PC("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(Ni(r,"network-request-failed"))},f0(`${LC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}let oh=null;function GI(r){return oh=oh||FI(r),oh}const KI=new lu(5e3,15e3),YI="__/auth/iframe",QI="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?dp(e,QI):`https://${r.config.authDomain}/${YI}`,s={apiKey:e.apiKey,appName:r.name,v:To},o=$I.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function WI(r){const e=await GI(r),n=Oi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:JI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},KI.get());function g(){Oi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const ZI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eD=500,tD=600,nD="_blank",iD="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rD(r,e,n,s=eD,o=tD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...ZI,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=s0(y)?nD:n),i0(y)&&(e=e||iD,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[P,Q])=>`${b}${P}=${Q},`,"");if(CC(y)&&m!=="_self")return sD(e||"",m),new hE(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new hE(S)}function sD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const aD="__/auth/handler",oD="emulator/auth/handler",lD=encodeURIComponent("fac");async function fE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof p0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",X1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof uu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${lD}=${encodeURIComponent(g)}`:"";return`${uD(r)}?${ou(m).slice(1)}${y}`}function uD({config:r}){return r.emulator?dp(r,oD):`https://${r.authDomain}/${aD}`}const ym="webStorageSupport";class cD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T0,this._completeRedirectFn=xI,this._overrideRedirectResult=OI}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fE(e,n,s,Nm(),o);return rD(e,u,_p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await fE(e,n,s,Nm(),o);return dI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WI(e),s=new LI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{const u=o?.[0]?.[ym];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c0()||r0()||pp()}}const hD=cD;var dE="@firebase/auth",mE="1.12.0";class fD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mD(r){oo(new Zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h0(r)},y=new MC(s,o,u,g);return HC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Zs("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(s=>new fD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(dE,mE,dD(r)),is(dE,mE,"esm2020")}const pD=300,gD=jT("authIdTokenMaxAge")||pD;let pE=null;const yD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gD)return;const o=n?.token;pE!==o&&(pE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _D(r=KT()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=qC(r,{popupRedirectResolver:hD,persistence:[SI,cI,T0]}),s=jT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=yD(u.toString());aI(n,f,()=>f(n.currentUser)),sI(n,m=>f(m))}}const o=UT("auth");return o&&FC(n,`http://${o}`),n}function vD(){return document.getElementsByTagName("head")?.[0]??document}xC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",vD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mD("Browser");var ED="firebase",TD="12.8.0";is(ED,TD,"app");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,I0;(function(){var r;function e(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(x,N,U){for(var C=Array(arguments.length-2),it=2;it<arguments.length;it++)C[it-2]=arguments[it];return w.prototype[N].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)x[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)x[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],N=R.g[2];let U=R.g[3],C;C=w+(U^I&(N^U))+x[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(N^w&(I^N))+x[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(I^U&(w^I))+x[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=I+(w^N&(U^w))+x[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(U^I&(N^U))+x[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(N^w&(I^N))+x[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(I^U&(w^I))+x[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=I+(w^N&(U^w))+x[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(U^I&(N^U))+x[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(N^w&(I^N))+x[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(I^U&(w^I))+x[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=I+(w^N&(U^w))+x[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(U^I&(N^U))+x[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(N^w&(I^N))+x[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=N+(I^U&(w^I))+x[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=I+(w^N&(U^w))+x[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=w+(N^U&(I^N))+x[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^N&(w^I))+x[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(U^w))+x[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(N^U))+x[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(N^U&(I^N))+x[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^N&(w^I))+x[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(U^w))+x[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(N^U))+x[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(N^U&(I^N))+x[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^N&(w^I))+x[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(U^w))+x[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(N^U))+x[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(N^U&(I^N))+x[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^N&(w^I))+x[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=N+(w^I&(U^w))+x[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(N^U))+x[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=w+(I^N^U)+x[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^N)+x[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^I)+x[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=I+(N^U^w)+x[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(I^N^U)+x[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^N)+x[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^I)+x[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=I+(N^U^w)+x[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(I^N^U)+x[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^N)+x[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^I)+x[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=I+(N^U^w)+x[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(I^N^U)+x[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^N)+x[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=N+(U^w^I)+x[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=I+(N^U^w)+x[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=w+(N^(I|~U))+x[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~N))+x[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~I))+x[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=I+(U^(N|~w))+x[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=w+(N^(I|~U))+x[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~N))+x[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~I))+x[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=I+(U^(N|~w))+x[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=w+(N^(I|~U))+x[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~N))+x[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~I))+x[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=I+(U^(N|~w))+x[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=w+(N^(I|~U))+x[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~N))+x[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=N+(w^(U|~I))+x[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=I+(U^(N|~w))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,x=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=I;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<w;)if(x[N++]=R.charCodeAt(U++),N==this.blockSize){o(this,x),N=0;break}}else for(;U<w;)if(x[N++]=R[U++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)R[w++]=this.g[I]>>>x&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function f(R,w){this.h=w;const I=[];let x=!0;for(let N=R.length-1;N>=0;N--){const U=R[N]|0;x&&U==w||(I[N]=U,x=!1)}this.g=I}var m={};function g(R){return-128<=R&&R<128?u(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return H(y(-R));const w=[];let I=1;for(let x=0;R>=I;x++)w[x]=R/I|0,I*=4294967296;return new f(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return H(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let x=S;for(let U=0;U<R.length;U+=8){var N=Math.min(8,R.length-U);const C=parseInt(R.substring(U,U+N),w);N<8?(N=y(Math.pow(w,N)),x=x.j(N).add(y(C))):(x=x.j(I),x=x.add(y(C)))}return x}var S=g(0),b=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(k(this))return-H(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);R+=(x>=0?x:4294967296+x)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(k(this))return"-"+H(this).toString(R);const w=y(Math.pow(R,6));var I=this;let x="";for(;;){const N=Ce(I,w).g;I=ie(I,N.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=N,Q(I))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function k(R){return R.h==-1}r.l=function(R){return R=ie(this,R),k(R)?-1:Q(R)?0:1};function H(R){const w=R.g.length,I=[];for(let x=0;x<w;x++)I[x]=~R.g[x];return new f(I,~R.h).add(b)}r.abs=function(){return k(this)?H(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let x=0;for(let N=0;N<=w;N++){let U=x+(this.i(N)&65535)+(R.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);x=C>>>16,U&=65535,C&=65535,I[N]=C<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ie(R,w){return R.add(H(w))}r.j=function(R){if(Q(this)||Q(R))return S;if(k(this))return k(R)?H(this).j(H(R)):H(H(this).j(R));if(k(R))return H(this.j(H(R)));if(this.l(P)<0&&R.l(P)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<R.g.length;N++){const U=this.i(x)>>>16,C=this.i(x)&65535,it=R.i(N)>>>16,ht=R.i(N)&65535;I[2*x+2*N]+=C*ht,re(I,2*x+2*N),I[2*x+2*N+1]+=U*ht,re(I,2*x+2*N+1),I[2*x+2*N+1]+=C*it,re(I,2*x+2*N+1),I[2*x+2*N+2]+=U*it,re(I,2*x+2*N+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new f(I,0)};function re(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ae(R,w){this.g=R,this.h=w}function Ce(R,w){if(Q(w))throw Error("division by zero");if(Q(R))return new ae(S,S);if(k(R))return w=Ce(H(R),w),new ae(H(w.g),H(w.h));if(k(w))return w=Ce(R,H(w)),new ae(H(w.g),w.h);if(R.g.length>30){if(k(R)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,x=w;x.l(R)<=0;)I=Ae(I),x=Ae(x);var N=be(I,1),U=be(x,1);for(x=be(x,2),I=be(I,2);!Q(x);){var C=U.add(x);C.l(R)<=0&&(N=N.add(I),U=C),x=be(x,1),I=be(I,1)}return w=ie(R,N.j(w)),new ae(N,w)}for(N=S;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=y(I),C=U.j(w);k(C)||C.l(R)>0;)I-=x,U=y(I),C=U.j(w);Q(U)&&(U=b),N=N.add(U),R=ie(R,C)}return new ae(N,R)}r.B=function(R){return Ce(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&R.i(x);return new f(I,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|R.i(x);return new f(I,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^R.i(x);return new f(I,this.h^R.h)};function Ae(R){const w=R.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=R.i(x)<<1|R.i(x-1)>>>31;return new f(I,R.h)}function be(R,w){const I=w>>5;w%=32;const x=R.g.length-I,N=[];for(let U=0;U<x;U++)N[U]=w>0?R.i(U+I)>>>w|R.i(U+I+1)<<32-w:R.i(U+I);return new f(N,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,I0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ss=f}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D0,Pl,N0,lh,Mm,O0,V0,M0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,K){for(var se=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)se[Ie-2]=arguments[Ie];return p.prototype[z].apply(A,se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function Q(c,p){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const K=z.length||0;c.length=v+K;for(let se=0;se<K;se++)c[v+se]=z[se]}else c.push(z)}}class k{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,v){const A=ae.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new k(()=>new Ce,c=>c.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,be=!1,R=new re,w=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(I)}};function I(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){H(v)}var p=ae;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}be=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function it(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(it,N),it.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(c,p,v,A,z){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=z,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function qe(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(c,p){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let K=0;K<W.length;K++)v=W[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function te(c){this.src=c,this.g={},this.h=0}te.prototype.add=function(c,p,v,A,z){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=he(c,p,A,z);return se>-1?(p=c[se],v||(p.fa=!1)):(p=new oe(p,this.src,K,!!A,z),p.fa=v,c.push(p)),p};function le(c,p){const v=p.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,p,void 0),K;(K=z>=0)&&Array.prototype.splice.call(A,z,1),K&&(pe(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function he(c,p,v,A){for(let z=0;z<c.length;++z){const K=c[z];if(!K.da&&K.listener==p&&K.capture==!!v&&K.ha==A)return z}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ye={};function Te(c,p,v,A,z){if(Array.isArray(p)){for(let K=0;K<p.length;K++)Te(c,p[K],v,A,z);return null}return v=mr(v),c&&c[ht]?c.J(p,v,m(A)?!!A.capture:!1,z):kt(c,p,v,!1,A,z)}function kt(c,p,v,A,z,K){if(!p)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Ie=oi(c);if(Ie||(c[de]=Ie=new te(c)),v=Ie.add(p,v,A,se,K),v.proxy)return v;if(A=hr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(z=se),z===void 0&&(z=!1),c.addEventListener(p.toString(),A,z);else if(c.attachEvent)c.attachEvent(Rn(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hr(){function c(v){return p.call(c.src,c.listener,v)}const p=Cn;return c}function fr(c,p,v,A,z){if(Array.isArray(p))for(var K=0;K<p.length;K++)fr(c,p[K],v,A,z);else A=m(A)?!!A.capture:!!A,v=mr(v),c&&c[ht]?(c=c.i,K=String(p).toString(),K in c.g&&(p=c.g[K],v=he(p,v,A,z),v>-1&&(pe(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[K],c.h--)))):c&&(c=oi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=he(p,v,A,z)),(v=c>-1?p[c]:null)&&dr(v))}function dr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ht])le(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Rn(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=oi(p))?(le(v,c),v.h==0&&(v.src=null,p[de]=null)):pe(c)}}}function Rn(c){return c in Ye?Ye[c]:Ye[c]="on"+c}function Cn(c,p){if(c.da)c=!0;else{p=new it(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&dr(c),c=v.call(A,p)}return c}function oi(c){return c=c[de],c instanceof te?c:null}var _s="__closure_events_fn_"+(Math.random()*1e9>>>0);function mr(c){return typeof c=="function"?c:(c[_s]||(c[_s]=function(p){return c.handleEvent(p)}),c[_s])}function ft(){x.call(this),this.i=new te(this),this.M=this,this.G=null}S(ft,x),ft.prototype[ht]=!0,ft.prototype.removeEventListener=function(c,p,v,A){fr(this,c,p,v,A)};function Ot(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var z=p;p=new N(A,c),G(p,z)}z=!0;let K,se;if(v)for(se=v.length-1;se>=0;se--)K=p.g=v[se],z=pr(K,A,!0,p)&&z;if(K=p.g=c,z=pr(K,A,!0,p)&&z,z=pr(K,A,!1,p)&&z,v)for(se=0;se<v.length;se++)K=p.g=v[se],z=pr(K,A,!1,p)&&z}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)pe(v[A]);delete c.g[p],c.h--}}this.G=null},ft.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ft.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function pr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let K=0;K<p.length;++K){const se=p[K];if(se&&!se.da&&se.capture==v){const Ie=se.listener,gt=se.ha||se.src;se.fa&&le(c.i,se),z=Ie.call(gt,A)!==!1&&z}}return z&&!A.defaultPrevented}function rf(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function _u(c){c.g=rf(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends x{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){x.call(this),this.h=c,this.g={}}S(vs,x);var Do=[];function No(c){Ue(c.g,function(p,v){this.g.hasOwnProperty(v)&&dr(p)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),No(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=f.JSON.stringify,sf=f.JSON.parse,vu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Eu(){}function Tu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){N.call(this,"d")}S(Bt,N);function In(){N.call(this,"c")}S(In,N);var pt={},Su=null;function la(){return Su=Su||new ft}pt.Ia="serverreachability";function Au(c){N.call(this,pt.Ia,c)}S(Au,N);function li(c){const p=la();Ot(p,new Au(p))}pt.STAT_EVENT="statevent";function Es(c,p){N.call(this,pt.STAT_EVENT,c),this.stat=p}S(Es,N);function Et(c){const p=la();Ot(p,new Es(p,c))}pt.Ja="timingevent";function ui(c,p){N.call(this,pt.Ja,c),this.size=p}S(ui,N);function ci(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function af(c,p,v,A,z,K){c.info(function(){if(c.g)if(K){var se="",Ie=K.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var gt=Ie[Ge].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Vn=ot.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(ot+"="+gt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+v+`
`+se})}function bu(c,p,v,A,z,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+v+`
`+K+" "+se})}function hi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+of(c,v)+(A?" "+A:"")})}function Ts(c,p){c.info(function(){return"TIMEOUT: "+p})}Hn.prototype.info=function(){};function of(c,p){if(!c.g)return p;if(!p)return null;try{const K=JSON.parse(p);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return gr(K)}catch{return p}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function As(){}S(As,Eu),As.prototype.g=function(){return new XMLHttpRequest},Vo=new As;function Pi(c){return encodeURIComponent(String(c))}function wu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Fn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function fi(c,p,v){c.M=1,c.A=bs(At(p)),c.u=v,c.R=!0,ua(c,null)}function ua(c,p){c.F=Date.now(),di(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=ju(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Do[0]=z.toString()),z=Do);for(let K=0;K<z.length;K++){const se=Te(v,z[K],A||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),li(),af(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Qn(c)==3?p.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=Qn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ie!=4||gt==7||(gt==8||Ge<=0?li(3):li(2)),mi(this);var p=this.g.ca();this.X=p;var v=lf(this);if(this.o=p==200,bu(this.i,this.v,this.B,this.l,this.S,Ie,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var K=A;break t}}K=null}if(c=K)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),Dn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Cu(this,v),ot==Lt){Ie==4&&(this.m=4,Et(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,ot,null),pi(this,ot);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(se),se.P=!0,Et(11))}}else hi(this.i,this.l,v,null),pi(this,v);Ie==4&&pn(this),this.o&&!this.K&&(Ie==4?Lu(this.j,this):(this.o=!1,di(this)))}else zi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),Dn(this)}}}catch{}};function lf(c){if(!Ru(c))return c.g.la();const p=qt(c.g);if(p==="")return"";let v="";const A=p.length,z=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(p[K],{stream:!(z&&K==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Ru(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Lt:(v=Number(p.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>p.length?Lt:(p=p.slice(A,A+v),c.C=A+v,p)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),p)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(li(),Et(17)),pn(this),this.m=2,Dn(this)):ca(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Lu(c.j,c)}function pn(c){mi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,No(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function pi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),br(v);else break e;Os(v),Et(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&_a(v),!C(p))for(z=v.Ba.g.parse(p),p=0;p<z.length;p++){let Ge=z[p];const ot=Ge[0];if(!(ot<=v.K))if(v.K=ot,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const bi=Ge[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Ge[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Vs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var K=A.h;K.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ko(K,K.h),K.h=null))}if(A.G){const va=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Xe(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=zu(A,A.L?A.ba:null,A.W),se.L){Lo(A.h,se);var Ie=se,gt=A.O;gt&&(Ie.H=gt),Ie.D&&(mi(Ie),di(Ie)),A.g=se}else xu(A);v.i.length>0&&Si(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ai(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ai(v,7):Go(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}li(4)}catch{}}var St=class{constructor(c,p){this.g=c,this.map=p}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ko(c,p){c.g?c.g.add(p):c.h=p}function Lo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Mo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var Iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,K=null;A>=0?(z=c[v].substring(0,A),K=c[v].substring(A+1)):z=c[v],p(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,Uo(this,Vu(c.i)),this.m=c.m):c&&(p=String(c).match(Iu))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=_i(p[2]||""),this.g=_i(p[3]||"",!0),yr(this,p[4]),this.h=_i(p[5]||"",!0),Uo(this,p[6]||"",!0),this.m=_i(p[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}gn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ws(p,fa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ws(p,fa,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?zo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,Nu)),c.join("")},gn.prototype.resolve=function(c){const p=At(this);let v=!!c.j;v?Pt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)yr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=p.h.lastIndexOf("/");z!=-1&&(A=p.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let se=0;se<z.length;){const Ie=z[se++];Ie=="."?A&&se==z.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==z.length&&K.push("")):(K.push(Ie),A=!0)}A=K.join("/")}else A=z}return v?p.h=A:v=c.i.toString()!=="",v?Uo(p,Vu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function At(c){return new gn(c)}function Pt(c,p,v){c.j=v?_i(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Uo(c,p,v){p instanceof vr?(c.i=p,ma(c.i,c.l)):(v||(p=ws(p,_r)),c.i=new vr(p,c.l))}function Xe(c,p,v){c.i.set(p,v)}function bs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,Du=/[#\?:]/g,zo=/[#\?]/g,_r=/[#\?@]/g,Nu=/#/g;function vr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=vr.prototype,r.add=function(c,p){an(this),this.i=null,c=Er(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Ou(c,p){an(c),p=Er(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function jo(c,p){return an(c),p=Er(c,p),c.g.has(p)}r.forEach=function(c,p){an(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(p,z,A,this)},this)},this)};function Bo(c,p){an(c);let v=[];if(typeof p=="string")jo(c,p)&&(v=v.concat(c.g.get(Er(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return an(this),this.i=null,c=Er(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Bo(this,c),c.length>0?String(c[0]):p):p};function da(c,p,v){Ou(c,p),v.length>0&&(c.i=null,c.g.set(Er(c,p),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const z=Pi(v);v=Bo(this,v);for(let K=0;K<v.length;K++){let se=z;v[K]!==""&&(se+="="+Pi(v[K])),c.push(se)}}return this.i=c.join("&")};function Vu(c){const p=new vr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Er(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ma(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Ou(this,A),da(this,z,v))},c)),c.j=p}function Kn(c,p){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Nn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Nn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Nn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function qo(c,p){const v=new Hn,A=new AbortController,z=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?Nn(v,"TestPingServer: ok",!0,p):Nn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Nn(v,"TestPingServer: error",!1,p)})}function Nn(c,p,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Tr(){this.g=new vu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(vi,Eu),vi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,p){ft.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rs,ft),r=Rs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Sr(this):Yn(this),this.readyState==3&&pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let p="";return Ue(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Cs(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=On(v),typeof c=="string"?v!=null&&Pi(v):Xe(c,p,v))}function We(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(We,ft);var Ei=/^https?$/i,Ho=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(K){Is(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,p,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Is(this,K)}};function Is(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Fo(c),Ui(c)}function Fo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=K===0){let se=String(c.D).match(Iu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!Ei.test(se?se.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Qn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Fo(c)}}finally{Ui(c)}}}}function Ui(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),sf(p)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const p={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=wu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=p[z]||[];p[z]=K,K.push(v)}qe(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Ar(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){Et(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=zu(this,null,this.W),Si(this)};function Go(c){if(ga(c),c.I==3){var p=c.V++,v=At(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",p),Xe(v,"TYPE","terminate"),Ns(c,v),p=new Fn(c,c.j,p),p.M=2,p.A=bs(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=ju(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}Uu(c)}function br(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ga(c){br(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!xo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ae||w(),be||(Ae(),be=!0),R.add(p,c),c.D=0}}function ya(c,p){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,p),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Fn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=M(K),G(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Mu(this,z,p),v=At(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Ns(this,v),K&&(this.R?p="headers="+Pi(On(K))+"&"+p:this.u&&Cs(v,this.u,K)),ko(this.h,z),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",p),Xe(v,"SID","null"),z.U=!0,fi(z,v,null)):fi(z,v,p),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||xo(this.h)||Ko(this))};function Ko(c,p){var v;p?v=p.l:v=c.V++;const A=At(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),Ns(c,A),c.u&&c.o&&Cs(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,v),fi(v,A,p)}function Ns(c,p){c.H&&Ue(c.H,function(v,A){Xe(p,A,v)}),c.l&&Ue({},function(v,A){Xe(p,A,v)})}function Mu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ie=-1;for(;;){const gt=["count="+v];Ie==-1?v>0?(Ie=z[0].g,gt.push("ofs="+Ie)):Ie=0:gt.push("ofs="+Ie);let Ge=!0;for(let ot=0;ot<v;ot++){var K=z[ot].g;const Vn=z[ot].map;if(K-=Ie,K<0)Ie=Math.max(0,z[ot].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[bi,Xn]of se){let $n=Xn;m(Xn)&&($n=gr(Xn)),gt.push(K+bi+"="+encodeURIComponent($n))}}catch(bi){throw gt.push(K+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Vn)}}if(Ge){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),p.G=c,se}function xu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ae||w(),be||(Ae(),be=!0),R.add(p,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),br(this),ku(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=At(c.na);Xe(p,"RID","rpc"),Xe(p,"SID",c.M),Xe(p,"AID",c.K),Xe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(p,"TO",c.ia),Xe(p,"TYPE","xmlhttp"),Ns(c,p),c.u&&c.o&&Cs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(At(p)),v.u=null,v.R=!0,ua(v,c)}r.Va=function(){this.C!=null&&(this.C=null,br(this),Os(this),Et(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Lu(c,p){var v=null;if(c.g==p){_a(c),Yo(c),c.g=null;var A=2}else if(yi(c.h,p))v=p.G,Lo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var z=c.D;A=la(),Ot(A,new ui(A,v)),Si(c)}else xu(c);else if(z=p.m,z==3||z==0&&p.X>0||!(A==1&&ya(c,p)||A==2&&Os(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),z){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Pu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ai(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),bs(A),z?Kn(A.toString(),v):qo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(p),Uu(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const p=Po(c.h);(p.length!=0||c.i.length!=0)&&(Q(c.ja,p),Q(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function zu(c,p,v){var A=v instanceof gn?At(v):new gn(v);if(A.g!="")p&&(A.g=p+"."+A.g),yr(A,A.u);else{var z=f.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const K=new gn(null);A&&Pt(K,A),p&&(K.g=p),z&&yr(K,z),v&&(K.h=v),A=K}return v=c.G,p=c.wa,v&&p&&Xe(A,v,p),Xe(A,"VER",c.ka),Ns(c,A),A}function ju(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new We(new vi({ab:v})):new We(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ft.call(this),this.g=new Ar(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ji(this)}S(nn,ft),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Go(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=gr(c),c=v);p.i.push(new St(p.Ya++,c)),p.I==3&&Si(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,nn.Z.N.call(this)};function qu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(qu,Bt);function Hu(){In.call(this),this.status=1}S(Hu,In);function ji(c){this.g=c}S(ji,Bu),ji.prototype.ra=function(){Ot(this.g,"a")},ji.prototype.qa=function(c){Ot(this.g,new qu(c))},ji.prototype.pa=function(c){Ot(this.g,new Hu)},ji.prototype.oa=function(){Ot(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,M0=function(){return new wr},V0=function(){return la()},O0=pt,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,lh=Ss,Oo.COMPLETE="complete",N0=Oo,Tu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,Pl=Tu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,D0=We}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let bo="12.8.0";function SD(r){bo=r}const ta=new up("@firebase/firestore");function Xa(){return ta.logLevel}function ce(r,...e){if(ta.logLevel<=ke.DEBUG){const n=e.map(Ep);ta.debug(`Firestore (${bo}): ${r}`,...n)}}function lr(r,...e){if(ta.logLevel<=ke.ERROR){const n=e.map(Ep);ta.error(`Firestore (${bo}): ${r}`,...n)}}function uo(r,...e){if(ta.logLevel<=ke.WARN){const n=e.map(Ep);ta.warn(`Firestore (${bo}): ${r}`,...n)}}function Ep(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,x0(r,s,n)}function x0(r,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||x0(e,o,s)}function Re(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class k0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class bD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wD{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new k0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class RD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ID{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function xm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return _m(o)===_m(u)?Le(o,u):_m(o)?1:-1}return Le(r.length,e.length)}const ND=55296,OD=57343;function _m(r){const e=r.charCodeAt(0);return e>=ND&&e<=OD}function co(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const _E="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class rt extends Di{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Di{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Qt([_E])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function L0(r,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MD(r,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vE(r){if(!ye.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){if(ye.isDocumentKey(r))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function na(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(r);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function hu(r,e){if(!P0(r))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const TE=-62135596800,SE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*SE);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:Nt("string",Be._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Be(0,0))}static max(){return new Se(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function xD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new ls(o,ye.empty(),e)}function kD(r){return new ls(r.readTime,r.key,$l)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(Se.min(),ye.empty(),$l)}static max(){return new ls(Se.max(),ye.empty(),$l)}}function LD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const PD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==PD)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function zD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const Sp=-1;function Gh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function jD(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const U0="";function BD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=AE(e)),e=qD(r.get(n),e);return AE(e)}function qD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case U0:n+="";break;default:n+=u}}return n}function AE(r){return r+U0+""}function bE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function z0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new xt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j0("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const HD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=HD.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const B0="server_timestamp",q0="__type__",H0="__previous_value__",F0="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[q0]?.stringValue===B0}function Kh(r){const e=r.mapValue.fields[H0];return Ap(e)?Kh(e):e}function Jl(r){const e=us(r.mapValue.fields[F0].timestampValue);return new Be(e.seconds,e.nanos)}class FD{constructor(e,n,s,o,u,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const wh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}function GD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(r.options.projectId,e)}const G0="__type__",KD="__max__",Jc={mapValue:{}},K0="__vector__",Rh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:QD(r)?9007199254740991:YD(r)?10:11:Ee(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=us(o.timestampValue),m=us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bE(f)!==bE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ki(f[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function ho(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(Jl(r),Jl(e));case 5:return xm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=cs(u),g=cs(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Le(m[y],g[y]);if(E!==0)return E}return Le(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(vt(u.latitude),vt(f.latitude));return m!==0?m:Le(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Rh]?.arrayValue,E=g[Rh]?.arrayValue,S=Le(y?.values?.length||0,E?.values?.length||0);return S!==0?S:CE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const b=xm(g[S],E[S]);if(b!==0)return b;const P=ho(m[g[S]],y[E[S]]);if(P!==0)return P}return Le(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=us(r),s=us(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function CE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function fo(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${km(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function uh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,f)=>{o+=u.length+uh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function IE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function bp(r){return!!r&&"arrayValue"in r}function DE(r){return!!r&&"nullValue"in r}function NE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function YD(r){return(r?.mapValue?.fields||{})[G0]?.stringValue===K0}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return{...r}}function QD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KD}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(ql(this.value))}}function Y0(r){const e=[];return gs(r.fields,((n,s)=>{const o=new Qt([n]);if(ch(s)){const u=Y0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new bn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function VE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function XD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Q0{}class Dt extends Q0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new JD(e,n,s):n==="array-contains"?new e2(e,s):n==="in"?new t2(e,s):n==="not-in"?new n2(e,s):n==="array-contains-any"?new i2(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WD(e,s):new ZD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Q0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return X0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X0(r){return r.op==="and"}function $0(r){return $D(r)&&X0(r)}function $D(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Pm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if($0(r))return r.filters.map((e=>Pm(e))).join(",");{const e=r.filters.map((n=>Pm(n))).join(",");return`${r.op}(${e})`}}function J0(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&J0(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function W0(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(W0).join(" ,")+"}"})(r):"Filter"}class JD extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class WD extends Dt{constructor(e,n){super(e,"in",n),this.keys=Z0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZD extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Z0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Z0(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class e2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&Zl(n.arrayValue,this.value)}}class t2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class n2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class i2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}class r2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function ME(r,e=null,n=[],s=[],o=null,u=null,f=null){return new r2(r,e,n,s,o,u,f)}function wp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Pm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fo(s))).join(",")),e.Te=n}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!J0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!VE(r.startAt,e.startAt)&&VE(r.endAt,e.endAt)}function Um(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Co{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function s2(r,e,n,s,o,u,f,m){return new Co(r,e,n,s,o,u,f,m)}function eS(r){return new Co(r)}function xE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function a2(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function tS(r){return r.collectionGroup!==null}function Hl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new eu(Qt.keyField(),s))}return e.Ie}function Vi(r){const e=Re(r);return e.Ee||(e.Ee=o2(e,Hl(r))),e.Ee}function o2(r,e){if(r.limitType==="F")return ME(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return ME(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function zm(r,e){const n=r.filters.concat([e]);return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function l2(r,e){const n=r.explicitOrderBy.concat([e]);return new Co(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Rp(Vi(r),Vi(e))&&r.limitType===e.limitType}function nS(r){return`${wp(Vi(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>W0(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function Qh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=OE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,g){const y=OE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Hl(s),o))})(r,e)}function u2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iS(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=c2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function c2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ho(g,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}const h2=new ct(ye.comparator);function ur(){return h2}const rS=new ct(ye.comparator);function Ul(...r){let e=rS;for(const n of r)e=e.insert(n.key,n);return e}function sS(r){let e=rS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Fl()}function aS(){return Fl()}function Fl(){return new sa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const f2=new ct(ye.comparator),d2=new xt(ye.comparator);function Pe(...r){let e=d2;for(const n of r)e=e.add(n);return e}const m2=new xt(Le);function p2(){return m2}function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function oS(r){return{integerValue:""+r}}function g2(r,e){return jD(e)?oS(e):Cp(r,e)}class Xh{constructor(){this._=void 0}}function y2(r,e,n){return r instanceof Ih?(function(o,u){const f={fields:{[q0]:{stringValue:B0},[F0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Kh(u)),u&&(f.fields[H0]=u),{mapValue:f}})(n,e):r instanceof tu?uS(r,e):r instanceof nu?cS(r,e):(function(o,u){const f=lS(o,u),m=kE(f)+kE(o.Ae);return Lm(f)&&Lm(o.Ae)?oS(m):Cp(o.serializer,m)})(r,e)}function _2(r,e,n){return r instanceof tu?uS(r,e):r instanceof nu?cS(r,e):n}function lS(r,e){return r instanceof Dh?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ih extends Xh{}class tu extends Xh{constructor(e){super(),this.elements=e}}function uS(r,e){const n=hS(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Xh{constructor(e){super(),this.elements=e}}function cS(r,e){let n=hS(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Dh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kE(r){return vt(r.integerValue||r.doubleValue)}function hS(r){return bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function v2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof nu&&o instanceof nu?co(s.elements,o.elements,ki):s instanceof Dh&&o instanceof Dh?ki(s.Ae,o.Ae):s instanceof Ih&&o instanceof Ih})(r.transform,e.transform)}class E2{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function fS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ip(r.key,ni.none()):new fu(r.key,r.data,ni.none());{const n=r.data,s=mn.empty();let o=new xt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ys(r.key,s,new bn(o.toArray()),ni.none())}}function T2(r,e,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),g=PE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=PE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(dS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof fu?(function(u,f,m,g){if(!hh(u.precondition,f))return m;const y=u.value.clone(),E=UE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,f,m,g){if(!hh(u.precondition,f))return m;const y=UE(u.fieldTransforms,g,f),E=f.data;return E.setAll(dS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function S2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=lS(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function LE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,f)=>v2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function PE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,_2(f,m,n[o]))}return s}function UE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,y2(u,f,e))}return s}class Ip extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A2 extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&T2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=fS(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,s)=>LE(n,s)))&&co(this.baseMutations,e.baseMutations,((n,s)=>LE(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return f2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}class w2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class R2{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,je;function C2(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function mS(r){if(r===void 0)return lr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function I2(){return new TextEncoder}const D2=new ss([4294967295,4294967295],0);function zE(r){const e=I2().encode(r),n=new I0;return n.update(e),new Uint8Array(n.digest())}function jE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Np{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(D2)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Np(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=zE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Se.min(),o,new ct(Le),ur(),Pe())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Pe(),Pe(),Pe())}}class fh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class pS{constructor(e,n){this.targetId=e,this.Ce=n}}class gS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class BE{constructor(){this.ve=0,this.Fe=qE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new du(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=qE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class N2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.He=Wc(),this.Je=Wc(),this.Ze=new ct(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new ye(u.path);this.et(n,f,Zt.newNoDocument(f,Se.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cs(s).toUint8Array()}catch(g){if(g instanceof j0)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Np(f,o,u)}catch(g){return uo(g instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const g=new ye(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Pe();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ze,this.je,s);return this.je=ur(),this.He=Wc(),this.Je=Wc(),this.Ze=new ct(Le),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new BE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new xt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new xt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ct(ye.comparator)}function qE(){return new ct(ye.comparator)}const O2={asc:"ASCENDING",desc:"DESCENDING"},V2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class x2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function k2(r,e){return Nh(r,e.toTimestamp())}function Mi(r){return Qe(!!r,49232),Se.fromTimestamp((function(n){const s=us(n);return new Be(s.seconds,s.nanos)})(r))}function Op(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function _S(r){const e=rt.fromString(r);return Qe(AS(e),10190,{key:e.toString()}),e}function Hm(r,e){return Op(r.databaseId,e.path)}function vm(r,e){const n=_S(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(ES(n))}function vS(r,e){return Op(r.databaseId,e)}function L2(r){const e=_S(r);return e.length===4?rt.emptyPath():ES(e)}function Fm(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ES(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function HE(r,e,n){return{name:Hm(r,e),fields:n.value.mapValue.fields}}function P2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ee.UNKNOWN:mS(y.code);return new ue(E,y.message||"")})(f);n=new gS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):Se.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(r,s.document),u=s.readTime?Mi(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new R2(o,u),m=s.targetId;n=new pS(m,f)}}return n}function U2(r,e){let n;if(e instanceof fu)n={update:HE(r,e.key,e.value)};else if(e instanceof Ip)n={delete:Hm(r,e.key)};else if(e instanceof ys)n={update:HE(r,e.key,e.data),updateMask:Y2(e.fieldMask)};else{if(!(e instanceof A2))return Ee(16599,{dt:e.type});n={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:k2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function z2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Se.min())&&(f=Mi(u)),new E2(f,o.transformResults||[])})(n,e)))):[]}function j2(r,e){return{documents:[vS(r,e.path)]}}function B2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vS(r,o);const u=(function(y){if(y.length!==0)return SS(ai.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Ja(b.field),direction:F2(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function q2(r){let e=L2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=TS(S);return b instanceof ai&&$0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((b=>(function(Q){return new eu(Wa(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,Gh(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(S){const b=!!S.before,P=S.values||[];return new Ch(P,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const b=!S.before,P=S.values||[];return new Ch(P,b)})(n.endAt)),s2(e,o,f,u,m,"F",g,y)}function H2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>TS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function F2(r){return O2[r]}function G2(r){return V2[r]}function K2(r){return M2[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return Qt.fromServerFormat(r.fieldPath)}function SS(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:G2(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((o=>SS(o)));return s.length===1?s[0]:{compositeFilter:{op:K2(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function Y2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function bS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Zr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Q2{constructor(e){this.yt=e}}function X2(r){const e=q2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}class $2{constructor(){this.Sn=new J2}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ls.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class J2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(rt.comparator)).toArray()}}const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wS=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(wS,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class mo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mo(0)}static ar(){return new mo(-1)}}const GE="LruGarbageCollector",W2=1048576;function KE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class Z2{constructor(e){this.Pr=e,this.buffer=new xt(KE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(GE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?ce(GE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Ar(3e5)}))}}class tN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Fh.ce);const s=new Z2(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(FE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Xa()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function nN(r,e){return new tN(r,e)}class iN{constructor(){this.changes=new sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,bn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ys)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Gl(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new rN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||bn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=aS();E.forEach((b=>{if(!u.has(b)){const P=fS(n.get(b),s.get(b));P!==null&&S.set(b,P),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return a2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Js());let m=$l,g=u;return f.next((y=>ne.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{g=g.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Pe()))).next((E=>({batchId:m,changes:sS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const y=(function(S,b){return new Co(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,b)=>{f=f.insert(S,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Gl(E.mutation,y,bn.empty(),Be.now()),Qh(n,y)&&(m=m.insert(g,y))})),m}))}}class aN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:X2(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),ne.resolve()}}class oN{constructor(){this.overlays=new ct(ye.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new w2(n,s));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class lN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Vp{constructor(){this.kr=new xt(zt.Kr),this.qr=new xt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ye(new rt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new rt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}class uN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xt(zt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new b2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Sp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Le);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new xt(Le);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cN{constructor(e){this.ti=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||LD(kD(E),s)<=0||(o.has(E.key)||Qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new hN(this)}getSize(e){return ne.resolve(this.size)}}class hN extends iN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class fN{constructor(e){this.persistence=e,this.ri=new sa((n=>wp(n)),Rp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Vp,this.targetCount=0,this.oi=mo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class RS{constructor(e,n){this._i={},this.overlays={},this.ai=new Fh(0),this.ui=!1,this.ui=!0,this.ci=new lN,this.referenceDelegate=e(this),this.li=new fN(this),this.indexManager=new $2,this.remoteDocumentCache=(function(o){return new cN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Q2(n),this.Pi=new aN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new uN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new dN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class dN extends UD{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new Vp,this.Ai=null}static Vi(e){return new Mp(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.fi=new sa((s=>BD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nN(this,n)}static Vi(e,n){return new Oh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(e,n.fromCache,s,o)}}class mN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return H1()?8:zD(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new mN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Xa()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Xa()<=ke.DEBUG&&ce("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Xa()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ne.resolve())}gs(e,n){if(xE(n))return ne.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,jm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return xE(n)||o.isEqual(Se.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ne.resolve(null):(Xa()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.Ds(e,f,n,xD(o,$l)).next((m=>m)))}))}bs(e,n){let s=new xt(iS(e));return n.forEach(((o,u)=>{Qh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Xa()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$a(n)),this.fs.getDocumentsMatchingQuery(e,n,ls.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const kp="LocalStore",gN=3e8;class yN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Le),this.Fs=new sa((u=>wp(u)),Rp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function _N(r,e,n,s){return new yN(r,e,n,s)}async function CS(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function vN(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,b=S.keys();let P=ne.resolve();return b.forEach((Q=>{P=P.next((()=>E.getEntry(g,Q))).next((k=>{const H=y.docVersions.get(Q);Qe(H!==null,48541),k.version.compareTo(H)<0&&(S.applyToRemoteDocument(k,y),k.isValidDocument()&&(k.setReadTime(y.commitVersion),E.addEntry(k)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function IS(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function EN(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(k,H,ie){return k.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=gN?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(b,P,E)&&m.push(n.li.updateTargetData(u,P))}));let g=ur(),y=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(TN(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function TN(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(kp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function SN(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function AN(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Gm(r,e,n){const s=Re(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;ce(kp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function YE(r,e,n){const s=Re(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Re(g),b=S.Fs.get(E);return b!==void 0?ne.resolve(S.vs.get(b)):S.li.getTargetData(y,E)})(s,f,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe()))).next((m=>(bN(s,u2(e),m),{documents:m,ks:u})))))}function bN(r,e,n){let s=r.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class QE{constructor(){this.activeTargetIds=p2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wN{constructor(){this.vo=new QE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new QE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RN{Mo(e){}shutdown(){}}const XE="ConnectivityMonitor";class $E{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(XE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(XE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Km(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const Em="RestConnection",CN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class IN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Km(),m=this.Qo(e,n.toUriEncodedString());ce(Em,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=Eo(y);return this.zo(e,m,g,s,E).then((S=>(ce(Em,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw uo(Em,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=CN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class DN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Ml=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class io extends IN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!io.c_){const e=V0();Ml(e,O0.STAT_EVENT,(n=>{n.stat===Mm.PROXY?ce(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Mm.NOPROXY&&ce(Jt,"STAT_EVENT: detected no buffering proxy")})),io.c_=!0}}zo(e,n,s,o,u){const f=Km();return new Promise(((m,g)=>{const y=new D0;y.setWithCredentials(!0),y.listenOnce(N0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case lh.NO_ERROR:const S=y.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case lh.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),g(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const b=y.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const Q=P?.error;if(Q&&Q.status&&Q.message){const k=(function(ie){const re=ie.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(re)>=0?re:ee.UNKNOWN})(Q.status);g(new ue(k,Q.message))}else g(new ue(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Km(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,b=!1;const P=new DN({Ho:Q=>{b?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(S||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,Q),E.send(Q))},Jo:()=>E.close()});return Ml(E,Pl.EventType.OPEN,(()=>{b||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),Ml(E,Pl.EventType.CLOSE,(()=>{b||(b=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),Ml(E,Pl.EventType.ERROR,(Q=>{b||(b=!0,uo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),P.o_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),Ml(E,Pl.EventType.MESSAGE,(Q=>{if(!b){const k=Q.data[0];Qe(!!k,16349);const H=k,ie=H?.error||H[0]?.error;if(ie){ce(Jt,`RPC '${e}' stream ${o} received error:`,ie);const re=ie.status;let ae=(function(be){const R=It[be];if(R!==void 0)return mS(R)})(re),Ce=ie.message;ae===void 0&&(ae=ee.INTERNAL,Ce="Unknown error status: "+re+" with message "+ie.message),b=!0,P.o_(new ue(ae,Ce)),E.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,k),P.__(k)}})),io.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M0()}}function NN(r){return new io(r)}function Tm(){return typeof document<"u"?document:null}function Wh(r){return new x2(r,!0)}io.c_=!1;class DS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const JE="PersistentStream";class NS{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ON extends NS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Mi(f.readTime):Se.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Um(g)?{documents:j2(u,g)}:{query:B2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=yS(u,f.resumeToken);const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=H2(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.K_(n)}}class VN extends NS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=z2(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Fm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>U2(this.serializer,s)))};this.K_(n)}}class MN{}class xN extends MN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function kN(r,e,n,s){return new xN(r,e,n,s)}class LN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class PN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{aa(this)&&(ce(ia,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await mu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Zh(y)})(this))}))})),this.Va=new LN(s,o)}}async function Zh(r){if(aa(r))for(const e of r.Ra)await e(!0)}async function mu(r){for(const e of r.Ra)await e(!1)}function OS(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):Io(n).O_()&&Pp(n,e))}function Lp(r,e){const n=Re(r),s=Io(n);n.Ia.delete(e),s.O_()&&VS(n,e),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Va.set("Unknown"))}function Pp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Z_(e)}function VS(r,e){r.da.$e(e),Io(r).X_(e)}function Up(r){r.da=new N2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Va.ua()}function zp(r){return aa(r)&&!Io(r).x_()&&r.Ia.size>0}function aa(r){return Re(r).Ea.size===0}function MS(r){r.da=void 0}async function UN(r){r.Va.set("Online")}async function zN(r){r.Ia.forEach(((e,n)=>{Pp(r,e)}))}async function jN(r,e){MS(r),zp(r)?(r.Va.ha(e),Up(r)):r.Va.set("Unknown")}async function BN(r,e,n){if(r.Va.set("Online"),e instanceof gS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ce(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(r,s)}else if(e instanceof fh?r.da.Xe(e):e instanceof pS?r.da.st(e):r.da.tt(e),!n.isEqual(Se.min()))try{const s=await IS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),VS(u,g);const S=new Zr(E.target,g,y,E.sequenceNumber);Pp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ia,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,e,n){if(!Ro(e))throw e;r.Ea.add(1),await mu(r),r.Va.set("Offline"),n||(n=()=>IS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Zh(r)}))}function xS(r,e){return e().catch((n=>Vh(r,n,e)))}async function ef(r){const e=Re(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;qN(e);)try{const o=await SN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,HN(e,o)}catch(o){await Vh(e,o)}kS(e)&&LS(e)}function qN(r){return aa(r)&&r.Ta.length<10}function HN(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function kS(r){return aa(r)&&!fs(r).x_()&&r.Ta.length>0}function LS(r){fs(r).start()}async function FN(r){fs(r).ra()}async function GN(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function KN(r,e,n){const s=r.Ta.shift(),o=Dp.from(s,e,n);await xS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function YN(r,e){e&&fs(r).Y_&&await(async function(s,o){if((function(f){return C2(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await xS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,e),kS(r)&&LS(r)}async function WE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(ia,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await mu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function QN(r,e){const n=Re(r);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await mu(n),n.Va.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new ON(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:UN.bind(null,r),Yo:zN.bind(null,r),t_:jN.bind(null,r),J_:BN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Va.set("Unknown")):(await r.ma.stop(),MS(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new VN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FN.bind(null,r),t_:YN.bind(null,r),ta:GN.bind(null,r),na:KN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Ro(r))return new ue(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ZE{constructor(){this.ga=new ct(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class po{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class XN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $N{constructor(){this.queries=eT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=eT(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function eT(){return new sa((r=>nS(r)),Yh)}async function JN(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new XN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function WN(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&qp(n)}function eO(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function qp(r){r.Ca.forEach((e=>{e.next()}))}var Ym,tT;(tT=Ym||(Ym={})).Ma="default",tT.Cache="cache";class tO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ym.Cache}}class PS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class nO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=iS(e),this.tu=new ro(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new ZE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const b=o.get(E),P=Qh(this.query,S)?S:null,Q=!!b&&this.mutatedKeys.has(b.key),k=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;b&&P?b.data.isEqual(P.data)?Q!==k&&(s.track({type:3,doc:P}),H=!0):this.su(b,P)||(s.track({type:2,doc:P}),H=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),H=!0):b&&!P&&(s.track({type:1,doc:b}),H=!0,(g||y)&&(m=!0)),H&&(P?(f=f.add(P),u=k?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(P,Q){const k=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:H})}};return k(P)-k(Q)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new po(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new US(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new PS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hp="SyncEngine";class iO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class rO{constructor(e){this.key=e,this.hu=!1}}class sO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>nS(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ye.comparator),this.Au=new Map,this.Vu=new Vp,this.du={},this.mu=new Map,this.fu=mo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aO(r,e,n=!0){const s=FS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zS(s,e,n,!0),o}async function oO(r,e){const n=FS(r);await zS(n,e,!0,!1)}async function zS(r,e,n,s){const o=await AN(r.localStore,Vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await lO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&OS(r.remoteStore,o),m}async function lO(r,e,n,s,o){r.pu=(S,b,P)=>(async function(k,H,ie,re){let ae=H.view.ru(ie);ae.Ss&&(ae=await YE(k.localStore,H.query,!1).then((({documents:R})=>H.view.ru(R,ae))));const Ce=re&&re.targetChanges.get(H.targetId),Ae=re&&re.targetMismatches.get(H.targetId)!=null,be=H.view.applyChanges(ae,k.isPrimaryClient,Ce,Ae);return iT(k,H.targetId,be.au),be.snapshot})(r,S,b,P);const u=await YE(r.localStore,e,!0),f=new nO(e,u.ks),m=f.ru(u.documents),g=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);iT(r,n,y.au);const E=new iO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function uO(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Yh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Qm(s,o.targetId)})).catch(wo)):(Qm(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function cO(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function hO(r,e,n){const s=_O(r);try{const o=await(function(f,m){const g=Re(f),y=Be.now(),E=m.reduce(((P,Q)=>P.add(Q.key)),Pe());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Q=ur(),k=Pe();return g.xs.getEntries(P,E).next((H=>{Q=H,Q.forEach(((ie,re)=>{re.isValidDocument()||(k=k.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,Q))).next((H=>{S=H;const ie=[];for(const re of m){const ae=S2(re,S.get(re.key).overlayedDocument);ae!=null&&ie.push(new ys(re.key,ae,Y0(ae.value.mapValue),ni.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,ie,m)})).next((H=>{b=H;const ie=H.applyToLocalDocumentSet(S,k);return g.documentOverlayCache.saveOverlays(P,H.batchId,ie)}))})).then((()=>({batchId:b.batchId,changes:sS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ct(Le)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function jS(r,e){const n=Re(r);try{const s=await EN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await pu(n,s,e)}catch(s){await wo(s)}}function nT(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Re(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const b of S.ba)b.va(m)&&(y=!0)})),y&&qp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fO(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Pe().add(u),g=new Jh(Se.min(),new Map,new ct(Le),f,m);await jS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Fp(s)}else await Gm(s.localStore,e,!1).then((()=>Qm(s,e,n))).catch(wo)}async function dO(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await vN(n.localStore,e);qS(n,s,null),BS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await wo(o)}}async function mO(r,e,n){const s=Re(r);try{const o=await(function(f,m){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Qe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);qS(s,e,n),BS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await wo(o)}}function BS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function qS(r,e,n){const s=Re(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||HS(r,s)}))}function HS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Lp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Fp(r))}function iT(r,e,n){for(const s of n)s instanceof PS?(r.Vu.addReference(s.key,e),pO(r,s)):s instanceof US?(ce(Hp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||HS(r,s.key)):Ee(19791,{wu:s})}function pO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ce(Hp,"New document in limbo: "+n),r.Eu.add(s),Fp(r))}function Fp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new rO(n)),r.Ru=r.Ru.insert(n,s),OS(r.remoteStore,new Zr(Vi(eS(n.path)),s,"TargetPurposeLimboResolution",Fh.ce))}}async function pu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=xp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(y,(b=>ne.forEach(b.Ts,(P=>E.persistence.referenceDelegate.addReference(S,b.targetId,P))).next((()=>ne.forEach(b.Is,(P=>E.persistence.referenceDelegate.removeReference(S,b.targetId,P)))))))))}catch(S){if(!Ro(S))throw S;ce(kp,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const P=E.vs.get(b),Q=P.snapshotVersion,k=P.withLastLimboFreeSnapshotVersion(Q);E.vs=E.vs.insert(b,k)}}})(s.localStore,u))}async function gO(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce(Hp,"User change. New user:",e.toKey());const s=await CS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ns)}}function yO(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function FS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fO.bind(null,e),e.Pu.J_=ZN.bind(null,e.eventManager),e.Pu.yu=eO.bind(null,e.eventManager),e}function _O(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mO.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _N(this.persistence,new pN,e.initialUser,this.serializer)}Cu(e){return new RS(Mp.Vi,this.serializer)}Du(e){return new wN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class vO extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new RS((s=>Oh.Vi(s,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gO.bind(null,this.syncEngine),await QN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $N})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),s=NN(e.databaseInfo);return kN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new PN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nT(this.syncEngine,n,0)),(function(){return $E.v()?new $E:new RN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new sO(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(ia,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class EO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ds="FirestoreClient";class TO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await CS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await SO(r);ce(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>WE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>WE(e.remoteStore,o))),r._onlineComponents=e}async function SO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ds,"Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Sm(r,new Mh)}}else ce(ds,"Using default OfflineComponentProvider"),await Sm(r,new vO(void 0));return r._offlineComponents}async function GS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ds,"Using user provided OnlineComponentProvider"),await rT(r,r._uninitializedComponentsProvider._online)):(ce(ds,"Using default OnlineComponentProvider"),await rT(r,new Xm))),r._onlineComponents}function AO(r){return GS(r).then((e=>e.syncEngine))}async function bO(r){const e=await GS(r),n=e.eventManager;return n.onListen=aO.bind(null,e.syncEngine),n.onUnlisten=uO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cO.bind(null,e.syncEngine),n}function wO(r,e,n={}){const s=new as;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new EO({next:b=>{E.Nu(),f.enqueueAndForget((()=>WN(u,S))),b.fromCache&&g.source==="server"?y.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new tO(m,E,{includeMetadataChanges:!0,Ka:!0});return JN(u,S)})(await bO(r),r.asyncQueue,e,n,s))),s.promise}function RO(r,e){const n=new as;return r.asyncQueue.enqueueAndForget((async()=>hO(await AO(r),e,n))),n.promise}function KS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const CO="ComponentProvider",sT=new Map;function IO(r,e,n,s,o){return new FD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,KS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const YS="firestore.googleapis.com",aT=!0;class oT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YS,this.ssl=aT}else this.host=e.host,this.ssl=e.ssl??aT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W2)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AD;switch(s.type){case"firstParty":return new CD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sT.get(n);s&&(ce(CO,"Removing Datastore"),sT.delete(n),s.terminate())})(this),Promise.resolve()}}function DO(r,e,n,s={}){r=na(r,tf);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(BT(`https://${m}`),qT("Firestore",!0)),u.host!==YS&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=x1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(S)}r._authCredentials=new bD(new k0(y,E))}}class oa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,Mt._jsonSchema))return new Mt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Nt("string",Mt._jsonSchemaVersion),referencePath:Nt("string")};class os extends oa{constructor(e,n,s){super(e,n,eS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ye(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function $s(r,e,...n){if(r=jt(r),L0("collection","path",e),r instanceof tf){const s=rt.fromString(e,...n);return EE(s),new os(r,null,s)}{if(!(r instanceof Mt||r instanceof os))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return EE(s),new os(r.firestore,null,s)}}function es(r,e,...n){if(r=jt(r),arguments.length===1&&(e=Tp.newId()),L0("doc","path",e),r instanceof tf){const s=rt.fromString(e,...n);return vE(s),new Mt(r,null,new ye(s))}{if(!(r instanceof Mt||r instanceof os))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return vE(s),new Mt(r.firestore,r instanceof os?r.converter:null,new ye(s))}}const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DS(this,"async_queue_retry"),this._c=()=>{const s=Tm();s&&ce(lT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;ce(lT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",cT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class gu extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function NO(r,e){const n=typeof r=="object"?r:KT(),s=typeof r=="string"?r:wh,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=V1("firestore");u&&DO(o,...u)}return o}function QS(r){if(r._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OO(r),r._firestoreClient}function OO(r){const e=r._freezeSettings(),n=IO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new TO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Nt("string",Bn._jsonSchemaVersion),bytes:Nt("string")};class Gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._methodName=e}}class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Nt("string",xi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Nt("string",ii._jsonSchemaVersion),vectorValues:Nt("object")};const VO=/^__.*__$/;class MO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class XS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $S(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:r})}}class Yp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($S(this.dataSource)&&VO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wh(e)}createContext(e,n,s,o=!1){return new Yp({dataSource:e,methodName:n,targetDoc:s,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qp(r){const e=r._freezeSettings(),n=Wh(r._databaseId);return new xO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function kO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",f,s);const m=JS(s,f);let g,y;if(u.merge)g=new bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=go(e,S,n);if(!f.contains(b))throw new ue(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);eA(E,b)||E.push(b)}g=new bn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new MO(new mn(m),g,y)}class nf extends Kp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function LO(r,e,n,s){const o=r.createContext(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();gs(s,((g,y)=>{const E=ZS(e,g,n);y=jt(y);const S=o.childContextForFieldPath(E);if(y instanceof nf)u.push(E);else{const b=yu(y,S);b!=null&&(u.push(E),f.set(E,b))}}));const m=new bn(u);return new XS(f,m,o.fieldTransforms)}function PO(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[go(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(go(e,u[b])),g.push(u[b+1]);const y=[],E=mn.empty();for(let b=m.length-1;b>=0;--b)if(!eA(y,m[b])){const P=m[b];let Q=g[b];Q=jt(Q);const k=f.childContextForFieldPath(P);if(Q instanceof nf)y.push(P);else{const H=yu(Q,k);H!=null&&(y.push(P),E.set(P,H))}}const S=new bn(y);return new XS(E,S,f.fieldTransforms)}function UO(r,e,n,s=!1){return yu(n,r.createContext(s?4:3,e))}function yu(r,e){if(WS(r=jt(r)))return Xp("Unsupported field value:",e,r),JS(r,e);if(r instanceof Kp)return(function(s,o){if(!$S(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=yu(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return g2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:yS(o.serializer,s._byteString)};if(s instanceof Mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ii)return(function(f,m){const g=f instanceof ii?f.toArray():f;return{mapValue:{fields:{[G0]:{stringValue:K0},[Rh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Cp(m.serializer,E)}))}}}}}})(s,o);if(bS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hh(s)}`)})(r,e)}function JS(r,e){const n={};return z0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const u=yu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function WS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof xi||r instanceof Bn||r instanceof Mt||r instanceof Kp||r instanceof ii||bS(r))}function Xp(r,e,n){if(!WS(n)||!P0(n)){const s=Hh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function go(r,e,n){if((e=jt(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return ZS(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const zO=new RegExp("[~\\*/\\[\\]]");function ZS(r,e,n){if(e.search(zO)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gp(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(ee.INVALID_ARGUMENT,m+r+g)}function eA(r,e){return r.some((n=>n.isEqual(e)))}class jO{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Rh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ii(n)}convertGeoPoint(e){return new xi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=us(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(AS(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class BO extends jO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}const hT="@firebase/firestore",fT="4.10.0";class tA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(go("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qO extends tA{data(){return super.data()}}function HO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class nA extends $p{}function FO(r,e,...n){let s=[];e instanceof $p&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Wp)).length,m=u.filter((g=>g instanceof Jp)).length;if(f>1||f>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jp extends nA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jp(e,n,s)}_apply(e){const n=this._parse(e);return iA(e._query,n),new oa(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=Qp(e.firestore);return(function(u,f,m,g,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){mT(S,E);const Q=[];for(const k of S)Q.push(dT(g,u,k));b={arrayValue:{values:Q}}}else b=dT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||mT(S,E),b=UO(m,f,S,E==="in"||E==="not-in");return Dt.create(y,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wp extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)iA(f,g),f=zm(f,g)})(e._query,n),new oa(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends nA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,f)})(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,l2(e._query,n))}}function GO(r,e="asc"){const n=e,s=go("orderBy",r);return Zp._create(s,n)}function dT(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tS(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IE(r,new ye(s))}if(n instanceof Mt)return IE(r,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function mT(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function KO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends tA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(go("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Nt("string",so._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class dh extends so{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:YO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Nt("string",ao._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};function mh(r){r=na(r,oa);const e=na(r.firestore,gu),n=QS(e),s=new BO(e);return HO(r._query),wO(n,r._query).then((o=>new ao(e,s,r,o)))}function kh(r,e,n,...s){r=na(r,Mt);const o=na(r.firestore,gu),u=Qp(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof Gp?PO(u,"updateDoc",r._key,e,n,s):LO(u,"updateDoc",r._key,e),eg(o,[f.toMutation(r._key,ni.exists(!0))])}function $m(r){return eg(na(r.firestore,gu),[new Ip(r._key,ni.none())])}function Jm(r,e){const n=na(r.firestore,gu),s=es(r),o=KO(r.converter,e),u=Qp(r.firestore);return eg(n,[kO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then((()=>s))}function eg(r,e){const n=QS(r);return RO(n,e)}(function(e,n=!0){SD(To),oo(new Zs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new gu(new wD(s.getProvider("auth-internal")),new ID(f,s.getProvider("app-check-internal")),GD(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(hT,fT,e),is(hT,fT,"esm2020")})();const QO={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},rA=GT(QO),th=_D(rA),fn=NO(rA),pT="EYdciKDOi3UYBLk1u8hHams5tmO2",sA=q.createContext();function tg(){return q.useContext(sA)}function XO({children:r}){const[e,n]=q.useState(null),[s,o]=q.useState(!1),[u,f]=q.useState(!0);q.useEffect(()=>oI(th,S=>{n(S),o(S?.uid===pT),f(!1)}),[]);const y={currentUser:e,isAdmin:s,login:async(E,S)=>{const b=await rI(th,E,S);if(b.user.uid!==pT)throw await aE(th),new Error("Access denied. Admin only.");return b},logout:()=>aE(th),loading:u};return V.jsx(sA.Provider,{value:y,children:r})}function $O(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(!1),{login:g}=tg(),y=ru(),E=async S=>{S.preventDefault(),u(""),m(!0);try{await g(r,n),y("/dashboard")}catch(b){u(b.message||"Failed to log in")}m(!1)};return V.jsx("div",{className:"login-container",children:V.jsxs("div",{className:"login-card",children:[V.jsxs("div",{className:"login-header",children:[V.jsx("h1",{children:"Mind Core Fitness"}),V.jsx("p",{children:"Admin Portal"})]}),o&&V.jsx("div",{className:"error-message",children:o}),V.jsxs("form",{onSubmit:E,children:[V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"email",children:"Email"}),V.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"password",children:"Password"}),V.jsx("input",{type:"password",id:"password",value:n,onChange:S=>s(S.target.value),required:!0})]}),V.jsx("button",{type:"submit",className:"login-btn",disabled:f,children:f?"Logging in...":"Log In"})]}),V.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function JO(){const[r,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(null),[f,m]=q.useState({});q.useEffect(()=>{g()},[]);const g=async()=>{try{const k=FO($s(fn,"clients"),GO("createdAt","desc")),ie=(await mh(k)).docs.map(re=>({id:re.id,...re.data()}));e(ie)}catch(k){console.error("Error fetching clients:",k)}s(!1)},y=k=>k?(k.toDate?k.toDate():new Date(k)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",E=async(k,H)=>{if(window.confirm(`Are you sure you want to delete ${H}?`))try{await $m(es(fn,"clients",k)),e(r.filter(ie=>ie.id!==k))}catch(ie){console.error("Error deleting client:",ie),alert("Failed to delete client")}},S=k=>{u(k.id),m({name:k.name,email:k.email,weeksInBlock:k.weeksInBlock,totalSessions:k.totalSessions,sessionsRemaining:k.sessionsRemaining,sessionDuration:k.sessionDuration||45,startDate:k.startDate?.toDate?.().toISOString().split("T")[0]||"",endDate:k.endDate?.toDate?.().toISOString().split("T")[0]||"",status:k.status})},b=k=>{const{name:H,value:ie}=k.target;if(m(re=>({...re,[H]:ie})),H==="startDate"||H==="weeksInBlock"){const re=H==="startDate"?ie:f.startDate,ae=parseInt(H==="weeksInBlock"?ie:f.weeksInBlock);if(re&&ae>0){const Ce=new Date(re),Ae=new Date(Ce);Ae.setDate(Ae.getDate()+ae*7),m(be=>({...be,[H]:ie,endDate:Ae.toISOString().split("T")[0]}))}}},P=async k=>{try{await kh(es(fn,"clients",k),{name:f.name.trim(),email:f.email.trim().toLowerCase(),weeksInBlock:parseInt(f.weeksInBlock),totalSessions:parseInt(f.totalSessions),sessionsRemaining:parseInt(f.sessionsRemaining),sessionDuration:parseInt(f.sessionDuration),startDate:Be.fromDate(new Date(f.startDate)),endDate:Be.fromDate(new Date(f.endDate)),status:f.status}),e(r.map(H=>H.id===k?{...H,...f,weeksInBlock:parseInt(f.weeksInBlock),totalSessions:parseInt(f.totalSessions),sessionsRemaining:parseInt(f.sessionsRemaining),sessionDuration:parseInt(f.sessionDuration),startDate:Be.fromDate(new Date(f.startDate)),endDate:Be.fromDate(new Date(f.endDate))}:H)),u(null)}catch(H){console.error("Error updating client:",H),alert("Failed to update client")}},Q=async k=>{try{const H=r.find(ie=>ie.id===k)?.status==="archived"?"active":"archived";await kh(es(fn,"clients",k),{status:H}),e(r.map(ie=>ie.id===k?{...ie,status:H}:ie))}catch(H){console.error("Error archiving client:",H),alert("Failed to update client status")}};return n?V.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):r.length===0?V.jsxs("div",{className:"client-list-empty",children:[V.jsx("p",{children:"No clients yet"}),V.jsx("span",{children:"Add your first client to get started"})]}):V.jsx("div",{className:"client-list",children:r.map(k=>V.jsx("div",{className:`client-card ${k.status==="archived"?"archived":""}`,children:o===k.id?V.jsxs("div",{className:"edit-form",children:[V.jsxs("div",{className:"edit-row",children:[V.jsx("input",{type:"text",name:"name",value:f.name,onChange:b,placeholder:"Name"}),V.jsx("input",{type:"email",name:"email",value:f.email,onChange:b,placeholder:"Email"})]}),V.jsxs("div",{className:"edit-row",children:[V.jsx("input",{type:"number",name:"weeksInBlock",value:f.weeksInBlock,onChange:b,placeholder:"Weeks",min:"1"}),V.jsx("input",{type:"number",name:"totalSessions",value:f.totalSessions,onChange:b,placeholder:"Total Sessions",min:"1"}),V.jsx("input",{type:"number",name:"sessionsRemaining",value:f.sessionsRemaining,onChange:b,placeholder:"Remaining",min:"0"}),V.jsxs("select",{name:"sessionDuration",value:f.sessionDuration,onChange:b,children:[V.jsx("option",{value:"30",children:"30 min"}),V.jsx("option",{value:"45",children:"45 min"})]})]}),V.jsxs("div",{className:"edit-row",children:[V.jsx("input",{type:"date",name:"startDate",value:f.startDate,onChange:b}),V.jsx("input",{type:"date",name:"endDate",value:f.endDate,onChange:b})]}),V.jsxs("div",{className:"edit-actions",children:[V.jsx("button",{className:"save-edit-btn",onClick:()=>P(k.id),children:"Save"}),V.jsx("button",{className:"cancel-edit-btn",onClick:()=>u(null),children:"Cancel"})]})]}):V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"client-header",children:[V.jsxs("div",{className:"client-info",children:[V.jsx("h3",{children:k.name}),V.jsx("span",{className:"client-email",children:k.email})]}),V.jsx("div",{className:"client-status",children:V.jsx("span",{className:`status-badge ${k.status}`,children:k.status})})]}),V.jsxs("div",{className:"client-details",children:[V.jsxs("div",{className:"detail-item",children:[V.jsx("span",{className:"detail-label",children:"Block"}),V.jsxs("span",{className:"detail-value",children:[k.weeksInBlock," weeks"]})]}),V.jsxs("div",{className:"detail-item",children:[V.jsx("span",{className:"detail-label",children:"Sessions"}),V.jsxs("span",{className:"detail-value",children:[k.sessionsRemaining," / ",k.totalSessions," remaining"]})]}),V.jsxs("div",{className:"detail-item",children:[V.jsx("span",{className:"detail-label",children:"Duration"}),V.jsxs("span",{className:"detail-value",children:[k.sessionDuration||45," min"]})]}),V.jsxs("div",{className:"detail-item",children:[V.jsx("span",{className:"detail-label",children:"Start"}),V.jsx("span",{className:"detail-value",children:y(k.startDate)})]}),V.jsxs("div",{className:"detail-item",children:[V.jsx("span",{className:"detail-label",children:"End"}),V.jsx("span",{className:"detail-value",children:y(k.endDate)})]})]}),V.jsxs("div",{className:"client-actions",children:[V.jsx("button",{className:"action-btn edit",onClick:()=>S(k),children:"Edit"}),V.jsx("button",{className:"action-btn archive",onClick:()=>Q(k.id),children:k.status==="archived"?"Reactivate":"Archive"}),V.jsx("button",{className:"action-btn delete",onClick:()=>E(k.id,k.name),children:"Delete"})]})]})},k.id))})}const aA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},Wm=["monday","tuesday","wednesday","thursday","friday"],WO=["Monday","Tuesday","Wednesday","Thursday","Friday"],ZO=["Mon","Tue","Wed","Thu","Fri"],gT=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},eV=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),Wm.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},Qs=r=>r.toISOString().split("T")[0],Zm=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},ep=(r,e)=>{const n=Zm(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},tV=r=>{const e=aA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=ep(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=ep(s,15)}return n};function nV(){const[r,e]=q.useState(new Date),[n,s]=q.useState([]),[o,u]=q.useState([]),[f,m]=q.useState([]),[g,y]=q.useState([]),[E,S]=q.useState(null),[b,P]=q.useState(null),[Q,k]=q.useState(!1),[H,ie]=q.useState(!1),[re,ae]=q.useState(""),[Ce,Ae]=q.useState(!0);q.useEffect(()=>{s(eV(r))},[r]),q.useEffect(()=>{x()},[]);const be=G=>{if(S(G),k(!1),G.startDate){const te=G.startDate.toDate?G.startDate.toDate():new Date(G.startDate);e(te)}P(null)},R=()=>{if(!E)return null;const G=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),te=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),le=n[0];if(!le)return null;const he=10080*60*1e3,de=Math.floor((le-G)/he)+1,Ye=E.weeksInBlock||Math.ceil((te-G)/he),Te=le>=G&&le<=te;return{startDate:G,endDate:te,weekNumber:de,totalWeeks:Ye,isWithinBlock:Te}},w=()=>{if(E?.startDate){const G=E.startDate.toDate?E.startDate.toDate():new Date(E.startDate);e(G),P(null)}},I=()=>{if(E?.endDate){const G=E.endDate.toDate?E.endDate.toDate():new Date(E.endDate);e(G),P(null)}},x=async()=>{try{const te=(await mh($s(fn,"clients"))).docs.map(Te=>({id:Te.id,...Te.data()})).filter(Te=>Te.status==="active");u(te);const he=(await mh($s(fn,"sessions"))).docs.map(Te=>({id:Te.id,...Te.data()}));m(he);const Ye=(await mh($s(fn,"holidays"))).docs.map(Te=>({id:Te.id,...Te.data()}));y(Ye)}catch(G){console.error("Error fetching data:",G)}Ae(!1)},N=G=>{const te=new Date(r);te.setDate(te.getDate()+G*7),e(te),P(null)},U=()=>{e(new Date),P(null)},C=G=>{const te=Qs(G);return g.some(le=>le.date===te)},it=G=>{const te=Qs(G);return f.filter(le=>le.date===te)},ht=(G,te)=>{const le=Qs(G);return f.find(he=>he.date===le&&he.time===te)},X=(G,te,le)=>{const he=Wm[G.getDay()-1];if(!he||C(G))return!1;const de=Qs(G);if(f.find(Cn=>Cn.date===de&&Cn.time===te))return!1;const Te=ep(te,le),kt=aA[he],hr=kt.morning&&Te<=kt.morning.end,fr=kt.afternoon&&Te<=kt.afternoon.end,dr=kt.morning&&te>=kt.morning.start&&te<kt.morning.end,Rn=kt.afternoon&&te>=kt.afternoon.start&&te<kt.afternoon.end;if(dr&&!hr||Rn&&!fr)return!1;for(const Cn of f){if(Cn.date!==de)continue;const oi=Zm(Cn.time),_s=oi+(Cn.duration||45),mr=Zm(te),ft=mr+le;if(mr<_s&&ft>oi)return!1}return!0},oe=async(G,te)=>{const le=ht(G,te);if(le){if(window.confirm(`Cancel ${le.clientName}'s session at ${gT(te)}?`))try{await $m(es(fn,"sessions",le.id));const he=o.find(de=>de.id===le.clientId);he&&(await kh(es(fn,"clients",he.id),{sessionsRemaining:(he.sessionsRemaining||0)+1}),u(o.map(de=>de.id===he.id?{...de,sessionsRemaining:(de.sessionsRemaining||0)+1}:de))),m(f.filter(de=>de.id!==le.id))}catch(he){console.error("Error cancelling session:",he),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!X(G,te,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(E.sessionsRemaining<=0){alert(`${E.name} has no sessions remaining`);return}try{const he=Qs(G),de={clientId:E.id,clientName:E.name,date:he,time:te,duration:E.sessionDuration||45,createdAt:Be.now()},Ye=await Jm($s(fn,"sessions"),de);m([...f,{id:Ye.id,...de}]),await kh(es(fn,"clients",E.id),{sessionsRemaining:E.sessionsRemaining-1}),u(o.map(Te=>Te.id===E.id?{...Te,sessionsRemaining:Te.sessionsRemaining-1}:Te)),S({...E,sessionsRemaining:E.sessionsRemaining-1})}catch(he){console.error("Error booking session:",he),alert("Failed to book session")}},pe=async()=>{if(re)try{const G=await Jm($s(fn,"holidays"),{date:re,createdAt:Be.now()});y([...g,{id:G.id,date:re}]),ae(""),ie(!1)}catch(G){console.error("Error adding holiday:",G),alert("Failed to add holiday")}},Ue=async G=>{try{await $m(es(fn,"holidays",G)),y(g.filter(te=>te.id!==G))}catch(te){console.error("Error removing holiday:",te)}};if(Ce)return V.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const qe=n[0],M=n[4],W=qe&&M?`${qe.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${M.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return V.jsxs("div",{className:"calendar",children:[V.jsxs("div",{className:"calendar-header",children:[V.jsxs("div",{className:"calendar-nav",children:[V.jsx("button",{onClick:()=>N(-1),children:""}),V.jsx("button",{onClick:U,children:"Today"}),V.jsx("button",{onClick:()=>N(1),children:""})]}),V.jsx("h3",{children:W}),V.jsx("button",{className:"holiday-btn",onClick:()=>ie(!0),children:"Holidays"})]}),V.jsxs("div",{className:"client-selector",children:[V.jsx("span",{className:"selector-label",children:"Booking for:"}),E?V.jsxs("div",{className:"selected-client",children:[V.jsxs("div",{className:"selected-info",children:[V.jsx("strong",{children:E.name}),V.jsxs("span",{children:[E.sessionDuration||45,"min  ",E.sessionsRemaining," left"]}),R()&&V.jsxs("span",{className:"block-info",children:["Week ",R().weekNumber," of ",R().totalWeeks]})]}),V.jsx("button",{onClick:()=>S(null),children:"Change"})]}):V.jsx("button",{className:"select-client-btn",onClick:()=>k(!0),children:"Select Client"})]}),E&&R()&&V.jsxs("div",{className:"block-nav",children:[V.jsxs("button",{onClick:w,children:[" Start (",R().startDate.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),")"]}),V.jsx("span",{className:"block-range",children:R().isWithinBlock?" Within block":" Outside block"}),V.jsxs("button",{onClick:I,children:["End (",R().endDate.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),") "]})]}),V.jsx("div",{className:"day-cards",children:n.map((G,te)=>{const le=it(G),he=Qs(G)===Qs(new Date),de=C(G);return V.jsxs("div",{className:`day-card ${b===te?"selected":""} ${he?"today":""} ${de?"holiday":""}`,onClick:()=>!de&&P(b===te?null:te),children:[V.jsxs("div",{className:"day-card-header",children:[V.jsx("span",{className:"day-name",children:ZO[te]}),V.jsx("span",{className:"day-date",children:G.getDate()})]}),de?V.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):V.jsxs("div",{className:"day-card-status",children:[le.length," session",le.length!==1?"s":""]})]},te)})}),b!==null&&n[b]&&!C(n[b])&&V.jsxs("div",{className:"time-panel",children:[V.jsxs("div",{className:"time-panel-header",children:[V.jsxs("h4",{children:[WO[b]," ",n[b].getDate()]}),V.jsx("button",{className:"close-panel",onClick:()=>P(null),children:""})]}),V.jsx("div",{className:"time-slots",children:tV(Wm[b]).map(({time:G,period:te},le,he)=>{const de=ht(n[b],G),Ye=E&&X(n[b],G,E.sessionDuration||45),Te=le===0||he[le-1]?.period!==te;return V.jsxs("div",{children:[Te&&V.jsx("div",{className:"period-label",children:te==="morning"?"Morning":"Afternoon"}),V.jsxs("button",{className:`time-slot ${de?"booked":""} ${Ye?"available":""} ${!de&&!Ye&&E?"unavailable":""}`,onClick:()=>oe(n[b],G),children:[V.jsx("span",{className:"slot-time",children:gT(G)}),de?V.jsxs("span",{className:"slot-client",children:[de.clientName," (",de.duration,"m)"]}):Ye?V.jsx("span",{className:"slot-available",children:"Available"}):E?V.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):V.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},G)})})]}),Q&&V.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:V.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[V.jsxs("div",{className:"modal-header",children:[V.jsx("h3",{children:"Select Client"}),V.jsx("button",{className:"close-btn",onClick:()=>k(!1),children:""})]}),V.jsx("div",{className:"client-list-picker",children:o.length===0?V.jsx("p",{className:"no-items",children:"No active clients"}):o.map(G=>{const te=G.startDate?.toDate?G.startDate.toDate():new Date(G.startDate),le=G.endDate?.toDate?G.endDate.toDate():new Date(G.endDate);return V.jsxs("button",{className:"client-option",onClick:()=>be(G),children:[V.jsx("strong",{children:G.name}),V.jsxs("span",{children:[G.sessionDuration||45,"min  ",G.sessionsRemaining," sessions left"]}),V.jsxs("span",{className:"client-dates",children:[te.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",le.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},G.id)})})]})}),H&&V.jsx("div",{className:"modal-overlay",onClick:()=>ie(!1),children:V.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[V.jsxs("div",{className:"modal-header",children:[V.jsx("h3",{children:"Manage Holidays"}),V.jsx("button",{className:"close-btn",onClick:()=>ie(!1),children:""})]}),V.jsxs("div",{className:"holiday-form",children:[V.jsx("input",{type:"date",value:re,onChange:G=>ae(G.target.value)}),V.jsx("button",{onClick:pe,children:"Add"})]}),V.jsx("div",{className:"holiday-list",children:g.length===0?V.jsx("p",{className:"no-items",children:"No holidays set"}):g.map(G=>V.jsxs("div",{className:"holiday-item",children:[V.jsx("span",{children:new Date(G.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),V.jsx("button",{onClick:()=>Ue(G.id),children:"Remove"})]},G.id))})]})})]})}function iV(){const[r,e]=q.useState("clients"),{currentUser:n,logout:s,isAdmin:o,loading:u}=tg(),f=ru();q.useEffect(()=>{!u&&(!n||!o)&&f("/")},[n,o,u,f]);const m=async()=>{try{await s(),f("/")}catch(y){console.error("Failed to log out:",y)}},g=()=>{f("/add-client")};return u?V.jsx("div",{className:"loading",children:"Loading..."}):!n||!o?null:V.jsxs("div",{className:"dashboard",children:[V.jsxs("header",{className:"dashboard-header",children:[V.jsxs("div",{className:"header-left",children:[V.jsx("h1",{children:"Mind Core Fitness"}),V.jsx("span",{className:"admin-badge",children:"Admin"})]}),V.jsxs("nav",{className:"header-nav",children:[V.jsx("button",{className:`nav-btn ${r==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),V.jsx("button",{className:`nav-btn ${r==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"})]}),V.jsx("button",{className:"logout-btn",onClick:m,children:"Log Out"})]}),V.jsxs("main",{className:"dashboard-main",children:[r==="clients"&&V.jsxs("div",{className:"clients-view",children:[V.jsxs("div",{className:"view-header",children:[V.jsx("h2",{children:"Clients"}),V.jsx("button",{className:"add-btn",onClick:g,children:"+ Add Client"})]}),V.jsx(JO,{})]}),r==="calendar"&&V.jsxs("div",{className:"calendar-view",children:[V.jsx("div",{className:"view-header",children:V.jsx("h2",{children:"Calendar"})}),V.jsx(nV,{})]})]})]})}function rV(){const[r,e]=q.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,s]=q.useState(!1),[o,u]=q.useState(""),{currentUser:f,isAdmin:m,loading:g}=tg(),y=ru();q.useEffect(()=>{!g&&(!f||!m)&&y("/")},[f,m,g,y]),q.useEffect(()=>{if(r.startDate&&r.weeksInBlock){const P=new Date(r.startDate),Q=parseInt(r.weeksInBlock);if(!isNaN(Q)&&Q>0){const k=new Date(P);k.setDate(k.getDate()+Q*7),e(H=>({...H,endDate:k.toISOString().split("T")[0]}))}}},[r.startDate,r.weeksInBlock]);const E=P=>{const{name:Q,value:k}=P.target;e(H=>({...H,[Q]:k}))},S=async P=>{P.preventDefault(),u(""),s(!0);try{const Q={name:r.name.trim(),email:r.email.trim().toLowerCase(),weeksInBlock:parseInt(r.weeksInBlock),totalSessions:parseInt(r.numberOfSessions),sessionsRemaining:parseInt(r.numberOfSessions),sessionDuration:parseInt(r.sessionDuration),startDate:Be.fromDate(new Date(r.startDate)),endDate:Be.fromDate(new Date(r.endDate)),status:"active",createdAt:Be.now()};await Jm($s(fn,"clients"),Q),y("/dashboard")}catch(Q){console.error("Error adding client:",Q),u("Failed to add client. Please try again."),s(!1)}},b=()=>{y("/dashboard")};return g?V.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:V.jsxs("div",{className:"add-client-page",children:[V.jsxs("header",{className:"page-header",children:[V.jsx("button",{className:"back-btn",onClick:b,children:" Back"}),V.jsx("h1",{children:"Add New Client"})]}),V.jsxs("main",{className:"page-content",children:[o&&V.jsx("div",{className:"form-error",children:o}),V.jsxs("form",{onSubmit:S,children:[V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"name",children:"Client Name"}),V.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:E,placeholder:"John Smith",required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"email",children:"Client Email"}),V.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,placeholder:"john@example.com",required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),V.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:r.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),V.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:r.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),V.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:r.sessionDuration,onChange:E,required:!0,children:[V.jsx("option",{value:"30",children:"30 minutes"}),V.jsx("option",{value:"45",children:"45 minutes"})]})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"startDate",children:"Start Date"}),V.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:E,required:!0})]}),V.jsxs("div",{className:"form-group",children:[V.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),V.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:E,required:!0}),V.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),V.jsxs("div",{className:"form-actions",children:[V.jsx("button",{type:"button",className:"cancel-btn",onClick:b,children:"Cancel"}),V.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function sV(){return V.jsx(XO,{children:V.jsx(m1,{basename:"/login",children:V.jsxs(Fw,{children:[V.jsx(xl,{path:"/",element:V.jsx($O,{})}),V.jsx(xl,{path:"/dashboard",element:V.jsx(iV,{})}),V.jsx(xl,{path:"/add-client",element:V.jsx(rV,{})}),V.jsx(xl,{path:"*",element:V.jsx(qw,{to:"/",replace:!0})})]})})})}Kb.createRoot(document.getElementById("root")).render(V.jsx(q.StrictMode,{children:V.jsx(sV,{})}));
