(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hm={exports:{}},Ul={};var k_;function rw(){if(k_)return Ul;k_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var j_;function aw(){return j_||(j_=1,hm.exports=rw()),hm.exports}var g=aw(),fm={exports:{}},De={};var L_;function ow(){if(L_)return De;L_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function J(O,Y,se){this.props=O,this.context=Y,this.refs=z,this.updater=se||U}J.prototype.isReactComponent={},J.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},J.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=J.prototype;function oe(O,Y,se){this.props=O,this.context=Y,this.refs=z,this.updater=se||U}var ge=oe.prototype=new K;ge.constructor=oe,k(ge,J.prototype),ge.isPureReactComponent=!0;var G=Array.isArray;function ee(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(O,Y,se){var ce=se.ref;return{$$typeof:s,type:O,key:Y,ref:ce!==void 0?ce:null,props:se}}function D(O,Y){return R(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function M(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Y[se]})}var N=/\/+/g;function we(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):Y.toString(36)}function xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ee,ee):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,Y,se,ce,de){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(_e){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case s:case e:Te=!0;break;case E:return Te=O._init,W(Te(O._payload),Y,se,ce,de)}}if(Te)return de=de(O),Te=ce===""?"."+we(O,0):ce,G(de)?(se="",Te!=null&&(se=Te.replace(N,"$&/")+"/"),W(de,Y,se,"",function(rn){return rn})):de!=null&&(x(de)&&(de=D(de,se+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(N,"$&/")+"/")+Te)),Y.push(de)),1;Te=0;var Ke=ce===""?".":ce+":";if(G(O))for(var je=0;je<O.length;je++)ce=O[je],_e=Ke+we(ce,je),Te+=W(ce,Y,se,_e,de);else if(je=P(O),typeof je=="function")for(O=je.call(O),je=0;!(ce=O.next()).done;)ce=ce.value,_e=Ke+we(ce,je++),Te+=W(ce,Y,se,_e,de);else if(_e==="object"){if(typeof O.then=="function")return W(xe(O),Y,se,ce,de);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ue(O,Y,se){if(O==null)return O;var ce=[],de=0;return W(O,ce,"","",function(_e){return Y.call(se,_e,de++)}),ce}function ye(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var ae=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},le={map:ue,forEach:function(O,Y,se){ue(O,function(){Y.apply(this,arguments)},se)},count:function(O){var Y=0;return ue(O,function(){Y++}),Y},toArray:function(O){return ue(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return De.Activity=S,De.Children=le,De.Component=J,De.Fragment=n,De.Profiler=o,De.PureComponent=oe,De.StrictMode=r,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,De.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},De.cache=function(O){return function(){return O.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(O,Y,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=k({},O.props),de=O.key;if(Y!=null)for(_e in Y.key!==void 0&&(de=""+Y.key),Y)!C.call(Y,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Y.ref===void 0||(ce[_e]=Y[_e]);var _e=arguments.length-2;if(_e===1)ce.children=se;else if(1<_e){for(var Te=Array(_e),Ke=0;Ke<_e;Ke++)Te[Ke]=arguments[Ke+2];ce.children=Te}return R(O.type,de,ce)},De.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},De.createElement=function(O,Y,se){var ce,de={},_e=null;if(Y!=null)for(ce in Y.key!==void 0&&(_e=""+Y.key),Y)C.call(Y,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(de[ce]=Y[ce]);var Te=arguments.length-2;if(Te===1)de.children=se;else if(1<Te){for(var Ke=Array(Te),je=0;je<Te;je++)Ke[je]=arguments[je+2];de.children=Ke}if(O&&O.defaultProps)for(ce in Te=O.defaultProps,Te)de[ce]===void 0&&(de[ce]=Te[ce]);return R(O,_e,de)},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:m,render:O}},De.isValidElement=x,De.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ye}},De.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},De.startTransition=function(O){var Y=I.T,se={};I.T=se;try{var ce=O(),de=I.S;de!==null&&de(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ee,ae)}catch(_e){ae(_e)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),I.T=Y}},De.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},De.use=function(O){return I.H.use(O)},De.useActionState=function(O,Y,se){return I.H.useActionState(O,Y,se)},De.useCallback=function(O,Y){return I.H.useCallback(O,Y)},De.useContext=function(O){return I.H.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},De.useEffect=function(O,Y){return I.H.useEffect(O,Y)},De.useEffectEvent=function(O){return I.H.useEffectEvent(O)},De.useId=function(){return I.H.useId()},De.useImperativeHandle=function(O,Y,se){return I.H.useImperativeHandle(O,Y,se)},De.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},De.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},De.useMemo=function(O,Y){return I.H.useMemo(O,Y)},De.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},De.useReducer=function(O,Y,se){return I.H.useReducer(O,Y,se)},De.useRef=function(O){return I.H.useRef(O)},De.useState=function(O){return I.H.useState(O)},De.useSyncExternalStore=function(O,Y,se){return I.H.useSyncExternalStore(O,Y,se)},De.useTransition=function(){return I.H.useTransition()},De.version="19.2.4",De}var P_;function mp(){return P_||(P_=1,fm.exports=ow()),fm.exports}var j=mp(),dm={exports:{}},zl={},mm={exports:{}},pm={};var U_;function lw(){return U_||(U_=1,(function(s){function e(W,ue){var ye=W.length;W.push(ue);e:for(;0<ye;){var ae=ye-1>>>1,le=W[ae];if(0<o(le,ue))W[ae]=ue,W[ye]=le,ye=ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ue=W[0],ye=W.pop();if(ye!==ue){W[0]=ye;e:for(var ae=0,le=W.length,O=le>>>1;ae<O;){var Y=2*(ae+1)-1,se=W[Y],ce=Y+1,de=W[ce];if(0>o(se,ye))ce<le&&0>o(de,se)?(W[ae]=de,W[ce]=ye,ae=ce):(W[ae]=se,W[Y]=ye,ae=Y);else if(ce<le&&0>o(de,ye))W[ae]=de,W[ce]=ye,ae=ce;else break e}}return ue}function o(W,ue){var ye=W.sortIndex-ue.sortIndex;return ye!==0?ye:W.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],v=[],E=1,S=null,w=3,P=!1,U=!1,k=!1,z=!1,J=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ge(W){for(var ue=n(v);ue!==null;){if(ue.callback===null)r(v);else if(ue.startTime<=W)r(v),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(v)}}function G(W){if(k=!1,ge(W),!U)if(n(p)!==null)U=!0,ee||(ee=!0,M());else{var ue=n(v);ue!==null&&xe(G,ue.startTime-W)}}var ee=!1,I=-1,C=5,R=-1;function D(){return z?!0:!(s.unstable_now()-R<C)}function x(){if(z=!1,ee){var W=s.unstable_now();R=W;var ue=!0;try{e:{U=!1,k&&(k=!1,K(I),I=-1),P=!0;var ye=w;try{t:{for(ge(W),S=n(p);S!==null&&!(S.expirationTime>W&&D());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,w=S.priorityLevel;var le=ae(S.expirationTime<=W);if(W=s.unstable_now(),typeof le=="function"){S.callback=le,ge(W),ue=!0;break t}S===n(p)&&r(p),ge(W)}else r(p);S=n(p)}if(S!==null)ue=!0;else{var O=n(v);O!==null&&xe(G,O.startTime-W),ue=!1}}break e}finally{S=null,w=ye,P=!1}ue=void 0}}finally{ue?M():ee=!1}}}var M;if(typeof oe=="function")M=function(){oe(x)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,we=N.port2;N.port1.onmessage=x,M=function(){we.postMessage(null)}}else M=function(){J(x,0)};function xe(W,ue){I=J(function(){W(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ye=w;w=ue;try{return W()}finally{w=ye}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=w;w=W;try{return ue()}finally{w=ye}},s.unstable_scheduleCallback=function(W,ue,ye){var ae=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ae+ye:ae):ye=ae,W){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ye+le,W={id:E++,callback:ue,priorityLevel:W,startTime:ye,expirationTime:le,sortIndex:-1},ye>ae?(W.sortIndex=ye,e(v,W),n(p)===null&&W===n(v)&&(k?(K(I),I=-1):k=!0,xe(G,ye-ae))):(W.sortIndex=le,e(p,W),U||P||(U=!0,ee||(ee=!0,M()))),W},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(W){var ue=w;return function(){var ye=w;w=ue;try{return W.apply(this,arguments)}finally{w=ye}}}})(pm)),pm}var z_;function uw(){return z_||(z_=1,mm.exports=lw()),mm.exports}var gm={exports:{}},ln={};var B_;function cw(){if(B_)return ln;B_=1;var s=mp();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:v,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(p,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(p,v,null,E)},ln.flushSync=function(p){var v=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=v,r.p=E,r.d.f()}},ln.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},ln.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ln.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,P=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):E==="script"&&r.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ln.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=m(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},ln.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin);r.d.L(p,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ln.preloadModule=function(p,v){if(typeof p=="string")if(v){var E=m(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},ln.requestFormReset=function(p){r.d.r(p)},ln.unstable_batchedUpdates=function(p,v){return p(v)},ln.useFormState=function(p,v,E){return h.H.useFormState(p,v,E)},ln.useFormStatus=function(){return h.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var q_;function hw(){if(q_)return gm.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=cw(),gm.exports}var H_;function fw(){if(H_)return zl;H_=1;var s=uw(),e=mp(),n=hw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case J:return"Profiler";case z:return"StrictMode";case G:return"Suspense";case ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case oe:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:we(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return we(t(i))}catch{}}return null}var xe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ae=[],le=-1;function O(t){return{current:t}}function Y(t){0>le||(t.current=ae[le],ae[le]=null,le--)}function se(t,i){le++,ae[le]=t.current,t.current=i}var ce=O(null),de=O(null),_e=O(null),Te=O(null);function Ke(t,i){switch(se(_e,i),se(de,t),se(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=r_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ce),se(ce,t)}function je(){Y(ce),Y(de),Y(_e)}function rn(t){t.memoizedState!==null&&se(Te,t);var i=ce.current,a=r_(i,t.type);i!==a&&(se(de,t),se(ce,a))}function Yt(t){de.current===t&&(Y(ce),Y(de)),Te.current===t&&(Y(Te),kl._currentValue=ye)}var an,Et;function Kt(t){if(an===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);an=i&&i[1]||"",Et=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+t+Et}var pn=!1;function on(t,i){if(!t||pn)return"";pn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var $=X}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(X){$=X}t.call(ne.prototype)}}else{try{throw Error()}catch(X){$=X}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var V=_.split(`
`),F=b.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===F.length)for(l=V.length-1,f=F.length-1;1<=l&&0<=f&&V[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==F[f]){var Z=`
`+V[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{pn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kt(a):""}function he(t,i){switch(t.tag){case 26:case 27:case 5:return Kt(t.type);case 16:return Kt("Lazy");case 13:return t.child!==i&&i!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return on(t.type,!1);case 11:return on(t.type.render,!1);case 1:return on(t.type,!0);case 31:return Kt("Activity");default:return""}}function Qe(t){try{var i="",a=null;do i+=he(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Xe=Object.prototype.hasOwnProperty,Le=s.unstable_scheduleCallback,vn=s.unstable_cancelCallback,Dr=s.unstable_shouldYield,Nr=s.unstable_requestPaint,qt=s.unstable_now,Xi=s.unstable_getCurrentPriorityLevel,tt=s.unstable_ImmediatePriority,ti=s.unstable_UserBlockingPriority,Un=s.unstable_NormalPriority,mf=s.unstable_LowPriority,Nu=s.unstable_IdlePriority,xu=s.log,Ou=s.unstable_setDisableYieldValue,ni=null,Qt=null;function zn(t){if(typeof xu=="function"&&Ou(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ni,t)}catch{}}var Tt=Math.clz32?Math.clz32:Vu,Mu=Math.log,Ta=Math.LN2;function Vu(t){return t>>>=0,t===0?32:31-(Mu(t)/Ta|0)|0}var Ti=256,xr=262144,Ct=4194304;function Si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Si(l):(_&=b,_!==0?f=Si(_):a||(a=b&~t,a!==0&&(f=Si(a))))):(b=l&~d,b!==0?f=Si(b):_!==0?f=Si(_):a||(a=l&~t,a!==0&&(f=Si(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function ii(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function Ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Or(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,V=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Tt(a),ne=1<<Z;b[Z]=0,V[Z]=-1;var $=F[Z];if($!==null)for(F[Z]=null,Z=0;Z<$.length;Z++){var X=$[Z];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&Mr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Tt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Tt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Vr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function si(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var ri=Math.random().toString(36).slice(2),It="__reactFiber$"+ri,Ht="__reactProps$"+ri,wi="__reactContainer$"+ri,Sa="__reactEvents$"+ri,yf="__reactListeners$"+ri,Lu="__reactHandles$"+ri,Pu="__reactResources$"+ri,Ri="__reactMarker$"+ri;function ba(t){delete t[It],delete t[Ht],delete t[Sa],delete t[yf],delete t[Lu]}function Ci(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wi]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=f_(t);t!==null;){if(a=t[It])return a;t=f_(t)}return i}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[It]||t[wi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function In(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ii(t){var i=t[Pu];return i||(i=t[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(t){t[Ri]=!0}var qo=new Set,Ho={};function Di(t,i){Ni(t,i),Ni(t+"Capture",i)}function Ni(t,i){for(Ho[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},$o={};function Uu(t){return Xe.call($o,t)?!0:Xe.call(Go,t)?!1:Fo.test(t)?$o[t]=!0:(Go[t]=!0,!1)}function Aa(t,i,a){if(Uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Dn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Cs(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function kr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Cs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function _n(t){return t.replace(jr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wa(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ko(t,_,Ft(i)):a!=null?Ko(t,_,Ft(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ft(b):t.removeAttribute("name")}function zu(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){it(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),it(t)}function Ko(t,i,a){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Is(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Bu(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function Ds(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Qo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Qo(t,d,i[d])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Wo=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,Oi=null;function Lr(t){var i=Bn(t);if(i&&(t=i.stateNode)){var a=t[Ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(wa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ht]||null;if(!f)throw Error(r(90));wa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&kr(l)}break e;case"textarea":Bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Is(t,!!a.multiple,i,!1)}}}var Ia=!1;function Os(t,i,a){if(Ia)return t(i,a);Ia=!0;try{var l=t(i);return l}finally{if(Ia=!1,(xs!==null||Oi!==null)&&(jc(),xs&&(i=xs,t=Oi,Oi=xs=null,Lr(i),t)))for(i=0;i<t.length;i++)Lr(t[i])}}function oi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Hn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Pr=!1}var Mi=null,Jo=null,Ur=null;function Zo(){if(Ur)return Ur;var t,i=Jo,a=i.length,l,f="value"in Mi?Mi.value:Mi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ur=f.slice(t,1<l?1-l:void 0)}function zr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function li(){return!1}function Xt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ji:li,this.isPropagationStopped=li,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Xt(Zi),Ms=S({},Zi,{view:0,detail:0}),el=Xt(Ms),Vs,Da,ki,Na=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Vs=t.screenX-ki.screenX,Da=t.screenY-ki.screenY):Da=Vs=0,ki=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),tl=Xt(Na),Br=S({},Na,{dataTransfer:0}),Fu=Xt(Br),Gu=S({},Ms,{relatedTarget:0}),qr=Xt(Gu),nl=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=Xt(nl),xa=S({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Xt(xa),Ku=S({},Zi,{data:0}),ji=Xt(Ku),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wu[t])?!!i[t]:!1}function ks(){return Ju}var gn=S({},Ms,{key:function(t){if(t.key){var i=Qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Xt(gn),ec=S({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Xt(ec),c=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),y=Xt(c),T=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Xt(T),q=S({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Xt(q),fe=S({},Zi,{newState:0,oldState:0}),Oe=Xt(fe),St=[9,13,27,32],Ze=Hn&&"CompositionEvent"in window,mt=null;Hn&&"documentMode"in document&&(mt=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!mt,Li=Hn&&(!Ze||mt&&8<mt&&11>=mt),ui=" ",ci=!1;function Hr(t,i){switch(t){case"keyup":return St.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function Db(t,i){switch(t){case"compositionend":return Oa(i);case"keypress":return i.which!==32?null:(ci=!0,ui);case"textInput":return t=i.data,t===ui&&ci?null:t;default:return null}}function Nb(t,i){if(Ma)return t==="compositionend"||!Ze&&Hr(t,i)?(t=Zo(),Ur=Jo=Mi=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Li&&i.locale!=="ko"?null:i.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xb[t.type]:i==="textarea"}function gg(t,i,a,l){xs?Oi?Oi.push(l):Oi=[l]:xs=l,i=Hc(i,"onChange"),0<i.length&&(a=new Vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,sl=null;function Ob(t){Jv(t,0)}function tc(t){var i=In(t);if(kr(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(Hn){var vf;if(Hn){var _f="oninput"in document;if(!_f){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),_f=typeof _g.oninput=="function"}vf=_f}else vf=!1;vg=vf&&(!document.documentMode||9<document.documentMode)}function Eg(){il&&(il.detachEvent("onpropertychange",Tg),sl=il=null)}function Tg(t){if(t.propertyName==="value"&&tc(sl)){var i=[];gg(i,sl,t,qn(t)),Os(Ob,i)}}function Mb(t,i,a){t==="focusin"?(Eg(),il=i,sl=a,il.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function Vb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(sl)}function kb(t,i){if(t==="click")return tc(i)}function jb(t,i){if(t==="input"||t==="change")return tc(i)}function Lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:Lb;function rl(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Xe.call(i,f)||!Nn(t[f],i[f]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pb=Hn&&"documentMode"in document&&11>=document.documentMode,Va=null,Tf=null,al=null,Sf=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Va==null||Va!==xi(l)||(l=Va,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&rl(al,l)||(al=l,l=Hc(Tf,"onSelect"),0<l.length&&(i=new Vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Va)))}function Fr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ka={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},bf={},Cg={};Hn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Gr(t){if(bf[t])return bf[t];if(!ka[t])return t;var i=ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return bf[t]=i[a];return t}var Ig=Gr("animationend"),Dg=Gr("animationiteration"),Ng=Gr("animationstart"),Ub=Gr("transitionrun"),zb=Gr("transitionstart"),Bb=Gr("transitioncancel"),xg=Gr("transitionend"),Og=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function hi(t,i){Og.set(t,i),Di(i,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],ja=0,wf=0;function ic(){for(var t=ja,i=wf=ja=0;i<t;){var a=Gn[i];Gn[i++]=null;var l=Gn[i];Gn[i++]=null;var f=Gn[i];Gn[i++]=null;var d=Gn[i];if(Gn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Mg(a,f,d)}}function sc(t,i,a,l){Gn[ja++]=t,Gn[ja++]=i,Gn[ja++]=a,Gn[ja++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,i,a,l){return sc(t,i,a,l),rc(t)}function $r(t,i){return sc(t,null,null,i),rc(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Tt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(t){if(50<Il)throw Il=0,kd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={};function qb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new qb(t,i,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ac(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=YA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=xn(31,a,i,f),t.elementType=R,t.lanes=d,t;case k:return Yr(a.children,f,d,i);case z:_=8,f|=24;break;case J:return t=xn(12,a,i,f|2),t.elementType=J,t.lanes=d,t;case G:return t=xn(13,a,i,f),t.elementType=G,t.lanes=d,t;case ee:return t=xn(19,a,i,f),t.elementType=ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case K:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=xn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Yr(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function kg(t){var i=xn(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var jg=new WeakMap;function $n(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Qe(i)},jg.set(t,i),i)}return{value:t,source:i,stack:Qe(i)}}var Pa=[],Ua=0,oc=null,ol=0,Yn=[],Kn=0,js=null,Pi=1,Ui="";function ns(t,i){Pa[Ua++]=ol,Pa[Ua++]=oc,oc=t,ol=i}function Lg(t,i,a){Yn[Kn++]=Pi,Yn[Kn++]=Ui,Yn[Kn++]=js,js=t;var l=Pi;t=Ui;var f=32-Tt(l)-1;l&=~(1<<f),a+=1;var d=32-Tt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Pi=1<<32-Tt(i)+f|a<<f|l,Ui=d+t}else Pi=1<<d|a<<f|l,Ui=t}function Nf(t){t.return!==null&&(ns(t,1),Lg(t,1,0))}function xf(t){for(;t===oc;)oc=Pa[--Ua],Pa[Ua]=null,ol=Pa[--Ua],Pa[Ua]=null;for(;t===js;)js=Yn[--Kn],Yn[Kn]=null,Ui=Yn[--Kn],Yn[Kn]=null,Pi=Yn[--Kn],Yn[Kn]=null}function Pg(t,i){Yn[Kn++]=Pi,Yn[Kn++]=Ui,Yn[Kn++]=js,Pi=i.id,Ui=i.overflow,js=t}var Wt=null,ft=null,$e=!1,Ls=null,Qn=!1,Of=Error(r(519));function Ps(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll($n(i,t)),Of}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Ht]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ue(Nl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),zu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Ds(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=ai),i=!0):i=!1,i||Ps(t,!0)}function zg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Wt=Wt.return}}function za(t){if(t!==Wt)return!1;if(!$e)return zg(t),$e=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&ft&&Ps(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=h_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ft=h_(t)}else i===27?(i=ft,Js(t.type)?(t=tm,tm=null,ft=t):ft=i):ft=Wt?Wn(t.stateNode.nextSibling):null;return!0}function Kr(){ft=Wt=null,$e=!1}function Mf(){var t=Ls;return t!==null&&(An===null?An=t:An.push.apply(An,t),Ls=null),t}function ll(t){Ls===null?Ls=[t]:Ls.push(t)}var Vf=O(null),Qr=null,is=null;function Us(t,i,a){se(Vf,i._currentValue),i._currentValue=a}function ss(t){t._currentValue=Vf.current,Y(Vf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function jf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var V=0;V<i.length;V++)if(b.context===i[V]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ba(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=f.type;Nn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Te.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}f=f.return}t!==null&&jf(i,t,a,l),i.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Qr=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Bg(Qr,t)}function uc(t,i){return Qr===null&&Xr(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},is===null){if(t===null)throw Error(r(308));is=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else is=is.next=i;return a}var Hb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Fb=s.unstable_scheduleCallback,Gb=s.unstable_NormalPriority,xt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new Hb,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&Fb(Gb,function(){t.controller.abort()})}var cl=null,Pf=0,qa=0,Ha=null;function $b(t,i){if(cl===null){var a=cl=[];Pf=0,qa=Bd(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,i.then(qg,qg),i}function qg(){if(--Pf===0&&cl!==null){Ha!==null&&(Ha.status="fulfilled");var t=cl;cl=null,qa=0,Ha=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Yb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Hg=W.S;W.S=function(t,i){Rv=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$b(t,i),Hg!==null&&Hg(t,i)};var Wr=O(null);function Uf(){var t=Wr.current;return t!==null?t:ct.pooledCache}function cc(t,i){i===null?se(Wr,Wr.current):se(Wr,i.pool)}function Fg(){var t=Uf();return t===null?null:{parent:xt._currentValue,pool:t}}var Fa=Error(r(460)),zf=Error(r(474)),hc=Error(r(542)),fc={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ai,ai),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(ai,ai);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Zr=i,Fa}}function Jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Fa):a}}var Zr=null;function Yg(){if(Zr===null)throw Error(r(459));var t=Zr;return Zr=null,t}function Kg(t){if(t===Fa||t===hc)throw Error(r(483))}var Ga=null,hl=0;function dc(t){var i=hl;return hl+=1,Ga===null&&(Ga=[]),$g(Ga,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mc(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(B,L){if(t){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=ts(B,L),B.index=0,B.sibling=null,B}function d(B,L,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,L,H,te){return L===null||L.tag!==6?(L=If(H,B.mode,te),L.return=B,L):(L=f(L,H),L.return=B,L)}function V(B,L,H,te){var Se=H.type;return Se===k?Z(B,L,H.props.children,te,H.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Jr(Se)===L.type)?(L=f(L,H.props),fl(L,H),L.return=B,L):(L=ac(H.type,H.key,H.props,null,B.mode,te),fl(L,H),L.return=B,L)}function F(B,L,H,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Df(H,B.mode,te),L.return=B,L):(L=f(L,H.children||[]),L.return=B,L)}function Z(B,L,H,te,Se){return L===null||L.tag!==7?(L=Yr(H,B.mode,te,Se),L.return=B,L):(L=f(L,H),L.return=B,L)}function ne(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=If(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return H=ac(L.type,L.key,L.props,null,B.mode,H),fl(H,L),H.return=B,H;case U:return L=Df(L,B.mode,H),L.return=B,L;case C:return L=Jr(L),ne(B,L,H)}if(xe(L)||M(L))return L=Yr(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return ne(B,dc(L),H);if(L.$$typeof===oe)return ne(B,uc(B,L),H);mc(B,L)}return null}function $(B,L,H,te){var Se=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:b(B,L,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return H.key===Se?V(B,L,H,te):null;case U:return H.key===Se?F(B,L,H,te):null;case C:return H=Jr(H),$(B,L,H,te)}if(xe(H)||M(H))return Se!==null?null:Z(B,L,H,te,null);if(typeof H.then=="function")return $(B,L,dc(H),te);if(H.$$typeof===oe)return $(B,L,uc(B,H),te);mc(B,H)}return null}function X(B,L,H,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(H)||null,b(L,B,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return B=B.get(te.key===null?H:te.key)||null,V(L,B,te,Se);case U:return B=B.get(te.key===null?H:te.key)||null,F(L,B,te,Se);case C:return te=Jr(te),X(B,L,H,te,Se)}if(xe(te)||M(te))return B=B.get(H)||null,Z(L,B,te,Se,null);if(typeof te.then=="function")return X(B,L,H,dc(te),Se);if(te.$$typeof===oe)return X(B,L,H,uc(L,te),Se);mc(L,te)}return null}function ve(B,L,H,te){for(var Se=null,We=null,Ee=L,Ve=L=0,Be=null;Ee!==null&&Ve<H.length;Ve++){Ee.index>Ve?(Be=Ee,Ee=null):Be=Ee.sibling;var Je=$(B,Ee,H[Ve],te);if(Je===null){Ee===null&&(Ee=Be);break}t&&Ee&&Je.alternate===null&&i(B,Ee),L=d(Je,L,Ve),We===null?Se=Je:We.sibling=Je,We=Je,Ee=Be}if(Ve===H.length)return a(B,Ee),$e&&ns(B,Ve),Se;if(Ee===null){for(;Ve<H.length;Ve++)Ee=ne(B,H[Ve],te),Ee!==null&&(L=d(Ee,L,Ve),We===null?Se=Ee:We.sibling=Ee,We=Ee);return $e&&ns(B,Ve),Se}for(Ee=l(Ee);Ve<H.length;Ve++)Be=X(Ee,B,Ve,H[Ve],te),Be!==null&&(t&&Be.alternate!==null&&Ee.delete(Be.key===null?Ve:Be.key),L=d(Be,L,Ve),We===null?Se=Be:We.sibling=Be,We=Be);return t&&Ee.forEach(function(ir){return i(B,ir)}),$e&&ns(B,Ve),Se}function Ae(B,L,H,te){if(H==null)throw Error(r(151));for(var Se=null,We=null,Ee=L,Ve=L=0,Be=null,Je=H.next();Ee!==null&&!Je.done;Ve++,Je=H.next()){Ee.index>Ve?(Be=Ee,Ee=null):Be=Ee.sibling;var ir=$(B,Ee,Je.value,te);if(ir===null){Ee===null&&(Ee=Be);break}t&&Ee&&ir.alternate===null&&i(B,Ee),L=d(ir,L,Ve),We===null?Se=ir:We.sibling=ir,We=ir,Ee=Be}if(Je.done)return a(B,Ee),$e&&ns(B,Ve),Se;if(Ee===null){for(;!Je.done;Ve++,Je=H.next())Je=ne(B,Je.value,te),Je!==null&&(L=d(Je,L,Ve),We===null?Se=Je:We.sibling=Je,We=Je);return $e&&ns(B,Ve),Se}for(Ee=l(Ee);!Je.done;Ve++,Je=H.next())Je=X(Ee,B,Ve,Je.value,te),Je!==null&&(t&&Je.alternate!==null&&Ee.delete(Je.key===null?Ve:Je.key),L=d(Je,L,Ve),We===null?Se=Je:We.sibling=Je,We=Je);return t&&Ee.forEach(function(sw){return i(B,sw)}),$e&&ns(B,Ve),Se}function ut(B,L,H,te){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case P:e:{for(var Se=H.key;L!==null;){if(L.key===Se){if(Se=H.type,Se===k){if(L.tag===7){a(B,L.sibling),te=f(L,H.props.children),te.return=B,B=te;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Jr(Se)===L.type){a(B,L.sibling),te=f(L,H.props),fl(te,H),te.return=B,B=te;break e}a(B,L);break}else i(B,L);L=L.sibling}H.type===k?(te=Yr(H.props.children,B.mode,te,H.key),te.return=B,B=te):(te=ac(H.type,H.key,H.props,null,B.mode,te),fl(te,H),te.return=B,B=te)}return _(B);case U:e:{for(Se=H.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(B,L.sibling),te=f(L,H.children||[]),te.return=B,B=te;break e}else{a(B,L);break}else i(B,L);L=L.sibling}te=Df(H,B.mode,te),te.return=B,B=te}return _(B);case C:return H=Jr(H),ut(B,L,H,te)}if(xe(H))return ve(B,L,H,te);if(M(H)){if(Se=M(H),typeof Se!="function")throw Error(r(150));return H=Se.call(H),Ae(B,L,H,te)}if(typeof H.then=="function")return ut(B,L,dc(H),te);if(H.$$typeof===oe)return ut(B,L,uc(B,H),te);mc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(B,L.sibling),te=f(L,H),te.return=B,B=te):(a(B,L),te=If(H,B.mode,te),te.return=B,B=te),_(B)):a(B,L)}return function(B,L,H,te){try{hl=0;var Se=ut(B,L,H,te);return Ga=null,Se}catch(Ee){if(Ee===Fa||Ee===hc)throw Ee;var We=xn(29,Ee,null,B.mode);return We.lanes=te,We.return=B,We}}}var ea=Qg(!0),Xg=Qg(!1),zs=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=rc(t),Mg(t,null,a),i}return sc(t,l,i,a),rc(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function ml(){if(Ff){var t=Ha;if(t!==null)throw t}}function pl(t,i,a,l){Ff=!1;var f=t.updateQueue;zs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var V=b,F=V.next;V.next=null,_===null?d=F:_.next=F,_=V;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=F:b.next=F,Z.lastBaseUpdate=V))}if(d!==null){var ne=f.baseState;_=0,Z=F=V=null,b=d;do{var $=b.lane&-536870913,X=$!==b.lane;if(X?(ze&$)===$:(l&$)===$){$!==0&&$===qa&&(Ff=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=t,Ae=b;$=i;var ut=a;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){ne=ve.call(ut,ne,$);break e}ne=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,$=typeof ve=="function"?ve.call(ut,ne,$):ve,$==null)break e;ne=S({},ne,$);break e;case 2:zs=!0}}$=b.callback,$!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(F=Z=X,V=ne):Z=Z.next=X,_|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(V=ne),f.baseState=V,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Ys|=_,t.lanes=_,t.memoizedState=ne}}function Wg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var $a=O(null),pc=O(0);function Zg(t,i){t=ds,se(pc,t),se($a,i),ds=t|i.baseLanes}function Gf(){se(pc,ds),se($a,$a.current)}function $f(){ds=pc.current,Y($a),Y(pc)}var On=O(null),Xn=null;function Hs(t){var i=t.alternate;se(bt,bt.current&1),se(On,t),Xn===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(Xn=t)}function Yf(t){se(bt,bt.current),se(On,t),Xn===null&&(Xn=t)}function ey(t){t.tag===22?(se(bt,bt.current),se(On,t),Xn===null&&(Xn=t)):Fs()}function Fs(){se(bt,bt.current),se(On,On.current)}function Mn(t){Y(On),Xn===t&&(Xn=null),Y(bt)}var bt=O(0);function gc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rs=0,Me=null,ot=null,Ot=null,yc=!1,Ya=!1,ta=!1,vc=0,gl=0,Ka=null,Kb=0;function vt(){throw Error(r(321))}function Kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function Qf(t,i,a,l,f,d){return rs=d,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Ly:cd,ta=!1,d=a(l,f),ta=!1,Ya&&(d=ny(i,a,l,f)),ty(t),d}function ty(t){W.H=_l;var i=ot!==null&&ot.next!==null;if(rs=0,Ot=ot=Me=null,yc=!1,gl=0,Ka=null,i)throw Error(r(300));t===null||Mt||(t=t.dependencies,t!==null&&lc(t)&&(Mt=!0))}function ny(t,i,a,l){Me=t;var f=0;do{if(Ya&&(Ka=null),gl=0,Ya=!1,25<=f)throw Error(r(301));if(f+=1,Ot=ot=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Py,d=i(a,l)}while(Ya);return d}function Qb(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Me.flags|=1024),i}function Xf(){var t=vc!==0;return vc=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}rs=0,Ot=ot=Me=null,Ya=!1,gl=vc=0,Ka=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Me.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function At(){if(ot===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=Ot===null?Me.memoizedState:Ot.next;if(i!==null)Ot=i,ot=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Me.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,Ka===null&&(Ka=[]),t=$g(Ka,t,i),i=Me,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Ly:cd),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===oe)return Jt(t)}throw Error(r(438,String(t)))}function Zf(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function as(t,i){return typeof i=="function"?i(t):i}function Tc(t){var i=At();return ed(i,ot,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,V=null,F=i,Z=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(ze&ne)===ne:(rs&ne)===ne){var $=F.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===qa&&(Z=!0);else if((rs&$)===$){F=F.next,$===qa&&(Z=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(b=V=ne,_=d):V=V.next=ne,Me.lanes|=$,Ys|=$;ne=F.action,ta&&a(d,ne),d=F.hasEagerState?F.eagerState:a(d,ne)}else $={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},V===null?(b=V=$,_=d):V=V.next=$,Me.lanes|=ne,Ys|=ne;F=F.next}while(F!==null&&F!==i);if(V===null?_=d:V.next=b,!Nn(d,t.memoizedState)&&(Mt=!0,Z&&(a=Ha,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=At(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Nn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function iy(t,i,a){var l=Me,f=At(),d=$e;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Nn((ot||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,sd(ay.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},ry.bind(null,l,f,a,i),null),ct===null)throw Error(r(349));d||(rs&127)!==0||sy(l,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=_c(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,oy(i)&&ly(t)}function ay(t,i,a){return a(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function ly(t){var i=$r(t,2);i!==null&&wn(i,t,2)}function nd(t){var i=yn();if(typeof t=="function"){var a=t;if(t=a(),ta){zn(!0);try{a()}finally{zn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},i}function uy(t,i,a,l){return t.baseState=a,ed(t,ot,typeof l=="function"?l:as)}function Xb(t,i,a,l,f){if(Ac(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,cy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function cy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var b=a(f,l),V=W.S;V!==null&&V(_,b),hy(t,i,b)}catch(F){id(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),hy(t,i,d)}catch(F){id(t,i,F)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){fy(t,i,l)},function(l){return id(t,i,l)}):fy(t,i,a)}function fy(t,i,a){i.status="fulfilled",i.value=a,dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,dy(i),i=i.next;while(i!==l)}t.action=null}function dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if($e){var a=ct.formState;if(a!==null){e:{var l=Me;if($e){if(ft){t:{for(var f=ft,d=Qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Wn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ft=Wn(f.nextSibling),l=f.data==="F!";break e}}Ps(l)}l=!1}l&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=l,a=Vy.bind(null,Me,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Me,!1,l.queue),l=yn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=Xb.bind(null,Me,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function gy(t){var i=At();return yy(i,ot,t)}function yy(t,i,a){if(i=ed(t,i,my)[0],t=Tc(as)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===Fa?hc:_}else l=i;i=At();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,Qa(9,{destroy:void 0},Wb.bind(null,f,a),null)),[l,d,t]}function Wb(t,i){t.action=i}function vy(t){var i=At(),a=ot;if(a!==null)return yy(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=_c(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return At().memoizedState}function Sc(t,i,a,l){var f=yn();Me.flags|=t,f.memoizedState=Qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function bc(t,i,a,l){var f=At();l=l===void 0?null:l;var d=f.memoizedState.inst;ot!==null&&l!==null&&Kf(l,ot.memoizedState.deps)?f.memoizedState=Qa(i,d,a,l):(Me.flags|=t,f.memoizedState=Qa(1|i,d,a,l))}function Ey(t,i){Sc(8390656,8,t,i)}function sd(t,i){bc(2048,8,t,i)}function Jb(t){Me.flags|=4;var i=Me.updateQueue;if(i===null)i=_c(),Me.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ty(t){var i=At().memoizedState;return Jb({ref:i,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Sy(t,i){return bc(4,2,t,i)}function by(t,i){return bc(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,bc(4,4,Ay.bind(null,i,t),a)}function rd(){}function Ry(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Cy(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=t(),ta){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(rs&1073741824)!==0&&(ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Iv(),Me.lanes|=t,Ys|=t,a)}function Iy(t,i,a,l){return Nn(a,i)?a:$a.current!==null?(t=ad(t,a,l),Nn(t,i)||(Mt=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(ze&261930)===0?(Mt=!0,t.memoizedState=a):(t=Iv(),Me.lanes|=t,Ys|=t,i)}function Dy(t,i,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=W.T,b={};W.T=b,ud(t,!1,i,a);try{var V=f(),F=W.S;if(F!==null&&F(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=Yb(V,l);vl(t,i,Z,jn(t))}else vl(t,i,l,jn(t))}catch(ne){vl(t,i,{then:function(){},status:"rejected",reason:ne},jn())}finally{ue.p=d,_!==null&&b.types!==null&&(_.types=b.types),W.T=_}}function Zb(){}function od(t,i,a,l){if(t.tag!==5)throw Error(r(476));var f=Ny(t).queue;Dy(t,f,i,ye,a===null?Zb:function(){return xy(t),a(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Ny(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},jn())}function ld(){return Jt(kl)}function Oy(){return At().memoizedState}function My(){return At().memoizedState}function eA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();t=Bs(a);var l=qs(i,t,a);l!==null&&(wn(l,i,a),dl(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function tA(t,i,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?ky(i,a):(a=Rf(t,i,a,l),a!==null&&(wn(a,t,l),jy(a,i,l)))}function Vy(t,i,a){var l=jn();vl(t,i,a,l)}function vl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))ky(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,Nn(b,_))return sc(t,i,f,0),ct===null&&ic(),!1}catch{}if(a=Rf(t,i,f,l),a!==null)return wn(a,t,l),jy(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(r(479))}else i=Rf(t,a,l,2),i!==null&&wn(i,t,2)}function Ac(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function ky(t,i){Ya=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var _l={readContext:Jt,use:Ec,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};_l.useEffectEvent=vt;var Ly={readContext:Jt,use:Ec,useCallback:function(t,i){return yn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sc(4194308,4,t,i)},useInsertionEffect:function(t,i){Sc(4,2,t,i)},useMemo:function(t,i){var a=yn();i=i===void 0?null:i;var l=t();if(ta){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=yn();if(a!==void 0){var f=a(i);if(ta){zn(!0);try{a(i)}finally{zn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=tA.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var i=yn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=Vy.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=yn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=Dy.bind(null,Me,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Me,f=yn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ct===null)throw Error(r(349));(ze&127)!==0||sy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ey(ay.bind(null,l,d,t),[t]),l.flags|=2048,Qa(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=yn(),i=ct.identifierPrefix;if($e){var a=Ui,l=Pi;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Kb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:py,useActionState:py,useOptimistic:function(t){var i=yn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return yn().memoizedState=eA.bind(null,Me)},useEffectEvent:function(t){var i=yn(),a={impl:t};return i.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Jt,use:Ec,useCallback:Ry,useContext:Jt,useEffect:sd,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:Tc,useRef:_y,useState:function(){return Tc(as)},useDebugValue:rd,useDeferredValue:function(t,i){var a=At();return Iy(a,ot.memoizedState,t,i)},useTransition:function(){var t=Tc(as)[0],i=At().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:ld,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=At();return uy(a,ot,t,i)},useMemoCache:Zf,useCacheRefresh:My};cd.useEffectEvent=Ty;var Py={readContext:Jt,use:Ec,useCallback:Ry,useContext:Jt,useEffect:sd,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:td,useRef:_y,useState:function(){return td(as)},useDebugValue:rd,useDeferredValue:function(t,i){var a=At();return ot===null?ad(a,t,i):Iy(a,ot.memoizedState,t,i)},useTransition:function(){var t=td(as)[0],i=At().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:ld,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=At();return ot!==null?uy(a,ot,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:My};Py.useEffectEvent=Ty;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=jn(),f=Bs(l);f.payload=i,a!=null&&(f.callback=a),i=qs(t,f,l),i!==null&&(wn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=jn(),f=Bs(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=qs(t,f,l),i!==null&&(wn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=jn(),l=Bs(a);l.tag=2,i!=null&&(l.callback=i),i=qs(t,l,a),i!==null&&(wn(i,t,a),dl(i,t,a))}};function Uy(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function By(t){nc(t)}function qy(t){console.error(t)}function Hy(t){nc(t)}function wc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(t,i,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,i)},a}function Gy(t){return t=Bs(t),t.tag=3,t}function $y(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof f!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ba(i,a,f,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Lc():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pd(t,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pd(t,l,f)),!1}throw Error(r(435,a.tag))}return Pd(t,l,f),Lc(),!1}if($e)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Of&&(t=Error(r(422),{cause:l}),ll($n(t,a)))):(l!==Of&&(i=Error(r(423),{cause:l}),ll($n(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=$n(l,a),f=dd(t.stateNode,l,f),Hf(t,f),_t!==4&&(_t=2)),!1;var d=Error(r(520),{cause:l});if(d=$n(d,a),Cl===null?Cl=[d]:Cl.push(d),_t!==4&&(_t=2),i===null)return!0;l=$n(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=dd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ks===null||!Ks.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Gy(f),$y(f,t,a,l),Hf(a,f),!1}a=a.return}while(a!==null);return!1}var md=Error(r(461)),Mt=!1;function Zt(t,i,a,l){i.child=t===null?Xg(i,null,a,l):ea(i,t.child,a,l)}function Yy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Xr(i),l=Qf(t,i,a,_,d,f),b=Xf(),t!==null&&!Mt?(Wf(t,i,f),os(t,i,f)):($e&&b&&Nf(i),i.flags|=1,Zt(t,i,l,f),i.child)}function Ky(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(t,i,d,l,f)):(t=ac(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,l)&&t.ref===i.ref)return os(t,i,f)}return i.flags|=1,t=ts(d,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Sd(t,f))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,os(t,i,f)}return pd(t,i,a,l,f)}function Xy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Wy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):Gf(),ey(i);else return l=i.lanes=536870912,Wy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),Zg(i,d),Fs(),i.memoizedState=null):(t!==null&&cc(i,null),Gf(),Fs());return Zt(t,i,f,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wy(t,i,a,l,f){var d=Uf();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&cc(i,null),Gf(),ey(i),t!==null&&Ba(t,i,l,!0),i.childLanes=f,null}function Rc(t,i){return i=Ic({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return ea(i,t.child,null,a),t=Rc(i,i.pendingProps),t.flags|=2,Mn(i),i.memoizedState=null,t}function iA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=Rc(i,l),i.lanes=536870912,El(null,t);if(Yf(i),(t=ft)?(t=c_(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:js!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,Wt=i,ft=null)):t=null,t===null)throw Ps(i);return i.lanes=536870912,null}return Rc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(i),f)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Mt||Ba(t,i,a,!1),f=(a&t.childLanes)!==0,Mt||f){if(l=ct,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,$r(t,_),wn(l,t,_),md;Lc(),i=Jy(t,i,a)}else t=d.treeContext,ft=Wn(_.nextSibling),Wt=i,$e=!0,Ls=null,Qn=!1,t!==null&&Pg(i,t),i=Rc(i,l),i.flags|=4096;return i}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,f){return Xr(i),a=Qf(t,i,a,l,void 0,f),l=Xf(),t!==null&&!Mt?(Wf(t,i,f),os(t,i,f)):($e&&l&&Nf(i),i.flags|=1,Zt(t,i,a,f),i.child)}function Zy(t,i,a,l,f,d){return Xr(i),i.updateQueue=null,a=ny(i,l,a,f),ty(t),l=Xf(),t!==null&&!Mt?(Wf(t,i,d),os(t,i,d)):($e&&l&&Nf(i),i.flags|=1,Zt(t,i,a,d),i.child)}function ev(t,i,a,l,f){if(Xr(i),i.stateNode===null){var d=La,_=a.contextType;typeof _=="object"&&_!==null&&(d=Jt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Jt(_):La,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),pl(i,l,d,f),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,V=na(a,b);d.props=V;var F=d.context,Z=a.contextType;_=La,typeof Z=="object"&&Z!==null&&(_=Jt(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&zy(i,d,l,_),zs=!1;var $=i.memoizedState;d.state=$,pl(i,l,d,f),ml(),F=i.memoizedState,b||$!==F||zs?(typeof ne=="function"&&(hd(i,a,ne,l),F=i.memoizedState),(V=zs||Uy(i,a,V,l,$,F,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(t,i),_=i.memoizedProps,Z=na(a,_),d.props=Z,ne=i.pendingProps,$=d.context,F=a.contextType,V=La,typeof F=="object"&&F!==null&&(V=Jt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||$!==V)&&zy(i,d,l,V),zs=!1,$=i.memoizedState,d.state=$,pl(i,l,d,f),ml();var X=i.memoizedState;_!==ne||$!==X||zs||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof b=="function"&&(hd(i,a,b,l),X=i.memoizedState),(Z=zs||Uy(i,a,Z,l,$,X,V)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,V)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=V,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ea(i,t.child,null,f),i.child=ea(i,null,a,f)):Zt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=os(t,i,f),t}function tv(t,i,a,l){return Kr(),i.flags|=256,Zt(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Fg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function nv(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if($e){if(f?Hs(i):Fs(),(t=ft)?(t=c_(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:js!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,Wt=i,ft=null)):t=null,t===null)throw Ps(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Fs(),f=i.mode,b=Ic({mode:"hidden",children:b},f),l=Yr(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=yd(a),l.childLanes=vd(t,_,a),i.memoizedState=gd,El(null,l)):(Hs(i),_d(i,b))}var V=t.memoizedState;if(V!==null&&(b=V.dehydrated,b!==null)){if(d)i.flags&256?(Hs(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Fs(),i.child=t.child,i.flags|=128,i=null):(Fs(),b=l.fallback,f=i.mode,l=Ic({mode:"visible",children:l.children},f),b=Yr(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,ea(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=vd(t,_,a),i.memoizedState=gd,i=El(null,l));else if(Hs(i),em(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(Mt||Ba(t,i,a,!1),_=(a&t.childLanes)!==0,Mt||_){if(_=ct,_!==null&&(l=Bo(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,$r(t,l),wn(_,t,l),md;Zd(b)||Lc(),i=Ed(t,i,a)}else Zd(b)?(i.flags|=192,i.child=t.child,i=null):(t=V.treeContext,ft=Wn(b.nextSibling),Wt=i,$e=!0,Ls=null,Qn=!1,t!==null&&Pg(i,t),i=_d(i,l.children),i.flags|=4096);return i}return f?(Fs(),b=l.fallback,f=i.mode,V=t.child,F=V.sibling,l=ts(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,F!==null?b=ts(F,b):(b=Yr(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,El(null,l),l=i.child,b=t.child.memoizedState,b===null?b=yd(a):(f=b.cachePool,f!==null?(V=xt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=Fg(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=vd(t,_,a),i.memoizedState=gd,El(t.child,l)):(Hs(i),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function _d(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=xn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return ea(i,t.child,null,a),t=_d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function Td(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function sv(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=bt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,se(bt,_),Zt(t,i,l,a),l=$e?ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,a,i);else if(t.tag===19)iv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&gc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Td(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&gc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function os(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ys|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ts(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function sA(t,i,a){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),Us(i,xt,t.memoizedState.cache),Kr();break;case 27:case 5:rn(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?nv(t,i,a):(Hs(i),t=os(t,i,a),t!==null?t.sibling:null);Hs(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ba(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return sv(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(bt,bt.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:Us(i,xt,t.memoizedState.cache)}return os(t,i,a)}function rv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Mt=!1,sA(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,$e&&(i.flags&1048576)!==0&&Lg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Jr(i.elementType),i.type=t,typeof t=="function")Cf(t)?(l=na(t,l),i.tag=1,i=ev(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ge){i.tag=11,i=Yy(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=we(t)||t,Error(r(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=na(l,i.pendingProps),ev(t,i,l,f,a);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,qf(t,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Us(i,xt,l),l!==d.cache&&jf(i,[xt],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=tv(t,i,l,a);break e}else if(l!==f){f=$n(Error(r(424)),i),ll(f),i=tv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=Wn(t.firstChild),Wt=i,$e=!0,Ls=null,Qn=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),l===f){i=os(t,i,a);break e}Zt(t,i,l,a)}i=i.child}return i;case 26:return Cc(t,i),t===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:$e||(a=i.type,t=i.pendingProps,l=Fc(_e.current).createElement(a),l[It]=i,l[Ht]=t,en(l,a,t),Dt(l),i.stateNode=l):i.memoizedState=g_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rn(i),t===null&&$e&&(l=i.stateNode=d_(i.type,i.pendingProps,_e.current),Wt=i,Qn=!0,f=ft,Js(i.type)?(tm=f,ft=Wn(l.firstChild)):ft=f),Zt(t,i,i.pendingProps.children,a),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&$e&&((f=l=ft)&&(l=VA(l,i.type,i.pendingProps,Qn),l!==null?(i.stateNode=l,Wt=i,ft=Wn(l.firstChild),Qn=!1,f=!0):f=!1),f||Ps(i)),rn(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(f,d)?l=null:_!==null&&Xd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Qf(t,i,Qb,null,null,a),kl._currentValue=f),Cc(t,i),Zt(t,i,l,a),i.child;case 6:return t===null&&$e&&((t=a=ft)&&(a=kA(a,i.pendingProps,Qn),a!==null?(i.stateNode=a,Wt=i,ft=null,t=!0):t=!1),t||Ps(i)),null;case 13:return nv(t,i,a);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ea(i,null,l,a):Zt(t,i,l,a),i.child;case 11:return Yy(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Us(i,i.type,l.value),Zt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Xr(i),f=Jt(f),l=l(f),i.flags|=1,Zt(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return sv(t,i,a);case 31:return iA(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return Xr(i),l=Jt(xt),t===null?(f=Uf(),f===null&&(f=ct,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Bf(i),Us(i,xt,f)):((t.lanes&a)!==0&&(qf(t,i),pl(i,null,null,a),ml()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Us(i,xt,l)):(l=d.cache,Us(i,xt,l),l!==f.cache&&jf(i,[xt],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ls(t){t.flags|=4}function bd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Ov())t.flags|=8192;else throw Zr=fc,zf}else t.flags&=-16777217}function av(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i))if(Ov())t.flags|=8192;else throw Zr=fc,zf}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ku():536870912,t.lanes|=i,Za|=i)}function Tl(t,i){if(!$e)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rA(t,i,a){var l=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ss(xt),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(i)?ls(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),dt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(ls(i),d!==null?(dt(i),av(i,d)):(dt(i),bd(i,f,null,l,a))):d?d!==t.memoizedState?(ls(i),dt(i),av(i,d)):(dt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ls(i),dt(i),bd(i,f,t,l,a)),null;case 27:if(Yt(i),a=_e.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ls(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return dt(i),null}t=ce.current,za(i)?Ug(i):(t=d_(f,l,a),i.stateNode=t,ls(i))}return dt(i),null;case 5:if(Yt(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ls(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(d=ce.current,za(i))Ug(i);else{var _=Fc(_e.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[It]=i,d[Ht]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(en(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ls(i)}}return dt(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ls(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=_e.current,za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||Ps(i,!0)}else t=Fc(t).createTextNode(l),t[It]=i,i.stateNode=t}return dt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=za(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[It]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[It]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),f=!1}else f=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),dt(i),null);case 4:return je(),t===null&&Gd(i.stateNode.containerInfo),dt(i),null;case 10:return ss(i.type),dt(i),null;case 19:if(Y(bt),l=i.memoizedState,l===null)return dt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Tl(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=gc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Vg(a,t),a=a.sibling;return se(bt,bt.current&1|2),$e&&ns(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&qt()>Vc&&(i.flags|=128,f=!0,Tl(l,!1),i.lanes=4194304)}else{if(!f)if(t=gc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!$e)return dt(i),null}else 2*qt()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,f=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qt(),t.sibling=null,a=bt.current,se(bt,f?a&1|2:a&1),$e&&ns(i,l.treeForkCount),t):(dt(i),null);case 22:case 23:return Mn(i),$f(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(Wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ss(xt),dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function aA(t,i){switch(xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ss(xt),je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Yt(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(bt),null;case 4:return je(),null;case 10:return ss(i.type),null;case 22:case 23:return Mn(i),$f(),t!==null&&Y(Wr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ss(xt),null;case 25:return null;default:return null}}function ov(t,i){switch(xf(i),i.tag){case 3:ss(xt),je();break;case 26:case 27:case 5:Yt(i);break;case 4:je();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:Y(bt);break;case 10:ss(i.type);break;case 22:case 23:Mn(i),$f(),t!==null&&Y(Wr);break;case 24:ss(xt)}}function Sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){rt(i,i.return,b)}}function Gs(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var V=a,F=b;try{F()}catch(Z){rt(f,V,Z)}}}l=l.next}while(l!==d)}}catch(Z){rt(i,i.return,Z)}}function lv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){rt(t,t.return,l)}}}function uv(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){rt(t,i,f)}}function zi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){rt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){rt(t,i,f)}else a.current=null}function cv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){rt(t,t.return,f)}}function Ad(t,i,a){try{var l=t.stateNode;IA(l,t.type,a,i),l[Ht]=i}catch(f){rt(t,t.return,f)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ai));else if(l!==4&&(l===27&&Js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function Nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,i,a),t=t.sibling;t!==null;)Nc(t,i,a),t=t.sibling}function fv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);en(i,l,a),i[It]=t,i[Ht]=a}catch(d){rt(t,t.return,d)}}var us=!1,Vt=!1,Cd=!1,dv=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function oA(t,i){if(t=t.containerInfo,Kd=Wc,t=wg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,V=-1,F=0,Z=0,ne=t,$=null;t:for(;;){for(var X;ne!==a||f!==0&&ne.nodeType!==3||(b=_+f),ne!==d||l!==0&&ne.nodeType!==3||(V=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(X=ne.firstChild)!==null;)$=ne,ne=X;for(;;){if(ne===t)break t;if($===a&&++F===f&&(b=_),$===d&&++Z===l&&(V=_),(X=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=X}a=b===-1||V===-1?null:{start:b,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},Wc=!1,Gt=i;Gt!==null;)if(i=Gt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Gt=t;else for(;Gt!==null;){switch(i=Gt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ve=na(a.type,f);t=l.getSnapshotBeforeUpdate(ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){rt(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Gt=t;break}Gt=i.return}}function mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),l&4&&Sl(5,a);break;case 1:if(hs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){rt(a,a.return,_)}else{var f=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(a,a.return,_)}}l&64&&lv(a),l&512&&bl(a,a.return);break;case 3:if(hs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){rt(a,a.return,_)}}break;case 27:i===null&&l&4&&fv(a);case 26:case 5:hs(t,a),i===null&&l&4&&cv(a),l&512&&bl(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),l&4&&yv(t,a);break;case 13:hs(t,a),l&4&&vv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gA.bind(null,a),jA(t,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){i=i!==null&&i.memoizedState!==null||Vt,f=us;var d=Vt;us=l,(Vt=i)&&!d?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=f,Vt=d}break;case 30:break;default:hs(t,a)}}function pv(t){var i=t.alternate;i!==null&&(t.alternate=null,pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,Tn=!1;function cs(t,i,a){for(a=a.child;a!==null;)gv(t,i,a),a=a.sibling}function gv(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:Vt||zi(a,i),cs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||zi(a,i);var l=pt,f=Tn;Js(a.type)&&(pt=a.stateNode,Tn=!1),cs(t,i,a),Ol(a.stateNode),pt=l,Tn=f;break;case 5:Vt||zi(a,i);case 6:if(l=pt,f=Tn,pt=null,cs(t,i,a),pt=l,Tn=f,pt!==null)if(Tn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(d){rt(a,i,d)}else try{pt.removeChild(a.stateNode)}catch(d){rt(a,i,d)}break;case 18:pt!==null&&(Tn?(t=pt,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):l_(pt,a.stateNode));break;case 4:l=pt,f=Tn,pt=a.stateNode.containerInfo,Tn=!0,cs(t,i,a),pt=l,Tn=f;break;case 0:case 11:case 14:case 15:Gs(2,a,i),Vt||Gs(4,a,i),cs(t,i,a);break;case 1:Vt||(zi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uv(a,i,l)),cs(t,i,a);break;case 21:cs(t,i,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,cs(t,i,a),Vt=l;break;default:cs(t,i,a)}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){rt(i,i.return,a)}}}function vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){rt(i,i.return,a)}}function lA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new dv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new dv),i;default:throw Error(r(435,t.tag))}}function xc(t,i){var a=lA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=yA.bind(null,t,l);l.then(f,f)}})}function Sn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Js(b.type)){pt=b.stateNode,Tn=!1;break e}break;case 5:pt=b.stateNode,Tn=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(pt===null)throw Error(r(160));gv(d,_,f),pt=null,Tn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_v(i,t),i=i.sibling}var fi=null;function _v(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),bn(t),l&4&&(Gs(3,t,t.return),Sl(3,t),Gs(5,t,t.return));break;case 1:Sn(i,t),bn(t),l&512&&(Vt||a===null||zi(a,a.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=fi;if(Sn(i,t),bn(t),l&512&&(Vt||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ri]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),en(d,l,a),d[It]=t,Dt(d),l=d;break e;case"link":var _=__("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),en(d,l,a),f.head.appendChild(d);break;case"meta":if(_=__("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),en(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[It]=t,Dt(d),l=d}t.stateNode=l}else E_(f,t.type,t.stateNode);else t.stateNode=v_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?E_(f,t.type,t.stateNode):v_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,t),bn(t),l&512&&(Vt||a===null||zi(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,t),bn(t),l&512&&(Vt||a===null||zi(a,a.return)),t.flags&32){f=t.stateNode;try{En(f,"")}catch(ve){rt(t,t.return,ve)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Ad(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Cd=!0);break;case 6:if(Sn(i,t),bn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){rt(t,t.return,ve)}}break;case 3:if(Yc=null,f=fi,fi=Gc(i.containerInfo),Sn(i,t),fi=f,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(i.containerInfo)}catch(ve){rt(t,t.return,ve)}Cd&&(Cd=!1,Ev(t));break;case 4:l=fi,fi=Gc(t.stateNode.containerInfo),Sn(i,t),bn(t),fi=l;break;case 12:Sn(i,t),bn(t);break;case 31:Sn(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 13:Sn(i,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=qt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 22:f=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,F=us,Z=Vt;if(us=F||f,Vt=Z||V,Sn(i,t),Vt=Z,us=F,bn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||V||us||Vt||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){V=a=i;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=V.stateNode;var ne=V.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ve){rt(V,V.return,ve)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(ve){rt(V,V.return,ve)}}}else if(i.tag===18){if(a===null){V=i;try{var X=V.stateNode;f?u_(X,!0):u_(V.stateNode,!1)}catch(ve){rt(V,V.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(t,a))));break;case 19:Sn(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),bn(t)}}function bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(hv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=wd(t);Nc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var b=wd(t);Nc(t,b,_);break;case 3:case 4:var V=a.stateNode.containerInfo,F=wd(t);Rd(t,F,V);break;default:throw Error(r(161))}}catch(Z){rt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function hs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gs(4,i,i.return),ia(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&uv(i,i.return,a),ia(i);break;case 27:Ol(i.stateNode);case 26:case 5:zi(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function fs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:fs(f,d,a),Sl(4,d);break;case 1:if(fs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){rt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Wg(V[f],b)}catch(F){rt(l,l.return,F)}}a&&_&64&&lv(d),bl(d,d.return);break;case 27:fv(d);case 26:case 5:fs(f,d,a),a&&l===null&&_&4&&cv(d),bl(d,d.return);break;case 12:fs(f,d,a);break;case 31:fs(f,d,a),a&&_&4&&yv(f,d);break;case 13:fs(f,d,a),a&&_&4&&vv(f,d);break;case 22:d.memoizedState===null&&fs(f,d,a),bl(d,d.return);break;case 30:break;default:fs(f,d,a)}i=i.sibling}}function Id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function di(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(t,i,a,l),i=i.sibling}function Tv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:di(t,i,a,l),f&2048&&Sl(9,i);break;case 1:di(t,i,a,l);break;case 3:di(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(f&2048){di(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){rt(i,i.return,V)}}else di(t,i,a,l);break;case 31:di(t,i,a,l);break;case 13:di(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?di(t,i,a,l):Al(t,i):d._visibility&2?di(t,i,a,l):(d._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Id(_,i);break;case 24:di(t,i,a,l),f&2048&&Dd(i.alternate,i);break;default:di(t,i,a,l)}}function Xa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,V=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Xa(d,_,b,V,f),Sl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Xa(d,_,b,V,f):Al(d,_):(Z._visibility|=2,Xa(d,_,b,V,f)),f&&F&2048&&Id(_.alternate,_);break;case 24:Xa(d,_,b,V,f),f&&F&2048&&Dd(_.alternate,_);break;default:Xa(d,_,b,V,f)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Al(a,l),f&2048&&Id(l.alternate,l);break;case 24:Al(a,l),f&2048&&Dd(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var wl=8192;function Wa(t,i,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)Sv(t,i,a),t=t.sibling}function Sv(t,i,a){switch(t.tag){case 26:Wa(t,i,a),t.flags&wl&&t.memoizedState!==null&&KA(a,fi,t.memoizedState,t.memoizedProps);break;case 5:Wa(t,i,a);break;case 3:case 4:var l=fi;fi=Gc(t.stateNode.containerInfo),Wa(t,i,a),fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Wa(t,i,a),wl=l):Wa(t,i,a));break;default:Wa(t,i,a)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,wv(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Av(t),t=t.sibling}function Av(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Rl(t);break;default:Rl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,wv(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gs(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function wv(t,i){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Gs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var f=l.sibling,d=l.return;if(pv(l),l===a){Gt=null;break e}if(f!==null){f.return=d,Gt=f;break e}Gt=d}}}var uA={getCacheForType:function(t){var i=Jt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Jt(xt).controller.signal}},cA=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Pe=null,ze=0,st=0,Vn=null,$s=!1,Ja=!1,Nd=!1,ds=0,_t=0,Ys=0,sa=0,xd=0,kn=0,Za=0,Cl=null,An=null,Od=!1,Mc=0,Rv=0,Vc=1/0,kc=null,Ks=null,Pt=0,Qs=null,eo=null,ms=0,Md=0,Vd=null,Cv=null,Il=0,kd=null;function jn(){return(et&2)!==0&&ze!==0?ze&-ze:W.T!==null?Bd():ju()}function Iv(){if(kn===0)if((ze&536870912)===0||$e){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),kn=t}else kn=536870912;return t=On.current,t!==null&&(t.flags|=32),kn}function wn(t,i,a){(t===ct&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(to(t,0),Xs(t,ze,kn,!1)),Or(t,a),((et&2)===0||t!==ct)&&(t===ct&&((et&2)===0&&(sa|=a),_t===4&&Xs(t,ze,kn,!1)),Bi(t))}function Dv(t,i,a){if((et&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ii(t,i),f=l?dA(t,i):Ld(t,i,!0),d=l;do{if(f===0){Ja&&!l&&Xs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!hA(a)){f=Ld(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Cl;var V=b.current.memoizedState.isDehydrated;if(V&&(to(b,_).flags|=256),_=Ld(b,_,!1),_!==2){if(Nd&&!V){b.errorRecoveryDisabledLanes|=d,sa|=d,f=4;break e}d=An,An=f,d!==null&&(An===null?An=d:An.push.apply(An,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){to(t,0),Xs(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Xs(l,i,kn,!$s);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Mc+300-qt(),10<f)){if(Xs(l,i,kn,!$s),bi(l,0,!0)!==0)break e;ms=i,l.timeoutHandle=a_(Nv.bind(null,l,a,An,kc,Od,i,kn,sa,Za,$s,d,"Throttled",-0,0),f);break e}Nv(l,a,An,kc,Od,i,kn,sa,Za,$s,d,null,-0,0)}}break}while(!0);Bi(t)}function Nv(t,i,a,l,f,d,_,b,V,F,Z,ne,$,X){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Sv(i,d,ne);var ve=(d&62914560)===d?Mc-qt():(d&4194048)===d?Rv-qt():0;if(ve=QA(ne,ve),ve!==null){ms=d,t.cancelPendingCommit=ve(Pv.bind(null,t,i,d,a,l,f,_,b,V,Z,ne,null,$,X)),Xs(t,d,_,!F);return}}Pv(t,i,d,a,l,f,_,b,V)}function hA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Nn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xs(t,i,a,l){i&=~xd,i&=~sa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Tt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Mr(t,a,i)}function jc(){return(et&6)===0?(Dl(0),!1):!0}function jd(){if(Pe!==null){if(st===0)var t=Pe.return;else t=Pe,is=Qr=null,Jf(t),Ga=null,hl=0,t=Pe;for(;t!==null;)ov(t.alternate,t),t=t.return;Pe=null}}function to(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,jd(),ct=t,Pe=a=ts(t.current,null),ze=i,st=0,Vn=null,$s=!1,Ja=ii(t,i),Nd=!1,Za=kn=xd=sa=Ys=_t=0,An=Cl=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Tt(l),d=1<<f;i|=t[f],l&=~d}return ds=i,ic(),a}function xv(t,i){Me=null,W.H=_l,i===Fa||i===hc?(i=Yg(),st=3):i===zf?(i=Yg(),st=4):st=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Pe===null&&(_t=1,wc(t,$n(i,t.current)))}function Ov(){var t=On.current;return t===null?!0:(ze&4194048)===ze?Xn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Xn:!1}function Mv(){var t=W.H;return W.H=_l,t===null?_l:t}function Vv(){var t=W.A;return W.A=uA,t}function Lc(){_t=4,$s||(ze&4194048)!==ze&&On.current!==null||(Ja=!0),(Ys&134217727)===0&&(sa&134217727)===0||ct===null||Xs(ct,ze,kn,!1)}function Ld(t,i,a){var l=et;et|=2;var f=Mv(),d=Vv();(ct!==t||ze!==i)&&(kc=null,to(t,i)),i=!1;var _=_t;e:do try{if(st!==0&&Pe!==null){var b=Pe,V=Vn;switch(st){case 8:jd(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var F=st;if(st=0,Vn=null,no(t,b,V,F),a&&Ja){_=0;break e}break;default:F=st,st=0,Vn=null,no(t,b,V,F)}}fA(),_=_t;break}catch(Z){xv(t,Z)}while(!0);return i&&t.shellSuspendCounter++,is=Qr=null,et=l,W.H=f,W.A=d,Pe===null&&(ct=null,ze=0,ic()),_}function fA(){for(;Pe!==null;)kv(Pe)}function dA(t,i){var a=et;et|=2;var l=Mv(),f=Vv();ct!==t||ze!==i?(kc=null,Vc=qt()+500,to(t,i)):Ja=ii(t,i);e:do try{if(st!==0&&Pe!==null){i=Pe;var d=Vn;t:switch(st){case 1:st=0,Vn=null,no(t,i,d,1);break;case 2:case 9:if(Gg(d)){st=0,Vn=null,jv(i);break}i=function(){st!==2&&st!==9||ct!==t||(st=7),Bi(t)},d.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Gg(d)?(st=0,Vn=null,jv(i)):(st=0,Vn=null,no(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var b=Pe;if(_?T_(_):b.stateNode.complete){st=0,Vn=null;var V=b.sibling;if(V!==null)Pe=V;else{var F=b.return;F!==null?(Pe=F,Pc(F)):Pe=null}break t}}st=0,Vn=null,no(t,i,d,5);break;case 6:st=0,Vn=null,no(t,i,d,6);break;case 8:jd(),_t=6;break e;default:throw Error(r(462))}}mA();break}catch(Z){xv(t,Z)}while(!0);return is=Qr=null,W.H=l,W.A=f,et=a,Pe!==null?0:(ct=null,ze=0,ic(),_t)}function mA(){for(;Pe!==null&&!Dr();)kv(Pe)}function kv(t){var i=rv(t.alternate,t,ds);t.memoizedProps=t.pendingProps,i===null?Pc(t):Pe=i}function jv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Jf(i);default:ov(a,i),i=Pe=Vg(i,ds),i=rv(a,i,ds)}t.memoizedProps=t.pendingProps,i===null?Pc(t):Pe=i}function no(t,i,a,l){is=Qr=null,Jf(i),Ga=null,hl=0;var f=i.return;try{if(nA(t,f,i,a,ze)){_t=1,wc(t,$n(a,t.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;_t=1,wc(t,$n(a,t.current)),Pe=null;return}i.flags&32768?($e||l===1?t=!0:Ja||(ze&536870912)!==0?t=!1:($s=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){Lv(i,$s);return}t=i.return;var a=rA(i.alternate,i,ds);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);_t===0&&(_t=5)}function Lv(t,i){do{var a=aA(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);_t=6,Pe=null}function Pv(t,i,a,l,f,d,_,b,V){t.cancelPendingCommit=null;do Uc();while(Pt!==0);if((et&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=wf,gf(t,a,d,_,b,V),t===ct&&(Pe=ct=null,ze=0),eo=i,Qs=t,ms=a,Md=d,Vd=f,Cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vA(Un,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ue.p,ue.p=2,_=et,et|=4;try{oA(t,i,a)}finally{et=_,ue.p=f,W.T=l}}Pt=1,Uv(),zv(),Bv()}}function Uv(){if(Pt===1){Pt=0;var t=Qs,i=eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var f=et;et|=4;try{_v(i,t);var d=Qd,_=wg(t.containerInfo),b=d.focusedElem,V=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Ag(b.ownerDocument.documentElement,b)){if(V!==null&&Ef(b)){var F=V.start,Z=V.end;if(Z===void 0&&(Z=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(Z,b.value.length);else{var ne=b.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var X=$.getSelection(),ve=b.textContent.length,Ae=Math.min(V.start,ve),ut=V.end===void 0?Ae:Math.min(V.end,ve);!X.extend&&Ae>ut&&(_=ut,ut=Ae,Ae=_);var B=bg(b,Ae),L=bg(b,ut);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var H=ne.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),Ae>ut?(X.addRange(H),X.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),X.addRange(H))}}}}for(ne=[],X=b;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var te=ne[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Wc=!!Kd,Qd=Kd=null}finally{et=f,ue.p=l,W.T=a}}t.current=i,Pt=2}}function zv(){if(Pt===2){Pt=0;var t=Qs,i=eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var f=et;et|=4;try{mv(t,i.alternate,i)}finally{et=f,ue.p=l,W.T=a}}Pt=3}}function Bv(){if(Pt===4||Pt===3){Pt=0,Nr();var t=Qs,i=eo,a=ms,l=Cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,eo=Qs=null,qv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ks=null),Wi(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ni,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=ue.p,ue.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{W.T=i,ue.p=f}}(ms&3)!==0&&Uc(),Bi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===kd?Il++:(Il=0,kd=t):Il=0,Dl(0)}}function qv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function Uc(){return Uv(),zv(),Bv(),Hv()}function Hv(){if(Pt!==5)return!1;var t=Qs,i=Md;Md=0;var a=Wi(ms),l=W.T,f=ue.p;try{ue.p=32>a?32:a,W.T=null,a=Vd,Vd=null;var d=Qs,_=ms;if(Pt=0,eo=Qs=null,ms=0,(et&6)!==0)throw Error(r(331));var b=et;if(et|=4,Av(d.current),Tv(d,d.current,_,a),et=b,Dl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ni,d)}catch{}return!0}finally{ue.p=f,W.T=l,qv(t,i)}}function Fv(t,i,a){i=$n(a,i),i=dd(t.stateNode,i,2),t=qs(t,i,2),t!==null&&(Or(t,2),Bi(t))}function rt(t,i,a){if(t.tag===3)Fv(t,t,a);else for(;i!==null;){if(i.tag===3){Fv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=$n(a,t),a=Gy(2),l=qs(i,a,2),l!==null&&($y(a,l,i,t),Or(l,2),Bi(l));break}}i=i.return}}function Pd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Nd=!0,f.add(a),t=pA.bind(null,t,i,a),i.then(t,t))}function pA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(ze&a)===a&&(_t===4||_t===3&&(ze&62914560)===ze&&300>qt()-Mc?(et&2)===0&&to(t,0):xd|=a,Za===ze&&(Za=0)),Bi(t)}function Gv(t,i){i===0&&(i=ku()),t=$r(t,i),t!==null&&(Or(t,i),Bi(t))}function gA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gv(t,a)}function yA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Gv(t,a)}function vA(t,i){return Le(t,i)}var zc=null,io=null,Ud=!1,Bc=!1,zd=!1,Ws=0;function Bi(t){t!==io&&t.next===null&&(io===null?zc=io=t:io=io.next=t),Bc=!0,Ud||(Ud=!0,EA())}function Dl(t,i){if(!zd&&Bc){zd=!0;do for(var a=!1,l=zc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Qv(l,d))}else d=ze,d=bi(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ii(l,d)||(a=!0,Qv(l,d));l=l.next}while(a);zd=!1}}function _A(){$v()}function $v(){Bc=Ud=!1;var t=0;Ws!==0&&NA()&&(t=Ws);for(var i=qt(),a=null,l=zc;l!==null;){var f=l.next,d=Yv(l,i);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(io=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}Pt!==0&&Pt!==5||Dl(t),Ws!==0&&(Ws=0)}function Yv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Tt(d),b=1<<_,V=f[_];V===-1?((b&a)===0||(b&l)!==0)&&(f[_]=pf(b,i)):V<=i&&(t.expiredLanes|=b),d&=~b}if(i=ct,a=ze,a=bi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vn(l),Wi(a)){case 2:case 8:a=ti;break;case 32:a=Un;break;case 268435456:a=Nu;break;default:a=Un}return l=Kv.bind(null,t),a=Le(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vn(l),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=ze;return l=bi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dv(t,l,i),Yv(t,qt()),t.callbackNode!=null&&t.callbackNode===a?Kv.bind(null,t):null)}function Qv(t,i){if(Uc())return null;Dv(t,i,!0)}function EA(){OA(function(){(et&6)!==0?Le(tt,_A):$v()})}function Bd(){if(Ws===0){var t=qa;t===0&&(t=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Ws=t}return Ws}function Xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function Wv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function TA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Xv((f[Ht]||null).action),_=l.submitter;_&&(i=(i=_[Ht]||null)?Xv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Vi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var V=_?Wv(f,_):new FormData(f);od(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(b.preventDefault(),V=_?Wv(f,_):new FormData(f),od(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var qd=0;qd<Af.length;qd++){var Hd=Af[qd],SA=Hd.toLowerCase(),bA=Hd[0].toUpperCase()+Hd.slice(1);hi(SA,"on"+bA)}hi(Ig,"onAnimationEnd"),hi(Dg,"onAnimationIteration"),hi(Ng,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Ub,"onTransitionRun"),hi(zb,"onTransitionStart"),hi(Bb,"onTransitionCancel"),hi(xg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Jv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],V=b.instance,F=b.currentTarget;if(b=b.listener,V!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(Z){nc(Z)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(b=l[_],V=b.instance,F=b.currentTarget,b=b.listener,V!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(Z){nc(Z)}f.currentTarget=null,d=V}}}}function Ue(t,i){var a=i[Sa];a===void 0&&(a=i[Sa]=new Set);var l=t+"__bubble";a.has(l)||(Zv(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),Zv(a,t,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[qc]){t[qc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qc]||(i[qc]=!0,Fd("selectionchange",!1,i))}}function Zv(t,i,a,l){switch(I_(i)){case 2:var f=JA;break;case 8:f=ZA;break;default:f=am}a=f.bind(null,i,a,t),f=void 0,!Pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function $d(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Ci(b),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Os(function(){var F=d,Z=qn(a),ne=[];e:{var $=Og.get(t);if($!==void 0){var X=Vi,ve=t;switch(t){case"keypress":if(zr(a)===0)break e;case"keydown":case"keyup":X=Zu;break;case"focusin":ve="focus",X=qr;break;case"focusout":ve="blur",X=qr;break;case"beforeblur":case"afterblur":X=qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Ig:case Dg:case Ng:X=$u;break;case xg:X=A;break;case"scroll":case"scrollend":X=el;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=es;break;case"toggle":case"beforetoggle":X=Oe}var Ae=(i&4)!==0,ut=!Ae&&(t==="scroll"||t==="scrollend"),B=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var L=F,H;L!==null;){var te=L;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||B===null||(te=oi(L,B),te!=null&&Ae.push(xl(L,te,H))),ut)break;L=L.return}0<Ae.length&&($=new X($,ve,null,a,Z),ne.push({event:$,listeners:Ae}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",$&&a!==Wo&&(ve=a.relatedTarget||a.fromElement)&&(Ci(ve)||ve[wi]))break e;if((X||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,X?(ve=a.relatedTarget||a.toElement,X=F,ve=ve?Ci(ve):null,ve!==null&&(ut=u(ve),Ae=ve.tag,ve!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(X=null,ve=F),X!==ve)){if(Ae=tl,te="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=es,te="onPointerLeave",B="onPointerEnter",L="pointer"),ut=X==null?$:In(X),H=ve==null?$:In(ve),$=new Ae(te,L+"leave",X,a,Z),$.target=ut,$.relatedTarget=H,te=null,Ci(Z)===F&&(Ae=new Ae(B,L+"enter",ve,a,Z),Ae.target=H,Ae.relatedTarget=ut,te=Ae),ut=te,X&&ve)t:{for(Ae=wA,B=X,L=ve,H=0,te=B;te;te=Ae(te))H++;te=0;for(var Se=L;Se;Se=Ae(Se))te++;for(;0<H-te;)B=Ae(B),H--;for(;0<te-H;)L=Ae(L),te--;for(;H--;){if(B===L||L!==null&&B===L.alternate){Ae=B;break t}B=Ae(B),L=Ae(L)}Ae=null}else Ae=null;X!==null&&e_(ne,$,X,Ae,!1),ve!==null&&ut!==null&&e_(ne,ut,ve,Ae,!0)}}e:{if($=F?In(F):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var We=yg;else if(pg($))if(vg)We=jb;else{We=Vb;var Ee=Mb}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&Ra(F.elementType)&&(We=yg):We=kb;if(We&&(We=We(t,F))){gg(ne,We,a,Z);break e}Ee&&Ee(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Ko($,"number",$.value)}switch(Ee=F?In(F):window,t){case"focusin":(pg(Ee)||Ee.contentEditable==="true")&&(Va=Ee,Tf=F,al=null);break;case"focusout":al=Tf=Va=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Rg(ne,a,Z);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":Rg(ne,a,Z)}var Ve;if(Ze)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ma?Hr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Li&&a.locale!=="ko"&&(Ma||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ma&&(Ve=Zo()):(Mi=Z,Jo="value"in Mi?Mi.value:Mi.textContent,Ma=!0)),Ee=Hc(F,Be),0<Ee.length&&(Be=new ji(Be,t,null,a,Z),ne.push({event:Be,listeners:Ee}),Ve?Be.data=Ve:(Ve=Oa(a),Ve!==null&&(Be.data=Ve)))),(Ve=Fn?Db(t,a):Nb(t,a))&&(Be=Hc(F,"onBeforeInput"),0<Be.length&&(Ee=new ji("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Ee,listeners:Be}),Ee.data=Ve)),TA(ne,t,F,a,Z)}Jv(ne,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Hc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=oi(t,a),f!=null&&l.unshift(xl(t,f,d)),f=oi(t,i),f!=null&&l.push(xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function wA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,V=b.alternate,F=b.stateNode;if(b=b.tag,V!==null&&V===l)break;b!==5&&b!==26&&b!==27||F===null||(V=F,f?(F=oi(a,d),F!=null&&_.unshift(xl(a,F,V))):f||(F=oi(a,d),F!=null&&_.push(xl(a,F,V)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var RA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(RA,`
`).replace(CA,"")}function n_(t,i){return i=t_(i),t_(t)===i}function lt(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&lt(t,i,"name",f.name,f,null),lt(t,i,"formEncType",f.formEncType,f,null),lt(t,i,"formMethod",f.formMethod,f,null),lt(t,i,"formTarget",f.formTarget,f,null)):(lt(t,i,"encType",f.encType,f,null),lt(t,i,"method",f.method,f,null),lt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Aa(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,Aa(t,a,l))}}function Yd(t,i,a,l,f,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ht]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Aa(t,a,l)}}}function en(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,d,_,a,null)}}f&&lt(t,i,"srcSet",a.srcSet,a,null),l&&lt(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=d=_=f=null,V=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":V=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:lt(t,i,l,Z,a,null)}}zu(t,d,b,V,F,_,f,!1);return;case"select":Ue("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:lt(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Is(t,!!l,i,!1):a!=null&&Is(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:lt(t,i,_,b,a,null)}Ds(t,l,f,d);return;case"option":for(V in a)a.hasOwnProperty(V)&&(l=a[V],l!=null)&&(V==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":lt(t,i,V,l,a,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ue(Nl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,F,l,a,null)}return;default:if(Ra(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Yd(t,i,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&lt(t,i,b,l,a,null))}function IA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,V=null,F=null,Z=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=ne;default:l.hasOwnProperty(X)||lt(t,i,X,null,l,ne)}}for(var $ in l){var X=l[$];if(ne=a[$],l.hasOwnProperty($)&&(X!=null||ne!=null))switch($){case"type":d=X;break;case"name":f=X;break;case"checked":F=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:X!==ne&&lt(t,i,$,X,l,ne)}}wa(t,_,b,V,F,Z,d,f);return;case"select":X=_=b=$=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":X=V;default:l.hasOwnProperty(d)||lt(t,i,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==V&&lt(t,i,f,d,l,V)}i=b,a=_,l=X,$!=null?Is(t,!!a,$,!1):!!l!=!!a&&(i!=null?Is(t,!!a,i,!0):Is(t,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&lt(t,i,_,f,l,d)}Bu(t,$,X);return;case"option":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:lt(t,i,ve,null,l,$));for(V in l)$=l[V],X=a[V],l.hasOwnProperty(V)&&$!==X&&($!=null||X!=null)&&(V==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":lt(t,i,V,$,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)$=a[Ae],a.hasOwnProperty(Ae)&&$!=null&&!l.hasOwnProperty(Ae)&&lt(t,i,Ae,null,l,$);for(F in l)if($=l[F],X=a[F],l.hasOwnProperty(F)&&$!==X&&($!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:lt(t,i,F,$,l,X)}return;default:if(Ra(i)){for(var ut in a)$=a[ut],a.hasOwnProperty(ut)&&$!==void 0&&!l.hasOwnProperty(ut)&&Yd(t,i,ut,void 0,l,$);for(Z in l)$=l[Z],X=a[Z],!l.hasOwnProperty(Z)||$===X||$===void 0&&X===void 0||Yd(t,i,Z,$,l,X);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&lt(t,i,B,null,l,$);for(ne in l)$=l[ne],X=a[ne],!l.hasOwnProperty(ne)||$===X||$==null&&X==null||lt(t,i,ne,$,l,X)}function i_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&i_(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],F=V.startTime;if(F>b)break;var Z=V.transferSize,ne=V.initiatorType;Z&&i_(ne)&&(V=V.responseEnd,_+=Z*(V<b?1:(b-F)/(V-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Qd=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function NA(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(MA)}:a_;function MA(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function l_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),oo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(t.ownerDocument.body);a=f}while(a);oo(i)}function u_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function kA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function c_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Wn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function h_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Wn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function f_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function d_(t,i,a){switch(i=Fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ba(t)}var Jn=new Map,m_=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=ue.d;ue.d={f:LA,r:PA,D:UA,C:zA,L:BA,m:qA,X:FA,S:HA,M:GA};function LA(){var t=ps.f(),i=jc();return t||i}function PA(t){var i=Bn(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):ps.r(t)}var so=typeof document>"u"?null:document;function p_(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var f=_n(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),m_.has(f)||(m_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),en(i,"link",t),Dt(i),l.head.appendChild(i)))}}function UA(t){ps.D(t),p_("dns-prefetch",t,null)}function zA(t,i){ps.C(t,i),p_("preconnect",t,i)}function BA(t,i,a){ps.L(t,i,a);var l=so;if(l&&t&&i){var f='link[rel="preload"][as="'+_n(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_n(a.imageSizes)+'"]')):f+='[href="'+_n(t)+'"]';var d=f;switch(i){case"style":d=ro(t);break;case"script":d=ao(t)}Jn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),en(i,"link",t),Dt(i),l.head.appendChild(i)))}}function qA(t,i){ps.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ao(t)}if(!Jn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),en(l,"link",t),Dt(l),a.head.appendChild(l)}}}function HA(t,i,a){ps.S(t,i,a);var l=so;if(l&&t){var f=Ii(l).hoistableStyles,d=ro(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ml(d)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jn.get(d))&&nm(t,a);var V=_=l.createElement("link");Dt(V),en(V,"link",t),V._p=new Promise(function(F,Z){V.onload=F,V.onerror=Z}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$c(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function FA(t,i){ps.X(t,i);var a=so;if(a&&t){var l=Ii(a).hoistableScripts,f=ao(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=S({src:t,async:!0},i),(i=Jn.get(f))&&im(t,i),d=a.createElement("script"),Dt(d),en(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function GA(t,i){ps.M(t,i);var a=so;if(a&&t){var l=Ii(a).hoistableScripts,f=ao(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Jn.get(f))&&im(t,i),d=a.createElement("script"),Dt(d),en(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g_(t,i,a,l){var f=(f=_e.current)?Gc(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=Ii(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=Ii(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),d||$A(f,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=Ii(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ro(t){return'href="'+_n(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function $A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),Dt(i),t.head.appendChild(i))}function ao(t){return'[src="'+_n(t)+'"]'}function Vl(t){return"script[async]"+t}function v_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(l)return i.instance=l,Dt(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),en(l,"style",f),$c(l,a.precedence,t),i.instance=l;case"stylesheet":f=ro(a.href);var d=t.querySelector(Ml(f));if(d)return i.state.loading|=4,i.instance=d,Dt(d),d;l=y_(a),(f=Jn.get(f))&&nm(l,f),d=(t.ownerDocument||t).createElement("link"),Dt(d);var _=d;return _._p=new Promise(function(b,V){_.onload=b,_.onerror=V}),en(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=ao(a.src),(f=t.querySelector(Vl(d)))?(i.instance=f,Dt(f),f):(l=a,(f=Jn.get(d))&&(l=S({},a),im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Dt(f),en(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yc=null;function __(t,i,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ri]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function E_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function YA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ro(l.href),d=i.querySelector(Ml(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Dt(d);return}d=i.ownerDocument||i,l=y_(l),(f=Jn.get(f))&&nm(l,f),d=d.createElement("link"),Dt(d);var _=d;_._p=new Promise(function(b,V){_.onload=b,_.onerror=V}),en(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function QA(t,i){return t.stylesheets&&t.count===0&&Xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*DA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Xc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(XA,t),Qc=null,Kc.call(t))}function XA(t,i){if(!(i.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function WA(t,i,a,l,f,d,_,b,V){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function S_(t,i,a,l,f,d,_,b,V,F,Z,ne){return t=new WA(t,i,a,_,V,F,Z,ne,b),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function b_(t){return t?(t=La,t):La}function A_(t,i,a,l,f,d){f=b_(f),l.context===null?l.context=f:l.pendingContext=f,l=Bs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qs(t,l,i),a!==null&&(wn(a,t,i),dl(a,t,i))}function w_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){w_(t,i),(t=t.alternate)&&w_(t,i)}function R_(t){if(t.tag===13||t.tag===31){var i=$r(t,67108864);i!==null&&wn(i,t,67108864),rm(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var i=jn();i=Vr(i);var a=$r(t,i);a!==null&&wn(a,t,i),rm(t,i)}}var Wc=!0;function JA(t,i,a,l){var f=W.T;W.T=null;var d=ue.p;try{ue.p=2,am(t,i,a,l)}finally{ue.p=d,W.T=f}}function ZA(t,i,a,l){var f=W.T;W.T=null;var d=ue.p;try{ue.p=8,am(t,i,a,l)}finally{ue.p=d,W.T=f}}function am(t,i,a,l){if(Wc){var f=om(l);if(f===null)$d(t,i,l,Jc,a),D_(t,l);else if(tw(f,t,i,a,l))l.stopPropagation();else if(D_(t,l),i&4&&-1<ew.indexOf(t)){for(;f!==null;){var d=Bn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Si(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var V=1<<31-Tt(_);b.entanglements[1]|=V,_&=~V}Bi(d),(et&6)===0&&(Vc=qt()+500,Dl(0))}}break;case 31:case 13:b=$r(d,2),b!==null&&wn(b,d,2),jc(),rm(d,2)}if(d=om(l),d===null&&$d(t,i,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else $d(t,i,l,null,a)}}function om(t){return t=qn(t),lm(t)}var Jc=null;function lm(t){if(Jc=null,t=Ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jc=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case tt:return 2;case ti:return 8;case Un:case mf:return 32;case Nu:return 268435456;default:return 32}default:return 32}}var um=!1,Zs=null,er=null,tr=null,jl=new Map,Ll=new Map,nr=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,i){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Pl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Bn(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function tw(t,i,a,l,f){switch(i){case"focusin":return Zs=Pl(Zs,t,i,a,l,f),!0;case"dragenter":return er=Pl(er,t,i,a,l,f),!0;case"mouseover":return tr=Pl(tr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return jl.set(d,Pl(jl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ll.set(d,Pl(Ll.get(d)||null,t,i,a,l,f)),!0}return!1}function N_(t){var i=Ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,si(t.priority,function(){C_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,si(t.priority,function(){C_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=Bn(a),i!==null&&R_(i),t.blockedOn=a,!1;i.shift()}return!0}function x_(t,i,a){Zc(t)&&a.delete(i)}function nw(){um=!1,Zs!==null&&Zc(Zs)&&(Zs=null),er!==null&&Zc(er)&&(er=null),tr!==null&&Zc(tr)&&(tr=null),jl.forEach(x_),Ll.forEach(x_)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nw)))}var th=null;function O_(t){th!==t&&(th=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Bn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function oo(t){function i(V){return eh(V,t)}Zs!==null&&eh(Zs,t),er!==null&&eh(er,t),tr!==null&&eh(tr,t),jl.forEach(i),Ll.forEach(i);for(var a=0;a<nr.length;a++){var l=nr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ht]||null;if(typeof d=="function")_||O_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ht]||null)b=_.formAction;else if(lm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),O_(a)}}}function M_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function cm(t){this._internalRoot=t}nh.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=jn();A_(a,l,t,i,null,null)},nh.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;A_(t.current,2,null,t,null,null),jc(),i[wi]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=ju();t={blockedOn:null,target:t,priority:i};for(var a=0;a<nr.length&&i!==0&&i<nr[a].priority;a++);nr.splice(a,0,t),a===0&&N_(t)}};var V_=e.version;if(V_!=="19.2.4")throw Error(r(527,V_,"19.2.4"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ni=ih.inject(iw),Qt=ih}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",f=By,d=qy,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=S_(t,1,!1,null,null,a,l,null,f,d,_,M_),t[wi]=i.current,Gd(t),new cm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=By,_=qy,b=Hy,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),i=S_(t,1,!0,i,a??null,l,f,V,d,_,b,M_),i.context=b_(null),a=i.current,l=jn(),l=Vr(l),f=Bs(l),f.callback=null,qs(a,f,l),a=l,i.current.lanes=a,Or(i,a),Bi(i),t[wi]=i.current,Gd(t),new nh(i)},zl.version="19.2.4",zl}var F_;function dw(){if(F_)return dm.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=fw(),dm.exports}var mw=dw();var G_="popstate";function pw(s={}){function e(r,o){let{pathname:u,search:h,hash:m}=r.location;return Om("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:nu(o)}return yw(e,n,null,s)}function gt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substring(2,10)}function $_(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||r||gw()}}function nu({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Io(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function yw(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",p=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let z=E(),J=z==null?null:z-v;v=z,p&&p({action:m,location:k.location,delta:J})}function w(z,J){m="PUSH";let K=Om(k.location,z,J);v=E()+1;let oe=$_(K,v),ge=k.createHref(K);try{h.pushState(oe,"",ge)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(ge)}u&&p&&p({action:m,location:k.location,delta:1})}function P(z,J){m="REPLACE";let K=Om(k.location,z,J);v=E();let oe=$_(K,v),ge=k.createHref(K);h.replaceState(oe,"",ge),u&&p&&p({action:m,location:k.location,delta:0})}function U(z){return vw(z)}let k={get action(){return m},get location(){return s(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,S),p=z,()=>{o.removeEventListener(G_,S),p=null}},createHref(z){return e(o,z)},createURL:U,encodeLocation(z){let J=U(z);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:P,go(z){return h.go(z)}};return k}function vw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:nu(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OT(s,e,n="/"){return _w(s,e,n,!1)}function _w(s,e,n,r){let o=typeof e=="string"?Io(e):e,u=Es(o.pathname||"/",n);if(u==null)return null;let h=MT(s);Ew(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let v=xw(u);m=Dw(h[p],v,r)}return m}function MT(s,e=[],n=[],r="",o=!1){let u=(h,m,p=o,v)=>{let E={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;gt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let S=vs([r,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),MT(h.children,e,w,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:Cw(S,h.index),routesMeta:w})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of VT(h.path))u(h,m,!0,p)}),e}function VT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=VT(r.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function Ew(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Iw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Tw=/^:[\w-]+$/,Sw=3,bw=2,Aw=1,ww=10,Rw=-2,Y_=s=>s==="*";function Cw(s,e){let n=s.split("/"),r=n.length;return n.some(Y_)&&(r+=Rw),e&&(r+=bw),n.filter(o=>!Y_(o)).reduce((o,u)=>o+(Tw.test(u)?Sw:u===""?Aw:ww),r)}function Iw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function Dw(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],v=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},E),w=p.route;if(!S&&v&&n&&!r[r.length-1].route.index&&(S=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:vs([u,S.pathname]),pathnameBase:kw(vs([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=vs([u,S.pathnameBase]))}return h}function wh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Nw(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:E,isOptional:S},w)=>{if(E==="*"){let U=m[w]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const P=m[w];return S&&!P?v[E]=void 0:v[E]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function Nw(s,e=!1,n=!0){vi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function xw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Es(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Mw(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Io(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=K_(n.substring(1),"/"):u=K_(n,e)):u=e,{pathname:u,search:jw(r),hash:Lw(o)}}function K_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(s){let e=Vw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gp(s,e,n,r=!1){let o;typeof s=="string"?o=Io(s):(o={...s},gt(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=Mw(o,m),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||E)&&(p.pathname+="/"),p}var vs=s=>s.join("/").replace(/\/\/+/g,"/"),kw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Lw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Pw=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function zw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jT(s,e){let n=s;if(typeof n!="string"||!Ow.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(kT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Es(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var Bw=["GET",...LT];new Set(Bw);var Do=j.createContext(null);Do.displayName="DataRouter";var $h=j.createContext(null);$h.displayName="DataRouterState";var qw=j.createContext(!1),PT=j.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var Hw=j.createContext(new Map);Hw.displayName="Fetchers";var Fw=j.createContext(null);Fw.displayName="Await";var Pn=j.createContext(null);Pn.displayName="Navigation";var pu=j.createContext(null);pu.displayName="Location";var Qi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var yp=j.createContext(null);yp.displayName="RouteError";var UT="REACT_ROUTER_ERROR",Gw="REDIRECT",$w="ROUTE_ERROR_RESPONSE";function Yw(s){if(s.startsWith(`${UT}:${Gw}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Kw(s){if(s.startsWith(`${UT}:${$w}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Pw(e.status,e.statusText,e.data)}catch{}}function Qw(s,{relative:e}={}){gt(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Pn),{hash:o,pathname:u,search:h}=gu(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:vs([n,u])),r.createHref({pathname:m,search:h,hash:o})}function No(){return j.useContext(pu)!=null}function Ar(){return gt(No(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(pu).location}var zT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BT(s){j.useContext(Pn).static||j.useLayoutEffect(s)}function ws(){let{isDataRoute:s}=j.useContext(Qi);return s?l1():Xw()}function Xw(){gt(No(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Do),{basename:e,navigator:n}=j.useContext(Pn),{matches:r}=j.useContext(Qi),{pathname:o}=Ar(),u=JSON.stringify(pp(r)),h=j.useRef(!1);return BT(()=>{h.current=!0}),j.useCallback((p,v={})=>{if(vi(h.current,zT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=gp(p,JSON.parse(u),o,v.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vs([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,o,s])}j.createContext(null);function gu(s,{relative:e}={}){let{matches:n}=j.useContext(Qi),{pathname:r}=Ar(),o=JSON.stringify(pp(n));return j.useMemo(()=>gp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function Ww(s,e){return qT(s,e)}function qT(s,e,n,r,o){gt(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Pn),{matches:h}=j.useContext(Qi),m=h[h.length-1],p=m?m.params:{},v=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let K=S&&S.path||"";FT(v,!S||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=Ar(),P;if(e){let K=typeof e=="string"?Io(e):e;gt(E==="/"||K.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),P=K}else P=w;let U=P.pathname||"/",k=U;if(E!=="/"){let K=E.replace(/^\//,"").split("/");k="/"+U.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=OT(s,{pathname:k});vi(S||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),vi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=n1(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:vs([E,u.encodeLocation?u.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:vs([E,u.encodeLocation?u.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),h,n,r,o);return e&&J?j.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},J):J}function Jw(){let s=o1(),e=Uw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var Zw=j.createElement(Jw,null),HT=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=Kw(s.digest);n&&(s=n)}let e=s!==void 0?j.createElement(Qi.Provider,{value:this.props.routeContext},j.createElement(yp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?j.createElement(e1,{error:s},e):e}};HT.contextType=qw;var vm=new WeakMap;function e1({children:s,error:e}){let{basename:n}=j.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Yw(e.digest);if(r){let o=vm.get(e);if(o)throw o;let u=jT(r.location,n);if(kT&&!vm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw vm.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function t1({routeContext:s,match:e,children:n}){let r=j.useContext(Do);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Qi.Provider,{value:s},n)}function n1(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let E=u.findIndex(S=>S.route.id&&h?.[S.route.id]!==void 0);gt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=E),S.route.id){let{loaderData:w,errors:P}=n,U=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let v=n&&r?(E,S)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zw(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let P,U=!1,k=null,z=null;n&&(P=h&&S.route.id?h[S.route.id]:void 0,k=S.route.errorElement||Zw,m&&(p<0&&w===0?(FT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,z=null):p===w&&(U=!0,z=S.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,w+1)),K=()=>{let oe;return P?oe=k:U?oe=z:S.route.Component?oe=j.createElement(S.route.Component,null):S.route.element?oe=S.route.element:oe=E,j.createElement(t1,{match:S,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:oe})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?j.createElement(HT,{location:n.location,revalidation:n.revalidation,component:k,error:P,children:K(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:v}):K()},null)}function vp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(s){let e=j.useContext(Do);return gt(e,vp(s)),e}function s1(s){let e=j.useContext($h);return gt(e,vp(s)),e}function r1(s){let e=j.useContext(Qi);return gt(e,vp(s)),e}function _p(s){let e=r1(s),n=e.matches[e.matches.length-1];return gt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function a1(){return _p("useRouteId")}function o1(){let s=j.useContext(yp),e=s1("useRouteError"),n=_p("useRouteError");return s!==void 0?s:e.errors?.[n]}function l1(){let{router:s}=i1("useNavigate"),e=_p("useNavigate"),n=j.useRef(!1);return BT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{vi(n.current,zT),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Q_={};function FT(s,e,n){!e&&!Q_[s]&&(Q_[s]=!0,vi(!1,n))}j.memo(u1);function u1({routes:s,future:e,state:n,onError:r}){return qT(s,void 0,n,r,e)}function c1({to:s,replace:e,state:n,relative:r}){gt(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Pn);vi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Qi),{pathname:h}=Ar(),m=ws(),p=gp(s,pp(u),h,r==="path"),v=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(v),{replace:e,state:n,relative:r})},[m,v,r,e,n]),null}function rr(s){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){gt(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Io(n));let{pathname:v="/",search:E="",hash:S="",state:w=null,key:P="default"}=n,U=j.useMemo(()=>{let k=Es(v,m);return k==null?null:{location:{pathname:k,search:E,hash:S,state:w,key:P},navigationType:r}},[m,v,E,S,w,P,r]);return vi(U!=null,`<Router basename="${m}"> is not able to match the URL "${v}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:j.createElement(Pn.Provider,{value:p},j.createElement(pu.Provider,{children:e,value:U}))}function f1({children:s,location:e}){return Ww(Mm(s),e)}function Mm(s,e=[]){let n=[];return j.Children.forEach(s,(r,o)=>{if(!j.isValidElement(r))return;let u=[...e,o];if(r.type===j.Fragment){n.push.apply(n,Mm(r.props.children,u));return}gt(r.type===rr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Mm(r.props.children,u)),n.push(h)}),n}var dh="get",mh="application/x-www-form-urlencoded";function Yh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function d1(s){return Yh(s)&&s.tagName.toLowerCase()==="button"}function m1(s){return Yh(s)&&s.tagName.toLowerCase()==="form"}function p1(s){return Yh(s)&&s.tagName.toLowerCase()==="input"}function g1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function y1(s,e){return s.button===0&&(!e||e==="_self")&&!g1(s)}var sh=null;function v1(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(s){return s!=null&&!_1.has(s)?(vi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):s}function E1(s,e){let n,r,o,u,h;if(m1(s)){let m=s.getAttribute("action");r=m?Es(m,e):null,n=s.getAttribute("method")||dh,o=_m(s.getAttribute("enctype"))||mh,u=new FormData(s)}else if(d1(s)||p1(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?Es(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||dh,o=_m(s.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||mh,u=new FormData(m,s),!v1()){let{name:v,type:E,value:S}=s;if(E==="image"){let w=v?`${v}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else v&&u.append(v,S)}}else{if(Yh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,r=null,o=mh,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function T1(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Es(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function S1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function A1(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await S1(u,n);return h.links?h.links():[]}return[]}));return I1(r.flat(1).filter(b1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(s,e,n,r,o,u){let h=(p,v)=>n[v]?p.route.id!==n[v].route.id:!0,m=(p,v)=>n[v].pathname!==p.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,v)=>h(p,v)||m(p,v)):u==="data"?e.filter((p,v)=>{let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,v)||m(p,v))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function w1(s,e,{includeHydrateFallback:n}={}){return R1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function R1(s){return[...new Set(s)]}function C1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function I1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(C1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function GT(){let s=j.useContext(Do);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function D1(){let s=j.useContext($h);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=j.createContext(void 0);Tp.displayName="FrameworkContext";function $T(){let s=j.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function N1(s,e){let n=j.useContext(Tp),[r,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,w=j.useRef(null);j.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let k=J=>{J.forEach(K=>{h(K.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[s]),j.useEffect(()=>{if(r){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[r]);let P=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,w,{}]:[u,w,{onFocus:Bl(m,P),onBlur:Bl(p,U),onMouseEnter:Bl(v,P),onMouseLeave:Bl(E,U),onTouchStart:Bl(S,P)}]:[!1,w,{}]}function Bl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function x1({page:s,...e}){let{router:n}=GT(),r=j.useMemo(()=>OT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?j.createElement(M1,{page:s,matches:r,...e}):null}function O1(s){let{manifest:e,routeModules:n}=$T(),[r,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return A1(s,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,e,n]),r}function M1({page:s,matches:e,...n}){let r=Ar(),{future:o,manifest:u,routeModules:h}=$T(),{basename:m}=GT(),{loaderData:p,matches:v}=D1(),E=j.useMemo(()=>X_(s,e,v,u,r,"data"),[s,e,v,u,r]),S=j.useMemo(()=>X_(s,e,v,u,r,"assets"),[s,e,v,u,r]),w=j.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let k=new Set,z=!1;if(e.forEach(K=>{let oe=u.routes[K.route.id];!oe||!oe.hasLoader||(!E.some(ge=>ge.route.id===K.route.id)&&K.route.id in p&&h[K.route.id]?.shouldRevalidate||oe.hasClientLoader?z=!0:k.add(K.route.id))}),k.size===0)return[];let J=T1(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return z&&k.size>0&&J.searchParams.set("_routes",e.filter(K=>k.has(K.route.id)).map(K=>K.route.id).join(",")),[J.pathname+J.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,u,E,e,s,h]),P=j.useMemo(()=>w1(S,u),[S,u]),U=O1(S);return j.createElement(j.Fragment,null,w.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),P.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),U.map(({key:k,link:z})=>j.createElement("link",{key:k,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function V1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k1&&(window.__reactRouterVersion="7.13.0")}catch{}function j1({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=j.useRef();o.current==null&&(o.current=pw({window:r,v5Compat:!0}));let u=o.current,[h,m]=j.useState({action:u.action,location:u.location}),p=j.useCallback(v=>{n===!1?m(v):j.startTransition(()=>m(v))},[n]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(h1,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:v,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},U){let{basename:k,unstable_useTransitions:z}=j.useContext(Pn),J=typeof v=="string"&&YT.test(v),K=jT(v,k);v=K.to;let oe=Qw(v,{relative:o}),[ge,G,ee]=N1(r,P),I=z1(v,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:z});function C(D){e&&e(D),D.defaultPrevented||I(D)}let R=j.createElement("a",{...P,...ee,href:K.absoluteURL||oe,onClick:K.isExternal||u?e:C,ref:V1(U,G),target:p,"data-discover":!J&&n==="render"?"true":void 0});return ge&&!J?j.createElement(j.Fragment,null,R,j.createElement(x1,{page:oe})):R});KT.displayName="Link";var L1=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...v},E){let S=gu(h,{relative:v.relative}),w=Ar(),P=j.useContext($h),{navigator:U,basename:k}=j.useContext(Pn),z=P!=null&&G1(S)&&m===!0,J=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,K=w.pathname,oe=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(K=K.toLowerCase(),oe=oe?oe.toLowerCase():null,J=J.toLowerCase()),oe&&k&&(oe=Es(oe,k)||oe);const ge=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let G=K===J||!o&&K.startsWith(J)&&K.charAt(ge)==="/",ee=oe!=null&&(oe===J||!o&&oe.startsWith(J)&&oe.charAt(J.length)==="/"),I={isActive:G,isPending:ee,isTransitioning:z},C=G?e:void 0,R;typeof r=="function"?R=r(I):R=[r,G?"active":null,ee?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(I):u;return j.createElement(KT,{...v,"aria-current":C,className:R,ref:E,style:D,to:h,viewTransition:m},typeof p=="function"?p(I):p)});L1.displayName="NavLink";var P1=j.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:v,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},U)=>{let{unstable_useTransitions:k}=j.useContext(Pn),z=H1(),J=F1(m,{relative:v}),K=h.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&YT.test(m),ge=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let ee=G.nativeEvent.submitter,I=ee?.getAttribute("formmethod")||h,C=()=>z(ee||G.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:v,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});k&&n!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:U,method:K,action:J,onSubmit:r?p:ge,...P,"data-discover":!oe&&s==="render"?"true":void 0})});P1.displayName="Form";function U1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(s){let e=j.useContext(Do);return gt(e,U1(s)),e}function z1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let v=ws(),E=Ar(),S=gu(s,{relative:u});return j.useCallback(w=>{if(y1(w,e)){w.preventDefault();let P=n!==void 0?n:nu(E)===nu(S),U=()=>v(s,{replace:P,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?j.startTransition(()=>U()):U()}},[E,v,S,n,r,e,s,o,u,h,m,p])}var B1=0,q1=()=>`__${String(++B1)}__`;function H1(){let{router:s}=QT("useSubmit"),{basename:e}=j.useContext(Pn),n=a1(),r=s.fetch,o=s.navigate;return j.useCallback(async(u,h={})=>{let{action:m,method:p,encType:v,formData:E,body:S}=E1(u,e);if(h.navigate===!1){let w=h.fetcherKey||q1();await r(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:S,formMethod:h.method||p,formEncType:h.encType||v,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:S,formMethod:h.method||p,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function F1(s,{relative:e}={}){let{basename:n}=j.useContext(Pn),r=j.useContext(Qi);gt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...gu(s||".",{relative:e})},h=Ar();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vs([n,u.pathname])),nu(u)}function G1(s,{relative:e}={}){let n=j.useContext(PT);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QT("useViewTransitionState"),o=gu(s,{relative:e});if(!n.isTransitioning)return!1;let u=Es(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Es(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const $1=()=>{};var W_={};const XT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Y1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],h=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,p=o+2<s.length,v=p?s[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|v>>6,P=v&63;p||(P=64,h||(w=64)),r.push(n[E],n[S],n[w],n[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(XT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Y1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const v=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||v==null||S==null)throw new K1;const w=u<<2|m>>4;if(r.push(w),v!==64){const P=m<<4&240|v>>2;if(r.push(P),S!==64){const U=v<<6&192|S;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(s){const e=XT(s);return WT.encodeByteArray(e,!0)},Rh=function(s){return Q1(s).replace(/\./g,"")},JT=function(s){try{return WT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const W1=()=>X1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Z1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&JT(s[1]);return e&&JSON.parse(e)},Kh=()=>{try{return $1()||W1()||J1()||Z1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ZT=s=>Kh()?.emulatorHosts?.[s],eR=s=>{const e=ZT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e0=()=>Kh()?.config,t0=s=>Kh()?.[`_${s}`];class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function xo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(s){return(await fetch(s,{credentials:"include"})).ok}function nR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const Ql={};function iR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?s.emulator.push(e):s.prod.push(e);return s}function sR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let J_=!1;function i0(s,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Ql[s]===e||Ql[s]||J_)return;Ql[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=iR().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function v(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{J_=!0,h()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=sR(r),P=n("text"),U=document.getElementById(P)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),J=n("preprendIcon"),K=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const oe=w.element;m(oe),E(z,k);const ge=v();p(K,J),oe.append(K,U,z,ge),document.body.appendChild(oe)}u?(U.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function aR(){const s=Kh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const mR="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mR,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?pR(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Rs(o,m,r)}}function pR(s,e){return s.replace(gR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const gR=/\{\$([^}]+)}/g;function yR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],h=e[o];if(Z_(u)&&Z_(h)){if(!la(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function vu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function vR(s,e){const n=new _R(s,e);return n.subscribe.bind(n)}class _R{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Em(){}function Bt(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(s){return s===ra?void 0:s}function bR(s){return s.instantiationMode==="EAGER"}class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const wR={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},RR=qe.INFO,CR={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},IR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=CR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const DR=(s,e)=>e.some(n=>s instanceof n);let eE,tE;function NR(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,Vm=new WeakMap,r0=new WeakMap,Tm=new WeakMap,bp=new WeakMap;function OR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(hr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,s)}).catch(()=>{}),bp.set(e,s),e}function MR(s){if(Vm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Vm.set(s,e)}let km={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||r0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VR(s){km=s(km)}function kR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Sm(this),e,...n);return r0.set(r,e.sort?e.sort():[e]),hr(r)}:xR().includes(s)?function(...e){return s.apply(Sm(this),e),hr(s0.get(this))}:function(...e){return hr(s.apply(Sm(this),e))}}function jR(s){return typeof s=="function"?kR(s):(s instanceof IDBTransaction&&MR(s),DR(s,NR())?new Proxy(s,km):s)}function hr(s){if(s instanceof IDBRequest)return OR(s);if(Tm.has(s))return Tm.get(s);const e=jR(s);return e!==s&&(Tm.set(s,e),bp.set(e,s)),e}const Sm=s=>bp.get(s);function LR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),m=hr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(hr(h.result),p.oldVersion,p.newVersion,hr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],bm=new Map;function nE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=UR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}VR(s=>({...s,get:(e,n,r)=>nE(e,n)||s.get(e,n,r),has:(e,n)=>!!nE(e,n)||s.has(e,n)}));class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BR(s){return s.getComponent()?.type==="VERSION"}const jm="@firebase/app",iE="0.14.7";const Ts=new Sp("@firebase/app"),qR="@firebase/app-compat",HR="@firebase/analytics-compat",FR="@firebase/analytics",GR="@firebase/app-check-compat",$R="@firebase/app-check",YR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",XR="@firebase/data-connect",WR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",rC="@firebase/performance-compat",aC="@firebase/remote-config",oC="@firebase/remote-config-compat",lC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",hC="@firebase/ai",fC="@firebase/firestore-compat",dC="firebase",mC="12.8.0";const Lm="[DEFAULT]",pC={[jm]:"fire-core",[qR]:"fire-core-compat",[FR]:"fire-analytics",[HR]:"fire-analytics-compat",[$R]:"fire-app-check",[GR]:"fire-app-check-compat",[YR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[XR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[rC]:"fire-perf-compat",[aC]:"fire-rc",[oC]:"fire-rc-compat",[lC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[fC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[dC]:"fire-js-all"};const Ch=new Map,gC=new Map,Pm=new Map;function sE(s,e){try{s.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function To(s){const e=s.name;if(Pm.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,s);for(const n of Ch.values())sE(n,s);for(const n of gC.values())sE(n,s);return!0}function Ap(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Zn(s){return s==null?!1:s.settings!==void 0}const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new yu("app","Firebase",yC);class vC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Oo=mC;function wp(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Lm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(n||(n=e0()),!n)throw fr.create("no-options");const u=Ch.get(o);if(u){if(la(n,u.options)&&la(r,u.config))return u;throw fr.create("duplicate-app",{appName:o})}const h=new AR(o);for(const p of Pm.values())h.addComponent(p);const m=new vC(n,r,h);return Ch.set(o,m),m}function a0(s=Lm){const e=Ch.get(s);if(!e&&s===Lm&&e0())return wp();if(!e)throw fr.create("no-app",{appName:s});return e}function dr(s,e,n){let r=pC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(h.join(" "));return}To(new ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _C="firebase-heartbeat-database",EC=1,iu="firebase-heartbeat-store";let Am=null;function o0(){return Am||(Am=LR(_C,EC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Am}async function TC(s){try{const n=(await o0()).transaction(iu),r=await n.objectStore(iu).get(l0(s));return await n.done,r}catch(e){if(e instanceof Rs)Ts.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(n.message)}}}async function rE(s,e){try{const r=(await o0()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,l0(s)),await r.done}catch(n){if(n instanceof Rs)Ts.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n?.message});Ts.warn(r.message)}}}function l0(s){return`${s.name}!${s.options.appId}`}const SC=1024,bC=30;class AC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bC){const o=CC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:r}=wC(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ts.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function wC(s,e=SC){const n=[];let r=s.slice();for(const o of s){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),oE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(s){return Rh(JSON.stringify({version:2,heartbeats:s})).length}function CC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function IC(s){To(new ua("platform-logger",e=>new zR(e),"PRIVATE")),To(new ua("heartbeat",e=>new AC(e),"PRIVATE")),dr(jm,iE,s),dr(jm,iE,"esm2020"),dr("fire-js","")}IC("");function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DC=u0,c0=new yu("auth","Firebase",u0());const Ih=new Sp("@firebase/auth");function NC(s,...e){Ih.logLevel<=qe.WARN&&Ih.warn(`Auth (${Oo}): ${s}`,...e)}function ph(s,...e){Ih.logLevel<=qe.ERROR&&Ih.error(`Auth (${Oo}): ${s}`,...e)}function _i(s,...e){throw Rp(s,...e)}function Hi(s,...e){return Rp(s,...e)}function h0(s,e,n){const r={...DC(),[e]:n};return new yu("auth","Firebase",r).create(e,{appName:s.name})}function _s(s){return h0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return c0.create(s,...e)}function Re(s,e,...n){if(!s)throw Rp(e,...n)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ph(e),new Error(e)}function Ss(s,e){s||gs(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function xC(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}function OC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||lR()||"connection"in navigator)?navigator.onLine:!0}function MC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=rR()||uR()}get(){return OC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class f0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jC=new _u(3e4,6e4);function wr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rr(s,e,n,r,o={}){return d0(s,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=vu({key:s.config.apiKey,...h}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:p,...u};return oR()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&xo(s.emulatorConfig.host)&&(v.credentials="include"),f0.fetch()(await m0(s,s.config.apiHost,n,m),v)})}async function d0(s,e,n){s._canInitEmulator=!1;const r={...VC,...e};try{const o=new PC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,v]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(s,"user-disabled",h);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw h0(s,E,v);_i(s,E)}}catch(o){if(o instanceof Rs)throw o;_i(s,"network-request-failed",{message:String(o)})}}async function Eu(s,e,n,r,o={}){const u=await Rr(s,e,n,r,o);return"mfaPendingCredential"in u&&_i(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function m0(s,e,n,r){const o=`${e}${n}?${r}`,u=s,h=u.config.emulator?Cp(s.config,o):`${s.config.apiScheme}://${o}`;return kC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function LC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),jC.get())})}}function rh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Hi(s,e,r);return o.customData._tokenResponse=n,o}function uE(s){return s!==void 0&&s.enterprise!==void 0}class UC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zC(s,e){return Rr(s,"GET","/v2/recaptchaConfig",wr(s,e))}async function BC(s,e){return Rr(s,"POST","/v1/accounts:delete",e)}async function Dh(s,e){return Rr(s,"POST","/v1/accounts:lookup",e)}function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(s,e=!1){const n=Bt(s),r=await n.getIdToken(e),o=Ip(r);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:Xl(wm(o.auth_time)),issuedAtTime:Xl(wm(o.iat)),expirationTime:Xl(wm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(s){return Number(s)*1e3}function Ip(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=JT(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cE(s){const e=Ip(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rs&&HC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function HC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(s){const e=s.auth,n=await s.getIdToken(),r=await su(s,Dh(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?p0(o.providerUserInfo):[],h=$C(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!h?.length,v=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,E)}async function GC(s){const e=Bt(s);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function p0(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function YC(s,e){const n=await d0(s,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await m0(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&xo(s.emulatorConfig.host)&&(p.credentials="include"),f0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KC(s,e){return Rr(s,"POST","/v2/accounts:revokeToken",wr(s,e))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=cE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await YC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new mo;return r&&(Re(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return gs("not implemented")}}function sr(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await su(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,v=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:U,stsTokenManager:k}=n;Re(S&&k,e,"internal-error");const z=mo.fromJSON(this.name,k);Re(typeof S=="string",e,"internal-error"),sr(r,e.name),sr(o,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof P=="boolean",e,"internal-error"),sr(u,e.name),sr(h,e.name),sr(m,e.name),sr(p,e.name),sr(v,e.name),sr(E,e.name);const J=new pi({uid:S,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:v,lastLoginAt:E});return U&&Array.isArray(U)&&(J.providerData=U.map(K=>({...K}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,r=!1){const o=new mo;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?p0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new mo;m.updateFromIdToken(r);const p=new pi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,v),p}}const hE=new Map;function ys(s){Ss(s instanceof Function,"Expected a class definition");let e=hE.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,hE.set(s,e),e)}class g0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g0.type="NONE";const fE=g0;function gh(s,e,n){return`firebase:${s}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(ys(fE),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||ys(fE);const h=gh(r,e.config.apiKey,e.name);let m=null;for(const v of n)try{const E=await v._get(h);if(E){let S;if(typeof E=="string"){const w=await Dh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await pi._fromGetAccountInfoResponse(e,w,E)}else S=pi._fromJSON(e,E);v!==u&&(m=S),u=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,e,r):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new po(u,e,r))}}function dE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(b0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function y0(s=mn()){return/firefox\//i.test(s)}function v0(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(s=mn()){return/crios\//i.test(s)}function E0(s=mn()){return/iemobile/i.test(s)}function T0(s=mn()){return/android/i.test(s)}function S0(s=mn()){return/blackberry/i.test(s)}function b0(s=mn()){return/webos/i.test(s)}function Dp(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QC(s=mn()){return Dp(s)&&!!window.navigator?.standalone}function XC(){return cR()&&document.documentMode===10}function A0(s=mn()){return Dp(s)||T0(s)||b0(s)||S0(s)||/windows phone/i.test(s)||E0(s)}function w0(s,e=[]){let n;switch(s){case"Browser":n=dE(mn());break;case"Worker":n=`${dE(mn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JC(s,e={}){return Rr(s,"GET","/v2/passwordPolicy",wr(s,e))}const ZC=6;class eI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(_s(this));const n=e?Bt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),n=new eI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ya(s){return Bt(s)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(s){Qh=s}function R0(s){return Qh.loadJS(s)}function iI(){return Qh.recaptchaEnterpriseScript}function sI(){return Qh.gapiScript}function rI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class aI{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lI="recaptcha-enterprise",C0="NO_RECAPTCHA";class uI{constructor(e){this.type=lI,this.auth=ya(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{zC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new UC(p);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;uE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(C0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&uE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iI();p.length!==0&&(p+=m),R0(p).then(()=>{o(m,u,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function pE(s,e,n,r=!1,o=!1){const u=new uI(s);let h;if(o)h=C0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await pE(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(u)})}function cI(s,e){const n=Ap(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function hI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function fI(s,e,n){const r=ya(s);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=I0(e),{host:h,port:m}=dI(e),p=m===null?"":`:${m}`,v={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(la(v,r.config.emulator)&&la(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,xo(h)?(n0(`${u}//${h}${p}`),i0("Auth",!0)):mI()}function I0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dI(s){const e=I0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:gE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:gE(h)}}}function gE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Np{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function pI(s,e){return Rr(s,"POST","/v1/accounts:signUp",e)}async function gI(s,e){return Eu(s,"POST","/v1/accounts:signInWithPassword",wr(s,e))}async function yI(s,e){return Eu(s,"POST","/v1/accounts:signInWithEmailLink",wr(s,e))}async function vI(s,e){return Eu(s,"POST","/v1/accounts:signInWithEmailLink",wr(s,e))}class ru extends Np{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",gI);case"emailLink":return yI(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",pI);case"emailLink":return vI(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function go(s,e){return Eu(s,"POST","/v1/accounts:signInWithIdp",wr(s,e))}const _I="http://localhost";class ca extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new ca(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:_I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}function EI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TI(s){const e=Fl(Gl(s)).link,n=e?Fl(Gl(e)).deep_link_id:null,r=Fl(Gl(s)).deep_link_id;return(r?Fl(Gl(r)).link:null)||r||n||e||s}class xp{constructor(e){const n=Fl(Gl(e)),r=n.apiKey??null,o=n.oobCode??null,u=EI(n.mode??null);Re(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TI(e);try{return new xp(n)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xp.parseLink(n);return Re(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tu extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends Tu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends Tu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends Tu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function SI(s,e){return Eu(s,"POST","/v1/accounts:signUp",wr(s,e))}class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await pi._fromIdTokenResponse(e,r,o),h=yE(r);return new ha({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=yE(r);return new ha({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function yE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class xh extends Rs{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new xh(e,n,r,o)}}function N0(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(s,u,e,r):u})}async function bI(s,e,n=!1){const r=await su(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ha._forOperation(s,"link",r)}async function AI(s,e,n=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(_s(r));const o="reauthenticate";try{const u=await su(s,N0(r,o,e,s),n);Re(u.idToken,r,"internal-error");const h=Ip(u.idToken);Re(h,r,"internal-error");const{sub:m}=h;return Re(s.uid===m,r,"user-mismatch"),ha._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_i(r,"user-mismatch"),u}}async function x0(s,e,n=!1){if(Zn(s.app))return Promise.reject(_s(s));const r="signIn",o=await N0(s,r,e),u=await ha._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function wI(s,e){return x0(ya(s),e)}async function O0(s){const e=ya(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RI(s,e,n){if(Zn(s.app))return Promise.reject(_s(s));const r=ya(s),h=await Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&O0(s),p}),m=await ha._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function CI(s,e,n){return Zn(s.app)?Promise.reject(_s(s)):wI(Bt(s),Mo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O0(s),r})}function II(s,e){return Bt(s).setPersistence(e)}function DI(s,e,n,r){return Bt(s).onIdTokenChanged(e,n,r)}function NI(s,e,n){return Bt(s).beforeAuthStateChanged(e,n)}function xI(s,e,n,r){return Bt(s).onAuthStateChanged(e,n,r)}function M0(s){return Bt(s).signOut()}const Oh="__sak";class V0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OI=1e3,MI=10;class k0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);XC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k0.type="LOCAL";const j0=k0;class L0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L0.type="SESSION";const Op=L0;function VI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async v=>v(n.origin,u)),p=await VI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function Mp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class kI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const v=Mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===v)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Fi(){return window}function jI(s){Fi().location.href=s}function P0(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function LI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PI(){return navigator?.serviceWorker?.controller||null}function UI(){return P0()?self:null}const U0="firebaseLocalStorageDb",zI=1,Mh="firebaseLocalStorage",z0="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(s,e){return s.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function BI(){const s=indexedDB.deleteDatabase(U0);return new Su(s).toPromise()}function qm(){const s=indexedDB.open(U0,zI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Mh,{keyPath:z0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await BI(),e(await qm()))})})}async function vE(s,e,n){const r=Wh(s,!0).put({[z0]:e,value:n});return new Su(r).toPromise()}async function qI(s,e){const n=Wh(s,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function _E(s,e){const n=Wh(s,!0).delete(e);return new Su(n).toPromise()}const HI=800,FI=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(UI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await vE(e,Oh,"1"),await _E(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const GI=B0;new _u(3e4,6e4);function $I(s,e){return e?ys(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YI(s){return x0(s.auth,new Vp(s),s.bypassAuthState)}function KI(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),AI(n,new Vp(s),s.bypassAuthState)}async function QI(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),bI(n,new Vp(s),s.bypassAuthState)}class q0{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return KI;default:_i(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XI=new _u(2e3,1e4);class fo extends q0{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}fo.currentPopupAction=null;const WI="pendingRedirect",yh=new Map;class JI extends q0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await ZI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(s,e){const n=nD(e),r=tD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function eD(s,e){yh.set(s._key(),e)}function tD(s){return ys(s._redirectPersistence)}function nD(s){return gh(WI,s.config.apiKey,s.name)}async function iD(s,e,n=!1){if(Zn(s.app))return Promise.reject(_s(s));const r=ya(s),o=$I(r,e),h=await new JI(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const sD=600*1e3;class rD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!H0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sD&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function H0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(s);default:return!1}}async function oD(s,e={}){return Rr(s,"GET","/v1/projects",e)}const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;async function cD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oD(s);for(const n of e)try{if(hD(n))return}catch{}_i(s,"unauthorized-domain")}function hD(s){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!uD.test(n))return!1;if(lD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const fD=new _u(3e4,6e4);function TE(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function dD(s){return new Promise((e,n)=>{function r(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Hi(s,"network-request-failed"))},timeout:fD.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const o=rI("iframefcb");return Fi()[o]=()=>{gapi.load?r():n(Hi(s,"network-request-failed"))},R0(`${sI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw vh=null,e})}let vh=null;function mD(s){return vh=vh||dD(s),vh}const pD=new _u(5e3,15e3),gD="__/auth/iframe",yD="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Cp(e,yD):`https://${s.config.authDomain}/${gD}`,r={apiKey:e.apiKey,appName:s.name,v:Oo},o=_D.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${vu(r).slice(1)}`}async function TD(s){const e=await mD(s),n=Fi().gapi;return Re(n,s,"internal-error"),e.open({where:document.body,url:ED(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Hi(s,"network-request-failed"),m=Fi().setTimeout(()=>{u(h)},pD.get());function p(){Fi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(h)})}))}const SD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bD=500,AD=600,wD="_blank",RD="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CD(s,e,n,r=bD,o=AD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...SD,width:r.toString(),height:o.toString(),top:u,left:h},v=mn().toLowerCase();n&&(m=_0(v)?wD:n),y0(v)&&(e=e||RD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,U])=>`${w}${P}=${U},`,"");if(QC(v)&&m!=="_self")return ID(e||"",m),new SE(null);const S=window.open(e||"",m,E);Re(S,s,"popup-blocked");try{S.focus()}catch{}return new SE(S)}function ID(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const DD="__/auth/handler",ND="emulator/auth/handler",xD=encodeURIComponent("fac");async function bE(s,e,n,r,o,u){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Oo,eventId:o};if(e instanceof D0){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",yR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Tu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),v=p?`#${xD}=${encodeURIComponent(p)}`:"";return`${OD(s)}?${vu(m).slice(1)}${v}`}function OD({config:s}){return s.emulator?Cp(s,ND):`https://${s.authDomain}/${DD}`}const Rm="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Op,this._completeRedirectFn=iD,this._overrideRedirectResult=eD}async _openPopup(e,n,r,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bE(e,n,r,Um(),o);return CD(e,u,Mp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await bE(e,n,r,Um(),o);return jI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ss(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TD(e),r=new rD(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A0()||v0()||Dp()}}const VD=MD;var AE="@firebase/auth",wE="1.12.0";class kD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LD(s){To(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(s)},v=new tI(r,o,u,p);return hI(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new ua("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(r=>new kD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(AE,wE,jD(s)),dr(AE,wE,"esm2020")}const PD=300,UD=t0("authIdTokenMaxAge")||PD;let RE=null;const zD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UD)return;const o=n?.token;RE!==o&&(RE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function F0(s=a0()){const e=Ap(s,"auth");if(e.isInitialized())return e.getImmediate();const n=cI(s,{popupRedirectResolver:VD,persistence:[GI,j0,Op]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=zD(u.toString());NI(n,h,()=>h(n.currentUser)),DI(n,m=>h(m))}}const o=ZT("auth");return o&&fI(n,`http://${o}`),n}function BD(){return document.getElementsByTagName("head")?.[0]??document}nI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Hi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",BD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LD("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,G0;(function(){var s;function e(I,C){function R(){}R.prototype=C.prototype,I.F=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(D,x,M){for(var N=Array(arguments.length-2),we=2;we<arguments.length;we++)N[we-2]=arguments[we];return C.prototype[x].apply(D,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,R){R||(R=0);const D=Array(16);if(typeof C=="string")for(var x=0;x<16;++x)D[x]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(x=0;x<16;++x)D[x]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],x=I.g[2];let M=I.g[3],N;N=C+(M^R&(x^M))+D[0]+3614090360&4294967295,C=R+(N<<7&4294967295|N>>>25),N=M+(x^C&(R^x))+D[1]+3905402710&4294967295,M=C+(N<<12&4294967295|N>>>20),N=x+(R^M&(C^R))+D[2]+606105819&4294967295,x=M+(N<<17&4294967295|N>>>15),N=R+(C^x&(M^C))+D[3]+3250441966&4294967295,R=x+(N<<22&4294967295|N>>>10),N=C+(M^R&(x^M))+D[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=M+(x^C&(R^x))+D[5]+1200080426&4294967295,M=C+(N<<12&4294967295|N>>>20),N=x+(R^M&(C^R))+D[6]+2821735955&4294967295,x=M+(N<<17&4294967295|N>>>15),N=R+(C^x&(M^C))+D[7]+4249261313&4294967295,R=x+(N<<22&4294967295|N>>>10),N=C+(M^R&(x^M))+D[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=M+(x^C&(R^x))+D[9]+2336552879&4294967295,M=C+(N<<12&4294967295|N>>>20),N=x+(R^M&(C^R))+D[10]+4294925233&4294967295,x=M+(N<<17&4294967295|N>>>15),N=R+(C^x&(M^C))+D[11]+2304563134&4294967295,R=x+(N<<22&4294967295|N>>>10),N=C+(M^R&(x^M))+D[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=M+(x^C&(R^x))+D[13]+4254626195&4294967295,M=C+(N<<12&4294967295|N>>>20),N=x+(R^M&(C^R))+D[14]+2792965006&4294967295,x=M+(N<<17&4294967295|N>>>15),N=R+(C^x&(M^C))+D[15]+1236535329&4294967295,R=x+(N<<22&4294967295|N>>>10),N=C+(x^M&(R^x))+D[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=M+(R^x&(C^R))+D[6]+3225465664&4294967295,M=C+(N<<9&4294967295|N>>>23),N=x+(C^R&(M^C))+D[11]+643717713&4294967295,x=M+(N<<14&4294967295|N>>>18),N=R+(M^C&(x^M))+D[0]+3921069994&4294967295,R=x+(N<<20&4294967295|N>>>12),N=C+(x^M&(R^x))+D[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=M+(R^x&(C^R))+D[10]+38016083&4294967295,M=C+(N<<9&4294967295|N>>>23),N=x+(C^R&(M^C))+D[15]+3634488961&4294967295,x=M+(N<<14&4294967295|N>>>18),N=R+(M^C&(x^M))+D[4]+3889429448&4294967295,R=x+(N<<20&4294967295|N>>>12),N=C+(x^M&(R^x))+D[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=M+(R^x&(C^R))+D[14]+3275163606&4294967295,M=C+(N<<9&4294967295|N>>>23),N=x+(C^R&(M^C))+D[3]+4107603335&4294967295,x=M+(N<<14&4294967295|N>>>18),N=R+(M^C&(x^M))+D[8]+1163531501&4294967295,R=x+(N<<20&4294967295|N>>>12),N=C+(x^M&(R^x))+D[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=M+(R^x&(C^R))+D[2]+4243563512&4294967295,M=C+(N<<9&4294967295|N>>>23),N=x+(C^R&(M^C))+D[7]+1735328473&4294967295,x=M+(N<<14&4294967295|N>>>18),N=R+(M^C&(x^M))+D[12]+2368359562&4294967295,R=x+(N<<20&4294967295|N>>>12),N=C+(R^x^M)+D[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=M+(C^R^x)+D[8]+2272392833&4294967295,M=C+(N<<11&4294967295|N>>>21),N=x+(M^C^R)+D[11]+1839030562&4294967295,x=M+(N<<16&4294967295|N>>>16),N=R+(x^M^C)+D[14]+4259657740&4294967295,R=x+(N<<23&4294967295|N>>>9),N=C+(R^x^M)+D[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=M+(C^R^x)+D[4]+1272893353&4294967295,M=C+(N<<11&4294967295|N>>>21),N=x+(M^C^R)+D[7]+4139469664&4294967295,x=M+(N<<16&4294967295|N>>>16),N=R+(x^M^C)+D[10]+3200236656&4294967295,R=x+(N<<23&4294967295|N>>>9),N=C+(R^x^M)+D[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=M+(C^R^x)+D[0]+3936430074&4294967295,M=C+(N<<11&4294967295|N>>>21),N=x+(M^C^R)+D[3]+3572445317&4294967295,x=M+(N<<16&4294967295|N>>>16),N=R+(x^M^C)+D[6]+76029189&4294967295,R=x+(N<<23&4294967295|N>>>9),N=C+(R^x^M)+D[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=M+(C^R^x)+D[12]+3873151461&4294967295,M=C+(N<<11&4294967295|N>>>21),N=x+(M^C^R)+D[15]+530742520&4294967295,x=M+(N<<16&4294967295|N>>>16),N=R+(x^M^C)+D[2]+3299628645&4294967295,R=x+(N<<23&4294967295|N>>>9),N=C+(x^(R|~M))+D[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=M+(R^(C|~x))+D[7]+1126891415&4294967295,M=C+(N<<10&4294967295|N>>>22),N=x+(C^(M|~R))+D[14]+2878612391&4294967295,x=M+(N<<15&4294967295|N>>>17),N=R+(M^(x|~C))+D[5]+4237533241&4294967295,R=x+(N<<21&4294967295|N>>>11),N=C+(x^(R|~M))+D[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=M+(R^(C|~x))+D[3]+2399980690&4294967295,M=C+(N<<10&4294967295|N>>>22),N=x+(C^(M|~R))+D[10]+4293915773&4294967295,x=M+(N<<15&4294967295|N>>>17),N=R+(M^(x|~C))+D[1]+2240044497&4294967295,R=x+(N<<21&4294967295|N>>>11),N=C+(x^(R|~M))+D[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=M+(R^(C|~x))+D[15]+4264355552&4294967295,M=C+(N<<10&4294967295|N>>>22),N=x+(C^(M|~R))+D[6]+2734768916&4294967295,x=M+(N<<15&4294967295|N>>>17),N=R+(M^(x|~C))+D[13]+1309151649&4294967295,R=x+(N<<21&4294967295|N>>>11),N=C+(x^(R|~M))+D[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=M+(R^(C|~x))+D[11]+3174756917&4294967295,M=C+(N<<10&4294967295|N>>>22),N=x+(C^(M|~R))+D[2]+718787259&4294967295,x=M+(N<<15&4294967295|N>>>17),N=R+(M^(x|~C))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const R=C-this.blockSize,D=this.C;let x=this.h,M=0;for(;M<C;){if(x==0)for(;M<=R;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<C;)if(D[x++]=I.charCodeAt(M++),x==this.blockSize){o(this,D),x=0;break}}else for(;M<C;)if(D[x++]=I[M++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)I[C++]=this.g[R]>>>D&255;return I};function u(I,C){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function h(I,C){this.h=C;const R=[];let D=!0;for(let x=I.length-1;x>=0;x--){const M=I[x]|0;D&&M==C||(R[x]=M,D=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(C){return new h([C|0],C<0?-1:0)}):new h([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return z(v(-I));const C=[];let R=1;for(let D=0;I>=R;D++)C[D]=I/R|0,R*=4294967296;return new h(C,0)}function E(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return z(E(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(C,8));let D=S;for(let M=0;M<I.length;M+=8){var x=Math.min(8,I.length-M);const N=parseInt(I.substring(M,M+x),C);x<8?(x=v(Math.pow(C,x)),D=D.j(x).add(v(N))):(D=D.j(R),D=D.add(v(N)))}return D}var S=p(0),w=p(1),P=p(16777216);s=h.prototype,s.m=function(){if(k(this))return-z(this).m();let I=0,C=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);I+=(D>=0?D:4294967296+D)*C,C*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(k(this))return"-"+z(this).toString(I);const C=v(Math.pow(I,6));var R=this;let D="";for(;;){const x=ge(R,C).g;R=J(R,x.j(C));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=x,U(R))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function k(I){return I.h==-1}s.l=function(I){return I=J(this,I),k(I)?-1:U(I)?0:1};function z(I){const C=I.g.length,R=[];for(let D=0;D<C;D++)R[D]=~I.g[D];return new h(R,~I.h).add(w)}s.abs=function(){return k(this)?z(this):this},s.add=function(I){const C=Math.max(this.g.length,I.g.length),R=[];let D=0;for(let x=0;x<=C;x++){let M=D+(this.i(x)&65535)+(I.i(x)&65535),N=(M>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);D=N>>>16,M&=65535,N&=65535,R[x]=N<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(I,C){return I.add(z(C))}s.j=function(I){if(U(this)||U(I))return S;if(k(this))return k(I)?z(this).j(z(I)):z(z(this).j(I));if(k(I))return z(this.j(z(I)));if(this.l(P)<0&&I.l(P)<0)return v(this.m()*I.m());const C=this.g.length+I.g.length,R=[];for(var D=0;D<2*C;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<I.g.length;x++){const M=this.i(D)>>>16,N=this.i(D)&65535,we=I.i(x)>>>16,xe=I.i(x)&65535;R[2*D+2*x]+=N*xe,K(R,2*D+2*x),R[2*D+2*x+1]+=M*xe,K(R,2*D+2*x+1),R[2*D+2*x+1]+=N*we,K(R,2*D+2*x+1),R[2*D+2*x+2]+=M*we,K(R,2*D+2*x+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new h(R,0)};function K(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function oe(I,C){this.g=I,this.h=C}function ge(I,C){if(U(C))throw Error("division by zero");if(U(I))return new oe(S,S);if(k(I))return C=ge(z(I),C),new oe(z(C.g),z(C.h));if(k(C))return C=ge(I,z(C)),new oe(z(C.g),C.h);if(I.g.length>30){if(k(I)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var R=w,D=C;D.l(I)<=0;)R=G(R),D=G(D);var x=ee(R,1),M=ee(D,1);for(D=ee(D,2),R=ee(R,2);!U(D);){var N=M.add(D);N.l(I)<=0&&(x=x.add(R),M=N),D=ee(D,1),R=ee(R,1)}return C=J(I,x.j(C)),new oe(x,C)}for(x=S;I.l(C)>=0;){for(R=Math.max(1,Math.floor(I.m()/C.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=v(R),N=M.j(C);k(N)||N.l(I)>0;)R-=D,M=v(R),N=M.j(C);U(M)&&(M=w),x=x.add(M),I=J(I,N)}return new oe(x,I)}s.B=function(I){return ge(this,I).h},s.and=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)&I.i(D);return new h(R,this.h&I.h)},s.or=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)|I.i(D);return new h(R,this.h|I.h)},s.xor=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)^I.i(D);return new h(R,this.h^I.h)};function G(I){const C=I.g.length+1,R=[];for(let D=0;D<C;D++)R[D]=I.i(D)<<1|I.i(D-1)>>>31;return new h(R,I.h)}function ee(I,C){const R=C>>5;C%=32;const D=I.g.length-R,x=[];for(let M=0;M<D;M++)x[M]=C>0?I.i(M+R)>>>C|I.i(M+R+1)<<32-C:I.i(M+R);return new h(x,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,mr=h}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $0,$l,Y0,_h,Hm,K0,Q0,X0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var T=c[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var T=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in T))break e;T=T[q]}c=c[c.length-1],A=T[c],y=y(A),y!=A&&y!=null&&e(T,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var T=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&T.push([A,y[A]]);return T}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,T){return c.call.apply(c.bind,arguments)}function v(c,y,T){return v=p,v.apply(null,arguments)}function E(c,y){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function T(){}T.prototype=y.prototype,c.Z=y.prototype,c.prototype=new T,c.prototype.constructor=c,c.Ob=function(A,q,Q){for(var fe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)fe[Oe-2]=arguments[Oe];return y.prototype[q].apply(A,fe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const T=Array(y);for(let A=0;A<y;A++)T[A]=c[A];return T}return[]}function U(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=c.length||0;const Q=q.length||0;c.length=T+Q;for(let fe=0;fe<Q;fe++)c[T+fe]=q[fe]}else c.push(q)}}class k{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){h.setTimeout(()=>{throw c},0)}function J(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,T){const A=oe.get();A.set(y,T),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new k(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ee=!1,I=new K,C=()=>{const c=Promise.resolve(void 0);G=()=>{c.then(R)}};function R(){for(var c;c=J();){try{c.h.call(c.g)}catch(T){z(T)}var y=oe;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ee=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function we(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(we,x),we.prototype.init=function(c,y){const T=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(T=="mouseover"?y=c.fromElement:T=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),W=0;function ue(c,y,T,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=T,this.capture=!!A,this.ha=q,this.key=++W,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c,y,T){for(const A in c)y.call(T,c[A],A,c)}function le(c,y){for(const T in c)y.call(void 0,c[T],T,c)}function O(c){const y={};for(const T in c)y[T]=c[T];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let T,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(T in A)c[T]=A[T];for(let Q=0;Q<Y.length;Q++)T=Y[Q],Object.prototype.hasOwnProperty.call(A,T)&&(c[T]=A[T])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,T,A,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const fe=_e(c,y,A,q);return fe>-1?(y=c[fe],T||(y.fa=!1)):(y=new ue(y,this.src,Q,!!A,q),y.fa=T,c.push(y)),y};function de(c,y){const T=y.type;if(T in c.g){var A=c.g[T],q=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(ye(y),c.g[T].length==0&&(delete c.g[T],c.h--))}}function _e(c,y,T,A){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==A)return q}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Ke={};function je(c,y,T,A,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)je(c,y[Q],T,A,q);return null}return T=Qe(T),c&&c[xe]?c.J(y,T,m(A)?!!A.capture:!1,q):rn(c,y,T,!1,A,q)}function rn(c,y,T,A,q,Q){if(!y)throw Error("Invalid event type");const fe=m(q)?!!q.capture:!!q;let Oe=on(c);if(Oe||(c[Te]=Oe=new ce(c)),T=Oe.add(y,T,A,fe,Q),T.proxy)return T;if(A=Yt(),T.proxy=A,A.src=c,A.listener=T,c.addEventListener)M||(q=fe),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(Kt(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Yt(){function c(T){return y.call(c.src,c.listener,T)}const y=pn;return c}function an(c,y,T,A,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)an(c,y[Q],T,A,q);else A=m(A)?!!A.capture:!!A,T=Qe(T),c&&c[xe]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],T=_e(y,T,A,q),T>-1&&(ye(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=on(c))&&(y=c.g[y.toString()],c=-1,y&&(c=_e(y,T,A,q)),(T=c>-1?y[c]:null)&&Et(T))}function Et(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xe])de(y.i,c);else{var T=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(T,A,c.capture):y.detachEvent?y.detachEvent(Kt(T),A):y.addListener&&y.removeListener&&y.removeListener(A),(T=on(y))?(de(T,c),T.h==0&&(T.src=null,y[Te]=null)):ye(c)}}}function Kt(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function pn(c,y){if(c.da)c=!0;else{y=new we(y,this);const T=c.listener,A=c.ha||c.src;c.fa&&Et(c),c=T.call(A,y)}return c}function on(c){return c=c[Te],c instanceof ce?c:null}var he="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qe(c){return typeof c=="function"?c:(c[he]||(c[he]=function(y){return c.handleEvent(y)}),c[he])}function Xe(){D.call(this),this.i=new ce(this),this.M=this,this.G=null}S(Xe,D),Xe.prototype[xe]=!0,Xe.prototype.removeEventListener=function(c,y,T,A){an(this,c,y,T,A)};function Le(c,y){var T,A=c.G;if(A)for(T=[];A;A=A.G)T.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var q=y;y=new x(A,c),se(y,q)}q=!0;let Q,fe;if(T)for(fe=T.length-1;fe>=0;fe--)Q=y.g=T[fe],q=vn(Q,A,!0,y)&&q;if(Q=y.g=c,q=vn(Q,A,!0,y)&&q,q=vn(Q,A,!1,y)&&q,T)for(fe=0;fe<T.length;fe++)Q=y.g=T[fe],q=vn(Q,A,!1,y)&&q}Xe.prototype.N=function(){if(Xe.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const T=c.g[y];for(let A=0;A<T.length;A++)ye(T[A]);delete c.g[y],c.h--}}this.G=null},Xe.prototype.J=function(c,y,T,A){return this.i.add(String(c),y,!1,T,A)},Xe.prototype.K=function(c,y,T,A){return this.i.add(String(c),y,!0,T,A)};function vn(c,y,T,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const fe=y[Q];if(fe&&!fe.da&&fe.capture==T){const Oe=fe.listener,St=fe.ha||fe.src;fe.fa&&de(c.i,fe),q=Oe.call(St,A)!==!1&&q}}return q&&!A.defaultPrevented}function Dr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Nr(c){c.g=Dr(()=>{c.g=null,c.i&&(c.i=!1,Nr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qt extends D{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(c){D.call(this),this.h=c,this.g={}}S(Xi,D);var tt=[];function ti(c){ae(c.g,function(y,T){this.g.hasOwnProperty(T)&&Et(y)},c),c.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),ti(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=h.JSON.stringify,mf=h.JSON.parse,Nu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function xu(){}function Ou(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){x.call(this,"d")}S(Qt,x);function zn(){x.call(this,"c")}S(zn,x);var Tt={},Mu=null;function Ta(){return Mu=Mu||new Xe}Tt.Ia="serverreachability";function Vu(c){x.call(this,Tt.Ia,c)}S(Vu,x);function Ti(c){const y=Ta();Le(y,new Vu(y))}Tt.STAT_EVENT="statevent";function xr(c,y){x.call(this,Tt.STAT_EVENT,c),this.stat=y}S(xr,x);function Ct(c){const y=Ta();Le(y,new xr(y,c))}Tt.Ja="timingevent";function Si(c,y){x.call(this,Tt.Ja,c),this.size=y}S(Si,x);function bi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function pf(c,y,T,A,q,Q){c.info(function(){if(c.g)if(Q){var fe="",Oe=Q.split("&");for(let Ze=0;Ze<Oe.length;Ze++){var St=Oe[Ze].split("=");if(St.length>1){const mt=St[0];St=St[1];const Fn=mt.split("_");fe=Fn.length>=2&&Fn[1]=="type"?fe+(mt+"="+St+"&"):fe+(mt+"=redacted&")}}}else fe=null;else fe=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+T+`
`+fe})}function ku(c,y,T,A,q,Q,fe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+T+`
`+Q+" "+fe})}function Ai(c,y,T,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,T)+(A?" "+A:"")})}function Or(c,y){c.info(function(){return"TIMEOUT: "+y})}ii.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var T=Q[c];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return Un(Q)}catch{return y}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Vr(){}S(Vr,xu),Vr.prototype.g=function(){return new XMLHttpRequest},Bo=new Vr;function Wi(c){return encodeURIComponent(String(c))}function ju(c){var y=1;c=c.split(":");const T=[];for(;y>0&&c.length;)T.push(c.shift()),y--;return c.length&&T.push(c.join(":")),T}function si(c,y,T,A){this.j=c,this.i=y,this.l=T,this.S=A||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function wi(c,y,T){c.M=1,c.A=kr(Nt(y)),c.u=T,c.R=!0,Sa(c,null)}function Sa(c,y){c.F=Date.now(),Ri(c),c.B=Nt(c.A);var T=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ra(T.i,"t",A),c.C=0,T=c.j.L,c.h=new ri,c.g=Wu(c.j,T?y:null,!c.u),c.P>0&&(c.O=new qt(v(c.Y,c,c.g),c.P)),y=c.V,T=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(tt[0]=q.toString()),q=tt);for(let Q=0;Q<q.length;Q++){const fe=je(T,q[Q],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ti(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}si.prototype.ba=function(c){c=c.target;const y=this.O;y&&li(c)==3?y.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)e:{const Oe=li(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Oe!=4||St==7||(St==8||Ze<=0?Ti(3):Ti(2)),Ci(this);var y=this.g.ca();this.X=y;var T=yf(this);if(this.o=y==200,ku(this.i,this.v,this.B,this.l,this.S,Oe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Q=A;break t}}Q=null}if(c=Q)Ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,c);else{this.o=!1,this.m=3,Ct(12),In(this),Bn(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<T.length;)if(mt=Pu(this,T),mt==Ht){Oe==4&&(this.m=4,Ct(14),c=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Ct(15),Ai(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else Ai(this.i,this.l,mt,null),Ii(this,mt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),c=!1),this.o=this.o&&c,!c)Ai(this.i,this.l,T,"[Invalid Chunked Response]"),In(this),Bn(this);else if(T.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),nl(fe),fe.P=!0,Ct(11))}}else Ai(this.i,this.l,T,null),Ii(this,T);Oe==4&&In(this),this.o&&!this.K&&(Oe==4?Yu(this.j,this):(this.o=!1,Ri(this)))}else Zi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),In(this),Bn(this)}}}catch{}};function yf(c){if(!Lu(c))return c.g.la();const y=Xt(c.g);if(y==="")return"";let T="";const A=y.length,q=li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Bn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,T+=c.h.i.decode(y[Q],{stream:!(q&&Q==A-1)});return y.length=0,c.h.g+=T,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var T=c.C,A=y.indexOf(`
`,T);return A==-1?Ht:(T=Number(y.substring(T,A)),isNaN(T)?It:(A+=1,A+T>y.length?Ht:(y=y.slice(A,A+T),c.C=A+T,y)))}si.prototype.cancel=function(){this.K=!0,In(this)};function Ri(c){c.T=Date.now()+c.H,ba(c,c.H)}function ba(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=bi(v(c.aa,c),y)}function Ci(c){c.D&&(h.clearTimeout(c.D),c.D=null)}si.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Or(this.i,this.B),this.M!=2&&(Ti(),Ct(17)),In(this),this.m=2,Bn(this)):ba(this,this.T-c)};function Bn(c){c.j.I==0||c.K||Yu(c.j,c)}function In(c){Ci(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ti(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ii(c,y){try{var T=c.j;if(T.I!=0&&(T.g==c||Ni(T.h,c))){if(!c.L&&Ni(T.h,c)&&T.I==3){try{var A=T.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<c.F)xa(T),Vs(T);else break e;qr(T),Ct(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=bi(v(T.Va,T),6e3));Di(T.h)<=1&&T.ta&&(T.ta=void 0)}else ji(T,11)}else if((c.L||T.g==c)&&xa(T),!N(y))for(q=T.Ba.g.parse(y),y=0;y<q.length;y++){let Ze=q[y];const mt=Ze[0];if(!(mt<=T.K))if(T.K=mt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const Fn=Ze[3];Fn!=null&&(T.ka=Fn,T.j.info("VER="+T.ka));const Li=Ze[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const ui=Ze[5];ui!=null&&typeof ui=="number"&&ui>0&&(A=1.5*ui,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const ci=c.g;if(ci){const Hr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Q=A.h;Q.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fo(Q,Q.h),Q.h=null))}if(A.G){const Oa=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(A.wa=Oa,it(A.J,A.G,Oa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-c.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var fe=c;if(A.na=Xu(A,A.L?A.ba:null,A.W),fe.L){Go(A.h,fe);var Oe=fe,St=A.O;St&&(Oe.H=St),Oe.D&&(Ci(Oe),Ri(Oe)),A.g=fe}else Gu(A);T.i.length>0&&ki(T)}else Ze[0]!="stop"&&Ze[0]!="close"||ji(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ji(T,7):el(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Ti(4)}catch{}}var Dt=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Di(c){return c.h?1:c.g?c.g.size:0}function Ni(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fo(c,y){c.g?c.g.add(y):c.h=y}function Go(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const T of c.g.values())y=y.concat(T.G);return y}return P(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(c,y){if(c){c=c.split("&");for(let T=0;T<c.length;T++){const A=c[T].indexOf("=");let q,Q=null;A>=0?(q=c[T].substring(0,A),Q=c[T].substring(A+1)):q=c[T],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Dn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,Cs(this,c.u),this.h=c.h,Yo(this,Hu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Cs(this,y[4]),this.h=xi(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Dn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(jr(y,wa,!0),":");var T=this.g;return(T||y=="file")&&(c.push("//"),(y=this.o)&&c.push(jr(y,wa,!0),"@"),c.push(Wi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&c.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&c.push("/"),c.push(jr(T,T.charAt(0)=="/"?Ko:zu,!0))),(T=this.i.toString())&&c.push("?",T),(T=this.m)&&c.push("#",jr(T,Bu)),c.join("")},Dn.prototype.resolve=function(c){const y=Nt(this);let T=!!c.j;T?Ft(y,c.j):T=!!c.o,T?y.o=c.o:T=!!c.g,T?y.g=c.g:T=c.u!=null;var A=c.h;if(T)Cs(y,c.u);else if(T=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let fe=0;fe<q.length;){const Oe=q[fe++];Oe=="."?A&&fe==q.length&&Q.push(""):Oe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&fe==q.length&&Q.push("")):(Q.push(Oe),A=!0)}A=Q.join("/")}else A=q}return T?y.h=A:T=c.i.toString()!=="",T?Yo(y,Hu(c.i)):T=!!c.m,T&&(y.m=c.m),y};function Nt(c){return new Dn(c)}function Ft(c,y,T){c.j=T?xi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Cs(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,T){y instanceof Ds?(c.i=y,Ca(c.i,c.l)):(T||(y=jr(y,Is)),c.i=new Ds(y,c.l))}function it(c,y,T){c.i.set(y,T)}function kr(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jr(c,y,T){return typeof c=="string"?(c=encodeURI(c).replace(y,_n),T&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _n(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wa=/[#\/\?@]/g,zu=/[#\?:]/g,Ko=/[#\?]/g,Is=/[#\?@]/g,Bu=/#/g;function Ds(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Aa(c.i,function(y,T){c.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}s=Ds.prototype,s.add=function(c,y){En(this),this.i=null,c=Ns(this,c);let T=this.g.get(c);return T||this.g.set(c,T=[]),T.push(y),this.h+=1,this};function qu(c,y){En(c),y=Ns(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return En(c),y=Ns(c,y),c.g.has(y)}s.forEach=function(c,y){En(this),this.g.forEach(function(T,A){T.forEach(function(q){c.call(y,q,A,this)},this)},this)};function Xo(c,y){En(c);let T=[];if(typeof y=="string")Qo(c,y)&&(T=T.concat(c.g.get(Ns(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)T=T.concat(c[y]);return T}s.set=function(c,y){return En(this),this.i=null,c=Ns(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=Xo(this,c),c.length>0?String(c[0]):y):y};function Ra(c,y,T){qu(c,y),T.length>0&&(c.i=null,c.g.set(Ns(c,y),P(T)),c.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var T=y[A];const q=Wi(T);T=Xo(this,T);for(let Q=0;Q<T.length;Q++){let fe=q;T[Q]!==""&&(fe+="="+Wi(T[Q])),c.push(fe)}}return this.i=c.join("&")};function Hu(c){const y=new Ds;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ns(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ca(c,y){y&&!c.j&&(En(c),c.i=null,c.g.forEach(function(T,A){const q=A.toLowerCase();A!=q&&(qu(this,A),Ra(this,q,T))},c)),c.j=y}function ai(c,y){const T=new ii;if(h.Image){const A=new Image;A.onload=E(qn,T,"TestLoadImage: loaded",!0,y,A),A.onerror=E(qn,T,"TestLoadImage: error",!1,y,A),A.onabort=E(qn,T,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(qn,T,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Wo(c,y){const T=new ii,A=new AbortController,q=setTimeout(()=>{A.abort(),qn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?qn(T,"TestPingServer: ok",!0,y):qn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),qn(T,"TestPingServer: error",!1,y)})}function qn(c,y,T,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(T)}catch{}}function xs(){this.g=new Nu}function Oi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Oi,xu),Oi.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(c,y){Xe.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Lr,Xe),s=Lr.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,oi(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Os(this):oi(this),this.readyState==3&&Ia(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Os(this))},s.Na=function(c){this.g&&(this.response=c,Os(this))},s.ga=function(){this.g&&Os(this)};function Os(c){c.readyState=4,c.l=null,c.j=null,c.B=null,oi(c)}s.setRequestHeader=function(c,y){this.A.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,c.push(T[0]+": "+T[1]),T=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hn(c){let y="";return ae(c,function(T,A){y+=A,y+=":",y+=T,y+=`\r
`}),y}function Pr(c,y,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Hn(T),typeof c=="string"?T!=null&&Wi(T):it(c,y,T))}function at(c){Xe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(at,Xe);var Mi=/^https?$/i,Jo=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,y,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=w(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ur(this,Q);return}if(c=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)T.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Jo,y,void 0)>=0)||A||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,fe]of T)this.g.setRequestHeader(Q,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ur(this,Q)}};function Ur(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Zo(c),Ji(c)}function Zo(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Le(this,"complete"),Le(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?zr(this):this.Xa())},s.Xa=function(){zr(this)};function zr(c){if(c.h&&typeof u<"u"){if(c.v&&li(c)==4)setTimeout(c.Ca.bind(c),0);else if(Le(c,"readystatechange"),li(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var A;if(A=Q===0){let fe=String(c.D).match(Uu)[1]||null;!fe&&h.self&&h.self.location&&(fe=h.self.location.protocol.slice(0,-1)),A=!Mi.test(fe?fe.toLowerCase():"")}T=A}if(T)Le(c,"complete"),Le(c,"success");else{c.o=6;try{var q=li(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Zo(c)}}finally{Ji(c)}}}}function Ji(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const T=c.g;c.g=null,y||Le(c,"ready");try{T.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Xt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const y={};c=(c.g&&li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var T=ju(c[A]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[q]||[];y[q]=Q,Q.push(T)}le(y,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(c,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[c]||y}function Ms(c){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,c),this.Za=Vi("retryDelaySeedMs",1e4,c),this.Ta=Vi("forwardChannelMaxRetries",2,c),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new xs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(c,y,T,A){Ct(0),this.W=c,this.H=y||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=Xu(this,null,this.W),ki(this)};function el(c){if(Da(c),c.I==3){var y=c.V++,T=Nt(c.J);if(it(T,"SID",c.M),it(T,"RID",y),it(T,"TYPE","terminate"),Br(c,T),y=new si(c,c.j,y),y.M=2,y.A=kr(Nt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.A,T=!0),T||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}Qu(c)}function Vs(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Da(c){Vs(c),c.v&&(h.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function ki(c){if(!Ho(c.h)&&!c.m){c.m=!0;var y=c.Ea;G||C(),ee||(G(),ee=!0),I.add(y,c),c.D=0}}function Na(c,y){return Di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=bi(v(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new si(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=O(Q),se(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Fu(this,q,y),T=Nt(this.J),it(T,"RID",c),it(T,"CVER",22),this.G&&it(T,"X-HTTP-Session-Id",this.G),Br(this,T),Q&&(this.R?y="headers="+Wi(Hn(Q))+"&"+y:this.u&&Pr(T,this.u,Q)),Fo(this.h,q),this.Ra&&it(T,"TYPE","init"),this.S?(it(T,"$req",y),it(T,"SID","null"),q.U=!0,wi(q,T,null)):wi(q,T,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||Ho(this.h)||tl(this))};function tl(c,y){var T;y?T=y.l:T=c.V++;const A=Nt(c.J);it(A,"SID",c.M),it(A,"RID",T),it(A,"AID",c.K),Br(c,A),c.u&&c.o&&Pr(A,c.u,c.o),T=new si(c,c.j,T,c.D+1),c.u===null&&(T.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,T,1e3),T.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,T),wi(T,A,y)}function Br(c,y){c.H&&ae(c.H,function(T,A){it(y,A,T)}),c.l&&ae({},function(T,A){it(y,A,T)})}function Fu(c,y,T){T=Math.min(c.i.length,T);const A=c.l?v(c.l.Ka,c.l,c):null;e:{var q=c.i;let Oe=-1;for(;;){const St=["count="+T];Oe==-1?T>0?(Oe=q[0].g,St.push("ofs="+Oe)):Oe=0:St.push("ofs="+Oe);let Ze=!0;for(let mt=0;mt<T;mt++){var Q=q[mt].g;const Fn=q[mt].map;if(Q-=Oe,Q<0)Oe=Math.max(0,q[mt].g-100),Ze=!1;else try{Q="req"+Q+"_"||"";try{var fe=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Li,ui]of fe){let ci=ui;m(ui)&&(ci=Un(ui)),St.push(Q+Li+"="+encodeURIComponent(ci))}}catch(Li){throw St.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(Fn)}}if(Ze){fe=St.join("&");break e}}fe=void 0}return c=c.i.splice(0,T),y.G=c,fe}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;G||C(),ee||(G(),ee=!0),I.add(y,c),c.A=0}}function qr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=bi(v(c.Da,c),Ku(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,$u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=bi(v(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Vs(this),$u(this))};function nl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function $u(c){c.g=new si(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Nt(c.na);it(y,"RID","rpc"),it(y,"SID",c.M),it(y,"AID",c.K),it(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(y,"TO",c.ia),it(y,"TYPE","xmlhttp"),Br(c,y),c.u&&c.o&&Pr(y,c.u,c.o),c.O&&(c.g.H=c.O);var T=c.g;c=c.ba,T.M=1,T.A=kr(Nt(y)),T.u=null,T.R=!0,Sa(T,c)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),qr(this),Ct(19))};function xa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Yu(c,y){var T=null;if(c.g==y){xa(c),nl(c),c.g=null;var A=2}else if(Ni(c.h,y))T=y.G,Go(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=Ta(),Le(A,new Si(A,T)),ki(c)}else Gu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&Na(c,y)||A==2&&qr(c)))switch(T&&T.length>0&&(y=c.h,y.i=y.i.concat(T)),q){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Ku(c,y){let T=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(T*=2),T*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var T=v(c.bb,c),A=c.Ua;const q=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ft(A,"https"),kr(A),q?ai(A.toString(),T):Wo(A.toString(),T)}else Ct(2);c.I=0,c.l&&c.l.pa(y),Qu(c),Da(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const y=$o(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,T){var A=T instanceof Dn?Nt(T):new Dn(T);if(A.g!="")y&&(A.g=y+"."+A.g),Cs(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new Dn(null);A&&Ft(Q,A),y&&(Q.g=y),q&&Cs(Q,q),T&&(Q.h=T),A=Q}return T=c.G,y=c.wa,T&&y&&it(A,T,y),it(A,"VER",c.ka),Br(c,A),A}function Wu(c,y,T){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new at(new Oi({ab:T})):new at(c.ma),y.Fa(c.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}s=Ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){Xe.call(this),this.g=new Ms(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new es(this)}S(gn,Xe),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){el(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var T={};T.__data__=c,c=T}else this.v&&(T={},T.__data__=Un(c),c=T);y.i.push(new Dt(y.Ya++,c)),y.I==3&&ki(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,gn.Z.N.call(this)};function Zu(c){Qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const T in y){c=T;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Zu,Qt);function ec(){zn.call(this),this.status=1}S(ec,zn);function es(c){this.g=c}S(es,Ju),es.prototype.ra=function(){Le(this.g,"a")},es.prototype.qa=function(c){Le(this.g,new Zu(c))},es.prototype.pa=function(c){Le(this.g,new ec)},es.prototype.oa=function(){Le(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,X0=function(){return new ks},Q0=function(){return Ta()},K0=Tt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,_h=Mr,zo.COMPLETE="complete",Y0=zo,Ou.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Xe.prototype.listen=Xe.prototype.J,$l=Ou,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,$0=at}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Vo="12.8.0";function qD(s){Vo=s}const fa=new Sp("@firebase/firestore");function lo(){return fa.logLevel}function pe(s,...e){if(fa.logLevel<=qe.DEBUG){const n=e.map(kp);fa.debug(`Firestore (${Vo}): ${s}`,...n)}}function bs(s,...e){if(fa.logLevel<=qe.ERROR){const n=e.map(kp);fa.error(`Firestore (${Vo}): ${s}`,...n)}}function So(s,...e){if(fa.logLevel<=qe.WARN){const n=e.map(kp);fa.warn(`Firestore (${Vo}): ${s}`,...n)}}function kp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ce(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W0(s,r,n)}function W0(s,e,n){let r=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function nt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||W0(e,o,r)}function Ne(s,e){return s}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class J0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class FD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new J0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class $D{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $D(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=QD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function Fm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Cm(o)===Cm(u)?He(o,u):Cm(o)?1:-1}return He(s.length,e.length)}const XD=55296,WD=57343;function Cm(s){const e=s.charCodeAt(0);return e>=XD&&e<=WD}function bo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const DE="__name__";class qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=qi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const r=qi.isNumericId(e),o=qi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?qi.extractNumericId(e).compare(qi.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class ht extends qi{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends qi{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new nn([DE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ht.fromString(e))}static fromName(e){return new be(ht.fromString(e).popFirst(5))}static empty(){return new be(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ht(e.slice()))}}function Z0(s,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ZD(s,e,n,r){if(e===!0&&r===!0)throw new me(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function NE(s){if(!be.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xE(s){if(be.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ce(12329,{type:typeof s})}function da(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(s);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Lt(s,e){const n={typeString:s};return e&&(n.value=e),n}function bu(s,e){if(!eS(s))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}const OE=-62135596800,ME=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ME);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:Lt("string",ke._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ke(0,0))}static max(){return new Ie(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function eN(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new vr(o,be.empty(),e)}function tN(s){return new vr(s.readTime,s.key,au)}class vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vr(Ie.min(),be.empty(),au)}static max(){return new vr(Ie.max(),be.empty(),au)}}function nN(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==iN)throw s;pe("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>r(p)))})),h=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((o=>o?re.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const v=p;n(e[v]).next((E=>{h[v]=E,++m,m===u&&r(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new re(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function rN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(s){return s.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const Lp=-1;function ef(s){return s==null}function Vh(s){return s===0&&1/s==-1/0}function aN(s){return typeof s=="number"&&Number.isInteger(s)&&!Vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tS="";function oN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=VE(e)),e=lN(s.get(n),e);return VE(e)}function lN(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case tS:n+="";break;default:n+=u}}return n}function VE(s){return s+tS+""}function kE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Cr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new tn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new zt(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const n=uN.exec(s);if(nt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(s.seconds),nanos:wt(s.nanos)}}function wt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const sS="server_timestamp",rS="__type__",aS="__previous_value__",oS="__local_write_time__";function Pp(s){return(s?.mapValue?.fields||{})[rS]?.stringValue===sS}function tf(s){const e=s.mapValue.fields[aS];return Pp(e)?tf(e):e}function ou(s){const e=_r(s.mapValue.fields[oS].timestampValue);return new ke(e.seconds,e.nanos)}class cN{constructor(e,n,r,o,u,h,m,p,v,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=E,this.apiKey=S}}const kh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}function hN(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(s.options.projectId,e)}const lS="__type__",fN="__max__",lh={mapValue:{}},uS="__vector__",jh="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pp(s)?4:mN(s)?9007199254740991:dN(s)?10:11:Ce(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const n=Tr(s);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ou(s).isEqual(ou(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_r(o.timestampValue),m=_r(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Er(o.bytesValue).isEqual(Er(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=wt(o.doubleValue),m=wt(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return bo(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(kE(h)!==kE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ki(h[p],m[p])))return!1;return!0})(s,e);default:return Ce(52216,{left:s})}}function uu(s,e){return(s.values||[]).find((n=>Ki(n,e)))!==void 0}function Ao(s,e){if(s===e)return 0;const n=Tr(s),r=Tr(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=wt(u.integerValue||u.doubleValue),p=wt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return LE(s.timestampValue,e.timestampValue);case 4:return LE(ou(s),ou(e));case 5:return Fm(s.stringValue,e.stringValue);case 6:return(function(u,h){const m=Er(u),p=Er(h);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let v=0;v<m.length&&v<p.length;v++){const E=He(m[v],p[v]);if(E!==0)return E}return He(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=He(wt(u.latitude),wt(h.latitude));return m!==0?m:He(wt(u.longitude),wt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return PE(s.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},v=m[jh]?.arrayValue,E=p[jh]?.arrayValue,S=He(v?.values?.length||0,E?.values?.length||0);return S!==0?S:PE(v,E)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),v=h.fields||{},E=Object.keys(v);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=Fm(p[S],E[S]);if(w!==0)return w;const P=Ao(m[p[S]],v[E[S]]);if(P!==0)return P}return He(p.length,E.length)})(s.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function LE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=_r(s),r=_r(e),o=He(n.seconds,r.seconds);return o!==0?o:He(n.nanos,r.nanos)}function PE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Ao(n[o],r[o]);if(u)return u}return He(n.length,r.length)}function wo(s){return Gm(s)}function Gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=_r(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Er(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return be.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Gm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Gm(n.fields[h])}`;return o+"}"})(s.mapValue):Ce(61005,{value:s})}function Eh(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(s);return e?16+Eh(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Cr(r.fields,((u,h)=>{o+=u.length+Eh(h)})),o})(s.mapValue);default:throw Ce(13486,{value:s})}}function UE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function $m(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function zE(s){return!!s&&"nullValue"in s}function BE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Th(s){return!!s&&"mapValue"in s}function dN(s){return(s?.mapValue?.fields||{})[lS]?.stringValue===uS}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(s.arrayValue.values[n]);return e}return{...s}}function mN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fN}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=nn.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=Wl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Cr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Cn(Wl(this.value))}}function cS(s){const e=[];return Cr(s.fields,((n,r)=>{const o=new nn([n]);if(Th(r)){const u=cS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Ln(e)}class hn{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new hn(e,0,Ie.min(),Ie.min(),Ie.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,o){return new hn(e,1,n,Ie.min(),r,o,0)}static newNoDocument(e,n){return new hn(e,2,n,Ie.min(),Ie.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ie.min(),Ie.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function qE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?r=be.comparator(be.fromName(h.referenceValue),n.key):r=Ao(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ki(s.position[n],e.position[n]))return!1;return!0}class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function pN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class hS{}class jt extends hS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yN(e,n,r):n==="array-contains"?new EN(e,r):n==="in"?new TN(e,r):n==="not-in"?new SN(e,r):n==="array-contains-any"?new bN(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vN(e,r):new _N(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ei(e,n)}matches(e){return fS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fS(s){return s.op==="and"}function dS(s){return gN(s)&&fS(s)}function gN(s){for(const e of s.filters)if(e instanceof Ei)return!1;return!0}function Ym(s){if(s instanceof jt)return s.field.canonicalString()+s.op.toString()+wo(s.value);if(dS(s))return s.filters.map((e=>Ym(e))).join(",");{const e=s.filters.map((n=>Ym(n))).join(",");return`${s.op}(${e})`}}function mS(s,e){return s instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)})(s,e):s instanceof Ei?(function(r,o){return o instanceof Ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&mS(h,o.filters[m])),!0):!1})(s,e):void Ce(19439)}function pS(s){return s instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`})(s):s instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(s):"Filter"}class yN extends jt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class vN extends jt{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _N extends jt{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(s,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class EN extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&uu(n.arrayValue,this.value)}}class TN extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class SN extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class bN extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uu(this.value.arrayValue,r)))}}class AN{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function FE(s,e=null,n=[],r=[],o=null,u=null,h=null){return new AN(s,e,n,r,o,u,h)}function zp(s){const e=Ne(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ym(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wo(r))).join(",")),e.Te=n}return e.Te}function Bp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!pN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!mS(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!HE(s.startAt,e.startAt)&&HE(s.endAt,e.endAt)}function Km(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Lo{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wN(s,e,n,r,o,u,h,m){return new Lo(s,e,n,r,o,u,h,m)}function yS(s){return new Lo(s)}function GE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RN(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vS(s){return s.collectionGroup!==null}function Jl(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(nn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new cu(u,r))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new cu(nn.keyField(),r))}return e.Ie}function Gi(s){const e=Ne(s);return e.Ee||(e.Ee=CN(e,Jl(s))),e.Ee}function CN(s,e){if(s.limitType==="F")return FE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new cu(o.field,u)}));const n=s.endAt?new Lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Lh(s.startAt.position,s.startAt.inclusive):null;return FE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Qm(s,e){const n=s.filters.concat([e]);return new Lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function IN(s,e){const n=s.explicitOrderBy.concat([e]);return new Lo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Xm(s,e,n){return new Lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function nf(s,e){return Bp(Gi(s),Gi(e))&&s.limitType===e.limitType}function _S(s){return`${zp(Gi(s))}|lt:${s.limitType}`}function uo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>pS(o))).join(", ")}]`),ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>wo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>wo(o))).join(",")),`Target(${r})`})(Gi(s))}; limitType=${s.limitType})`}function sf(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):be.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Jl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,p){const v=qE(h,m,p);return h.inclusive?v<=0:v<0})(r.startAt,Jl(r),o)||r.endAt&&!(function(h,m,p){const v=qE(h,m,p);return h.inclusive?v>=0:v>0})(r.endAt,Jl(r),o))})(s,e)}function DN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ES(s){return(e,n)=>{let r=!1;for(const o of Jl(s)){const u=NN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function NN(s,e,n){const r=s.field.isKeyField()?be.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),v=m.data.field(u);return p!==null&&v!==null?Ao(p,v):Ce(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:s.dir})}}class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const xN=new yt(be.comparator);function As(){return xN}const TS=new yt(be.comparator);function Yl(...s){let e=TS;for(const n of s)e=e.insert(n.key,n);return e}function SS(s){let e=TS;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return Zl()}function bS(){return Zl()}function Zl(){return new va((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ON=new yt(be.comparator),MN=new zt(be.comparator);function Ge(...s){let e=MN;for(const n of s)e=e.add(n);return e}const VN=new zt(He);function kN(){return VN}function qp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function AS(s){return{integerValue:""+s}}function jN(s,e){return aN(e)?AS(e):qp(s,e)}class rf{constructor(){this._=void 0}}function LN(s,e,n){return s instanceof Ph?(function(o,u){const h={fields:{[rS]:{stringValue:sS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=tf(u)),u&&(h.fields[aS]=u),{mapValue:h}})(n,e):s instanceof hu?RS(s,e):s instanceof fu?CS(s,e):(function(o,u){const h=wS(o,u),m=$E(h)+$E(o.Ae);return $m(h)&&$m(o.Ae)?AS(m):qp(o.serializer,m)})(s,e)}function PN(s,e,n){return s instanceof hu?RS(s,e):s instanceof fu?CS(s,e):n}function wS(s,e){return s instanceof Uh?(function(r){return $m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Ph extends rf{}class hu extends rf{constructor(e){super(),this.elements=e}}function RS(s,e){const n=IS(e);for(const r of s.elements)n.some((o=>Ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class fu extends rf{constructor(e){super(),this.elements=e}}function CS(s,e){let n=IS(e);for(const r of s.elements)n=n.filter((o=>!Ki(o,r)));return{arrayValue:{values:n}}}class Uh extends rf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(s){return wt(s.integerValue||s.doubleValue)}function IS(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof hu&&o instanceof hu||r instanceof fu&&o instanceof fu?bo(r.elements,o.elements,Ki):r instanceof Uh&&o instanceof Uh?Ki(r.Ae,o.Ae):r instanceof Ph&&o instanceof Ph})(s.transform,e.transform)}class zN{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class af{}function DS(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hp(s.key,gi.none()):new Au(s.key,s.data,gi.none());{const n=s.data,r=Cn.empty();let o=new zt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Ir(s.key,r,new Ln(o.toArray()),gi.none())}}function BN(s,e,n){s instanceof Au?(function(o,u,h){const m=o.value.clone(),p=KE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Ir?(function(o,u,h){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=KE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(NS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function eu(s,e,n,r){return s instanceof Au?(function(u,h,m,p){if(!Sh(u.precondition,h))return m;const v=u.value.clone(),E=QE(u.fieldTransforms,p,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(s,e,n,r):s instanceof Ir?(function(u,h,m,p){if(!Sh(u.precondition,h))return m;const v=QE(u.fieldTransforms,p,h),E=h.data;return E.setAll(NS(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,h,m){return Sh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,n)}function qN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=wS(r.transform,o||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,u))}return n||null}function YE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&bo(r,o,((u,h)=>UN(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Au extends af{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends af{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NS(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function KE(s,e,n){const r=new Map;nt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,PN(h,m,n[o]))}return r}function QE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,h=n.data.field(o.field);r.set(o.field,LN(u,h,e))}return r}class Hp extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HN extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=DS(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((n,r)=>YE(n,r)))&&bo(this.baseMutations,e.baseMutations,((n,r)=>YE(n,r)))}}class Fp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return ON})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Fp(e,n,r,o)}}class GN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $N{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,Ye;function YN(s){switch(s){case ie.OK:return Ce(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ce(15467,{code:s})}}function xS(s){if(s===void 0)return bs("GRPC error has no .code"),ie.UNKNOWN;switch(s){case kt.OK:return ie.OK;case kt.CANCELLED:return ie.CANCELLED;case kt.UNKNOWN:return ie.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ie.INTERNAL;case kt.UNAVAILABLE:return ie.UNAVAILABLE;case kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case kt.NOT_FOUND:return ie.NOT_FOUND;case kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case kt.ABORTED:return ie.ABORTED;case kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case kt.DATA_LOSS:return ie.DATA_LOSS;default:return Ce(39323,{code:s})}}(Ye=kt||(kt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function KN(){return new TextEncoder}const QN=new mr([4294967295,4294967295],0);function XE(s){const e=KN().encode(s),n=new G0;return n.update(e),new Uint8Array(n.digest())}function WE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new mr([n,r],0),new mr([o,u],0)]}class Gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=mr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(mr.fromNumber(r)));return o.compare(QN)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gp(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class of{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new of(Ie.min(),o,new yt(He),As(),Ge())}}class wu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wu(r,n,Ge(),Ge(),Ge())}}class bh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class OS{constructor(e,n){this.targetId=e,this.Ce=n}}class MS{constructor(e,n,r=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ce(38017,{changeType:u})}})),new wu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ZE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XN{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.He=uh(),this.Je=uh(),this.Ze=new yt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(r===0){const h=new be(u.path);this.et(n,h,hn.newNoDocument(h,Ie.min()))}else nt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Er(r).toUint8Array()}catch(p){if(p instanceof iS)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(h,o,u)}catch(p){return So(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Km(m.target)){const p=new be(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,hn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let r=Ge();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new of(e,n,this.Ze,this.je,r);return this.je=As(),this.He=uh(),this.Je=uh(),this.Ze=new yt(He),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new yt(be.comparator)}function ZE(){return new yt(be.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class ex{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(s,e){return s.useProto3Json||ef(e)?e:{value:e}}function zh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tx(s,e){return zh(s,e.toTimestamp())}function $i(s){return nt(!!s,49232),Ie.fromTimestamp((function(n){const r=_r(n);return new ke(r.seconds,r.nanos)})(s))}function $p(s,e){return Jm(s,e).canonicalString()}function Jm(s,e){const n=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function kS(s){const e=ht.fromString(s);return nt(zS(e),10190,{key:e.toString()}),e}function Zm(s,e){return $p(s.databaseId,e.path)}function Im(s,e){const n=kS(e);if(n.get(1)!==s.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(LS(n))}function jS(s,e){return $p(s.databaseId,e)}function nx(s){const e=kS(s);return e.length===4?ht.emptyPath():LS(e)}function ep(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function LS(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function eT(s,e,n){return{name:Zm(s,e),fields:n.value.mapValue.fields}}function ix(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ce(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(nt(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(nt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const E=v.code===void 0?ie.UNKNOWN:xS(v.code);return new me(E,v.message||"")})(h);n=new MS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Im(s,r.document.name),u=$i(r.document.updateTime),h=r.document.createTime?$i(r.document.createTime):Ie.min(),m=new Cn({mapValue:{fields:r.document.fields}}),p=hn.newFoundDocument(o,u,h,m),v=r.targetIds||[],E=r.removedTargetIds||[];n=new bh(v,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Im(s,r.document),u=r.readTime?$i(r.readTime):Ie.min(),h=hn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Im(s,r.document),u=r.removedTargetIds||[];n=new bh([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new $N(o,u),m=r.targetId;n=new OS(m,h)}}return n}function sx(s,e){let n;if(e instanceof Au)n={update:eT(s,e.key,e.value)};else if(e instanceof Hp)n={delete:Zm(s,e.key)};else if(e instanceof Ir)n={update:eT(s,e.key,e.data),updateMask:dx(e.fieldMask)};else{if(!(e instanceof HN))return Ce(16599,{dt:e.type});n={verify:Zm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ce(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(s,e.precondition)),n}function rx(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((n=>(function(o,u){let h=o.updateTime?$i(o.updateTime):$i(u);return h.isEqual(Ie.min())&&(h=$i(u)),new zN(h,o.transformResults||[])})(n,e)))):[]}function ax(s,e){return{documents:[jS(s,e.path)]}}function ox(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(s,o);const u=(function(v){if(v.length!==0)return US(Ei.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((E=>(function(w){return{field:co(w.field),direction:cx(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Wm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function lx(s){let e=nx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){nt(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=PS(S);return w instanceof Ei&&dS(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((w=>(function(U){return new cu(ho(U.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,ef(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(S){const w=!!S.before,P=S.values||[];return new Lh(P,w)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const w=!S.before,P=S.values||[];return new Lh(P,w)})(n.endAt)),wN(e,o,h,u,m,"F",p,v)}function ux(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(s):s.fieldFilter!==void 0?(function(n){return jt.create(ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((r=>PS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(s):Ce(30097,{filter:s})}function cx(s){return WN[s]}function hx(s){return JN[s]}function fx(s){return ZN[s]}function co(s){return{fieldPath:s.canonicalString()}}function ho(s){return nn.fromServerFormat(s.fieldPath)}function US(s){return s instanceof jt?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:hx(n.op),value:n.value}}})(s):s instanceof Ei?(function(n){const r=n.getFilters().map((o=>US(o)));return r.length===1?r[0]:{compositeFilter:{op:fx(n.op),filters:r}}})(s):Ce(54877,{filter:s})}function dx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function BS(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class cr{constructor(e,n,r,o,u=Ie.min(),h=Ie.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mx{constructor(e){this.yt=e}}function px(s){const e=lx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xm(e,e.limit,"L"):e}class gx{constructor(){this.Sn=new yx}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(vr.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class yx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new zt(ht.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(qS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Ro{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ro(0)}static ar(){return new Ro(-1)}}const nT="LruGarbageCollector",vx=1048576;function iT([s,e],[n,r]){const o=He(s,n);return o===0?He(e,r):o}class _x{constructor(e){this.Pr=e,this.buffer=new zt(iT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(nT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?pe(nT,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Ar(3e5)}))}}class Tx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Zh.ce);const r=new _x(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(tT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,h,m,p,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),lo()<=qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(v-p)+`ms
Total Duration: ${v-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function Sx(s,e){return new Tx(s,e)}class bx{constructor(){this.changes=new va((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ax{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wx{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&eu(r.mutation,o,Ln.empty(),ke.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Yl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=As();const h=Zl(),m=(function(){return Zl()})();return n.forEach(((p,v)=>{const E=r.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Ir)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),eu(E.mutation,v,E.mutation.getFieldMask(),ke.now())):h.set(v.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((v,E)=>h.set(v,E))),n.forEach(((v,E)=>m.set(v,new Ax(E,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Zl();let o=new yt(((h,m)=>h-m)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const v=n.get(p);if(v===null)return;let E=r.get(p)||Ln.empty();E=m.applyToLocalView(v,E),r.set(p,E);const S=(o.get(m.batchId)||Ge()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),v=p.key,E=p.value,S=bS();E.forEach((w=>{if(!u.has(w)){const P=DS(n.get(w),r.get(w));P!==null&&S.set(w,P),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return re.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return RN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):re.resolve(oa());let m=au,p=u;return h.next((v=>re.forEach(v,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,p,v,Ge()))).next((E=>({batchId:m,changes:SS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const v=(function(S,w){return new Lo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((E=>{E.forEach(((S,w)=>{h=h.insert(S,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((p,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,hn.newInvalidDocument(E)))}));let m=Yl();return h.forEach(((p,v)=>{const E=u.get(p);E!==void 0&&eu(E.mutation,v,Ln.empty(),ke.now()),sf(n,v)&&(m=m.insert(p,v))})),m}))}}class Rx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:px(o.bundledQuery),readTime:$i(o.readTime)}})(n)),re.resolve()}}class Cx{constructor(){this.overlays=new yt(be.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const o=oa(),u=n.length+1,h=new be(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new yt(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let E=u.get(v.largestBatchId);E===null&&(E=oa(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,E)=>m.set(v,E))),!(m.size()>=o)););return re.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new GN(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ge(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class Ix{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Yp{constructor(){this.kr=new zt($t.Kr),this.qr=new zt($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new be(new ht([])),r=new $t(n,e),o=new $t(n,e+1),u=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ht([])),r=new $t(n,e),o=new $t(n,e+1);let u=Ge();return this.qr.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new $t(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class Dx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt($t.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new FN(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Lp:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(He);return n.forEach((o=>{const u=new $t(o,0),h=new $t(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{r=r.add(m.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;be.isDocumentKey(u)||(u=u.child(""));const h=new $t(new be(u),0);let m=new zt(He);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(p.Hr)),!0)}),h),re.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(n.mutations,(o=>{const u=new $t(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new $t(n,0),o=this.Jr.firstAfterOrEqual(r);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Nx{constructor(e){this.ti=e,this.docs=(function(){return new yt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=As();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=As();const h=n.path,m=new be(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:v,value:{document:E}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||nN(tN(E),r)<=0||(o.has(E.key)||sf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ce(9500)}ni(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xx(this)}getSize(e){return re.resolve(this.size)}}class xx extends bx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Ox{constructor(e){this.persistence=e,this.ri=new va((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=Ro._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class HS{constructor(e,n){this._i={},this.overlays={},this.ai=new Zh(0),this.ui=!1,this.ui=!0,this.ci=new Ix,this.referenceDelegate=e(this),this.li=new Ox(this),this.indexManager=new gx,this.remoteDocumentCache=(function(o){return new Nx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new mx(n),this.Pi=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new Dx(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const o=new Mx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Mx extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const o=be.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.fi=new va((r=>oN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Sx(this,n)}static Vi(e,n){return new Bh(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(r++,u.removeEntry(h,Ie.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}wr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Ge(),o=Ge();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(e,n.fromCache,r,o)}}class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hR()?8:rN(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new Vx;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(lo()<=qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(lo()<=qe.DEBUG&&pe("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(lo()<=qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):re.resolve())}gs(e,n){if(GE(n))return re.resolve(null);let r=Gi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),r=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Ge(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const v=this.bs(n,m);return this.Ss(n,v,h,p.readTime)?this.gs(e,Xm(n,null,"F")):this.Ds(e,v,n,p)}))))})))))}ps(e,n,r,o){return GE(n)||o.isEqual(Ie.min())?re.resolve(null):this.fs.getDocuments(e,r).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,r,o)?re.resolve(null):(lo()<=qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.Ds(e,h,n,eN(o,au)).next((m=>m)))}))}bs(e,n){let r=new zt(ES(e));return n.forEach(((o,u)=>{sf(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return lo()<=qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",uo(n)),this.fs.getDocumentsMatchingQuery(e,n,vr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Xp="LocalStore",jx=3e8;class Lx{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new yt(He),this.Fs=new va((u=>zp(u)),Bp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Px(s,e,n,r){return new Lx(s,e,n,r)}async function FS(s,e){const n=Ne(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let p=Ge();for(const v of o){h.push(v.batchId);for(const E of v.mutations)p=p.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function Ux(s,e){const n=Ne(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,v,E){const S=v.batch,w=S.keys();let P=re.resolve();return w.forEach((U=>{P=P.next((()=>E.getEntry(p,U))).next((k=>{const z=v.docVersions.get(U);nt(z!==null,48541),k.version.compareTo(z)<0&&(S.applyToRemoteDocument(k,v),k.isValidDocument()&&(k.setReadTime(v.commitVersion),E.addEntry(k)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ge();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(p=p.add(m.batch.mutations[v].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function GS(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zx(s,e){const n=Ne(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(sn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(S,P),(function(k,z,J){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=jx?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,P,E)&&m.push(n.li.updateTargetData(u,P))}));let p=As(),v=Ge();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Bx(u,h,e.documentUpdates).next((E=>{p=E.Bs,v=E.Ls}))),!r.isEqual(Ie.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return re.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(n.vs=o,u)))}function Bx(s,e,n){let r=Ge(),o=Ge();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let h=As();return n.forEach(((m,p)=>{const v=u.get(m);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):pe(Xp,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function qx(s,e){const n=Ne(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hx(s,e){const n=Ne(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,re.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new cr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function tp(s,e,n){const r=Ne(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!jo(h))throw h;pe(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function sT(s,e,n){const r=Ne(s);let o=Ie.min(),u=Ge();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,v,E){const S=Ne(p),w=S.Fs.get(E);return w!==void 0?re.resolve(S.vs.get(w)):S.li.getTargetData(v,E)})(r,h,Gi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:Ie.min(),n?u:Ge()))).next((m=>(Fx(r,DN(e),m),{documents:m,ks:u})))))}function Fx(s,e,n){let r=s.Ms.get(e)||Ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class rT{constructor(){this.activeTargetIds=kN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gx{constructor(){this.vo=new rT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $x{Mo(e){}shutdown(){}}const aT="ConnectivityMonitor";class oT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(aT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function np(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Dm="RestConnection",Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const h=np(),m=this.Qo(e,n.toUriEncodedString());pe(Dm,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:v}=new URL(m),E=xo(v);return this.zo(e,m,p,r,E).then((S=>(pe(Dm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw So(Dm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,o,u,h){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=Yx[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Qx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",ql=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class yo extends Kx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yo.c_){const e=Q0();ql(e,K0.STAT_EVENT,(n=>{n.stat===Hm.PROXY?pe(un,"STAT_EVENT: detected buffering proxy"):n.stat===Hm.NOPROXY&&pe(un,"STAT_EVENT: detected no buffering proxy")})),yo.c_=!0}}zo(e,n,r,o,u){const h=np();return new Promise(((m,p)=>{const v=new $0;v.setWithCredentials(!0),v.listenOnce(Y0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case _h.NO_ERROR:const S=v.getResponseJson();pe(un,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case _h.TIMEOUT:pe(un,`RPC '${e}' ${h} timed out`),p(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const w=v.getStatus();if(pe(un,`RPC '${e}' ${h} failed with status:`,w,"response text:",v.getResponseText()),w>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P?.error;if(U&&U.status&&U.message){const k=(function(J){const K=J.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(K)>=0?K:ie.UNKNOWN})(U.status);p(new me(k,U.message))}else p(new me(ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{pe(un,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);pe(un,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=np(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=u.join("");pe(un,`Creating RPC '${e}' stream ${o}: ${v}`,m);const E=h.createWebChannel(v,m);this.I_(E);let S=!1,w=!1;const P=new Qx({Ho:U=>{w?pe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(pe(un,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),pe(un,`RPC '${e}' stream ${o} sending:`,U),E.send(U))},Jo:()=>E.close()});return ql(E,$l.EventType.OPEN,(()=>{w||(pe(un,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),ql(E,$l.EventType.CLOSE,(()=>{w||(w=!0,pe(un,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),ql(E,$l.EventType.ERROR,(U=>{w||(w=!0,So(un,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),P.o_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),ql(E,$l.EventType.MESSAGE,(U=>{if(!w){const k=U.data[0];nt(!!k,16349);const z=k,J=z?.error||z[0]?.error;if(J){pe(un,`RPC '${e}' stream ${o} received error:`,J);const K=J.status;let oe=(function(ee){const I=kt[ee];if(I!==void 0)return xS(I)})(K),ge=J.message;oe===void 0&&(oe=ie.INTERNAL,ge="Unknown error status: "+K+" with message "+J.message),w=!0,P.o_(new me(oe,ge)),E.close()}else pe(un,`RPC '${e}' stream ${o} received:`,k),P.__(k)}})),yo.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return X0()}}function Xx(s){return new yo(s)}function Nm(){return typeof document<"u"?document:null}function lf(s){return new ex(s,!0)}yo.c_=!1;class $S{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lT="PersistentStream";class YS{constructor(e,n,r,o,u,h,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wx extends YS{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ix(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?$i(h.readTime):Ie.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Km(p)?{documents:ax(u,p)}:{query:ox(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=VS(u,h.resumeToken);const v=Wm(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ie.min())>0){m.readTime=zh(u,h.snapshotVersion.toTimestamp());const v=Wm(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=ux(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.K_(n)}}class Jx extends YS{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rx(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ep(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sx(this.serializer,r)))};this.K_(n)}}class Zx{}class e2 extends Zx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Jm(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Jm(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t2(s,e,n,r){return new e2(s,e,n,r)}class n2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class i2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{_a(this)&&(pe(ma,"Restarting streams for network reachability change."),await(async function(p){const v=Ne(p);v.Ea.add(4),await Ru(v),v.Va.set("Unknown"),v.Ea.delete(4),await uf(v)})(this))}))})),this.Va=new n2(r,o)}}async function uf(s){if(_a(s))for(const e of s.Ra)await e(!0)}async function Ru(s){for(const e of s.Ra)await e(!1)}function KS(s,e){const n=Ne(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):Po(n).O_()&&Jp(n,e))}function Wp(s,e){const n=Ne(s),r=Po(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():_a(n)&&n.Va.set("Unknown"))}function Jp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(s).Z_(e)}function QS(s,e){s.da.$e(e),Po(s).X_(e)}function Zp(s){s.da=new XN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Po(s).start(),s.Va.ua()}function eg(s){return _a(s)&&!Po(s).x_()&&s.Ia.size>0}function _a(s){return Ne(s).Ea.size===0}function XS(s){s.da=void 0}async function s2(s){s.Va.set("Online")}async function r2(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function a2(s,e){XS(s),eg(s)?(s.Va.ha(e),Zp(s)):s.Va.set("Unknown")}async function o2(s,e,n){if(s.Va.set("Online"),e instanceof MS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){pe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(s,r)}else if(e instanceof bh?s.da.Xe(e):e instanceof OS?s.da.st(e):s.da.tt(e),!n.isEqual(Ie.min()))try{const r=await GS(s.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,v)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),QS(u,p);const S=new cr(E.target,p,v,E.sequenceNumber);Jp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){pe(ma,"Failed to raise snapshot:",r),await qh(s,r)}}async function qh(s,e,n){if(!jo(e))throw e;s.Ea.add(1),await Ru(s),s.Va.set("Offline"),n||(n=()=>GS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{pe(ma,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await uf(s)}))}function WS(s,e){return e().catch((n=>qh(s,n,e)))}async function cf(s){const e=Ne(s),n=Sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;l2(e);)try{const o=await qx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,u2(e,o)}catch(o){await qh(e,o)}JS(e)&&ZS(e)}function l2(s){return _a(s)&&s.Ta.length<10}function u2(s,e){s.Ta.push(e);const n=Sr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function JS(s){return _a(s)&&!Sr(s).x_()&&s.Ta.length>0}function ZS(s){Sr(s).start()}async function c2(s){Sr(s).ra()}async function h2(s){const e=Sr(s);for(const n of s.Ta)e.ea(n.mutations)}async function f2(s,e,n){const r=s.Ta.shift(),o=Fp.from(r,e,n);await WS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await cf(s)}async function d2(s,e){e&&Sr(s).Y_&&await(async function(r,o){if((function(h){return YN(h)&&h!==ie.ABORTED})(o.code)){const u=r.Ta.shift();Sr(r).B_(),await WS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(r)}})(s,e),JS(s)&&ZS(s)}async function uT(s,e){const n=Ne(s);n.asyncQueue.verifyOperationInProgress(),pe(ma,"RemoteStore received new credentials");const r=_a(n);n.Ea.add(3),await Ru(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function m2(s,e){const n=Ne(s);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await Ru(n),n.Va.set("Unknown"))}function Po(s){return s.ma||(s.ma=(function(n,r,o){const u=Ne(n);return u.sa(),new Wx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:s2.bind(null,s),Yo:r2.bind(null,s),t_:a2.bind(null,s),J_:o2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),eg(s)?Zp(s):s.Va.set("Unknown")):(await s.ma.stop(),XS(s))}))),s.ma}function Sr(s){return s.fa||(s.fa=(function(n,r,o){const u=Ne(n);return u.sa(),new Jx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:c2.bind(null,s),t_:d2.bind(null,s),ta:h2.bind(null,s),na:f2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await cf(s)):(await s.fa.stop(),s.Ta.length>0&&(pe(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new tg(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,e){if(bs("AsyncQueue",`${e}: ${s}`),jo(s))return new me(ie.UNAVAILABLE,`${e}: ${s}`);throw s}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cT{constructor(){this.ga=new yt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Co{constructor(e,n,r,o,u,h,m,p,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Co(e,n,vo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class p2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g2{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),u=o.queries;o.queries=hT(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function hT(){return new va((s=>_S(s)),nf)}async function y2(s,e){const n=Ne(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new p2,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ng(h,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ig(n)}async function v2(s,e){const n=Ne(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _2(s,e){const n=Ne(s);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(r=!0);h.wa=o}}r&&ig(n)}function E2(s,e,n){const r=Ne(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function ig(s){s.Ca.forEach((e=>{e.next()}))}var ip,fT;(fT=ip||(ip={})).Ma="default",fT.Cache="cache";class T2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class S2{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=ES(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),P=sf(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),k=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;w&&P?w.data.isEqual(P.data)?U!==k&&(r.track({type:3,doc:P}),z=!0):this.su(w,P)||(r.track({type:2,doc:P}),z=!0,(p&&this.eu(P,p)>0||v&&this.eu(P,v)<0)&&(m=!0)):!w&&P?(r.track({type:0,doc:P}),z=!0):w&&!P&&(r.track({type:1,doc:w}),z=!0,(p||v)&&(m=!0)),z&&(P?(h=h.add(P),u=k?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:h,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(P,U){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:z})}};return k(P)-k(U)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,h.length!==0||v?{snapshot:new Co(this.query,e.tu,u,h,e.mutatedKeys,p===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new tb(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new eb(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class b2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A2{constructor(e){this.key=e,this.hu=!1}}class w2{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new va((m=>_S(m)),nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(be.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=Ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(s,e,n=!0){const r=ob(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nb(r,e,n,!0),o}async function C2(s,e){const n=ob(s);await nb(n,e,!0,!1)}async function nb(s,e,n,r){const o=await Hx(s.localStore,Gi(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await I2(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&KS(s.remoteStore,o),m}async function I2(s,e,n,r,o){s.pu=(S,w,P)=>(async function(k,z,J,K){let oe=z.view.ru(J);oe.Ss&&(oe=await sT(k.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,oe))));const ge=K&&K.targetChanges.get(z.targetId),G=K&&K.targetMismatches.get(z.targetId)!=null,ee=z.view.applyChanges(oe,k.isPrimaryClient,ge,G);return mT(k,z.targetId,ee.au),ee.snapshot})(s,S,w,P);const u=await sT(s.localStore,e,!0),h=new S2(e,u.ks),m=h.ru(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),v=h.applyChanges(m,s.isPrimaryClient,p);mT(s,n,v.au);const E=new b2(e,n,h);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),v.snapshot}async function D2(s,e,n){const r=Ne(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!nf(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Wp(r.remoteStore,o.targetId),sp(r,o.targetId)})).catch(ko)):(sp(r,o.targetId),await tp(r.localStore,o.targetId,!0))}async function N2(s,e){const n=Ne(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wp(n.remoteStore,r.targetId))}async function x2(s,e,n){const r=P2(s);try{const o=await(function(h,m){const p=Ne(h),v=ke.now(),E=m.reduce(((P,U)=>P.add(U.key)),Ge());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let U=As(),k=Ge();return p.xs.getEntries(P,E).next((z=>{U=z,U.forEach(((J,K)=>{K.isValidDocument()||(k=k.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,U))).next((z=>{S=z;const J=[];for(const K of m){const oe=qN(K,S.get(K.key).overlayedDocument);oe!=null&&J.push(new Ir(K.key,oe,cS(oe.value.mapValue),gi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,v,J,m)})).next((z=>{w=z;const J=z.applyToLocalDocumentSet(S,k);return p.documentOverlayCache.saveOverlays(P,z.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:SS(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let v=h.du[h.currentUser.toKey()];v||(v=new yt(He)),v=v.insert(m,p),h.du[h.currentUser.toKey()]=v})(r,o.batchId,n),await Cu(r,o.changes),await cf(r.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function ib(s,e){const n=Ne(s);try{const r=await zx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?nt(h.hu,14607):o.removedDocuments.size>0&&(nt(h.hu,42227),h.hu=!1))})),await Cu(n,r,e)}catch(r){await ko(r)}}function dT(s,e,n){const r=Ne(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ne(h);p.onlineState=m;let v=!1;p.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(m)&&(v=!0)})),v&&ig(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O2(s,e,n){const r=Ne(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new yt(be.comparator);h=h.insert(u,hn.newNoDocument(u,Ie.min()));const m=Ge().add(u),p=new of(Ie.min(),new Map,new yt(He),h,m);await ib(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(e),rg(r)}else await tp(r.localStore,e,!1).then((()=>sp(r,e,n))).catch(ko)}async function M2(s,e){const n=Ne(s),r=e.batch.batchId;try{const o=await Ux(n.localStore,e);rb(n,r,null),sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,o)}catch(o){await ko(o)}}async function V2(s,e,n){const r=Ne(s);try{const o=await(function(h,m){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return p.mutationQueue.lookupMutationBatch(v,m).next((S=>(nt(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>p.localDocuments.getDocuments(v,E)))}))})(r.localStore,e);rb(r,e,n),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,o)}catch(o){await ko(o)}}function sb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rb(s,e,n){const r=Ne(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||ab(s,r)}))}function ab(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Wp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),rg(s))}function mT(s,e,n){for(const r of n)r instanceof eb?(s.Vu.addReference(r.key,e),k2(s,r)):r instanceof tb?(pe(sg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||ab(s,r.key)):Ce(19791,{wu:r})}function k2(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(pe(sg,"New document in limbo: "+n),s.Eu.add(r),rg(s))}function rg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new be(ht.fromString(e)),r=s.fu.next();s.Au.set(r,new A2(n)),s.Ru=s.Ru.insert(n,r),KS(s.remoteStore,new cr(Gi(yS(n.path)),r,"TargetPurposeLimboResolution",Zh.ce))}}async function Cu(s,e,n){const r=Ne(s),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const E=v?!v.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(v){o.push(v);const E=Qp.Es(p.targetId,v);u.push(E)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(p,v){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>re.forEach(v,(w=>re.forEach(w.Ts,(P=>E.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>re.forEach(w.Is,(P=>E.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!jo(S))throw S;pe(Xp,"Failed to update sequence numbers: "+S)}for(const S of v){const w=S.targetId;if(!S.fromCache){const P=E.vs.get(w),U=P.snapshotVersion,k=P.withLastLimboFreeSnapshotVersion(U);E.vs=E.vs.insert(w,k)}}})(r.localStore,u))}async function j2(s,e){const n=Ne(s);if(!n.currentUser.isEqual(e)){pe(sg,"User change. New user:",e.toKey());const r=await FS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(ie.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r.Ns)}}function L2(s,e){const n=Ne(s),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ob(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O2.bind(null,e),e.Pu.J_=_2.bind(null,e.eventManager),e.Pu.yu=E2.bind(null,e.eventManager),e}function P2(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V2.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Px(this.persistence,new kx,e.initialUser,this.serializer)}Cu(e){return new HS(Kp.Vi,this.serializer)}Du(e){return new Gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class U2 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof Bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ex(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new HS((r=>Bh.Vi(r,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),r=Xx(e.databaseInfo);return t2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new i2(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>dT(this.syncEngine,n,0)),(function(){return oT.v()?new oT:new $x})())}createSyncEngine(e,n){return(function(o,u,h,m,p,v,E){const S=new w2(o,u,h,m,p,v);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);pe(ma,"RemoteStore shutting down."),r.Ea.add(5),await Ru(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const br="FirestoreClient";class B2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{pe(br,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(pe(br,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function xm(s,e){s.asyncQueue.verifyOperationInProgress(),pe(br,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await FS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await q2(s);pe(br,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>uT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>uT(e.remoteStore,o))),s._onlineComponents=e}async function q2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){pe(br,"Using user provided OfflineComponentProvider");try{await xm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await xm(s,new Hh)}}else pe(br,"Using default OfflineComponentProvider"),await xm(s,new U2(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(pe(br,"Using user provided OnlineComponentProvider"),await pT(s,s._uninitializedComponentsProvider._online)):(pe(br,"Using default OnlineComponentProvider"),await pT(s,new rp))),s._onlineComponents}function H2(s){return lb(s).then((e=>e.syncEngine))}async function F2(s){const e=await lb(s),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),n}function G2(s,e,n={}){const r=new pr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,v){const E=new z2({next:w=>{E.Nu(),h.enqueueAndForget((()=>v2(u,S))),w.fromCache&&p.source==="server"?v.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:w=>v.reject(w)}),S=new T2(m,E,{includeMetadataChanges:!0,Ka:!0});return y2(u,S)})(await F2(s),s.asyncQueue,e,n,r))),r.promise}function $2(s,e){const n=new pr;return s.asyncQueue.enqueueAndForget((async()=>x2(await H2(s),e,n))),n.promise}function ub(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Y2="ComponentProvider",gT=new Map;function K2(s,e,n,r,o){return new cN(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ub(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const cb="firestore.googleapis.com",yT=!0;class vT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=yT}else this.host=e.host,this.ssl=e.ssl??yT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vx)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gT.get(n);r&&(pe(Y2,"Removing Datastore"),gT.delete(n),r.terminate())})(this),Promise.resolve()}}function Q2(s,e,n,r={}){s=da(s,hf);const o=xo(e),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(n0(`https://${m}`),i0("Firestore",!0)),u.host!==cb&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!la(p,h)&&(s._setSettings(p),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=cn.MOCK_USER;else{v=nR(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(S)}s._authCredentials=new FD(new J0(v,E))}}class Ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Ut._jsonSchema))return new Ut(e,r||null,new be(ht.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Lt("string",Ut._jsonSchemaVersion),referencePath:Lt("string")};class gr extends Ea{constructor(e,n,r){super(e,n,yS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new be(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function Rt(s,e,...n){if(s=Bt(s),Z0("collection","path",e),s instanceof hf){const r=ht.fromString(e,...n);return xE(r),new gr(s,null,r)}{if(!(s instanceof Ut||s instanceof gr))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...n));return xE(r),new gr(s.firestore,null,r)}}function fn(s,e,...n){if(s=Bt(s),arguments.length===1&&(e=jp.newId()),Z0("doc","path",e),s instanceof hf){const r=ht.fromString(e,...n);return NE(r),new Ut(s,null,new be(r))}{if(!(s instanceof Ut||s instanceof gr))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...n));return NE(r),new Ut(s.firestore,s instanceof gr?s.converter:null,new be(r))}}const _T="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $S(this,"async_queue_retry"),this._c=()=>{const r=Nm();r&&pe(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;pe(_T,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Iu extends hf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function X2(s,e){const n=typeof s=="object"?s:a0(),r=typeof s=="string"?s:kh,o=Ap(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=eR("firestore");u&&Q2(o,...u)}return o}function hb(s){if(s._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||W2(s),s._firestoreClient}function W2(s){const e=s._freezeSettings(),n=K2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new B2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(sn.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Lt("string",ei._jsonSchemaVersion),bytes:Lt("string")};class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Lt("string",Yi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yi(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Lt("string",yi._jsonSchemaVersion),vectorValues:Lt("object")};const J2=/^__.*__$/;class Z2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class fb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function db(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{dataSource:s})}}class lg{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(db(this.dataSource)&&J2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lf(e)}createContext(e,n,r,o=!1){return new lg({dataSource:e,methodName:n,targetDoc:r,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(s){const e=s._freezeSettings(),n=lf(s._databaseId);return new eO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tO(s,e,n,r,o,u={}){const h=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);cg("Data must be an object, but it was:",h,r);const m=mb(r,h);let p,v;if(u.merge)p=new Ln(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=pa(e,S,n);if(!h.contains(w))throw new me(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yb(E,w)||E.push(w)}p=new Ln(E),v=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=h.fieldTransforms;return new Z2(new Cn(m),p,v)}class ff extends og{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function nO(s,e,n,r){const o=s.createContext(1,e,n);cg("Data must be an object, but it was:",o,r);const u=[],h=Cn.empty();Cr(r,((p,v)=>{const E=gb(e,p,n);v=Bt(v);const S=o.childContextForFieldPath(E);if(v instanceof ff)u.push(E);else{const w=Du(v,S);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Ln(u);return new fb(h,m,o.fieldTransforms)}function iO(s,e,n,r,o,u){const h=s.createContext(1,e,n),m=[pa(e,r,n)],p=[o];if(u.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(pa(e,u[w])),p.push(u[w+1]);const v=[],E=Cn.empty();for(let w=m.length-1;w>=0;--w)if(!yb(v,m[w])){const P=m[w];let U=p[w];U=Bt(U);const k=h.childContextForFieldPath(P);if(U instanceof ff)v.push(P);else{const z=Du(U,k);z!=null&&(v.push(P),E.set(P,z))}}const S=new Ln(v);return new fb(E,S,h.fieldTransforms)}function sO(s,e,n,r=!1){return Du(n,s.createContext(r?4:3,e))}function Du(s,e){if(pb(s=Bt(s)))return cg("Unsupported field value:",e,s),mb(s,e);if(s instanceof og)return(function(r,o){if(!db(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let p=Du(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ke.fromDate(r);return{timestampValue:zh(o.serializer,u)}}if(r instanceof ke){const u=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:VS(o.serializer,r._byteString)};if(r instanceof Ut){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yi)return(function(h,m){const p=h instanceof yi?h.toArray():h;return{mapValue:{fields:{[lS]:{stringValue:uS},[jh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return qp(m.serializer,E)}))}}}}}})(r,o);if(BS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Jh(r)}`)})(s,e)}function mb(s,e){const n={};return nS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(s,((r,o)=>{const u=Du(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ke||s instanceof Yi||s instanceof ei||s instanceof Ut||s instanceof og||s instanceof yi||BS(s))}function cg(s,e,n){if(!pb(n)||!eS(n)){const r=Jh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function pa(s,e,n){if((e=Bt(e))instanceof ag)return e._internalPath;if(typeof e=="string")return gb(s,e);throw Fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const rO=new RegExp("[~\\*/\\[\\]]");function gb(s,e,n){if(e.search(rO)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Fh(s,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new me(ie.INVALID_ARGUMENT,m+s+p)}function yb(s,e){return s.some((n=>n.isEqual(e)))}class aO{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new yi(n)}convertGeoPoint(e){return new Yi(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=_r(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);nt(zS(r),9688,{name:e});const o=new lu(r.get(1),r.get(3)),u=new be(r.popFirst(5));return o.isEqual(n)||bs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class oO extends aO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}const ST="@firebase/firestore",bT="4.10.0";class vb{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(pa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lO extends vb{data(){return super.data()}}function uO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class _b extends hg{}function du(s,e,...n){let r=[];e instanceof hg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((p=>p instanceof fg)).length,m=u.filter((p=>p instanceof df)).length;if(h>1||h>0&&m>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class df extends _b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new df(e,n,r)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new Ea(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(u,h,m,p,v,E,S){let w;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){wT(S,E);const U=[];for(const k of S)U.push(AT(p,u,k));w={arrayValue:{values:U}}}else w=AT(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||wT(S,E),w=sO(m,h,S,E==="in"||E==="not-in");return jt.create(v,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gh(s,e,n){const r=e,o=pa("where",s);return df._create(o,r,n)}class fg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Eb(h,p),h=Qm(h,p)})(e._query,n),new Ea(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dg extends _b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(u,h)})(e._query,this._field,this._direction);return new Ea(e.firestore,e.converter,IN(e._query,n))}}function cO(s,e="asc"){const n=e,r=pa("orderBy",s);return dg._create(r,n)}function AT(s,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!be.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UE(s,new be(r))}if(n instanceof Ut)return UE(s,n._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function wT(s,e){if(!Array.isArray(s)||s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(s,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hO(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class hh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends vb{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Lt("string",_o._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ah extends _o{data(e={}){return super.data(e)}}class Eo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new hh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:fO(m.type),doc:p,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:s})}}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:Lt("string",Eo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function dn(s){s=da(s,Ea);const e=da(s.firestore,Iu),n=hb(e),r=new oO(e);return uO(s._query),G2(n,s._query).then((o=>new Eo(e,r,s,o)))}function yr(s,e,n,...r){s=da(s,Ut);const o=da(s.firestore,Iu),u=ug(o);let h;return h=typeof(e=Bt(e))=="string"||e instanceof ag?iO(u,"updateDoc",s._key,e,n,r):nO(u,"updateDoc",s._key,e),mg(o,[h.toMutation(s._key,gi.exists(!0))])}function ga(s){return mg(da(s.firestore,Iu),[new Hp(s._key,gi.none())])}function tu(s,e){const n=da(s.firestore,Iu),r=fn(s),o=hO(s.converter,e),u=ug(s.firestore);return mg(n,[tO(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function mg(s,e){const n=hb(s);return $2(n,e)}(function(e,n=!0){qD(Oo),To(new ua("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Iu(new GD(r.getProvider("auth-internal")),new KD(h,r.getProvider("app-check-internal")),hN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),dr(ST,bT,e),dr(ST,bT,"esm2020")})();var dO="firebase",mO="12.8.0";dr(dO,mO,"app");const Tb={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},Sb=wp(Tb),fh=F0(Sb),Fe=X2(Sb),pO=wp(Tb,"secondary"),RT=F0(pO),gO="EYdciKDOi3UYBLk1u8hHams5tmO2",bb=j.createContext();function Uo(){return j.useContext(bb)}function yO({children:s}){const[e,n]=j.useState(null),[r,o]=j.useState(!1),[u,h]=j.useState(!1),[m,p]=j.useState(null),[v,E]=j.useState(!0);j.useEffect(()=>xI(fh,async k=>{if(n(k),k)if(k.uid===gO)o(!0),h(!1),p(null);else{o(!1);try{const z=du(Rt(Fe,"clients"),Gh("uid","==",k.uid)),J=await dn(z);if(J.empty)h(!1),p(null);else{const K=J.docs[0];h(!0),p({id:K.id,...K.data()})}}catch(z){console.error("Error fetching client data:",z),h(!1),p(null)}}else o(!1),h(!1),p(null);E(!1)}),[]);const P={currentUser:e,isAdmin:r,isClient:u,clientData:m,login:async(U,k,z=!0)=>(await II(fh,z?j0:Op),await CI(fh,U,k)),logout:()=>M0(fh),loading:v};return g.jsx(bb.Provider,{value:P,children:s})}function vO(){const[s,e]=j.useState(""),[n,r]=j.useState(""),[o,u]=j.useState(!0),[h,m]=j.useState(""),[p,v]=j.useState(!1),{login:E,currentUser:S,isAdmin:w,isClient:P,loading:U}=Uo(),k=ws();if(j.useEffect(()=>{!U&&S&&(w?k("/dashboard"):P&&k("/client"))},[U,S,w,P,k]),U)return g.jsx("div",{className:"login-container",children:g.jsx("div",{className:"login-loading",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"loading-logo"})})});const z=async J=>{J.preventDefault(),m(""),v(!0);try{await E(s,n,o)}catch(K){m(K.message||"Failed to log in"),v(!1)}};return g.jsx("div",{className:"login-container",children:g.jsxs("div",{className:"login-card",children:[g.jsxs("div",{className:"login-header",children:[g.jsx("h1",{children:"Mind Core Fitness"}),g.jsx("p",{children:"Client Portal"})]}),h&&g.jsx("div",{className:"error-message",children:h}),g.jsxs("form",{onSubmit:z,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsx("input",{type:"email",id:"email",value:s,onChange:J=>e(J.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsx("input",{type:"password",id:"password",value:n,onChange:J=>r(J.target.value),required:!0})]}),g.jsx("div",{className:"remember-me",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:o,onChange:J=>u(J.target.checked)}),g.jsx("span",{children:"Remember me"})]})}),g.jsx("button",{type:"submit",className:"login-btn",disabled:p,children:p?"Logging in...":"Log In"})]}),g.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function _O(){const[s,e]=j.useState([]),[n,r]=j.useState([]),[o,u]=j.useState(!0),[h,m]=j.useState(null),[p,v]=j.useState({});j.useEffect(()=>{E()},[]);const E=async()=>{try{const[G,ee]=await Promise.all([dn(du(Rt(Fe,"clients"),cO("createdAt","desc"))),dn(Rt(Fe,"sessions"))]),I=G.docs.map(R=>({id:R.id,...R.data()})),C=ee.docs.map(R=>({id:R.id,...R.data()}));e(I),r(C)}catch(G){console.error("Error fetching data:",G)}u(!1)},S=G=>{const ee=new Date,I=ee.getFullYear(),C=(ee.getMonth()+1).toString().padStart(2,"0"),R=ee.getDate().toString().padStart(2,"0"),D=`${I}-${C}-${R}`,x=`${ee.getHours().toString().padStart(2,"0")}:${ee.getMinutes().toString().padStart(2,"0")}`;return n.filter(M=>M.clientId!==G?!1:M.date<D||M.date===D&&M.time<x).length},w=G=>{const ee=S(G.id);return(G.totalSessions||0)-ee},P=G=>{const ee=new Date,I=ee.getFullYear(),C=(ee.getMonth()+1).toString().padStart(2,"0"),R=ee.getDate().toString().padStart(2,"0"),D=`${I}-${C}-${R}`,x=`${ee.getHours().toString().padStart(2,"0")}:${ee.getMinutes().toString().padStart(2,"0")}`;return n.filter(M=>M.clientId!==G?!1:M.date>D||M.date===D&&M.time>=x).length},U=G=>G?(G.toDate?G.toDate():new Date(G)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",k=async(G,ee)=>{if(window.confirm(`Are you sure you want to delete ${ee}? This will also delete all their booked sessions.`))try{const C=n.filter(R=>R.clientId===G).map(R=>ga(fn(Fe,"sessions",R.id)));await Promise.all(C),await ga(fn(Fe,"clients",G)),e(s.filter(R=>R.id!==G)),r(n.filter(R=>R.clientId!==G))}catch(I){console.error("Error deleting client:",I),alert("Failed to delete client")}},z=G=>{if(!G)return"";const ee=G.toDate?G.toDate():new Date(G),I=ee.getFullYear(),C=(ee.getMonth()+1).toString().padStart(2,"0"),R=ee.getDate().toString().padStart(2,"0");return`${I}-${C}-${R}`},J=G=>{m(G.id),v({name:G.name,email:G.email,password:"",weeksInBlock:G.weeksInBlock,totalSessions:G.totalSessions,sessionsRemaining:G.sessionsRemaining,sessionDuration:G.sessionDuration||45,startDate:z(G.startDate),endDate:z(G.endDate),status:G.status,hasPortalAccess:!!G.uid})},K=G=>{const{name:ee,value:I}=G.target;if(v(C=>({...C,[ee]:I})),ee==="startDate"||ee==="weeksInBlock"){const C=ee==="startDate"?I:p.startDate,R=parseInt(ee==="weeksInBlock"?I:p.weeksInBlock);if(C&&R>0){const D=new Date(C),x=new Date(D);x.setDate(x.getDate()+R*7);const M=x.getFullYear(),N=(x.getMonth()+1).toString().padStart(2,"0"),we=x.getDate().toString().padStart(2,"0");v(xe=>({...xe,[ee]:I,endDate:`${M}-${N}-${we}`}))}}},oe=async G=>{try{const ee=s.find(R=>R.id===G);let I=ee?.uid;if(p.password&&p.password.length>=6&&!ee?.uid)try{const R=await RI(RT,p.email.trim().toLowerCase(),p.password);await M0(RT),I=R.user.uid}catch(R){if(console.error("Error creating auth account:",R),R.code==="auth/email-already-in-use")alert("This email already has a portal account. Password not changed.");else if(R.code==="auth/weak-password"){alert("Password must be at least 6 characters.");return}else{alert("Failed to create portal account: "+R.message);return}}const C={name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:ke.fromDate(new Date(p.startDate)),endDate:ke.fromDate(new Date(p.endDate)),status:p.status};I&&!ee?.uid&&(C.uid=I),await yr(fn(Fe,"clients",G),C),e(s.map(R=>R.id===G?{...R,...p,uid:I||R.uid,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:ke.fromDate(new Date(p.startDate)),endDate:ke.fromDate(new Date(p.endDate))}:R)),m(null),I&&!ee?.uid&&alert("Portal access created! Client can now log in.")}catch(ee){console.error("Error updating client:",ee),alert("Failed to update client")}},ge=async G=>{try{const ee=s.find(I=>I.id===G)?.status==="archived"?"active":"archived";await yr(fn(Fe,"clients",G),{status:ee}),e(s.map(I=>I.id===G?{...I,status:ee}:I))}catch(ee){console.error("Error archiving client:",ee),alert("Failed to update client status")}};return o?g.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):s.length===0?g.jsxs("div",{className:"client-list-empty",children:[g.jsx("p",{children:"No clients yet"}),g.jsx("span",{children:"Add your first client to get started"})]}):g.jsx("div",{className:"client-list",children:s.map(G=>g.jsx("div",{className:`client-card ${G.status==="archived"?"archived":""}`,children:h===G.id?g.jsxs("div",{className:"edit-form",children:[g.jsxs("div",{className:"edit-row",children:[g.jsx("input",{type:"text",name:"name",value:p.name,onChange:K,placeholder:"Name"}),g.jsx("input",{type:"email",name:"email",value:p.email,onChange:K,placeholder:"Email"})]}),g.jsxs("div",{className:"edit-row",children:[g.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:K,placeholder:"Weeks",min:"1"}),g.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:K,placeholder:"Total Sessions",min:"1"}),g.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:K,children:[g.jsx("option",{value:"30",children:"30 min"}),g.jsx("option",{value:"45",children:"45 min"})]})]}),g.jsxs("div",{className:"edit-row",children:[g.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:K}),g.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:K})]}),g.jsx("div",{className:"edit-row password-row",children:p.hasPortalAccess?g.jsx("div",{className:"portal-status has-access",children:" Has portal access"}):g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"text",name:"password",value:p.password,onChange:K,placeholder:"Set portal password (min 6 chars)"}),g.jsx("span",{className:"password-hint",children:"Set password to enable client portal"})]})}),g.jsxs("div",{className:"edit-actions",children:[g.jsx("button",{className:"save-edit-btn",onClick:()=>oe(G.id),children:"Save"}),g.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"client-header",children:[g.jsxs("div",{className:"client-info",children:[g.jsx("h3",{children:G.name}),g.jsx("span",{className:"client-email",children:G.email})]}),g.jsx("div",{className:"client-status",children:g.jsx("span",{className:`status-badge ${G.status}`,children:G.status})})]}),g.jsxs("div",{className:"client-details",children:[g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Block"}),g.jsxs("span",{className:"detail-value",children:[G.weeksInBlock," weeks"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Sessions"}),g.jsxs("span",{className:"detail-value",children:[w(G)," / ",G.totalSessions," remaining"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Booked"}),g.jsxs("span",{className:"detail-value",children:[P(G.id)," sessions"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Duration"}),g.jsxs("span",{className:"detail-value",children:[G.sessionDuration||45," min"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Start"}),g.jsx("span",{className:"detail-value",children:U(G.startDate)})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"End"}),g.jsx("span",{className:"detail-value",children:U(G.endDate)})]})]}),g.jsxs("div",{className:"client-actions",children:[g.jsx("button",{className:"action-btn edit",onClick:()=>J(G),children:"Edit"}),g.jsx("button",{className:"action-btn archive",onClick:()=>ge(G.id),children:G.status==="archived"?"Reactivate":"Archive"}),g.jsx("button",{className:"action-btn delete",onClick:()=>k(G.id,G.name),children:"Delete"})]})]})},G.id))})}const Ab={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},ap=["monday","tuesday","wednesday","thursday","friday"],EO=["Monday","Tuesday","Wednesday","Thursday","Friday"],TO=["Mon","Tue","Wed","Thu","Fri"],CT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},SO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),ap.map((o,u)=>{const h=new Date(e);return h.setDate(e.getDate()+u),h})},mi=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},op=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},lp=(s,e)=>{const n=op(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},bO=s=>{const e=Ab[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=lp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=lp(r,15)}return n};function AO(){const[s,e]=j.useState(new Date),[n,r]=j.useState([]),[o,u]=j.useState([]),[h,m]=j.useState([]),[p,v]=j.useState([]),[E,S]=j.useState(null),[w,P]=j.useState(null),[U,k]=j.useState(!1),[z,J]=j.useState(!0);j.useEffect(()=>{r(SO(s))},[s]),j.useEffect(()=>{ee()},[]);const K=ae=>{if(S(ae),k(!1),ae.startDate){const le=ae.startDate.toDate?ae.startDate.toDate():new Date(ae.startDate);e(le)}P(null)},oe=ae=>{const le=new Date,O=mi(le),Y=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return h.filter(se=>se.clientId!==ae?!1:se.date<O||se.date===O&&se.time<Y).length},ge=ae=>{const le=oe(ae.id);return(ae.totalSessions||0)-le},G=ae=>{const le=new Date,O=le.getFullYear(),Y=(le.getMonth()+1).toString().padStart(2,"0"),se=le.getDate().toString().padStart(2,"0"),ce=`${O}-${Y}-${se}`,de=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return h.filter(_e=>_e.clientId!==ae?!1:_e.date>ce||_e.date===ce&&_e.time>=de).length},ee=async()=>{try{const le=(await dn(Rt(Fe,"clients"))).docs.map(de=>({id:de.id,...de.data()})).filter(de=>de.status==="active");u(le);const Y=(await dn(Rt(Fe,"sessions"))).docs.map(de=>({id:de.id,...de.data()}));m(Y);const ce=(await dn(Rt(Fe,"holidays"))).docs.map(de=>({id:de.id,...de.data()}));v(ce)}catch(ae){console.error("Error fetching data:",ae)}J(!1)},I=ae=>{const le=new Date(s);le.setDate(le.getDate()+ae*7),e(le),P(null)},C=()=>{e(new Date),P(null)},R=ae=>{const le=mi(ae);return p.some(O=>O.date===le)},D=ae=>{const le=mi(ae);return h.filter(O=>O.date===le)},x=(ae,le)=>{const O=mi(ae);return h.find(Y=>Y.date===O&&Y.time===le)},M=(ae,le,O)=>{const Y=ap[ae.getDay()-1];if(!Y||R(ae))return!1;const se=mi(ae);if(h.find(Yt=>Yt.date===se&&Yt.time===le))return!1;const de=lp(le,O),_e=Ab[Y],Te=_e.morning&&de<=_e.morning.end,Ke=_e.afternoon&&de<=_e.afternoon.end,je=_e.morning&&le>=_e.morning.start&&le<_e.morning.end,rn=_e.afternoon&&le>=_e.afternoon.start&&le<_e.afternoon.end;if(je&&!Te||rn&&!Ke)return!1;for(const Yt of h){if(Yt.date!==se)continue;const an=op(Yt.time),Et=an+(Yt.duration||45),Kt=op(le),pn=Kt+O;if(Kt<Et&&pn>an)return!1}return!0},N=async(ae,le)=>{const O=x(ae,le);if(O){if(window.confirm(`Cancel ${O.clientName}'s session at ${CT(le)}?`))try{await ga(fn(Fe,"sessions",O.id)),m(h.filter(se=>se.id!==O.id))}catch(se){console.error("Error cancelling session:",se),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!M(ae,le,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(h.filter(se=>se.clientId===E.id).length>=E.totalSessions){alert(`${E.name} has already booked all ${E.totalSessions} sessions`);return}try{const se=mi(ae),ce={clientId:E.id,clientName:E.name,date:se,time:le,duration:E.sessionDuration||45,createdAt:ke.now()},de=await tu(Rt(Fe,"sessions"),ce);m([...h,{id:de.id,...ce}])}catch(se){console.error("Error booking session:",se),alert("Failed to book session")}},we=async()=>{if(!E)return;const ae=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),le=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),O=h.filter(Te=>Te.clientId!==E.id?!1:n.some(Ke=>mi(Ke)===Te.date));if(O.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const Y=E.weeksInBlock||Math.ceil((le-ae)/(10080*60*1e3)),se=O.map(Te=>({dayOfWeek:new Date(Te.date).getDay(),time:Te.time}));let ce=[];const de=h.filter(Te=>Te.clientId===E.id).length;for(let Te=0;Te<Y;Te++){const Ke=new Date(ae);Ke.setDate(Ke.getDate()+Te*7);const je=new Date(Ke),rn=je.getDay(),Yt=je.getDate()-rn+(rn===0?-6:1);je.setDate(Yt);for(const an of se){const Et=new Date(je),Kt=an.dayOfWeek===0?6:an.dayOfWeek-1;Et.setDate(je.getDate()+Kt);const pn=mi(Et);h.some(on=>on.clientId===E.id&&on.date===pn&&on.time===an.time)||Et<ae||Et>le||p.some(on=>on.date===pn)||ce.push({dateKey:pn,time:an.time,sessionDate:Et})}}const _e=de+ce.length;if(_e>E.totalSessions){alert(`This would create ${ce.length} new sessions (${_e} total), but client only has ${E.totalSessions} sessions in their package.

You can still book ${E.totalSessions-de} more sessions.`);return}if(ce.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${ce.length} new sessions across the block.

(${de} existing + ${ce.length} new = ${_e} total)

Continue?`))try{const Te=[];for(const Ke of ce){const je={clientId:E.id,clientName:E.name,date:Ke.dateKey,time:Ke.time,duration:E.sessionDuration||45,createdAt:ke.now()},rn=await tu(Rt(Fe,"sessions"),je);Te.push({id:rn.id,...je})}m([...h,...Te]),alert(`Created ${Te.length} new sessions!`)}catch(Te){console.error("Error repeating weekly:",Te),alert("Failed to repeat sessions")}},xe=async ae=>{const le=mi(ae),O=p.find(Y=>Y.date===le);try{if(O)await ga(fn(Fe,"holidays",O.id)),v(p.filter(Y=>Y.id!==O.id));else{const Y=await tu(Rt(Fe,"holidays"),{date:le,createdAt:ke.now()});v([...p,{id:Y.id,date:le}])}}catch(Y){console.error("Error toggling day availability:",Y),alert("Failed to update day availability")}};if(z)return g.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const W=n[0],ue=n[4],ye=W&&ue?`${W.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${ue.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return g.jsxs("div",{className:"calendar",children:[g.jsxs("div",{className:"calendar-header",children:[g.jsxs("div",{className:"calendar-nav",children:[g.jsx("button",{onClick:()=>I(-1),children:""}),g.jsx("button",{onClick:C,children:"Today"}),g.jsx("button",{onClick:()=>I(1),children:""})]}),g.jsx("h3",{children:ye})]}),g.jsxs("div",{className:"client-selector",children:[g.jsx("span",{className:"selector-label",children:"Booking for:"}),E?g.jsxs("div",{className:"selected-client",children:[g.jsxs("div",{className:"selected-info",children:[g.jsx("strong",{children:E.name}),g.jsxs("span",{children:[E.sessionDuration||45,"min  ",ge(E),"/",E.totalSessions," remaining"]}),g.jsxs("span",{className:"booked-info",children:[G(E.id)," booked"]})]}),g.jsx("button",{onClick:()=>S(null),children:"Change"})]}):g.jsx("button",{className:"select-client-btn",onClick:()=>k(!0),children:"Select Client"})]}),E&&g.jsxs("div",{className:"repeat-weekly-section",children:[g.jsx("button",{className:"repeat-weekly-btn",onClick:we,children:"Repeat This Week's Schedule For All Weeks"}),g.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),g.jsx("div",{className:"day-cards",children:n.map((ae,le)=>{const O=D(ae),Y=mi(ae)===mi(new Date),se=R(ae);return g.jsxs("div",{className:`day-card ${w===le?"selected":""} ${Y?"today":""} ${se?"holiday":""}`,onClick:()=>P(w===le?null:le),children:[g.jsxs("div",{className:"day-card-header",children:[g.jsx("span",{className:"day-name",children:TO[le]}),g.jsx("span",{className:"day-date",children:ae.getDate()})]}),se?g.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):g.jsxs("div",{className:"day-card-status",children:[O.length," session",O.length!==1?"s":""]})]},le)})}),w!==null&&n[w]&&g.jsxs("div",{className:"time-panel",children:[g.jsxs("div",{className:"time-panel-header",children:[g.jsxs("h4",{children:[EO[w]," ",n[w].getDate()]}),g.jsx("button",{className:"close-panel",onClick:()=>P(null),children:""})]}),g.jsx("div",{className:"availability-toggle",children:g.jsx("button",{className:`toggle-availability-btn ${R(n[w])?"unavailable":"available"}`,onClick:()=>xe(n[w]),children:R(n[w])?"Mark Day Available":"Mark Day Unavailable"})}),R(n[w])?g.jsxs("div",{className:"day-unavailable-message",children:[g.jsx("p",{children:"This day is marked as unavailable"}),g.jsx("span",{children:"Tap the button above to make it available again"})]}):g.jsx("div",{className:"time-slots",children:bO(ap[w]).map(({time:ae,period:le},O,Y)=>{const se=x(n[w],ae),ce=E&&M(n[w],ae,E.sessionDuration||45),de=O===0||Y[O-1]?.period!==le;return g.jsxs("div",{children:[de&&g.jsx("div",{className:"period-label",children:le==="morning"?"Morning":"Afternoon"}),g.jsxs("button",{className:`time-slot ${se?"booked":""} ${ce?"available":""} ${!se&&!ce&&E?"unavailable":""}`,onClick:()=>N(n[w],ae),children:[g.jsx("span",{className:"slot-time",children:CT(ae)}),se?g.jsxs("span",{className:"slot-client",children:[se.clientName," (",se.duration,"m)"]}):ce?g.jsx("span",{className:"slot-available",children:"Available"}):E?g.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):g.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},ae)})})]}),U&&g.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:g.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h3",{children:"Select Client"}),g.jsx("button",{className:"close-btn",onClick:()=>k(!1),children:""})]}),g.jsx("div",{className:"client-list-picker",children:o.length===0?g.jsx("p",{className:"no-items",children:"No active clients"}):o.map(ae=>{const le=ae.startDate?.toDate?ae.startDate.toDate():new Date(ae.startDate),O=ae.endDate?.toDate?ae.endDate.toDate():new Date(ae.endDate),Y=ge(ae),se=G(ae.id);return g.jsxs("button",{className:"client-option",onClick:()=>K(ae),children:[g.jsx("strong",{children:ae.name}),g.jsxs("span",{children:[ae.sessionDuration||45,"min  ",Y,"/",ae.totalSessions," remaining  ",se," booked"]}),g.jsxs("span",{className:"client-dates",children:[le.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",O.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},ae.id)})})]})})]})}const IT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},mu=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},wb=s=>s===mu(new Date),wO=s=>{const e=new Date;return e.setDate(e.getDate()+1),s===mu(e)},DT=s=>wb(s)?"Today":wO(s)?"Tomorrow":new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),NT=s=>{const e=new Date,n=mu(e),r=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(s.date<n)return!0;if(s.date===n){const o=xT(s.time)+(s.duration||45);return xT(r)>=o}return!1},xT=s=>{const[e,n]=s.split(":").map(Number);return e*60+n};function RO(){const[s,e]=j.useState([]),[n,r]=j.useState(!0),[o,u]=j.useState(new Date);j.useEffect(()=>{h();const U=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(U)},[]);const h=async()=>{try{const k=(await dn(Rt(Fe,"sessions"))).docs.map(K=>({id:K.id,...K.data()})),z=mu(new Date),J=k.filter(K=>K.date>=z).sort((K,oe)=>K.date!==oe.date?K.date.localeCompare(oe.date):K.time.localeCompare(oe.time));e(J)}catch(U){console.error("Error fetching sessions:",U)}r(!1)},m=async U=>{if(window.confirm(`Cancel ${U.clientName}'s session at ${IT(U.time)} on ${DT(U.date)}?`))try{await ga(fn(Fe,"sessions",U.id)),e(s.filter(k=>k.id!==U.id))}catch(k){console.error("Error cancelling session:",k),alert("Failed to cancel session")}};if(n)return g.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const p=s.reduce((U,k)=>{const z=k.date;return U[z]||(U[z]=[]),U[z].push(k),U},{}),v=Object.keys(p).sort(),E=mu(new Date),S=p[E]||[],w=S.filter(U=>NT(U)).length,P=S.length-w;return g.jsxs("div",{className:"schedule",children:[g.jsxs("div",{className:"today-summary",children:[g.jsx("h3",{children:"Today's Sessions"}),g.jsx("div",{className:"today-count",children:S.length===0?g.jsx("span",{className:"no-sessions",children:"No sessions today"}):g.jsxs("div",{className:"today-stats",children:[g.jsxs("span",{className:"completed-count",children:[w," completed"]}),g.jsxs("span",{className:"remaining-count",children:[P," remaining"]})]})})]}),v.length===0?g.jsx("div",{className:"no-upcoming",children:g.jsx("p",{children:"No upcoming sessions booked"})}):g.jsx("div",{className:"sessions-list",children:v.map(U=>g.jsxs("div",{className:`date-group ${wb(U)?"today":""}`,children:[g.jsxs("div",{className:"date-header",children:[g.jsx("span",{className:"date-label",children:DT(U)}),g.jsxs("span",{className:"date-count",children:[p[U].length," session",p[U].length!==1?"s":""]})]}),g.jsx("div",{className:"date-sessions",children:p[U].map(k=>{const z=NT(k);return g.jsxs("div",{className:`session-card ${z?"completed":""}`,children:[g.jsx("div",{className:"session-time",children:IT(k.time)}),g.jsxs("div",{className:"session-details",children:[g.jsx("strong",{children:k.clientName}),g.jsxs("span",{children:[k.duration,"min session"]})]}),z?g.jsx("div",{className:"completed-badge",children:""}):g.jsx("button",{className:"cancel-session-btn",onClick:()=>m(k),children:"Cancel"})]},k.id)})})]},U))})]})}const Rb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},up=["monday","tuesday","wednesday","thursday","friday"],CO=["Monday","Tuesday","Wednesday","Thursday","Friday"],IO=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},Hl=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},DO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),up.map((o,u)=>{const h=new Date(e);return h.setDate(e.getDate()+u),h})},cp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},hp=(s,e)=>{const n=cp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},NO=s=>{const e=Rb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=hp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=hp(r,15)}return n};function xO(){const[s,e]=j.useState(new Date),[n,r]=j.useState([]),[o,u]=j.useState([]),[h,m]=j.useState([]),[p,v]=j.useState(!0),[E,S]=j.useState(45);j.useEffect(()=>{r(DO(s))},[s]),j.useEffect(()=>{w()},[]);const w=async()=>{try{const ee=(await dn(Rt(Fe,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));u(ee);const C=(await dn(Rt(Fe,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));m(C)}catch(G){console.error("Error fetching data:",G)}v(!1)},P=G=>{const ee=new Date(s);ee.setDate(ee.getDate()+G*7),e(ee)},U=()=>{e(new Date)},k=G=>{const ee=Hl(G);return h.some(I=>I.date===ee)},z=(G,ee)=>{const I=up[G.getDay()-1];if(!I||k(G))return!1;const C=Hl(G),R=new Date,D=Hl(R);if(C<D)return!1;if(C===D){const ue=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(ee<ue)return!1}const x=hp(ee,E),M=Rb[I],N=M.morning&&ee>=M.morning.start&&ee<M.morning.end,we=M.afternoon&&ee>=M.afternoon.start&&ee<M.afternoon.end,xe=M.morning&&x<=M.morning.end,W=M.afternoon&&x<=M.afternoon.end;if(N&&!xe||we&&!W)return!1;for(const ue of o){if(ue.date!==C)continue;const ye=cp(ue.time),ae=ye+(ue.duration||45),le=cp(ee),O=le+E;if(le<ae&&O>ye)return!1}return!0},J=(G,ee)=>{const I=up[ee];return NO(I).filter(R=>z(G,R.time))};if(p)return g.jsx("div",{className:"availability-loading",children:"Loading availability..."});const K=n[0],oe=n[4],ge=K&&oe?`${K.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${oe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return g.jsxs("div",{className:"availability",children:[g.jsxs("div",{className:"availability-header",children:[g.jsxs("div",{className:"availability-nav",children:[g.jsx("button",{onClick:()=>P(-1),children:""}),g.jsx("button",{onClick:U,children:"Today"}),g.jsx("button",{onClick:()=>P(1),children:""})]}),g.jsx("h3",{children:ge}),g.jsxs("div",{className:"duration-selector",children:[g.jsx("label",{children:"Session:"}),g.jsxs("select",{value:E,onChange:G=>S(Number(G.target.value)),children:[g.jsx("option",{value:30,children:"30 min"}),g.jsx("option",{value:45,children:"45 min"}),g.jsx("option",{value:60,children:"60 min"})]})]})]}),g.jsx("div",{className:"availability-grid",children:n.map((G,ee)=>{const I=k(G),C=I?[]:J(G,ee),R=Hl(G)===Hl(new Date),D=G<new Date&&!R;return g.jsxs("div",{className:`day-column ${R?"today":""} ${D?"past":""}`,children:[g.jsxs("div",{className:"day-header",children:[g.jsx("span",{className:"day-name",children:CO[ee]}),g.jsxs("span",{className:"day-date",children:[G.getDate(),"/",G.getMonth()+1]}),I&&g.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),g.jsx("div",{className:"slots-container",children:I?g.jsx("div",{className:"no-slots",children:"Unavailable"}):C.length===0?g.jsx("div",{className:"no-slots",children:"Fully booked"}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"slots-count",children:[C.length," slots"]}),g.jsx("div",{className:"slots-list",children:C.map(x=>g.jsx("div",{className:`slot ${x.period}`,children:IO(x.time)},x.time))})]})})]},ee)})})]})}function OO(){const[s,e]=j.useState("schedule"),[n,r]=j.useState(0),[o,u]=j.useState(!1),[h,m]=j.useState([]),[p,v]=j.useState(null),{currentUser:E,logout:S,isAdmin:w,loading:P}=Uo(),U=ws(),k=j.useRef(0),z=j.useRef(!1);j.useRef(null),j.useEffect(()=>{!P&&(!E||!w)&&U("/")},[E,w,P,U]),j.useEffect(()=>{E&&w&&J()},[E,w]);const J=async()=>{try{const D=du(Rt(Fe,"rescheduleRequests"),Gh("status","==","pending")),M=(await dn(D)).docs.map(N=>({id:N.id,...N.data()}));M.sort((N,we)=>{const xe=N.createdAt?.toDate?N.createdAt.toDate():new Date(0);return(we.createdAt?.toDate?we.createdAt.toDate():new Date(0))-xe}),m(M)}catch(D){console.error("Error fetching reschedule requests:",D)}};j.useEffect(()=>{(async()=>{if(!(!E||!w))try{const[x,M]=await Promise.all([dn(Rt(Fe,"clients")),dn(Rt(Fe,"sessions"))]),N=new Set(x.docs.map(xe=>xe.id)),we=M.docs.filter(xe=>!N.has(xe.data().clientId));if(we.length>0){console.log(`Cleaning up ${we.length} orphaned sessions...`);const xe=we.map(W=>ga(fn(Fe,"sessions",W.id)));await Promise.all(xe),console.log("Orphaned sessions cleaned up successfully")}}catch(x){console.error("Error cleaning up orphaned sessions:",x)}})()},[E,w]),j.useEffect(()=>{const D=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=we=>{D()<=0&&(k.current=we.touches[0].clientY,z.current=!0)},M=we=>{if(!z.current)return;const W=we.touches[0].clientY-k.current;W>0&&D()<=0&&r(Math.min(W*.5,80))},N=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):r(0),z.current=!1};return document.addEventListener("touchstart",x,{passive:!0}),document.addEventListener("touchmove",M,{passive:!0}),document.addEventListener("touchend",N),()=>{document.removeEventListener("touchstart",x),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",N)}},[n]);const K=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},oe=async()=>{try{await S(),U("/")}catch(D){console.error("Failed to log out:",D)}},ge=()=>{U("/add-client")},G=D=>new Date(D).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),ee=D=>{const[x,M]=D.split(":"),N=parseInt(x),we=N>=12?"pm":"am";return`${N>12?N-12:N===0?12:N}:${M}${we}`},I=async D=>{if(window.confirm(`Approve reschedule for ${D.clientName}?

From: ${G(D.originalDate)} at ${ee(D.originalTime)}
To: ${G(D.requestedDate)} at ${ee(D.requestedTime)}`)){v(D.id);try{await yr(fn(Fe,"sessions",D.sessionId),{date:D.requestedDate,time:D.requestedTime}),await yr(fn(Fe,"rescheduleRequests",D.id),{status:"approved",respondedAt:ke.now()}),m(h.filter(x=>x.id!==D.id))}catch(x){console.error("Error approving request:",x),alert("Failed to approve request. Please try again.")}v(null)}},C=async D=>{if(window.confirm(`Reject reschedule request from ${D.clientName}?`)){v(D.id);try{await yr(fn(Fe,"rescheduleRequests",D.id),{status:"rejected",respondedAt:ke.now()}),m(h.filter(x=>x.id!==D.id))}catch(x){console.error("Error rejecting request:",x),alert("Failed to reject request. Please try again.")}v(null)}};if(P)return g.jsx("div",{className:"loading",children:"Loading..."});if(!E||!w)return null;const R=h.length;return g.jsxs("div",{className:"dashboard",children:[n>0&&g.jsxs("div",{className:"pull-indicator",style:{height:n},children:[g.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),g.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),g.jsxs("header",{className:"dashboard-header",children:[g.jsxs("div",{className:"header-left",children:[g.jsx("h1",{children:"Mind Core Fitness"}),g.jsx("span",{className:"admin-badge",children:"Admin"})]}),g.jsxs("nav",{className:"header-nav",children:[g.jsx("button",{className:`nav-btn ${s==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),g.jsx("button",{className:`nav-btn ${s==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),g.jsx("button",{className:`nav-btn ${s==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),g.jsxs("button",{className:`nav-btn ${s==="requests"?"active":""} ${R>0?"has-badge":""}`,onClick:()=>e("requests"),children:["Requests",R>0&&g.jsx("span",{className:"nav-badge",children:R})]}),g.jsx("button",{className:`nav-btn ${s==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),g.jsxs("div",{className:"header-actions",children:[g.jsx("button",{className:"refresh-btn",onClick:K,disabled:o,children:o?"":""}),g.jsx("button",{className:"logout-btn",onClick:oe,children:"Log Out"})]})]}),g.jsxs("main",{className:"dashboard-main",children:[s==="schedule"&&g.jsxs("div",{className:"schedule-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Schedule"})}),g.jsx(RO,{})]}),s==="clients"&&g.jsxs("div",{className:"clients-view",children:[g.jsxs("div",{className:"view-header",children:[g.jsx("h2",{children:"Clients"}),g.jsx("button",{className:"add-btn",onClick:ge,children:"+ Add Client"})]}),g.jsx(_O,{})]}),s==="calendar"&&g.jsxs("div",{className:"calendar-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Calendar"})}),g.jsx(AO,{})]}),s==="requests"&&g.jsxs("div",{className:"requests-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Reschedule Requests"})}),h.length===0?g.jsxs("div",{className:"no-requests",children:[g.jsx("p",{children:"No pending requests"}),g.jsx("span",{children:"When clients request to reschedule, they will appear here"})]}):g.jsx("div",{className:"requests-list",children:h.map(D=>g.jsxs("div",{className:"request-card",children:[g.jsxs("div",{className:"request-header",children:[g.jsx("span",{className:"client-name",children:D.clientName}),g.jsx("span",{className:"request-time",children:D.createdAt?.toDate?D.createdAt.toDate().toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""})]}),g.jsx("div",{className:"request-details",children:g.jsxs("div",{className:"request-change",children:[g.jsxs("div",{className:"from-session",children:[g.jsx("span",{className:"label",children:"From:"}),g.jsxs("span",{className:"value",children:[G(D.originalDate)," at ",ee(D.originalTime)]})]}),g.jsx("div",{className:"arrow",children:""}),g.jsxs("div",{className:"to-session",children:[g.jsx("span",{className:"label",children:"To:"}),g.jsxs("span",{className:"value",children:[G(D.requestedDate)," at ",ee(D.requestedTime)]})]})]})}),g.jsxs("div",{className:"request-actions",children:[g.jsx("button",{className:"approve-btn",onClick:()=>I(D),disabled:p===D.id,children:p===D.id?"Processing...":"Approve"}),g.jsx("button",{className:"reject-btn",onClick:()=>C(D),disabled:p===D.id,children:"Reject"})]})]},D.id))})]}),s==="availability"&&g.jsxs("div",{className:"availability-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Available Slots"})}),g.jsx(xO,{})]})]})]})}function MO(){const[s,e]=j.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,r]=j.useState(!1),[o,u]=j.useState(""),{currentUser:h,isAdmin:m,loading:p}=Uo(),v=ws();j.useEffect(()=>{!p&&(!h||!m)&&v("/")},[h,m,p,v]),j.useEffect(()=>{if(s.startDate&&s.weeksInBlock){const P=new Date(s.startDate),U=parseInt(s.weeksInBlock);if(!isNaN(U)&&U>0){const k=new Date(P);k.setDate(k.getDate()+U*7),e(z=>({...z,endDate:k.toISOString().split("T")[0]}))}}},[s.startDate,s.weeksInBlock]);const E=P=>{const{name:U,value:k}=P.target;e(z=>({...z,[U]:k}))},S=async P=>{P.preventDefault(),u(""),r(!0);try{const U={name:s.name.trim(),email:s.email.trim().toLowerCase(),weeksInBlock:parseInt(s.weeksInBlock),totalSessions:parseInt(s.numberOfSessions),sessionsRemaining:parseInt(s.numberOfSessions),sessionDuration:parseInt(s.sessionDuration),startDate:ke.fromDate(new Date(s.startDate)),endDate:ke.fromDate(new Date(s.endDate)),status:"active",createdAt:ke.now()};await tu(Rt(Fe,"clients"),U),v("/dashboard")}catch(U){console.error("Error adding client:",U),u("Failed to add client. Please try again."),r(!1)}},w=()=>{v("/dashboard")};return p?g.jsx("div",{className:"loading",children:"Loading..."}):!h||!m?null:g.jsxs("div",{className:"add-client-page",children:[g.jsxs("header",{className:"page-header",children:[g.jsx("button",{className:"back-btn",onClick:w,children:" Back"}),g.jsx("h1",{children:"Add New Client"})]}),g.jsxs("main",{className:"page-content",children:[o&&g.jsx("div",{className:"form-error",children:o}),g.jsxs("form",{onSubmit:S,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"name",children:"Client Name"}),g.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:E,placeholder:"John Smith",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Client Email"}),g.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:E,placeholder:"john@example.com",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),g.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:s.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),g.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:s.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),g.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:s.sessionDuration,onChange:E,required:!0,children:[g.jsx("option",{value:"30",children:"30 minutes"}),g.jsx("option",{value:"45",children:"45 minutes"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"startDate",children:"Start Date"}),g.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:E,required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),g.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:E,required:!0}),g.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"button",className:"cancel-btn",onClick:w,children:"Cancel"}),g.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}const Cb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},VO=["monday","tuesday","wednesday","thursday","friday"],aa=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},fp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},dp=(s,e)=>{const n=fp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},kO=s=>{const e=Cb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=dp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=dp(r,15)}return n},jO=s=>{const e=s.getDay();return e>=1&&e<=5},Ib=s=>{const e=s.getDay();return e===0||e===6?null:VO[e-1]},LO=(s,e,n,r,o,u=null)=>{const h=Ib(s);if(!h)return!1;const m=aa(s);if(o.some(z=>z.date===m))return!1;const p=new Date,v=aa(p);if(m<v)return!1;if(m===v){const z=`${p.getHours().toString().padStart(2,"0")}:${p.getMinutes().toString().padStart(2,"0")}`;if(e<z)return!1}const E=dp(e,n),S=Cb[h],w=S.morning&&e>=S.morning.start&&e<S.morning.end,P=S.afternoon&&e>=S.afternoon.start&&e<S.afternoon.end,U=S.morning&&E<=S.morning.end,k=S.afternoon&&E<=S.afternoon.end;if(w&&!U||P&&!k||!w&&!P)return!1;for(const z of r){if(u&&z.id===u||z.date!==m)continue;const J=fp(z.time),K=J+(z.duration||45),oe=fp(e),ge=oe+n;if(oe<K&&ge>J)return!1}return!0},PO=(s,e,n,r,o=null)=>{const u=Ib(s);return u?kO(u).filter(m=>LO(s,m.time,e,n,r,o)):[]};function UO(){const[s,e]=j.useState([]),[n,r]=j.useState([]),[o,u]=j.useState([]),[h,m]=j.useState([]),[p,v]=j.useState(!0),[E,S]=j.useState(null),[w,P]=j.useState(!1),[U,k]=j.useState(null),[z,J]=j.useState(null),[K,oe]=j.useState(null),[ge,G]=j.useState([]),[ee,I]=j.useState(!1),[C,R]=j.useState([]),{currentUser:D,isClient:x,clientData:M,logout:N,loading:we}=Uo(),xe=ws();j.useEffect(()=>{!we&&(!D||!x)&&xe("/")},[D,x,we,xe]),j.useEffect(()=>{M&&W()},[M]);const W=async()=>{try{const he=du(Rt(Fe,"sessions"),Gh("clientId","==",M.id)),Xe=(await dn(he)).docs.map(tt=>({id:tt.id,...tt.data()}));Xe.sort((tt,ti)=>tt.date!==ti.date?tt.date.localeCompare(ti.date):tt.time.localeCompare(ti.time)),e(Xe);const Le=await dn(Rt(Fe,"sessions"));r(Le.docs.map(tt=>({id:tt.id,...tt.data()})));const vn=await dn(Rt(Fe,"holidays"));u(vn.docs.map(tt=>({id:tt.id,...tt.data()})));const Dr=du(Rt(Fe,"rescheduleRequests"),Gh("clientId","==",M.id)),qt=(await dn(Dr)).docs.map(tt=>({id:tt.id,...tt.data()}));R(qt.filter(tt=>tt.status==="pending"));const Xi=qt.filter(tt=>{if(tt.status==="pending"||!tt.respondedAt)return!1;const ti=tt.respondedAt.toDate?tt.respondedAt.toDate():new Date(tt.respondedAt),Un=new Date;return Un.setDate(Un.getDate()-7),ti>Un&&!tt.dismissed});m(Xi)}catch(he){console.error("Error fetching data:",he)}v(!1)},ue=he=>new Date(he).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),ye=he=>{const[Qe,Xe]=he.split(":"),Le=parseInt(Qe),vn=Le>=12?"pm":"am";return`${Le>12?Le-12:Le===0?12:Le}:${Xe}${vn}`},ae=he=>he?(he.toDate?he.toDate():new Date(he)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",le=he=>{const Qe=new Date,Xe=aa(Qe),Le=`${Qe.getHours().toString().padStart(2,"0")}:${Qe.getMinutes().toString().padStart(2,"0")}`;return he.date<Xe||he.date===Xe&&he.time<Le},O=()=>s.filter(he=>le(he)).length,Y=()=>s.filter(he=>!le(he)),se=async he=>{if(window.confirm(`Cancel your session on ${ue(he.date)} at ${ye(he.time)}?

This cannot be undone.`)){S(he.id);try{await ga(fn(Fe,"sessions",he.id)),e(s.filter(Qe=>Qe.id!==he.id))}catch(Qe){console.error("Error cancelling session:",Qe),alert("Failed to cancel session. Please try again.")}S(null)}},ce=async()=>{try{await N(),xe("/")}catch(he){console.error("Failed to log out:",he)}},de=he=>C.some(Qe=>Qe.sessionId===he),_e=he=>{k(he),J(null),oe(null),G([]),P(!0)},Te=()=>{P(!1),k(null),J(null),oe(null),G([])},Ke=()=>M.endDate?M.endDate.toDate?M.endDate.toDate():new Date(M.endDate):new Date,je=()=>{const he=[],Qe=new Date,Xe=Ke(),Le=new Date(Qe);for(Le.setDate(Le.getDate()+1);Le<=Xe;){if(jO(Le)){const vn=aa(Le);o.some(Nr=>Nr.date===vn)||he.push(new Date(Le))}Le.setDate(Le.getDate()+1)}return he},rn=he=>{J(he),oe(null);const Qe=U?.duration||M.sessionDuration||45,Xe=PO(he,Qe,n,o,U?.id);G(Xe)},Yt=async()=>{if(!(!z||!K||!U)){I(!0);try{await tu(Rt(Fe,"rescheduleRequests"),{sessionId:U.id,clientId:M.id,clientName:M.name,originalDate:U.date,originalTime:U.time,requestedDate:aa(z),requestedTime:K,duration:U.duration,status:"pending",createdAt:ke.now(),respondedAt:null,dismissed:!1}),alert("Reschedule request submitted! You will be notified when your trainer responds."),Te(),W()}catch(he){console.error("Error submitting reschedule request:",he),alert("Failed to submit request. Please try again.")}I(!1)}},an=async he=>{try{await yr(fn(Fe,"rescheduleRequests",he),{dismissed:!0}),m(h.filter(Qe=>Qe.id!==he))}catch(Qe){console.error("Error dismissing notification:",Qe)}};if(we||p)return g.jsx("div",{className:"client-loading",children:"Loading..."});if(!D||!x||!M)return null;const Et=O(),Kt=M.totalSessions-Et,pn=Y(),on=w?je():[];return g.jsxs("div",{className:"client-dashboard",children:[g.jsx("header",{className:"client-header",children:g.jsx("div",{className:"header-content",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),g.jsxs("main",{className:"client-main",children:[g.jsxs("div",{className:"welcome-section",children:[g.jsxs("h2",{children:["Welcome, ",M.name.split(" ")[0]]}),g.jsx("button",{className:"logout-btn",onClick:ce,children:"Log Out"})]}),h.length>0&&g.jsx("div",{className:"notifications-section",children:h.map(he=>g.jsxs("div",{className:`notification ${he.status}`,children:[g.jsxs("div",{className:"notification-content",children:[g.jsx("span",{className:"notification-icon",children:he.status==="approved"?"":""}),g.jsxs("div",{className:"notification-text",children:[g.jsx("strong",{children:he.status==="approved"?"Reschedule Approved!":"Reschedule Declined"}),g.jsx("p",{children:he.status==="approved"?`Your session has been moved to ${ue(he.requestedDate)} at ${ye(he.requestedTime)}`:`Your request to reschedule from ${ue(he.originalDate)} was declined. Please contact your trainer.`})]})]}),g.jsx("button",{className:"dismiss-btn",onClick:()=>an(he.id),children:""})]},he.id))}),g.jsxs("div",{className:"quick-actions",children:[g.jsx("button",{className:"forms-btn",onClick:()=>xe("/client/forms"),children:"Forms & Questionnaires"}),g.jsx("button",{className:"tools-btn",onClick:()=>xe("/client/tools"),children:"Tools & Calculators"})]}),g.jsxs("div",{className:"block-info-card",children:[g.jsx("h3",{children:"Your Training Block"}),g.jsxs("div",{className:"block-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:Kt}),g.jsx("span",{className:"stat-label",children:"Sessions Remaining"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:Et}),g.jsx("span",{className:"stat-label",children:"Completed"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:M.totalSessions}),g.jsx("span",{className:"stat-label",children:"Total Package"})]})]}),g.jsxs("div",{className:"block-dates",children:[g.jsxs("div",{className:"date-item",children:[g.jsx("span",{className:"date-label",children:"Start Date"}),g.jsx("span",{className:"date-value",children:ae(M.startDate)})]}),g.jsxs("div",{className:"date-item",children:[g.jsx("span",{className:"date-label",children:"End Date"}),g.jsx("span",{className:"date-value",children:ae(M.endDate)})]}),g.jsxs("div",{className:"date-item",children:[g.jsx("span",{className:"date-label",children:"Session Duration"}),g.jsxs("span",{className:"date-value",children:[M.sessionDuration," minutes"]})]})]})]}),g.jsxs("div",{className:"sessions-section",children:[g.jsxs("h3",{children:["Upcoming Sessions (",pn.length,")"]}),pn.length===0?g.jsxs("div",{className:"no-sessions",children:[g.jsx("p",{children:"No upcoming sessions scheduled"}),g.jsx("span",{children:"Contact your trainer to book sessions"})]}):g.jsx("div",{className:"sessions-list",children:pn.map(he=>g.jsxs("div",{className:"session-card",children:[g.jsxs("div",{className:"session-info",children:[g.jsx("div",{className:"session-date",children:ue(he.date)}),g.jsxs("div",{className:"session-time",children:[ye(he.time)," (",he.duration," min)"]}),de(he.id)&&g.jsx("div",{className:"pending-badge",children:"Reschedule pending"})]}),g.jsxs("div",{className:"session-actions",children:[g.jsx("button",{className:"reschedule-btn",onClick:()=>_e(he),disabled:de(he.id),children:"Reschedule"}),g.jsx("button",{className:"cancel-btn",onClick:()=>se(he),disabled:E===he.id,children:E===he.id?"Cancelling...":"Cancel"})]})]},he.id))})]}),g.jsxs("div",{className:"completed-section",children:[g.jsxs("h3",{children:["Completed Sessions (",Et,")"]}),Et===0?g.jsx("div",{className:"no-sessions",children:g.jsx("p",{children:"No completed sessions yet"})}):g.jsxs("div",{className:"sessions-list completed",children:[s.filter(he=>le(he)).slice(-5).reverse().map(he=>g.jsxs("div",{className:"session-card completed",children:[g.jsxs("div",{className:"session-info",children:[g.jsx("div",{className:"session-date",children:ue(he.date)}),g.jsx("div",{className:"session-time",children:ye(he.time)})]}),g.jsx("span",{className:"completed-badge",children:"Completed"})]},he.id)),Et>5&&g.jsxs("div",{className:"more-sessions",children:["And ",Et-5," more completed sessions"]})]})]})]}),w&&U&&g.jsx("div",{className:"modal-overlay",onClick:Te,children:g.jsxs("div",{className:"reschedule-modal",onClick:he=>he.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h3",{children:"Reschedule Session"}),g.jsx("button",{className:"close-modal-btn",onClick:Te,children:""})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("div",{className:"current-session-info",children:g.jsxs("p",{children:["Current: ",g.jsx("strong",{children:ue(U.date)})," at ",g.jsx("strong",{children:ye(U.time)})]})}),g.jsxs("div",{className:"date-selection",children:[g.jsx("h4",{children:"Select New Date"}),on.length===0?g.jsx("p",{className:"no-dates",children:"No available dates within your training block"}):g.jsx("div",{className:"dates-grid",children:on.slice(0,14).map((he,Qe)=>g.jsxs("button",{className:`date-btn ${z&&aa(z)===aa(he)?"selected":""}`,onClick:()=>rn(he),children:[g.jsx("span",{className:"date-day",children:he.toLocaleDateString("en-GB",{weekday:"short"})}),g.jsx("span",{className:"date-num",children:he.getDate()}),g.jsx("span",{className:"date-month",children:he.toLocaleDateString("en-GB",{month:"short"})})]},Qe))})]}),z&&g.jsxs("div",{className:"time-selection",children:[g.jsx("h4",{children:"Select Time"}),ge.length===0?g.jsx("p",{className:"no-slots",children:"No available slots on this date"}):g.jsx("div",{className:"times-grid",children:ge.map((he,Qe)=>g.jsx("button",{className:`time-btn ${K===he.time?"selected":""} ${he.period}`,onClick:()=>oe(he.time),children:ye(he.time)},Qe))})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{className:"cancel-modal-btn",onClick:Te,children:"Cancel"}),g.jsx("button",{className:"submit-reschedule-btn",onClick:Yt,disabled:!z||!K||ee,children:ee?"Submitting...":"Request Reschedule"})]})]})})]})}function zO(){const[s,e]=j.useState(null),[n,r]=j.useState(!1),{currentUser:o,isClient:u,clientData:h,logout:m,loading:p}=Uo(),v=ws(),[E,S]=j.useState({fitnessGoals:"",currentActivityLevel:"",exerciseHistory:"",injuries:"",medicalConditions:"",sleepHours:"",stressLevel:"",dietaryInfo:"",availability:"",additionalInfo:""}),[w,P]=j.useState({q1HeartCondition:!1,q2ChestPain:!1,q3ChestPainLastMonth:!1,q4Balance:!1,q5BoneJoint:!1,q6BloodPressure:!1,q7OtherReason:!1,additionalDetails:"",declaration:!1});j.useEffect(()=>{!p&&(!o||!u)&&v("/")},[o,u,p,v]),j.useEffect(()=>{h?.welcomeForm&&S(h.welcomeForm),h?.parqForm&&P(h.parqForm)},[h]);const U=ge=>{const{name:G,value:ee}=ge.target;S(I=>({...I,[G]:ee}))},k=ge=>{const{name:G,type:ee,checked:I,value:C}=ge.target;P(R=>({...R,[G]:ee==="checkbox"?I:C}))},z=async()=>{r(!0);try{await yr(fn(Fe,"clients",h.id),{welcomeForm:{...E,completedAt:ke.now()}}),alert("Welcome form saved successfully!"),e(null)}catch(ge){console.error("Error saving welcome form:",ge),alert("Failed to save form. Please try again.")}r(!1)},J=async()=>{if(!w.declaration){alert("Please confirm the declaration to submit the form.");return}r(!0);try{await yr(fn(Fe,"clients",h.id),{parqForm:{...w,completedAt:ke.now()}}),alert("PAR-Q form saved successfully!"),e(null)}catch(ge){console.error("Error saving PAR-Q form:",ge),alert("Failed to save form. Please try again.")}r(!1)};if(p)return g.jsx("div",{className:"client-loading",children:"Loading..."});if(!o||!u||!h)return null;const K=!!h?.welcomeForm?.completedAt,oe=!!h?.parqForm?.completedAt;return g.jsxs("div",{className:"client-forms-page",children:[g.jsx("header",{className:"client-header",children:g.jsx("div",{className:"header-content",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),g.jsxs("main",{className:"forms-main",children:[g.jsx("button",{className:"back-btn",onClick:()=>v("/client"),children:" Back"}),s?s==="welcome"?g.jsxs("div",{className:"form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{children:"Welcome Questionnaire"}),g.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),g.jsxs("div",{className:"form-body",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"What are your main fitness goals?"}),g.jsx("textarea",{name:"fitnessGoals",value:E.fitnessGoals,onChange:U,placeholder:"e.g., Lose weight, build muscle, improve endurance, increase flexibility...",rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How would you describe your current activity level?"}),g.jsxs("select",{name:"currentActivityLevel",value:E.currentActivityLevel,onChange:U,children:[g.jsx("option",{value:"",children:"Select..."}),g.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-2 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-4 days/week)"}),g.jsx("option",{value:"active",children:"Very Active (5+ days/week)"}),g.jsx("option",{value:"athlete",children:"Athlete/Highly Active"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"What is your exercise history?"}),g.jsx("textarea",{name:"exerciseHistory",value:E.exerciseHistory,onChange:U,placeholder:"Describe your previous experience with exercise, sports, or training...",rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Do you have any current or past injuries?"}),g.jsx("textarea",{name:"injuries",value:E.injuries,onChange:U,placeholder:"List any injuries that may affect your training...",rows:"2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Do you have any medical conditions we should know about?"}),g.jsx("textarea",{name:"medicalConditions",value:E.medicalConditions,onChange:U,placeholder:"e.g., Diabetes, asthma, heart conditions...",rows:"2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How many hours of sleep do you typically get?"}),g.jsxs("select",{name:"sleepHours",value:E.sleepHours,onChange:U,children:[g.jsx("option",{value:"",children:"Select..."}),g.jsx("option",{value:"less-5",children:"Less than 5 hours"}),g.jsx("option",{value:"5-6",children:"5-6 hours"}),g.jsx("option",{value:"7-8",children:"7-8 hours"}),g.jsx("option",{value:"more-8",children:"More than 8 hours"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How would you rate your current stress level?"}),g.jsxs("select",{name:"stressLevel",value:E.stressLevel,onChange:U,children:[g.jsx("option",{value:"",children:"Select..."}),g.jsx("option",{value:"low",children:"Low"}),g.jsx("option",{value:"moderate",children:"Moderate"}),g.jsx("option",{value:"high",children:"High"}),g.jsx("option",{value:"very-high",children:"Very High"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Tell us about your diet/nutrition"}),g.jsx("textarea",{name:"dietaryInfo",value:E.dietaryInfo,onChange:U,placeholder:"Any dietary restrictions, typical eating habits, nutrition goals...",rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"What is your preferred training schedule/availability?"}),g.jsx("textarea",{name:"availability",value:E.availability,onChange:U,placeholder:"Days and times that work best for you...",rows:"2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Anything else you'd like us to know?"}),g.jsx("textarea",{name:"additionalInfo",value:E.additionalInfo,onChange:U,placeholder:"Any other information that might be helpful...",rows:"3"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),g.jsx("button",{className:"save-btn",onClick:z,disabled:n,children:n?"Saving...":"Save"})]})]})]}):g.jsxs("div",{className:"form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{children:"PAR-Q Health Screening"}),g.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),g.jsxs("div",{className:"form-body",children:[g.jsx("div",{className:"parq-intro",children:g.jsx("p",{children:"The Physical Activity Readiness Questionnaire (PAR-Q) is designed to identify those who should check with a doctor before starting an exercise program."})}),g.jsxs("div",{className:"parq-questions",children:[g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q1HeartCondition",checked:w.q1HeartCondition,onChange:k}),g.jsx("span",{children:"Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q2ChestPain",checked:w.q2ChestPain,onChange:k}),g.jsx("span",{children:"Do you feel pain in your chest when you do physical activity?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q3ChestPainLastMonth",checked:w.q3ChestPainLastMonth,onChange:k}),g.jsx("span",{children:"In the past month, have you had chest pain when you were not doing physical activity?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q4Balance",checked:w.q4Balance,onChange:k}),g.jsx("span",{children:"Do you lose your balance because of dizziness or do you ever lose consciousness?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q5BoneJoint",checked:w.q5BoneJoint,onChange:k}),g.jsx("span",{children:"Do you have a bone or joint problem that could be made worse by a change in your physical activity?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q6BloodPressure",checked:w.q6BloodPressure,onChange:k}),g.jsx("span",{children:"Is your doctor currently prescribing drugs for your blood pressure or heart condition?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q7OtherReason",checked:w.q7OtherReason,onChange:k}),g.jsx("span",{children:"Do you know of any other reason why you should not do physical activity?"})]})})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"If you answered YES to any questions, please provide details:"}),g.jsx("textarea",{name:"additionalDetails",value:w.additionalDetails,onChange:k,placeholder:"Please explain any conditions or concerns...",rows:"4"})]}),g.jsx("div",{className:"parq-declaration",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"declaration",checked:w.declaration,onChange:k}),g.jsx("span",{children:"I have read, understood and completed this questionnaire. Any questions I had were answered to my full satisfaction. I confirm that the information provided is accurate to the best of my knowledge."})]})}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),g.jsx("button",{className:"save-btn",onClick:J,disabled:n,children:n?"Saving...":"Submit"})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"forms-intro",children:[g.jsx("h2",{children:"Forms"}),g.jsx("p",{children:"Please complete these forms to help us better understand your fitness journey and ensure your safety."})]}),g.jsxs("div",{className:"forms-list",children:[g.jsxs("div",{className:`form-card ${K?"completed":""}`,children:[g.jsxs("div",{className:"form-card-info",children:[g.jsx("h3",{children:"Welcome Questionnaire"}),g.jsx("p",{children:"Tell us about your fitness goals, experience, and lifestyle."}),K&&g.jsx("span",{className:"completed-badge",children:"Completed"})]}),g.jsx("button",{onClick:()=>e("welcome"),children:K?"View / Edit":"Start"})]}),g.jsxs("div",{className:`form-card ${oe?"completed":""}`,children:[g.jsxs("div",{className:"form-card-info",children:[g.jsx("h3",{children:"PAR-Q Health Screening"}),g.jsx("p",{children:"Physical Activity Readiness Questionnaire for your safety."}),oe&&g.jsx("span",{className:"completed-badge",children:"Completed"})]}),g.jsx("button",{onClick:()=>e("parq"),children:oe?"View / Edit":"Start"})]})]})]})]})]})}function BO(){const{currentUser:s,isClient:e,clientData:n,loading:r}=Uo(),o=ws(),[u,h]=j.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",activityLevel:"moderate",goal:"maintain",deficitLevel:"moderate"}),[m,p]=j.useState(null),[v,E]=j.useState(!1);j.useEffect(()=>{!r&&(!s||!e)&&o("/")},[s,e,r,o]);const S=k=>{const{name:z,value:J}=k.target;h(K=>({...K,[z]:J})),E(!1)},w=()=>{let k=parseFloat(u.weight);u.weightUnit==="lbs"&&(k=k*.453592);let z;if(u.heightUnit==="cm")z=parseFloat(u.height);else{const we=parseFloat(u.heightFeet)||0,xe=parseFloat(u.heightInches)||0;z=we*30.48+xe*2.54}const J=parseInt(u.age);let K;u.gender==="male"?K=10*k+6.25*z-5*J+5:K=10*k+6.25*z-5*J-161;const ge=K*{sedentary:1.2,light:1.375,moderate:1.55,active:1.725,veryActive:1.9}[u.activityLevel];let G=ge,ee;switch(u.goal){case"lose":G=ge-{light:250,moderate:500,harsh:750}[u.deficitLevel],ee=2;break;case"build":G=ge+300,ee=2;break;default:ee=1.8;break}const I=u.gender==="male"?1500:1200;G=Math.max(G,I);const C=Math.round(k*ee),R=C*4,D=G*.25,x=Math.round(D/9),M=G-R-D,N=Math.round(M/4);p({bmr:Math.round(K),tdee:Math.round(ge),targetCalories:Math.round(G),protein:C,carbs:N,fats:x,proteinCalories:Math.round(R),carbCalories:Math.round(M),fatCalories:Math.round(D)}),E(!0)},P=()=>{const k=u.weight&&parseFloat(u.weight)>0,z=u.age&&parseInt(u.age)>0;let J;return u.heightUnit==="cm"?J=u.height&&parseFloat(u.height)>0:J=u.heightFeet&&parseFloat(u.heightFeet)>0||u.heightInches&&parseFloat(u.heightInches)>0,k&&z&&J},U=()=>{switch(u.goal){case"lose":return"Weight Loss";case"build":return"Muscle Building";default:return"Maintenance"}};return r?g.jsx("div",{className:"client-loading",children:"Loading..."}):!s||!e||!n?null:g.jsxs("div",{className:"client-tools-page",children:[g.jsx("header",{className:"client-header",children:g.jsx("div",{className:"header-content",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),g.jsxs("main",{className:"tools-main",children:[g.jsx("button",{className:"back-btn",onClick:()=>o("/client"),children:" Back"}),g.jsxs("div",{className:"tools-intro",children:[g.jsx("h2",{children:"Tools"}),g.jsx("p",{children:"Use these tools to help plan your nutrition and track your progress."})]}),g.jsxs("div",{className:"tool-card",children:[g.jsxs("div",{className:"tool-header",children:[g.jsx("h3",{children:"Macro Calculator"}),g.jsx("p",{children:"Calculate your daily calorie and macro targets based on your goals."})]}),g.jsxs("div",{className:"calculator-form",children:[g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Gender"}),g.jsxs("div",{className:"toggle-group",children:[g.jsx("button",{type:"button",className:u.gender==="male"?"active":"",onClick:()=>{h(k=>({...k,gender:"male"})),E(!1)},children:"Male"}),g.jsx("button",{type:"button",className:u.gender==="female"?"active":"",onClick:()=>{h(k=>({...k,gender:"female"})),E(!1)},children:"Female"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Age"}),g.jsx("input",{type:"number",name:"age",value:u.age,onChange:S,placeholder:"Years",min:"15",max:"100"})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Weight"}),g.jsxs("div",{className:"input-with-unit",children:[g.jsx("input",{type:"number",name:"weight",value:u.weight,onChange:S,placeholder:u.weightUnit==="kg"?"kg":"lbs",min:"30",max:"300"}),g.jsxs("div",{className:"unit-toggle",children:[g.jsx("button",{type:"button",className:u.weightUnit==="kg"?"active":"",onClick:()=>{h(k=>({...k,weightUnit:"kg"})),E(!1)},children:"kg"}),g.jsx("button",{type:"button",className:u.weightUnit==="lbs"?"active":"",onClick:()=>{h(k=>({...k,weightUnit:"lbs"})),E(!1)},children:"lbs"})]})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Height"}),g.jsxs("div",{className:"input-with-unit",children:[u.heightUnit==="cm"?g.jsx("input",{type:"number",name:"height",value:u.height,onChange:S,placeholder:"cm",min:"100",max:"250"}):g.jsxs("div",{className:"height-imperial",children:[g.jsx("input",{type:"number",name:"heightFeet",value:u.heightFeet,onChange:S,placeholder:"ft",min:"4",max:"7"}),g.jsx("input",{type:"number",name:"heightInches",value:u.heightInches,onChange:S,placeholder:"in",min:"0",max:"11"})]}),g.jsxs("div",{className:"unit-toggle",children:[g.jsx("button",{type:"button",className:u.heightUnit==="cm"?"active":"",onClick:()=>{h(k=>({...k,heightUnit:"cm"})),E(!1)},children:"cm"}),g.jsx("button",{type:"button",className:u.heightUnit==="ft"?"active":"",onClick:()=>{h(k=>({...k,heightUnit:"ft"})),E(!1)},children:"ft/in"})]})]})]})]}),g.jsxs("div",{className:"form-group full-width",children:[g.jsx("label",{children:"Activity Level"}),g.jsxs("select",{name:"activityLevel",value:u.activityLevel,onChange:S,children:[g.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),g.jsx("option",{value:"active",children:"Very Active (6-7 days/week)"}),g.jsx("option",{value:"veryActive",children:"Extra Active (athlete/physical job)"})]})]}),g.jsxs("div",{className:"form-group full-width",children:[g.jsx("label",{children:"Fitness Goal"}),g.jsxs("div",{className:"goal-options",children:[g.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="lose"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"lose"})),E(!1)},children:[g.jsx("span",{className:"goal-icon",children:"-"}),g.jsx("span",{children:"Lose Weight"})]}),g.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="maintain"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"maintain"})),E(!1)},children:[g.jsx("span",{className:"goal-icon",children:"="}),g.jsx("span",{children:"Maintain"})]}),g.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="build"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"build"})),E(!1)},children:[g.jsx("span",{className:"goal-icon",children:"+"}),g.jsx("span",{children:"Build Muscle"})]})]})]}),u.goal==="lose"&&g.jsxs("div",{className:"form-group full-width deficit-section",children:[g.jsx("label",{children:"Calorie Deficit Level"}),g.jsxs("div",{className:"deficit-options",children:[g.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="light"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"light"})),E(!1)},children:[g.jsx("span",{className:"deficit-name",children:"Light"}),g.jsx("span",{className:"deficit-desc",children:"-250 cal/day"}),g.jsx("span",{className:"deficit-rate",children:"~0.5 lb/week"})]}),g.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="moderate"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"moderate"})),E(!1)},children:[g.jsx("span",{className:"deficit-name",children:"Moderate"}),g.jsx("span",{className:"deficit-desc",children:"-500 cal/day"}),g.jsx("span",{className:"deficit-rate",children:"~1 lb/week"})]}),g.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="harsh"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"harsh"})),E(!1)},children:[g.jsx("span",{className:"deficit-name",children:"Aggressive"}),g.jsx("span",{className:"deficit-desc",children:"-750 cal/day"}),g.jsx("span",{className:"deficit-rate",children:"~1.5 lb/week"})]})]})]}),g.jsx("button",{className:"calculate-btn",onClick:w,disabled:!P(),children:"Calculate Macros"})]}),v&&m&&g.jsxs("div",{className:"results-section",children:[g.jsxs("div",{className:"results-header",children:[g.jsx("h4",{children:"Your Daily Targets"}),g.jsx("span",{className:"goal-badge",children:U()})]}),g.jsxs("div",{className:"calories-display",children:[g.jsx("span",{className:"calories-value",children:m.targetCalories}),g.jsx("span",{className:"calories-label",children:"calories/day"})]}),g.jsxs("div",{className:"macros-grid",children:[g.jsxs("div",{className:"macro-card protein",children:[g.jsxs("div",{className:"macro-value",children:[m.protein,"g"]}),g.jsx("div",{className:"macro-label",children:"Protein"}),g.jsxs("div",{className:"macro-calories",children:[m.proteinCalories," cal"]})]}),g.jsxs("div",{className:"macro-card carbs",children:[g.jsxs("div",{className:"macro-value",children:[m.carbs,"g"]}),g.jsx("div",{className:"macro-label",children:"Carbs"}),g.jsxs("div",{className:"macro-calories",children:[m.carbCalories," cal"]})]}),g.jsxs("div",{className:"macro-card fats",children:[g.jsxs("div",{className:"macro-value",children:[m.fats,"g"]}),g.jsx("div",{className:"macro-label",children:"Fats"}),g.jsxs("div",{className:"macro-calories",children:[m.fatCalories," cal"]})]})]}),g.jsxs("div",{className:"results-info",children:[g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Basal Metabolic Rate (BMR)"}),g.jsxs("span",{children:[m.bmr," cal"]})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Total Daily Energy Expenditure (TDEE)"}),g.jsxs("span",{children:[m.tdee," cal"]})]})]}),g.jsx("div",{className:"results-note",children:g.jsx("p",{children:"These are estimated values. Individual results may vary based on metabolism, body composition, and other factors. Consult with your trainer for personalized guidance."})})]})]})]})]})}function qO(){const s=ws();return j.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";s(n,{replace:!0})}},[s]),null}function HO(){return g.jsx(yO,{children:g.jsxs(j1,{basename:"/login",children:[g.jsx(qO,{}),g.jsxs(f1,{children:[g.jsx(rr,{path:"/",element:g.jsx(vO,{})}),g.jsx(rr,{path:"/dashboard",element:g.jsx(OO,{})}),g.jsx(rr,{path:"/add-client",element:g.jsx(MO,{})}),g.jsx(rr,{path:"/client",element:g.jsx(UO,{})}),g.jsx(rr,{path:"/client/forms",element:g.jsx(zO,{})}),g.jsx(rr,{path:"/client/tools",element:g.jsx(BO,{})}),g.jsx(rr,{path:"*",element:g.jsx(c1,{to:"/",replace:!0})})]})]})})}mw.createRoot(document.getElementById("root")).render(g.jsx(j.StrictMode,{children:g.jsx(HO,{})}));
