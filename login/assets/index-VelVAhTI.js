(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var sm={exports:{}},Ml={};var Cv;function Qb(){if(Cv)return Ml;Cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Iv;function Xb(){return Iv||(Iv=1,sm.exports=Qb()),sm.exports}var C=Xb(),am={exports:{}},Ce={};var Dv;function Jb(){if(Dv)return Ce;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function se(D,K,re){this.props=D,this.context=K,this.refs=G,this.updater=re||j}se.prototype.isReactComponent={},se.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},se.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=se.prototype;function oe(D,K,re){this.props=D,this.context=K,this.refs=G,this.updater=re||j}var Te=oe.prototype=new W;Te.constructor=oe,F(Te,se.prototype),Te.isPureReactComponent=!0;var Q=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(D,K,re){var ue=re.ref;return{$$typeof:r,type:D,key:K,ref:ue!==void 0?ue:null,props:re}}function M(D,K){return R(D.type,K,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return K[re]})}var N=/\/+/g;function $e(D,K){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):K.toString(36)}function st(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ie,ie):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function X(D,K,re,ue,de){var ge=typeof D;(ge==="undefined"||ge==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case r:case e:Se=!0;break;case E:return Se=D._init,X(Se(D._payload),K,re,ue,de)}}if(Se)return de=de(D),Se=ue===""?"."+$e(D,0):ue,Q(de)?(re="",Se!=null&&(re=Se.replace(N,"$&/")+"/"),X(de,K,re,"",function(on){return on})):de!=null&&(x(de)&&(de=M(de,re+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(N,"$&/")+"/")+Se)),K.push(de)),1;Se=0;var Ge=ue===""?".":ue+":";if(Q(D))for(var Ve=0;Ve<D.length;Ve++)ue=D[Ve],ge=Ge+$e(ue,Ve),Se+=X(ue,K,re,ge,de);else if(Ve=L(D),typeof Ve=="function")for(D=Ve.call(D),Ve=0;!(ue=D.next()).done;)ue=ue.value,ge=Ge+$e(ue,Ve++),Se+=X(ue,K,re,ge,de);else if(ge==="object"){if(typeof D.then=="function")return X(st(D),K,re,ue,de);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ce(D,K,re){if(D==null)return D;var ue=[],de=0;return X(D,ue,"","",function(ge){return K.call(re,ge,de++)}),ue}function _e(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},le={map:ce,forEach:function(D,K,re){ce(D,function(){K.apply(this,arguments)},re)},count:function(D){var K=0;return ce(D,function(){K++}),K},toArray:function(D){return ce(D,function(K){return K})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ce.Activity=S,Ce.Children=le,Ce.Component=se,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=oe,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(D,K,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=F({},D.props),de=D.key;if(K!=null)for(ge in K.key!==void 0&&(de=""+K.key),K)!w.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(ue[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)ue.children=re;else if(1<ge){for(var Se=Array(ge),Ge=0;Ge<ge;Ge++)Se[Ge]=arguments[Ge+2];ue.children=Se}return R(D.type,de,ue)},Ce.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,K,re){var ue,de={},ge=null;if(K!=null)for(ue in K.key!==void 0&&(ge=""+K.key),K)w.call(K,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(de[ue]=K[ue]);var Se=arguments.length-2;if(Se===1)de.children=re;else if(1<Se){for(var Ge=Array(Se),Ve=0;Ve<Se;Ve++)Ge[Ve]=arguments[Ve+2];de.children=Ge}if(D&&D.defaultProps)for(ue in Se=D.defaultProps,Se)de[ue]===void 0&&(de[ue]=Se[ue]);return R(D,ge,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=x,Ce.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:_e}},Ce.memo=function(D,K){return{$$typeof:y,type:D,compare:K===void 0?null:K}},Ce.startTransition=function(D){var K=I.T,re={};I.T=re;try{var ue=D(),de=I.S;de!==null&&de(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,ae)}catch(ge){ae(ge)}finally{K!==null&&re.types!==null&&(K.types=re.types),I.T=K}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(D){return I.H.use(D)},Ce.useActionState=function(D,K,re){return I.H.useActionState(D,K,re)},Ce.useCallback=function(D,K){return I.H.useCallback(D,K)},Ce.useContext=function(D){return I.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,K){return I.H.useDeferredValue(D,K)},Ce.useEffect=function(D,K){return I.H.useEffect(D,K)},Ce.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(D,K,re){return I.H.useImperativeHandle(D,K,re)},Ce.useInsertionEffect=function(D,K){return I.H.useInsertionEffect(D,K)},Ce.useLayoutEffect=function(D,K){return I.H.useLayoutEffect(D,K)},Ce.useMemo=function(D,K){return I.H.useMemo(D,K)},Ce.useOptimistic=function(D,K){return I.H.useOptimistic(D,K)},Ce.useReducer=function(D,K,re){return I.H.useReducer(D,K,re)},Ce.useRef=function(D){return I.H.useRef(D)},Ce.useState=function(D){return I.H.useState(D)},Ce.useSyncExternalStore=function(D,K,re){return I.H.useSyncExternalStore(D,K,re)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.4",Ce}var Nv;function sp(){return Nv||(Nv=1,am.exports=Jb()),am.exports}var U=sp(),om={exports:{}},Vl={},lm={exports:{}},um={};var Ov;function Wb(){return Ov||(Ov=1,(function(r){function e(X,ce){var _e=X.length;X.push(ce);e:for(;0<_e;){var ae=_e-1>>>1,le=X[ae];if(0<o(le,ce))X[ae]=ce,X[_e]=le,_e=ae;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ce=X[0],_e=X.pop();if(_e!==ce){X[0]=_e;e:for(var ae=0,le=X.length,D=le>>>1;ae<D;){var K=2*(ae+1)-1,re=X[K],ue=K+1,de=X[ue];if(0>o(re,_e))ue<le&&0>o(de,re)?(X[ae]=de,X[ue]=_e,ae=ue):(X[ae]=re,X[K]=_e,ae=K);else if(ue<le&&0>o(de,_e))X[ae]=de,X[ue]=_e,ae=ue;else break e}}return ce}function o(X,ce){var _e=X.sortIndex-ce.sortIndex;return _e!==0?_e:X.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,b=3,L=!1,j=!1,F=!1,G=!1,se=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Te(X){for(var ce=n(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=X)s(y),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(y)}}function Q(X){if(F=!1,Te(X),!j)if(n(p)!==null)j=!0,ie||(ie=!0,k());else{var ce=n(y);ce!==null&&st(Q,ce.startTime-X)}}var ie=!1,I=-1,w=5,R=-1;function M(){return G?!0:!(r.unstable_now()-R<w)}function x(){if(G=!1,ie){var X=r.unstable_now();R=X;var ce=!0;try{e:{j=!1,F&&(F=!1,W(I),I=-1),L=!0;var _e=b;try{t:{for(Te(X),S=n(p);S!==null&&!(S.expirationTime>X&&M());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,b=S.priorityLevel;var le=ae(S.expirationTime<=X);if(X=r.unstable_now(),typeof le=="function"){S.callback=le,Te(X),ce=!0;break t}S===n(p)&&s(p),Te(X)}else s(p);S=n(p)}if(S!==null)ce=!0;else{var D=n(y);D!==null&&st(Q,D.startTime-X),ce=!1}}break e}finally{S=null,b=_e,L=!1}ce=void 0}}finally{ce?k():ie=!1}}}var k;if(typeof oe=="function")k=function(){oe(x)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$e=N.port2;N.port1.onmessage=x,k=function(){$e.postMessage(null)}}else k=function(){se(x,0)};function st(X,ce){I=se(function(){X(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var _e=b;b=ce;try{return X()}finally{b=_e}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=b;b=X;try{return ce()}finally{b=_e}},r.unstable_scheduleCallback=function(X,ce,_e){var ae=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ae+_e:ae):_e=ae,X){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=_e+le,X={id:E++,callback:ce,priorityLevel:X,startTime:_e,expirationTime:le,sortIndex:-1},_e>ae?(X.sortIndex=_e,e(y,X),n(p)===null&&X===n(y)&&(F?(W(I),I=-1):F=!0,st(Q,_e-ae))):(X.sortIndex=le,e(p,X),j||L||(j=!0,ie||(ie=!0,k()))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var ce=b;return function(){var _e=b;b=ce;try{return X.apply(this,arguments)}finally{b=_e}}}})(um)),um}var xv;function Zb(){return xv||(xv=1,lm.exports=Wb()),lm.exports}var cm={exports:{}},Xt={};var Mv;function ew(){if(Mv)return Xt;Mv=1;var r=sp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Xt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var Vv;function tw(){if(Vv)return cm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=ew(),cm.exports}var kv;function nw(){if(kv)return Vl;kv=1;var r=Zb(),e=sp(),n=tw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case se:return"Profiler";case G:return"StrictMode";case Q:return"Suspense";case ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case oe:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case Te:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:$e(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return $e(t(i))}catch{}}return null}var st=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ae=[],le=-1;function D(t){return{current:t}}function K(t){0>le||(t.current=ae[le],ae[le]=null,le--)}function re(t,i){le++,ae[le]=t.current,t.current=i}var ue=D(null),de=D(null),ge=D(null),Se=D(null);function Ge(t,i){switch(re(ge,i),re(de,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?X_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=X_(i),t=J_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ue),re(ue,t)}function Ve(){K(ue),K(de),K(ge)}function on(t){t.memoizedState!==null&&re(Se,t);var i=ue.current,a=J_(i,t.type);i!==a&&(re(de,t),re(ue,a))}function tn(t){de.current===t&&(K(ue),K(de)),Se.current===t&&(K(Se),Dl._currentValue=_e)}var ln,un;function nn(t){if(ln===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ln=i&&i[1]||"",un=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+t+un}var Kn=!1;function En(t,i){if(!t||Kn)return"";Kn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var H=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){H=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){H=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var O=_.split(`
`),q=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Kn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?nn(a):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return nn(t.type);case 16:return nn("Lazy");case 13:return t.child!==i&&i!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return En(t.type,!1);case 11:return En(t.type.render,!1);case 1:return En(t.type,!0);case 31:return nn("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=No(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,of=r.unstable_shouldYield,Au=r.unstable_requestPaint,rn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,xo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,lf=r.unstable_LowPriority,bu=r.unstable_IdlePriority,wu=r.log,Ru=r.unstable_setDisableYieldValue,Yn=null,Bt=null;function xn(t){if(typeof wu=="function"&&Ru(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Yn,t)}catch{}}var pt=Math.clz32?Math.clz32:Iu,Cu=Math.log,oa=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/oa|0)|0}var di=256,Ts=262144,Tt=4194304;function mi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=mi(l):(_&=T,_!==0?h=mi(_):a||(a=T&~t,a!==0&&(h=mi(a))))):(T=l&~d,T!==0?h=mi(T):_!==0?h=mi(_):a||(a=l&~t,a!==0&&(h=mi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $n(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function gi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-pt(a),ee=1<<J;T[J]=0,O[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var $=H[J];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&As(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(t.suspendedLanes|i))!==0?0:a}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function Qn(t,i){var a=ce.p;try{return ce.p=t,i()}finally{ce.p=a}}var Xn=Math.random().toString(36).slice(2),St="__reactFiber$"+Xn,Pt="__reactProps$"+Xn,yi="__reactContainer$"+Xn,la="__reactEvents$"+Xn,hf="__reactListeners$"+Xn,Ou="__reactHandles$"+Xn,xu="__reactResources$"+Xn,_i="__reactMarker$"+Xn;function ua(t){delete t[St],delete t[Pt],delete t[la],delete t[hf],delete t[Ou]}function vi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=rv(t);t!==null;){if(a=t[St])return a;t=rv(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[St]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ei(t){var i=t[xu];return i||(i=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[_i]=!0}var Lo=new Set,Po={};function Ti(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(Po[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function Mu(t){return Et.call(zo,t)?!0:Et.call(jo,t)?!1:Uo.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function ca(t,i,a){if(Mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Bo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function cn(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Ut(i)):a!=null?qo(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function Vu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function qo(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ku(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function Sr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Lu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Go=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,bi=null;function Cs(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ws(l)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var ma=!1;function wr(t,i,a){if(ma)return t(i,a);ma=!0;try{var l=t(i);return l}finally{if(ma=!1,(br!==null||bi!==null)&&(Nc(),br&&(i=br,t=bi,bi=br=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function Wn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Is=!1}var wi=null,Ko=null,Ds=null;function Yo(){if(Ds)return Ds;var t,i=Ko,a=i.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ds=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Zn(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Zn,this.isPropagationStopped=Zn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=qt(Gi),Rr=S({},Gi,{view:0,detail:0}),$o=qt(Rr),Cr,pa,Ci,ga=S({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Cr=t.screenX-Ci.screenX,pa=t.screenY-Ci.screenY):pa=Cr=0,Ci=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Qo=qt(ga),Os=S({},ga,{dataTransfer:0}),Uu=qt(Os),ju=S({},Rr,{relatedTarget:0}),xs=qt(ju),Xo=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=qt(Xo),ya=S({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=qt(ya),qu=S({},Gi,{data:0}),Ii=qt(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Ir(){return Ku}var sn=S({},Rr,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yu=qt(sn),$u=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=qt($u),c=S({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),g=qt(c),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(v),z=S({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=qt(z),he=S({},Gi,{newState:0,oldState:0}),De=qt(he),gt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var Ln=kn&&"TextEvent"in window&&!lt,Di=kn&&(!Ke||lt&&8<lt&&11>=lt),ei=" ",ti=!1;function Ms(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function vA(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function EA(t,i){if(va)return t==="compositionend"||!Ke&&Ms(t,i)?(t=Yo(),Ds=Ko=wi=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var TA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!TA[t.type]:i==="textarea"}function lg(t,i,a,l){br?bi?bi.push(l):bi=[l]:br=l,i=Pc(i,"onChange"),0<i.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Jo=null,Wo=null;function SA(t){F_(t,0)}function Qu(t){var i=Tn(t);if(ws(i))return t}function ug(t,i){if(t==="change")return i}var cg=!1;if(kn){var ff;if(kn){var df="oninput"in document;if(!df){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),df=typeof hg.oninput=="function"}ff=df}else ff=!1;cg=ff&&(!document.documentMode||9<document.documentMode)}function fg(){Jo&&(Jo.detachEvent("onpropertychange",dg),Wo=Jo=null)}function dg(t){if(t.propertyName==="value"&&Qu(Wo)){var i=[];lg(i,Wo,t,Vn(t)),wr(SA,i)}}function AA(t,i,a){t==="focusin"?(fg(),Jo=i,Wo=a,Jo.attachEvent("onpropertychange",dg)):t==="focusout"&&fg()}function bA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(Wo)}function wA(t,i){if(t==="click")return Qu(i)}function RA(t,i){if(t==="input"||t==="change")return Qu(i)}function CA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:CA;function Zo(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!An(t[h],i[h]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,i){var a=mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mg(a)}}function gg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?gg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var IA=kn&&"documentMode"in document&&11>=document.documentMode,Ea=null,pf=null,el=null,gf=!1;function _g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Ea==null||Ea!==Ai(l)||(l=Ea,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=Pc(pf,"onSelect"),0<l.length&&(i=new Ri("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},yf={},vg={};kn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ks(t){if(yf[t])return yf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in vg)return yf[t]=i[a];return t}var Eg=ks("animationend"),Tg=ks("animationiteration"),Sg=ks("animationstart"),DA=ks("transitionrun"),NA=ks("transitionstart"),OA=ks("transitioncancel"),Ag=ks("transitionend"),bg=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function ni(t,i){bg.set(t,i),Ti(i,[t])}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Sa=0,vf=0;function Ju(){for(var t=Sa,i=vf=Sa=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Wu(t,i,a,l){Pn[Sa++]=t,Pn[Sa++]=i,Pn[Sa++]=a,Pn[Sa++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,i,a,l){return Wu(t,i,a,l),Zu(t)}function Ls(t,i){return Wu(t,null,null,i),Zu(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(t){if(50<Sl)throw Sl=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function xA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new xA(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Tf(t)&&(_=1);else if(typeof t=="string")_=Pb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,i,h),t.elementType=R,t.lanes=d,t;case F:return Ps(a.children,h,d,i);case G:_=8,h|=24;break;case se:return t=bn(12,a,i,h|2),t.elementType=se,t.lanes=d,t;case Q:return t=bn(13,a,i,h),t.elementType=Q,t.lanes=d,t;case ie:return t=bn(19,a,i,h),t.elementType=ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case W:_=9;break e;case Te:_=11;break e;case I:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function Sf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Cg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function Af(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ig=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=Ig.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Ig.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var ba=[],wa=0,tc=null,tl=0,jn=[],zn=0,Dr=null,Ni=1,Oi="";function $i(t,i){ba[wa++]=tl,ba[wa++]=tc,tc=t,tl=i}function Dg(t,i,a){jn[zn++]=Ni,jn[zn++]=Oi,jn[zn++]=Dr,Dr=t;var l=Ni;t=Oi;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-pt(i)+h|a<<h|l,Oi=d+t}else Ni=1<<d|a<<h|l,Oi=t}function bf(t){t.return!==null&&($i(t,1),Dg(t,1,0))}function wf(t){for(;t===tc;)tc=ba[--wa],ba[wa]=null,tl=ba[--wa],ba[wa]=null;for(;t===Dr;)Dr=jn[--zn],jn[zn]=null,Oi=jn[--zn],jn[zn]=null,Ni=jn[--zn],jn[zn]=null}function Ng(t,i){jn[zn++]=Ni,jn[zn++]=Oi,jn[zn++]=Dr,Ni=i.id,Oi=i.overflow,Dr=t}var Ht=null,at=null,ze=!1,Nr=null,Bn=!1,Rf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Un(i,t)),Rf}function Og(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Pt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)Me(bl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||$_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Or(t,!0)}function xg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ht=Ht.return}}function Ra(t){if(t!==Ht)return!1;if(!ze)return xg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&at&&Or(t),xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=iv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=iv(t)}else i===27?(i=at,Gr(t.type)?(t=Qd,Qd=null,at=t):at=i):at=Ht?Hn(t.stateNode.nextSibling):null;return!0}function Us(){at=Ht=null,ze=!1}function Cf(){var t=Nr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Nr=null),t}function nl(t){Nr===null?Nr=[t]:Nr.push(t)}var If=D(null),js=null,Qi=null;function xr(t,i,a){re(If,i._currentValue),i._currentValue=a}function Xi(t){t._currentValue=If.current,K(If)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;An(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Mg(js,t)}function ic(t,i){return js===null&&zs(t),Mg(t,i)}function Mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var MA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},VA=r.unstable_scheduleCallback,kA=r.unstable_NormalPriority,wt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new MA,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&VA(kA,function(){t.controller.abort()})}var rl=null,xf=0,Ia=0,Da=null;function LA(t,i){if(rl===null){var a=rl=[];xf=0,Ia=kd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,i.then(Vg,Vg),i}function Vg(){if(--xf===0&&rl!==null){Da!==null&&(Da.status="fulfilled");var t=rl;rl=null,Ia=0,Da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function PA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=X.S;X.S=function(t,i){__=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&LA(t,i),kg!==null&&kg(t,i)};var Bs=D(null);function Mf(){var t=Bs.current;return t!==null?t:it.pooledCache}function rc(t,i){i===null?re(Bs,Bs.current):re(Bs,i.pool)}function Lg(){var t=Mf();return t===null?null:{parent:wt._currentValue,pool:t}}var Na=Error(s(460)),Vf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t}throw Hs=i,Na}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Na):a}}var Hs=null;function jg(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function zg(t){if(t===Na||t===sc)throw Error(s(483))}var Oa=null,sl=0;function oc(t){var i=sl;return sl+=1,Oa===null&&(Oa=[]),Ug(Oa,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Bg(t){function i(P,V){if(t){var B=P.deletions;B===null?(P.deletions=[V],P.flags|=16):B.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Yi(P,V),P.index=0,P.sibling=null,P}function d(P,V,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<V?(P.flags|=67108866,V):B):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,B,Z){return V===null||V.tag!==6?(V=Sf(B,P.mode,Z),V.return=P,V):(V=h(V,B),V.return=P,V)}function O(P,V,B,Z){var ve=B.type;return ve===F?J(P,V,B.props.children,Z,B.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&qs(ve)===V.type)?(V=h(V,B.props),al(V,B),V.return=P,V):(V=ec(B.type,B.key,B.props,null,P.mode,Z),al(V,B),V.return=P,V)}function q(P,V,B,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Af(B,P.mode,Z),V.return=P,V):(V=h(V,B.children||[]),V.return=P,V)}function J(P,V,B,Z,ve){return V===null||V.tag!==7?(V=Ps(B,P.mode,Z,ve),V.return=P,V):(V=h(V,B),V.return=P,V)}function ee(P,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sf(""+V,P.mode,B),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return B=ec(V.type,V.key,V.props,null,P.mode,B),al(B,V),B.return=P,B;case j:return V=Af(V,P.mode,B),V.return=P,V;case w:return V=qs(V),ee(P,V,B)}if(st(V)||k(V))return V=Ps(V,P.mode,B,null),V.return=P,V;if(typeof V.then=="function")return ee(P,oc(V),B);if(V.$$typeof===oe)return ee(P,ic(P,V),B);lc(P,V)}return null}function H(P,V,B,Z){var ve=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ve!==null?null:T(P,V,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===ve?O(P,V,B,Z):null;case j:return B.key===ve?q(P,V,B,Z):null;case w:return B=qs(B),H(P,V,B,Z)}if(st(B)||k(B))return ve!==null?null:J(P,V,B,Z,null);if(typeof B.then=="function")return H(P,V,oc(B),Z);if(B.$$typeof===oe)return H(P,V,ic(P,B),Z);lc(P,B)}return null}function $(P,V,B,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(B)||null,T(V,P,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return P=P.get(Z.key===null?B:Z.key)||null,O(V,P,Z,ve);case j:return P=P.get(Z.key===null?B:Z.key)||null,q(V,P,Z,ve);case w:return Z=qs(Z),$(P,V,B,Z,ve)}if(st(Z)||k(Z))return P=P.get(B)||null,J(V,P,Z,ve,null);if(typeof Z.then=="function")return $(P,V,B,oc(Z),ve);if(Z.$$typeof===oe)return $(P,V,B,ic(V,Z),ve);lc(V,Z)}return null}function pe(P,V,B,Z){for(var ve=null,He=null,ye=V,Oe=V=0,Le=null;ye!==null&&Oe<B.length;Oe++){ye.index>Oe?(Le=ye,ye=null):Le=ye.sibling;var Fe=H(P,ye,B[Oe],Z);if(Fe===null){ye===null&&(ye=Le);break}t&&ye&&Fe.alternate===null&&i(P,ye),V=d(Fe,V,Oe),He===null?ve=Fe:He.sibling=Fe,He=Fe,ye=Le}if(Oe===B.length)return a(P,ye),ze&&$i(P,Oe),ve;if(ye===null){for(;Oe<B.length;Oe++)ye=ee(P,B[Oe],Z),ye!==null&&(V=d(ye,V,Oe),He===null?ve=ye:He.sibling=ye,He=ye);return ze&&$i(P,Oe),ve}for(ye=l(ye);Oe<B.length;Oe++)Le=$(ye,P,Oe,B[Oe],Z),Le!==null&&(t&&Le.alternate!==null&&ye.delete(Le.key===null?Oe:Le.key),V=d(Le,V,Oe),He===null?ve=Le:He.sibling=Le,He=Le);return t&&ye.forEach(function(Xr){return i(P,Xr)}),ze&&$i(P,Oe),ve}function Ae(P,V,B,Z){if(B==null)throw Error(s(151));for(var ve=null,He=null,ye=V,Oe=V=0,Le=null,Fe=B.next();ye!==null&&!Fe.done;Oe++,Fe=B.next()){ye.index>Oe?(Le=ye,ye=null):Le=ye.sibling;var Xr=H(P,ye,Fe.value,Z);if(Xr===null){ye===null&&(ye=Le);break}t&&ye&&Xr.alternate===null&&i(P,ye),V=d(Xr,V,Oe),He===null?ve=Xr:He.sibling=Xr,He=Xr,ye=Le}if(Fe.done)return a(P,ye),ze&&$i(P,Oe),ve;if(ye===null){for(;!Fe.done;Oe++,Fe=B.next())Fe=ee(P,Fe.value,Z),Fe!==null&&(V=d(Fe,V,Oe),He===null?ve=Fe:He.sibling=Fe,He=Fe);return ze&&$i(P,Oe),ve}for(ye=l(ye);!Fe.done;Oe++,Fe=B.next())Fe=$(ye,P,Oe,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Oe:Fe.key),V=d(Fe,V,Oe),He===null?ve=Fe:He.sibling=Fe,He=Fe);return t&&ye.forEach(function($b){return i(P,$b)}),ze&&$i(P,Oe),ve}function nt(P,V,B,Z){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var ve=B.key;V!==null;){if(V.key===ve){if(ve=B.type,ve===F){if(V.tag===7){a(P,V.sibling),Z=h(V,B.props.children),Z.return=P,P=Z;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&qs(ve)===V.type){a(P,V.sibling),Z=h(V,B.props),al(Z,B),Z.return=P,P=Z;break e}a(P,V);break}else i(P,V);V=V.sibling}B.type===F?(Z=Ps(B.props.children,P.mode,Z,B.key),Z.return=P,P=Z):(Z=ec(B.type,B.key,B.props,null,P.mode,Z),al(Z,B),Z.return=P,P=Z)}return _(P);case j:e:{for(ve=B.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(P,V.sibling),Z=h(V,B.children||[]),Z.return=P,P=Z;break e}else{a(P,V);break}else i(P,V);V=V.sibling}Z=Af(B,P.mode,Z),Z.return=P,P=Z}return _(P);case w:return B=qs(B),nt(P,V,B,Z)}if(st(B))return pe(P,V,B,Z);if(k(B)){if(ve=k(B),typeof ve!="function")throw Error(s(150));return B=ve.call(B),Ae(P,V,B,Z)}if(typeof B.then=="function")return nt(P,V,oc(B),Z);if(B.$$typeof===oe)return nt(P,V,ic(P,B),Z);lc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(P,V.sibling),Z=h(V,B),Z.return=P,P=Z):(a(P,V),Z=Sf(B,P.mode,Z),Z.return=P,P=Z),_(P)):a(P,V)}return function(P,V,B,Z){try{sl=0;var ve=nt(P,V,B,Z);return Oa=null,ve}catch(ye){if(ye===Na||ye===sc)throw ye;var He=bn(29,ye,null,P.mode);return He.lanes=Z,He.return=P,He}}}var Fs=Bg(!0),qg=Bg(!1),Mr=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(t),wg(t,null,a),i}return Wu(t,l,i,a),Zu(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function Pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function ll(){if(Uf){var t=Da;if(t!==null)throw t}}function ul(t,i,a,l){Uf=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,q=O.next;O.next=null,_===null?d=q:_.next=q,_=O;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=O))}if(d!==null){var ee=h.baseState;_=0,J=q=O=null,T=d;do{var H=T.lane&-536870913,$=H!==T.lane;if($?(ke&H)===H:(l&H)===H){H!==0&&H===Ia&&(Uf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Ae=T;H=i;var nt=a;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){ee=pe.call(nt,ee,H);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,H=typeof pe=="function"?pe.call(nt,ee,H):pe,H==null)break e;ee=S({},ee,H);break e;case 2:Mr=!0}}H=T.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=$,O=ee):J=J.next=$,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);J===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=ee}}function Hg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Fg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],i)}var xa=D(null),uc=D(0);function Gg(t,i){t=sr,re(uc,t),re(xa,i),sr=t|i.baseLanes}function jf(){re(uc,sr),re(xa,xa.current)}function zf(){sr=uc.current,K(xa),K(uc)}var wn=D(null),qn=null;function Lr(t){var i=t.alternate;re(yt,yt.current&1),re(wn,t),qn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(qn=t)}function Bf(t){re(yt,yt.current),re(wn,t),qn===null&&(qn=t)}function Kg(t){t.tag===22?(re(yt,yt.current),re(wn,t),qn===null&&(qn=t)):Pr()}function Pr(){re(yt,yt.current),re(wn,wn.current)}function Rn(t){K(wn),qn===t&&(qn=null),K(yt)}var yt=D(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||$d(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Ne=null,et=null,Rt=null,hc=!1,Ma=!1,Gs=!1,fc=0,cl=0,Va=null,UA=0;function ft(){throw Error(s(321))}function qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,h,d){return Ji=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Dy:rd,Gs=!1,d=a(l,h),Gs=!1,Ma&&(d=$g(i,a,l,h)),Yg(t),d}function Yg(t){X.H=dl;var i=et!==null&&et.next!==null;if(Ji=0,Rt=et=Ne=null,hc=!1,cl=0,Va=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&nc(t)&&(Ct=!0))}function $g(t,i,a,l){Ne=t;var h=0;do{if(Ma&&(Va=null),cl=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,Rt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Ny,d=i(a,l)}while(Ma);return d}function jA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Ff(){var t=fc!==0;return fc=0,t}function Gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Ji=0,Rt=et=Ne=null,Ma=!1,cl=fc=0,Va=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(et===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Ne.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Va===null&&(Va=[]),t=Ug(Va,t,i),i=Ne,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Dy:rd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===oe)return Ft(t)}throw Error(s(438,String(t)))}function Yf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Wi(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=_t();return $f(i,et,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,O=null,q=i,J=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(ke&ee)===ee:(Ji&ee)===ee){var H=q.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ia&&(J=!0);else if((Ji&H)===H){q=q.next,H===Ia&&(J=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=ee,_=d):O=O.next=ee,Ne.lanes|=H,zr|=H;ee=q.action,Gs&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(T=O=H,_=d):O=O.next=H,Ne.lanes|=ee,zr|=ee;q=q.next}while(q!==null&&q!==i);if(O===null?_=d:O.next=T,!An(d,t.memoizedState)&&(Ct=!0,J&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);An(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Qg(t,i,a){var l=Ne,h=_t(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!An((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,Wf(Wg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Jg.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Ji&127)!==0||Xg(l,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=dc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Jg(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&ey(t)}function Wg(t,i,a){return a(function(){Zg(i)&&ey(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function ey(t){var i=Ls(t,2);i!==null&&gn(i,t,2)}function Xf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Gs){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},i}function ty(t,i,a,l){return t.baseState=a,$f(t,et,typeof l=="function"?l:Wi)}function zA(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ny(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ny(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(h,l),O=X.S;O!==null&&O(_,T),iy(t,i,T)}catch(q){Jf(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,l),iy(t,i,d)}catch(q){Jf(t,i,q)}}function iy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ry(t,i,l)},function(l){return Jf(t,i,l)}):ry(t,i,a)}function ry(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ny(t,a)))}function Jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ay(t,i){return i}function oy(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ne;if(ze){if(at){t:{for(var h=at,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Hn(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:i},a.queue=l,a=Ry.bind(null,Ne,l),l.dispatch=a,l=Xf(!1),d=id.bind(null,Ne,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=zA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ly(t){var i=_t();return uy(i,et,t)}function uy(t,i,a){if(i=$f(t,i,ay)[0],t=pc(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===Na?sc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ka(9,{destroy:void 0},BA.bind(null,h,a),null)),[l,d,t]}function BA(t,i){t.action=i}function cy(t){var i=_t(),a=et;if(a!==null)return uy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=dc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function hy(){return _t().memoizedState}function gc(t,i,a,l){var h=an();Ne.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&qf(l,et.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ne.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function fy(t,i){gc(8390656,8,t,i)}function Wf(t,i){yc(2048,8,t,i)}function qA(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=dc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function dy(t){var i=_t().memoizedState;return qA({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function my(t,i){return yc(4,2,t,i)}function py(t,i){return yc(4,4,t,i)}function gy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yy(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,gy.bind(null,i,t),a)}function Zf(){}function _y(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&qf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function vy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&qf(i,l[1]))return l[0];if(l=t(),Gs){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l}function ed(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=E_(),Ne.lanes|=t,zr|=t,a)}function Ey(t,i,a,l){return An(a,i)?a:xa.current!==null?(t=ed(t,a,l),An(t,i)||(Ct=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(ke&261930)===0?(Ct=!0,t.memoizedState=a):(t=E_(),Ne.lanes|=t,zr|=t,i)}function Ty(t,i,a,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,id(t,!1,i,a);try{var O=h(),q=X.S;if(q!==null&&q(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=PA(O,l);fl(t,i,J,Dn(t))}else fl(t,i,l,Dn(t))}catch(ee){fl(t,i,{then:function(){},status:"rejected",reason:ee},Dn())}finally{ce.p=d,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function HA(){}function td(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Sy(t).queue;Ty(t,h,i,_e,a===null?HA:function(){return Ay(t),a(l)})}function Sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ay(t){var i=Sy(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},Dn())}function nd(){return Ft(Dl)}function by(){return _t().memoizedState}function wy(){return _t().memoizedState}function FA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Vr(a);var l=kr(i,t,a);l!==null&&(gn(l,i,a),ol(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function GA(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Cy(i,a):(a=Ef(t,i,a,l),a!==null&&(gn(a,t,l),Iy(a,i,l)))}function Ry(t,i,a){var l=Dn();fl(t,i,a,l)}function fl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Cy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,An(T,_))return Wu(t,i,h,0),it===null&&Ju(),!1}catch{}if(a=Ef(t,i,h,l),a!==null)return gn(a,t,l),Iy(a,i,l),!0}return!1}function id(t,i,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Ef(t,a,l,2),i!==null&&gn(i,t,2)}function _c(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Cy(t,i){Ma=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Iy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var dl={readContext:Ft,use:mc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};dl.useEffectEvent=ft;var Dy={readContext:Ft,use:mc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:fy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,gy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Gs){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(Gs){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=GA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=Ry.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=an();return ed(a,t,i)},useTransition:function(){var t=Xf(!1);return t=Ty.bind(null,Ne,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(ke&127)!==0||Xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,fy(Wg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Jg.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=it.identifierPrefix;if(ze){var a=Oi,l=Ni;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=UA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:nd,useFormState:oy,useActionState:oy,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=id.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yf,useCacheRefresh:function(){return an().memoizedState=FA.bind(null,Ne)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:Ft,use:mc,useCallback:_y,useContext:Ft,useEffect:Wf,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:vy,useReducer:pc,useRef:hy,useState:function(){return pc(Wi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return Ey(a,et.memoizedState,t,i)},useTransition:function(){var t=pc(Wi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Qg,useId:by,useHostTransitionStatus:nd,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=_t();return ty(a,et,t,i)},useMemoCache:Yf,useCacheRefresh:wy};rd.useEffectEvent=dy;var Ny={readContext:Ft,use:mc,useCallback:_y,useContext:Ft,useEffect:Wf,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:vy,useReducer:Qf,useRef:hy,useState:function(){return Qf(Wi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=_t();return et===null?ed(a,t,i):Ey(a,et.memoizedState,t,i)},useTransition:function(){var t=Qf(Wi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Qg,useId:by,useHostTransitionStatus:nd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=_t();return et!==null?ty(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:wy};Ny.useEffectEvent=dy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(gn(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(gn(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(gn(i,t,a),ol(i,t,a))}};function Oy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ad.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function My(t){Xu(t)}function Vy(t){console.error(t)}function ky(t){Xu(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function od(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function Py(t){return t=Vr(t),t.tag=3,t}function Uy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ly(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ly(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function KA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Oc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),Oc(),!1}if(ze)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),nl(Un(t,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),nl(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=od(t.stateNode,l,h),Pf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),Tl===null?Tl=[d]:Tl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=od(a.stateNode,l,t),Pf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Py(h),Uy(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var ld=Error(s(461)),Ct=!1;function Gt(t,i,a,l){i.child=t===null?qg(i,null,a,l):Fs(i,t.child,a,l)}function jy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return zs(i),l=Hf(t,i,a,_,d,h),T=Ff(),t!==null&&!Ct?(Gf(t,i,h),Zi(t,i,h)):(ze&&T&&bf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function zy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,By(t,i,d,l,h)):(t=ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!gd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function By(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,gd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return ud(t,i,a,l,h)}function qy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Hy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Gg(i,d):jf(),Kg(i);else return l=i.lanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),Gg(i,d),Pr(),i.memoizedState=null):(t!==null&&rc(i,null),jf(),Pr());return Gt(t,i,h,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,a,l,h){var d=Mf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),jf(),Kg(i),t!==null&&Ca(t,i,l,!0),i.childLanes=h,null}function Ec(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Fy(t,i,a){return Fs(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function YA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,ml(null,t);if(Bf(i),(t=at)?(t=nv(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Cg(t),a.return=i,i.child=a,Ht=i,at=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Bf(i),h)if(i.flags&256)i.flags&=-257,i=Fy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Ca(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=it,l!==null&&(_=ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),gn(l,t,_),ld;Oc(),i=Fy(t,i,a)}else t=d.treeContext,at=Hn(_.nextSibling),Ht=i,ze=!0,Nr=null,Bn=!1,t!==null&&Ng(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ud(t,i,a,l,h){return zs(i),a=Hf(t,i,a,l,void 0,h),l=Ff(),t!==null&&!Ct?(Gf(t,i,h),Zi(t,i,h)):(ze&&l&&bf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Gy(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=$g(i,l,a,h),Yg(t),l=Ff(),t!==null&&!Ct?(Gf(t,i,d),Zi(t,i,d)):(ze&&l&&bf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Ky(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ad.enqueueReplaceState(d,d.state,null),ul(i,l,d,h),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,O=Ks(a,T);d.props=O;var q=d.context,J=a.contextType;_=Aa,typeof J=="object"&&J!==null&&(_=Ft(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&xy(i,d,l,_),Mr=!1;var H=i.memoizedState;d.state=H,ul(i,l,d,h),ll(),q=i.memoizedState,T||H!==q||Mr?(typeof ee=="function"&&(sd(i,a,ee,l),q=i.memoizedState),(O=Mr||Oy(i,a,O,l,H,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),_=i.memoizedProps,J=Ks(a,_),d.props=J,ee=i.pendingProps,H=d.context,q=a.contextType,O=Aa,typeof q=="object"&&q!==null&&(O=Ft(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||H!==O)&&xy(i,d,l,O),Mr=!1,H=i.memoizedState,d.state=H,ul(i,l,d,h),ll();var $=i.memoizedState;_!==ee||H!==$||Mr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof T=="function"&&(sd(i,a,T,l),$=i.memoizedState),(J=Mr||Oy(i,a,J,l,H,$,O)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function Yy(t,i,a,l){return Us(),i.flags|=256,Gt(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:Lg()}}function fd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function $y(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Lr(i):Pr(),(t=at)?(t=nv(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Cg(t),a.return=i,i.child=a,Ht=i,at=null)):t=null,t===null)throw Or(i);return $d(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Pr(),h=i.mode,T=Sc({mode:"hidden",children:T},h),l=Ps(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,ml(null,l)):(Lr(i),dd(i,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=md(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),T=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),T=Ps(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,i=ml(null,l));else if(Lr(i),$d(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),i=md(t,i,a)}else if(Ct||Ca(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=it,_!==null&&(l=ko(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ls(t,l),gn(_,t,l),ld;Yd(T)||Oc(),i=md(t,i,a)}else Yd(T)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,at=Hn(T.nextSibling),Ht=i,ze=!0,Nr=null,Bn=!1,t!==null&&Ng(i,t),i=dd(i,l.children),i.flags|=4096);return i}return h?(Pr(),T=l.fallback,h=i.mode,O=t.child,q=O.sibling,l=Yi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?T=Yi(q,T):(T=Ps(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ml(null,l),l=i.child,T=t.child.memoizedState,T===null?T=hd(a):(h=T.cachePool,h!==null?(O=wt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Lg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=fd(t,_,a),i.memoizedState=cd,ml(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function dd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function md(t,i,a){return Fs(i,t.child,null,a),t=dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function pd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Xy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Gt(t,i,l,a),l=ze?tl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,i);else if(t.tag===19)Qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),pd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}pd(i,!0,a,null,d,l);break;case"together":pd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ca(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function $A(t,i,a){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),xr(i,wt,t.memoizedState.cache),Us();break;case 27:case 5:on(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$y(t,i,a):(Lr(i),t=Zi(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,qy(t,i,a,i.pendingProps);case 24:xr(i,wt,t.memoizedState.cache)}return Zi(t,i,a)}function Jy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!gd(t,a)&&(i.flags&128)===0)return Ct=!1,$A(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ze&&(i.flags&1048576)!==0&&Dg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Ks(t,l),i.tag=1,i=Ky(null,i,t,l,a)):(i.tag=0,i=ud(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Te){i.tag=11,i=jy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=zy(null,i,t,l,a);break e}}throw i=$e(t)||t,Error(s(306,i,""))}}return i;case 0:return ud(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),Ky(t,i,l,h,a);case 3:e:{if(Ge(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Lf(t,i),ul(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xr(i,wt,l),l!==d.cache&&Nf(i,[wt],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Yy(t,i,l,a);break e}else if(l!==h){h=Un(Error(s(424)),i),nl(h),i=Yy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Hn(t.firstChild),Ht=i,ze=!0,Nr=null,Bn=!0,a=qg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===h){i=Zi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=lv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Uc(ge.current).createElement(a),l[St]=i,l[Pt]=t,Kt(l,a,t),At(l),i.stateNode=l):i.memoizedState=lv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return on(i),t===null&&ze&&(l=i.stateNode=sv(i.type,i.pendingProps,ge.current),Ht=i,Bn=!0,h=at,Gr(i.type)?(Qd=h,at=Hn(l.firstChild)):at=h),Gt(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=at)&&(l=bb(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Ht=i,at=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Or(i)),on(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:_!==null&&Fd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Hf(t,i,jA,null,null,a),Dl._currentValue=h),Tc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=at)&&(a=wb(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Ht=i,at=null,t=!0):t=!1),t||Or(i)),null;case 13:return $y(t,i,a);case 4:return Ge(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return jy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return zy(t,i,i.type,i.pendingProps,a);case 15:return By(t,i,i.type,i.pendingProps,a);case 19:return Xy(t,i,a);case 31:return YA(t,i,a);case 22:return qy(t,i,a,i.pendingProps);case 24:return zs(i),l=Ft(wt),t===null?(h=Mf(),h===null&&(h=it,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},kf(i),xr(i,wt,h)):((t.lanes&a)!==0&&(Lf(t,i),ul(i,null,null,a),ll()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xr(i,wt,l)):(l=d.cache,xr(i,wt,l),l!==h.cache&&Nf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function yd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(b_())t.flags|=8192;else throw Hs=ac,Vf}else t.flags&=-16777217}function Wy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dv(i))if(b_())t.flags|=8192;else throw Hs=ac,Vf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Du():536870912,t.lanes|=i,ja|=i)}function pl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function QA(t,i,a){var l=i.pendingProps;switch(wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(wt),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cf())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(er(i),d!==null?(ot(i),Wy(i,d)):(ot(i),yd(i,h,null,l,a))):d?d!==t.memoizedState?(er(i),ot(i),Wy(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(i),ot(i),yd(i,h,t,l,a)),null;case 27:if(tn(i),a=ge.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=ue.current,Ra(i)?Og(i):(t=sv(h,l,a),i.stateNode=t,er(i))}return ot(i),null;case 5:if(tn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=ue.current,Ra(i))Og(i);else{var _=Uc(ge.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(i)}}return ot(i),yd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$_(t.nodeValue,a)),t||Or(i,!0)}else t=Uc(t).createTextNode(l),t[St]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ra(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),ot(i),null);case 4:return Ve(),t===null&&jd(i.stateNode.containerInfo),ot(i),null;case 10:return Xi(i.type),ot(i),null;case 19:if(K(yt),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)pl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Rg(a,t),a=a.sibling;return re(yt,yt.current&1|2),ze&&$i(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Ic&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ot(i),null}else 2*rn()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),ze&&$i(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return Rn(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(wt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function XA(t,i){switch(wf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(wt),Ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return tn(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(yt),null;case 4:return Ve(),null;case 10:return Xi(i.type),null;case 22:case 23:return Rn(i),zf(),t!==null&&K(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(wt),null;case 25:return null;default:return null}}function Zy(t,i){switch(wf(i),i.tag){case 3:Xi(wt),Ve();break;case 26:case 27:case 5:tn(i);break;case 4:Ve();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:K(yt);break;case 10:Xi(i.type);break;case 22:case 23:Rn(i),zf(),t!==null&&K(Bs);break;case 24:Xi(wt)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var O=a,q=T;try{q()}catch(J){We(h,O,J)}}}l=l.next}while(l!==d)}}catch(J){We(i,i.return,J)}}function e_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Fg(i,a)}catch(l){We(t,t.return,l)}}}function t_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function n_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function _d(t,i,a){try{var l=t.stateNode;_b(l,t.type,a,i),l[Pt]=i}catch(h){We(t,t.return,h)}}function i_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}function r_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[St]=t,i[Pt]=a}catch(d){We(t,t.return,d)}}var tr=!1,It=!1,Td=!1,s_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function JA(t,i){if(t=t.containerInfo,qd=Gc,t=yg(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,O=-1,q=0,J=0,ee=t,H=null;t:for(;;){for(var $;ee!==a||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)H=ee,ee=$;for(;;){if(ee===t)break t;if(H===a&&++q===h&&(T=_),H===d&&++J===l&&(O=_),($=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=$}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Gc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){We(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function a_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&gl(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&e_(a),l&512&&yl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&r_(a);case 26:case 5:ir(t,a),i===null&&l&4&&n_(a),l&512&&yl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&u_(t,a);break;case 13:ir(t,a),l&4&&c_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ab.bind(null,a),Rb(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||It,h=tr;var d=It;tr=l,(It=i)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=h,It=d}break;case 30:break;default:ir(t,a)}}function o_(t){var i=t.alternate;i!==null&&(t.alternate=null,o_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function nr(t,i,a){for(a=a.child;a!==null;)l_(t,i,a),a=a.sibling}function l_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:It||xi(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||xi(a,i);var l=ut,h=fn;Gr(a.type)&&(ut=a.stateNode,fn=!1),nr(t,i,a),Rl(a.stateNode),ut=l,fn=h;break;case 5:It||xi(a,i);case 6:if(l=ut,h=fn,ut=null,nr(t,i,a),ut=l,fn=h,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ut!==null&&(fn?(t=ut,ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ya(t)):ev(ut,a.stateNode));break;case 4:l=ut,h=fn,ut=a.stateNode.containerInfo,fn=!0,nr(t,i,a),ut=l,fn=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),It||Ur(4,a,i),nr(t,i,a);break;case 1:It||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,i,l)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,nr(t,i,a),It=l;break;default:nr(t,i,a)}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(a){We(i,i.return,a)}}}function c_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(a){We(i,i.return,a)}}function WA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s_),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=WA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ob.bind(null,t,l);l.then(h,h)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Gr(T.type)){ut=T.stateNode,fn=!1;break e}break;case 5:ut=T.stateNode,fn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(ut===null)throw Error(s(160));l_(d,_,h),ut=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)h_(i,t),i=i.sibling}var ii=null;function h_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Ur(3,t,t.return),gl(3,t),Ur(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(It||a===null||xi(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(dn(i,t),mn(t),l&512&&(It||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=hv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=hv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else fv(h,t.type,t.stateNode);else t.stateNode=cv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?fv(h,t.type,t.stateNode):cv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(It||a===null||xi(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(It||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(pe){We(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,_d(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){We(t,t.return,pe)}}break;case 3:if(Bc=null,h=ii,ii=jc(i.containerInfo),dn(i,t),ii=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(pe){We(t,t.return,pe)}Td&&(Td=!1,f_(t));break;case 4:l=ii,ii=jc(t.stateNode.containerInfo),dn(i,t),mn(t),ii=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=tr,J=It;if(tr=q||h,It=J||O,dn(i,t),It=J,tr=q,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||tr||It||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var ee=O.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(pe){We(O,O.return,pe)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(pe){We(O,O.return,pe)}}}else if(i.tag===18){if(a===null){O=i;try{var $=O.stateNode;h?tv($,!0):tv(O.stateNode,!1)}catch(pe){We(O,O.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(i_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vd(t);bc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var T=vd(t);bc(t,T,_);break;case 3:case 4:var O=a.stateNode.containerInfo,q=vd(t);Ed(t,q,O);break;default:throw Error(s(161))}}catch(J){We(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function f_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;f_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)a_(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Ys(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&t_(i,i.return,a),Ys(i);break;case 27:Rl(i.stateNode);case 26:case 5:xi(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,a),gl(4,d);break;case 1:if(rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Hg(O[h],T)}catch(q){We(l,l.return,q)}}a&&_&64&&e_(d),yl(d,d.return);break;case 27:r_(d);case 26:case 5:rr(h,d,a),a&&l===null&&_&4&&n_(d),yl(d,d.return);break;case 12:rr(h,d,a);break;case 31:rr(h,d,a),a&&_&4&&u_(h,d);break;case 13:rr(h,d,a),a&&_&4&&c_(h,d);break;case 22:d.memoizedState===null&&rr(h,d,a),yl(d,d.return);break;case 30:break;default:rr(h,d,a)}i=i.sibling}}function Sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d_(t,i,a,l),i=i.sibling}function d_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&gl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){We(i,i.return,O)}}else ri(t,i,a,l);break;case 31:ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):_l(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(_,i);break;case 24:ri(t,i,a,l),h&2048&&Ad(i.alternate,i);break;default:ri(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,O=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,T,O,h),gl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?La(d,_,T,O,h):_l(d,_):(J._visibility|=2,La(d,_,T,O,h)),h&&q&2048&&Sd(_.alternate,_);break;case 24:La(d,_,T,O,h),h&&q&2048&&Ad(_.alternate,_);break;default:La(d,_,T,O,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Sd(l.alternate,l);break;case 24:_l(a,l),h&2048&&Ad(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Pa(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)m_(t,i,a),t=t.sibling}function m_(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&vl&&t.memoizedState!==null&&Ub(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var l=ii;ii=jc(t.stateNode.containerInfo),Pa(t,i,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Pa(t,i,a),vl=l):Pa(t,i,a));break;default:Pa(t,i,a)}}function p_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,y_(l,t)}p_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g_(t),t=t.sibling}function g_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):El(t);break;default:El(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,y_(l,t)}p_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function y_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(o_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var ZA={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},eb=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,xe=null,ke=0,Je=0,Cn=null,jr=!1,Ua=!1,bd=!1,sr=0,dt=0,zr=0,$s=0,wd=0,In=0,ja=0,Tl=null,pn=null,Rd=!1,Cc=0,__=0,Ic=1/0,Dc=null,Br=null,Mt=0,qr=null,za=null,ar=0,Cd=0,Id=null,v_=null,Sl=0,Dd=null;function Dn(){return(Ye&2)!==0&&ke!==0?ke&-ke:X.T!==null?kd():Nu()}function E_(){if(In===0)if((ke&536870912)===0||ze){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),In=t}else In=536870912;return t=wn.current,t!==null&&(t.flags|=32),In}function gn(t,i,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Hr(t,ke,In,!1)),Ss(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&($s|=a),dt===4&&Hr(t,ke,In,!1)),Mi(t))}function T_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||$n(t,i),h=l?ib(t,i):Od(t,i,!0),d=l;do{if(h===0){Ua&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!tb(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Tl;var O=T.current.memoizedState.isDehydrated;if(O&&(Ba(T,_).flags|=256),_=Od(T,_,!1),_!==2){if(bd&&!O){T.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,In,!jr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-rn(),10<h)){if(Hr(l,i,In,!jr),pi(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=W_(S_.bind(null,l,a,pn,Dc,Rd,i,In,$s,ja,jr,d,"Throttled",-0,0),h);break e}S_(l,a,pn,Dc,Rd,i,In,$s,ja,jr,d,null,-0,0)}}break}while(!0);Mi(t)}function S_(t,i,a,l,h,d,_,T,O,q,J,ee,H,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},m_(i,d,ee);var pe=(d&62914560)===d?Cc-rn():(d&4194048)===d?__-rn():0;if(pe=jb(ee,pe),pe!==null){ar=d,t.cancelPendingCommit=pe(N_.bind(null,t,i,d,a,l,h,_,T,O,J,ee,null,H,$)),Hr(t,d,_,!q);return}}N_(t,i,d,a,l,h,_,T,O)}function tb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~wd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(t,a,i)}function Nc(){return(Ye&6)===0?(Al(0),!1):!0}function Nd(){if(xe!==null){if(Je===0)var t=xe.return;else t=xe,Qi=js=null,Kf(t),Oa=null,sl=0,t=xe;for(;t!==null;)Zy(t.alternate,t),t=t.return;xe=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Tb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,Nd(),it=t,xe=a=Yi(t.current,null),ke=i,Je=0,Cn=null,jr=!1,Ua=$n(t,i),bd=!1,ja=In=wd=$s=zr=dt=0,pn=Tl=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return sr=i,Ju(),a}function A_(t,i){Ne=null,X.H=dl,i===Na||i===sc?(i=jg(),Je=3):i===Vf?(i=jg(),Je=4):Je=i===ld?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,xe===null&&(dt=1,vc(t,Un(i,t.current)))}function b_(){var t=wn.current;return t===null?!0:(ke&4194048)===ke?qn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===qn:!1}function w_(){var t=X.H;return X.H=dl,t===null?dl:t}function R_(){var t=X.A;return X.A=ZA,t}function Oc(){dt=4,jr||(ke&4194048)!==ke&&wn.current!==null||(Ua=!0),(zr&134217727)===0&&($s&134217727)===0||it===null||Hr(it,ke,In,!1)}function Od(t,i,a){var l=Ye;Ye|=2;var h=w_(),d=R_();(it!==t||ke!==i)&&(Dc=null,Ba(t,i)),i=!1;var _=dt;e:do try{if(Je!==0&&xe!==null){var T=xe,O=Cn;switch(Je){case 8:Nd(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var q=Je;if(Je=0,Cn=null,qa(t,T,O,q),a&&Ua){_=0;break e}break;default:q=Je,Je=0,Cn=null,qa(t,T,O,q)}}nb(),_=dt;break}catch(J){A_(t,J)}while(!0);return i&&t.shellSuspendCounter++,Qi=js=null,Ye=l,X.H=h,X.A=d,xe===null&&(it=null,ke=0,Ju()),_}function nb(){for(;xe!==null;)C_(xe)}function ib(t,i){var a=Ye;Ye|=2;var l=w_(),h=R_();it!==t||ke!==i?(Dc=null,Ic=rn()+500,Ba(t,i)):Ua=$n(t,i);e:do try{if(Je!==0&&xe!==null){i=xe;var d=Cn;t:switch(Je){case 1:Je=0,Cn=null,qa(t,i,d,1);break;case 2:case 9:if(Pg(d)){Je=0,Cn=null,I_(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),Mi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Pg(d)?(Je=0,Cn=null,I_(i)):(Je=0,Cn=null,qa(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var T=xe;if(_?dv(_):T.stateNode.complete){Je=0,Cn=null;var O=T.sibling;if(O!==null)xe=O;else{var q=T.return;q!==null?(xe=q,xc(q)):xe=null}break t}}Je=0,Cn=null,qa(t,i,d,5);break;case 6:Je=0,Cn=null,qa(t,i,d,6);break;case 8:Nd(),dt=6;break e;default:throw Error(s(462))}}rb();break}catch(J){A_(t,J)}while(!0);return Qi=js=null,X.H=l,X.A=h,Ye=a,xe!==null?0:(it=null,ke=0,Ju(),dt)}function rb(){for(;xe!==null&&!of();)C_(xe)}function C_(t){var i=Jy(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?xc(t):xe=i}function I_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Gy(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Gy(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Kf(i);default:Zy(a,i),i=xe=Rg(i,sr),i=Jy(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?xc(t):xe=i}function qa(t,i,a,l){Qi=js=null,Kf(i),Oa=null,sl=0;var h=i.return;try{if(KA(t,h,i,a,ke)){dt=1,vc(t,Un(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;dt=1,vc(t,Un(a,t.current)),xe=null;return}i.flags&32768?(ze||l===1?t=!0:Ua||(ke&536870912)!==0?t=!1:(jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){D_(i,jr);return}t=i.return;var a=QA(i.alternate,i,sr);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);dt===0&&(dt=5)}function D_(t,i){do{var a=XA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);dt=6,xe=null}function N_(t,i,a,l,h,d,_,T,O){t.cancelPendingCommit=null;do Mc();while(Mt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vf,cf(t,a,d,_,T,O),t===it&&(xe=it=null,ke=0),za=i,qr=t,ar=a,Cd=d,Id=h,v_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lb(vr,function(){return k_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ce.p,ce.p=2,_=Ye,Ye|=4;try{JA(t,i,a)}finally{Ye=_,ce.p=h,X.T=l}}Mt=1,O_(),x_(),M_()}}function O_(){if(Mt===1){Mt=0;var t=qr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var h=Ye;Ye|=4;try{h_(i,t);var d=Hd,_=yg(t.containerInfo),T=d.focusedElem,O=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&gg(T.ownerDocument.documentElement,T)){if(O!==null&&mf(T)){var q=O.start,J=O.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var $=H.getSelection(),pe=T.textContent.length,Ae=Math.min(O.start,pe),nt=O.end===void 0?Ae:Math.min(O.end,pe);!$.extend&&Ae>nt&&(_=nt,nt=Ae,Ae=_);var P=pg(T,Ae),V=pg(T,nt);if(P&&V&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var B=ee.createRange();B.setStart(P.node,P.offset),$.removeAllRanges(),Ae>nt?($.addRange(B),$.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),$.addRange(B))}}}}for(ee=[],$=T;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Gc=!!qd,Hd=qd=null}finally{Ye=h,ce.p=l,X.T=a}}t.current=i,Mt=2}}function x_(){if(Mt===2){Mt=0;var t=qr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var h=Ye;Ye|=4;try{a_(t,i.alternate,i)}finally{Ye=h,ce.p=l,X.T=a}}Mt=3}}function M_(){if(Mt===4||Mt===3){Mt=0,Au();var t=qr,i=za,a=ar,l=v_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,za=qr=null,V_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),Hi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ce.p,ce.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,ce.p=h}}(ar&3)!==0&&Mc(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?Sl++:(Sl=0,Dd=t):Sl=0,Al(0)}}function V_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function Mc(){return O_(),x_(),M_(),k_()}function k_(){if(Mt!==5)return!1;var t=qr,i=Cd;Cd=0;var a=Hi(ar),l=X.T,h=ce.p;try{ce.p=32>a?32:a,X.T=null,a=Id,Id=null;var d=qr,_=ar;if(Mt=0,za=qr=null,ar=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,g_(d.current),d_(d,d.current,_,a),Ye=T,Al(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{ce.p=h,X.T=l,V_(t,i)}}function L_(t,i,a){i=Un(a,i),i=od(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(Ss(t,2),Mi(t))}function We(t,i,a){if(t.tag===3)L_(t,t,a);else for(;i!==null;){if(i.tag===3){L_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Un(a,t),a=Py(2),l=kr(i,a,2),l!==null&&(Uy(a,l,i,t),Ss(l,2),Mi(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new eb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=sb.bind(null,t,i,a),i.then(t,t))}function sb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(ke&a)===a&&(dt===4||dt===3&&(ke&62914560)===ke&&300>rn()-Cc?(Ye&2)===0&&Ba(t,0):wd|=a,ja===ke&&(ja=0)),Mi(t)}function P_(t,i){i===0&&(i=Du()),t=Ls(t,i),t!==null&&(Ss(t,i),Mi(t))}function ab(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),P_(t,a)}function ob(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),P_(t,a)}function lb(t,i){return xt(t,i)}var Vc=null,Ha=null,Md=!1,kc=!1,Vd=!1,Fr=0;function Mi(t){t!==Ha&&t.next===null&&(Ha===null?Vc=Ha=t:Ha=Ha.next=t),kc=!0,Md||(Md=!0,cb())}function Al(t,i){if(!Vd&&kc){Vd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,B_(l,d))}else d=ke,d=pi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,B_(l,d));l=l.next}while(a);Vd=!1}}function ub(){U_()}function U_(){kc=Md=!1;var t=0;Fr!==0&&Eb()&&(t=Fr);for(var i=rn(),a=null,l=Vc;l!==null;){var h=l.next,d=j_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Mt!==0&&Mt!==5||Al(t),Fr!==0&&(Fr=0)}function j_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,O=h[_];O===-1?((T&a)===0||(T&l)!==0)&&(h[_]=uf(T,i)):O<=i&&(t.expiredLanes|=T),d&=~T}if(i=it,a=ke,a=pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_r(l),Hi(a)){case 2:case 8:a=Mo;break;case 32:a=vr;break;case 268435456:a=bu;break;default:a=vr}return l=z_.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_r(l),t.callbackPriority=2,t.callbackNode=null,2}function z_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=ke;return l=pi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T_(t,l,i),j_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?z_.bind(null,t):null)}function B_(t,i){if(Mc())return null;T_(t,i,!0)}function cb(){Sb(function(){(Ye&6)!==0?xt(xo,ub):U_()})}function kd(){if(Fr===0){var t=Ia;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Fr=t}return Fr}function q_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function H_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function hb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=q_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?q_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ri("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var O=_?H_(h,_):new FormData(h);td(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=_?H_(h,_):new FormData(h),td(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Ld=0;Ld<_f.length;Ld++){var Pd=_f[Ld],fb=Pd.toLowerCase(),db=Pd[0].toUpperCase()+Pd.slice(1);ni(fb,"on"+db)}ni(Eg,"onAnimationEnd"),ni(Tg,"onAnimationIteration"),ni(Sg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(DA,"onTransitionRun"),ni(NA,"onTransitionStart"),ni(OA,"onTransitionCancel"),ni(Ag,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function F_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],O=T.instance,q=T.currentTarget;if(T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){Xu(J)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(T=l[_],O=T.instance,q=T.currentTarget,T=T.listener,O!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){Xu(J)}h.currentTarget=null,d=O}}}}function Me(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=t+"__bubble";a.has(l)||(G_(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),G_(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Lc]){t[Lc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(mb.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Ud("selectionchange",!1,i))}}function G_(t,i,a,l){switch(Ev(i)){case 2:var h=qb;break;case 8:h=Hb;break;default:h=em}a=h.bind(null,i,a,t),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}T=T.parentNode}}l=l.return}wr(function(){var q=d,J=Vn(a),ee=[];e:{var H=bg.get(t);if(H!==void 0){var $=Ri,pe=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":$=Yu;break;case"focusin":pe="focus",$=xs;break;case"focusout":pe="blur",$=xs;break;case"beforeblur":case"afterblur":$=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=g;break;case Eg:case Tg:case Sg:$=zu;break;case Ag:$=A;break;case"scroll":case"scrollend":$=$o;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ki;break;case"toggle":case"beforetoggle":$=De}var Ae=(i&4)!==0,nt=!Ae&&(t==="scroll"||t==="scrollend"),P=Ae?H!==null?H+"Capture":null:H;Ae=[];for(var V=q,B;V!==null;){var Z=V;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||P===null||(Z=Wn(V,P),Z!=null&&Ae.push(wl(V,Z,B))),nt)break;V=V.return}0<Ae.length&&(H=new $(H,pe,null,a,J),ee.push({event:H,listeners:Ae}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&a!==Go&&(pe=a.relatedTarget||a.fromElement)&&(vi(pe)||pe[yi]))break e;if(($||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,$?(pe=a.relatedTarget||a.toElement,$=q,pe=pe?vi(pe):null,pe!==null&&(nt=u(pe),Ae=pe.tag,pe!==nt||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):($=null,pe=q),$!==pe)){if(Ae=Qo,Z="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Ki,Z="onPointerLeave",P="onPointerEnter",V="pointer"),nt=$==null?H:Tn($),B=pe==null?H:Tn(pe),H=new Ae(Z,V+"leave",$,a,J),H.target=nt,H.relatedTarget=B,Z=null,vi(J)===q&&(Ae=new Ae(P,V+"enter",pe,a,J),Ae.target=B,Ae.relatedTarget=nt,Z=Ae),nt=Z,$&&pe)t:{for(Ae=pb,P=$,V=pe,B=0,Z=P;Z;Z=Ae(Z))B++;Z=0;for(var ve=V;ve;ve=Ae(ve))Z++;for(;0<B-Z;)P=Ae(P),B--;for(;0<Z-B;)V=Ae(V),Z--;for(;B--;){if(P===V||V!==null&&P===V.alternate){Ae=P;break t}P=Ae(P),V=Ae(V)}Ae=null}else Ae=null;$!==null&&K_(ee,H,$,Ae,!1),pe!==null&&nt!==null&&K_(ee,nt,pe,Ae,!0)}}e:{if(H=q?Tn(q):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var He=ug;else if(og(H))if(cg)He=RA;else{He=bA;var ye=AA}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&fa(q.elementType)&&(He=ug):He=wA;if(He&&(He=He(t,q))){lg(ee,He,a,J);break e}ye&&ye(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&qo(H,"number",H.value)}switch(ye=q?Tn(q):window,t){case"focusin":(og(ye)||ye.contentEditable==="true")&&(Ea=ye,pf=q,el=null);break;case"focusout":el=pf=Ea=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,_g(ee,a,J);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":_g(ee,a,J)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else va?Ms(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Di&&a.locale!=="ko"&&(va||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&va&&(Oe=Yo()):(wi=J,Ko="value"in wi?wi.value:wi.textContent,va=!0)),ye=Pc(q,Le),0<ye.length&&(Le=new Ii(Le,t,null,a,J),ee.push({event:Le,listeners:ye}),Oe?Le.data=Oe:(Oe=_a(a),Oe!==null&&(Le.data=Oe)))),(Oe=Ln?vA(t,a):EA(t,a))&&(Le=Pc(q,"onBeforeInput"),0<Le.length&&(ye=new Ii("onBeforeInput","beforeinput",null,a,J),ee.push({event:ye,listeners:Le}),ye.data=Oe)),hb(ee,t,q,a,J)}F_(ee,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Wn(t,i),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function pb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,O=T.alternate,q=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||q===null||(O=q,h?(q=Wn(a,d),q!=null&&_.unshift(wl(a,q,O))):h||(q=Wn(a,d),q!=null&&_.push(wl(a,q,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var gb=/\r\n?/g,yb=/\u0000|\uFFFD/g;function Y_(t){return(typeof t=="string"?t:""+t).replace(gb,`
`).replace(yb,"")}function $_(t,i){return i=Y_(i),Y_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,ca(t,a,l))}}function Bd(t,i,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=_=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:tt(t,i,l,J,a,null)}}Vu(t,d,T,O,q,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(t,i,_,T,a,null)}Sr(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Me(bl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,q,l,a,null)}return;default:if(fa(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Bd(t,i,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function _b(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,O=null,q=null,J=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty($)||tt(t,i,$,null,l,ee)}}for(var H in l){var $=l[H];if(ee=a[H],l.hasOwnProperty(H)&&($!=null||ee!=null))switch(H){case"type":d=$;break;case"name":h=$;break;case"checked":q=$;break;case"defaultChecked":J=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&tt(t,i,H,$,l,ee)}}ha(t,_,T,O,q,J,d,h);return;case"select":$=_=T=H=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==O&&tt(t,i,h,d,l,O)}i=T,a=_,l=$,H!=null?Tr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,_,h,l,d)}ku(t,H,$);return;case"option":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:tt(t,i,pe,null,l,H));for(O in l)H=l[O],$=a[O],l.hasOwnProperty(O)&&H!==$&&(H!=null||$!=null)&&(O==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":tt(t,i,O,H,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae)&&tt(t,i,Ae,null,l,H);for(q in l)if(H=l[q],$=a[q],l.hasOwnProperty(q)&&H!==$&&(H!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:tt(t,i,q,H,l,$)}return;default:if(fa(i)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&Bd(t,i,nt,void 0,l,H);for(J in l)H=l[J],$=a[J],!l.hasOwnProperty(J)||H===$||H===void 0&&$===void 0||Bd(t,i,J,H,l,$);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&tt(t,i,P,null,l,H);for(ee in l)H=l[ee],$=a[ee],!l.hasOwnProperty(ee)||H===$||H==null&&$==null||tt(t,i,ee,H,l,$)}function Q_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&Q_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>T)break;var J=O.transferSize,ee=O.initiatorType;J&&Q_(ee)&&(O=O.responseEnd,_+=J*(O<T?1:(T-q)/(O-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qd=null,Hd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function X_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function Eb(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,Tb=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,Sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(Ab)}:W_;function Ab(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function ev(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ya(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);Ya(i)}function tv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function wb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function nv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qd=null;function iv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function rv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function sv(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var Fn=new Map,av=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=ce.d;ce.d={f:Cb,r:Ib,D:Db,C:Nb,L:Ob,m:xb,X:Vb,S:Mb,M:kb};function Cb(){var t=or.f(),i=Nc();return t||i}function Ib(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Ay(i):or.r(t)}var Fa=typeof document>"u"?null:document;function ov(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=cn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),av.has(h)||(av.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Db(t){or.D(t),ov("dns-prefetch",t,null)}function Nb(t,i){or.C(t,i),ov("preconnect",t,i)}function Ob(t,i,a){or.L(t,i,a);var l=Fa;if(l&&t&&i){var h='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Ka(t)}Fn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function xb(t,i){or.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Fn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Kt(l,"link",t),At(l),a.head.appendChild(l)}}}function Mb(t,i,a){or.S(t,i,a);var l=Fa;if(l&&t){var h=Ei(l).hoistableStyles,d=Ga(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Cl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Xd(t,a);var O=_=l.createElement("link");At(O),Kt(O,"link",t),O._p=new Promise(function(q,J){O.onload=q,O.onerror=J}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Vb(t,i){or.X(t,i);var a=Fa;if(a&&t){var l=Ei(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=S({src:t,async:!0},i),(i=Fn.get(h))&&Jd(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function kb(t,i){or.M(t,i);var a=Fa;if(a&&t){var l=Ei(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&Jd(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lv(t,i,a,l){var h=(h=ge.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=Ei(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=Ei(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||Lb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=Ei(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+cn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function uv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Lb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function Ka(t){return'[src="'+cn(t)+'"]'}function Il(t){return"script[async]"+t}function cv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=uv(a),(h=Fn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Kt(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,At(h),h):(l=a,(h=Fn.get(d))&&(l=S({},a),Jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function hv(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function fv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Pb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ub(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=uv(l),(h=Fn.get(h))&&Xd(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function jb(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*vb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(zb,t),Hc=null,qc.call(t))}function zb(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Bb(t,i,a,l,h,d,_,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function mv(t,i,a,l,h,d,_,T,O,q,J,ee){return t=new Bb(t,i,a,_,O,q,J,ee,T),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},kf(d),t}function pv(t){return t?(t=Aa,t):Aa}function gv(t,i,a,l,h,d){h=pv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(gn(a,t,i),ol(a,t,i))}function yv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){yv(t,i),(t=t.alternate)&&yv(t,i)}function _v(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&gn(i,t,67108864),Zd(t,67108864)}}function vv(t){if(t.tag===13||t.tag===31){var i=Dn();i=bs(i);var a=Ls(t,i);a!==null&&gn(a,t,i),Zd(t,i)}}var Gc=!0;function qb(t,i,a,l){var h=X.T;X.T=null;var d=ce.p;try{ce.p=2,em(t,i,a,l)}finally{ce.p=d,X.T=h}}function Hb(t,i,a,l){var h=X.T;X.T=null;var d=ce.p;try{ce.p=8,em(t,i,a,l)}finally{ce.p=d,X.T=h}}function em(t,i,a,l){if(Gc){var h=tm(l);if(h===null)zd(t,i,l,Kc,a),Tv(t,l);else if(Gb(h,t,i,a,l))l.stopPropagation();else if(Tv(t,l),i&4&&-1<Fb.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-pt(_);T.entanglements[1]|=O,_&=~O}Mi(d),(Ye&6)===0&&(Ic=rn()+500,Al(0))}}break;case 31:case 13:T=Ls(d,2),T!==null&&gn(T,d,2),Nc(),Zd(d,2)}if(d=tm(l),d===null&&zd(t,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,a)}}function tm(t){return t=Vn(t),nm(t)}var Kc=null;function nm(t){if(Kc=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case xo:return 2;case Mo:return 8;case vr:case lf:return 32;case bu:return 268435456;default:return 32}default:return 32}}var im=!1,Kr=null,Yr=null,$r=null,Nl=new Map,Ol=new Map,Qr=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&_v(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Gb(t,i,a,l,h){switch(i){case"focusin":return Kr=xl(Kr,t,i,a,l,h),!0;case"dragenter":return Yr=xl(Yr,t,i,a,l,h),!0;case"mouseover":return $r=xl($r,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,xl(Nl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,xl(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function Sv(t){var i=vi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){vv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){vv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return i=Mn(a),i!==null&&_v(i),t.blockedOn=a,!1;i.shift()}return!0}function Av(t,i,a){Yc(t)&&a.delete(i)}function Kb(){im=!1,Kr!==null&&Yc(Kr)&&(Kr=null),Yr!==null&&Yc(Yr)&&(Yr=null),$r!==null&&Yc($r)&&($r=null),Nl.forEach(Av),Ol.forEach(Av)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kb)))}var Qc=null;function bv(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ya(t){function i(O){return $c(O,t)}Kr!==null&&$c(Kr,t),Yr!==null&&$c(Yr,t),$r!==null&&$c($r,t),Nl.forEach(i),Ol.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||bv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)T=_.formAction;else if(nm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),bv(a)}}}function wv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Xc.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();gv(a,l,t,i,null,null)},Xc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;gv(t.current,2,null,t,null,null),Nc(),i[yi]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&Sv(t)}};var Rv=e.version;if(Rv!=="19.2.4")throw Error(s(527,Rv,"19.2.4"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Yb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Yn=Jc.inject(Yb),Bt=Jc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=My,d=Vy,_=ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=mv(t,1,!1,null,null,a,l,null,h,d,_,wv),t[yi]=i.current,jd(t),new rm(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=My,_=Vy,T=ky,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=mv(t,1,!0,i,a??null,l,h,O,d,_,T,wv),i.context=pv(null),a=i.current,l=Dn(),l=bs(l),h=Vr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,Ss(i,a),Mi(i),t[yi]=i.current,jd(t),new Xc(i)},Vl.version="19.2.4",Vl}var Lv;function iw(){if(Lv)return om.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=nw(),om.exports}var rw=iw();var Pv="popstate";function sw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Rm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Jl(o)}return ow(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ci(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aw(){return Math.random().toString(36).substring(2,10)}function Uv(r,e){return{usr:r.state,key:r.key,idx:e}}function Rm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||aw()}}function Jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ow(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let G=E(),se=G==null?null:G-y;y=G,p&&p({action:m,location:F.location,delta:se})}function b(G,se){m="PUSH";let W=Rm(F.location,G,se);y=E()+1;let oe=Uv(W,y),Te=F.createHref(W);try{f.pushState(oe,"",Te)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(Te)}u&&p&&p({action:m,location:F.location,delta:1})}function L(G,se){m="REPLACE";let W=Rm(F.location,G,se);y=E();let oe=Uv(W,y),Te=F.createHref(W);f.replaceState(oe,"",Te),u&&p&&p({action:m,location:F.location,delta:0})}function j(G){return lw(G)}let F={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Pv,S),p=G,()=>{o.removeEventListener(Pv,S),p=null}},createHref(G){return e(o,G)},createURL:j,encodeLocation(G){let se=j(G);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:b,replace:L,go(G){return f.go(G)}};return F}function lw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Jl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function CT(r,e,n="/"){return uw(r,e,n,!1)}function uw(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=IT(r);cw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Tw(u);m=vw(f[p],y,s)}return m}function IT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=hr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),IT(f.children,e,b,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:yw(S,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of DT(f.path))u(f,m,!0,p)}),e}function DT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=DT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function cw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:_w(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var hw=/^:[\w-]+$/,fw=3,dw=2,mw=1,pw=10,gw=-2,jv=r=>r==="*";function yw(r,e){let n=r.split("/"),s=n.length;return n.some(jv)&&(s+=gw),e&&(s+=dw),n.filter(o=>!jv(o)).reduce((o,u)=>o+(hw.test(u)?fw:u===""?mw:pw),s)}function _w(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function vw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:hr([u,S.pathname]),pathnameBase:ww(hr([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=hr([u,S.pathnameBase]))}return f}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Ew(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let j=m[b]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const L=m[b];return S&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Ew(r,e=!1,n=!0){ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Tw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Aw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=zv(n.substring(1),"/"):u=zv(n,e)):u=e,{pathname:u,search:Rw(s),hash:Cw(o)}}function zv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(r){let e=bw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=Aw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),ww=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Rw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Iw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Dw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Nw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OT(r,e){let n=r;if(typeof n!="string"||!Sw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(NT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xT=["POST","PUT","PATCH","DELETE"];new Set(xT);var Ow=["GET",...xT];new Set(Ow);var _o=U.createContext(null);_o.displayName="DataRouter";var jh=U.createContext(null);jh.displayName="DataRouterState";var xw=U.createContext(!1),MT=U.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var Mw=U.createContext(new Map);Mw.displayName="Fetchers";var Vw=U.createContext(null);Vw.displayName="Await";var On=U.createContext(null);On.displayName="Navigation";var uu=U.createContext(null);uu.displayName="Location";var qi=U.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var lp=U.createContext(null);lp.displayName="RouteError";var VT="REACT_ROUTER_ERROR",kw="REDIRECT",Lw="ROUTE_ERROR_RESPONSE";function Pw(r){if(r.startsWith(`${VT}:${kw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Uw(r){if(r.startsWith(`${VT}:${Lw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Iw(e.status,e.statusText,e.data)}catch{}}function jw(r,{relative:e}={}){ct(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(On),{hash:o,pathname:u,search:f}=cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return U.useContext(uu)!=null}function gs(){return ct(vo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(uu).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(r){U.useContext(On).static||U.useLayoutEffect(r)}function Eo(){let{isDataRoute:r}=U.useContext(qi);return r?Ww():zw()}function zw(){ct(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(_o),{basename:e,navigator:n}=U.useContext(On),{matches:s}=U.useContext(qi),{pathname:o}=gs(),u=JSON.stringify(ap(s)),f=U.useRef(!1);return LT(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(ci(f.current,kT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=op(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}U.createContext(null);function cu(r,{relative:e}={}){let{matches:n}=U.useContext(qi),{pathname:s}=gs(),o=JSON.stringify(ap(n));return U.useMemo(()=>op(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Bw(r,e){return PT(r,e)}function PT(r,e,n,s,o){ct(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(On),{matches:f}=U.useContext(qi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let W=S&&S.path||"";jT(y,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let b=gs(),L;if(e){let W=typeof e=="string"?yo(e):e;ct(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),L=W}else L=b;let j=L.pathname||"/",F=j;if(E!=="/"){let W=E.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let G=CT(r,{pathname:F});ci(S||G!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ci(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=Kw(G&&G.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:hr([E,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:hr([E,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),f,n,s,o);return e&&se?U.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},se):se}function qw(){let r=Jw(),e=Dw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var Hw=U.createElement(qw,null),UT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Uw(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(qi.Provider,{value:this.props.routeContext},U.createElement(lp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(Fw,{error:r},e):e}};UT.contextType=xw;var fm=new WeakMap;function Fw({children:r,error:e}){let{basename:n}=U.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Pw(e.digest);if(s){let o=fm.get(e);if(o)throw o;let u=OT(s.location,n);if(NT&&!fm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw fm.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Gw({routeContext:r,match:e,children:n}){let s=U.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(qi.Provider,{value:r},n)}function Kw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=E),S.route.id){let{loaderData:b,errors:L}=n,j=S.route.loader&&!b.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Nw(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,b)=>{let L,j=!1,F=null,G=null;n&&(L=f&&S.route.id?f[S.route.id]:void 0,F=S.route.errorElement||Hw,m&&(p<0&&b===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,G=null):p===b&&(j=!0,G=S.route.hydrateFallbackElement||null)));let se=e.concat(u.slice(0,b+1)),W=()=>{let oe;return L?oe=F:j?oe=G:S.route.Component?oe=U.createElement(S.route.Component,null):S.route.element?oe=S.route.element:oe=E,U.createElement(Gw,{match:S,routeContext:{outlet:E,matches:se,isDataRoute:n!=null},children:oe})};return n&&(S.route.ErrorBoundary||S.route.errorElement||b===0)?U.createElement(UT,{location:n.location,revalidation:n.revalidation,component:F,error:L,children:W(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:y}):W()},null)}function up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yw(r){let e=U.useContext(_o);return ct(e,up(r)),e}function $w(r){let e=U.useContext(jh);return ct(e,up(r)),e}function Qw(r){let e=U.useContext(qi);return ct(e,up(r)),e}function cp(r){let e=Qw(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Xw(){return cp("useRouteId")}function Jw(){let r=U.useContext(lp),e=$w("useRouteError"),n=cp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Ww(){let{router:r}=Yw("useNavigate"),e=cp("useNavigate"),n=U.useRef(!1);return LT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{ci(n.current,kT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Bv={};function jT(r,e,n){!e&&!Bv[r]&&(Bv[r]=!0,ci(!1,n))}U.memo(Zw);function Zw({routes:r,future:e,state:n,onError:s}){return PT(r,void 0,n,s,e)}function e1({to:r,replace:e,state:n,relative:s}){ct(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(On);ci(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(qi),{pathname:f}=gs(),m=Eo(),p=op(r,ap(u),f,s==="path"),y=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function jl(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=yo(n));let{pathname:y="/",search:E="",hash:S="",state:b=null,key:L="default"}=n,j=U.useMemo(()=>{let F=fr(y,m);return F==null?null:{location:{pathname:F,search:E,hash:S,state:b,key:L},navigationType:s}},[m,y,E,S,b,L,s]);return ci(j!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(On.Provider,{value:p},U.createElement(uu.Provider,{children:e,value:j}))}function n1({children:r,location:e}){return Bw(Cm(r),e)}function Cm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Cm(s.props.children,u));return}ct(s.type===jl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function zh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function i1(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function r1(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function s1(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function a1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function o1(r,e){return r.button===0&&(!e||e==="_self")&&!a1(r)}var Wc=null;function l1(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var u1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(r){return r!=null&&!u1.has(r)?(ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function c1(r,e){let n,s,o,u,f;if(r1(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||ah,o=dm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(i1(r)||s1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=dm(r.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!l1()){let{name:y,type:E,value:S}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,S)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function h1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function f1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function m1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await f1(u,n);return f.links?f.links():[]}return[]}));return _1(s.flat(1).filter(d1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function p1(r,e,{includeHydrateFallback:n}={}){return g1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function g1(r){return[...new Set(r)]}function y1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function _1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(y1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function zT(){let r=U.useContext(_o);return hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function v1(){let r=U.useContext(jh);return hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fp=U.createContext(void 0);fp.displayName="FrameworkContext";function BT(){let r=U.useContext(fp);return hp(r,"You must render this element inside a <HydratedRouter> element"),r}function E1(r,e){let n=U.useContext(fp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=se=>{se.forEach(W=>{f(W.isIntersecting)})},G=new IntersectionObserver(F,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[r]),U.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let L=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:kl(m,L),onBlur:kl(p,j),onMouseEnter:kl(y,L),onMouseLeave:kl(E,j),onTouchStart:kl(S,L)}]:[!1,b,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function T1({page:r,...e}){let{router:n}=zT(),s=U.useMemo(()=>CT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(A1,{page:r,matches:s,...e}):null}function S1(r){let{manifest:e,routeModules:n}=BT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return m1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function A1({page:r,matches:e,...n}){let s=gs(),{future:o,manifest:u,routeModules:f}=BT(),{basename:m}=zT(),{loaderData:p,matches:y}=v1(),E=U.useMemo(()=>qv(r,e,y,u,s,"data"),[r,e,y,u,s]),S=U.useMemo(()=>qv(r,e,y,u,s,"assets"),[r,e,y,u,s]),b=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,G=!1;if(e.forEach(W=>{let oe=u.routes[W.route.id];!oe||!oe.hasLoader||(!E.some(Te=>Te.route.id===W.route.id)&&W.route.id in p&&f[W.route.id]?.shouldRevalidate||oe.hasClientLoader?G=!0:F.add(W.route.id))}),F.size===0)return[];let se=h1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&F.size>0&&se.searchParams.set("_routes",e.filter(W=>F.has(W.route.id)).map(W=>W.route.id).join(",")),[se.pathname+se.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),L=U.useMemo(()=>p1(S,u),[S,u]),j=S1(S);return U.createElement(U.Fragment,null,b.map(F=>U.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),L.map(F=>U.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),j.map(({key:F,link:G})=>U.createElement("link",{key:F,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function b1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w1&&(window.__reactRouterVersion="7.13.0")}catch{}function R1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=sw({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(t1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HT=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b,...L},j){let{basename:F,unstable_useTransitions:G}=U.useContext(On),se=typeof y=="string"&&qT.test(y),W=OT(y,F);y=W.to;let oe=jw(y,{relative:o}),[Te,Q,ie]=E1(s,L),I=N1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:b,unstable_useTransitions:G});function w(M){e&&e(M),M.defaultPrevented||I(M)}let R=U.createElement("a",{...L,...ie,href:W.absoluteURL||oe,onClick:W.isExternal||u?e:w,ref:b1(j,Q),target:p,"data-discover":!se&&n==="render"?"true":void 0});return Te&&!se?U.createElement(U.Fragment,null,R,U.createElement(T1,{page:oe})):R});HT.displayName="Link";var C1=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let S=cu(f,{relative:y.relative}),b=gs(),L=U.useContext(jh),{navigator:j,basename:F}=U.useContext(On),G=L!=null&&k1(S)&&m===!0,se=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,W=b.pathname,oe=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(W=W.toLowerCase(),oe=oe?oe.toLowerCase():null,se=se.toLowerCase()),oe&&F&&(oe=fr(oe,F)||oe);const Te=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let Q=W===se||!o&&W.startsWith(se)&&W.charAt(Te)==="/",ie=oe!=null&&(oe===se||!o&&oe.startsWith(se)&&oe.charAt(se.length)==="/"),I={isActive:Q,isPending:ie,isTransitioning:G},w=Q?e:void 0,R;typeof s=="function"?R=s(I):R=[s,Q?"active":null,ie?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return U.createElement(HT,{...y,"aria-current":w,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(I):p)});C1.displayName="NavLink";var I1=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b,...L},j)=>{let{unstable_useTransitions:F}=U.useContext(On),G=M1(),se=V1(m,{relative:y}),W=f.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&qT.test(m),Te=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,I=ie?.getAttribute("formmethod")||f,w=()=>G(ie||Q.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:b});F&&n!==!1?U.startTransition(()=>w()):w()};return U.createElement("form",{ref:j,method:W,action:se,onSubmit:s?p:Te,...L,"data-discover":!oe&&r==="render"?"true":void 0})});I1.displayName="Form";function D1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(r){let e=U.useContext(_o);return ct(e,D1(r)),e}function N1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=Eo(),E=gs(),S=cu(r,{relative:u});return U.useCallback(b=>{if(o1(b,e)){b.preventDefault();let L=n!==void 0?n:Jl(E)===Jl(S),j=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>j()):j()}},[E,y,S,n,s,e,r,o,u,f,m,p])}var O1=0,x1=()=>`__${String(++O1)}__`;function M1(){let{router:r}=FT("useSubmit"),{basename:e}=U.useContext(On),n=Xw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:S}=c1(u,e);if(f.navigate===!1){let b=f.fetcherKey||x1();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function V1(r,{relative:e}={}){let{basename:n}=U.useContext(On),s=U.useContext(qi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(r||".",{relative:e})},f=gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),Jl(u)}function k1(r,{relative:e}={}){let n=U.useContext(MT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FT("useViewTransitionState"),o=cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const L1=()=>{};var Hv={};const GT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},P1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(b=64)),s.push(n[E],n[S],n[b],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(GT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):P1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new U1;const b=u<<2|m>>4;if(s.push(b),y!==64){const L=m<<4&240|y>>2;if(s.push(L),S!==64){const j=y<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(r){const e=GT(r);return KT.encodeByteArray(e,!0)},Eh=function(r){return j1(r).replace(/\./g,"")},YT=function(r){try{return KT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B1=()=>z1().__FIREBASE_DEFAULTS__,q1=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},H1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YT(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return L1()||B1()||q1()||H1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$T=r=>Bh()?.emulatorHosts?.[r],F1=r=>{const e=$T(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},QT=()=>Bh()?.config,XT=r=>Bh()?.[`_${r}`];class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(r){return(await fetch(r,{credentials:"include"})).ok}function K1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Gl={};function Y1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function $1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Fv=!1;function WT(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Gl[r]===e||Gl[r]||Fv)return;Gl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=Y1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Fv=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=$1(s),L=n("text"),j=document.getElementById(L)||document.createElement("span"),F=n("learnmore"),G=document.getElementById(F)||document.createElement("a"),se=n("preprendIcon"),W=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const oe=b.element;m(oe),E(G,F);const Te=y();p(W,se),oe.append(W,j,G,Te),document.body.appendChild(oe)}u?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function X1(){const r=Bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tR(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nR(){try{return typeof indexedDB=="object"}catch{return!1}}function iR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const rR="FirebaseError";class yr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rR,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?sR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yr(o,m,s)}}function sR(r,e){return r.replace(aR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const aR=/\{\$([^}]+)}/g;function oR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Gv(u)&&Gv(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function lR(r,e){const n=new uR(r,e);return n.subscribe.bind(n)}class uR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");cR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function mm(){}function Lt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qs="[DEFAULT]";class hR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new G1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fR(r){return r===Qs?void 0:r}function dR(r){return r.instantiationMode==="EAGER"}class mR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const pR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},gR=Pe.INFO,yR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},_R=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=yR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=gR,this._logHandler=_R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const vR=(r,e)=>e.some(n=>r instanceof n);let Kv,Yv;function ER(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TR(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Im=new WeakMap,e0=new WeakMap,pm=new WeakMap,mp=new WeakMap;function SR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ZT.set(n,r)}).catch(()=>{}),mp.set(e,r),e}function AR(r){if(Im.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Im.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||e0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bR(r){Dm=r(Dm)}function wR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(gm(this),e,...n);return e0.set(s,e.sort?e.sort():[e]),is(s)}:TR().includes(r)?function(...e){return r.apply(gm(this),e),is(ZT.get(this))}:function(...e){return is(r.apply(gm(this),e))}}function RR(r){return typeof r=="function"?wR(r):(r instanceof IDBTransaction&&AR(r),vR(r,ER())?new Proxy(r,Dm):r)}function is(r){if(r instanceof IDBRequest)return SR(r);if(pm.has(r))return pm.get(r);const e=RR(r);return e!==r&&(pm.set(r,e),mp.set(e,r)),e}const gm=r=>mp.get(r);function CR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const IR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],ym=new Map;function $v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=DR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return ym.set(e,u),u}bR(r=>({...r,get:(e,n,s)=>$v(e,n)||r.get(e,n,s),has:(e,n)=>!!$v(e,n)||r.has(e,n)}));class NR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OR(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",Qv="0.14.7";const dr=new dp("@firebase/app"),xR="@firebase/app-compat",MR="@firebase/analytics-compat",VR="@firebase/analytics",kR="@firebase/app-check-compat",LR="@firebase/app-check",PR="@firebase/auth",UR="@firebase/auth-compat",jR="@firebase/database",zR="@firebase/data-connect",BR="@firebase/database-compat",qR="@firebase/functions",HR="@firebase/functions-compat",FR="@firebase/installations",GR="@firebase/installations-compat",KR="@firebase/messaging",YR="@firebase/messaging-compat",$R="@firebase/performance",QR="@firebase/performance-compat",XR="@firebase/remote-config",JR="@firebase/remote-config-compat",WR="@firebase/storage",ZR="@firebase/storage-compat",eC="@firebase/firestore",tC="@firebase/ai",nC="@firebase/firestore-compat",iC="firebase",rC="12.8.0";const Om="[DEFAULT]",sC={[Nm]:"fire-core",[xR]:"fire-core-compat",[VR]:"fire-analytics",[MR]:"fire-analytics-compat",[LR]:"fire-app-check",[kR]:"fire-app-check-compat",[PR]:"fire-auth",[UR]:"fire-auth-compat",[jR]:"fire-rtdb",[zR]:"fire-data-connect",[BR]:"fire-rtdb-compat",[qR]:"fire-fn",[HR]:"fire-fn-compat",[FR]:"fire-iid",[GR]:"fire-iid-compat",[KR]:"fire-fcm",[YR]:"fire-fcm-compat",[$R]:"fire-perf",[QR]:"fire-perf-compat",[XR]:"fire-rc",[JR]:"fire-rc-compat",[WR]:"fire-gcs",[ZR]:"fire-gcs-compat",[eC]:"fire-fst",[nC]:"fire-fst-compat",[tC]:"fire-vertex","fire-js":"fire-js",[iC]:"fire-js-all"};const Th=new Map,aC=new Map,xm=new Map;function Xv(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ao(r){const e=r.name;if(xm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,r);for(const n of Th.values())Xv(n,r);for(const n of aC.values())Xv(n,r);return!0}function pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ai(r){return r==null?!1:r.settings!==void 0}const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new hu("app","Firebase",oC);class lC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const So=rC;function t0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Om,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=QT()),!n)throw rs.create("no-options");const u=Th.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new mR(o);for(const p of xm.values())f.addComponent(p);const m=new lC(n,s,f);return Th.set(o,m),m}function n0(r=Om){const e=Th.get(r);if(!e&&r===Om&&QT())return t0();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){let s=sC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}ao(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const uC="firebase-heartbeat-database",cC=1,Wl="firebase-heartbeat-store";let _m=null;function i0(){return _m||(_m=CR(uC,cC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),_m}async function hC(r){try{const n=(await i0()).transaction(Wl),s=await n.objectStore(Wl).get(r0(r));return await n.done,s}catch(e){if(e instanceof yr)dr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function Jv(r,e){try{const s=(await i0()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,r0(r)),await s.done}catch(n){if(n instanceof yr)dr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function r0(r){return`${r.name}!${r.options.appId}`}const fC=1024,dC=30;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>dC){const o=yC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wv(),{heartbeatsToSend:n,unsentEntries:s}=pC(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function pC(r,e=fC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Zv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Zv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nR()?iR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zv(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function yC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function _C(r){ao(new Ws("platform-logger",e=>new NR(e),"PRIVATE")),ao(new Ws("heartbeat",e=>new mC(e),"PRIVATE")),ss(Nm,Qv,r),ss(Nm,Qv,"esm2020"),ss("fire-js","")}_C("");function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vC=s0,a0=new hu("auth","Firebase",s0());const Sh=new dp("@firebase/auth");function EC(r,...e){Sh.logLevel<=Pe.WARN&&Sh.warn(`Auth (${So}): ${r}`,...e)}function lh(r,...e){Sh.logLevel<=Pe.ERROR&&Sh.error(`Auth (${So}): ${r}`,...e)}function hi(r,...e){throw gp(r,...e)}function ki(r,...e){return gp(r,...e)}function o0(r,e,n){const s={...vC(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function as(r){return o0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return a0.create(r,...e)}function be(r,e,...n){if(!r)throw gp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function mr(r,e){r||lr(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function TC(){return eE()==="http:"||eE()==="https:"}function eE(){return typeof self<"u"&&self.location?.protocol||null}function SC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TC()||W1()||"connection"in navigator)?navigator.onLine:!0}function AC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||Z1()}get(){return SC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class l0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RC=new du(3e4,6e4);function ia(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ys(r,e,n,s,o={}){return u0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return J1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(y.credentials="include"),l0.fetch()(await c0(r,r.config.apiHost,n,m),y)})}async function u0(r,e,n){r._canInitEmulator=!1;const s={...bC,...e};try{const o=new IC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw o0(r,E,y);hi(r,E)}}catch(o){if(o instanceof yr)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function qh(r,e,n,s,o={}){const u=await ys(r,e,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function c0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?yp(r.config,o):`${r.config.apiScheme}://${o}`;return wC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function CC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),RC.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}function tE(r){return r!==void 0&&r.enterprise!==void 0}class DC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NC(r,e){return ys(r,"GET","/v2/recaptchaConfig",ia(r,e))}async function OC(r,e){return ys(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return ys(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xC(r,e=!1){const n=Lt(r),s=await n.getIdToken(e),o=_p(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(vm(o.auth_time)),issuedAtTime:Kl(vm(o.iat)),expirationTime:Kl(vm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function vm(r){return Number(r)*1e3}function _p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=YT(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nE(r){const e=_p(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yr&&MC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(r){const e=r.auth,n=await r.getIdToken(),s=await Zl(r,Ah(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?h0(o.providerUserInfo):[],f=LC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function kC(r){const e=Lt(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function h0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function PC(r,e){const n=await u0(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await c0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),l0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UC(r,e){return ys(r,"POST","/v2/accounts:revokeToken",ia(r,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=nE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await PC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Jr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new VC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xC(this,e)}reload(){return kC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Zl(this,OC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:L,providerData:j,stsTokenManager:F}=n;be(S&&F,e,"internal-error");const G=Za.fromJSON(this.name,F);be(typeof S=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),be(typeof b=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(y,e.name),Jr(E,e.name);const se=new oi({uid:S,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return j&&Array.isArray(j)&&(se.providerData=j.map(W=>({...W}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?h0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const iE=new Map;function ur(r){mr(r instanceof Function,"Expected a class definition");let e=iE.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iE.set(r,e),e)}class f0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f0.type="NONE";const rE=f0;function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(ur(rE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ur(rE);const f=uh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const b=await Ah(e,{idToken:E}).catch(()=>{});if(!b)break;S=await oi._fromGetAccountInfoResponse(e,b,E)}else S=oi._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new eo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}function sE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_0(e))return"Blackberry";if(v0(e))return"Webos";if(m0(e))return"Safari";if((e.includes("chrome/")||p0(e))&&!e.includes("edge/"))return"Chrome";if(y0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function d0(r=en()){return/firefox\//i.test(r)}function m0(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p0(r=en()){return/crios\//i.test(r)}function g0(r=en()){return/iemobile/i.test(r)}function y0(r=en()){return/android/i.test(r)}function _0(r=en()){return/blackberry/i.test(r)}function v0(r=en()){return/webos/i.test(r)}function vp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jC(r=en()){return vp(r)&&!!window.navigator?.standalone}function zC(){return eR()&&document.documentMode===10}function E0(r=en()){return vp(r)||y0(r)||v0(r)||_0(r)||/windows phone/i.test(r)||g0(r)}function T0(r,e=[]){let n;switch(r){case"Browser":n=sE(en());break;case"Worker":n=`${sE(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class BC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qC(r,e={}){return ys(r,"GET","/v2/passwordPolicy",ia(r,e))}const HC=6;class FC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class GC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(as(this));const n=e?Lt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qC(this),n=new FC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await UC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(r){return Lt(r)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KC(r){Hh=r}function S0(r){return Hh.loadJS(r)}function YC(){return Hh.recaptchaEnterpriseScript}function $C(){return Hh.gapiScript}function QC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class XC{constructor(){this.enterprise=new JC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WC="recaptcha-enterprise",A0="NO_RECAPTCHA";class ZC{constructor(e){this.type=WC,this.auth=Ao(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{NC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new DC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;tE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(A0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&tE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=YC();p.length!==0&&(p+=m),S0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function oE(r,e,n,s=!1,o=!1){const u=new ZC(r);let f;if(o)f=A0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function lE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await oE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await oE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function eI(r,e){const n=pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;hi(o,"already-initialized")}return n.initialize({options:e})}function tI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function nI(r,e,n){const s=Ao(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=b0(e),{host:f,port:m}=iI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Js(y,s.config.emulator)&&Js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(f)?(JT(`${u}//${f}${p}`),WT("Auth",!0)):rI()}function b0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function iI(r){const e=b0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:uE(f)}}}function uE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function rI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function sI(r,e){return ys(r,"POST","/v1/accounts:signUp",e)}async function aI(r,e){return qh(r,"POST","/v1/accounts:signInWithPassword",ia(r,e))}async function oI(r,e){return qh(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}async function lI(r,e){return qh(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}class eu extends Ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lE(e,n,"signInWithPassword",aI);case"emailLink":return oI(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lE(e,s,"signUpPassword",sI);case"emailLink":return lI(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function to(r,e){return qh(r,"POST","/v1/accounts:signInWithIdp",ia(r,e))}const uI="http://localhost";class Zs extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:uI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function cI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hI(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class Tp{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=cI(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hI(e);try{return new Tp(n)}catch{return null}}}class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tp.parseLink(n);return be(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class w0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends w0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends mu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class Zr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class es extends mu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends mu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),f=cE(s);return new oo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=cE(s);return new oo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function cE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends yr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function R0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function fI(r,e,n=!1){const s=await Zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return oo._forOperation(r,"link",s)}async function dI(r,e,n=!1){const{auth:s}=r;if(ai(s.app))return Promise.reject(as(s));const o="reauthenticate";try{const u=await Zl(r,R0(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=_p(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),oo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}async function C0(r,e,n=!1){if(ai(r.app))return Promise.reject(as(r));const s="signIn",o=await R0(r,s,e),u=await oo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function mI(r,e){return C0(Ao(r),e)}async function pI(r){const e=Ao(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function gI(r,e,n){return ai(r.app)?Promise.reject(as(r)):mI(Lt(r),bo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pI(r),s})}function yI(r,e){return Lt(r).setPersistence(e)}function _I(r,e,n,s){return Lt(r).onIdTokenChanged(e,n,s)}function vI(r,e,n){return Lt(r).beforeAuthStateChanged(e,n)}function EI(r,e,n,s){return Lt(r).onAuthStateChanged(e,n,s)}function hE(r){return Lt(r).signOut()}const Rh="__sak";class I0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TI=1e3,SI=10;class D0 extends I0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D0.type="LOCAL";const N0=D0;class O0 extends I0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O0.type="SESSION";const Sp=O0;function AI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await AI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function Ap(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class bI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Ap("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function wI(r){Li().location.href=r}function x0(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function RI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CI(){return navigator?.serviceWorker?.controller||null}function II(){return x0()?self:null}const M0="firebaseLocalStorageDb",DI=1,Ch="firebaseLocalStorage",V0="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function NI(){const r=indexedDB.deleteDatabase(M0);return new pu(r).toPromise()}function km(){const r=indexedDB.open(M0,DI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:V0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await NI(),e(await km()))})})}async function fE(r,e,n){const s=Gh(r,!0).put({[V0]:e,value:n});return new pu(s).toPromise()}async function OI(r,e){const n=Gh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function dE(r,e){const n=Gh(r,!0).delete(e);return new pu(n).toPromise()}const xI=800,MI=3;class k0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(II()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RI(),!this.activeServiceWorker)return;this.sender=new bI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await fE(e,Rh,"1"),await dE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k0.type="LOCAL";const VI=k0;new du(3e4,6e4);function kI(r,e){return e?ur(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class bp extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LI(r){return C0(r.auth,new bp(r),r.bypassAuthState)}function PI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),dI(n,new bp(r),r.bypassAuthState)}async function UI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),fI(n,new bp(r),r.bypassAuthState)}class L0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LI;case"linkViaPopup":case"linkViaRedirect":return UI;case"reauthViaPopup":case"reauthViaRedirect":return PI;default:hi(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jI=new du(2e3,1e4);class Wa extends L0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jI.get())};e()}}Wa.currentPopupAction=null;const zI="pendingRedirect",ch=new Map;class BI extends L0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await qI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qI(r,e){const n=GI(e),s=FI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function HI(r,e){ch.set(r._key(),e)}function FI(r){return ur(r._redirectPersistence)}function GI(r){return uh(zI,r.config.apiKey,r.name)}async function KI(r,e,n=!1){if(ai(r.app))return Promise.reject(as(r));const s=Ao(r),o=kI(s,e),f=await new BI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const YI=600*1e3;class $I{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!P0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function P0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function QI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P0(r);default:return!1}}async function XI(r,e={}){return ys(r,"GET","/v1/projects",e)}const JI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function ZI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await XI(r);for(const n of e)try{if(eD(n))return}catch{}hi(r,"unauthorized-domain")}function eD(r){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!WI.test(n))return!1;if(JI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const tD=new du(3e4,6e4);function pE(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nD(r){return new Promise((e,n)=>{function s(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(ki(r,"network-request-failed"))},timeout:tD.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=QC("iframefcb");return Li()[o]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},S0(`${$C()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function iD(r){return hh=hh||nD(r),hh}const rD=new du(5e3,15e3),sD="__/auth/iframe",aD="emulator/auth/iframe",oD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uD(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?yp(e,aD):`https://${r.config.authDomain}/${sD}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=lD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function cD(r){const e=await iD(r),n=Li().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:uD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ki(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},rD.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const hD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fD=500,dD=600,mD="_blank",pD="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gD(r,e,n,s=fD,o=dD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...hD,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=p0(y)?mD:n),d0(y)&&(e=e||pD,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[L,j])=>`${b}${L}=${j},`,"");if(jC(y)&&m!=="_self")return yD(e||"",m),new gE(null);const S=window.open(e||"",m,E);be(S,r,"popup-blocked");try{S.focus()}catch{}return new gE(S)}function yD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _D="__/auth/handler",vD="emulator/auth/handler",ED=encodeURIComponent("fac");async function yE(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof w0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",oR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof mu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${ED}=${encodeURIComponent(p)}`:"";return`${TD(r)}?${fu(m).slice(1)}${y}`}function TD({config:r}){return r.emulator?yp(r,vD):`https://${r.authDomain}/${_D}`}const Em="webStorageSupport";class SD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sp,this._completeRedirectFn=KI,this._overrideRedirectResult=HI}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await yE(e,n,s,Mm(),o);return gD(e,u,Ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await yE(e,n,s,Mm(),o);return wI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cD(e),s=new $I(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},o=>{const u=o?.[0]?.[Em];u!==void 0&&n(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E0()||m0()||vp()}}const AD=SD;var _E="@firebase/auth",vE="1.12.0";class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RD(r){ao(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(r)},y=new GC(s,o,u,p);return tI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ao(new Ws("auth-internal",e=>{const n=Ao(e.getProvider("auth").getImmediate());return(s=>new bD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(_E,vE,wD(r)),ss(_E,vE,"esm2020")}const CD=300,ID=XT("authIdTokenMaxAge")||CD;let EE=null;const DD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ID)return;const o=n?.token;EE!==o&&(EE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ND(r=n0()){const e=pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=eI(r,{popupRedirectResolver:AD,persistence:[VI,N0,Sp]}),s=XT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DD(u.toString());vI(n,f,()=>f(n.currentUser)),_I(n,m=>f(m))}}const o=$T("auth");return o&&nI(n,`http://${o}`),n}function OD(){return document.getElementsByTagName("head")?.[0]??document}KC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",OD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RD("Browser");var xD="firebase",MD="12.8.0";ss(xD,MD,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,U0;(function(){var r;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,x,k){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return w.prototype[x].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)M[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;x<16;++x)M[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],x=I.g[2];let k=I.g[3],N;N=w+(k^R&(x^k))+M[0]+3614090360&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(x^w&(R^x))+M[1]+3905402710&4294967295,k=w+(N<<12&4294967295|N>>>20),N=x+(R^k&(w^R))+M[2]+606105819&4294967295,x=k+(N<<17&4294967295|N>>>15),N=R+(w^x&(k^w))+M[3]+3250441966&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(k^R&(x^k))+M[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(x^w&(R^x))+M[5]+1200080426&4294967295,k=w+(N<<12&4294967295|N>>>20),N=x+(R^k&(w^R))+M[6]+2821735955&4294967295,x=k+(N<<17&4294967295|N>>>15),N=R+(w^x&(k^w))+M[7]+4249261313&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(k^R&(x^k))+M[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(x^w&(R^x))+M[9]+2336552879&4294967295,k=w+(N<<12&4294967295|N>>>20),N=x+(R^k&(w^R))+M[10]+4294925233&4294967295,x=k+(N<<17&4294967295|N>>>15),N=R+(w^x&(k^w))+M[11]+2304563134&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(k^R&(x^k))+M[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(x^w&(R^x))+M[13]+4254626195&4294967295,k=w+(N<<12&4294967295|N>>>20),N=x+(R^k&(w^R))+M[14]+2792965006&4294967295,x=k+(N<<17&4294967295|N>>>15),N=R+(w^x&(k^w))+M[15]+1236535329&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(x^k&(R^x))+M[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^x&(w^R))+M[6]+3225465664&4294967295,k=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(k^w))+M[11]+643717713&4294967295,x=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(x^k))+M[0]+3921069994&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(x^k&(R^x))+M[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^x&(w^R))+M[10]+38016083&4294967295,k=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(k^w))+M[15]+3634488961&4294967295,x=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(x^k))+M[4]+3889429448&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(x^k&(R^x))+M[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^x&(w^R))+M[14]+3275163606&4294967295,k=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(k^w))+M[3]+4107603335&4294967295,x=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(x^k))+M[8]+1163531501&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(x^k&(R^x))+M[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^x&(w^R))+M[2]+4243563512&4294967295,k=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(k^w))+M[7]+1735328473&4294967295,x=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(x^k))+M[12]+2368359562&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(R^x^k)+M[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^x)+M[8]+2272392833&4294967295,k=w+(N<<11&4294967295|N>>>21),N=x+(k^w^R)+M[11]+1839030562&4294967295,x=k+(N<<16&4294967295|N>>>16),N=R+(x^k^w)+M[14]+4259657740&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(R^x^k)+M[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^x)+M[4]+1272893353&4294967295,k=w+(N<<11&4294967295|N>>>21),N=x+(k^w^R)+M[7]+4139469664&4294967295,x=k+(N<<16&4294967295|N>>>16),N=R+(x^k^w)+M[10]+3200236656&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(R^x^k)+M[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^x)+M[0]+3936430074&4294967295,k=w+(N<<11&4294967295|N>>>21),N=x+(k^w^R)+M[3]+3572445317&4294967295,x=k+(N<<16&4294967295|N>>>16),N=R+(x^k^w)+M[6]+76029189&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(R^x^k)+M[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^x)+M[12]+3873151461&4294967295,k=w+(N<<11&4294967295|N>>>21),N=x+(k^w^R)+M[15]+530742520&4294967295,x=k+(N<<16&4294967295|N>>>16),N=R+(x^k^w)+M[2]+3299628645&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(x^(R|~k))+M[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~x))+M[7]+1126891415&4294967295,k=w+(N<<10&4294967295|N>>>22),N=x+(w^(k|~R))+M[14]+2878612391&4294967295,x=k+(N<<15&4294967295|N>>>17),N=R+(k^(x|~w))+M[5]+4237533241&4294967295,R=x+(N<<21&4294967295|N>>>11),N=w+(x^(R|~k))+M[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~x))+M[3]+2399980690&4294967295,k=w+(N<<10&4294967295|N>>>22),N=x+(w^(k|~R))+M[10]+4293915773&4294967295,x=k+(N<<15&4294967295|N>>>17),N=R+(k^(x|~w))+M[1]+2240044497&4294967295,R=x+(N<<21&4294967295|N>>>11),N=w+(x^(R|~k))+M[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~x))+M[15]+4264355552&4294967295,k=w+(N<<10&4294967295|N>>>22),N=x+(w^(k|~R))+M[6]+2734768916&4294967295,x=k+(N<<15&4294967295|N>>>17),N=R+(k^(x|~w))+M[13]+1309151649&4294967295,R=x+(N<<21&4294967295|N>>>11),N=w+(x^(R|~k))+M[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~x))+M[11]+3174756917&4294967295,k=w+(N<<10&4294967295|N>>>22),N=x+(w^(k|~R))+M[2]+718787259&4294967295,x=k+(N<<15&4294967295|N>>>17),N=R+(k^(x|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<w;){if(x==0)for(;k<=R;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(M[x++]=I.charCodeAt(k++),x==this.blockSize){o(this,M),x=0;break}}else for(;k<w;)if(M[x++]=I[k++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[w++]=this.g[R]>>>M&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function f(I,w){this.h=w;const R=[];let M=!0;for(let x=I.length-1;x>=0;x--){const k=I[x]|0;M&&k==w||(R[x]=k,M=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new f([w|0],w<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return G(y(-I));const w=[];let R=1;for(let M=0;I>=R;M++)w[M]=I/R|0,R*=4294967296;return new f(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return G(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let M=S;for(let k=0;k<I.length;k+=8){var x=Math.min(8,I.length-k);const N=parseInt(I.substring(k,k+x),w);x<8?(x=y(Math.pow(w,x)),M=M.j(x).add(y(N))):(M=M.j(R),M=M.add(y(N)))}return M}var S=p(0),b=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(F(this))return-G(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(F(this))return"-"+G(this).toString(I);const w=y(Math.pow(I,6));var R=this;let M="";for(;;){const x=Te(R,w).g;R=se(R,x.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=x,j(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function F(I){return I.h==-1}r.l=function(I){return I=se(this,I),F(I)?-1:j(I)?0:1};function G(I){const w=I.g.length,R=[];for(let M=0;M<w;M++)R[M]=~I.g[M];return new f(R,~I.h).add(b)}r.abs=function(){return F(this)?G(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let x=0;x<=w;x++){let k=M+(this.i(x)&65535)+(I.i(x)&65535),N=(k>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);M=N>>>16,k&=65535,N&=65535,R[x]=N<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function se(I,w){return I.add(G(w))}r.j=function(I){if(j(this)||j(I))return S;if(F(this))return F(I)?G(this).j(G(I)):G(G(this).j(I));if(F(I))return G(this.j(G(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<I.g.length;x++){const k=this.i(M)>>>16,N=this.i(M)&65535,$e=I.i(x)>>>16,st=I.i(x)&65535;R[2*M+2*x]+=N*st,W(R,2*M+2*x),R[2*M+2*x+1]+=k*st,W(R,2*M+2*x+1),R[2*M+2*x+1]+=N*$e,W(R,2*M+2*x+1),R[2*M+2*x+2]+=k*$e,W(R,2*M+2*x+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new f(R,0)};function W(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function oe(I,w){this.g=I,this.h=w}function Te(I,w){if(j(w))throw Error("division by zero");if(j(I))return new oe(S,S);if(F(I))return w=Te(G(I),w),new oe(G(w.g),G(w.h));if(F(w))return w=Te(I,G(w)),new oe(G(w.g),w.h);if(I.g.length>30){if(F(I)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,M=w;M.l(I)<=0;)R=Q(R),M=Q(M);var x=ie(R,1),k=ie(M,1);for(M=ie(M,2),R=ie(R,2);!j(M);){var N=k.add(M);N.l(I)<=0&&(x=x.add(R),k=N),M=ie(M,1),R=ie(R,1)}return w=se(I,x.j(w)),new oe(x,w)}for(x=S;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(R),N=k.j(w);F(N)||N.l(I)>0;)R-=M,k=y(R),N=k.j(w);j(k)&&(k=b),x=x.add(k),I=se(I,N)}return new oe(x,I)}r.B=function(I){return Te(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&I.i(M);return new f(R,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|I.i(M);return new f(R,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^I.i(M);return new f(R,this.h^I.h)};function Q(I){const w=I.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(R,I.h)}function ie(I,w){const R=w>>5;w%=32;const M=I.g.length-R,x=[];for(let k=0;k<M;k++)x[k]=w>0?I.i(k+R)>>>w|I.i(k+R+1)<<32-w:I.i(k+R);return new f(x,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,U0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,os=f}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var j0,ql,z0,fh,Lm,B0,q0,H0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,Y){for(var he=Array(arguments.length-2),De=2;De<arguments.length;De++)he[De-2]=arguments[De];return g.prototype[z].apply(A,he)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function j(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Y=z.length||0;c.length=v+Y;for(let he=0;he<Y;he++)c[v+he]=z[he]}else c.push(z)}}class F{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){f.setTimeout(()=>{throw c},0)}function se(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class W{constructor(){this.h=this.g=null}add(g,v){const A=oe.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new F(()=>new Te,c=>c.reset());class Te{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ie=!1,I=new W,w=()=>{const c=Promise.resolve(void 0);Q=()=>{c.then(R)}};function R(){for(var c;c=se();){try{c.h.call(c.g)}catch(v){G(v)}var g=oe;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function $e(c,g){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S($e,x),$e.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++X,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function le(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function D(c){const g={};for(const v in c)g[v]=c[v];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Y=0;Y<K.length;Y++)v=K[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,v,A,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const he=ge(c,g,A,z);return he>-1?(g=c[he],v||(g.fa=!1)):(g=new ce(g,this.src,Y,!!A,z),g.fa=v,c.push(g)),g};function de(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(A,z,1),Y&&(_e(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ge(c,g,v,A){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==g&&Y.capture==!!v&&Y.ha==A)return z}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ge={};function Ve(c,g,v,A,z){if(Array.isArray(g)){for(let Y=0;Y<g.length;Y++)Ve(c,g[Y],v,A,z);return null}return v=Oo(v),c&&c[st]?c.J(g,v,m(A)?!!A.capture:!1,z):on(c,g,v,!1,A,z)}function on(c,g,v,A,z,Y){if(!g)throw Error("Invalid event type");const he=m(z)?!!z.capture:!!z;let De=En(c);if(De||(c[Se]=De=new ue(c)),v=De.add(g,v,A,he,Y),v.proxy)return v;if(A=tn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(z=he),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(nn(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tn(){function c(v){return g.call(c.src,c.listener,v)}const g=Kn;return c}function ln(c,g,v,A,z){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)ln(c,g[Y],v,A,z);else A=m(A)?!!A.capture:!!A,v=Oo(v),c&&c[st]?(c=c.i,Y=String(g).toString(),Y in c.g&&(g=c.g[Y],v=ge(g,v,A,z),v>-1&&(_e(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Y],c.h--)))):c&&(c=En(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ge(g,v,A,z)),(v=c>-1?g[c]:null)&&un(v))}function un(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[st])de(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(nn(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=En(g))?(de(v,c),v.h==0&&(v.src=null,g[Se]=null)):_e(c)}}}function nn(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function Kn(c,g){if(c.da)c=!0;else{g=new $e(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&un(c),c=v.call(A,g)}return c}function En(c){return c=c[Se],c instanceof ue?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[No]||(c[No]=function(g){return c.handleEvent(g)}),c[No])}function Et(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}S(Et,M),Et.prototype[st]=!0,Et.prototype.removeEventListener=function(c,g,v,A){ln(this,c,g,v,A)};function xt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new x(g,c);else if(g instanceof x)g.target=g.target||c;else{var z=g;g=new x(A,c),re(g,z)}z=!0;let Y,he;if(v)for(he=v.length-1;he>=0;he--)Y=g.g=v[he],z=_r(Y,A,!0,g)&&z;if(Y=g.g=c,z=_r(Y,A,!0,g)&&z,z=_r(Y,A,!1,g)&&z,v)for(he=0;he<v.length;he++)Y=g.g=v[he],z=_r(Y,A,!1,g)&&z}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)_e(v[A]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Et.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function _r(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let Y=0;Y<g.length;++Y){const he=g[Y];if(he&&!he.da&&he.capture==v){const De=he.listener,gt=he.ha||he.src;he.fa&&de(c.i,he),z=De.call(gt,A)!==!1&&z}}return z&&!A.defaultPrevented}function of(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Au(c){c.g=of(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){M.call(this),this.h=c,this.g={}}S(Es,M);var xo=[];function Mo(c){ae(c.g,function(g,v){this.g.hasOwnProperty(v)&&un(g)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Mo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,lf=f.JSON.parse,bu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Ru(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){x.call(this,"d")}S(Bt,x);function xn(){x.call(this,"c")}S(xn,x);var pt={},Cu=null;function oa(){return Cu=Cu||new Et}pt.Ia="serverreachability";function Iu(c){x.call(this,pt.Ia,c)}S(Iu,x);function di(c){const g=oa();xt(g,new Iu(g))}pt.STAT_EVENT="statevent";function Ts(c,g){x.call(this,pt.STAT_EVENT,c),this.stat=g}S(Ts,x);function Tt(c){const g=oa();xt(g,new Ts(g,c))}pt.Ja="timingevent";function mi(c,g){x.call(this,pt.Ja,c),this.size=g}S(mi,x);function pi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function uf(c,g,v,A,z,Y){c.info(function(){if(c.g)if(Y){var he="",De=Y.split("&");for(let Ke=0;Ke<De.length;Ke++){var gt=De[Ke].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Ln=lt.split("_");he=Ln.length>=2&&Ln[1]=="type"?he+(lt+"="+gt+"&"):he+(lt+"=redacted&")}}}else he=null;else he=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+he})}function Du(c,g,v,A,z,Y,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+Y+" "+he})}function gi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+cf(c,v)+(A?" "+A:"")})}function Ss(c,g){c.info(function(){return"TIMEOUT: "+g})}$n.prototype.info=function(){};function cf(c,g){if(!c.g)return g;if(!g)return null;try{const Y=JSON.parse(g);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let he=1;he<A.length;he++)A[he]=""}}}}return vr(Y)}catch{return g}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function bs(){}S(bs,wu),bs.prototype.g=function(){return new XMLHttpRequest},ko=new bs;function Hi(c){return encodeURIComponent(String(c))}function Nu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Qn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function yi(c,g,v){c.M=1,c.A=ws(bt(g)),c.u=v,c.R=!0,la(c,null)}function la(c,g){c.F=Date.now(),_i(c),c.B=bt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Xn,c.g=Gu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(xo[0]=z.toString()),z=xo);for(let Y=0;Y<z.length;Y++){const he=Ve(v,z[Y],A||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),di(),uf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Zn(c)==3?g.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const De=Zn(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||De!=4||gt==7||(gt==8||Ke<=0?di(3):di(2)),vi(this);var g=this.g.ca();this.X=g;var v=hf(this);if(this.o=g==200,Du(this.i,this.v,this.B,this.l,this.S,De,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(c=Y)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Tt(12),Tn(this),Mn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=xu(this,v),lt==Pt){De==4&&(this.m=4,Tt(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Tt(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,lt,null),Ei(this,lt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(he),he.P=!0,Tt(11))}}else gi(this.i,this.l,v,null),Ei(this,v);De==4&&Tn(this),this.o&&!this.K&&(De==4?Bu(this.j,this):(this.o=!1,_i(this)))}else Gi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Tn(this),Mn(this)}}}catch{}};function hf(c){if(!Ou(c))return c.g.la();const g=qt(c.g);if(g==="")return"";let v="";const A=g.length,z=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Mn(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<A;Y++)c.h.h=!0,v+=c.h.i.decode(g[Y],{stream:!(z&&Y==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pt:(v=Number(g.substring(v,A)),isNaN(v)?St:(A+=1,A+v>g.length?Pt:(g=g.slice(A,A+v),c.C=A+v,g)))}Qn.prototype.cancel=function(){this.K=!0,Tn(this)};function _i(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(y(c.aa,c),g)}function vi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(di(),Tt(17)),Tn(this),this.m=2,Mn(this)):ua(this,this.T-c)};function Mn(c){c.j.I==0||c.K||Bu(c.j,c)}function Tn(c){vi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Mo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ei(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Si(v.h,c))){if(!c.L&&Si(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Cr(v);else break e;xs(v),Tt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(y(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&ya(v),!N(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Ke=z[g];const lt=Ke[0];if(!(lt<=v.K))if(v.K=lt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Ln=Ke[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Di=Ke[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ei=Ke[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ti=c.g;if(ti){const Ms=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var Y=A.h;Y.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Uo(Y,Y.h),Y.h=null))}if(A.G){const _a=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Xe(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var he=c;if(A.na=Fu(A,A.L?A.ba:null,A.W),he.L){jo(A.h,he);var De=he,gt=A.O;gt&&(De.H=gt),De.D&&(vi(De),_i(De)),A.g=he}else ju(A);v.i.length>0&&Ci(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ii(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ii(v,7):$o(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}di(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function Si(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Uo(c,g){c.g?c.g.add(g):c.h=g}function jo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Lo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,Y=null;A>=0?(z=c[v].substring(0,A),Y=c[v].substring(A+1)):z=c[v],g(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Sn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Bo(this,Pu(c.i)),this.m=c.m):c&&(g=String(c).match(Mu))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=Ai(g[2]||""),this.g=Ai(g[3]||"",!0),Er(this,g[4]),this.h=Ai(g[5]||"",!0),Bo(this,g[6]||"",!0),this.m=Ai(g[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}Sn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Rs(g,ha,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Rs(g,ha,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?qo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,ku)),c.join("")},Sn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?Ut(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Er(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let he=0;he<z.length;){const De=z[he++];De=="."?A&&he==z.length&&Y.push(""):De==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&he==z.length&&Y.push("")):(Y.push(De),A=!0)}A=Y.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?Bo(g,Pu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new Sn(c)}function Ut(c,g,v){c.j=v?Ai(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Bo(c,g,v){g instanceof Sr?(c.i=g,da(c.i,c.l)):(v||(g=Rs(g,Tr)),c.i=new Sr(g,c.l))}function Xe(c,g,v){c.i.set(g,v)}function ws(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Vu=/[#\?:]/g,qo=/[#\?]/g,Tr=/[#\?@]/g,ku=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,g){hn(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Lu(c,g){hn(c),g=Ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ho(c,g){return hn(c),g=Ar(c,g),c.g.has(g)}r.forEach=function(c,g){hn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Fo(c,g){hn(c);let v=[];if(typeof g=="string")Ho(c,g)&&(v=v.concat(c.g.get(Ar(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return hn(this),this.i=null,c=Ar(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Fo(this,c),c.length>0?String(c[0]):g):g};function fa(c,g,v){Lu(c,g),v.length>0&&(c.i=null,c.g.set(Ar(c,g),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=Hi(v);v=Fo(this,v);for(let Y=0;Y<v.length;Y++){let he=z;v[Y]!==""&&(he+="="+Hi(v[Y])),c.push(he)}}return this.i=c.join("&")};function Pu(c){const g=new Sr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function da(c,g){g&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Lu(this,A),fa(this,z,v))},c)),c.j=g}function Jn(c,g){const v=new $n;if(f.Image){const A=new Image;A.onload=E(Vn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Vn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Vn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Go(c,g){const v=new $n,A=new AbortController,z=setTimeout(()=>{A.abort(),Vn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Vn(v,"TestPingServer: ok",!0,g):Vn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Vn(v,"TestPingServer: error",!1,g)})}function Vn(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function br(){this.g=new bu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(bi,wu),bi.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cs,Et),r=Cs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):Wn(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let g="";return ae(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Is(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=kn(v),typeof c=="string"?v!=null&&Hi(v):Xe(c,g,v))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ze,Et);var wi=/^https?$/i,Ko=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Ds(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ko,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of v)this.g.setRequestHeader(Y,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ds(this,Y)}};function Ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Yo(c),Fi(c)}function Yo(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=Y===0){let he=String(c.D).match(Mu)[1]||null;!he&&f.self&&f.self.location&&(he=f.self.location.protocol.slice(0,-1)),A=!wi.test(he?he.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var z=Zn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Yo(c)}}finally{Fi(c)}}}}function Fi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),lf(g)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const g={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Nu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=g[z]||[];g[z]=Y,Y.push(v)}le(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Rr(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Tt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Fu(this,null,this.W),Ci(this)};function $o(c){if(pa(c),c.I==3){var g=c.V++,v=bt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),Os(c,v),g=new Qn(c,c.j,g),g.M=2,g.A=ws(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Gu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),_i(g)}Hu(c)}function Cr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function pa(c){Cr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ci(c){if(!Po(c.h)&&!c.m){c.m=!0;var g=c.Ea;Q||w(),ie||(Q(),ie=!0),I.add(g,c),c.D=0}}function ga(c,g){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(y(c.Ea,c,g),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Qn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=D(Y),re(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Uu(this,z,g),v=bt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Os(this,v),Y&&(this.R?g="headers="+Hi(kn(Y))+"&"+g:this.u&&Is(v,this.u,Y)),Uo(this.h,z),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),z.U=!0,yi(z,v,null)):yi(z,v,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Po(this.h)||Qo(this))};function Qo(c,g){var v;g?v=g.l:v=c.V++;const A=bt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),Os(c,A),c.u&&c.o&&Is(A,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),yi(v,A,g)}function Os(c,g){c.H&&ae(c.H,function(v,A){Xe(g,A,v)}),c.l&&ae({},function(v,A){Xe(g,A,v)})}function Uu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let De=-1;for(;;){const gt=["count="+v];De==-1?v>0?(De=z[0].g,gt.push("ofs="+De)):De=0:gt.push("ofs="+De);let Ke=!0;for(let lt=0;lt<v;lt++){var Y=z[lt].g;const Ln=z[lt].map;if(Y-=De,Y<0)De=Math.max(0,z[lt].g-100),Ke=!1;else try{Y="req"+Y+"_"||"";try{var he=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Di,ei]of he){let ti=ei;m(ei)&&(ti=vr(ei)),gt.push(Y+Di+"="+encodeURIComponent(ti))}}catch(Di){throw gt.push(Y+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(Ln)}}if(Ke){he=gt.join("&");break e}}he=void 0}return c=c.i.splice(0,v),g.G=c,he}function ju(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Q||w(),ie||(Q(),ie=!0),I.add(g,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(y(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cr(this),zu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),Os(c,g),c.u&&c.o&&Is(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(bt(g)),v.u=null,v.R=!0,la(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),xs(this),Tt(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,g){var v=null;if(c.g==g){ya(c),Xo(c),c.g=null;var A=2}else if(Si(c.h,g))v=g.G,jo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=oa(),xt(A,new mi(A,v)),Ci(c)}else ju(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&ga(c,g)||A==2&&xs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function qu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ii(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new Sn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(A,"https"),ws(A),z?Jn(A.toString(),v):Go(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),Hu(c),pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const g=zo(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ja,g),j(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Fu(c,g,v){var A=v instanceof Sn?bt(v):new Sn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Er(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const Y=new Sn(null);A&&Ut(Y,A),g&&(Y.g=g),z&&Er(Y,z),v&&(Y.h=v),A=Y}return v=c.G,g=c.wa,v&&g&&Xe(A,v,g),Xe(A,"VER",c.ka),Os(c,A),A}function Gu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new bi({ab:v})):new Ze(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){Et.call(this),this.g=new Rr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ki(this)}S(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){$o(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&Ci(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,sn.Z.N.call(this)};function Yu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(Yu,Bt);function $u(){xn.call(this),this.status=1}S($u,xn);function Ki(c){this.g=c}S(Ki,Ku),Ki.prototype.ra=function(){xt(this.g,"a")},Ki.prototype.qa=function(c){xt(this.g,new Yu(c))},Ki.prototype.pa=function(c){xt(this.g,new $u)},Ki.prototype.oa=function(){xt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,H0=function(){return new Ir},q0=function(){return oa()},B0=pt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,fh=As,Vo.COMPLETE="complete",z0=Vo,Ru.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ql=Ru,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,j0=Ze}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let wo="12.8.0";function VD(r){wo=r}const ea=new dp("@firebase/firestore");function $a(){return ea.logLevel}function me(r,...e){if(ea.logLevel<=Pe.DEBUG){const n=e.map(wp);ea.debug(`Firestore (${wo}): ${r}`,...n)}}function pr(r,...e){if(ea.logLevel<=Pe.ERROR){const n=e.map(wp);ea.error(`Firestore (${wo}): ${r}`,...n)}}function lo(r,...e){if(ea.logLevel<=Pe.WARN){const n=e.map(wp);ea.warn(`Firestore (${wo}): ${r}`,...n)}}function wp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,F0(r,s,n)}function F0(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||F0(e,o,s)}function Ie(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class G0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PD{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ls,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ls)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new G0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class UD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Tm(o)===Tm(u)?Ue(o,u):Tm(o)?1:-1}return Ue(r.length,e.length)}const qD=55296,HD=57343;function Tm(r){const e=r.charCodeAt(0);return e>=qD&&e<=HD}function uo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const AE="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class rt extends Vi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Vi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new $t([AE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(rt.fromString(e))}static fromName(e){return new Ee(rt.fromString(e).popFirst(5))}static empty(){return new Ee(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new rt(e.slice()))}}function K0(r,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GD(r,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function bE(r){if(!Ee.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wE(r){if(Ee.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function ta(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function gu(r,e){if(!Y0(r))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const RE=-62135596800,CE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*CE);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:Ot("string",Be._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Be(0,0))}static max(){return new Re(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function KD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new cs(o,Ee.empty(),e)}function YD(r){return new cs(r.readTime,r.key,tu)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(Re.min(),Ee.empty(),tu)}static max(){return new cs(Re.max(),Ee.empty(),tu)}}function $D(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==QD)throw r;me("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function JD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;const Cp=-1;function $h(r){return r==null}function Ih(r){return r===0&&1/r==-1/0}function WD(r){return typeof r=="number"&&Number.isInteger(r)&&!Ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const $0="";function ZD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=IE(e)),e=e2(r.get(n),e);return IE(e)}function e2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case $0:n+="";break;default:n+=u}}return n}function IE(r){return r+$0+""}function DE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function _s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Q0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new kt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X0("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=t2.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}const J0="server_timestamp",W0="__type__",Z0="__previous_value__",eS="__local_write_time__";function Ip(r){return(r?.mapValue?.fields||{})[W0]?.stringValue===J0}function Qh(r){const e=r.mapValue.fields[Z0];return Ip(e)?Qh(e):e}function nu(r){const e=hs(r.mapValue.fields[eS].timestampValue);return new Be(e.seconds,e.nanos)}class n2{constructor(e,n,s,o,u,f,m,p,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const Dh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function i2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(r.options.projectId,e)}const tS="__type__",r2="__max__",nh={mapValue:{}},nS="__vector__",Nh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ip(r)?4:a2(r)?9007199254740991:s2(r)?10:11:we(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(DE(f)!==DE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function co(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return OE(r.timestampValue,e.timestampValue);case 4:return OE(nu(r),nu(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(vt(u.latitude),vt(f.latitude));return m!==0?m:Ue(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return xE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Nh]?.arrayValue,E=p[Nh]?.arrayValue,S=Ue(y?.values?.length||0,E?.values?.length||0);return S!==0?S:xE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=Pm(p[S],E[S]);if(b!==0)return b;const L=co(m[p[S]],y[E[S]]);if(L!==0)return L}return Ue(p.length,E.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function OE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=hs(r),s=hs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function xE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function ho(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ee.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function dh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,f)=>{o+=u.length+dh(f)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function ME(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function Dp(r){return!!r&&"arrayValue"in r}function VE(r){return!!r&&"nullValue"in r}function kE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function s2(r){return(r?.mapValue?.fields||{})[tS]?.stringValue===nS}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function a2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===r2}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vn(Yl(this.value))}}function iS(r){const e=[];return _s(r.fields,((n,s)=>{const o=new $t([n]);if(mh(s)){const u=iS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Nn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),vn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function LE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function PE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function o2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class rS{}class Nt extends rS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new u2(e,n,s):n==="array-contains"?new f2(e,s):n==="in"?new d2(e,s):n==="not-in"?new m2(e,s):n==="array-contains-any"?new p2(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new c2(e,s):new h2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends rS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return sS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sS(r){return r.op==="and"}function aS(r){return l2(r)&&sS(r)}function l2(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function zm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(aS(r))return r.filters.map((e=>zm(e))).join(",");{const e=r.filters.map((n=>zm(n))).join(",");return`${r.op}(${e})`}}function oS(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof fi?(function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&oS(f,o.filters[m])),!0):!1})(r,e):void we(19439)}function lS(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(r):r instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"})(r):"Filter"}class u2 extends Nt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class c2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class h2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uS(r,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class f2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&ru(n.arrayValue,this.value)}}class d2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class m2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class p2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class g2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function UE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new g2(r,e,n,s,o,u,f)}function Np(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ho(s))).join(",")),e.Te=n}return e.Te}function Op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!o2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!oS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!PE(r.startAt,e.startAt)&&PE(r.endAt,e.endAt)}function Bm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Io{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y2(r,e,n,s,o,u,f,m){return new Io(r,e,n,s,o,u,f,m)}function cS(r){return new Io(r)}function jE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _2(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hS(r){return r.collectionGroup!==null}function $l(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt($t.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new su($t.keyField(),s))}return e.Ie}function Pi(r){const e=Ie(r);return e.Ee||(e.Ee=v2(e,$l(r))),e.Ee}function v2(r,e){if(r.limitType==="F")return UE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=r.endAt?new Oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oh(r.startAt.position,r.startAt.inclusive):null;return UE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function qm(r,e){const n=r.filters.concat([e]);return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function E2(r,e){const n=r.explicitOrderBy.concat([e]);return new Io(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Hm(r,e,n){return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Xh(r,e){return Op(Pi(r),Pi(e))&&r.limitType===e.limitType}function fS(r){return`${Np(Pi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lS(o))).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function Jh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=LE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const y=LE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,$l(s),o))})(r,e)}function T2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dS(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=S2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function S2(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?co(p,y):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}const A2=new ht(Ee.comparator);function gr(){return A2}const mS=new ht(Ee.comparator);function Hl(...r){let e=mS;for(const n of r)e=e.insert(n.key,n);return e}function pS(r){let e=mS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Ql()}function gS(){return Ql()}function Ql(){return new ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const b2=new ht(Ee.comparator),w2=new kt(Ee.comparator);function je(...r){let e=w2;for(const n of r)e=e.add(n);return e}const R2=new kt(Ue);function C2(){return R2}function xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function yS(r){return{integerValue:""+r}}function I2(r,e){return WD(e)?yS(e):xp(r,e)}class Wh{constructor(){this._=void 0}}function D2(r,e,n){return r instanceof xh?(function(o,u){const f={fields:{[W0]:{stringValue:J0},[eS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=Qh(u)),u&&(f.fields[Z0]=u),{mapValue:f}})(n,e):r instanceof au?vS(r,e):r instanceof ou?ES(r,e):(function(o,u){const f=_S(o,u),m=zE(f)+zE(o.Ae);return jm(f)&&jm(o.Ae)?yS(m):xp(o.serializer,m)})(r,e)}function N2(r,e,n){return r instanceof au?vS(r,e):r instanceof ou?ES(r,e):n}function _S(r,e){return r instanceof Mh?(function(s){return jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends Wh{}class au extends Wh{constructor(e){super(),this.elements=e}}function vS(r,e){const n=TS(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends Wh{constructor(e){super(),this.elements=e}}function ES(r,e){let n=TS(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Mh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zE(r){return vt(r.integerValue||r.doubleValue)}function TS(r){return Dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function O2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?uo(s.elements,o.elements,Bi):s instanceof Mh&&o instanceof Mh?Bi(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,e.transform)}class x2{constructor(e,n){this.version=e,this.transformResults=n}}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zh{}function SS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Mp(r.key,li.none()):new yu(r.key,r.data,li.none());{const n=r.data,s=vn.empty();let o=new kt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new Nn(o.toArray()),li.none())}}function M2(r,e,n){r instanceof yu?(function(o,u,f){const m=o.value.clone(),p=qE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof vs?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=qE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(AS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Xl(r,e,n,s){return r instanceof yu?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=u.value.clone(),E=HE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof vs?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=HE(u.fieldTransforms,p,f),E=f.data;return E.setAll(AS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function V2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=_S(s.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(s.field,u))}return n||null}function BE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((u,f)=>O2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function qE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,N2(f,m,n[o]))}return s}function HE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,D2(u,f,e))}return s}class Mp extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class L2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&M2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=SS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((n,s)=>BE(n,s)))&&uo(this.baseMutations,e.baseMutations,((n,s)=>BE(n,s)))}}class Vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return b2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Vp(e,n,s,o)}}class P2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class U2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function j2(r){switch(r){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function bS(r){if(r===void 0)return pr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:r})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function z2(){return new TextEncoder}const B2=new os([4294967295,4294967295],0);function FE(r){const e=z2().encode(r),n=new U0;return n.update(e),new Uint8Array(n.digest())}function GE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(B2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FE(e),[s,o]=GE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=FE(e),[s,o]=GE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ef(Re.min(),o,new ht(Ue),gr(),je())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,je(),je(),je())}}class gh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class wS{constructor(e,n){this.targetId=e,this.Ce=n}}class RS{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class KE{constructor(){this.ve=0,this.Fe=YE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=YE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class q2{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.He=ih(),this.Je=ih(),this.Ze=new ht(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new Ee(u.path);this.et(n,f,Zt.newNoDocument(f,Re.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof X0)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return lo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Bm(m.target)){const p=new Ee(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new ef(e,n,this.Ze,this.je,s);return this.je=gr(),this.He=ih(),this.Je=ih(),this.Ze=new ht(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new KE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ht(Ee.comparator)}function YE(){return new ht(Ee.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G2={and:"AND",or:"OR"};class K2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(r,e){return Vh(r,e.toTimestamp())}function Ui(r){return Qe(!!r,49232),Re.fromTimestamp((function(n){const s=hs(n);return new Be(s.seconds,s.nanos)})(r))}function Lp(r,e){return Gm(r,e).canonicalString()}function Gm(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function IS(r){const e=rt.fromString(r);return Qe(MS(e),10190,{key:e.toString()}),e}function Km(r,e){return Lp(r.databaseId,e.path)}function Sm(r,e){const n=IS(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(NS(n))}function DS(r,e){return Lp(r.databaseId,e)}function $2(r){const e=IS(r);return e.length===4?rt.emptyPath():NS(e)}function Ym(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NS(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $E(r,e,n){return{name:Km(r,e),fields:n.value.mapValue.fields}}function Q2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?te.UNKNOWN:bS(y.code);return new fe(E,y.message||"")})(f);n=new RS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=Ui(s.document.updateTime),f=s.document.createTime?Ui(s.document.createTime):Re.min(),m=new vn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?Ui(s.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new U2(o,u),m=s.targetId;n=new wS(m,f)}}return n}function X2(r,e){let n;if(e instanceof yu)n={update:$E(r,e.key,e.value)};else if(e instanceof Mp)n={delete:Km(r,e.key)};else if(e instanceof vs)n={update:$E(r,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof k2))return we(16599,{dt:e.type});n={verify:Km(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Y2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(r,e.precondition)),n}function J2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ui(o.updateTime):Ui(u);return f.isEqual(Re.min())&&(f=Ui(u)),new x2(f,o.transformResults||[])})(n,e)))):[]}function W2(r,e){return{documents:[DS(r,e.path)]}}function Z2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DS(r,o);const u=(function(y){if(y.length!==0)return xS(fi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Xa(b.field),direction:nN(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Fm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function eN(r){let e=$2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=OS(S);return b instanceof fi&&aS(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((b=>(function(j){return new su(Ja(j.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,$h(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(S){const b=!!S.before,L=S.values||[];return new Oh(L,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const b=!S.before,L=S.values||[];return new Oh(L,b)})(n.endAt)),y2(e,o,f,u,m,"F",p,y)}function tN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((s=>OS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function nN(r){return H2[r]}function iN(r){return F2[r]}function rN(r){return G2[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function Ja(r){return $t.fromServerFormat(r.fieldPath)}function xS(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(kE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:iN(n.op),value:n.value}}})(r):r instanceof fi?(function(n){const s=n.getFilters().map((o=>xS(o)));return s.length===1?s[0]:{compositeFilter:{op:rN(n.op),filters:s}}})(r):we(54877,{filter:r})}function sN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function VS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aN{constructor(e){this.yt=e}}function oN(r){const e=eN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hm(e,e.limit,"L"):e}class lN{constructor(){this.Sn=new uN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(cs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class uN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(kS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class fo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fo(0)}static ar(){return new fo(-1)}}const XE="LruGarbageCollector",cN=1048576;function JE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class hN{constructor(e){this.Pr=e,this.buffer=new kt(JE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(XE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?me(XE,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class dN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Yh.ce);const s=new hN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(QE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),$a()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function mN(r,e){return new dN(r,e)}class pN{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,Nn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=gr();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Xl(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new gN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ht(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=gS();E.forEach((b=>{if(!u.has(b)){const L=SS(n.get(b),s.get(b));L!==null&&S.set(b,L),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return _2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Xs());let m=tu,p=u;return f.next((y=>ne.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((E=>({batchId:m,changes:pS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const y=(function(S,b){return new Io(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,b)=>{f=f.insert(S,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Xl(E.mutation,y,Nn.empty(),Be.now()),Jh(n,y)&&(m=m.insert(p,y))})),m}))}}class _N{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:oN(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),ne.resolve()}}class vN{constructor(){this.overlays=new ht(Ee.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Xs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new P2(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class EN{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Pp{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ee(new rt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ee(new rt([])),s=new zt(n,e),o=new zt(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ee.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}class TN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new L2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Cp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ue);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new zt(new Ee(u),0);let m=new kt(Ue);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class SN{constructor(e){this.ti=e,this.docs=(function(){return new ht(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||$D(YD(E),s)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new AN(this)}getSize(e){return ne.resolve(this.size)}}class AN extends pN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class bN{constructor(e){this.persistence=e,this.ri=new ra((n=>Np(n)),Op),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new Pp,this.targetCount=0,this.oi=fo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class LS{constructor(e,n){this._i={},this.overlays={},this.ai=new Yh(0),this.ui=!1,this.ui=!0,this.ci=new EN,this.referenceDelegate=e(this),this.li=new bN(this),this.indexManager=new lN,this.remoteDocumentCache=(function(o){return new SN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new aN(n),this.Pi=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new TN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new wN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class wN extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Ri=new Pp,this.Ai=null}static Vi(e){return new Up(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=Ee.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.fi=new ra((s=>ZD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mN(this,n)}static Vi(e,n){return new kh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tR()?8:JD(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new RN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?($a()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):($a()<=Pe.DEBUG&&me("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?($a()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):ne.resolve())}gs(e,n){if(jE(n))return ne.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=je(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,Hm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,o){return jE(n)||o.isEqual(Re.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ne.resolve(null):($a()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.Ds(e,f,n,KD(o,tu)).next((m=>m)))}))}bs(e,n){let s=new kt(dS(e));return n.forEach(((o,u)=>{Jh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return $a()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(e,n,cs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const zp="LocalStore",IN=3e8;class DN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ue),this.Fs=new ra((u=>Np(u)),Op),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function NN(r,e,n,s){return new DN(r,e,n,s)}async function PS(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=je();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function ON(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,b=S.keys();let L=ne.resolve();return b.forEach((j=>{L=L.next((()=>E.getEntry(p,j))).next((F=>{const G=y.docVersions.get(j);Qe(G!==null,48541),F.version.compareTo(G)<0&&(S.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function US(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xN(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let L=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),(function(F,G,se){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=IN?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(b,L,E)&&m.push(n.li.updateTargetData(u,L))}));let p=gr(),y=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(MN(u,f,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(Re.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function MN(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=gr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(zp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function VN(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function kN(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function $m(r,e,n){const s=Ie(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Co(f))throw f;me(zp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function WE(r,e,n){const s=Ie(r);let o=Re.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const S=Ie(p),b=S.Fs.get(E);return b!==void 0?ne.resolve(S.vs.get(b)):S.li.getTargetData(y,E)})(s,f,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:je()))).next((m=>(LN(s,T2(e),m),{documents:m,ks:u})))))}function LN(r,e,n){let s=r.Ms.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class ZE{constructor(){this.activeTargetIds=C2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PN{constructor(){this.vo=new ZE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ZE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UN{Mo(e){}shutdown(){}}const eT="ConnectivityMonitor";class tT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(eT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(eT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Qm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const Am="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Qm(),m=this.Qo(e,n.toUriEncodedString());me(Am,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=To(y);return this.zo(e,m,p,s,E).then((S=>(me(Am,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw lo(Am,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=jN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class BN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Ll=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class no extends zN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=q0();Ll(e,B0.STAT_EVENT,(n=>{n.stat===Lm.PROXY?me(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Lm.NOPROXY&&me(Jt,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,n,s,o,u){const f=Qm();return new Promise(((m,p)=>{const y=new j0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const S=y.getResponseJson();me(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case fh.TIMEOUT:me(Jt,`RPC '${e}' ${f} timed out`),p(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const b=y.getStatus();if(me(Jt,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const F=(function(se){const W=se.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(W)>=0?W:te.UNKNOWN})(j.status);p(new fe(F,j.message))}else p(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);me(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Qm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");me(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,b=!1;const L=new BN({Ho:j=>{b?me(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(me(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),me(Jt,`RPC '${e}' stream ${o} sending:`,j),E.send(j))},Jo:()=>E.close()});return Ll(E,ql.EventType.OPEN,(()=>{b||(me(Jt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Ll(E,ql.EventType.CLOSE,(()=>{b||(b=!0,me(Jt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Ll(E,ql.EventType.ERROR,(j=>{b||(b=!0,lo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),L.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),Ll(E,ql.EventType.MESSAGE,(j=>{if(!b){const F=j.data[0];Qe(!!F,16349);const G=F,se=G?.error||G[0]?.error;if(se){me(Jt,`RPC '${e}' stream ${o} received error:`,se);const W=se.status;let oe=(function(ie){const I=Dt[ie];if(I!==void 0)return bS(I)})(W),Te=se.message;oe===void 0&&(oe=te.INTERNAL,Te="Unknown error status: "+W+" with message "+se.message),b=!0,L.o_(new fe(oe,Te)),E.close()}else me(Jt,`RPC '${e}' stream ${o} received:`,F),L.__(F)}})),no.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return H0()}}function qN(r){return new no(r)}function bm(){return typeof document<"u"?document:null}function tf(r){return new K2(r,!0)}no.c_=!1;class jS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const nT="PersistentStream";class zS{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(nT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(nT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HN extends zS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Ui(f.readTime):Re.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ym(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Bm(p)?{documents:W2(u,p)}:{query:Z2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CS(u,f.resumeToken);const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=tN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.K_(n)}}class FN extends zS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=J2(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ym(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>X2(this.serializer,s)))};this.K_(n)}}class GN{}class KN extends GN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Gm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Gm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YN(r,e,n,s){return new KN(r,e,n,s)}class $N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class QN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(me(na,"Restarting streams for network reachability change."),await(async function(p){const y=Ie(p);y.Ea.add(4),await vu(y),y.Va.set("Unknown"),y.Ea.delete(4),await nf(y)})(this))}))})),this.Va=new $N(s,o)}}async function nf(r){if(sa(r))for(const e of r.Ra)await e(!0)}async function vu(r){for(const e of r.Ra)await e(!1)}function BS(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?Hp(n):Do(n).O_()&&qp(n,e))}function Bp(r,e){const n=Ie(r),s=Do(n);n.Ia.delete(e),s.O_()&&qS(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Va.set("Unknown"))}function qp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Z_(e)}function qS(r,e){r.da.$e(e),Do(r).X_(e)}function Hp(r){r.da=new q2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Va.ua()}function Fp(r){return sa(r)&&!Do(r).x_()&&r.Ia.size>0}function sa(r){return Ie(r).Ea.size===0}function HS(r){r.da=void 0}async function XN(r){r.Va.set("Online")}async function JN(r){r.Ia.forEach(((e,n)=>{qp(r,e)}))}async function WN(r,e){HS(r),Fp(r)?(r.Va.ha(e),Hp(r)):r.Va.set("Unknown")}async function ZN(r,e,n){if(r.Va.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){me(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof gh?r.da.Xe(e):e instanceof wS?r.da.st(e):r.da.tt(e),!n.isEqual(Re.min()))try{const s=await US(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),qS(u,p);const S=new ns(E.target,p,y,E.sequenceNumber);qp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){me(na,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!Co(e))throw e;r.Ea.add(1),await vu(r),r.Va.set("Offline"),n||(n=()=>US(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await nf(r)}))}function FS(r,e){return e().catch((n=>Lh(r,n,e)))}async function rf(r){const e=Ie(r),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;eO(e);)try{const o=await VN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tO(e,o)}catch(o){await Lh(e,o)}GS(e)&&KS(e)}function eO(r){return sa(r)&&r.Ta.length<10}function tO(r,e){r.Ta.push(e);const n=ms(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function GS(r){return sa(r)&&!ms(r).x_()&&r.Ta.length>0}function KS(r){ms(r).start()}async function nO(r){ms(r).ra()}async function iO(r){const e=ms(r);for(const n of r.Ta)e.ea(n.mutations)}async function rO(r,e,n){const s=r.Ta.shift(),o=Vp.from(s,e,n);await FS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await rf(r)}async function sO(r,e){e&&ms(r).Y_&&await(async function(s,o){if((function(f){return j2(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await FS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await rf(s)}})(r,e),GS(r)&&KS(r)}async function iT(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),me(na,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nf(n)}async function aO(r,e){const n=Ie(r);e?(n.Ea.delete(2),await nf(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,s,o){const u=Ie(n);return u.sa(),new HN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:XN.bind(null,r),Yo:JN.bind(null,r),t_:WN.bind(null,r),J_:ZN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Fp(r)?Hp(r):r.Va.set("Unknown")):(await r.ma.stop(),HS(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=Ie(n);return u.sa(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nO.bind(null,r),t_:sO.bind(null,r),ta:iO.bind(null,r),na:rO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await rf(r)):(await r.fa.stop(),r.Ta.length>0&&(me(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Gp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Co(r))return new fe(te.UNAVAILABLE,`${e}: ${r}`);throw r}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class rT{constructor(){this.ga=new ht(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class mo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new mo(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class oO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lO{constructor(){this.queries=sT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=sT(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function sT(){return new ra((r=>fS(r)),Xh)}async function uO(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new oO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Kp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Yp(n)}async function cO(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hO(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Yp(n)}function fO(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Yp(r){r.Ca.forEach((e=>{e.next()}))}var Xm,aT;(aT=Xm||(Xm={})).Ma="default",aT.Cache="cache";class dO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}class YS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class mO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=dS(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new rT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const b=o.get(E),L=Jh(this.query,S)?S:null,j=!!b&&this.mutatedKeys.has(b.key),F=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let G=!1;b&&L?b.data.isEqual(L.data)?j!==F&&(s.track({type:3,doc:L}),G=!0):this.su(b,L)||(s.track({type:2,doc:L}),G=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!b&&L?(s.track({type:0,doc:L}),G=!0):b&&!L&&(s.track({type:1,doc:b}),G=!0,(p||y)&&(m=!0)),G&&(L?(f=f.add(L),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(L,j){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:G})}};return F(L)-F(j)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new mo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new $S(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new YS(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $p="SyncEngine";class pO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gO{constructor(e){this.key=e,this.hu=!1}}class yO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra((m=>fS(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(Ee.comparator),this.Au=new Map,this.Vu=new Pp,this.du={},this.mu=new Map,this.fu=fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _O(r,e,n=!0){const s=eA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await QS(s,e,n,!0),o}async function vO(r,e){const n=eA(r);await QS(n,e,!0,!1)}async function QS(r,e,n,s){const o=await kN(r.localStore,Pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await EO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&BS(r.remoteStore,o),m}async function EO(r,e,n,s,o){r.pu=(S,b,L)=>(async function(F,G,se,W){let oe=G.view.ru(se);oe.Ss&&(oe=await WE(F.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,oe))));const Te=W&&W.targetChanges.get(G.targetId),Q=W&&W.targetMismatches.get(G.targetId)!=null,ie=G.view.applyChanges(oe,F.isPrimaryClient,Te,Q);return lT(F,G.targetId,ie.au),ie.snapshot})(r,S,b,L);const u=await WE(r.localStore,e,!0),f=new mO(e,u.ks),m=f.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);lT(r,n,y.au);const E=new pO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function TO(r,e,n){const s=Ie(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Xh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bp(s.remoteStore,o.targetId),Jm(s,o.targetId)})).catch(Ro)):(Jm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function SO(r,e){const n=Ie(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bp(n.remoteStore,s.targetId))}async function AO(r,e,n){const s=NO(r);try{const o=await(function(f,m){const p=Ie(f),y=Be.now(),E=m.reduce(((L,j)=>L.add(j.key)),je());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let j=gr(),F=je();return p.xs.getEntries(L,E).next((G=>{j=G,j.forEach(((se,W)=>{W.isValidDocument()||(F=F.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,j))).next((G=>{S=G;const se=[];for(const W of m){const oe=V2(W,S.get(W.key).overlayedDocument);oe!=null&&se.push(new vs(W.key,oe,iS(oe.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,se,m)})).next((G=>{b=G;const se=G.applyToLocalDocumentSet(S,F);return p.documentOverlayCache.saveOverlays(L,G.batchId,se)}))})).then((()=>({batchId:b.batchId,changes:pS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new ht(Ue)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await Eu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");n.reject(u)}}async function XS(r,e){const n=Ie(r);try{const s=await xN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Eu(n,s,e)}catch(s){await Ro(s)}}function oT(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ie(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const b of S.ba)b.va(m)&&(y=!0)})),y&&Yp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bO(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(Ee.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=je().add(u),p=new ef(Re.min(),new Map,new ht(Ue),f,m);await XS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Qp(s)}else await $m(s.localStore,e,!1).then((()=>Jm(s,e,n))).catch(Ro)}async function wO(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await ON(n.localStore,e);WS(n,s,null),JS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await Ro(o)}}async function RO(r,e,n){const s=Ie(r);try{const o=await(function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Qe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);WS(s,e,n),JS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await Ro(o)}}function JS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function WS(r,e,n){const s=Ie(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Jm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||ZS(r,s)}))}function ZS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Bp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Qp(r))}function lT(r,e,n){for(const s of n)s instanceof YS?(r.Vu.addReference(s.key,e),CO(r,s)):s instanceof $S?(me($p,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||ZS(r,s.key)):we(19791,{wu:s})}function CO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(me($p,"New document in limbo: "+n),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ee(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new gO(n)),r.Ru=r.Ru.insert(n,s),BS(r.remoteStore,new ns(Pi(cS(n.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function Eu(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=jp.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(y,(b=>ne.forEach(b.Ts,(L=>E.persistence.referenceDelegate.addReference(S,b.targetId,L))).next((()=>ne.forEach(b.Is,(L=>E.persistence.referenceDelegate.removeReference(S,b.targetId,L)))))))))}catch(S){if(!Co(S))throw S;me(zp,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const L=E.vs.get(b),j=L.snapshotVersion,F=L.withLastLimboFreeSnapshotVersion(j);E.vs=E.vs.insert(b,F)}}})(s.localStore,u))}async function IO(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){me($p,"User change. New user:",e.toKey());const s=await PS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ns)}}function DO(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function eA(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.Pu.J_=hO.bind(null,e.eventManager),e.Pu.yu=fO.bind(null,e.eventManager),e}function NO(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NN(this.persistence,new CN,e.initialUser,this.serializer)}Cu(e){return new LS(Up.Vi,this.serializer)}Du(e){return new PN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class OO extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new LS((s=>kh.Vi(s,n)),this.serializer)}}class Wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IO.bind(null,this.syncEngine),await aO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lO})()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=qN(e.databaseInfo);return YN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new QN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>oT(this.syncEngine,n,0)),(function(){return tT.v()?new tT:new UN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const S=new yO(o,u,f,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);me(na,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class xO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ps="FirestoreClient";class MO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{me(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(me(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wm(r,e){r.asyncQueue.verifyOperationInProgress(),me(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await PS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VO(r);me(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>iT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>iT(e.remoteStore,o))),r._onlineComponents=e}async function VO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(ps,"Using user provided OfflineComponentProvider");try{await wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await wm(r,new Ph)}}else me(ps,"Using default OfflineComponentProvider"),await wm(r,new OO(void 0));return r._offlineComponents}async function tA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(ps,"Using user provided OnlineComponentProvider"),await uT(r,r._uninitializedComponentsProvider._online)):(me(ps,"Using default OnlineComponentProvider"),await uT(r,new Wm))),r._onlineComponents}function kO(r){return tA(r).then((e=>e.syncEngine))}async function LO(r){const e=await tA(r),n=e.eventManager;return n.onListen=_O.bind(null,e.syncEngine),n.onUnlisten=TO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),n}function PO(r,e,n={}){const s=new ls;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new xO({next:b=>{E.Nu(),f.enqueueAndForget((()=>cO(u,S))),b.fromCache&&p.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new dO(m,E,{includeMetadataChanges:!0,Ka:!0});return uO(u,S)})(await LO(r),r.asyncQueue,e,n,s))),s.promise}function UO(r,e){const n=new ls;return r.asyncQueue.enqueueAndForget((async()=>AO(await kO(r),e,n))),n.promise}function nA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const jO="ComponentProvider",cT=new Map;function zO(r,e,n,s,o){return new n2(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,nA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const iA="firestore.googleapis.com",hT=!0;class fT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=hT}else this.host=e.host,this.ssl=e.ssl??hT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cN)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kD;switch(s.type){case"firstParty":return new jD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cT.get(n);s&&(me(jO,"Removing Datastore"),cT.delete(n),s.terminate())})(this),Promise.resolve()}}function BO(r,e,n,s={}){r=ta(r,sf);const o=To(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(JT(`https://${m}`),WT("Firestore",!0)),u.host!==iA&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=K1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(S)}r._authCredentials=new LD(new G0(y,E))}}class aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,Vt._jsonSchema))return new Vt(e,s||null,new Ee(rt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Ot("string",Vt._jsonSchemaVersion),referencePath:Ot("string")};class us extends aa{constructor(e,n,s){super(e,n,cS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ee(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function _n(r,e,...n){if(r=Lt(r),K0("collection","path",e),r instanceof sf){const s=rt.fromString(e,...n);return wE(s),new us(r,null,s)}{if(!(r instanceof Vt||r instanceof us))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return wE(s),new us(r.firestore,null,s)}}function cr(r,e,...n){if(r=Lt(r),arguments.length===1&&(e=Rp.newId()),K0("doc","path",e),r instanceof sf){const s=rt.fromString(e,...n);return bE(s),new Vt(r,null,new Ee(s))}{if(!(r instanceof Vt||r instanceof us))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return bE(s),new Vt(r.firestore,r instanceof us?r.converter:null,new Ee(s))}}const dT="AsyncQueue";class mT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jS(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&me(dT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Co(e))throw e;me(dT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",pT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Tu extends sf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new mT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function qO(r,e){const n=typeof r=="object"?r:n0(),s=typeof r=="string"?r:Dh,o=pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=F1("firestore");u&&BO(o,...u)}return o}function rA(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HO(r),r._firestoreClient}function HO(r){const e=r._freezeSettings(),n=zO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new MO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Qt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(gu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Ot("string",ji._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ui(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Ot("string",ui._jsonSchemaVersion),vectorValues:Ot("object")};const FO=/^__.*__$/;class GO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class sA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:r})}}class Wp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aA(this.dataSource)&&FO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}createContext(e,n,s,o=!1){return new Wp({dataSource:e,methodName:n,targetDoc:s,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(r){const e=r._freezeSettings(),n=tf(r._databaseId);return new KO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function YO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",f,s);const m=oA(s,f);let p,y;if(u.merge)p=new Nn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=po(e,S,n);if(!f.contains(b))throw new fe(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);cA(E,b)||E.push(b)}p=new Nn(E),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new GO(new vn(m),p,y)}class af extends Jp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function $O(r,e,n,s){const o=r.createContext(1,e,n);eg("Data must be an object, but it was:",o,s);const u=[],f=vn.empty();_s(s,((p,y)=>{const E=uA(e,p,n);y=Lt(y);const S=o.childContextForFieldPath(E);if(y instanceof af)u.push(E);else{const b=Su(y,S);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Nn(u);return new sA(f,m,o.fieldTransforms)}function QO(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[po(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(po(e,u[b])),p.push(u[b+1]);const y=[],E=vn.empty();for(let b=m.length-1;b>=0;--b)if(!cA(y,m[b])){const L=m[b];let j=p[b];j=Lt(j);const F=f.childContextForFieldPath(L);if(j instanceof af)y.push(L);else{const G=Su(j,F);G!=null&&(y.push(L),E.set(L,G))}}const S=new Nn(y);return new sA(E,S,f.fieldTransforms)}function XO(r,e,n,s=!1){return Su(n,r.createContext(s?4:3,e))}function Su(r,e){if(lA(r=Lt(r)))return eg("Unsupported field value:",e,r),oA(r,e);if(r instanceof Jp)return(function(s,o){if(!aA(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Su(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:CS(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ui)return(function(f,m){const p=f instanceof ui?f.toArray():f;return{mapValue:{fields:{[tS]:{stringValue:nS},[Nh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return xp(m.serializer,E)}))}}}}}})(s,o);if(VS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Kh(s)}`)})(r,e)}function oA(r,e){const n={};return Q0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,((s,o)=>{const u=Su(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function lA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof ji||r instanceof Gn||r instanceof Vt||r instanceof Jp||r instanceof ui||VS(r))}function eg(r,e,n){if(!lA(n)||!Y0(n)){const s=Kh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function po(r,e,n){if((e=Lt(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return uA(r,e);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JO=new RegExp("[~\\*/\\[\\]]");function uA(r,e,n){if(e.search(JO)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,m+r+p)}function cA(r,e){return r.some((n=>n.isEqual(e)))}class WO{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ui(n)}convertGeoPoint(e){return new ji(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(MS(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ZO extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}const gT="@firebase/firestore",yT="4.10.0";class hA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(po("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ex extends hA{data(){return super.data()}}function tx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class fA extends tg{}function nx(r,e,...n){let s=[];e instanceof tg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ig)).length,m=u.filter((p=>p instanceof ng)).length;if(f>1||f>0&&m>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ng extends fA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ng(e,n,s)}_apply(e){const n=this._parse(e);return dA(e._query,n),new aa(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=Zp(e.firestore);return(function(u,f,m,p,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vT(S,E);const j=[];for(const F of S)j.push(_T(p,u,F));b={arrayValue:{values:j}}}else b=_T(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vT(S,E),b=XO(m,f,S,E==="in"||E==="not-in");return Nt.create(y,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ig extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)dA(f,p),f=qm(f,p)})(e._query,n),new aa(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends fA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,E2(e._query,n))}}function ix(r,e="asc"){const n=e,s=po("orderBy",r);return rg._create(s,n)}function _T(r,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!Ee.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ME(r,new Ee(s))}if(n instanceof Vt)return ME(r,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function vT(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rx(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends hA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(po("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:Ot("string",ro._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class yh extends ro{data(e={}){return super.data(e)}}class so{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:sx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ot("string",so._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function zi(r){r=ta(r,aa);const e=ta(r.firestore,Tu),n=rA(e),s=new ZO(e);return tx(r._query),PO(n,r._query).then((o=>new so(e,s,r,o)))}function ET(r,e,n,...s){r=ta(r,Vt);const o=ta(r.firestore,Tu),u=Zp(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof Xp?QO(u,"updateDoc",r._key,e,n,s):$O(u,"updateDoc",r._key,e),sg(o,[f.toMutation(r._key,li.exists(!0))])}function go(r){return sg(ta(r.firestore,Tu),[new Mp(r._key,li.none())])}function _h(r,e){const n=ta(r.firestore,Tu),s=cr(r),o=rx(r.converter,e),u=Zp(r.firestore);return sg(n,[YO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,li.exists(!1))]).then((()=>s))}function sg(r,e){const n=rA(r);return UO(n,e)}(function(e,n=!0){VD(So),ao(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Tu(new PD(s.getProvider("auth-internal")),new zD(f,s.getProvider("app-check-internal")),i2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(gT,yT,e),ss(gT,yT,"esm2020")})();const ax={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},mA=t0(ax),Pl=ND(mA),mt=qO(mA),TT="EYdciKDOi3UYBLk1u8hHams5tmO2",pA=U.createContext();function ag(){return U.useContext(pA)}function ox({children:r}){const[e,n]=U.useState(null),[s,o]=U.useState(!1),[u,f]=U.useState(!0);U.useEffect(()=>EI(Pl,S=>{n(S),o(S?.uid===TT),f(!1)}),[]);const y={currentUser:e,isAdmin:s,login:async(E,S,b=!0)=>{await yI(Pl,b?N0:Sp);const j=await gI(Pl,E,S);if(j.user.uid!==TT)throw await hE(Pl),new Error("Access denied. Admin only.");return j},logout:()=>hE(Pl),loading:u};return C.jsx(pA.Provider,{value:y,children:r})}function lx(){const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(!0),[f,m]=U.useState(""),[p,y]=U.useState(!1),{login:E}=ag(),S=Eo(),b=async L=>{L.preventDefault(),m(""),y(!0);try{await E(r,n,o),S("/dashboard")}catch(j){m(j.message||"Failed to log in")}y(!1)};return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-card",children:[C.jsxs("div",{className:"login-header",children:[C.jsx("h1",{children:"Mind Core Fitness"}),C.jsx("p",{children:"Admin Portal"})]}),f&&C.jsx("div",{className:"error-message",children:f}),C.jsxs("form",{onSubmit:b,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Email"}),C.jsx("input",{type:"email",id:"email",value:r,onChange:L=>e(L.target.value),required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Password"}),C.jsx("input",{type:"password",id:"password",value:n,onChange:L=>s(L.target.value),required:!0})]}),C.jsx("div",{className:"remember-me",children:C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:o,onChange:L=>u(L.target.checked)}),C.jsx("span",{children:"Remember me"})]})}),C.jsx("button",{type:"submit",className:"login-btn",disabled:p,children:p?"Logging in...":"Log In"})]}),C.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function ux(){const[r,e]=U.useState([]),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(null),[p,y]=U.useState({});U.useEffect(()=>{E()},[]);const E=async()=>{try{const[Q,ie]=await Promise.all([zi(nx(_n(mt,"clients"),ix("createdAt","desc"))),zi(_n(mt,"sessions"))]),I=Q.docs.map(R=>({id:R.id,...R.data()})),w=ie.docs.map(R=>({id:R.id,...R.data()}));e(I),s(w)}catch(Q){console.error("Error fetching data:",Q)}u(!1)},S=Q=>{const ie=new Date,I=ie.getFullYear(),w=(ie.getMonth()+1).toString().padStart(2,"0"),R=ie.getDate().toString().padStart(2,"0"),M=`${I}-${w}-${R}`,x=`${ie.getHours().toString().padStart(2,"0")}:${ie.getMinutes().toString().padStart(2,"0")}`;return n.filter(k=>k.clientId!==Q?!1:k.date<M||k.date===M&&k.time<x).length},b=Q=>{const ie=S(Q.id);return(Q.totalSessions||0)-ie},L=Q=>{const ie=new Date,I=ie.getFullYear(),w=(ie.getMonth()+1).toString().padStart(2,"0"),R=ie.getDate().toString().padStart(2,"0"),M=`${I}-${w}-${R}`,x=`${ie.getHours().toString().padStart(2,"0")}:${ie.getMinutes().toString().padStart(2,"0")}`;return n.filter(k=>k.clientId!==Q?!1:k.date>M||k.date===M&&k.time>=x).length},j=Q=>Q?(Q.toDate?Q.toDate():new Date(Q)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",F=async(Q,ie)=>{if(window.confirm(`Are you sure you want to delete ${ie}? This will also delete all their booked sessions.`))try{const w=n.filter(R=>R.clientId===Q).map(R=>go(cr(mt,"sessions",R.id)));await Promise.all(w),await go(cr(mt,"clients",Q)),e(r.filter(R=>R.id!==Q)),s(n.filter(R=>R.clientId!==Q))}catch(I){console.error("Error deleting client:",I),alert("Failed to delete client")}},G=Q=>{if(!Q)return"";const ie=Q.toDate?Q.toDate():new Date(Q),I=ie.getFullYear(),w=(ie.getMonth()+1).toString().padStart(2,"0"),R=ie.getDate().toString().padStart(2,"0");return`${I}-${w}-${R}`},se=Q=>{m(Q.id),y({name:Q.name,email:Q.email,weeksInBlock:Q.weeksInBlock,totalSessions:Q.totalSessions,sessionsRemaining:Q.sessionsRemaining,sessionDuration:Q.sessionDuration||45,startDate:G(Q.startDate),endDate:G(Q.endDate),status:Q.status})},W=Q=>{const{name:ie,value:I}=Q.target;if(y(w=>({...w,[ie]:I})),ie==="startDate"||ie==="weeksInBlock"){const w=ie==="startDate"?I:p.startDate,R=parseInt(ie==="weeksInBlock"?I:p.weeksInBlock);if(w&&R>0){const M=new Date(w),x=new Date(M);x.setDate(x.getDate()+R*7);const k=x.getFullYear(),N=(x.getMonth()+1).toString().padStart(2,"0"),$e=x.getDate().toString().padStart(2,"0");y(st=>({...st,[ie]:I,endDate:`${k}-${N}-${$e}`}))}}},oe=async Q=>{try{await ET(cr(mt,"clients",Q),{name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate)),status:p.status}),e(r.map(ie=>ie.id===Q?{...ie,...p,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate))}:ie)),m(null)}catch(ie){console.error("Error updating client:",ie),alert("Failed to update client")}},Te=async Q=>{try{const ie=r.find(I=>I.id===Q)?.status==="archived"?"active":"archived";await ET(cr(mt,"clients",Q),{status:ie}),e(r.map(I=>I.id===Q?{...I,status:ie}:I))}catch(ie){console.error("Error archiving client:",ie),alert("Failed to update client status")}};return o?C.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):r.length===0?C.jsxs("div",{className:"client-list-empty",children:[C.jsx("p",{children:"No clients yet"}),C.jsx("span",{children:"Add your first client to get started"})]}):C.jsx("div",{className:"client-list",children:r.map(Q=>C.jsx("div",{className:`client-card ${Q.status==="archived"?"archived":""}`,children:f===Q.id?C.jsxs("div",{className:"edit-form",children:[C.jsxs("div",{className:"edit-row",children:[C.jsx("input",{type:"text",name:"name",value:p.name,onChange:W,placeholder:"Name"}),C.jsx("input",{type:"email",name:"email",value:p.email,onChange:W,placeholder:"Email"})]}),C.jsxs("div",{className:"edit-row",children:[C.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:W,placeholder:"Weeks",min:"1"}),C.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:W,placeholder:"Total Sessions",min:"1"}),C.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:W,children:[C.jsx("option",{value:"30",children:"30 min"}),C.jsx("option",{value:"45",children:"45 min"})]})]}),C.jsxs("div",{className:"edit-row",children:[C.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:W}),C.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:W})]}),C.jsxs("div",{className:"edit-actions",children:[C.jsx("button",{className:"save-edit-btn",onClick:()=>oe(Q.id),children:"Save"}),C.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"client-header",children:[C.jsxs("div",{className:"client-info",children:[C.jsx("h3",{children:Q.name}),C.jsx("span",{className:"client-email",children:Q.email})]}),C.jsx("div",{className:"client-status",children:C.jsx("span",{className:`status-badge ${Q.status}`,children:Q.status})})]}),C.jsxs("div",{className:"client-details",children:[C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Block"}),C.jsxs("span",{className:"detail-value",children:[Q.weeksInBlock," weeks"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Sessions"}),C.jsxs("span",{className:"detail-value",children:[b(Q)," / ",Q.totalSessions," remaining"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Booked"}),C.jsxs("span",{className:"detail-value",children:[L(Q.id)," sessions"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Duration"}),C.jsxs("span",{className:"detail-value",children:[Q.sessionDuration||45," min"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Start"}),C.jsx("span",{className:"detail-value",children:j(Q.startDate)})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"End"}),C.jsx("span",{className:"detail-value",children:j(Q.endDate)})]})]}),C.jsxs("div",{className:"client-actions",children:[C.jsx("button",{className:"action-btn edit",onClick:()=>se(Q),children:"Edit"}),C.jsx("button",{className:"action-btn archive",onClick:()=>Te(Q.id),children:Q.status==="archived"?"Reactivate":"Archive"}),C.jsx("button",{className:"action-btn delete",onClick:()=>F(Q.id,Q.name),children:"Delete"})]})]})},Q.id))})}const gA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},Zm=["monday","tuesday","wednesday","thursday","friday"],cx=["Monday","Tuesday","Wednesday","Thursday","Friday"],hx=["Mon","Tue","Wed","Thu","Fri"],ST=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},fx=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),Zm.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},si=r=>{const e=r.getFullYear(),n=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`},ep=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},tp=(r,e)=>{const n=ep(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},dx=r=>{const e=gA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=tp(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=tp(s,15)}return n};function mx(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState([]),[E,S]=U.useState(null),[b,L]=U.useState(null),[j,F]=U.useState(!1),[G,se]=U.useState(!0);U.useEffect(()=>{s(fx(r))},[r]),U.useEffect(()=>{ie()},[]);const W=ae=>{if(S(ae),F(!1),ae.startDate){const le=ae.startDate.toDate?ae.startDate.toDate():new Date(ae.startDate);e(le)}L(null)},oe=ae=>{const le=new Date,D=si(le),K=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return f.filter(re=>re.clientId!==ae?!1:re.date<D||re.date===D&&re.time<K).length},Te=ae=>{const le=oe(ae.id);return(ae.totalSessions||0)-le},Q=ae=>{const le=new Date,D=le.getFullYear(),K=(le.getMonth()+1).toString().padStart(2,"0"),re=le.getDate().toString().padStart(2,"0"),ue=`${D}-${K}-${re}`,de=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return f.filter(ge=>ge.clientId!==ae?!1:ge.date>ue||ge.date===ue&&ge.time>=de).length},ie=async()=>{try{const le=(await zi(_n(mt,"clients"))).docs.map(de=>({id:de.id,...de.data()})).filter(de=>de.status==="active");u(le);const K=(await zi(_n(mt,"sessions"))).docs.map(de=>({id:de.id,...de.data()}));m(K);const ue=(await zi(_n(mt,"holidays"))).docs.map(de=>({id:de.id,...de.data()}));y(ue)}catch(ae){console.error("Error fetching data:",ae)}se(!1)},I=ae=>{const le=new Date(r);le.setDate(le.getDate()+ae*7),e(le),L(null)},w=()=>{e(new Date),L(null)},R=ae=>{const le=si(ae);return p.some(D=>D.date===le)},M=ae=>{const le=si(ae);return f.filter(D=>D.date===le)},x=(ae,le)=>{const D=si(ae);return f.find(K=>K.date===D&&K.time===le)},k=(ae,le,D)=>{const K=Zm[ae.getDay()-1];if(!K||R(ae))return!1;const re=si(ae);if(f.find(tn=>tn.date===re&&tn.time===le))return!1;const de=tp(le,D),ge=gA[K],Se=ge.morning&&de<=ge.morning.end,Ge=ge.afternoon&&de<=ge.afternoon.end,Ve=ge.morning&&le>=ge.morning.start&&le<ge.morning.end,on=ge.afternoon&&le>=ge.afternoon.start&&le<ge.afternoon.end;if(Ve&&!Se||on&&!Ge)return!1;for(const tn of f){if(tn.date!==re)continue;const ln=ep(tn.time),un=ln+(tn.duration||45),nn=ep(le),Kn=nn+D;if(nn<un&&Kn>ln)return!1}return!0},N=async(ae,le)=>{const D=x(ae,le);if(D){if(window.confirm(`Cancel ${D.clientName}'s session at ${ST(le)}?`))try{await go(cr(mt,"sessions",D.id)),m(f.filter(re=>re.id!==D.id))}catch(re){console.error("Error cancelling session:",re),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!k(ae,le,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(f.filter(re=>re.clientId===E.id).length>=E.totalSessions){alert(`${E.name} has already booked all ${E.totalSessions} sessions`);return}try{const re=si(ae),ue={clientId:E.id,clientName:E.name,date:re,time:le,duration:E.sessionDuration||45,createdAt:Be.now()},de=await _h(_n(mt,"sessions"),ue);m([...f,{id:de.id,...ue}])}catch(re){console.error("Error booking session:",re),alert("Failed to book session")}},$e=async()=>{if(!E)return;const ae=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),le=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),D=f.filter(Se=>Se.clientId!==E.id?!1:n.some(Ge=>si(Ge)===Se.date));if(D.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const K=E.weeksInBlock||Math.ceil((le-ae)/(10080*60*1e3)),re=D.map(Se=>({dayOfWeek:new Date(Se.date).getDay(),time:Se.time}));let ue=[];const de=f.filter(Se=>Se.clientId===E.id).length;for(let Se=0;Se<K;Se++){const Ge=new Date(ae);Ge.setDate(Ge.getDate()+Se*7);const Ve=new Date(Ge),on=Ve.getDay(),tn=Ve.getDate()-on+(on===0?-6:1);Ve.setDate(tn);for(const ln of re){const un=new Date(Ve),nn=ln.dayOfWeek===0?6:ln.dayOfWeek-1;un.setDate(Ve.getDate()+nn);const Kn=si(un);f.some(En=>En.clientId===E.id&&En.date===Kn&&En.time===ln.time)||un<ae||un>le||p.some(En=>En.date===Kn)||ue.push({dateKey:Kn,time:ln.time,sessionDate:un})}}const ge=de+ue.length;if(ge>E.totalSessions){alert(`This would create ${ue.length} new sessions (${ge} total), but client only has ${E.totalSessions} sessions in their package.

You can still book ${E.totalSessions-de} more sessions.`);return}if(ue.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${ue.length} new sessions across the block.

(${de} existing + ${ue.length} new = ${ge} total)

Continue?`))try{const Se=[];for(const Ge of ue){const Ve={clientId:E.id,clientName:E.name,date:Ge.dateKey,time:Ge.time,duration:E.sessionDuration||45,createdAt:Be.now()},on=await _h(_n(mt,"sessions"),Ve);Se.push({id:on.id,...Ve})}m([...f,...Se]),alert(`Created ${Se.length} new sessions!`)}catch(Se){console.error("Error repeating weekly:",Se),alert("Failed to repeat sessions")}},st=async ae=>{const le=si(ae),D=p.find(K=>K.date===le);try{if(D)await go(cr(mt,"holidays",D.id)),y(p.filter(K=>K.id!==D.id));else{const K=await _h(_n(mt,"holidays"),{date:le,createdAt:Be.now()});y([...p,{id:K.id,date:le}])}}catch(K){console.error("Error toggling day availability:",K),alert("Failed to update day availability")}};if(G)return C.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const X=n[0],ce=n[4],_e=X&&ce?`${X.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${ce.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return C.jsxs("div",{className:"calendar",children:[C.jsxs("div",{className:"calendar-header",children:[C.jsxs("div",{className:"calendar-nav",children:[C.jsx("button",{onClick:()=>I(-1),children:""}),C.jsx("button",{onClick:w,children:"Today"}),C.jsx("button",{onClick:()=>I(1),children:""})]}),C.jsx("h3",{children:_e})]}),C.jsxs("div",{className:"client-selector",children:[C.jsx("span",{className:"selector-label",children:"Booking for:"}),E?C.jsxs("div",{className:"selected-client",children:[C.jsxs("div",{className:"selected-info",children:[C.jsx("strong",{children:E.name}),C.jsxs("span",{children:[E.sessionDuration||45,"min  ",Te(E),"/",E.totalSessions," remaining"]}),C.jsxs("span",{className:"booked-info",children:[Q(E.id)," booked"]})]}),C.jsx("button",{onClick:()=>S(null),children:"Change"})]}):C.jsx("button",{className:"select-client-btn",onClick:()=>F(!0),children:"Select Client"})]}),E&&C.jsxs("div",{className:"repeat-weekly-section",children:[C.jsx("button",{className:"repeat-weekly-btn",onClick:$e,children:"Repeat This Week's Schedule For All Weeks"}),C.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),C.jsx("div",{className:"day-cards",children:n.map((ae,le)=>{const D=M(ae),K=si(ae)===si(new Date),re=R(ae);return C.jsxs("div",{className:`day-card ${b===le?"selected":""} ${K?"today":""} ${re?"holiday":""}`,onClick:()=>L(b===le?null:le),children:[C.jsxs("div",{className:"day-card-header",children:[C.jsx("span",{className:"day-name",children:hx[le]}),C.jsx("span",{className:"day-date",children:ae.getDate()})]}),re?C.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):C.jsxs("div",{className:"day-card-status",children:[D.length," session",D.length!==1?"s":""]})]},le)})}),b!==null&&n[b]&&C.jsxs("div",{className:"time-panel",children:[C.jsxs("div",{className:"time-panel-header",children:[C.jsxs("h4",{children:[cx[b]," ",n[b].getDate()]}),C.jsx("button",{className:"close-panel",onClick:()=>L(null),children:""})]}),C.jsx("div",{className:"availability-toggle",children:C.jsx("button",{className:`toggle-availability-btn ${R(n[b])?"unavailable":"available"}`,onClick:()=>st(n[b]),children:R(n[b])?"Mark Day Available":"Mark Day Unavailable"})}),R(n[b])?C.jsxs("div",{className:"day-unavailable-message",children:[C.jsx("p",{children:"This day is marked as unavailable"}),C.jsx("span",{children:"Tap the button above to make it available again"})]}):C.jsx("div",{className:"time-slots",children:dx(Zm[b]).map(({time:ae,period:le},D,K)=>{const re=x(n[b],ae),ue=E&&k(n[b],ae,E.sessionDuration||45),de=D===0||K[D-1]?.period!==le;return C.jsxs("div",{children:[de&&C.jsx("div",{className:"period-label",children:le==="morning"?"Morning":"Afternoon"}),C.jsxs("button",{className:`time-slot ${re?"booked":""} ${ue?"available":""} ${!re&&!ue&&E?"unavailable":""}`,onClick:()=>N(n[b],ae),children:[C.jsx("span",{className:"slot-time",children:ST(ae)}),re?C.jsxs("span",{className:"slot-client",children:[re.clientName," (",re.duration,"m)"]}):ue?C.jsx("span",{className:"slot-available",children:"Available"}):E?C.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):C.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},ae)})})]}),j&&C.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:C.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h3",{children:"Select Client"}),C.jsx("button",{className:"close-btn",onClick:()=>F(!1),children:""})]}),C.jsx("div",{className:"client-list-picker",children:o.length===0?C.jsx("p",{className:"no-items",children:"No active clients"}):o.map(ae=>{const le=ae.startDate?.toDate?ae.startDate.toDate():new Date(ae.startDate),D=ae.endDate?.toDate?ae.endDate.toDate():new Date(ae.endDate),K=Te(ae),re=Q(ae.id);return C.jsxs("button",{className:"client-option",onClick:()=>W(ae),children:[C.jsx("strong",{children:ae.name}),C.jsxs("span",{children:[ae.sessionDuration||45,"min  ",K,"/",ae.totalSessions," remaining  ",re," booked"]}),C.jsxs("span",{className:"client-dates",children:[le.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",D.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},ae.id)})})]})})]})}const AT=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},lu=r=>{const e=r.getFullYear(),n=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`},yA=r=>r===lu(new Date),px=r=>{const e=new Date;return e.setDate(e.getDate()+1),r===lu(e)},bT=r=>yA(r)?"Today":px(r)?"Tomorrow":new Date(r).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),wT=r=>{const e=new Date,n=lu(e),s=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(r.date<n)return!0;if(r.date===n){const o=RT(r.time)+(r.duration||45);return RT(s)>=o}return!1},RT=r=>{const[e,n]=r.split(":").map(Number);return e*60+n};function gx(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(new Date);U.useEffect(()=>{f();const j=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(j)},[]);const f=async()=>{try{const F=(await zi(_n(mt,"sessions"))).docs.map(W=>({id:W.id,...W.data()})),G=lu(new Date),se=F.filter(W=>W.date>=G).sort((W,oe)=>W.date!==oe.date?W.date.localeCompare(oe.date):W.time.localeCompare(oe.time));e(se)}catch(j){console.error("Error fetching sessions:",j)}s(!1)},m=async j=>{if(window.confirm(`Cancel ${j.clientName}'s session at ${AT(j.time)} on ${bT(j.date)}?`))try{await go(cr(mt,"sessions",j.id)),e(r.filter(F=>F.id!==j.id))}catch(F){console.error("Error cancelling session:",F),alert("Failed to cancel session")}};if(n)return C.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const p=r.reduce((j,F)=>{const G=F.date;return j[G]||(j[G]=[]),j[G].push(F),j},{}),y=Object.keys(p).sort(),E=lu(new Date),S=p[E]||[],b=S.filter(j=>wT(j)).length,L=S.length-b;return C.jsxs("div",{className:"schedule",children:[C.jsxs("div",{className:"today-summary",children:[C.jsx("h3",{children:"Today's Sessions"}),C.jsx("div",{className:"today-count",children:S.length===0?C.jsx("span",{className:"no-sessions",children:"No sessions today"}):C.jsxs("div",{className:"today-stats",children:[C.jsxs("span",{className:"completed-count",children:[b," completed"]}),C.jsxs("span",{className:"remaining-count",children:[L," remaining"]})]})})]}),y.length===0?C.jsx("div",{className:"no-upcoming",children:C.jsx("p",{children:"No upcoming sessions booked"})}):C.jsx("div",{className:"sessions-list",children:y.map(j=>C.jsxs("div",{className:`date-group ${yA(j)?"today":""}`,children:[C.jsxs("div",{className:"date-header",children:[C.jsx("span",{className:"date-label",children:bT(j)}),C.jsxs("span",{className:"date-count",children:[p[j].length," session",p[j].length!==1?"s":""]})]}),C.jsx("div",{className:"date-sessions",children:p[j].map(F=>{const G=wT(F);return C.jsxs("div",{className:`session-card ${G?"completed":""}`,children:[C.jsx("div",{className:"session-time",children:AT(F.time)}),C.jsxs("div",{className:"session-details",children:[C.jsx("strong",{children:F.clientName}),C.jsxs("span",{children:[F.duration,"min session"]})]}),G?C.jsx("div",{className:"completed-badge",children:""}):C.jsx("button",{className:"cancel-session-btn",onClick:()=>m(F),children:"Cancel"})]},F.id)})})]},j))})]})}const _A={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},np=["monday","tuesday","wednesday","thursday","friday"],yx=["Monday","Tuesday","Wednesday","Thursday","Friday"],_x=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},Ul=r=>{const e=r.getFullYear(),n=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`},vx=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),np.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},ip=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},rp=(r,e)=>{const n=ip(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},Ex=r=>{const e=_A[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=rp(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=rp(s,15)}return n};function Tx(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState(!0),[E,S]=U.useState(45);U.useEffect(()=>{s(vx(r))},[r]),U.useEffect(()=>{b()},[]);const b=async()=>{try{const ie=(await zi(_n(mt,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));u(ie);const w=(await zi(_n(mt,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));m(w)}catch(Q){console.error("Error fetching data:",Q)}y(!1)},L=Q=>{const ie=new Date(r);ie.setDate(ie.getDate()+Q*7),e(ie)},j=()=>{e(new Date)},F=Q=>{const ie=Ul(Q);return f.some(I=>I.date===ie)},G=(Q,ie)=>{const I=np[Q.getDay()-1];if(!I||F(Q))return!1;const w=Ul(Q),R=new Date,M=Ul(R);if(w<M)return!1;if(w===M){const ce=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(ie<ce)return!1}const x=rp(ie,E),k=_A[I],N=k.morning&&ie>=k.morning.start&&ie<k.morning.end,$e=k.afternoon&&ie>=k.afternoon.start&&ie<k.afternoon.end,st=k.morning&&x<=k.morning.end,X=k.afternoon&&x<=k.afternoon.end;if(N&&!st||$e&&!X)return!1;for(const ce of o){if(ce.date!==w)continue;const _e=ip(ce.time),ae=_e+(ce.duration||45),le=ip(ie),D=le+E;if(le<ae&&D>_e)return!1}return!0},se=(Q,ie)=>{const I=np[ie];return Ex(I).filter(R=>G(Q,R.time))};if(p)return C.jsx("div",{className:"availability-loading",children:"Loading availability..."});const W=n[0],oe=n[4],Te=W&&oe?`${W.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${oe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return C.jsxs("div",{className:"availability",children:[C.jsxs("div",{className:"availability-header",children:[C.jsxs("div",{className:"availability-nav",children:[C.jsx("button",{onClick:()=>L(-1),children:""}),C.jsx("button",{onClick:j,children:"Today"}),C.jsx("button",{onClick:()=>L(1),children:""})]}),C.jsx("h3",{children:Te}),C.jsxs("div",{className:"duration-selector",children:[C.jsx("label",{children:"Session:"}),C.jsxs("select",{value:E,onChange:Q=>S(Number(Q.target.value)),children:[C.jsx("option",{value:30,children:"30 min"}),C.jsx("option",{value:45,children:"45 min"}),C.jsx("option",{value:60,children:"60 min"})]})]})]}),C.jsx("div",{className:"availability-grid",children:n.map((Q,ie)=>{const I=F(Q),w=I?[]:se(Q,ie),R=Ul(Q)===Ul(new Date),M=Q<new Date&&!R;return C.jsxs("div",{className:`day-column ${R?"today":""} ${M?"past":""}`,children:[C.jsxs("div",{className:"day-header",children:[C.jsx("span",{className:"day-name",children:yx[ie]}),C.jsxs("span",{className:"day-date",children:[Q.getDate(),"/",Q.getMonth()+1]}),I&&C.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),C.jsx("div",{className:"slots-container",children:I?C.jsx("div",{className:"no-slots",children:"Unavailable"}):w.length===0?C.jsx("div",{className:"no-slots",children:"Fully booked"}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"slots-count",children:[w.length," slots"]}),C.jsx("div",{className:"slots-list",children:w.map(x=>C.jsx("div",{className:`slot ${x.period}`,children:_x(x.time)},x.time))})]})})]},ie)})})]})}function Sx(){const[r,e]=U.useState("schedule"),[n,s]=U.useState(0),[o,u]=U.useState(!1),{currentUser:f,logout:m,isAdmin:p,loading:y}=ag(),E=Eo(),S=U.useRef(0),b=U.useRef(!1);U.useRef(null),U.useEffect(()=>{!y&&(!f||!p)&&E("/")},[f,p,y,E]),U.useEffect(()=>{(async()=>{if(!(!f||!p))try{const[se,W]=await Promise.all([zi(_n(mt,"clients")),zi(_n(mt,"sessions"))]),oe=new Set(se.docs.map(Q=>Q.id)),Te=W.docs.filter(Q=>!oe.has(Q.data().clientId));if(Te.length>0){console.log(`Cleaning up ${Te.length} orphaned sessions...`);const Q=Te.map(ie=>go(cr(mt,"sessions",ie.id)));await Promise.all(Q),console.log("Orphaned sessions cleaned up successfully")}}catch(se){console.error("Error cleaning up orphaned sessions:",se)}})()},[f,p]),U.useEffect(()=>{const G=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,se=Te=>{G()<=0&&(S.current=Te.touches[0].clientY,b.current=!0)},W=Te=>{if(!b.current)return;const ie=Te.touches[0].clientY-S.current;ie>0&&G()<=0&&s(Math.min(ie*.5,80))},oe=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):s(0),b.current=!1};return document.addEventListener("touchstart",se,{passive:!0}),document.addEventListener("touchmove",W,{passive:!0}),document.addEventListener("touchend",oe),()=>{document.removeEventListener("touchstart",se),document.removeEventListener("touchmove",W),document.removeEventListener("touchend",oe)}},[n]);const L=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},j=async()=>{try{await m(),E("/")}catch(G){console.error("Failed to log out:",G)}},F=()=>{E("/add-client")};return y?C.jsx("div",{className:"loading",children:"Loading..."}):!f||!p?null:C.jsxs("div",{className:"dashboard",children:[n>0&&C.jsxs("div",{className:"pull-indicator",style:{height:n},children:[C.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),C.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),C.jsxs("header",{className:"dashboard-header",children:[C.jsxs("div",{className:"header-left",children:[C.jsx("h1",{children:"Mind Core Fitness"}),C.jsx("span",{className:"admin-badge",children:"Admin"})]}),C.jsxs("nav",{className:"header-nav",children:[C.jsx("button",{className:`nav-btn ${r==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),C.jsx("button",{className:`nav-btn ${r==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),C.jsx("button",{className:`nav-btn ${r==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),C.jsx("button",{className:`nav-btn ${r==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),C.jsxs("div",{className:"header-actions",children:[C.jsx("button",{className:"refresh-btn",onClick:L,disabled:o,children:o?"":""}),C.jsx("button",{className:"logout-btn",onClick:j,children:"Log Out"})]})]}),C.jsxs("main",{className:"dashboard-main",children:[r==="schedule"&&C.jsxs("div",{className:"schedule-view",children:[C.jsx("div",{className:"view-header",children:C.jsx("h2",{children:"Schedule"})}),C.jsx(gx,{})]}),r==="clients"&&C.jsxs("div",{className:"clients-view",children:[C.jsxs("div",{className:"view-header",children:[C.jsx("h2",{children:"Clients"}),C.jsx("button",{className:"add-btn",onClick:F,children:"+ Add Client"})]}),C.jsx(ux,{})]}),r==="calendar"&&C.jsxs("div",{className:"calendar-view",children:[C.jsx("div",{className:"view-header",children:C.jsx("h2",{children:"Calendar"})}),C.jsx(mx,{})]}),r==="availability"&&C.jsxs("div",{className:"availability-view",children:[C.jsx("div",{className:"view-header",children:C.jsx("h2",{children:"Available Slots"})}),C.jsx(Tx,{})]})]})]})}function Ax(){const[r,e]=U.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,s]=U.useState(!1),[o,u]=U.useState(""),{currentUser:f,isAdmin:m,loading:p}=ag(),y=Eo();U.useEffect(()=>{!p&&(!f||!m)&&y("/")},[f,m,p,y]),U.useEffect(()=>{if(r.startDate&&r.weeksInBlock){const L=new Date(r.startDate),j=parseInt(r.weeksInBlock);if(!isNaN(j)&&j>0){const F=new Date(L);F.setDate(F.getDate()+j*7),e(G=>({...G,endDate:F.toISOString().split("T")[0]}))}}},[r.startDate,r.weeksInBlock]);const E=L=>{const{name:j,value:F}=L.target;e(G=>({...G,[j]:F}))},S=async L=>{L.preventDefault(),u(""),s(!0);try{const j={name:r.name.trim(),email:r.email.trim().toLowerCase(),weeksInBlock:parseInt(r.weeksInBlock),totalSessions:parseInt(r.numberOfSessions),sessionsRemaining:parseInt(r.numberOfSessions),sessionDuration:parseInt(r.sessionDuration),startDate:Be.fromDate(new Date(r.startDate)),endDate:Be.fromDate(new Date(r.endDate)),status:"active",createdAt:Be.now()};await _h(_n(mt,"clients"),j),y("/dashboard")}catch(j){console.error("Error adding client:",j),u("Failed to add client. Please try again."),s(!1)}},b=()=>{y("/dashboard")};return p?C.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:C.jsxs("div",{className:"add-client-page",children:[C.jsxs("header",{className:"page-header",children:[C.jsx("button",{className:"back-btn",onClick:b,children:" Back"}),C.jsx("h1",{children:"Add New Client"})]}),C.jsxs("main",{className:"page-content",children:[o&&C.jsx("div",{className:"form-error",children:o}),C.jsxs("form",{onSubmit:S,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"name",children:"Client Name"}),C.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:E,placeholder:"John Smith",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Client Email"}),C.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,placeholder:"john@example.com",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),C.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:r.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),C.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:r.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),C.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:r.sessionDuration,onChange:E,required:!0,children:[C.jsx("option",{value:"30",children:"30 minutes"}),C.jsx("option",{value:"45",children:"45 minutes"})]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"startDate",children:"Start Date"}),C.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:E,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),C.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:E,required:!0}),C.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx("button",{type:"button",className:"cancel-btn",onClick:b,children:"Cancel"}),C.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function bx(){const r=Eo();return U.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function wx(){return C.jsx(ox,{children:C.jsxs(R1,{basename:"/login",children:[C.jsx(bx,{}),C.jsxs(n1,{children:[C.jsx(jl,{path:"/",element:C.jsx(lx,{})}),C.jsx(jl,{path:"/dashboard",element:C.jsx(Sx,{})}),C.jsx(jl,{path:"/add-client",element:C.jsx(Ax,{})}),C.jsx(jl,{path:"*",element:C.jsx(e1,{to:"/",replace:!0})})]})]})})}rw.createRoot(document.getElementById("root")).render(C.jsx(U.StrictMode,{children:C.jsx(wx,{})}));
