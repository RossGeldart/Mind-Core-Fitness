import{r as f,g as Z,q as De,c as z,d as T,o as Ue,j as e,a as Ne,T as Q,w as Me,b as je,e as V,f as ze,s as Le,h as Ve,u as de,i as Ye,k as Ge,l as Ke,m as Je,n as Qe}from"./index-BfLT7Zmv.js";function Xe(){const[l,N]=f.useState([]),[p,y]=f.useState([]),[A,H]=f.useState(!0),[x,E]=f.useState(null),[o,_]=f.useState({}),[W,M]=f.useState(null),[Y,J]=f.useState(""),[m,I]=f.useState("all"),[k,O]=f.useState(null),[B,q]=f.useState({sessionNotes:"",whatWentWell:"",whatWentWrong:"",whatsNext:""}),[ne,ee]=f.useState([]),[pe,d]=f.useState(!1),[K,R]=f.useState(!1),[G,X]=f.useState("list");f.useEffect(()=>{re()},[]);const re=async()=>{try{const[s,c]=await Promise.all([Z(De(z(T,"clients"),Ue("name","asc"))),Z(z(T,"sessions"))]),w=s.docs.map(j=>({id:j.id,...j.data()})),P=c.docs.map(j=>({id:j.id,...j.data()}));N(w),y(P)}catch(s){console.error("Error fetching data:",s)}H(!1)},le=s=>{const c=new Date,w=c.getFullYear(),P=(c.getMonth()+1).toString().padStart(2,"0"),j=c.getDate().toString().padStart(2,"0"),D=`${w}-${P}-${j}`,te=`${c.getHours().toString().padStart(2,"0")}:${c.getMinutes().toString().padStart(2,"0")}`;return p.filter(ie=>ie.clientId!==s?!1:ie.date<D||ie.date===D&&ie.time<te).length},he=s=>{const c=le(s.id);return(s.totalSessions||0)-c},oe=s=>{const c=new Date,w=c.getFullYear(),P=(c.getMonth()+1).toString().padStart(2,"0"),j=c.getDate().toString().padStart(2,"0"),D=`${w}-${P}-${j}`,te=`${c.getHours().toString().padStart(2,"0")}:${c.getMinutes().toString().padStart(2,"0")}`;return p.filter(ie=>ie.clientId!==s?!1:ie.date>D||ie.date===D&&ie.time>=te).length},se=s=>s?(s.toDate?s.toDate():new Date(s)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",ue=async(s,c)=>{if(window.confirm(`Are you sure you want to delete ${c}? This will also delete all their booked sessions.`))try{const P=p.filter(j=>j.clientId===s).map(j=>je(V(T,"sessions",j.id)));await Promise.all(P),await je(V(T,"clients",s)),N(l.filter(j=>j.id!==s)),y(p.filter(j=>j.clientId!==s))}catch(w){console.error("Error deleting client:",w),alert("Failed to delete client")}},fe=s=>{if(!s)return"";const c=s.toDate?s.toDate():new Date(s),w=c.getFullYear(),P=(c.getMonth()+1).toString().padStart(2,"0"),j=c.getDate().toString().padStart(2,"0");return`${w}-${P}-${j}`},ce=s=>{E(s.id),_({name:s.name,email:s.email,password:"",clientType:s.clientType||"block",weeksInBlock:s.weeksInBlock||"",totalSessions:s.totalSessions||"",sessionsRemaining:s.sessionsRemaining,sessionDuration:s.sessionDuration||45,startDate:fe(s.startDate),endDate:fe(s.endDate),status:s.status,hasPortalAccess:!!s.uid,circuitAccess:!!s.circuitAccess,coreBuddyAccess:!!s.coreBuddyAccess,buddyEnabled:!!s.buddyEnabled,coreBuddyPlan:s.coreBuddyPlan||"free",isJunior:!!s.isJunior})},U=s=>{const{name:c,value:w}=s.target;if(_(P=>({...P,[c]:w})),c==="startDate"||c==="weeksInBlock"){const P=c==="startDate"?w:o.startDate,j=parseInt(c==="weeksInBlock"?w:o.weeksInBlock);if(P&&j>0){const D=new Date(P),te=new Date(D);te.setDate(te.getDate()+j*7);const ie=te.getFullYear(),Se=(te.getMonth()+1).toString().padStart(2,"0"),ye=te.getDate().toString().padStart(2,"0");_(Be=>({...Be,[c]:w,endDate:`${ie}-${Se}-${ye}`}))}}},xe=async s=>{try{const c=l.find(D=>D.id===s);let w=c?.uid;if(o.password&&o.password.length>=6&&!c?.uid)try{const D=await ze(Le,o.email.trim().toLowerCase(),o.password);await Ve(Le),w=D.user.uid}catch(D){if(console.error("Error creating auth account:",D),D.code==="auth/email-already-in-use")alert("This email already has a portal account. Password not changed.");else if(D.code==="auth/weak-password"){alert("Password must be at least 6 characters.");return}else{alert("Failed to create portal account: "+D.message);return}}const P=o.clientType==="block",j={name:o.name.trim(),email:o.email.trim().toLowerCase(),clientType:o.clientType,status:o.status,coreBuddyAccess:o.coreBuddyAccess,buddyEnabled:o.buddyEnabled,isJunior:o.isJunior};if(P)j.weeksInBlock=parseInt(o.weeksInBlock)||0,j.totalSessions=parseInt(o.totalSessions)||0,j.sessionDuration=parseInt(o.sessionDuration),j.circuitAccess=o.circuitAccess,o.startDate&&(j.startDate=Q.fromDate(new Date(o.startDate))),o.endDate&&(j.endDate=Q.fromDate(new Date(o.endDate)));else if(o.clientType==="core_buddy")j.coreBuddyPlan=o.coreBuddyPlan||"free",j.coreBuddyAccess=!0;else{const D=l.find(te=>te.id===s);D?.circuitStrikes===void 0&&(j.circuitStrikes=0),D?.circuitBanUntil===void 0&&(j.circuitBanUntil=null)}w&&!c?.uid&&(j.uid=w),await de(V(T,"clients",s),j),N(l.map(D=>D.id===s?{...D,...o,uid:w||D.uid,weeksInBlock:parseInt(o.weeksInBlock),totalSessions:parseInt(o.totalSessions),sessionDuration:parseInt(o.sessionDuration),startDate:Q.fromDate(new Date(o.startDate)),endDate:Q.fromDate(new Date(o.endDate))}:D)),E(null),w&&!c?.uid&&alert("Portal access created! Client can now log in.")}catch(c){console.error("Error updating client:",c),alert("Failed to update client")}},ve=async s=>{try{const c=l.find(w=>w.id===s)?.status==="archived"?"active":"archived";await de(V(T,"clients",s),{status:c}),N(l.map(w=>w.id===s?{...w,status:c}:w))}catch(c){console.error("Error archiving client:",c),alert("Failed to update client status")}},ge=async s=>{O({clientId:s.id,clientName:s.name}),X("list"),q({sessionNotes:"",whatWentWell:"",whatWentWrong:"",whatsNext:""}),d(!0);try{const c=De(z(T,"sessionNotes"),Me("clientId","==",s.id)),P=(await Z(c)).docs.map(j=>({id:j.id,...j.data()}));P.sort((j,D)=>{const te=j.createdAt?.toMillis?.()||0;return(D.createdAt?.toMillis?.()||0)-te}),ee(P)}catch(c){console.error("Error fetching notes:",c),ee([])}d(!1)},me=()=>{O(null),ee([]),X("list")},n=async()=>{if(!k)return;const{sessionNotes:s,whatWentWell:c,whatWentWrong:w,whatsNext:P}=B;if(!(!s.trim()&&!c.trim()&&!w.trim()&&!P.trim())){R(!0);try{const D=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});await Ne(z(T,"sessionNotes"),{clientId:k.clientId,date:D,sessionNotes:s.trim(),whatWentWell:c.trim(),whatWentWrong:w.trim(),whatsNext:P.trim(),createdAt:Q.now()}),q({sessionNotes:"",whatWentWell:"",whatWentWrong:"",whatsNext:""});const te=De(z(T,"sessionNotes"),Me("clientId","==",k.clientId)),Se=(await Z(te)).docs.map(ye=>({id:ye.id,...ye.data()}));Se.sort((ye,Be)=>{const Oe=ye.createdAt?.toMillis?.()||0;return(Be.createdAt?.toMillis?.()||0)-Oe}),ee(Se),X("list")}catch(j){console.error("Error saving note:",j),alert("Failed to save note. Check Firestore rules for sessionNotes collection.")}R(!1)}},g=async s=>{if(window.confirm("Delete this session note?"))try{await je(V(T,"sessionNotes",s)),ee(ne.filter(c=>c.id!==s))}catch(c){console.error("Error deleting note:",c)}};if(A)return e.jsx("div",{className:"client-list-loading",children:"Loading clients..."});if(l.length===0)return e.jsxs("div",{className:"client-list-empty",children:[e.jsx("p",{children:"No clients yet"}),e.jsx("span",{children:"Add your first client to get started"})]});const b=s=>s.clientType==="circuit_vip"?"VIP":s.clientType==="circuit_dropin"?"Drop-in":s.clientType==="core_buddy"?"Core Buddy":"Block",a=l.filter(s=>s.name?.toLowerCase().includes(Y.toLowerCase())||s.email?.toLowerCase().includes(Y.toLowerCase())).sort((s,c)=>(s.name||"").localeCompare(c.name||"")),r=s=>s.clientType==="circuit_vip"||s.clientType==="circuit_dropin",h=s=>s.clientType==="core_buddy",u=s=>s.status==="archived",t=a.filter(s=>!u(s)),i=t.filter(s=>!r(s)&&!h(s)),v=t.filter(s=>r(s)),C=t.filter(s=>h(s)),S=a.filter(s=>u(s)),F=m==="block"?i:m==="circuit"?v:m==="core_buddy"?C:m==="archived"?S:t,$=s=>{x||M(c=>c===s?null:s)},L=s=>{const c=W===s.id,w=x===s.id,P=!s.clientType||s.clientType==="block";return e.jsxs("div",{className:`client-card ${s.status==="archived"?"archived":""} ${c||w?"expanded":"collapsed"}`,children:[e.jsxs("div",{className:"client-name-row",onClick:()=>$(s.id),children:[e.jsxs("div",{className:"client-name-row-left",children:[e.jsx("span",{className:"client-name-initial",children:s.name?.charAt(0)?.toUpperCase()}),e.jsxs("div",{className:"client-name-text",children:[e.jsx("h3",{children:s.name}),e.jsx("span",{className:"client-name-sub",children:P?`${he(s)}/${s.totalSessions||0} sessions`:b(s)})]})]}),e.jsxs("div",{className:"client-name-row-right",children:[(s.clientType==="circuit_vip"||s.clientType==="circuit_dropin"||s.clientType==="core_buddy")&&e.jsx("span",{className:`client-type-badge ${s.clientType==="circuit_vip"?"vip":s.clientType==="core_buddy"?"core-buddy":"dropin"}`,children:b(s)}),e.jsx("span",{className:`status-dot ${s.status}`}),e.jsx("svg",{className:`client-chevron ${c||w?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),(c||w)&&e.jsx("div",{className:"client-expand-panel",children:w?e.jsxs("div",{className:"edit-form",children:[e.jsx("div",{className:"edit-type-toggle",children:[{value:"block",label:"Block"},{value:"circuit_vip",label:"VIP"},{value:"circuit_dropin",label:"Drop-in"},{value:"core_buddy",label:"Core Buddy"}].map(j=>e.jsx("button",{type:"button",className:`edit-type-btn ${o.clientType===j.value?"active":""}`,onClick:()=>_(D=>({...D,clientType:j.value})),children:j.label},j.value))}),e.jsxs("div",{className:"edit-row",children:[e.jsx("input",{type:"text",name:"name",value:o.name,onChange:U,placeholder:"Name"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:U,placeholder:"Email"})]}),o.clientType==="block"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"edit-row",children:[e.jsx("input",{type:"number",name:"weeksInBlock",value:o.weeksInBlock,onChange:U,placeholder:"Weeks",min:"1"}),e.jsx("input",{type:"number",name:"totalSessions",value:o.totalSessions,onChange:U,placeholder:"Total Sessions",min:"1"}),e.jsxs("select",{name:"sessionDuration",value:o.sessionDuration,onChange:U,children:[e.jsx("option",{value:"30",children:"30 min"}),e.jsx("option",{value:"45",children:"45 min"})]})]}),e.jsxs("div",{className:"edit-row",children:[e.jsx("input",{type:"date",name:"startDate",value:o.startDate,onChange:U}),e.jsx("input",{type:"date",name:"endDate",value:o.endDate,onChange:U})]})]}),o.clientType==="core_buddy"&&e.jsx("div",{className:"edit-row",children:e.jsxs("select",{name:"coreBuddyPlan",value:o.coreBuddyPlan,onChange:U,children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"premium",children:"Premium"})]})}),e.jsx("div",{className:"edit-row password-row",children:o.hasPortalAccess?e.jsx("div",{className:"portal-status has-access",children:"Has portal access"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"password",value:o.password,onChange:U,placeholder:"Set portal password (min 6 chars)"}),e.jsx("span",{className:"password-hint",children:"Set password to enable client portal"})]})}),o.clientType==="block"&&e.jsx("div",{className:"edit-row circuit-row",children:e.jsxs("label",{className:"circuit-access-toggle",children:[e.jsx("input",{type:"checkbox",checked:o.circuitAccess,onChange:j=>_(D=>({...D,circuitAccess:j.target.checked}))}),e.jsx("span",{children:"Circuit Class Access"})]})}),o.clientType!=="core_buddy"&&e.jsx("div",{className:"edit-row circuit-row",children:e.jsxs("label",{className:"circuit-access-toggle",children:[e.jsx("input",{type:"checkbox",checked:o.coreBuddyAccess,onChange:j=>_(D=>({...D,coreBuddyAccess:j.target.checked}))}),e.jsx("span",{children:"Core Buddy Access"})]})}),e.jsx("div",{className:"edit-row circuit-row",children:e.jsxs("label",{className:"circuit-access-toggle",children:[e.jsx("input",{type:"checkbox",checked:o.buddyEnabled,onChange:j=>_(D=>({...D,buddyEnabled:j.target.checked}))}),e.jsx("span",{children:"AI Buddy"})]})}),o.clientType==="block"&&e.jsx("div",{className:"edit-row circuit-row",children:e.jsxs("label",{className:"circuit-access-toggle",children:[e.jsx("input",{type:"checkbox",checked:o.isJunior,onChange:j=>_(D=>({...D,isJunior:j.target.checked}))}),e.jsx("span",{children:"Junior Client (Kids)"})]})}),e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{className:"save-edit-btn",onClick:()=>xe(s.id),children:"Save"}),e.jsx("button",{className:"cancel-edit-btn",onClick:()=>{E(null)},children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"client-expand-info",children:[e.jsx("span",{className:"client-email",children:s.email}),e.jsx("span",{className:`status-badge ${s.status}`,children:s.status})]}),P?e.jsxs("div",{className:"client-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Block"}),e.jsxs("span",{className:"detail-value",children:[s.weeksInBlock," weeks"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Sessions"}),e.jsxs("span",{className:"detail-value",children:[he(s)," / ",s.totalSessions," remaining"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Booked"}),e.jsxs("span",{className:"detail-value",children:[oe(s.id)," sessions"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Duration"}),e.jsxs("span",{className:"detail-value",children:[s.sessionDuration||45," min"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Start"}),e.jsx("span",{className:"detail-value",children:se(s.startDate)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"End"}),e.jsx("span",{className:"detail-value",children:se(s.endDate)})]})]}):s.clientType==="core_buddy"?e.jsxs("div",{className:"client-details circuit-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Plan"}),e.jsx("span",{className:"detail-value",children:s.coreBuddyPlan==="premium"?"Premium":"Free"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Joined"}),e.jsx("span",{className:"detail-value",children:se(s.createdAt)})]})]}):e.jsxs("div",{className:"client-details circuit-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Type"}),e.jsx("span",{className:"detail-value",children:s.clientType==="circuit_vip"?"Monthly VIP":"Drop-in"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Strikes"}),e.jsxs("span",{className:"detail-value",children:[s.circuitStrikes||0,"/3"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Joined"}),e.jsx("span",{className:"detail-value",children:se(s.createdAt)})]})]}),e.jsxs("div",{className:"client-actions",children:[P&&e.jsxs("button",{className:"action-btn notes",onClick:j=>{j.stopPropagation(),ge(s)},children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[e.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),"Notes"]}),e.jsx("button",{className:"action-btn edit",onClick:j=>{j.stopPropagation(),ce(s)},children:"Edit"}),e.jsx("button",{className:"action-btn archive",onClick:j=>{j.stopPropagation(),ve(s.id)},children:s.status==="archived"?"Reactivate":"Archive"}),e.jsx("button",{className:"action-btn delete",onClick:j=>{j.stopPropagation(),ue(s.id,s.name)},children:"Delete"})]})]})})]},s.id)};return e.jsxs("div",{className:"client-list",children:[e.jsxs("div",{className:"client-search",children:[e.jsxs("svg",{className:"client-search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"M21 21l-4.35-4.35"})]}),e.jsx("input",{type:"text",placeholder:"Search clients...",value:Y,onChange:s=>J(s.target.value),className:"client-search-input"}),Y&&e.jsx("button",{className:"client-search-clear",onClick:()=>J(""),children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e.jsx("div",{className:"client-type-filter",children:[{value:"all",label:"All",count:t.length},{value:"block",label:"Block",count:i.length},{value:"circuit",label:"Circuit",count:v.length},{value:"core_buddy",label:"Core Buddy",count:C.length},{value:"archived",label:"Archived",count:S.length}].map(s=>e.jsxs("button",{className:`client-filter-btn ${m===s.value?"active":""}`,onClick:()=>I(s.value),children:[s.label,e.jsx("span",{className:"client-filter-count",children:s.count})]},s.value))}),m==="all"?e.jsxs(e.Fragment,{children:[i.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"client-section-header",children:["Block Members ",e.jsx("span",{children:i.length})]}),i.map(L)]}),v.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"client-section-header",children:["Circuit Members ",e.jsx("span",{children:v.length})]}),v.map(L)]}),C.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"client-section-header",children:["Core Buddy Members ",e.jsx("span",{children:C.length})]}),C.map(L)]})]}):m==="archived"?e.jsx(e.Fragment,{children:S.length===0?e.jsx("div",{className:"client-section-empty",children:"No archived clients"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"client-section-header",children:["Archived Clients ",e.jsx("span",{children:S.length})]}),S.map(L)]})}):e.jsxs(e.Fragment,{children:[F.length===0&&e.jsxs("div",{className:"client-section-empty",children:["No ",m," clients found"]}),F.map(L)]}),k&&e.jsx("div",{className:"notes-modal-overlay",onClick:me,children:e.jsxs("div",{className:"notes-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"notes-modal-header",children:[e.jsxs("h3",{children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"20",height:"20",children:[e.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),k.clientName]}),e.jsx("button",{className:"notes-modal-close",onClick:me,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),G==="list"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"notes-modal-body",children:pe?e.jsx("div",{className:"notes-loading",children:"Loading notes..."}):ne.length===0?e.jsxs("div",{className:"notes-empty",children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",width:"40",height:"40",children:[e.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"})]}),e.jsx("p",{children:"No session notes yet"}),e.jsx("span",{children:"Add notes after each session"})]}):e.jsx("div",{className:"notes-list",children:ne.map(s=>e.jsxs("div",{className:"note-card",children:[e.jsxs("div",{className:"note-card-header",children:[e.jsx("span",{className:"note-date",children:s.date}),e.jsx("button",{className:"note-delete-btn",onClick:()=>g(s.id),children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"14",height:"14",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})]})})]}),s.sessionNotes&&e.jsxs("div",{className:"note-section",children:[e.jsx("span",{className:"note-section-label",children:"Session Notes"}),e.jsx("p",{children:s.sessionNotes})]}),s.whatWentWell&&e.jsxs("div",{className:"note-section went-well",children:[e.jsx("span",{className:"note-section-label",children:"What Went Well"}),e.jsx("p",{children:s.whatWentWell})]}),s.whatWentWrong&&e.jsxs("div",{className:"note-section went-wrong",children:[e.jsx("span",{className:"note-section-label",children:"What Went Wrong"}),e.jsx("p",{children:s.whatWentWrong})]}),s.whatsNext&&e.jsxs("div",{className:"note-section whats-next",children:[e.jsx("span",{className:"note-section-label",children:"What's Next"}),e.jsx("p",{children:s.whatsNext})]})]},s.id))})}),e.jsx("div",{className:"notes-modal-footer",children:e.jsxs("button",{className:"notes-add-btn",onClick:()=>X("add"),children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Session Notes"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"notes-modal-body",children:e.jsxs("div",{className:"notes-form",children:[e.jsxs("div",{className:"notes-form-group",children:[e.jsx("label",{children:"Session Notes"}),e.jsx("textarea",{value:B.sessionNotes,onChange:s=>q(c=>({...c,sessionNotes:s.target.value})),placeholder:"Overview of the session...",rows:"3"})]}),e.jsxs("div",{className:"notes-form-group went-well",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"What Went Well"]}),e.jsx("textarea",{value:B.whatWentWell,onChange:s=>q(c=>({...c,whatWentWell:s.target.value})),placeholder:"Positives from the session...",rows:"2"})]}),e.jsxs("div",{className:"notes-form-group went-wrong",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"What Went Wrong"]}),e.jsx("textarea",{value:B.whatWentWrong,onChange:s=>q(c=>({...c,whatWentWrong:s.target.value})),placeholder:"Areas to improve...",rows:"2"})]}),e.jsxs("div",{className:"notes-form-group whats-next",children:[e.jsxs("label",{children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14",children:e.jsx("path",{d:"M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"})}),"What's Next"]}),e.jsx("textarea",{value:B.whatsNext,onChange:s=>q(c=>({...c,whatsNext:s.target.value})),placeholder:"Goals for next session...",rows:"2"})]})]})}),e.jsxs("div",{className:"notes-modal-footer",children:[e.jsx("button",{className:"notes-cancel-btn",onClick:()=>X("list"),children:"Back"}),e.jsx("button",{className:"notes-save-btn",onClick:n,disabled:K,children:K?"Saving...":"Save Notes"})]})]})]})})]})}const Fe={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"12:00",end:"17:00"},defaultBlocked:!0}},Ce=["monday","tuesday","wednesday","thursday","friday"],Ze=["Monday","Tuesday","Wednesday","Thursday","Friday"],es=["Mon","Tue","Wed","Thu","Fri"],We=l=>{const[N,p]=l.split(":"),y=parseInt(N),A=y>=12?"pm":"am";return`${y>12?y-12:y===0?12:y}:${p}${A}`},ss=l=>{const N=new Date(l),p=N.getDay(),y=N.getDate()-p+(p===0?-6:1);return N.setDate(y),Ce.map((A,H)=>{const x=new Date(N);return x.setDate(N.getDate()+H),x})},ae=l=>{const N=l.getFullYear(),p=(l.getMonth()+1).toString().padStart(2,"0"),y=l.getDate().toString().padStart(2,"0");return`${N}-${p}-${y}`},be=l=>{const[N,p]=l.split(":").map(Number);return N*60+p},we=(l,N)=>{const p=be(l)+N,y=Math.floor(p/60),A=p%60;return`${y.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},ts=l=>{const N=Fe[l];if(!N)return[];const p=[];if(N.morning){let y=N.morning.start;for(;y<N.morning.end;)p.push({time:y,period:"morning"}),y=we(y,15)}if(N.afternoon){let y=N.afternoon.start;for(;y<N.afternoon.end;)p.push({time:y,period:"afternoon"}),y=we(y,15)}return p};function as(){const[l,N]=f.useState(new Date),[p,y]=f.useState([]),[A,H]=f.useState([]),[x,E]=f.useState([]),[o,_]=f.useState([]),[W,M]=f.useState([]),[Y,J]=f.useState([]),[m,I]=f.useState(null),[k,O]=f.useState(null),[B,q]=f.useState(!1),[ne,ee]=f.useState(!0);f.useEffect(()=>{y(ss(l))},[l]),f.useEffect(()=>{G()},[]);const pe=a=>{if(I(a),q(!1),a.startDate){const r=a.startDate.toDate?a.startDate.toDate():new Date(a.startDate);N(r)}O(null)},d=a=>{const r=new Date,h=ae(r),u=`${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`;return x.filter(t=>t.clientId!==a?!1:t.date<h||t.date===h&&t.time<u).length},K=a=>{const r=d(a.id);return(a.totalSessions||0)-r},R=a=>{const r=new Date,h=r.getFullYear(),u=(r.getMonth()+1).toString().padStart(2,"0"),t=r.getDate().toString().padStart(2,"0"),i=`${h}-${u}-${t}`,v=`${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`;return x.filter(C=>C.clientId!==a?!1:C.date>i||C.date===i&&C.time>=v).length},G=async()=>{try{const r=(await Z(z(T,"clients"))).docs.map($=>({id:$.id,...$.data()})).filter($=>$.status==="active");H(r);const u=(await Z(z(T,"sessions"))).docs.map($=>({id:$.id,...$.data()}));E(u);const i=(await Z(z(T,"holidays"))).docs.map($=>({id:$.id,...$.data()}));_(i);const C=(await Z(z(T,"blockedTimes"))).docs.map($=>({id:$.id,...$.data()}));M(C);const F=(await Z(z(T,"openedSlots"))).docs.map($=>({id:$.id,...$.data()}));J(F)}catch(a){console.error("Error fetching data:",a)}ee(!1)},X=a=>{const r=new Date(l);r.setDate(r.getDate()+a*7),N(r),O(null)},re=()=>{N(new Date),O(null)},le=a=>{const r=ae(a);return o.some(h=>h.date===r)},he=(a,r)=>{const h=ae(a);return W.some(u=>u.date===h&&u.time===r)},oe=(a,r)=>{const h=ae(a);return Y.some(u=>u.date===h&&u.time===r)},se=a=>{const r=Ce[a.getDay()-1];return r&&Fe[r]?.defaultBlocked},ue=async(a,r)=>{const h=ae(a);if(se(a)){const t=Y.find(i=>i.date===h&&i.time===r);try{if(t)await je(V(T,"openedSlots",t.id)),J(Y.filter(i=>i.id!==t.id));else{const i=await Ne(z(T,"openedSlots"),{date:h,time:r,createdAt:Q.now()});J([...Y,{id:i.id,date:h,time:r}])}}catch(i){console.error("Error toggling opened slot:",i),alert("Failed to update time slot")}return}const u=W.find(t=>t.date===h&&t.time===r);try{if(u)await je(V(T,"blockedTimes",u.id)),M(W.filter(t=>t.id!==u.id));else{const t=await Ne(z(T,"blockedTimes"),{date:h,time:r,createdAt:Q.now()});M([...W,{id:t.id,date:h,time:r}])}}catch(t){console.error("Error toggling blocked time:",t),alert("Failed to update time slot")}},fe=a=>{const r=ae(a);return x.filter(h=>h.date===r)},ce=(a,r)=>{const h=ae(a);return x.find(u=>u.date===h&&u.time===r)},U=(a,r)=>{const h=ae(a),u=be(r);return x.find(t=>{if(t.date!==h)return!1;const i=be(t.time),v=i+(t.duration||45);return u>=i&&u<v})},xe=(a,r,h)=>{const u=Ce[a.getDay()-1];if(!u||le(a))return!1;const t=Fe[u],i=Math.ceil(h/15);if(t.defaultBlocked)for(let c=0;c<i;c++){const w=we(r,c*15);if(!oe(a,w))return!1}else for(let c=0;c<i;c++){const w=we(r,c*15);if(he(a,w))return!1}const v=ae(a);if(x.find(c=>c.date===v&&c.time===r))return!1;const S=we(r,h),F=t.morning&&S<=t.morning.end,$=t.afternoon&&S<=t.afternoon.end,L=t.morning&&r>=t.morning.start&&r<t.morning.end,s=t.afternoon&&r>=t.afternoon.start&&r<t.afternoon.end;if(L&&!F||s&&!$)return!1;for(const c of x){if(c.date!==v)continue;const w=be(c.time),P=w+(c.duration||45),j=be(r),D=j+h;if(j<P&&D>w)return!1}return!0},ve=async(a,r)=>{const h=U(a,r);if(h){if(window.confirm(`Cancel ${h.clientName}'s session at ${We(h.time)}?`))try{await je(V(T,"sessions",h.id)),E(x.filter(t=>t.id!==h.id))}catch(t){console.error("Error cancelling session:",t),alert("Failed to cancel session")}return}if(!m){alert("Please select a client first");return}if(!xe(a,r,m.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(R(m.id)>=m.totalSessions){alert(`${m.name} has already booked all ${m.totalSessions} sessions`);return}try{const t=ae(a),i={clientId:m.id,clientName:m.name,date:t,time:r,duration:m.sessionDuration||45,createdAt:Q.now()},v=await Ne(z(T,"sessions"),i);E([...x,{id:v.id,...i}])}catch(t){console.error("Error booking session:",t),alert("Failed to book session")}},ge=async()=>{if(!m)return;const a=m.startDate?.toDate?m.startDate.toDate():new Date(m.startDate),r=m.endDate?.toDate?m.endDate.toDate():new Date(m.endDate),h=x.filter(S=>S.clientId!==m.id?!1:p.some(F=>ae(F)===S.date));if(h.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const u=m.weeksInBlock||Math.ceil((r-a)/(10080*60*1e3)),t=h.map(S=>({dayOfWeek:new Date(S.date).getDay(),time:S.time}));let i=[];const v=R(m.id);for(let S=0;S<u;S++){const F=new Date(a);F.setDate(F.getDate()+S*7);const $=new Date(F),L=$.getDay(),s=$.getDate()-L+(L===0?-6:1);$.setDate(s);for(const c of t){const w=new Date($),P=c.dayOfWeek===0?6:c.dayOfWeek-1;w.setDate($.getDate()+P);const j=ae(w);x.some(D=>D.clientId===m.id&&D.date===j&&D.time===c.time)||w<a||w>r||o.some(D=>D.date===j)||i.push({dateKey:j,time:c.time,sessionDate:w})}}const C=v+i.length;if(C>m.totalSessions){alert(`This would create ${i.length} new sessions (${C} total), but client only has ${m.totalSessions} sessions in their package.

You can still book ${m.totalSessions-v} more sessions.`);return}if(i.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${i.length} new sessions across the block.

(${v} existing + ${i.length} new = ${C} total)

Continue?`))try{const S=[];for(const F of i){const $={clientId:m.id,clientName:m.name,date:F.dateKey,time:F.time,duration:m.sessionDuration||45,createdAt:Q.now()},L=await Ne(z(T,"sessions"),$);S.push({id:L.id,...$})}E([...x,...S]),alert(`Created ${S.length} new sessions!`)}catch(S){console.error("Error repeating weekly:",S),alert("Failed to repeat sessions")}},me=async a=>{const r=ae(a),h=o.find(u=>u.date===r);try{if(h)await je(V(T,"holidays",h.id)),_(o.filter(u=>u.id!==h.id));else{const u=await Ne(z(T,"holidays"),{date:r,createdAt:Q.now()});_([...o,{id:u.id,date:r}])}}catch(u){console.error("Error toggling day availability:",u),alert("Failed to update day availability")}};if(ne)return e.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const n=p[0],g=p[4],b=n&&g?`${n.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${g.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return e.jsxs("div",{className:"calendar",children:[e.jsxs("div",{className:"calendar-header",children:[e.jsxs("div",{className:"calendar-nav",children:[e.jsx("button",{onClick:()=>X(-1),children:"←"}),e.jsx("button",{onClick:re,children:"Today"}),e.jsx("button",{onClick:()=>X(1),children:"→"})]}),e.jsx("h3",{children:b})]}),e.jsxs("div",{className:"client-selector",children:[e.jsx("span",{className:"selector-label",children:"Booking for:"}),m?e.jsxs("div",{className:"selected-client",children:[e.jsxs("div",{className:"selected-info",children:[e.jsx("strong",{children:m.name}),e.jsxs("span",{children:[m.sessionDuration||45,"min • ",K(m),"/",m.totalSessions," remaining"]}),e.jsxs("span",{className:"booked-info",children:[R(m.id)," booked"]})]}),e.jsx("button",{onClick:()=>I(null),children:"Change"})]}):e.jsx("button",{className:"select-client-btn",onClick:()=>q(!0),children:"Select Client"})]}),m&&e.jsxs("div",{className:"repeat-weekly-section",children:[e.jsx("button",{className:"repeat-weekly-btn",onClick:ge,children:"Repeat This Week's Schedule For All Weeks"}),e.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),e.jsx("div",{className:"day-cards",children:p.map((a,r)=>{const h=fe(a),u=ae(a)===ae(new Date),t=le(a);return e.jsxs("div",{className:`day-card ${k===r?"selected":""} ${u?"today":""} ${t?"holiday":""}`,onClick:()=>O(k===r?null:r),children:[e.jsxs("div",{className:"day-card-header",children:[e.jsx("span",{className:"day-name",children:es[r]}),e.jsx("span",{className:"day-date",children:a.getDate()})]}),t?e.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):e.jsxs("div",{className:"day-card-status",children:[h.length," session",h.length!==1?"s":""]})]},r)})}),k!==null&&p[k]&&e.jsxs("div",{className:"time-panel",children:[e.jsxs("div",{className:"time-panel-header",children:[e.jsxs("h4",{children:[Ze[k]," ",p[k].getDate()]}),e.jsx("button",{className:"close-panel",onClick:()=>O(null),children:"×"})]}),e.jsx("div",{className:"availability-toggle",children:e.jsx("button",{className:`toggle-availability-btn ${le(p[k])?"unavailable":"available"}`,onClick:()=>me(p[k]),children:le(p[k])?"Mark Day Available":"Mark Day Unavailable"})}),le(p[k])?e.jsxs("div",{className:"day-unavailable-message",children:[e.jsx("p",{children:"This day is marked as unavailable"}),e.jsx("span",{children:"Tap the button above to make it available again"})]}):e.jsxs("div",{className:"time-slots",children:[se(p[k])&&e.jsx("div",{className:"default-blocked-notice",children:"Flex day — slots are closed by default. Tap the toggle to open slots."}),ts(Ce[k]).map(({time:a,period:r},h,u)=>{const t=ce(p[k],a),i=U(p[k],a),v=!!i,C=!t&&!!i,S=se(p[k]),F=S?!oe(p[k],a):he(p[k],a),$=S&&oe(p[k],a),L=m&&!v&&xe(p[k],a,m.sessionDuration||45),s=h===0||u[h-1]?.period!==r;return e.jsxs("div",{children:[s&&e.jsx("div",{className:"period-label",children:r==="morning"?"Morning":"Afternoon"}),e.jsxs("div",{className:"time-slot-row",children:[e.jsxs("button",{className:`time-slot ${v?"booked":""} ${C?"booked-continuation":""} ${F&&!v?"blocked":""} ${$&&!v?"opened":""} ${L?"available":""} ${!v&&!F&&!L&&m?"unavailable":""}`,onClick:()=>(!F||v)&&ve(p[k],a),disabled:F&&!v,children:[e.jsx("span",{className:"slot-time",children:We(a)}),t?e.jsxs("span",{className:"slot-client",children:[t.clientName," (",t.duration,"m)"]}):C?e.jsxs("span",{className:"slot-client",children:[i.clientName," ↑"]}):F?e.jsx("span",{className:"slot-blocked",children:S?"Closed":"Blocked"}):L?e.jsx("span",{className:"slot-available",children:"Available"}):m?e.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):$?e.jsx("span",{className:"slot-available",children:"Open"}):e.jsx("span",{className:"slot-empty",children:"Select client to book"})]}),e.jsx("button",{className:`block-toggle-btn ${S?$?"is-opened":"":F?"is-blocked":""}`,onClick:()=>ue(p[k],a),disabled:!!v,title:S?$?"Close this slot":"Open this slot":F?"Unblock this time":"Block this time",children:S?$?"✓":"+":F?"✓":"✕"})]})]},a)})]})]}),B&&e.jsx("div",{className:"modal-overlay",onClick:()=>q(!1),children:e.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Select Client"}),e.jsx("button",{className:"close-btn",onClick:()=>q(!1),children:"×"})]}),e.jsx("div",{className:"client-list-picker",children:A.length===0?e.jsx("p",{className:"no-items",children:"No active clients"}):A.map(a=>{const r=a.startDate?.toDate?a.startDate.toDate():new Date(a.startDate),h=a.endDate?.toDate?a.endDate.toDate():new Date(a.endDate),u=K(a),t=R(a.id);return e.jsxs("button",{className:"client-option",onClick:()=>pe(a),children:[e.jsx("strong",{children:a.name}),e.jsxs("span",{children:[a.sessionDuration||45,"min • ",u,"/",a.totalSessions," remaining • ",t," booked"]}),e.jsxs("span",{className:"client-dates",children:[r.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",h.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},a.id)})})]})})]})}const Ee=l=>{const[N,p]=l.split(":"),y=parseInt(N),A=y>=12?"pm":"am";return`${y>12?y-12:y===0?12:y}:${p}${A}`},ke=l=>{const N=l.getFullYear(),p=(l.getMonth()+1).toString().padStart(2,"0"),y=l.getDate().toString().padStart(2,"0");return`${N}-${p}-${y}`},He=l=>l===ke(new Date),ns=l=>{const N=new Date;return N.setDate(N.getDate()+1),l===ke(N)},Ie=l=>He(l)?"Today":ns(l)?"Tomorrow":new Date(l).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),Re=l=>{const N=new Date,p=ke(N),y=`${N.getHours().toString().padStart(2,"0")}:${N.getMinutes().toString().padStart(2,"0")}`;if(l.date<p)return!0;if(l.date===p){const A=Pe(l.time)+(l.duration||45);return Pe(y)>=A}return!1},Pe=l=>{const[N,p]=l.split(":").map(Number);return N*60+p};function is(){const[l,N]=f.useState([]),[p,y]=f.useState(!0),[A,H]=f.useState(new Date);f.useEffect(()=>{x();const m=setInterval(()=>{H(new Date)},6e4);return()=>clearInterval(m)},[]);const x=async()=>{try{const I=(await Z(z(T,"sessions"))).docs.map(B=>({id:B.id,...B.data()})),k=ke(new Date),O=I.filter(B=>B.date>=k).sort((B,q)=>B.date!==q.date?B.date.localeCompare(q.date):B.time.localeCompare(q.time));N(O)}catch(m){console.error("Error fetching sessions:",m)}y(!1)},E=async m=>{if(window.confirm(`Cancel ${m.clientName}'s session at ${Ee(m.time)} on ${Ie(m.date)}?`))try{await je(V(T,"sessions",m.id)),N(l.filter(I=>I.id!==m.id))}catch(I){console.error("Error cancelling session:",I),alert("Failed to cancel session")}};if(p)return e.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const o=l.reduce((m,I)=>{const k=I.date;return m[k]||(m[k]=[]),m[k].push(I),m},{}),_=Object.keys(o).sort(),W=ke(new Date),M=o[W]||[],Y=M.filter(m=>Re(m)).length,J=M.length-Y;return e.jsxs("div",{className:"schedule",children:[e.jsxs("div",{className:"today-summary",children:[e.jsx("h3",{children:"Today's Sessions"}),e.jsx("div",{className:"today-count",children:M.length===0?e.jsx("span",{className:"no-sessions",children:"No sessions today"}):e.jsxs("div",{className:"today-stats",children:[e.jsxs("span",{className:"completed-count",children:[Y," completed"]}),e.jsxs("span",{className:"remaining-count",children:[J," remaining"]})]})})]}),_.length===0?e.jsx("div",{className:"no-upcoming",children:e.jsx("p",{children:"No upcoming sessions booked"})}):e.jsx("div",{className:"sessions-list",children:_.map(m=>e.jsxs("div",{className:`date-group ${He(m)?"today":""}`,children:[e.jsxs("div",{className:"date-header",children:[e.jsx("span",{className:"date-label",children:Ie(m)}),e.jsxs("span",{className:"date-count",children:[o[m].length," session",o[m].length!==1?"s":""]})]}),e.jsx("div",{className:"date-sessions",children:o[m].map(I=>{const k=Re(I);return e.jsxs("div",{className:`session-card ${k?"completed":""}`,children:[e.jsx("div",{className:"session-time",children:Ee(I.time)}),e.jsxs("div",{className:"session-details",children:[e.jsx("strong",{children:I.clientName}),e.jsxs("span",{children:[I.duration,"min session"]})]}),k?e.jsx("div",{className:"completed-badge",children:"✓"}):e.jsx("button",{className:"cancel-session-btn",onClick:()=>E(I),children:"Cancel"})]},I.id)})})]},m))})]})}const rs={sedentary:"Sedentary (little to no exercise)",light:"Lightly Active (1-2 days/week)",moderate:"Moderately Active (3-4 days/week)",active:"Very Active (5+ days/week)",athlete:"Athlete/Highly Active"},ls={"less-5":"Less than 5 hours","5-6":"5-6 hours","7-8":"7-8 hours","more-8":"More than 8 hours"},os={low:"Low",moderate:"Moderate",high:"High","very-high":"Very High"},cs=[{key:"q1HeartCondition",text:"Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?"},{key:"q2ChestPain",text:"Do you feel pain in your chest when you do physical activity?"},{key:"q3ChestPainLastMonth",text:"In the past month, have you had chest pain when you were not doing physical activity?"},{key:"q4Balance",text:"Do you lose your balance because of dizziness or do you ever lose consciousness?"},{key:"q5BoneJoint",text:"Do you have a bone or joint problem that could be made worse by a change in your physical activity?"},{key:"q6BloodPressure",text:"Is your doctor currently prescribing drugs for your blood pressure or heart condition?"},{key:"q7OtherReason",text:"Do you know of any other reason why you should not do physical activity?"}];function ds(){const[l,N]=f.useState([]),[p,y]=f.useState(!0),[A,H]=f.useState(null),[x,E]=f.useState(null),[o,_]=f.useState("all"),[W,M]=f.useState("");f.useEffect(()=>{Y()},[]);const Y=async()=>{try{const K=(await Z(z(T,"clients"))).docs.map(R=>({id:R.id,...R.data()}));K.sort((R,G)=>(R.name||"").localeCompare(G.name||"")),N(K)}catch(d){console.error("Error fetching clients:",d)}y(!1)},J=d=>!!d.welcomeForm?.completedAt,m=d=>!!d.parqForm?.completedAt,I=d=>J(d)||m(d),k=d=>J(d)&&m(d),O=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",B=l.filter(d=>!W||d.name?.toLowerCase().includes(W.toLowerCase())?o==="all"?!0:o==="completed"?k(d):o==="partial"?I(d)&&!k(d):o==="pending"?!I(d):!0:!1),q=l.filter(k).length,ne=l.filter(d=>I(d)&&!k(d)).length,ee=l.filter(d=>!I(d)).length,pe=d=>{A===d?(H(null),E(null)):(H(d),E(null))};return p?e.jsx("div",{className:"forms-loading",children:"Loading form submissions..."}):e.jsxs("div",{className:"form-submissions",children:[e.jsxs("div",{className:"forms-stats",children:[e.jsxs("div",{className:"forms-stat",children:[e.jsx("span",{className:"stat-number",children:q}),e.jsx("span",{className:"stat-label",children:"Complete"})]}),e.jsxs("div",{className:"forms-stat partial",children:[e.jsx("span",{className:"stat-number",children:ne}),e.jsx("span",{className:"stat-label",children:"Partial"})]}),e.jsxs("div",{className:"forms-stat pending",children:[e.jsx("span",{className:"stat-number",children:ee}),e.jsx("span",{className:"stat-label",children:"Pending"})]})]}),e.jsxs("div",{className:"forms-search",children:[e.jsxs("svg",{className:"forms-search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]}),e.jsx("input",{type:"text",className:"forms-search-input",placeholder:"Search clients...",value:W,onChange:d=>M(d.target.value)}),W&&e.jsx("button",{className:"forms-search-clear",onClick:()=>M(""),children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e.jsxs("div",{className:"forms-filter",children:[e.jsxs("button",{className:`forms-filter-btn ${o==="all"?"active":""}`,onClick:()=>_("all"),children:["All ",e.jsx("span",{className:"forms-filter-count",children:l.length})]}),e.jsxs("button",{className:`forms-filter-btn ${o==="completed"?"active":""}`,onClick:()=>_("completed"),children:["Complete ",e.jsx("span",{className:"forms-filter-count",children:q})]}),e.jsxs("button",{className:`forms-filter-btn ${o==="partial"?"active":""}`,onClick:()=>_("partial"),children:["Partial ",e.jsx("span",{className:"forms-filter-count",children:ne})]}),e.jsxs("button",{className:`forms-filter-btn ${o==="pending"?"active":""}`,onClick:()=>_("pending"),children:["Pending ",e.jsx("span",{className:"forms-filter-count",children:ee})]})]}),B.length===0?e.jsxs("div",{className:"forms-empty",children:[e.jsx("div",{className:"forms-empty-icon",children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"20",y:"15",width:"60",height:"70",rx:"4"}),e.jsx("path",{d:"M35 35h30M35 50h30M35 65h20"}),e.jsx("circle",{cx:"70",cy:"70",r:"18",fill:"var(--bg-card)",strokeWidth:"3"}),e.jsx("path",{d:"M63 70h14M70 63v14",strokeWidth:"3",strokeLinecap:"round"})]})}),e.jsx("p",{children:"No clients match this filter"}),e.jsx("span",{children:"Try adjusting your search or filter"})]}):e.jsx("div",{className:"forms-client-list",children:B.map(d=>{const K=A===d.id,R=J(d),G=m(d);return e.jsxs("div",{className:`forms-client-card ${K?"expanded":""}`,children:[e.jsxs("div",{className:"forms-client-row",onClick:()=>pe(d.id),children:[e.jsxs("div",{className:"forms-client-left",children:[e.jsx("div",{className:"forms-client-initial",children:(d.name||"?")[0].toUpperCase()}),e.jsxs("div",{className:"forms-client-info",children:[e.jsx("h3",{children:d.name||"Unknown"}),e.jsxs("div",{className:"forms-badges",children:[e.jsxs("span",{className:`form-badge ${R?"done":"not-done"}`,children:[R?"✓":"○"," Welcome"]}),e.jsxs("span",{className:`form-badge ${G?"done":"not-done"}`,children:[G?"✓":"○"," PAR-Q"]})]})]})]}),e.jsx("svg",{className:`forms-chevron ${K?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"m6 9 6 6 6-6"})})]}),K&&e.jsx("div",{className:"forms-expand-panel",children:!R&&!G?e.jsxs("div",{className:"forms-no-data",children:[e.jsx("p",{children:"No forms submitted yet"}),e.jsx("span",{children:"This client hasn't completed any forms"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"forms-toggle",children:[R&&e.jsx("button",{className:`forms-toggle-btn ${x==="welcome"||!x&&R?"active":""}`,onClick:()=>E("welcome"),children:"Welcome Questionnaire"}),G&&e.jsx("button",{className:`forms-toggle-btn ${x==="parq"||!x&&!R&&G?"active":""}`,onClick:()=>E("parq"),children:"PAR-Q Health Screening"})]}),(x==="welcome"||!x&&R)&&R&&e.jsxs("div",{className:"form-data",children:[e.jsxs("div",{className:"form-data-header",children:[e.jsx("span",{className:"form-data-title",children:"Welcome Questionnaire"}),e.jsxs("span",{className:"form-data-date",children:["Submitted ",O(d.welcomeForm.completedAt)]})]}),d.welcomeForm.fitnessGoals&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Fitness Goals"}),e.jsx("p",{children:d.welcomeForm.fitnessGoals})]}),d.welcomeForm.currentActivityLevel&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Activity Level"}),e.jsx("p",{children:rs[d.welcomeForm.currentActivityLevel]||d.welcomeForm.currentActivityLevel})]}),d.welcomeForm.exerciseHistory&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Exercise History"}),e.jsx("p",{children:d.welcomeForm.exerciseHistory})]}),d.welcomeForm.injuries&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Injuries"}),e.jsx("p",{children:d.welcomeForm.injuries})]}),d.welcomeForm.medicalConditions&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Medical Conditions"}),e.jsx("p",{children:d.welcomeForm.medicalConditions})]}),d.welcomeForm.sleepHours&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Sleep"}),e.jsx("p",{children:ls[d.welcomeForm.sleepHours]||d.welcomeForm.sleepHours})]}),d.welcomeForm.stressLevel&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Stress Level"}),e.jsx("p",{children:os[d.welcomeForm.stressLevel]||d.welcomeForm.stressLevel})]}),d.welcomeForm.dietaryInfo&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Diet / Nutrition"}),e.jsx("p",{children:d.welcomeForm.dietaryInfo})]}),d.welcomeForm.availability&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Availability"}),e.jsx("p",{children:d.welcomeForm.availability})]}),d.welcomeForm.additionalInfo&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Additional Info"}),e.jsx("p",{children:d.welcomeForm.additionalInfo})]})]}),x==="parq"&&G&&e.jsxs("div",{className:"form-data",children:[e.jsxs("div",{className:"form-data-header",children:[e.jsx("span",{className:"form-data-title",children:"PAR-Q Health Screening"}),e.jsxs("span",{className:"form-data-date",children:["Submitted ",O(d.parqForm.completedAt)]})]}),e.jsx("div",{className:"parq-results",children:cs.map(X=>{const re=d.parqForm[X.key];return e.jsxs("div",{className:`parq-result-item ${re?"flagged":""}`,children:[e.jsx("span",{className:`parq-answer ${re?"yes":"no"}`,children:re?"YES":"NO"}),e.jsx("span",{className:"parq-question-text",children:X.text})]},X.key)})}),d.parqForm.additionalDetails&&e.jsxs("div",{className:"form-data-field",children:[e.jsx("label",{children:"Additional Details"}),e.jsx("p",{children:d.parqForm.additionalDetails})]}),e.jsx("div",{className:"parq-declaration-status",children:e.jsx("span",{className:d.parqForm.declaration?"declared":"not-declared",children:d.parqForm.declaration?"✓ Declaration signed":"✗ Declaration not signed"})})]})]})})]},d.id)})})]})}const Ae=l=>`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`,qe=l=>new Date(l+"T09:00:00").toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),_e=()=>{const l=new Date;let p=(6-l.getDay()+7)%7;if(p===0){const A=new Date(l);A.setHours(9,45,0,0),l>A&&(p=7)}const y=new Date(l);return y.setDate(l.getDate()+p),y},Te=l=>l==="circuit_vip"?"VIP":l==="circuit_dropin"?"Drop-in":"Block",$e=l=>l==="circuit_vip"?"vip":l==="circuit_dropin"?"dropin":"block";function ms(){const[l,N]=f.useState(!0),[p,y]=f.useState([]),[A,H]=f.useState([]),[x,E]=f.useState(null),[o,_]=f.useState("upcoming"),[W,M]=f.useState(!1),[Y,J]=f.useState(null),[m,I]=f.useState(!1),[k,O]=f.useState(!1),B=f.useCallback((n,g="info")=>{J({message:n,type:g}),setTimeout(()=>J(null),4e3)},[]);f.useEffect(()=>{q()},[]);const q=async()=>{try{const g=(await Z(z(T,"circuitSessions"))).docs.map(u=>({id:u.id,...u.data()}));g.sort((u,t)=>t.date.localeCompare(u.date)),y(g);const a=(await Z(z(T,"clients"))).docs.map(u=>({id:u.id,...u.data()})).filter(u=>u.clientType==="circuit_vip"||u.clientType==="circuit_dropin"||u.circuitAccess===!0);H(a);const r=Ae(_e());let h=g.find(u=>u.date===r);if(!h){const u=a.filter(v=>v.clientType==="circuit_vip"&&v.status==="active"),t=[];for(let v=0;v<8;v++)v<u.length?t.push({slotNumber:v+1,memberId:u[v].id,memberName:u[v].name,memberType:"circuit_vip",status:"confirmed",bookedAt:Q.now()}):t.push({slotNumber:v+1,memberId:null,memberName:null,memberType:null,status:"available"});const i={date:r,time:"09:00",endTime:"09:45",maxCapacity:8,slots:t,waitlist:[],createdAt:Q.now()};await Ye(V(T,"circuitSessions",r),i),h={id:r,...i},g.unshift(h),y([...g])}h?E(h):g.length>0&&E(g[0])}catch(n){console.error("Error loading circuit data:",n),B("Failed to load circuit data","error")}N(!1)},ne=async n=>{if(!(!x||W)&&window.confirm("Remove this member from the slot?")){M(!0);try{const g=[...x.slots],b=g.findIndex(i=>i.slotNumber===n);if(b===-1){M(!1);return}const a=g[b],r=a.memberType==="circuit_vip";let h=[...x.waitlist||[]];if(h.length>0){const i=h.shift();g[b]={slotNumber:n,memberId:i.memberId,memberName:i.memberName,memberType:i.memberType,status:"confirmed",bookedAt:Q.now()},B(`Slot given to ${i.memberName} from waitlist`,"success")}else g[b]={slotNumber:n,memberId:null,memberName:null,memberType:null,status:"available"},B("Member removed from slot","success");const u={slots:g,waitlist:h};if(r&&a.memberId){const i=x.vipOptOuts||[];i.includes(a.memberId)||(u.vipOptOuts=[...i,a.memberId])}await de(V(T,"circuitSessions",x.id),u);const t={...x,...u};E(t),y(i=>i.map(v=>v.id===t.id?t:v))}catch(g){console.error("Error removing from slot:",g),B("Failed to remove member","error")}M(!1)}},ee=async(n,g)=>{if(!(!x||W)){M(!0);try{const b=[...x.slots],a=b.findIndex(t=>t.slotNumber===n&&t.status==="available");if(a===-1){B("Slot is not available","error"),M(!1);return}if(b.some(t=>t.memberId===g.id)){B(`${g.name} already has a slot`,"error"),M(!1);return}b[a]={slotNumber:n,memberId:g.id,memberName:g.name,memberType:g.clientType||"block",status:"confirmed",bookedAt:Q.now()};const r=(x.waitlist||[]).filter(t=>t.memberId!==g.id),h={slots:b,waitlist:r};if(g.clientType==="circuit_vip"){const t=x.vipOptOuts||[];t.includes(g.id)&&(h.vipOptOuts=t.filter(i=>i!==g.id))}await de(V(T,"circuitSessions",x.id),h);const u={...x,...h};E(u),y(t=>t.map(i=>i.id===u.id?u:i)),B(`${g.name} added to slot ${n}`,"success")}catch(b){console.error("Error adding to slot:",b),B("Failed to add member","error")}M(!1)}},pe=async n=>{if(!(!x||W)){M(!0);try{const g=(x.waitlist||[]).filter(a=>a.memberId!==n);await de(V(T,"circuitSessions",x.id),{waitlist:g});const b={...x,waitlist:g};E(b),y(a=>a.map(r=>r.id===b.id?b:r)),B("Removed from waitlist","success")}catch(g){console.error("Error removing from waitlist:",g),B("Failed to remove from waitlist","error")}M(!1)}},d=async(n,g)=>{if(!(!x||W)){M(!0);try{const b=[...x.slots],a=b.findIndex(h=>h.slotNumber===n);if(a===-1){M(!1);return}if(b[a]={...b[a],attended:g},await de(V(T,"circuitSessions",x.id),{slots:b}),g===!1){const h=b[a].memberId;if(h){const u=V(T,"clients",h),t=await Ge(u);if(t.exists()){const v=(t.data().circuitStrikes||0)+1,C={circuitStrikes:v};if(v>=3){const S=new Date;S.setMonth(S.getMonth()+1),C.circuitBanUntil=Q.fromDate(S),C.circuitStrikes=0,B(`${b[a].memberName} banned for 1 month (3 strikes)`,"error")}else B(`No-show recorded - ${b[a].memberName} (${v}/3 strikes)`,"error");await de(u,C)}}}else B(`${b[a].memberName} marked as attended`,"success");const r={...x,slots:b};E(r),y(h=>h.map(u=>u.id===r.id?r:u))}catch(b){console.error("Error marking attendance:",b),B("Failed to update attendance","error")}M(!1)}},K=async(n,g)=>{if(!W&&window.confirm(`Reset strikes for ${g}?`)){M(!0);try{await de(V(T,"clients",n),{circuitStrikes:0,circuitBanUntil:null}),H(b=>b.map(a=>a.id===n?{...a,circuitStrikes:0,circuitBanUntil:null}:a)),B(`Strikes reset for ${g}`,"success")}catch(b){console.error("Error resetting strikes:",b),B("Failed to reset strikes","error")}M(!1)}},R=async(n,g)=>{if(!W&&window.confirm(`Lift ban for ${g}?`)){M(!0);try{await de(V(T,"clients",n),{circuitBanUntil:null,circuitStrikes:0}),H(b=>b.map(a=>a.id===n?{...a,circuitBanUntil:null,circuitStrikes:0}:a)),B(`Ban lifted for ${g}`,"success")}catch(b){console.error("Error lifting ban:",b),B("Failed to lift ban","error")}M(!1)}};if(l)return e.jsxs("div",{className:"cm-loading",children:[e.jsx("div",{className:"cm-loading-spinner"}),e.jsx("span",{children:"Loading circuit data..."})]});const G=Ae(new Date),X=Ae(_e()),re=p.filter(n=>n.date>=G),le=p.filter(n=>n.date<G),he=o==="upcoming"?re:le,oe=x?x.slots.filter(n=>n.status!=="available").length:0,se=x?x.slots.filter(n=>n.status==="available").length:0,ue=x?x.date>=G:!1,fe=x?x.slots.filter(n=>n.memberId).map(n=>n.memberId):[],ce=x?(x.waitlist||[]).map(n=>n.memberId):[],U=A.filter(n=>!fe.includes(n.id)&&!ce.includes(n.id)),xe=A.filter(n=>n.clientType==="circuit_vip").length,ve=A.filter(n=>n.clientType==="circuit_dropin").length,ge=A.filter(n=>n.circuitAccess&&n.clientType!=="circuit_vip"&&n.clientType!=="circuit_dropin").length,me=A.filter(n=>n.circuitBanUntil?(n.circuitBanUntil.toDate?n.circuitBanUntil.toDate():new Date(n.circuitBanUntil))>new Date:!1);return e.jsxs("div",{className:"cm-container",children:[e.jsxs("div",{className:"cm-stats-row",children:[e.jsxs("div",{className:"cm-stat-pill",children:[e.jsx("span",{className:"cm-stat-num",children:xe}),e.jsx("span",{className:"cm-stat-label",children:"VIP"})]}),e.jsxs("div",{className:"cm-stat-pill",children:[e.jsx("span",{className:"cm-stat-num",children:ve}),e.jsx("span",{className:"cm-stat-label",children:"Drop-in"})]}),e.jsxs("div",{className:"cm-stat-pill",children:[e.jsx("span",{className:"cm-stat-num",children:ge}),e.jsx("span",{className:"cm-stat-label",children:"Block"})]}),e.jsxs("div",{className:"cm-stat-pill",children:[e.jsx("span",{className:"cm-stat-num",children:p.length}),e.jsx("span",{className:"cm-stat-label",children:"Sessions"})]})]}),e.jsxs("div",{className:"cm-view-toggle",children:[e.jsx("button",{className:`cm-toggle-btn ${m?"":"active"}`,onClick:()=>I(!1),children:"Sessions"}),e.jsx("button",{className:`cm-toggle-btn ${m?"active":""}`,onClick:()=>I(!0),children:"Members"})]}),!m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cm-tabs",children:[e.jsxs("button",{className:`cm-tab ${o==="upcoming"?"active":""}`,onClick:()=>_("upcoming"),children:["Upcoming (",re.length,")"]}),e.jsxs("button",{className:`cm-tab ${o==="past"?"active":""}`,onClick:()=>_("past"),children:["Past (",le.length,")"]})]}),e.jsx("div",{className:"cm-sessions-list",children:he.length===0?e.jsx("div",{className:"cm-empty",children:e.jsxs("p",{children:["No ",o," sessions"]})}):he.map(n=>{const g=n.slots.filter(r=>r.status!=="available").length,b=x?.id===n.id,a=n.date===X;return e.jsxs("button",{className:`cm-session-btn ${b?"selected":""} ${a?"next":""}`,onClick:()=>{E(n),O(!1)},children:[e.jsxs("div",{className:"cm-session-btn-left",children:[e.jsx("span",{className:"cm-session-date",children:qe(n.date)}),a&&e.jsx("span",{className:"cm-next-badge",children:"Next"})]}),e.jsxs("div",{className:"cm-session-btn-right",children:[e.jsxs("span",{className:"cm-session-fill",children:[g,"/8"]}),(n.waitlist?.length||0)>0&&e.jsxs("span",{className:"cm-waitlist-count",children:["+",n.waitlist.length," wl"]})]})]},n.id)})}),x&&e.jsxs("div",{className:"cm-detail",children:[e.jsxs("div",{className:"cm-detail-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:qe(x.date)}),e.jsxs("p",{children:[x.time," - ",x.endTime," • ",oe,"/8 booked • ",se," available"]})]}),!ue&&e.jsx("button",{className:`cm-attendance-btn ${k?"active":""}`,onClick:()=>O(!k),children:k?"Done":"Attendance"})]}),e.jsx("div",{className:"cm-slots",children:x.slots.map(n=>{const g=n.status==="available";return e.jsxs("div",{className:`cm-slot ${g?"empty":"filled"} ${n.attended===!0?"attended":""} ${n.attended===!1?"no-show":""}`,children:[e.jsx("span",{className:"cm-slot-num",children:n.slotNumber}),g?e.jsxs("div",{className:"cm-slot-empty",children:[e.jsx("span",{children:"Available"}),ue&&e.jsx(hs,{members:U,onSelect:b=>ee(n.slotNumber,b),disabled:W})]}):e.jsxs("div",{className:"cm-slot-filled",children:[e.jsxs("div",{className:"cm-slot-info",children:[e.jsx("span",{className:"cm-slot-name",children:n.memberName}),e.jsx("span",{className:`cm-type-badge ${$e(n.memberType)}`,children:Te(n.memberType)})]}),e.jsxs("div",{className:"cm-slot-actions",children:[k&&n.attended===void 0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"cm-attend-yes",onClick:()=>d(n.slotNumber,!0),disabled:W,title:"Attended",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:e.jsx("path",{d:"M5 13l4 4L19 7"})})}),e.jsx("button",{className:"cm-attend-no",onClick:()=>d(n.slotNumber,!1),disabled:W,title:"No-show",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),n.attended===!0&&e.jsx("span",{className:"cm-attended-label",children:"Attended"}),n.attended===!1&&e.jsx("span",{className:"cm-noshow-label",children:"No-show"}),ue&&e.jsx("button",{className:"cm-remove-btn",onClick:()=>ne(n.slotNumber),disabled:W,title:"Remove from slot",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})]})]},n.slotNumber)})}),(x.waitlist?.length||0)>0&&e.jsxs("div",{className:"cm-waitlist",children:[e.jsxs("h4",{children:["Waitlist (",x.waitlist.length,")"]}),x.waitlist.map((n,g)=>e.jsxs("div",{className:"cm-waitlist-row",children:[e.jsxs("span",{className:"cm-wl-pos",children:["#",g+1]}),e.jsx("span",{className:"cm-wl-name",children:n.memberName}),e.jsx("span",{className:`cm-type-badge ${$e(n.memberType)}`,children:Te(n.memberType)}),ue&&e.jsx("button",{className:"cm-wl-remove",onClick:()=>pe(n.memberId),disabled:W,children:"Remove"})]},n.memberId))]})]})]}),m&&e.jsxs("div",{className:"cm-members",children:[me.length>0&&e.jsxs("div",{className:"cm-ban-alert",children:[e.jsxs("h4",{children:["Currently Banned (",me.length,")"]}),me.map(n=>{const g=n.circuitBanUntil?.toDate?n.circuitBanUntil.toDate():new Date(n.circuitBanUntil);return e.jsxs("div",{className:"cm-ban-row",children:[e.jsxs("div",{className:"cm-ban-info",children:[e.jsx("span",{className:"cm-ban-name",children:n.name}),e.jsxs("span",{className:"cm-ban-until",children:["Until ",g.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]}),e.jsx("button",{className:"cm-lift-ban-btn",onClick:()=>R(n.id,n.name),disabled:W,children:"Lift Ban"})]},n.id)})]}),e.jsx("div",{className:"cm-members-list",children:A.length===0?e.jsxs("div",{className:"cm-empty",children:[e.jsx("p",{children:"No circuit members yet"}),e.jsx("span",{children:"Add members via the Clients page"})]}):A.map(n=>{const g=n.circuitStrikes||0,b=me.some(a=>a.id===n.id);return e.jsxs("div",{className:`cm-member-card ${b?"banned":""}`,children:[e.jsxs("div",{className:"cm-member-top",children:[e.jsx("span",{className:"cm-member-name",children:n.name}),e.jsx("span",{className:`cm-type-badge ${$e(n.clientType)}`,children:Te(n.clientType)})]}),e.jsxs("div",{className:"cm-member-bottom",children:[e.jsxs("div",{className:"cm-strikes",children:[[0,1,2].map(a=>e.jsx("span",{className:`cm-strike-dot ${a<g?"active":""}`},a)),e.jsxs("span",{className:"cm-strike-text",children:[g,"/3 strikes"]})]}),e.jsxs("div",{className:"cm-member-actions",children:[b&&e.jsx("button",{className:"cm-small-btn ban",onClick:()=>R(n.id,n.name),disabled:W,children:"Lift Ban"}),g>0&&!b&&e.jsx("button",{className:"cm-small-btn reset",onClick:()=>K(n.id,n.name),disabled:W,children:"Reset"})]})]})]},n.id)})})]}),Y&&e.jsx("div",{className:`cm-toast ${Y.type}`,children:e.jsx("span",{children:Y.message})})]})}function hs({members:l,onSelect:N,disabled:p}){const[y,A]=f.useState(!1),[H,x]=f.useState(""),E=l.filter(o=>o.name.toLowerCase().includes(H.toLowerCase()));return l.length===0?null:e.jsxs("div",{className:"cm-add-dropdown",children:[e.jsx("button",{className:"cm-add-trigger",onClick:()=>A(!y),disabled:p,children:"+ Add"}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"cm-dropdown-backdrop",onClick:()=>{A(!1),x("")}}),e.jsxs("div",{className:"cm-dropdown-menu",children:[l.length>4&&e.jsx("input",{type:"text",className:"cm-dropdown-search",placeholder:"Search...",value:H,onChange:o=>x(o.target.value),autoFocus:!0}),e.jsxs("div",{className:"cm-dropdown-list",children:[E.map(o=>e.jsxs("button",{className:"cm-dropdown-item",onClick:()=>{N(o),A(!1),x("")},children:[e.jsx("span",{children:o.name}),e.jsx("span",{className:`cm-type-badge sm ${$e(o.clientType)}`,children:Te(o.clientType)})]},o.id)),E.length===0&&e.jsx("div",{className:"cm-dropdown-empty",children:"No members found"})]})]})]})]})}function ps(){const[l,N]=f.useState(()=>localStorage.getItem("adminActiveView")||"schedule"),p=t=>{N(t),localStorage.setItem("adminActiveView",t)},[y,A]=f.useState(0),[H,x]=f.useState(!1),[E,o]=f.useState([]),[_,W]=f.useState(null),[M,Y]=f.useState(null),[J,m]=f.useState([]),[I,k]=f.useState([]),{currentUser:O,logout:B,isAdmin:q,loading:ne}=Ke(),{isDark:ee,toggleTheme:pe}=Je(),d=Qe(),K=f.useRef(0),R=f.useRef(!1);f.useRef(null);const G=f.useCallback((t,i="info")=>{Y({message:t,type:i}),setTimeout(()=>Y(null),4e3)},[]);f.useEffect(()=>{!ne&&(!O||!q)&&d("/")},[O,q,ne,d]),f.useEffect(()=>{O&&q&&X()},[O,q]);const X=async()=>{try{const t=De(z(T,"rescheduleRequests"),Me("status","==","pending")),v=(await Z(t)).docs.map(C=>({id:C.id,...C.data()}));v.sort((C,S)=>{const F=C.createdAt?.toDate?C.createdAt.toDate():new Date(0);return(S.createdAt?.toDate?S.createdAt.toDate():new Date(0))-F}),o(v)}catch(t){console.error("Error fetching reschedule requests:",t)}};f.useEffect(()=>{(async()=>{if(!(!O||!q))try{const[i,v]=await Promise.all([Z(z(T,"clients")),Z(z(T,"sessions"))]),C=i.docs.map(L=>({id:L.id,...L.data()})),S=v.docs.map(L=>({id:L.id,...L.data()}));m(C);const F=new Set(C.map(L=>L.id)),$=v.docs.filter(L=>!F.has(L.data().clientId));if($.length>0){const L=$.map(s=>je(V(T,"sessions",s.id)));await Promise.all(L)}k(S.filter(L=>F.has(L.clientId)))}catch(i){console.error("Error fetching dashboard data:",i)}})()},[O,q]),f.useEffect(()=>{const t=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,i=S=>{t()<=0&&(K.current=S.touches[0].clientY,R.current=!1)},v=S=>{const F=t(),L=S.touches[0].clientY-K.current;if(F>5||L<=0){R.current=!1,A(0);return}L>20&&F<=0&&(R.current=!0,A(Math.min((L-20)*.4,80)))},C=()=>{R.current&&y>60?(x(!0),setTimeout(()=>{window.location.reload()},300)):A(0),R.current=!1};return document.addEventListener("touchstart",i,{passive:!0}),document.addEventListener("touchmove",v,{passive:!0}),document.addEventListener("touchend",C),()=>{document.removeEventListener("touchstart",i),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",C)}},[y]);const re=()=>{x(!0),setTimeout(()=>{window.location.reload()},300)},le=async()=>{try{await B(),d("/")}catch(t){console.error("Failed to log out:",t)}},he=()=>{d("/add-client")},oe=t=>new Date(t).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),se=t=>{const[i,v]=t.split(":"),C=parseInt(i),S=C>=12?"pm":"am";return`${C>12?C-12:C===0?12:C}:${v}${S}`},ue=async t=>{if(window.confirm(`Approve reschedule for ${t.clientName}?

From: ${oe(t.originalDate)} at ${se(t.originalTime)}
To: ${oe(t.requestedDate)} at ${se(t.requestedTime)}`)){W(t.id);try{await de(V(T,"sessions",t.sessionId),{date:t.requestedDate,time:t.requestedTime}),await de(V(T,"rescheduleRequests",t.id),{status:"approved",respondedAt:Q.now()}),o(E.filter(i=>i.id!==t.id)),G(`Approved reschedule for ${t.clientName}`,"success")}catch(i){console.error("Error approving request:",i),G("Failed to approve request","error")}W(null)}},fe=async t=>{if(window.confirm(`Reject reschedule request from ${t.clientName}?`)){W(t.id);try{await de(V(T,"rescheduleRequests",t.id),{status:"rejected",respondedAt:Q.now()}),o(E.filter(i=>i.id!==t.id)),G(`Request from ${t.clientName} rejected`,"info")}catch(i){console.error("Error rejecting request:",i),G("Failed to reject request","error")}W(null)}};if(ne)return e.jsx("div",{className:"loading",children:"Loading..."});if(!O||!q)return null;const ce=E.length,U=new Date,xe=`${U.getFullYear()}-${(U.getMonth()+1).toString().padStart(2,"0")}-${U.getDate().toString().padStart(2,"0")}`,ve=`${U.getHours().toString().padStart(2,"0")}:${U.getMinutes().toString().padStart(2,"0")}`,me=I.filter(t=>t.date===xe).length,n=t=>I.filter(i=>i.clientId!==t?!1:i.date<xe||i.date===xe&&i.time<ve).length,g=J.filter(t=>t.status!=="archived"&&(!t.clientType||t.clientType==="block")),b=new Date(U);b.setDate(b.getDate()+7);const a=g.filter(t=>{if(!t.endDate)return!1;const i=t.endDate.toDate?t.endDate.toDate():new Date(t.endDate);return i>=U&&i<=b}),r=g.filter(t=>(t.totalSessions||0)-n(t.id)<=2),h=new Map;a.forEach(t=>{const i=t.endDate.toDate?t.endDate.toDate():new Date(t.endDate),v=Math.ceil((i-U)/(1e3*60*60*24));h.set(t.id,{client:t,reasons:[`Block ends in ${v} day${v!==1?"s":""}`]})}),r.forEach(t=>{const i=(t.totalSessions||0)-n(t.id),v=i<=0?"No sessions left":`${i} session${i!==1?"s":""} left`;h.has(t.id)?h.get(t.id).reasons.push(v):h.set(t.id,{client:t,reasons:[v]})});const u=Array.from(h.values());return e.jsxs("div",{className:"dashboard",children:[y>0&&e.jsxs("div",{className:"pull-indicator",style:{height:y},children:[e.jsx("div",{className:`pull-spinner ${H?"spinning":""}`,children:H?"↻":"↓"}),e.jsx("span",{children:H?"Refreshing...":y>60?"Release to refresh":"Pull to refresh"})]}),e.jsxs("header",{className:"dashboard-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"admin-header-logo",width:"50",height:"50"}),e.jsx("span",{className:"admin-badge",children:"Admin"})]}),e.jsxs("nav",{className:"header-nav",children:[e.jsxs("button",{className:`nav-btn ${l==="requests"?"active":""} ${ce>0?"has-badge":""}`,onClick:()=>p("requests"),children:["Requests",ce>0&&e.jsx("span",{className:"nav-badge",children:ce})]}),e.jsx("button",{className:`nav-btn ${l==="forms"?"active":""}`,onClick:()=>p("forms"),children:"Forms"}),e.jsx("button",{className:`nav-btn ${l==="circuits"?"active":""}`,onClick:()=>p("circuits"),children:"Circuits"})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"theme-toggle-btn",onClick:pe,"aria-label":ee?"Switch to light mode":"Switch to dark mode",children:ee?e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"})}):e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"})})}),e.jsx("button",{className:"refresh-btn",onClick:re,disabled:H,children:H?"↻":"⟳"}),e.jsx("button",{className:"logout-btn",onClick:le,children:"Log Out"})]})]}),M&&e.jsx("div",{className:"toast-container",children:e.jsxs("div",{className:`toast ${M.type}`,children:[e.jsxs("span",{className:"toast-icon",children:[M.type==="success"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),M.type==="error"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),M.type==="info"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})]}),e.jsx("span",{className:"toast-message",children:M.message})]})}),e.jsxs("main",{className:"dashboard-main",children:[l==="schedule"&&e.jsxs("div",{className:"schedule-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Schedule"})}),e.jsxs("div",{className:"summary-cards",children:[e.jsxs("div",{className:"summary-card",onClick:()=>{},children:[e.jsx("div",{className:"summary-icon sessions-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),e.jsxs("div",{className:"summary-info",children:[e.jsx("span",{className:"summary-number",children:me}),e.jsx("span",{className:"summary-label",children:"Today"})]})]}),e.jsxs("div",{className:"summary-card",onClick:()=>ce>0&&p("requests"),children:[e.jsx("div",{className:`summary-icon requests-icon ${ce>0?"has-items":""}`,children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),e.jsxs("div",{className:"summary-info",children:[e.jsx("span",{className:"summary-number",children:ce}),e.jsx("span",{className:"summary-label",children:"Requests"})]})]}),e.jsxs("div",{className:"summary-card",onClick:()=>p("clients"),children:[e.jsx("div",{className:`summary-icon expiring-icon ${a.length>0?"has-items":""}`,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),e.jsxs("div",{className:"summary-info",children:[e.jsx("span",{className:"summary-number",children:a.length}),e.jsx("span",{className:"summary-label",children:"Expiring"})]})]}),e.jsxs("div",{className:"summary-card",onClick:()=>p("clients"),children:[e.jsx("div",{className:`summary-icon low-icon ${r.length>0?"has-items":""}`,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),e.jsxs("div",{className:"summary-info",children:[e.jsx("span",{className:"summary-number",children:r.length}),e.jsx("span",{className:"summary-label",children:"Low Sessions"})]})]})]}),u.length>0&&e.jsxs("div",{className:"attention-section",children:[e.jsxs("div",{className:"attention-header",children:[e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[e.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),e.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),e.jsx("span",{children:"Needs Attention"})]}),u.map(({client:t,reasons:i})=>e.jsxs("div",{className:"attention-item",children:[e.jsx("span",{className:"attention-name",children:t.name}),e.jsx("div",{className:"attention-reasons",children:i.map((v,C)=>e.jsx("span",{className:`attention-tag ${v.includes("No sessions")?"urgent":v.includes("ends")?"warning":"low"}`,children:v},C))})]},t.id))]}),e.jsx(is,{})]}),l==="clients"&&e.jsxs("div",{className:"clients-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Clients"}),e.jsx("button",{className:"add-btn",onClick:he,children:"+ Add Client"})]}),e.jsx(Xe,{})]}),l==="calendar"&&e.jsxs("div",{className:"calendar-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Calendar"})}),e.jsx(as,{})]}),l==="requests"&&e.jsxs("div",{className:"requests-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Reschedule Requests"})}),E.length===0?e.jsxs("div",{className:"no-requests",children:[e.jsx("div",{className:"empty-icon",children:e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"20",y:"25",width:"60",height:"50",rx:"4"}),e.jsx("path",{d:"M20 35 L50 55 L80 35"}),e.jsx("circle",{cx:"50",cy:"70",r:"3",fill:"currentColor"})]})}),e.jsx("p",{children:"No pending requests"}),e.jsx("span",{children:"When clients request to reschedule, they will appear here"})]}):e.jsx("div",{className:"requests-list",children:E.map(t=>e.jsxs("div",{className:"request-card",children:[e.jsxs("div",{className:"request-header",children:[e.jsx("span",{className:"client-name",children:t.clientName}),e.jsx("span",{className:"request-time",children:t.createdAt?.toDate?t.createdAt.toDate().toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""})]}),e.jsx("div",{className:"request-details",children:e.jsxs("div",{className:"request-change",children:[e.jsxs("div",{className:"from-session",children:[e.jsx("span",{className:"label",children:"From:"}),e.jsxs("span",{className:"value",children:[oe(t.originalDate)," at ",se(t.originalTime)]})]}),e.jsx("div",{className:"arrow",children:"→"}),e.jsxs("div",{className:"to-session",children:[e.jsx("span",{className:"label",children:"To:"}),e.jsxs("span",{className:"value",children:[oe(t.requestedDate)," at ",se(t.requestedTime)]})]})]})}),e.jsxs("div",{className:"request-actions",children:[e.jsx("button",{className:"approve-btn",onClick:()=>ue(t),disabled:_===t.id,children:_===t.id?"Processing...":"Approve"}),e.jsx("button",{className:"reject-btn",onClick:()=>fe(t),disabled:_===t.id,children:"Reject"})]})]},t.id))})]}),l==="forms"&&e.jsxs("div",{className:"forms-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Client Forms"})}),e.jsx(ds,{})]}),l==="circuits"&&e.jsxs("div",{className:"circuits-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Circuit Management"})}),e.jsx(ms,{})]})]}),e.jsxs("nav",{className:"admin-bottom-nav",children:[e.jsxs("button",{className:`admin-nav-tab ${l==="schedule"?"active":""}`,onClick:()=>p("schedule"),children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("span",{children:"Today"})]}),e.jsxs("button",{className:`admin-nav-tab ${l==="clients"?"active":""}`,onClick:()=>p("clients"),children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{children:"Clients"})]}),e.jsxs("button",{className:`admin-nav-tab ${l==="calendar"?"active":""}`,onClick:()=>p("calendar"),children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),e.jsx("path",{d:"M8 14h.01"}),e.jsx("path",{d:"M12 14h.01"}),e.jsx("path",{d:"M16 14h.01"}),e.jsx("path",{d:"M8 18h.01"}),e.jsx("path",{d:"M12 18h.01"})]}),e.jsx("span",{children:"Calendar"})]})]})]})}export{ps as default};
