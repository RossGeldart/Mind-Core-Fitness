const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CSXyC4zW.js","assets/Dashboard-BI21Q1GR.css","assets/AddClient-CRm4eX7i.js","assets/AddClient-DH1OFzHo.css","assets/ClientDashboard-2Ytoy9Ks.js","assets/ClientDashboard-DWAc5Nzm.css","assets/ClientForms-yuHVkuV0.js","assets/ClientForms-GDNtnrAx.css","assets/ClientTools-Cie_xGWN.js","assets/ClientTools-DQRPoST3.css","assets/MacroCalculator-DCu4nJ5n.js","assets/ProteinSnacks-DAQZOXQ3.js","assets/DailyMotivation-CSmzIxTU.js","assets/PersonalBests-cx4XtYHn.js","assets/PersonalBests-CLy1OZpT.css","assets/CircuitDashboard-Crxe-7B7.js","assets/CircuitDashboard-MPNVarsJ.css","assets/CircuitBooking-WcJc3MqI.js","assets/CircuitBooking-ruk9Q4Wj.css","assets/Leaderboard-BQJ-Ot3n.js","assets/Leaderboard-DUGNGeOY.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var jm={exports:{}},mc={};var mb;function nT(){if(mb)return mc;mb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:u}}return mc.Fragment=e,mc.jsx=n,mc.jsxs=n,mc}var pb;function sT(){return pb||(pb=1,jm.exports=nT()),jm.exports}var c=sT(),Dm={exports:{}},st={};var gb;function rT(){if(gb)return st;gb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,z={};function ae(P,H,de){this.props=P,this.context=H,this.refs=z,this.updater=de||q}ae.prototype.isReactComponent={},ae.prototype.setState=function(P,H){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,H,"setState")},ae.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ee(){}ee.prototype=ae.prototype;function he(P,H,de){this.props=P,this.context=H,this.refs=z,this.updater=de||q}var we=he.prototype=new ee;we.constructor=he,G(we,ae.prototype),we.isPureReactComponent=!0;var Ie=Array.isArray;function Re(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(P,H,de){var ve=de.ref;return{$$typeof:r,type:P,key:H,ref:ve!==void 0?ve:null,props:de}}function I(P,H){return R(P.type,H,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function B(P){var H={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return H[de]})}var j=/\/+/g;function Xe(P,H){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):H.toString(36)}function ut(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Re,Re):(P.status="pending",P.then(function(H){P.status==="pending"&&(P.status="fulfilled",P.value=H)},function(H){P.status==="pending"&&(P.status="rejected",P.reason=H)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,H,de,ve,Se){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var ye=!1;if(P===null)ye=!0;else switch(xe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(P.$$typeof){case r:case e:ye=!0;break;case w:return ye=P._init,W(ye(P._payload),H,de,ve,Se)}}if(ye)return Se=Se(P),ye=ve===""?"."+Xe(P,0):ve,Ie(Se)?(de="",ye!=null&&(de=ye.replace(j,"$&/")+"/"),W(Se,H,de,"",function(ht){return ht})):Se!=null&&(D(Se)&&(Se=I(Se,de+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(j,"$&/")+"/")+ye)),H.push(Se)),1;ye=0;var Pe=ve===""?".":ve+":";if(Ie(P))for(var Le=0;Le<P.length;Le++)ve=P[Le],xe=Pe+Xe(ve,Le),ye+=W(ve,H,de,xe,Se);else if(Le=O(P),typeof Le=="function")for(P=Le.call(P),Le=0;!(ve=P.next()).done;)ve=ve.value,xe=Pe+Xe(ve,Le++),ye+=W(ve,H,de,xe,Se);else if(xe==="object"){if(typeof P.then=="function")return W(ut(P),H,de,ve,Se);throw H=String(P),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ge(P,H,de){if(P==null)return P;var ve=[],Se=0;return W(P,ve,"","",function(xe){return H.call(de,xe,Se++)}),ve}function Te(P){if(P._status===-1){var H=P._result;H=H(),H.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=H)}if(P._status===1)return P._result.default;throw P._result}var Ye=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:ge,forEach:function(P,H,de){ge(P,function(){H.apply(this,arguments)},de)},count:function(P){var H=0;return ge(P,function(){H++}),H},toArray:function(P){return ge(P,function(H){return H})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return st.Activity=x,st.Children=Ke,st.Component=ae,st.Fragment=n,st.Profiler=o,st.PureComponent=he,st.StrictMode=i,st.Suspense=g,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,st.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},st.cache=function(P){return function(){return P.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(P,H,de){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ve=G({},P.props),Se=P.key;if(H!=null)for(xe in H.key!==void 0&&(Se=""+H.key),H)!S.call(H,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&H.ref===void 0||(ve[xe]=H[xe]);var xe=arguments.length-2;if(xe===1)ve.children=de;else if(1<xe){for(var ye=Array(xe),Pe=0;Pe<xe;Pe++)ye[Pe]=arguments[Pe+2];ve.children=ye}return R(P.type,Se,ve)},st.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},st.createElement=function(P,H,de){var ve,Se={},xe=null;if(H!=null)for(ve in H.key!==void 0&&(xe=""+H.key),H)S.call(H,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Se[ve]=H[ve]);var ye=arguments.length-2;if(ye===1)Se.children=de;else if(1<ye){for(var Pe=Array(ye),Le=0;Le<ye;Le++)Pe[Le]=arguments[Le+2];Se.children=Pe}if(P&&P.defaultProps)for(ve in ye=P.defaultProps,ye)Se[ve]===void 0&&(Se[ve]=ye[ve]);return R(P,xe,Se)},st.createRef=function(){return{current:null}},st.forwardRef=function(P){return{$$typeof:p,render:P}},st.isValidElement=D,st.lazy=function(P){return{$$typeof:w,_payload:{_status:-1,_result:P},_init:Te}},st.memo=function(P,H){return{$$typeof:y,type:P,compare:H===void 0?null:H}},st.startTransition=function(P){var H=N.T,de={};N.T=de;try{var ve=P(),Se=N.S;Se!==null&&Se(de,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Re,Ye)}catch(xe){Ye(xe)}finally{H!==null&&de.types!==null&&(H.types=de.types),N.T=H}},st.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},st.use=function(P){return N.H.use(P)},st.useActionState=function(P,H,de){return N.H.useActionState(P,H,de)},st.useCallback=function(P,H){return N.H.useCallback(P,H)},st.useContext=function(P){return N.H.useContext(P)},st.useDebugValue=function(){},st.useDeferredValue=function(P,H){return N.H.useDeferredValue(P,H)},st.useEffect=function(P,H){return N.H.useEffect(P,H)},st.useEffectEvent=function(P){return N.H.useEffectEvent(P)},st.useId=function(){return N.H.useId()},st.useImperativeHandle=function(P,H,de){return N.H.useImperativeHandle(P,H,de)},st.useInsertionEffect=function(P,H){return N.H.useInsertionEffect(P,H)},st.useLayoutEffect=function(P,H){return N.H.useLayoutEffect(P,H)},st.useMemo=function(P,H){return N.H.useMemo(P,H)},st.useOptimistic=function(P,H){return N.H.useOptimistic(P,H)},st.useReducer=function(P,H,de){return N.H.useReducer(P,H,de)},st.useRef=function(P){return N.H.useRef(P)},st.useState=function(P){return N.H.useState(P)},st.useSyncExternalStore=function(P,H,de){return N.H.useSyncExternalStore(P,H,de)},st.useTransition=function(){return N.H.useTransition()},st.version="19.2.4",st}var yb;function zp(){return yb||(yb=1,Dm.exports=rT()),Dm.exports}var k=zp(),Mm={exports:{}},pc={},Pm={exports:{}},Om={};var vb;function iT(){return vb||(vb=1,(function(r){function e(W,ge){var Te=W.length;W.push(ge);e:for(;0<Te;){var Ye=Te-1>>>1,Ke=W[Ye];if(0<o(Ke,ge))W[Ye]=ge,W[Te]=Ke,Te=Ye;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ge=W[0],Te=W.pop();if(Te!==ge){W[0]=Te;e:for(var Ye=0,Ke=W.length,P=Ke>>>1;Ye<P;){var H=2*(Ye+1)-1,de=W[H],ve=H+1,Se=W[ve];if(0>o(de,Te))ve<Ke&&0>o(Se,de)?(W[Ye]=Se,W[ve]=Te,Ye=ve):(W[Ye]=de,W[H]=Te,Ye=H);else if(ve<Ke&&0>o(Se,Te))W[Ye]=Se,W[ve]=Te,Ye=ve;else break e}}return ge}function o(W,ge){var Te=W.sortIndex-ge.sortIndex;return Te!==0?Te:W.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],w=1,x=null,T=3,O=!1,q=!1,G=!1,z=!1,ae=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function we(W){for(var ge=n(y);ge!==null;){if(ge.callback===null)i(y);else if(ge.startTime<=W)i(y),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=n(y)}}function Ie(W){if(G=!1,we(W),!q)if(n(g)!==null)q=!0,Re||(Re=!0,B());else{var ge=n(y);ge!==null&&ut(Ie,ge.startTime-W)}}var Re=!1,N=-1,S=5,R=-1;function I(){return z?!0:!(r.unstable_now()-R<S)}function D(){if(z=!1,Re){var W=r.unstable_now();R=W;var ge=!0;try{e:{q=!1,G&&(G=!1,ee(N),N=-1),O=!0;var Te=T;try{t:{for(we(W),x=n(g);x!==null&&!(x.expirationTime>W&&I());){var Ye=x.callback;if(typeof Ye=="function"){x.callback=null,T=x.priorityLevel;var Ke=Ye(x.expirationTime<=W);if(W=r.unstable_now(),typeof Ke=="function"){x.callback=Ke,we(W),ge=!0;break t}x===n(g)&&i(g),we(W)}else i(g);x=n(g)}if(x!==null)ge=!0;else{var P=n(y);P!==null&&ut(Ie,P.startTime-W),ge=!1}}break e}finally{x=null,T=Te,O=!1}ge=void 0}}finally{ge?B():Re=!1}}}var B;if(typeof he=="function")B=function(){he(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Xe=j.port2;j.port1.onmessage=D,B=function(){Xe.postMessage(null)}}else B=function(){ae(D,0)};function ut(W,ge){N=ae(function(){W(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var Te=T;T=ge;try{return W()}finally{T=Te}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(W,ge){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Te=T;T=W;try{return ge()}finally{T=Te}},r.unstable_scheduleCallback=function(W,ge,Te){var Ye=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ye+Te:Ye):Te=Ye,W){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=Te+Ke,W={id:w++,callback:ge,priorityLevel:W,startTime:Te,expirationTime:Ke,sortIndex:-1},Te>Ye?(W.sortIndex=Te,e(y,W),n(g)===null&&W===n(y)&&(G?(ee(N),N=-1):G=!0,ut(Ie,Te-Ye))):(W.sortIndex=Ke,e(g,W),q||O||(q=!0,Re||(Re=!0,B()))),W},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(W){var ge=T;return function(){var Te=T;T=ge;try{return W.apply(this,arguments)}finally{T=Te}}}})(Om)),Om}var bb;function aT(){return bb||(bb=1,Pm.exports=iT()),Pm.exports}var Lm={exports:{}},is={};var _b;function oT(){if(_b)return is;_b=1;var r=zp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,is.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,w)},is.flushSync=function(g){var y=d.T,w=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=w,i.d.f()}},is.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},is.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},is.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:O}):w==="script"&&i.d.X(g,{crossOrigin:x,integrity:T,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},is.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},is.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin);i.d.L(g,w,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},is.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},is.requestFormReset=function(g){i.d.r(g)},is.unstable_batchedUpdates=function(g,y){return g(y)},is.useFormState=function(g,y,w){return d.H.useFormState(g,y,w)},is.useFormStatus=function(){return d.H.useHostTransitionStatus()},is.version="19.2.4",is}var wb;function lT(){if(wb)return Lm.exports;wb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lm.exports=oT(),Lm.exports}var xb;function cT(){if(xb)return pc;xb=1;var r=aT(),e=zp(),n=lT();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,E=f.child;E;){if(E===a){b=!0,a=f,l=m;break}if(E===l){b=!0,l=f,a=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===a){b=!0,a=m,l=f;break}if(E===l){b=!0,l=m,a=f;break}E=E.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),he=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ae:return"Profiler";case z:return"StrictMode";case Ie:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case he:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case we:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return s=t.displayName||null,s!==null?s:Xe(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return Xe(t(s))}catch{}}return null}var ut=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Ye=[],Ke=-1;function P(t){return{current:t}}function H(t){0>Ke||(t.current=Ye[Ke],Ye[Ke]=null,Ke--)}function de(t,s){Ke++,Ye[Ke]=t.current,t.current=s}var ve=P(null),Se=P(null),xe=P(null),ye=P(null);function Pe(t,s){switch(de(xe,s),de(Se,t),de(ve,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?L0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=L0(s),t=V0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(ve),de(ve,t)}function Le(){H(ve),H(Se),H(xe)}function ht(t){t.memoizedState!==null&&de(ye,t);var s=ve.current,a=V0(s,t.type);s!==a&&(de(Se,t),de(ve,a))}function Mt(t){Se.current===t&&(H(ve),H(Se)),ye.current===t&&(H(ye),uc._currentValue=Te)}var Tt,qt;function J(t){if(Tt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Tt=s&&s[1]||"",qt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+t+qt}var Jt=!1;function Ct(t,s){if(!t||Jt)return"";Jt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var Q=ne}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ne){Q=ne}t.call(ue.prototype)}}else{try{throw Error()}catch(ne){Q=ne}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&Q&&typeof ne.stack=="string")return[ne.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var M=b.split(`
`),Y=E.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===Y.length)for(l=M.length-1,f=Y.length-1;1<=l&&0<=f&&M[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==Y[f]){var se=`
`+M[l].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=l&&0<=f);break}}}finally{Jt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?J(a):""}function dt(t,s){switch(t.tag){case 26:case 27:case 5:return J(t.type);case 16:return J("Lazy");case 13:return t.child!==s&&s!==null?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return Ct(t.type,!1);case 11:return Ct(t.type.render,!1);case 1:return Ct(t.type,!0);case 31:return J("Activity");default:return""}}function ft(t){try{var s="",a=null;do s+=dt(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var et=Object.prototype.hasOwnProperty,He=r.unstable_scheduleCallback,St=r.unstable_cancelCallback,zn=r.unstable_shouldYield,jn=r.unstable_requestPaint,Nt=r.unstable_now,Tn=r.unstable_getCurrentPriorityLevel,nn=r.unstable_ImmediatePriority,sn=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,pe=r.unstable_LowPriority,_e=r.unstable_IdlePriority,ze=r.log,Ce=r.unstable_setDisableYieldValue,ke=null,Oe=null;function Ve(t){if(typeof ze=="function"&&Ce(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(ke,t)}catch{}}var Ge=Math.clz32?Math.clz32:Lt,gt=Math.log,Yt=Math.LN2;function Lt(t){return t>>>=0,t===0?32:31-(gt(t)/Yt|0)|0}var mn=256,vs=262144,Ht=4194304;function Fn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=Fn(l):(b&=E,b!==0?f=Fn(b):a||(a=E&~t,a!==0&&(f=Fn(a))))):(E=l&~m,E!==0?f=Fn(E):b!==0?f=Fn(b):a||(a=l&~t,a!==0&&(f=Fn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function ns(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function rr(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(){var t=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),t}function ss(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function zs(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kr(t,s,a,l,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,M=t.expirationTimes,Y=t.hiddenUpdates;for(a=b&~a;0<a;){var se=31-Ge(a),ue=1<<se;E[se]=0,M[se]=-1;var Q=Y[se];if(Q!==null)for(Y[se]=null,se=0;se<Q.length;se++){var ne=Q[se];ne!==null&&(ne.lane&=-536870913)}a&=~ue}l!==0&&Fs(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function Fs(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Ge(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ki(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Ge(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Er(t,s){var a=s&-s;return a=(a&42)!==0?1:ir(a),(a&(t.suspendedLanes|s))!==0?0:a}function ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tr(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:ob(t.type))}function qn(t,s){var a=ge.p;try{return ge.p=t,s()}finally{ge.p=a}}var Hn=Math.random().toString(36).slice(2),rn="__reactFiber$"+Hn,pn="__reactProps$"+Hn,bs="__reactContainer$"+Hn,Rs="__reactEvents$"+Hn,Yr="__reactListeners$"+Hn,hs="__reactHandles$"+Hn,Ai="__reactResources$"+Hn,_s="__reactMarker$"+Hn;function Cs(t){delete t[rn],delete t[pn],delete t[Rs],delete t[Yr],delete t[hs]}function ds(t){var s=t[rn];if(s)return s;for(var a=t.parentNode;a;){if(s=a[bs]||a[rn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=G0(t);t!==null;){if(a=t[rn])return a;t=G0(t)}return s}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[rn]||t[bs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Gn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function C(t){var s=t[Ai];return s||(s=t[Ai]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function U(t){t[_s]=!0}var re=new Set,oe={};function Fe(t,s){Ue(t,s),Ue(t+"Capture",s)}function Ue(t,s){for(oe[t]=s,t=0;t<s.length;t++)re.add(s[t])}var qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vt={},it={};function V(t){return et.call(it,t)?!0:et.call(Vt,t)?!1:qe.test(t)?it[t]=!0:(Vt[t]=!0,!1)}function te(t,s,a){if(V(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function X(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function me(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function be(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tt(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function De(t){if(!t._valueTracker){var s=je(t)?"checked":"value";t._valueTracker=tt(t,s,""+t[s])}}function yt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=je(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function an(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var It=/[\n"\\]/g;function Zt(t){return t.replace(It,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ri(t,s,a,l,f,m,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+be(s)):t.value!==""+be(s)&&(t.value=""+be(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Ci(t,b,be(s)):a!=null?Ci(t,b,be(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+be(E):t.removeAttribute("name")}function Ca(t,s,a,l,f,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){De(t);return}a=a!=null?""+be(a):"",s=s!=null?""+be(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),De(t)}function Ci(t,s,a){s==="number"&&an(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ar(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+be(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Rt(t,s,a){if(s!=null&&(s=""+be(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+be(a):""}function un(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(ut(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=be(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),De(t)}function hn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var or=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lr(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||or.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Wn(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&lr(t,f,l)}else for(var m in s)s.hasOwnProperty(m)&&lr(t,m,s[m])}function rs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(t){return cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fs(){}var kl=null;function qs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,kr=null;function Na(t){var s=Mn(t);if(s&&(t=s.stateNode)){var a=t[pn]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ri(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[pn]||null;if(!f)throw Error(i(90));Ri(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&yt(l)}break e;case"textarea":Rt(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ar(t,!!a.multiple,s,!1)}}}var go=!1;function ji(t,s,a){if(go)return t(s,a);go=!0;try{var l=t(s);return l}finally{if(go=!1,(Ii!==null||kr!==null)&&(th(),Ii&&(s=Ii,t=kr,kr=Ii=null,Na(s),t)))for(s=0;s<t.length;s++)Na(t[s])}}function ur(t,s){var a=t.stateNode;if(a===null)return null;var l=a[pn]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(Hs)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{Ia=!1}var Ar=null,Al=null,ja=null;function Rl(){if(ja)return ja;var t,s=Al,a=s.length,l,f="value"in Ar?Ar.value:Ar.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var b=a-t;for(l=1;l<=b&&s[a-l]===f[m-l];l++);return ja=f.slice(t,1<l?1-l:void 0)}function Da(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Qr(){return!0}function hr(){return!1}function $n(t){function s(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qr:hr,this.isPropagationStopped=hr,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),s}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=$n(Xr),Di=x({},Xr,{view:0,detail:0}),Cl=$n(Di),Mi,yo,Cr,vo=x({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(Mi=t.screenX-Cr.screenX,yo=t.screenY-Cr.screenY):yo=Mi=0,Cr=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:yo}}),Nl=$n(vo),Ma=x({},vo,{dataTransfer:0}),cu=$n(Ma),uu=x({},Di,{relatedTarget:0}),Pa=$n(uu),Il=x({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=$n(Il),bo=x({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),du=$n(bo),fu=x({},Xr,{data:0}),Nr=$n(fu),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=gu[t])?!!s[t]:!1}function Pi(){return yu}var ms=x({},Di,{key:function(t){if(t.key){var s=mu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(t){return t.type==="keypress"?Da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=$n(ms),bu=x({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jr=$n(bu),h=x({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),v=$n(h),_=x({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$n(_),$=x({},vo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=$n($),Ee=x({},Xr,{newState:0,oldState:0}),ot=$n(Ee),vn=[9,13,27,32],Pt=Hs&&"CompositionEvent"in window,on=null;Hs&&"documentMode"in document&&(on=document.documentMode);var Gs=Hs&&"TextEvent"in window&&!on,Ir=Hs&&(!Pt||on&&8<on&&11>=on),dr=" ",fr=!1;function Oa(t,s){switch(t){case"keyup":return vn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function kx(t,s){switch(t){case"compositionend":return _o(s);case"keypress":return s.which!==32?null:(fr=!0,dr);case"textInput":return t=s.data,t===dr&&fr?null:t;default:return null}}function Ax(t,s){if(wo)return t==="compositionend"||!Pt&&Oa(t,s)?(t=Rl(),ja=Al=Ar=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ir&&s.locale!=="ko"?null:s.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Rx[t.type]:s==="textarea"}function Yg(t,s,a,l){Ii?kr?kr.push(l):kr=[l]:Ii=l,s=lh(s,"onChange"),0<s.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var jl=null,Dl=null;function Cx(t){I0(t,0)}function _u(t){var s=Gn(t);if(yt(s))return t}function Qg(t,s){if(t==="change")return s}var Xg=!1;if(Hs){var Vd;if(Hs){var Ud="oninput"in document;if(!Ud){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Ud=typeof Jg.oninput=="function"}Vd=Ud}else Vd=!1;Xg=Vd&&(!document.documentMode||9<document.documentMode)}function Zg(){jl&&(jl.detachEvent("onpropertychange",ey),Dl=jl=null)}function ey(t){if(t.propertyName==="value"&&_u(Dl)){var s=[];Yg(s,Dl,t,qs(t)),ji(Cx,s)}}function Nx(t,s,a){t==="focusin"?(Zg(),jl=s,Dl=a,jl.attachEvent("onpropertychange",ey)):t==="focusout"&&Zg()}function Ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(Dl)}function jx(t,s){if(t==="click")return _u(s)}function Dx(t,s){if(t==="input"||t==="change")return _u(s)}function Mx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ns=typeof Object.is=="function"?Object.is:Mx;function Ml(t,s){if(Ns(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!et.call(s,f)||!Ns(t[f],s[f]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,s){var a=ty(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ty(a)}}function sy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?sy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ry(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=an(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=an(t.document)}return s}function Bd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Px=Hs&&"documentMode"in document&&11>=document.documentMode,xo=null,zd=null,Pl=null,Fd=!1;function iy(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||xo==null||xo!==an(l)||(l=xo,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ml(Pl,l)||(Pl=l,l=lh(zd,"onSelect"),0<l.length&&(s=new Rr("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=xo)))}function La(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Eo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},qd={},ay={};Hs&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Va(t){if(qd[t])return qd[t];if(!Eo[t])return t;var s=Eo[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ay)return qd[t]=s[a];return t}var oy=Va("animationend"),ly=Va("animationiteration"),cy=Va("animationstart"),Ox=Va("transitionrun"),Lx=Va("transitionstart"),Vx=Va("transitioncancel"),uy=Va("transitionend"),hy=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function mr(t,s){hy.set(t,s),Fe(s,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ws=[],To=0,Gd=0;function xu(){for(var t=To,s=Gd=To=0;s<t;){var a=Ws[s];Ws[s++]=null;var l=Ws[s];Ws[s++]=null;var f=Ws[s];Ws[s++]=null;var m=Ws[s];if(Ws[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&dy(a,f,m)}}function Eu(t,s,a,l){Ws[To++]=t,Ws[To++]=s,Ws[To++]=a,Ws[To++]=l,Gd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wd(t,s,a,l){return Eu(t,s,a,l),Tu(t)}function Ua(t,s){return Eu(t,null,null,s),Tu(t)}function dy(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Ge(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Tu(t){if(50<sc)throw sc=0,nm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var So={};function Ux(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(t,s,a,l){return new Ux(t,s,a,l)}function $d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zr(t,s){var a=t.alternate;return a===null?(a=Is(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function fy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Su(t,s,a,l,f,m){var b=0;if(l=t,typeof t=="function")$d(t)&&(b=1);else if(typeof t=="string")b=HE(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Is(31,a,s,f),t.elementType=R,t.lanes=m,t;case G:return Ba(a.children,f,m,s);case z:b=8,f|=24;break;case ae:return t=Is(12,a,s,f|2),t.elementType=ae,t.lanes=m,t;case Ie:return t=Is(13,a,s,f),t.elementType=Ie,t.lanes=m,t;case Re:return t=Is(19,a,s,f),t.elementType=Re,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:b=10;break e;case ee:b=9;break e;case we:b=11;break e;case N:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Is(b,a,s,f),s.elementType=t,s.type=l,s.lanes=m,s}function Ba(t,s,a,l){return t=Is(7,t,l,s),t.lanes=a,t}function Kd(t,s,a){return t=Is(6,t,null,s),t.lanes=a,t}function my(t){var s=Is(18,null,null,0);return s.stateNode=t,s}function Yd(t,s,a){return s=Is(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var py=new WeakMap;function $s(t,s){if(typeof t=="object"&&t!==null){var a=py.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ft(s)},py.set(t,s),s)}return{value:t,source:s,stack:ft(s)}}var ko=[],Ao=0,ku=null,Ol=0,Ks=[],Ys=0,Oi=null,jr=1,Dr="";function ei(t,s){ko[Ao++]=Ol,ko[Ao++]=ku,ku=t,Ol=s}function gy(t,s,a){Ks[Ys++]=jr,Ks[Ys++]=Dr,Ks[Ys++]=Oi,Oi=t;var l=jr;t=Dr;var f=32-Ge(l)-1;l&=~(1<<f),a+=1;var m=32-Ge(s)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,jr=1<<32-Ge(s)+f|a<<f|l,Dr=m+t}else jr=1<<m|a<<f|l,Dr=t}function Qd(t){t.return!==null&&(ei(t,1),gy(t,1,0))}function Xd(t){for(;t===ku;)ku=ko[--Ao],ko[Ao]=null,Ol=ko[--Ao],ko[Ao]=null;for(;t===Oi;)Oi=Ks[--Ys],Ks[Ys]=null,Dr=Ks[--Ys],Ks[Ys]=null,jr=Ks[--Ys],Ks[Ys]=null}function yy(t,s){Ks[Ys++]=jr,Ks[Ys++]=Dr,Ks[Ys++]=Oi,jr=s.id,Dr=s.overflow,Oi=t}var Kn=null,en=null,kt=!1,Li=null,Qs=!1,Jd=Error(i(519));function Vi(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll($s(s,t)),Jd}function vy(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[rn]=t,s[pn]=l,a){case"dialog":pt("cancel",s),pt("close",s);break;case"iframe":case"object":case"embed":pt("load",s);break;case"video":case"audio":for(a=0;a<ic.length;a++)pt(ic[a],s);break;case"source":pt("error",s);break;case"img":case"image":case"link":pt("error",s),pt("load",s);break;case"details":pt("toggle",s);break;case"input":pt("invalid",s),Ca(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pt("invalid",s);break;case"textarea":pt("invalid",s),un(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||P0(s.textContent,a)?(l.popover!=null&&(pt("beforetoggle",s),pt("toggle",s)),l.onScroll!=null&&pt("scroll",s),l.onScrollEnd!=null&&pt("scrollend",s),l.onClick!=null&&(s.onclick=fs),s=!0):s=!1,s||Vi(t,!0)}function by(t){for(Kn=t.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:Qs=!1;return;case 27:case 3:Qs=!0;return;default:Kn=Kn.return}}function Ro(t){if(t!==Kn)return!1;if(!kt)return by(t),kt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ym(t.type,t.memoizedProps)),a=!a),a&&en&&Vi(t),by(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));en=H0(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));en=H0(t)}else s===27?(s=en,Ji(t.type)?(t=xm,xm=null,en=t):en=s):en=Kn?Js(t.stateNode.nextSibling):null;return!0}function za(){en=Kn=null,kt=!1}function Zd(){var t=Li;return t!==null&&(Ts===null?Ts=t:Ts.push.apply(Ts,t),Li=null),t}function Ll(t){Li===null?Li=[t]:Li.push(t)}var ef=P(null),Fa=null,ti=null;function Ui(t,s,a){de(ef,s._currentValue),s._currentValue=a}function ni(t){t._currentValue=ef.current,H(ef)}function tf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function nf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var M=0;M<s.length;M++)if(E.context===s[M]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),tf(m.return,a,t),l||(b=null);break e}m=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),tf(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Co(t,s,a,l){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=f.type;Ns(f.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(f===ye.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(uc):t=[uc])}f=f.return}t!==null&&nf(s,t,a,l),s.flags|=262144}function Au(t){for(t=t.firstContext;t!==null;){if(!Ns(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qa(t){Fa=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yn(t){return _y(Fa,t)}function Ru(t,s){return Fa===null&&qa(t),_y(t,s)}function _y(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ti===null){if(t===null)throw Error(i(308));ti=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ti=ti.next=s;return a}var Bx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},zx=r.unstable_scheduleCallback,Fx=r.unstable_NormalPriority,Sn={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new Bx,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&zx(Fx,function(){t.controller.abort()})}var Ul=null,rf=0,No=0,Io=null;function qx(t,s){if(Ul===null){var a=Ul=[];rf=0,No=lm(),Io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,s.then(wy,wy),s}function wy(){if(--rf===0&&Ul!==null){Io!==null&&(Io.status="fulfilled");var t=Ul;Ul=null,No=0,Io=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Hx(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var xy=W.S;W.S=function(t,s){i0=Nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&qx(t,s),xy!==null&&xy(t,s)};var Ha=P(null);function af(){var t=Ha.current;return t!==null?t:Qt.pooledCache}function Cu(t,s){s===null?de(Ha,Ha.current):de(Ha,s.pool)}function Ey(){var t=af();return t===null?null:{parent:Sn._currentValue,pool:t}}var jo=Error(i(460)),of=Error(i(474)),Nu=Error(i(542)),Iu={then:function(){}};function Ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(fs,fs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ay(t),t;default:if(typeof s.status=="string")s.then(fs,fs);else{if(t=Qt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ay(t),t}throw Wa=s,jo}}function Ga(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wa=a,jo):a}}var Wa=null;function ky(){if(Wa===null)throw Error(i(459));var t=Wa;return Wa=null,t}function Ay(t){if(t===jo||t===Nu)throw Error(i(483))}var Do=null,Bl=0;function ju(t){var s=Bl;return Bl+=1,Do===null&&(Do=[]),Sy(Do,t,s)}function zl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Du(t,s){throw s.$$typeof===T?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ry(t){function s(F,L){if(t){var K=F.deletions;K===null?(F.deletions=[L],F.flags|=16):K.push(L)}}function a(F,L){if(!t)return null;for(;L!==null;)s(F,L),L=L.sibling;return null}function l(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function f(F,L){return F=Zr(F,L),F.index=0,F.sibling=null,F}function m(F,L,K){return F.index=K,t?(K=F.alternate,K!==null?(K=K.index,K<L?(F.flags|=67108866,L):K):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function b(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function E(F,L,K,le){return L===null||L.tag!==6?(L=Kd(K,F.mode,le),L.return=F,L):(L=f(L,K),L.return=F,L)}function M(F,L,K,le){var We=K.type;return We===G?se(F,L,K.props.children,le,K.key):L!==null&&(L.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===S&&Ga(We)===L.type)?(L=f(L,K.props),zl(L,K),L.return=F,L):(L=Su(K.type,K.key,K.props,null,F.mode,le),zl(L,K),L.return=F,L)}function Y(F,L,K,le){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Yd(K,F.mode,le),L.return=F,L):(L=f(L,K.children||[]),L.return=F,L)}function se(F,L,K,le,We){return L===null||L.tag!==7?(L=Ba(K,F.mode,le,We),L.return=F,L):(L=f(L,K),L.return=F,L)}function ue(F,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Kd(""+L,F.mode,K),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return K=Su(L.type,L.key,L.props,null,F.mode,K),zl(K,L),K.return=F,K;case q:return L=Yd(L,F.mode,K),L.return=F,L;case S:return L=Ga(L),ue(F,L,K)}if(ut(L)||B(L))return L=Ba(L,F.mode,K,null),L.return=F,L;if(typeof L.then=="function")return ue(F,ju(L),K);if(L.$$typeof===he)return ue(F,Ru(F,L),K);Du(F,L)}return null}function Q(F,L,K,le){var We=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return We!==null?null:E(F,L,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return K.key===We?M(F,L,K,le):null;case q:return K.key===We?Y(F,L,K,le):null;case S:return K=Ga(K),Q(F,L,K,le)}if(ut(K)||B(K))return We!==null?null:se(F,L,K,le,null);if(typeof K.then=="function")return Q(F,L,ju(K),le);if(K.$$typeof===he)return Q(F,L,Ru(F,K),le);Du(F,K)}return null}function ne(F,L,K,le,We){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return F=F.get(K)||null,E(L,F,""+le,We);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case O:return F=F.get(le.key===null?K:le.key)||null,M(L,F,le,We);case q:return F=F.get(le.key===null?K:le.key)||null,Y(L,F,le,We);case S:return le=Ga(le),ne(F,L,K,le,We)}if(ut(le)||B(le))return F=F.get(K)||null,se(L,F,le,We,null);if(typeof le.then=="function")return ne(F,L,K,ju(le),We);if(le.$$typeof===he)return ne(F,L,K,Ru(L,le),We);Du(L,le)}return null}function Me(F,L,K,le){for(var We=null,jt=null,Be=L,ct=L=0,bt=null;Be!==null&&ct<K.length;ct++){Be.index>ct?(bt=Be,Be=null):bt=Be.sibling;var Dt=Q(F,Be,K[ct],le);if(Dt===null){Be===null&&(Be=bt);break}t&&Be&&Dt.alternate===null&&s(F,Be),L=m(Dt,L,ct),jt===null?We=Dt:jt.sibling=Dt,jt=Dt,Be=bt}if(ct===K.length)return a(F,Be),kt&&ei(F,ct),We;if(Be===null){for(;ct<K.length;ct++)Be=ue(F,K[ct],le),Be!==null&&(L=m(Be,L,ct),jt===null?We=Be:jt.sibling=Be,jt=Be);return kt&&ei(F,ct),We}for(Be=l(Be);ct<K.length;ct++)bt=ne(Be,F,ct,K[ct],le),bt!==null&&(t&&bt.alternate!==null&&Be.delete(bt.key===null?ct:bt.key),L=m(bt,L,ct),jt===null?We=bt:jt.sibling=bt,jt=bt);return t&&Be.forEach(function(sa){return s(F,sa)}),kt&&ei(F,ct),We}function Qe(F,L,K,le){if(K==null)throw Error(i(151));for(var We=null,jt=null,Be=L,ct=L=0,bt=null,Dt=K.next();Be!==null&&!Dt.done;ct++,Dt=K.next()){Be.index>ct?(bt=Be,Be=null):bt=Be.sibling;var sa=Q(F,Be,Dt.value,le);if(sa===null){Be===null&&(Be=bt);break}t&&Be&&sa.alternate===null&&s(F,Be),L=m(sa,L,ct),jt===null?We=sa:jt.sibling=sa,jt=sa,Be=bt}if(Dt.done)return a(F,Be),kt&&ei(F,ct),We;if(Be===null){for(;!Dt.done;ct++,Dt=K.next())Dt=ue(F,Dt.value,le),Dt!==null&&(L=m(Dt,L,ct),jt===null?We=Dt:jt.sibling=Dt,jt=Dt);return kt&&ei(F,ct),We}for(Be=l(Be);!Dt.done;ct++,Dt=K.next())Dt=ne(Be,F,ct,Dt.value,le),Dt!==null&&(t&&Dt.alternate!==null&&Be.delete(Dt.key===null?ct:Dt.key),L=m(Dt,L,ct),jt===null?We=Dt:jt.sibling=Dt,jt=Dt);return t&&Be.forEach(function(tT){return s(F,tT)}),kt&&ei(F,ct),We}function Kt(F,L,K,le){if(typeof K=="object"&&K!==null&&K.type===G&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case O:e:{for(var We=K.key;L!==null;){if(L.key===We){if(We=K.type,We===G){if(L.tag===7){a(F,L.sibling),le=f(L,K.props.children),le.return=F,F=le;break e}}else if(L.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===S&&Ga(We)===L.type){a(F,L.sibling),le=f(L,K.props),zl(le,K),le.return=F,F=le;break e}a(F,L);break}else s(F,L);L=L.sibling}K.type===G?(le=Ba(K.props.children,F.mode,le,K.key),le.return=F,F=le):(le=Su(K.type,K.key,K.props,null,F.mode,le),zl(le,K),le.return=F,F=le)}return b(F);case q:e:{for(We=K.key;L!==null;){if(L.key===We)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){a(F,L.sibling),le=f(L,K.children||[]),le.return=F,F=le;break e}else{a(F,L);break}else s(F,L);L=L.sibling}le=Yd(K,F.mode,le),le.return=F,F=le}return b(F);case S:return K=Ga(K),Kt(F,L,K,le)}if(ut(K))return Me(F,L,K,le);if(B(K)){if(We=B(K),typeof We!="function")throw Error(i(150));return K=We.call(K),Qe(F,L,K,le)}if(typeof K.then=="function")return Kt(F,L,ju(K),le);if(K.$$typeof===he)return Kt(F,L,Ru(F,K),le);Du(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(a(F,L.sibling),le=f(L,K),le.return=F,F=le):(a(F,L),le=Kd(K,F.mode,le),le.return=F,F=le),b(F)):a(F,L)}return function(F,L,K,le){try{Bl=0;var We=Kt(F,L,K,le);return Do=null,We}catch(Be){if(Be===jo||Be===Nu)throw Be;var jt=Is(29,Be,null,F.mode);return jt.lanes=le,jt.return=F,jt}}}var $a=Ry(!0),Cy=Ry(!1),Bi=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ot&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Tu(t),dy(t,null,a),s}return Eu(t,l,s,a),Tu(t)}function Fl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ki(t,a)}}function uf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var hf=!1;function ql(){if(hf){var t=Io;if(t!==null)throw t}}function Hl(t,s,a,l){hf=!1;var f=t.updateQueue;Bi=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var M=E,Y=M.next;M.next=null,b===null?m=Y:b.next=Y,b=M;var se=t.alternate;se!==null&&(se=se.updateQueue,E=se.lastBaseUpdate,E!==b&&(E===null?se.firstBaseUpdate=Y:E.next=Y,se.lastBaseUpdate=M))}if(m!==null){var ue=f.baseState;b=0,se=Y=M=null,E=m;do{var Q=E.lane&-536870913,ne=Q!==E.lane;if(ne?(vt&Q)===Q:(l&Q)===Q){Q!==0&&Q===No&&(hf=!0),se!==null&&(se=se.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Me=t,Qe=E;Q=s;var Kt=a;switch(Qe.tag){case 1:if(Me=Qe.payload,typeof Me=="function"){ue=Me.call(Kt,ue,Q);break e}ue=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Qe.payload,Q=typeof Me=="function"?Me.call(Kt,ue,Q):Me,Q==null)break e;ue=x({},ue,Q);break e;case 2:Bi=!0}}Q=E.callback,Q!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=f.callbacks,ne===null?f.callbacks=[Q]:ne.push(Q))}else ne={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},se===null?(Y=se=ne,M=ue):se=se.next=ne,b|=Q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;ne=E,E=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);se===null&&(M=ue),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=se,m===null&&(f.shared.lanes=0),$i|=b,t.lanes=b,t.memoizedState=ue}}function Ny(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Iy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ny(a[t],s)}var Mo=P(null),Mu=P(0);function jy(t,s){t=hi,de(Mu,t),de(Mo,s),hi=t|s.baseLanes}function df(){de(Mu,hi),de(Mo,Mo.current)}function ff(){hi=Mu.current,H(Mo),H(Mu)}var js=P(null),Xs=null;function qi(t){var s=t.alternate;de(bn,bn.current&1),de(js,t),Xs===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Xs=t)}function mf(t){de(bn,bn.current),de(js,t),Xs===null&&(Xs=t)}function Dy(t){t.tag===22?(de(bn,bn.current),de(js,t),Xs===null&&(Xs=t)):Hi()}function Hi(){de(bn,bn.current),de(js,js.current)}function Ds(t){H(js),Xs===t&&(Xs=null),H(bn)}var bn=P(0);function Pu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var si=0,lt=null,Wt=null,kn=null,Ou=!1,Po=!1,Ka=!1,Lu=0,Gl=0,Oo=null,Gx=0;function gn(){throw Error(i(321))}function pf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Ns(t[a],s[a]))return!1;return!0}function gf(t,s,a,l,f,m){return si=m,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=t===null||t.memoizedState===null?gv:If,Ka=!1,m=a(l,f),Ka=!1,Po&&(m=Py(s,a,l,f)),My(t),m}function My(t){W.H=Kl;var s=Wt!==null&&Wt.next!==null;if(si=0,kn=Wt=lt=null,Ou=!1,Gl=0,Oo=null,s)throw Error(i(300));t===null||An||(t=t.dependencies,t!==null&&Au(t)&&(An=!0))}function Py(t,s,a,l){lt=t;var f=0;do{if(Po&&(Oo=null),Gl=0,Po=!1,25<=f)throw Error(i(301));if(f+=1,kn=Wt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=yv,m=s(a,l)}while(Po);return m}function Wx(){var t=W.H,s=t.useState()[0];return s=typeof s.then=="function"?Wl(s):s,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(lt.flags|=1024),s}function yf(){var t=Lu!==0;return Lu=0,t}function vf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function bf(t){if(Ou){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ou=!1}si=0,kn=Wt=lt=null,Po=!1,Gl=Lu=0,Oo=null}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?lt.memoizedState=kn=t:kn=kn.next=t,kn}function _n(){if(Wt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var s=kn===null?lt.memoizedState:kn.next;if(s!==null)kn=s,Wt=t;else{if(t===null)throw lt.alternate===null?Error(i(467)):Error(i(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},kn===null?lt.memoizedState=kn=t:kn=kn.next=t}return kn}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var s=Gl;return Gl+=1,Oo===null&&(Oo=[]),t=Sy(Oo,t,s),s=lt,(kn===null?s.memoizedState:kn.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?gv:If),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===he)return Yn(t)}throw Error(i(438,String(t)))}function _f(t){var s=null,a=lt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vu(),lt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function ri(t,s){return typeof s=="function"?s(t):s}function Bu(t){var s=_n();return wf(s,Wt,t)}function wf(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var E=b=null,M=null,Y=s,se=!1;do{var ue=Y.lane&-536870913;if(ue!==Y.lane?(vt&ue)===ue:(si&ue)===ue){var Q=Y.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ue===No&&(se=!0);else if((si&Q)===Q){Y=Y.next,Q===No&&(se=!0);continue}else ue={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(E=M=ue,b=m):M=M.next=ue,lt.lanes|=Q,$i|=Q;ue=Y.action,Ka&&a(m,ue),m=Y.hasEagerState?Y.eagerState:a(m,ue)}else Q={lane:ue,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(E=M=Q,b=m):M=M.next=Q,lt.lanes|=ue,$i|=ue;Y=Y.next}while(Y!==null&&Y!==s);if(M===null?b=m:M.next=E,!Ns(m,t.memoizedState)&&(An=!0,se&&(a=Io,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=M,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xf(t){var s=_n(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);Ns(m,s.memoizedState)||(An=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Oy(t,s,a){var l=lt,f=_n(),m=kt;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Ns((Wt||f).memoizedState,a);if(b&&(f.memoizedState=a,An=!0),f=f.queue,Sf(Uy.bind(null,l,f,t),[t]),f.getSnapshot!==s||b||kn!==null&&kn.memoizedState.tag&1){if(l.flags|=2048,Lo(9,{destroy:void 0},Vy.bind(null,l,f,a,s),null),Qt===null)throw Error(i(349));m||(si&127)!==0||Ly(l,s,a)}return a}function Ly(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=lt.updateQueue,s===null?(s=Vu(),lt.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Vy(t,s,a,l){s.value=a,s.getSnapshot=l,By(s)&&zy(t)}function Uy(t,s,a){return a(function(){By(s)&&zy(t)})}function By(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Ns(t,a)}catch{return!0}}function zy(t){var s=Ua(t,2);s!==null&&Ss(s,t,2)}function Ef(t){var s=ps();if(typeof t=="function"){var a=t;if(t=a(),Ka){Ve(!0);try{a()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},s}function Fy(t,s,a,l){return t.baseState=a,wf(t,Wt,typeof l=="function"?l:ri)}function $x(t,s,a,l,f){if(qu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,qy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function qy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var m=W.T,b={};W.T=b;try{var E=a(f,l),M=W.S;M!==null&&M(b,E),Hy(t,s,E)}catch(Y){Tf(t,s,Y)}finally{m!==null&&b.types!==null&&(m.types=b.types),W.T=m}}else try{m=a(f,l),Hy(t,s,m)}catch(Y){Tf(t,s,Y)}}function Hy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gy(t,s,l)},function(l){return Tf(t,s,l)}):Gy(t,s,a)}function Gy(t,s,a){s.status="fulfilled",s.value=a,Wy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,qy(t,a)))}function Tf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Wy(s),s=s.next;while(s!==l)}t.action=null}function Wy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function $y(t,s){return s}function Ky(t,s){if(kt){var a=Qt.formState;if(a!==null){e:{var l=lt;if(kt){if(en){t:{for(var f=en,m=Qs;f.nodeType!==8;){if(!m){f=null;break t}if(f=Js(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){en=Js(f.nextSibling),l=f.data==="F!";break e}}Vi(l)}l=!1}l&&(s=a[0])}}return a=ps(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:s},a.queue=l,a=fv.bind(null,lt,l),l.dispatch=a,l=Ef(!1),m=Nf.bind(null,lt,!1,l.queue),l=ps(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=$x.bind(null,lt,f,m,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Yy(t){var s=_n();return Qy(s,Wt,t)}function Qy(t,s,a){if(s=wf(t,s,$y)[0],t=Bu(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Wl(s)}catch(b){throw b===jo?Nu:b}else l=s;s=_n();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(lt.flags|=2048,Lo(9,{destroy:void 0},Kx.bind(null,f,a),null)),[l,m,t]}function Kx(t,s){t.action=s}function Xy(t){var s=_n(),a=Wt;if(a!==null)return Qy(s,a,t);_n(),s=s.memoizedState,a=_n();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Lo(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=lt.updateQueue,s===null&&(s=Vu(),lt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Jy(){return _n().memoizedState}function zu(t,s,a,l){var f=ps();lt.flags|=t,f.memoizedState=Lo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fu(t,s,a,l){var f=_n();l=l===void 0?null:l;var m=f.memoizedState.inst;Wt!==null&&l!==null&&pf(l,Wt.memoizedState.deps)?f.memoizedState=Lo(s,m,a,l):(lt.flags|=t,f.memoizedState=Lo(1|s,m,a,l))}function Zy(t,s){zu(8390656,8,t,s)}function Sf(t,s){Fu(2048,8,t,s)}function Yx(t){lt.flags|=4;var s=lt.updateQueue;if(s===null)s=Vu(),lt.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function ev(t){var s=_n().memoizedState;return Yx({ref:s,nextImpl:t}),function(){if((Ot&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function tv(t,s){return Fu(4,2,t,s)}function nv(t,s){return Fu(4,4,t,s)}function sv(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function rv(t,s,a){a=a!=null?a.concat([t]):null,Fu(4,4,sv.bind(null,s,t),a)}function kf(){}function iv(t,s){var a=_n();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&pf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function av(t,s){var a=_n();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&pf(s,l[1]))return l[0];if(l=t(),Ka){Ve(!0);try{t()}finally{Ve(!1)}}return a.memoizedState=[l,s],l}function Af(t,s,a){return a===void 0||(si&1073741824)!==0&&(vt&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=o0(),lt.lanes|=t,$i|=t,a)}function ov(t,s,a,l){return Ns(a,s)?a:Mo.current!==null?(t=Af(t,a,l),Ns(t,s)||(An=!0),t):(si&42)===0||(si&1073741824)!==0&&(vt&261930)===0?(An=!0,t.memoizedState=a):(t=o0(),lt.lanes|=t,$i|=t,s)}function lv(t,s,a,l,f){var m=ge.p;ge.p=m!==0&&8>m?m:8;var b=W.T,E={};W.T=E,Nf(t,!1,s,a);try{var M=f(),Y=W.S;if(Y!==null&&Y(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var se=Hx(M,l);$l(t,s,se,Os(t))}else $l(t,s,l,Os(t))}catch(ue){$l(t,s,{then:function(){},status:"rejected",reason:ue},Os())}finally{ge.p=m,b!==null&&E.types!==null&&(b.types=E.types),W.T=b}}function Qx(){}function Rf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var f=cv(t).queue;lv(t,f,s,Te,a===null?Qx:function(){return uv(t),a(l)})}function cv(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:Te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function uv(t){var s=cv(t);s.next===null&&(s=t.alternate.memoizedState),$l(t,s.next.queue,{},Os())}function Cf(){return Yn(uc)}function hv(){return _n().memoizedState}function dv(){return _n().memoizedState}function Xx(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Os();t=zi(a);var l=Fi(s,t,a);l!==null&&(Ss(l,s,a),Fl(l,s,a)),s={cache:sf()},t.payload=s;return}s=s.return}}function Jx(t,s,a){var l=Os();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?mv(s,a):(a=Wd(t,s,a,l),a!==null&&(Ss(a,t,l),pv(a,s,l)))}function fv(t,s,a){var l=Os();$l(t,s,a,l)}function $l(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))mv(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,E=m(b,a);if(f.hasEagerState=!0,f.eagerState=E,Ns(E,b))return Eu(t,s,f,0),Qt===null&&xu(),!1}catch{}if(a=Wd(t,s,f,l),a!==null)return Ss(a,t,l),pv(a,s,l),!0}return!1}function Nf(t,s,a,l){if(l={lane:2,revertLane:lm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(s)throw Error(i(479))}else s=Wd(t,a,l,2),s!==null&&Ss(s,t,2)}function qu(t){var s=t.alternate;return t===lt||s!==null&&s===lt}function mv(t,s){Po=Ou=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function pv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ki(t,a)}}var Kl={readContext:Yn,use:Uu,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};Kl.useEffectEvent=gn;var gv={readContext:Yn,use:Uu,useCallback:function(t,s){return ps().memoizedState=[t,s===void 0?null:s],t},useContext:Yn,useEffect:Zy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,zu(4194308,4,sv.bind(null,s,t),a)},useLayoutEffect:function(t,s){return zu(4194308,4,t,s)},useInsertionEffect:function(t,s){zu(4,2,t,s)},useMemo:function(t,s){var a=ps();s=s===void 0?null:s;var l=t();if(Ka){Ve(!0);try{t()}finally{Ve(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=ps();if(a!==void 0){var f=a(s);if(Ka){Ve(!0);try{a(s)}finally{Ve(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Jx.bind(null,lt,t),[l.memoizedState,t]},useRef:function(t){var s=ps();return t={current:t},s.memoizedState=t},useState:function(t){t=Ef(t);var s=t.queue,a=fv.bind(null,lt,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,s){var a=ps();return Af(a,t,s)},useTransition:function(){var t=Ef(!1);return t=lv.bind(null,lt,t.queue,!0,!1),ps().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=lt,f=ps();if(kt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Qt===null)throw Error(i(349));(vt&127)!==0||Ly(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Zy(Uy.bind(null,l,m,t),[t]),l.flags|=2048,Lo(9,{destroy:void 0},Vy.bind(null,l,m,a,s),null),a},useId:function(){var t=ps(),s=Qt.identifierPrefix;if(kt){var a=Dr,l=jr;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Gx++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Cf,useFormState:Ky,useActionState:Ky,useOptimistic:function(t){var s=ps();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nf.bind(null,lt,!0,a),a.dispatch=s,[t,s]},useMemoCache:_f,useCacheRefresh:function(){return ps().memoizedState=Xx.bind(null,lt)},useEffectEvent:function(t){var s=ps(),a={impl:t};return s.memoizedState=a,function(){if((Ot&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},If={readContext:Yn,use:Uu,useCallback:iv,useContext:Yn,useEffect:Sf,useImperativeHandle:rv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Bu,useRef:Jy,useState:function(){return Bu(ri)},useDebugValue:kf,useDeferredValue:function(t,s){var a=_n();return ov(a,Wt.memoizedState,t,s)},useTransition:function(){var t=Bu(ri)[0],s=_n().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:Oy,useId:hv,useHostTransitionStatus:Cf,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,s){var a=_n();return Fy(a,Wt,t,s)},useMemoCache:_f,useCacheRefresh:dv};If.useEffectEvent=ev;var yv={readContext:Yn,use:Uu,useCallback:iv,useContext:Yn,useEffect:Sf,useImperativeHandle:rv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:xf,useRef:Jy,useState:function(){return xf(ri)},useDebugValue:kf,useDeferredValue:function(t,s){var a=_n();return Wt===null?Af(a,t,s):ov(a,Wt.memoizedState,t,s)},useTransition:function(){var t=xf(ri)[0],s=_n().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:Oy,useId:hv,useHostTransitionStatus:Cf,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,s){var a=_n();return Wt!==null?Fy(a,Wt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:dv};yv.useEffectEvent=ev;function jf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Os(),f=zi(l);f.payload=s,a!=null&&(f.callback=a),s=Fi(t,f,l),s!==null&&(Ss(s,t,l),Fl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Os(),f=zi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Fi(t,f,l),s!==null&&(Ss(s,t,l),Fl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Os(),l=zi(a);l.tag=2,s!=null&&(l.callback=s),s=Fi(t,l,a),s!==null&&(Ss(s,t,a),Fl(s,t,a))}};function vv(t,s,a,l,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ml(a,l)||!Ml(f,m):!0}function bv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Df.enqueueReplaceState(s,s.state,null)}function Ya(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=x({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function _v(t){wu(t)}function wv(t){console.error(t)}function xv(t){wu(t)}function Hu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Ev(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mf(t,s,a){return a=zi(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(t,s)},a}function Tv(t){return t=zi(t),t.tag=3,t}function Sv(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Ev(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ev(s,a,l),typeof f!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Zx(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Co(s,a,f,!0),a=js.current,a!==null){switch(a.tag){case 31:case 13:return Xs===null?nh():a.alternate===null&&yn===0&&(yn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Iu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===Iu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(i(435,a.tag))}return im(t,l,f),nh(),!1}if(kt)return s=js.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Jd&&(t=Error(i(422),{cause:l}),Ll($s(t,a)))):(l!==Jd&&(s=Error(i(423),{cause:l}),Ll($s(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=$s(l,a),f=Mf(t.stateNode,l,f),uf(t,f),yn!==4&&(yn=2)),!1;var m=Error(i(520),{cause:l});if(m=$s(m,a),nc===null?nc=[m]:nc.push(m),yn!==4&&(yn=2),s===null)return!0;l=$s(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Mf(a.stateNode,l,t),uf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Tv(f),Sv(f,t,a,l),uf(a,f),!1}a=a.return}while(a!==null);return!1}var Pf=Error(i(461)),An=!1;function Qn(t,s,a,l){s.child=t===null?Cy(s,null,a,l):$a(s,t.child,a,l)}function kv(t,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return qa(s),l=gf(t,s,a,b,m,f),E=yf(),t!==null&&!An?(vf(t,s,f),ii(t,s,f)):(kt&&E&&Qd(s),s.flags|=1,Qn(t,s,l,f),s.child)}function Av(t,s,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!$d(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Rv(t,s,m,l,f)):(t=Su(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!qf(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(b,l)&&t.ref===s.ref)return ii(t,s,f)}return s.flags|=1,t=Zr(m,l),t.ref=s.ref,t.return=s,s.child=t}function Rv(t,s,a,l,f){if(t!==null){var m=t.memoizedProps;if(Ml(m,l)&&t.ref===s.ref)if(An=!1,s.pendingProps=l=m,qf(t,f))(t.flags&131072)!==0&&(An=!0);else return s.lanes=t.lanes,ii(t,s,f)}return Of(t,s,a,l,f)}function Cv(t,s,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return Nv(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(s,m!==null?m.cachePool:null),m!==null?jy(s,m):df(),Dy(s);else return l=s.lanes=536870912,Nv(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Cu(s,m.cachePool),jy(s,m),Hi(),s.memoizedState=null):(t!==null&&Cu(s,null),df(),Hi());return Qn(t,s,f,a),s.child}function Yl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Nv(t,s,a,l,f){var m=af();return m=m===null?null:{parent:Sn._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Cu(s,null),df(),Dy(s),t!==null&&Co(t,s,l,!0),s.childLanes=f,null}function Gu(t,s){return s=$u({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Iv(t,s,a){return $a(s,t.child,null,a),t=Gu(s,s.pendingProps),t.flags|=2,Ds(s),s.memoizedState=null,t}function eE(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(kt){if(l.mode==="hidden")return t=Gu(s,l),s.lanes=536870912,Yl(null,t);if(mf(s),(t=en)?(t=q0(t,Qs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Oi!==null?{id:jr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=my(t),a.return=s,s.child=a,Kn=s,en=null)):t=null,t===null)throw Vi(s);return s.lanes=536870912,null}return Gu(s,l)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(mf(s),f)if(s.flags&256)s.flags&=-257,s=Iv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(An||Co(t,s,a,!1),f=(a&t.childLanes)!==0,An||f){if(l=Qt,l!==null&&(b=Er(l,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ua(t,b),Ss(l,t,b),Pf;nh(),s=Iv(t,s,a)}else t=m.treeContext,en=Js(b.nextSibling),Kn=s,kt=!0,Li=null,Qs=!1,t!==null&&yy(s,t),s=Gu(s,l),s.flags|=4096;return s}return t=Zr(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Wu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Of(t,s,a,l,f){return qa(s),a=gf(t,s,a,l,void 0,f),l=yf(),t!==null&&!An?(vf(t,s,f),ii(t,s,f)):(kt&&l&&Qd(s),s.flags|=1,Qn(t,s,a,f),s.child)}function jv(t,s,a,l,f,m){return qa(s),s.updateQueue=null,a=Py(s,l,a,f),My(t),l=yf(),t!==null&&!An?(vf(t,s,m),ii(t,s,m)):(kt&&l&&Qd(s),s.flags|=1,Qn(t,s,a,m),s.child)}function Dv(t,s,a,l,f){if(qa(s),s.stateNode===null){var m=So,b=a.contextType;typeof b=="object"&&b!==null&&(m=Yn(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Df,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},lf(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?Yn(b):So,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(jf(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Df.enqueueReplaceState(m,m.state,null),Hl(s,l,m,f),ql(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,M=Ya(a,E);m.props=M;var Y=m.context,se=a.contextType;b=So,typeof se=="object"&&se!==null&&(b=Yn(se));var ue=a.getDerivedStateFromProps;se=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||Y!==b)&&bv(s,m,l,b),Bi=!1;var Q=s.memoizedState;m.state=Q,Hl(s,l,m,f),ql(),Y=s.memoizedState,E||Q!==Y||Bi?(typeof ue=="function"&&(jf(s,a,ue,l),Y=s.memoizedState),(M=Bi||vv(s,a,M,l,Q,Y,b))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),m.props=l,m.state=Y,m.context=b,l=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,cf(t,s),b=s.memoizedProps,se=Ya(a,b),m.props=se,ue=s.pendingProps,Q=m.context,Y=a.contextType,M=So,typeof Y=="object"&&Y!==null&&(M=Yn(Y)),E=a.getDerivedStateFromProps,(Y=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ue||Q!==M)&&bv(s,m,l,M),Bi=!1,Q=s.memoizedState,m.state=Q,Hl(s,l,m,f),ql();var ne=s.memoizedState;b!==ue||Q!==ne||Bi||t!==null&&t.dependencies!==null&&Au(t.dependencies)?(typeof E=="function"&&(jf(s,a,E,l),ne=s.memoizedState),(se=Bi||vv(s,a,se,l,Q,ne,M)||t!==null&&t.dependencies!==null&&Au(t.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ne,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ne,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ne),m.props=l,m.state=ne,m.context=M,l=se):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Wu(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=$a(s,t.child,null,f),s.child=$a(s,null,a,f)):Qn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=ii(t,s,f),t}function Mv(t,s,a,l){return za(),s.flags|=256,Qn(t,s,a,l),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:Ey()}}function Uf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Ps),t}function Pv(t,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(bn.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(kt){if(f?qi(s):Hi(),(t=en)?(t=q0(t,Qs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Oi!==null?{id:jr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=my(t),a.return=s,s.child=a,Kn=s,en=null)):t=null,t===null)throw Vi(s);return wm(t)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(Hi(),f=s.mode,E=$u({mode:"hidden",children:E},f),l=Ba(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Vf(a),l.childLanes=Uf(t,b,a),s.memoizedState=Lf,Yl(null,l)):(qi(s),Bf(s,E))}var M=t.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(m)s.flags&256?(qi(s),s.flags&=-257,s=zf(t,s,a)):s.memoizedState!==null?(Hi(),s.child=t.child,s.flags|=128,s=null):(Hi(),E=l.fallback,f=s.mode,l=$u({mode:"visible",children:l.children},f),E=Ba(E,f,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,$a(s,t.child,null,a),l=s.child,l.memoizedState=Vf(a),l.childLanes=Uf(t,b,a),s.memoizedState=Lf,s=Yl(null,l));else if(qi(s),wm(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var Y=b.dgst;b=Y,l=Error(i(419)),l.stack="",l.digest=b,Ll({value:l,source:null,stack:null}),s=zf(t,s,a)}else if(An||Co(t,s,a,!1),b=(a&t.childLanes)!==0,An||b){if(b=Qt,b!==null&&(l=Er(b,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ua(t,l),Ss(b,t,l),Pf;_m(E)||nh(),s=zf(t,s,a)}else _m(E)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,en=Js(E.nextSibling),Kn=s,kt=!0,Li=null,Qs=!1,t!==null&&yy(s,t),s=Bf(s,l.children),s.flags|=4096);return s}return f?(Hi(),E=l.fallback,f=s.mode,M=t.child,Y=M.sibling,l=Zr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,Y!==null?E=Zr(Y,E):(E=Ba(E,f,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Yl(null,l),l=s.child,E=t.child.memoizedState,E===null?E=Vf(a):(f=E.cachePool,f!==null?(M=Sn._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Ey(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Uf(t,b,a),s.memoizedState=Lf,Yl(t.child,l)):(qi(s),a=t.child,t=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function Bf(t,s){return s=$u({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function $u(t,s){return t=Is(22,t,null,s),t.lanes=0,t}function zf(t,s,a){return $a(s,t.child,null,a),t=Bf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ov(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),tf(t.return,s,a)}function Ff(t,s,a,l,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function Lv(t,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var b=bn.current,E=(b&2)!==0;if(E?(b=b&1|2,s.flags|=128):b&=1,de(bn,b),Qn(t,s,l,a),l=kt?Ol:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ov(t,a,s);else if(t.tag===19)Ov(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ff(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Pu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ff(s,!0,a,null,m,l);break;case"together":Ff(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ii(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Co(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Zr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Zr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function qf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Au(t)))}function tE(t,s,a){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),Ui(s,Sn,t.memoizedState.cache),za();break;case 27:case 5:ht(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:Ui(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Pv(t,s,a):(qi(s),t=ii(t,s,a),t!==null?t.sibling:null);qi(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Co(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Lv(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(bn,bn.current),l)break;return null;case 22:return s.lanes=0,Cv(t,s,a,s.pendingProps);case 24:Ui(s,Sn,t.memoizedState.cache)}return ii(t,s,a)}function Vv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)An=!0;else{if(!qf(t,a)&&(s.flags&128)===0)return An=!1,tE(t,s,a);An=(t.flags&131072)!==0}else An=!1,kt&&(s.flags&1048576)!==0&&gy(s,Ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Ga(s.elementType),s.type=t,typeof t=="function")$d(t)?(l=Ya(t,l),s.tag=1,s=Dv(null,s,t,l,a)):(s.tag=0,s=Of(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===we){s.tag=11,s=kv(null,s,t,l,a);break e}else if(f===N){s.tag=14,s=Av(null,s,t,l,a);break e}}throw s=Xe(t)||t,Error(i(306,s,""))}}return s;case 0:return Of(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ya(l,s.pendingProps),Dv(t,s,l,f,a);case 3:e:{if(Pe(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,cf(t,s),Hl(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Ui(s,Sn,l),l!==m.cache&&nf(s,[Sn],a,!0),ql(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Mv(t,s,l,a);break e}else if(l!==f){f=$s(Error(i(424)),s),Ll(f),s=Mv(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,en=Js(t.firstChild),Kn=s,kt=!0,Li=null,Qs=!0,a=Cy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(za(),l===f){s=ii(t,s,a);break e}Qn(t,s,l,a)}s=s.child}return s;case 26:return Wu(t,s),t===null?(a=Y0(s.type,null,s.pendingProps,null))?s.memoizedState=a:kt||(a=s.type,t=s.pendingProps,l=ch(xe.current).createElement(a),l[rn]=s,l[pn]=t,Xn(l,a,t),U(l),s.stateNode=l):s.memoizedState=Y0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ht(s),t===null&&kt&&(l=s.stateNode=W0(s.type,s.pendingProps,xe.current),Kn=s,Qs=!0,f=en,Ji(s.type)?(xm=f,en=Js(l.firstChild)):en=f),Qn(t,s,s.pendingProps.children,a),Wu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&kt&&((f=l=en)&&(l=IE(l,s.type,s.pendingProps,Qs),l!==null?(s.stateNode=l,Kn=s,en=Js(l.firstChild),Qs=!1,f=!0):f=!1),f||Vi(s)),ht(s),f=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,ym(f,m)?l=null:b!==null&&ym(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=gf(t,s,Wx,null,null,a),uc._currentValue=f),Wu(t,s),Qn(t,s,l,a),s.child;case 6:return t===null&&kt&&((t=a=en)&&(a=jE(a,s.pendingProps,Qs),a!==null?(s.stateNode=a,Kn=s,en=null,t=!0):t=!1),t||Vi(s)),null;case 13:return Pv(t,s,a);case 4:return Pe(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=$a(s,null,l,a):Qn(t,s,l,a),s.child;case 11:return kv(t,s,s.type,s.pendingProps,a);case 7:return Qn(t,s,s.pendingProps,a),s.child;case 8:return Qn(t,s,s.pendingProps.children,a),s.child;case 12:return Qn(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ui(s,s.type,l.value),Qn(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qa(s),f=Yn(f),l=l(f),s.flags|=1,Qn(t,s,l,a),s.child;case 14:return Av(t,s,s.type,s.pendingProps,a);case 15:return Rv(t,s,s.type,s.pendingProps,a);case 19:return Lv(t,s,a);case 31:return eE(t,s,a);case 22:return Cv(t,s,a,s.pendingProps);case 24:return qa(s),l=Yn(Sn),t===null?(f=af(),f===null&&(f=Qt,m=sf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},lf(s),Ui(s,Sn,f)):((t.lanes&a)!==0&&(cf(t,s),Hl(s,null,null,a),ql()),f=t.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ui(s,Sn,l)):(l=m.cache,Ui(s,Sn,l),l!==f.cache&&nf(s,[Sn],a,!0))),Qn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ai(t){t.flags|=4}function Hf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(h0())t.flags|=8192;else throw Wa=Iu,of}else t.flags&=-16777217}function Uv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!eb(s))if(h0())t.flags|=8192;else throw Wa=Iu,of}function Ku(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?$r():536870912,t.lanes|=s,zo|=s)}function Ql(t,s){if(!kt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tn(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function nE(t,s,a){var l=s.pendingProps;switch(Xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(s),null;case 1:return tn(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ni(Sn),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ro(s)?ai(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zd())),tn(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(ai(s),m!==null?(tn(s),Uv(s,m)):(tn(s),Hf(s,f,null,l,a))):m?m!==t.memoizedState?(ai(s),tn(s),Uv(s,m)):(tn(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ai(s),tn(s),Hf(s,f,t,l,a)),null;case 27:if(Mt(s),a=xe.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return tn(s),null}t=ve.current,Ro(s)?vy(s):(t=W0(f,l,a),s.stateNode=t,ai(s))}return tn(s),null;case 5:if(Mt(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return tn(s),null}if(m=ve.current,Ro(s))vy(s);else{var b=ch(xe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}m[rn]=s,m[pn]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(Xn(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ai(s)}}return tn(s),Hf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ai(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=xe.current,Ro(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Kn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[rn]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P0(t.nodeValue,a)),t||Vi(s,!0)}else t=ch(t).createTextNode(l),t[rn]=s,s.stateNode=t}return tn(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ro(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[rn]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tn(s),t=!1}else a=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Ds(s),s):(Ds(s),null);if((s.flags&128)!==0)throw Error(i(558))}return tn(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ro(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[rn]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tn(s),f=!1}else f=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ds(s),s):(Ds(s),null)}return Ds(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Ku(s,s.updateQueue),tn(s),null);case 4:return Le(),t===null&&dm(s.stateNode.containerInfo),tn(s),null;case 10:return ni(s.type),tn(s),null;case 19:if(H(bn),l=s.memoizedState,l===null)return tn(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)Ql(l,!1);else{if(yn!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Pu(t),m!==null){for(s.flags|=128,Ql(l,!1),t=m.updateQueue,s.updateQueue=t,Ku(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)fy(a,t),a=a.sibling;return de(bn,bn.current&1|2),kt&&ei(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Nt()>Zu&&(s.flags|=128,f=!0,Ql(l,!1),s.lanes=4194304)}else{if(!f)if(t=Pu(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Ku(s,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!kt)return tn(s),null}else 2*Nt()-l.renderingStartTime>Zu&&a!==536870912&&(s.flags|=128,f=!0,Ql(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Nt(),t.sibling=null,a=bn.current,de(bn,f?a&1|2:a&1),kt&&ei(s,l.treeForkCount),t):(tn(s),null);case 22:case 23:return Ds(s),ff(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(tn(s),s.subtreeFlags&6&&(s.flags|=8192)):tn(s),a=s.updateQueue,a!==null&&Ku(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&H(Ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ni(Sn),tn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function sE(t,s){switch(Xd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ni(Sn),Le(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Mt(s),null;case 31:if(s.memoizedState!==null){if(Ds(s),s.alternate===null)throw Error(i(340));za()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ds(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));za()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return H(bn),null;case 4:return Le(),null;case 10:return ni(s.type),null;case 22:case 23:return Ds(s),ff(),t!==null&&H(Ha),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ni(Sn),null;case 25:return null;default:return null}}function Bv(t,s){switch(Xd(s),s.tag){case 3:ni(Sn),Le();break;case 26:case 27:case 5:Mt(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&Ds(s);break;case 13:Ds(s);break;case 19:H(bn);break;case 10:ni(s.type);break;case 22:case 23:Ds(s),ff(),t!==null&&H(Ha);break;case 24:ni(Sn)}}function Xl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(E){zt(s,s.return,E)}}function Gi(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=s;var M=a,Y=E;try{Y()}catch(se){zt(f,M,se)}}}l=l.next}while(l!==m)}}catch(se){zt(s,s.return,se)}}function zv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Iy(s,a)}catch(l){zt(t,t.return,l)}}}function Fv(t,s,a){a.props=Ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){zt(t,s,l)}}function Jl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){zt(t,s,f)}}function Mr(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){zt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){zt(t,s,f)}else a.current=null}function qv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){zt(t,t.return,f)}}function Gf(t,s,a){try{var l=t.stateNode;SE(l,t.type,a,s),l[pn]=s}catch(f){zt(t,t.return,f)}}function Hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=fs));else if(l!==4&&(l===27&&Ji(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for($f(t,s,a),t=t.sibling;t!==null;)$f(t,s,a),t=t.sibling}function Yu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,s,a),t=t.sibling;t!==null;)Yu(t,s,a),t=t.sibling}function Gv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xn(s,l,a),s[rn]=t,s[pn]=a}catch(m){zt(t,t.return,m)}}var oi=!1,Rn=!1,Kf=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function rE(t,s){if(t=t.containerInfo,pm=gh,t=ry(t),Bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,E=-1,M=-1,Y=0,se=0,ue=t,Q=null;t:for(;;){for(var ne;ue!==a||f!==0&&ue.nodeType!==3||(E=b+f),ue!==m||l!==0&&ue.nodeType!==3||(M=b+l),ue.nodeType===3&&(b+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)Q=ue,ue=ne;for(;;){if(ue===t)break t;if(Q===a&&++Y===f&&(E=b),Q===m&&++se===l&&(M=b),(ne=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=ne}a=E===-1||M===-1?null:{start:E,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:t,selectionRange:a},gh=!1,Ln=s;Ln!==null;)if(s=Ln,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ln=t;else for(;Ln!==null;){switch(s=Ln,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Me=Ya(a.type,f);t=l.getSnapshotBeforeUpdate(Me,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Qe){zt(a,a.return,Qe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Ln=t;break}Ln=s.return}}function $v(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ci(t,a),l&4&&Xl(5,a);break;case 1:if(ci(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){zt(a,a.return,b)}else{var f=Ya(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){zt(a,a.return,b)}}l&64&&zv(a),l&512&&Jl(a,a.return);break;case 3:if(ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Iy(t,s)}catch(b){zt(a,a.return,b)}}break;case 27:s===null&&l&4&&Gv(a);case 26:case 5:ci(t,a),s===null&&l&4&&qv(a),l&512&&Jl(a,a.return);break;case 12:ci(t,a);break;case 31:ci(t,a),l&4&&Qv(t,a);break;case 13:ci(t,a),l&4&&Xv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fE.bind(null,a),DE(t,a))));break;case 22:if(l=a.memoizedState!==null||oi,!l){s=s!==null&&s.memoizedState!==null||Rn,f=oi;var m=Rn;oi=l,(Rn=s)&&!m?ui(t,a,(a.subtreeFlags&8772)!==0):ci(t,a),oi=f,Rn=m}break;case 30:break;default:ci(t,a)}}function Kv(t){var s=t.alternate;s!==null&&(t.alternate=null,Kv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Cs(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ln=null,ws=!1;function li(t,s,a){for(a=a.child;a!==null;)Yv(t,s,a),a=a.sibling}function Yv(t,s,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(ke,a)}catch{}switch(a.tag){case 26:Rn||Mr(a,s),li(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rn||Mr(a,s);var l=ln,f=ws;Ji(a.type)&&(ln=a.stateNode,ws=!1),li(t,s,a),oc(a.stateNode),ln=l,ws=f;break;case 5:Rn||Mr(a,s);case 6:if(l=ln,f=ws,ln=null,li(t,s,a),ln=l,ws=f,ln!==null)if(ws)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(a.stateNode)}catch(m){zt(a,s,m)}else try{ln.removeChild(a.stateNode)}catch(m){zt(a,s,m)}break;case 18:ln!==null&&(ws?(t=ln,z0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yo(t)):z0(ln,a.stateNode));break;case 4:l=ln,f=ws,ln=a.stateNode.containerInfo,ws=!0,li(t,s,a),ln=l,ws=f;break;case 0:case 11:case 14:case 15:Gi(2,a,s),Rn||Gi(4,a,s),li(t,s,a);break;case 1:Rn||(Mr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fv(a,s,l)),li(t,s,a);break;case 21:li(t,s,a);break;case 22:Rn=(l=Rn)||a.memoizedState!==null,li(t,s,a),Rn=l;break;default:li(t,s,a)}}function Qv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Yo(t)}catch(a){zt(s,s.return,a)}}}function Xv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yo(t)}catch(a){zt(s,s.return,a)}}function iE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Wv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Wv),s;default:throw Error(i(435,t.tag))}}function Qu(t,s){var a=iE(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=mE.bind(null,t,l);l.then(f,f)}})}function xs(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Ji(E.type)){ln=E.stateNode,ws=!1;break e}break;case 5:ln=E.stateNode,ws=!1;break e;case 3:case 4:ln=E.stateNode.containerInfo,ws=!0;break e}E=E.return}if(ln===null)throw Error(i(160));Yv(m,b,f),ln=null,ws=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Jv(s,t),s=s.sibling}var pr=null;function Jv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xs(s,t),Es(t),l&4&&(Gi(3,t,t.return),Xl(3,t),Gi(5,t,t.return));break;case 1:xs(s,t),Es(t),l&512&&(Rn||a===null||Mr(a,a.return)),l&64&&oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pr;if(xs(s,t),Es(t),l&512&&(Rn||a===null||Mr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[_s]||m[rn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Xn(m,l,a),m[rn]=t,U(m),l=m;break e;case"link":var b=J0("link","href",f).get(l+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}m=f.createElement(l),Xn(m,l,a),f.head.appendChild(m);break;case"meta":if(b=J0("meta","content",f).get(l+(a.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}m=f.createElement(l),Xn(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[rn]=t,U(m),l=m}t.stateNode=l}else Z0(f,t.type,t.stateNode);else t.stateNode=X0(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Z0(f,t.type,t.stateNode):X0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:xs(s,t),Es(t),l&512&&(Rn||a===null||Mr(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xs(s,t),Es(t),l&512&&(Rn||a===null||Mr(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(Me){zt(t,t.return,Me)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Gf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Kf=!0);break;case 6:if(xs(s,t),Es(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Me){zt(t,t.return,Me)}}break;case 3:if(dh=null,f=pr,pr=uh(s.containerInfo),xs(s,t),pr=f,Es(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(s.containerInfo)}catch(Me){zt(t,t.return,Me)}Kf&&(Kf=!1,Zv(t));break;case 4:l=pr,pr=uh(t.stateNode.containerInfo),xs(s,t),Es(t),pr=l;break;case 12:xs(s,t),Es(t);break;case 31:xs(s,t),Es(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 13:xs(s,t),Es(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ju=Nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,Y=oi,se=Rn;if(oi=Y||f,Rn=se||M,xs(s,t),Rn=se,oi=Y,Es(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||oi||Rn||Qa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(m=M.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=M.stateNode;var ue=M.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Me){zt(M,M.return,Me)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Me){zt(M,M.return,Me)}}}else if(s.tag===18){if(a===null){M=s;try{var ne=M.stateNode;f?F0(ne,!0):F0(M.stateNode,!1)}catch(Me){zt(M,M.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qu(t,a))));break;case 19:xs(s,t),Es(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 30:break;case 21:break;default:xs(s,t),Es(t)}}function Es(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Hv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Wf(t);Yu(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(hn(b,""),a.flags&=-33);var E=Wf(t);Yu(t,E,b);break;case 3:case 4:var M=a.stateNode.containerInfo,Y=Wf(t);$f(t,Y,M);break;default:throw Error(i(161))}}catch(se){zt(t,t.return,se)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Zv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Zv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ci(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$v(t,s.alternate,s),s=s.sibling}function Qa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Gi(4,s,s.return),Qa(s);break;case 1:Mr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Fv(s,s.return,a),Qa(s);break;case 27:oc(s.stateNode);case 26:case 5:Mr(s,s.return),Qa(s);break;case 22:s.memoizedState===null&&Qa(s);break;case 30:Qa(s);break;default:Qa(s)}t=t.sibling}}function ui(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:ui(f,m,a),Xl(4,m);break;case 1:if(ui(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){zt(l,l.return,Y)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Ny(M[f],E)}catch(Y){zt(l,l.return,Y)}}a&&b&64&&zv(m),Jl(m,m.return);break;case 27:Gv(m);case 26:case 5:ui(f,m,a),a&&l===null&&b&4&&qv(m),Jl(m,m.return);break;case 12:ui(f,m,a);break;case 31:ui(f,m,a),a&&b&4&&Qv(f,m);break;case 13:ui(f,m,a),a&&b&4&&Xv(f,m);break;case 22:m.memoizedState===null&&ui(f,m,a),Jl(m,m.return);break;case 30:break;default:ui(f,m,a)}s=s.sibling}}function Yf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vl(a))}function Qf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t))}function gr(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)e0(t,s,a,l),s=s.sibling}function e0(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:gr(t,s,a,l),f&2048&&Xl(9,s);break;case 1:gr(t,s,a,l);break;case 3:gr(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t)));break;case 12:if(f&2048){gr(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){zt(s,s.return,M)}}else gr(t,s,a,l);break;case 31:gr(t,s,a,l);break;case 13:gr(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?gr(t,s,a,l):Zl(t,s):m._visibility&2?gr(t,s,a,l):(m._visibility|=2,Vo(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Yf(b,s);break;case 24:gr(t,s,a,l),f&2048&&Qf(s.alternate,s);break;default:gr(t,s,a,l)}}function Vo(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,E=a,M=l,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Vo(m,b,E,M,f),Xl(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Vo(m,b,E,M,f):Zl(m,b):(se._visibility|=2,Vo(m,b,E,M,f)),f&&Y&2048&&Yf(b.alternate,b);break;case 24:Vo(m,b,E,M,f),f&&Y&2048&&Qf(b.alternate,b);break;default:Vo(m,b,E,M,f)}s=s.sibling}}function Zl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Zl(a,l),f&2048&&Yf(l.alternate,l);break;case 24:Zl(a,l),f&2048&&Qf(l.alternate,l);break;default:Zl(a,l)}s=s.sibling}}var ec=8192;function Uo(t,s,a){if(t.subtreeFlags&ec)for(t=t.child;t!==null;)t0(t,s,a),t=t.sibling}function t0(t,s,a){switch(t.tag){case 26:Uo(t,s,a),t.flags&ec&&t.memoizedState!==null&&GE(a,pr,t.memoizedState,t.memoizedProps);break;case 5:Uo(t,s,a);break;case 3:case 4:var l=pr;pr=uh(t.stateNode.containerInfo),Uo(t,s,a),pr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ec,ec=16777216,Uo(t,s,a),ec=l):Uo(t,s,a));break;default:Uo(t,s,a)}}function n0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function tc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ln=l,r0(l,t)}n0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s0(t),t=t.sibling}function s0(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&Gi(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Xu(t)):tc(t);break;default:tc(t)}}function Xu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ln=l,r0(l,t)}n0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Gi(8,s,s.return),Xu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(s));break;default:Xu(s)}t=t.sibling}}function r0(t,s){for(;Ln!==null;){var a=Ln;switch(a.tag){case 0:case 11:case 15:Gi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ln=l;else e:for(a=t;Ln!==null;){l=Ln;var f=l.sibling,m=l.return;if(Kv(l),l===a){Ln=null;break e}if(f!==null){f.return=m,Ln=f;break e}Ln=m}}}var aE={getCacheForType:function(t){var s=Yn(Sn),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Yn(Sn).controller.signal}},oE=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Qt=null,mt=null,vt=0,Bt=0,Ms=null,Wi=!1,Bo=!1,Xf=!1,hi=0,yn=0,$i=0,Xa=0,Jf=0,Ps=0,zo=0,nc=null,Ts=null,Zf=!1,Ju=0,i0=0,Zu=1/0,eh=null,Ki=null,Pn=0,Yi=null,Fo=null,di=0,em=0,tm=null,a0=null,sc=0,nm=null;function Os(){return(Ot&2)!==0&&vt!==0?vt&-vt:W.T!==null?lm():Tr()}function o0(){if(Ps===0)if((vt&536870912)===0||kt){var t=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),Ps=t}else Ps=536870912;return t=js.current,t!==null&&(t.flags|=32),Ps}function Ss(t,s,a){(t===Qt&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(qo(t,0),Qi(t,vt,Ps,!1)),zs(t,a),((Ot&2)===0||t!==Qt)&&(t===Qt&&((Ot&2)===0&&(Xa|=a),yn===4&&Qi(t,vt,Ps,!1)),Pr(t))}function l0(t,s,a){if((Ot&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||ns(t,s),f=l?uE(t,s):rm(t,s,!0),m=l;do{if(f===0){Bo&&!l&&Qi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!lE(a)){f=rm(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var E=t;f=nc;var M=E.current.memoizedState.isDehydrated;if(M&&(qo(E,b).flags|=256),b=rm(E,b,!1),b!==2){if(Xf&&!M){E.errorRecoveryDisabledLanes|=m,Xa|=m,f=4;break e}m=Ts,Ts=f,m!==null&&(Ts===null?Ts=m:Ts.push.apply(Ts,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){qo(t,0),Qi(t,s,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qi(l,s,Ps,!Wi);break e;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Ju+300-Nt(),10<f)){if(Qi(l,s,Ps,!Wi),Dn(l,0,!0)!==0)break e;di=s,l.timeoutHandle=U0(c0.bind(null,l,a,Ts,eh,Zf,s,Ps,Xa,zo,Wi,m,"Throttled",-0,0),f);break e}c0(l,a,Ts,eh,Zf,s,Ps,Xa,zo,Wi,m,null,-0,0)}}break}while(!0);Pr(t)}function c0(t,s,a,l,f,m,b,E,M,Y,se,ue,Q,ne){if(t.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fs},t0(s,m,ue);var Me=(m&62914560)===m?Ju-Nt():(m&4194048)===m?i0-Nt():0;if(Me=WE(ue,Me),Me!==null){di=m,t.cancelPendingCommit=Me(y0.bind(null,t,s,m,a,l,f,b,E,M,se,ue,null,Q,ne)),Qi(t,m,b,!Y);return}}y0(t,s,m,a,l,f,b,E,M)}function lE(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Ns(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(t,s,a,l){s&=~Jf,s&=~Xa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var m=31-Ge(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&Fs(t,a,s)}function th(){return(Ot&6)===0?(rc(0),!1):!0}function sm(){if(mt!==null){if(Bt===0)var t=mt.return;else t=mt,ti=Fa=null,bf(t),Do=null,Bl=0,t=mt;for(;t!==null;)Bv(t.alternate,t),t=t.return;mt=null}}function qo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),di=0,sm(),Qt=t,mt=a=Zr(t.current,null),vt=s,Bt=0,Ms=null,Wi=!1,Bo=ns(t,s),Xf=!1,zo=Ps=Jf=Xa=$i=yn=0,Ts=nc=null,Zf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-Ge(l),m=1<<f;s|=t[f],l&=~m}return hi=s,xu(),a}function u0(t,s){lt=null,W.H=Kl,s===jo||s===Nu?(s=ky(),Bt=3):s===of?(s=ky(),Bt=4):Bt=s===Pf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ms=s,mt===null&&(yn=1,Hu(t,$s(s,t.current)))}function h0(){var t=js.current;return t===null?!0:(vt&4194048)===vt?Xs===null:(vt&62914560)===vt||(vt&536870912)!==0?t===Xs:!1}function d0(){var t=W.H;return W.H=Kl,t===null?Kl:t}function f0(){var t=W.A;return W.A=aE,t}function nh(){yn=4,Wi||(vt&4194048)!==vt&&js.current!==null||(Bo=!0),($i&134217727)===0&&(Xa&134217727)===0||Qt===null||Qi(Qt,vt,Ps,!1)}function rm(t,s,a){var l=Ot;Ot|=2;var f=d0(),m=f0();(Qt!==t||vt!==s)&&(eh=null,qo(t,s)),s=!1;var b=yn;e:do try{if(Bt!==0&&mt!==null){var E=mt,M=Ms;switch(Bt){case 8:sm(),b=6;break e;case 3:case 2:case 9:case 6:js.current===null&&(s=!0);var Y=Bt;if(Bt=0,Ms=null,Ho(t,E,M,Y),a&&Bo){b=0;break e}break;default:Y=Bt,Bt=0,Ms=null,Ho(t,E,M,Y)}}cE(),b=yn;break}catch(se){u0(t,se)}while(!0);return s&&t.shellSuspendCounter++,ti=Fa=null,Ot=l,W.H=f,W.A=m,mt===null&&(Qt=null,vt=0,xu()),b}function cE(){for(;mt!==null;)m0(mt)}function uE(t,s){var a=Ot;Ot|=2;var l=d0(),f=f0();Qt!==t||vt!==s?(eh=null,Zu=Nt()+500,qo(t,s)):Bo=ns(t,s);e:do try{if(Bt!==0&&mt!==null){s=mt;var m=Ms;t:switch(Bt){case 1:Bt=0,Ms=null,Ho(t,s,m,1);break;case 2:case 9:if(Ty(m)){Bt=0,Ms=null,p0(s);break}s=function(){Bt!==2&&Bt!==9||Qt!==t||(Bt=7),Pr(t)},m.then(s,s);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:Ty(m)?(Bt=0,Ms=null,p0(s)):(Bt=0,Ms=null,Ho(t,s,m,7));break;case 5:var b=null;switch(mt.tag){case 26:b=mt.memoizedState;case 5:case 27:var E=mt;if(b?eb(b):E.stateNode.complete){Bt=0,Ms=null;var M=E.sibling;if(M!==null)mt=M;else{var Y=E.return;Y!==null?(mt=Y,sh(Y)):mt=null}break t}}Bt=0,Ms=null,Ho(t,s,m,5);break;case 6:Bt=0,Ms=null,Ho(t,s,m,6);break;case 8:sm(),yn=6;break e;default:throw Error(i(462))}}hE();break}catch(se){u0(t,se)}while(!0);return ti=Fa=null,W.H=l,W.A=f,Ot=a,mt!==null?0:(Qt=null,vt=0,xu(),yn)}function hE(){for(;mt!==null&&!zn();)m0(mt)}function m0(t){var s=Vv(t.alternate,t,hi);t.memoizedProps=t.pendingProps,s===null?sh(t):mt=s}function p0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=jv(a,s,s.pendingProps,s.type,void 0,vt);break;case 11:s=jv(a,s,s.pendingProps,s.type.render,s.ref,vt);break;case 5:bf(s);default:Bv(a,s),s=mt=fy(s,hi),s=Vv(a,s,hi)}t.memoizedProps=t.pendingProps,s===null?sh(t):mt=s}function Ho(t,s,a,l){ti=Fa=null,bf(s),Do=null,Bl=0;var f=s.return;try{if(Zx(t,f,s,a,vt)){yn=1,Hu(t,$s(a,t.current)),mt=null;return}}catch(m){if(f!==null)throw mt=f,m;yn=1,Hu(t,$s(a,t.current)),mt=null;return}s.flags&32768?(kt||l===1?t=!0:Bo||(vt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=js.current,l!==null&&l.tag===13&&(l.flags|=16384))),g0(s,t)):sh(s)}function sh(t){var s=t;do{if((s.flags&32768)!==0){g0(s,Wi);return}t=s.return;var a=nE(s.alternate,s,hi);if(a!==null){mt=a;return}if(s=s.sibling,s!==null){mt=s;return}mt=s=t}while(s!==null);yn===0&&(yn=5)}function g0(t,s){do{var a=sE(t.alternate,t);if(a!==null){a.flags&=32767,mt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){mt=t;return}mt=t=a}while(t!==null);yn=6,mt=null}function y0(t,s,a,l,f,m,b,E,M){t.cancelPendingCommit=null;do rh();while(Pn!==0);if((Ot&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Gd,Kr(t,a,m,b,E,M),t===Qt&&(mt=Qt=null,vt=0),Fo=s,Yi=t,di=a,em=m,tm=f,a0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pE(ie,function(){return x0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ge.p,ge.p=2,b=Ot,Ot|=4;try{rE(t,s,a)}finally{Ot=b,ge.p=f,W.T=l}}Pn=1,v0(),b0(),_0()}}function v0(){if(Pn===1){Pn=0;var t=Yi,s=Fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ge.p;ge.p=2;var f=Ot;Ot|=4;try{Jv(s,t);var m=gm,b=ry(t.containerInfo),E=m.focusedElem,M=m.selectionRange;if(b!==E&&E&&E.ownerDocument&&sy(E.ownerDocument.documentElement,E)){if(M!==null&&Bd(E)){var Y=M.start,se=M.end;if(se===void 0&&(se=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(se,E.value.length);else{var ue=E.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var ne=Q.getSelection(),Me=E.textContent.length,Qe=Math.min(M.start,Me),Kt=M.end===void 0?Qe:Math.min(M.end,Me);!ne.extend&&Qe>Kt&&(b=Kt,Kt=Qe,Qe=b);var F=ny(E,Qe),L=ny(E,Kt);if(F&&L&&(ne.rangeCount!==1||ne.anchorNode!==F.node||ne.anchorOffset!==F.offset||ne.focusNode!==L.node||ne.focusOffset!==L.offset)){var K=ue.createRange();K.setStart(F.node,F.offset),ne.removeAllRanges(),Qe>Kt?(ne.addRange(K),ne.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),ne.addRange(K))}}}}for(ue=[],ne=E;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ue.length;E++){var le=ue[E];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}gh=!!pm,gm=pm=null}finally{Ot=f,ge.p=l,W.T=a}}t.current=s,Pn=2}}function b0(){if(Pn===2){Pn=0;var t=Yi,s=Fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ge.p;ge.p=2;var f=Ot;Ot|=4;try{$v(t,s.alternate,s)}finally{Ot=f,ge.p=l,W.T=a}}Pn=3}}function _0(){if(Pn===4||Pn===3){Pn=0,jn();var t=Yi,s=Fo,a=di,l=a0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pn=5:(Pn=0,Fo=Yi=null,w0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ki=null),us(a),s=s.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(ke,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=ge.p,ge.p=2,W.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var E=l[b];m(E.value,{componentStack:E.stack})}}finally{W.T=s,ge.p=f}}(di&3)!==0&&rh(),Pr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===nm?sc++:(sc=0,nm=t):sc=0,rc(0)}}function w0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Vl(s)))}function rh(){return v0(),b0(),_0(),x0()}function x0(){if(Pn!==5)return!1;var t=Yi,s=em;em=0;var a=us(di),l=W.T,f=ge.p;try{ge.p=32>a?32:a,W.T=null,a=tm,tm=null;var m=Yi,b=di;if(Pn=0,Fo=Yi=null,di=0,(Ot&6)!==0)throw Error(i(331));var E=Ot;if(Ot|=4,s0(m.current),e0(m,m.current,b,a),Ot=E,rc(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(ke,m)}catch{}return!0}finally{ge.p=f,W.T=l,w0(t,s)}}function E0(t,s,a){s=$s(a,s),s=Mf(t.stateNode,s,2),t=Fi(t,s,2),t!==null&&(zs(t,2),Pr(t))}function zt(t,s,a){if(t.tag===3)E0(t,t,a);else for(;s!==null;){if(s.tag===3){E0(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ki===null||!Ki.has(l))){t=$s(a,t),a=Tv(2),l=Fi(s,a,2),l!==null&&(Sv(a,l,s,t),zs(l,2),Pr(l));break}}s=s.return}}function im(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oE;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Xf=!0,f.add(a),t=dE.bind(null,t,s,a),s.then(t,t))}function dE(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Qt===t&&(vt&a)===a&&(yn===4||yn===3&&(vt&62914560)===vt&&300>Nt()-Ju?(Ot&2)===0&&qo(t,0):Jf|=a,zo===vt&&(zo=0)),Pr(t)}function T0(t,s){s===0&&(s=$r()),t=Ua(t,s),t!==null&&(zs(t,s),Pr(t))}function fE(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),T0(t,a)}function mE(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),T0(t,a)}function pE(t,s){return He(t,s)}var ih=null,Go=null,am=!1,ah=!1,om=!1,Xi=0;function Pr(t){t!==Go&&t.next===null&&(Go===null?ih=Go=t:Go=Go.next=t),ah=!0,am||(am=!0,yE())}function rc(t,s){if(!om&&ah){om=!0;do for(var a=!1,l=ih;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Ge(42|t)+1)-1,m&=f&~(b&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,R0(l,m))}else m=vt,m=Dn(l,l===Qt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ns(l,m)||(a=!0,R0(l,m));l=l.next}while(a);om=!1}}function gE(){S0()}function S0(){ah=am=!1;var t=0;Xi!==0&&AE()&&(t=Xi);for(var s=Nt(),a=null,l=ih;l!==null;){var f=l.next,m=k0(l,s);m===0?(l.next=null,a===null?ih=f:a.next=f,f===null&&(Go=a)):(a=l,(t!==0||(m&3)!==0)&&(ah=!0)),l=f}Pn!==0&&Pn!==5||rc(t),Xi!==0&&(Xi=0)}function k0(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Ge(m),E=1<<b,M=f[b];M===-1?((E&a)===0||(E&l)!==0)&&(f[b]=rr(E,s)):M<=s&&(t.expiredLanes|=E),m&=~E}if(s=Qt,a=vt,a=Dn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&St(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ns(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&St(l),us(a)){case 2:case 8:a=sn;break;case 32:a=ie;break;case 268435456:a=_e;break;default:a=ie}return l=A0.bind(null,t),a=He(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&St(l),t.callbackPriority=2,t.callbackNode=null,2}function A0(t,s){if(Pn!==0&&Pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rh()&&t.callbackNode!==a)return null;var l=vt;return l=Dn(t,t===Qt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(l0(t,l,s),k0(t,Nt()),t.callbackNode!=null&&t.callbackNode===a?A0.bind(null,t):null)}function R0(t,s){if(rh())return null;l0(t,s,!0)}function yE(){CE(function(){(Ot&6)!==0?He(nn,gE):S0()})}function lm(){if(Xi===0){var t=No;t===0&&(t=mn,mn<<=1,(mn&261888)===0&&(mn=256)),Xi=t}return Xi}function C0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ni(""+t)}function N0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function vE(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=C0((f[pn]||null).action),b=l.submitter;b&&(s=(s=b[pn]||null)?C0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var E=new Rr("action","action",null,l,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xi!==0){var M=b?N0(f,b):new FormData(f);Rf(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(E.preventDefault(),M=b?N0(f,b):new FormData(f),Rf(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var cm=0;cm<Hd.length;cm++){var um=Hd[cm],bE=um.toLowerCase(),_E=um[0].toUpperCase()+um.slice(1);mr(bE,"on"+_E)}mr(oy,"onAnimationEnd"),mr(ly,"onAnimationIteration"),mr(cy,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Ox,"onTransitionRun"),mr(Lx,"onTransitionStart"),mr(Vx,"onTransitionCancel"),mr(uy,"onTransitionEnd"),Ue("onMouseEnter",["mouseout","mouseover"]),Ue("onMouseLeave",["mouseout","mouseover"]),Ue("onPointerEnter",["pointerout","pointerover"]),Ue("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function I0(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var E=l[b],M=E.instance,Y=E.currentTarget;if(E=E.listener,M!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=Y;try{m(f)}catch(se){wu(se)}f.currentTarget=null,m=M}else for(b=0;b<l.length;b++){if(E=l[b],M=E.instance,Y=E.currentTarget,E=E.listener,M!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=Y;try{m(f)}catch(se){wu(se)}f.currentTarget=null,m=M}}}}function pt(t,s){var a=s[Rs];a===void 0&&(a=s[Rs]=new Set);var l=t+"__bubble";a.has(l)||(j0(s,t,2,!1),a.add(l))}function hm(t,s,a){var l=0;s&&(l|=4),j0(a,t,l,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function dm(t){if(!t[oh]){t[oh]=!0,re.forEach(function(a){a!=="selectionchange"&&(wE.has(a)||hm(a,!1,t),hm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[oh]||(s[oh]=!0,hm("selectionchange",!1,s))}}function j0(t,s,a,l){switch(ob(s)){case 2:var f=YE;break;case 8:f=QE;break;default:f=Am}a=f.bind(null,s,a,t),f=void 0,!Ia||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function fm(t,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=ds(E),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=m=b;continue e}E=E.parentNode}}l=l.return}ji(function(){var Y=m,se=qs(a),ue=[];e:{var Q=hy.get(t);if(Q!==void 0){var ne=Rr,Me=t;switch(t){case"keypress":if(Da(a)===0)break e;case"keydown":case"keyup":ne=vu;break;case"focusin":Me="focus",ne=Pa;break;case"focusout":Me="blur",ne=Pa;break;case"beforeblur":case"afterblur":ne=Pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=v;break;case oy:case ly:case cy:ne=hu;break;case uy:ne=A;break;case"scroll":case"scrollend":ne=Cl;break;case"wheel":ne=Z;break;case"copy":case"cut":case"paste":ne=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Jr;break;case"toggle":case"beforetoggle":ne=ot}var Qe=(s&4)!==0,Kt=!Qe&&(t==="scroll"||t==="scrollend"),F=Qe?Q!==null?Q+"Capture":null:Q;Qe=[];for(var L=Y,K;L!==null;){var le=L;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||F===null||(le=ur(L,F),le!=null&&Qe.push(ac(L,le,K))),Kt)break;L=L.return}0<Qe.length&&(Q=new ne(Q,Me,null,a,se),ue.push({event:Q,listeners:Qe}))}}if((s&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",Q&&a!==kl&&(Me=a.relatedTarget||a.fromElement)&&(ds(Me)||Me[bs]))break e;if((ne||Q)&&(Q=se.window===se?se:(Q=se.ownerDocument)?Q.defaultView||Q.parentWindow:window,ne?(Me=a.relatedTarget||a.toElement,ne=Y,Me=Me?ds(Me):null,Me!==null&&(Kt=u(Me),Qe=Me.tag,Me!==Kt||Qe!==5&&Qe!==27&&Qe!==6)&&(Me=null)):(ne=null,Me=Y),ne!==Me)){if(Qe=Nl,le="onMouseLeave",F="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Qe=Jr,le="onPointerLeave",F="onPointerEnter",L="pointer"),Kt=ne==null?Q:Gn(ne),K=Me==null?Q:Gn(Me),Q=new Qe(le,L+"leave",ne,a,se),Q.target=Kt,Q.relatedTarget=K,le=null,ds(se)===Y&&(Qe=new Qe(F,L+"enter",Me,a,se),Qe.target=K,Qe.relatedTarget=Kt,le=Qe),Kt=le,ne&&Me)t:{for(Qe=xE,F=ne,L=Me,K=0,le=F;le;le=Qe(le))K++;le=0;for(var We=L;We;We=Qe(We))le++;for(;0<K-le;)F=Qe(F),K--;for(;0<le-K;)L=Qe(L),le--;for(;K--;){if(F===L||L!==null&&F===L.alternate){Qe=F;break t}F=Qe(F),L=Qe(L)}Qe=null}else Qe=null;ne!==null&&D0(ue,Q,ne,Qe,!1),Me!==null&&Kt!==null&&D0(ue,Kt,Me,Qe,!0)}}e:{if(Q=Y?Gn(Y):window,ne=Q.nodeName&&Q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Q.type==="file")var jt=Qg;else if(Kg(Q))if(Xg)jt=Dx;else{jt=Ix;var Be=Nx}else ne=Q.nodeName,!ne||ne.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&rs(Y.elementType)&&(jt=Qg):jt=jx;if(jt&&(jt=jt(t,Y))){Yg(ue,jt,a,se);break e}Be&&Be(t,Q,Y),t==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ci(Q,"number",Q.value)}switch(Be=Y?Gn(Y):window,t){case"focusin":(Kg(Be)||Be.contentEditable==="true")&&(xo=Be,zd=Y,Pl=null);break;case"focusout":Pl=zd=xo=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,iy(ue,a,se);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":iy(ue,a,se)}var ct;if(Pt)e:{switch(t){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else wo?Oa(t,a)&&(bt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(Ir&&a.locale!=="ko"&&(wo||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&wo&&(ct=Rl()):(Ar=se,Al="value"in Ar?Ar.value:Ar.textContent,wo=!0)),Be=lh(Y,bt),0<Be.length&&(bt=new Nr(bt,t,null,a,se),ue.push({event:bt,listeners:Be}),ct?bt.data=ct:(ct=_o(a),ct!==null&&(bt.data=ct)))),(ct=Gs?kx(t,a):Ax(t,a))&&(bt=lh(Y,"onBeforeInput"),0<bt.length&&(Be=new Nr("onBeforeInput","beforeinput",null,a,se),ue.push({event:Be,listeners:bt}),Be.data=ct)),vE(ue,t,Y,a,se)}I0(ue,s)})}function ac(t,s,a){return{instance:t,listener:s,currentTarget:a}}function lh(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ur(t,a),f!=null&&l.unshift(ac(t,f,m)),f=ur(t,s),f!=null&&l.push(ac(t,f,m))),t.tag===3)return l;t=t.return}return[]}function xE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D0(t,s,a,l,f){for(var m=s._reactName,b=[];a!==null&&a!==l;){var E=a,M=E.alternate,Y=E.stateNode;if(E=E.tag,M!==null&&M===l)break;E!==5&&E!==26&&E!==27||Y===null||(M=Y,f?(Y=ur(a,m),Y!=null&&b.unshift(ac(a,Y,M))):f||(Y=ur(a,m),Y!=null&&b.push(ac(a,Y,M)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var EE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(EE,`
`).replace(TE,"")}function P0(t,s){return s=M0(s),M0(t)===s}function $t(t,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&hn(t,""+l);break;case"className":X(t,"class",l);break;case"tabIndex":X(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":X(t,a,l);break;case"style":Wn(t,l,m);break;case"data":if(s!=="object"){X(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ni(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&$t(t,s,"name",f.name,f,null),$t(t,s,"formEncType",f.formEncType,f,null),$t(t,s,"formMethod",f.formMethod,f,null),$t(t,s,"formTarget",f.formTarget,f,null)):($t(t,s,"encType",f.encType,f,null),$t(t,s,"method",f.method,f,null),$t(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ni(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=fs);break;case"onScroll":l!=null&&pt("scroll",t);break;case"onScrollEnd":l!=null&&pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":pt("beforetoggle",t),pt("toggle",t),te(t,"popover",l);break;case"xlinkActuate":me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":te(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sr.get(a)||a,te(t,a,l))}}function mm(t,s,a,l,f,m){switch(a){case"style":Wn(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&pt("scroll",t);break;case"onScrollEnd":l!=null&&pt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oe.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[pn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):te(t,a,l)}}}function Xn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",t),pt("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:$t(t,s,m,b,a,null)}}f&&$t(t,s,"srcSet",a.srcSet,a,null),l&&$t(t,s,"src",a.src,a,null);return;case"input":pt("invalid",t);var E=m=b=f=null,M=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var se=a[l];if(se!=null)switch(l){case"name":f=se;break;case"type":b=se;break;case"checked":M=se;break;case"defaultChecked":Y=se;break;case"value":m=se;break;case"defaultValue":E=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:$t(t,s,l,se,a,null)}}Ca(t,m,E,M,Y,b,f,!1);return;case"select":pt("invalid",t),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:$t(t,s,f,E,a,null)}s=m,a=b,t.multiple=!!l,s!=null?ar(t,!!l,s,!1):a!=null&&ar(t,!!l,a,!0);return;case"textarea":pt("invalid",t),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:$t(t,s,b,E,a,null)}un(t,l,f,m);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":$t(t,s,M,l,a,null));return;case"dialog":pt("beforetoggle",t),pt("toggle",t),pt("cancel",t),pt("close",t);break;case"iframe":case"object":pt("load",t);break;case"video":case"audio":for(l=0;l<ic.length;l++)pt(ic[l],t);break;case"image":pt("error",t),pt("load",t);break;case"details":pt("toggle",t);break;case"embed":case"source":case"link":pt("error",t),pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:$t(t,s,Y,l,a,null)}return;default:if(rs(s)){for(se in a)a.hasOwnProperty(se)&&(l=a[se],l!==void 0&&mm(t,s,se,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$t(t,s,E,l,a,null))}function SE(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,E=null,M=null,Y=null,se=null;for(ne in a){var ue=a[ne];if(a.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":M=ue;default:l.hasOwnProperty(ne)||$t(t,s,ne,null,l,ue)}}for(var Q in l){var ne=l[Q];if(ue=a[Q],l.hasOwnProperty(Q)&&(ne!=null||ue!=null))switch(Q){case"type":m=ne;break;case"name":f=ne;break;case"checked":Y=ne;break;case"defaultChecked":se=ne;break;case"value":b=ne;break;case"defaultValue":E=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ue&&$t(t,s,Q,ne,l,ue)}}Ri(t,b,E,M,Y,se,m,f);return;case"select":ne=b=E=Q=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":ne=M;default:l.hasOwnProperty(m)||$t(t,s,m,null,l,M)}for(f in l)if(m=l[f],M=a[f],l.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":Q=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==M&&$t(t,s,f,m,l,M)}s=E,a=b,l=ne,Q!=null?ar(t,!!a,Q,!1):!!l!=!!a&&(s!=null?ar(t,!!a,s,!0):ar(t,!!a,a?[]:"",!1));return;case"textarea":ne=Q=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,s,E,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":Q=f;break;case"defaultValue":ne=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&$t(t,s,b,f,l,m)}Rt(t,Q,ne);return;case"option":for(var Me in a)Q=a[Me],a.hasOwnProperty(Me)&&Q!=null&&!l.hasOwnProperty(Me)&&(Me==="selected"?t.selected=!1:$t(t,s,Me,null,l,Q));for(M in l)Q=l[M],ne=a[M],l.hasOwnProperty(M)&&Q!==ne&&(Q!=null||ne!=null)&&(M==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":$t(t,s,M,Q,l,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in a)Q=a[Qe],a.hasOwnProperty(Qe)&&Q!=null&&!l.hasOwnProperty(Qe)&&$t(t,s,Qe,null,l,Q);for(Y in l)if(Q=l[Y],ne=a[Y],l.hasOwnProperty(Y)&&Q!==ne&&(Q!=null||ne!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:$t(t,s,Y,Q,l,ne)}return;default:if(rs(s)){for(var Kt in a)Q=a[Kt],a.hasOwnProperty(Kt)&&Q!==void 0&&!l.hasOwnProperty(Kt)&&mm(t,s,Kt,void 0,l,Q);for(se in l)Q=l[se],ne=a[se],!l.hasOwnProperty(se)||Q===ne||Q===void 0&&ne===void 0||mm(t,s,se,Q,l,ne);return}}for(var F in a)Q=a[F],a.hasOwnProperty(F)&&Q!=null&&!l.hasOwnProperty(F)&&$t(t,s,F,null,l,Q);for(ue in l)Q=l[ue],ne=a[ue],!l.hasOwnProperty(ue)||Q===ne||Q==null&&ne==null||$t(t,s,ue,Q,l,ne)}function O0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,b=f.initiatorType,E=f.duration;if(m&&E&&O0(b)){for(b=0,E=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],Y=M.startTime;if(Y>E)break;var se=M.transferSize,ue=M.initiatorType;se&&O0(ue)&&(M=M.responseEnd,b+=se*(M<E?1:(E-Y)/(M-Y)))}if(--l,s+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function ch(t){return t.nodeType===9?t:t.ownerDocument}function L0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function ym(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vm=null;function AE(){var t=window.event;return t&&t.type==="popstate"?t===vm?!1:(vm=t,!0):(vm=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,CE=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(t){return B0.resolve(null).then(t).catch(NE)}:U0;function NE(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function z0(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Yo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oc(a);for(var m=a.firstChild;m;){var b=m.nextSibling,E=m.nodeName;m[_s]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&oc(t.ownerDocument.body);a=f}while(a);Yo(s)}function F0(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IE(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Js(t.nextSibling),t===null)break}return null}function jE(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Js(t.nextSibling),t===null))return null;return t}function q0(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Js(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function DE(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Js(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var xm=null;function H0(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Js(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function G0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function W0(t,s,a){switch(s=ch(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function oc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Cs(t)}var Zs=new Map,$0=new Set;function uh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fi=ge.d;ge.d={f:ME,r:PE,D:OE,C:LE,L:VE,m:UE,X:zE,S:BE,M:FE};function ME(){var t=fi.f(),s=th();return t||s}function PE(t){var s=Mn(t);s!==null&&s.tag===5&&s.type==="form"?uv(s):fi.r(t)}var Wo=typeof document>"u"?null:document;function K0(t,s,a){var l=Wo;if(l&&typeof s=="string"&&s){var f=Zt(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),$0.has(f)||($0.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xn(s,"link",t),U(s),l.head.appendChild(s)))}}function OE(t){fi.D(t),K0("dns-prefetch",t,null)}function LE(t,s){fi.C(t,s),K0("preconnect",t,s)}function VE(t,s,a){fi.L(t,s,a);var l=Wo;if(l&&t&&s){var f='link[rel="preload"][as="'+Zt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Zt(a.imageSizes)+'"]')):f+='[href="'+Zt(t)+'"]';var m=f;switch(s){case"style":m=$o(t);break;case"script":m=Ko(t)}Zs.has(m)||(t=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Zs.set(m,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(lc(m))||s==="script"&&l.querySelector(cc(m))||(s=l.createElement("link"),Xn(s,"link",t),U(s),l.head.appendChild(s)))}}function UE(t,s){fi.m(t,s);var a=Wo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Zt(l)+'"][href="'+Zt(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ko(t)}if(!Zs.has(m)&&(t=x({rel:"modulepreload",href:t},s),Zs.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cc(m)))return}l=a.createElement("link"),Xn(l,"link",t),U(l),a.head.appendChild(l)}}}function BE(t,s,a){fi.S(t,s,a);var l=Wo;if(l&&t){var f=C(l).hoistableStyles,m=$o(t);s=s||"default";var b=f.get(m);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(lc(m)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Zs.get(m))&&Em(t,a);var M=b=l.createElement("link");U(M),Xn(M,"link",t),M._p=new Promise(function(Y,se){M.onload=Y,M.onerror=se}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hh(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(m,b)}}}function zE(t,s){fi.X(t,s);var a=Wo;if(a&&t){var l=C(a).hoistableScripts,f=Ko(t),m=l.get(f);m||(m=a.querySelector(cc(f)),m||(t=x({src:t,async:!0},s),(s=Zs.get(f))&&Tm(t,s),m=a.createElement("script"),U(m),Xn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function FE(t,s){fi.M(t,s);var a=Wo;if(a&&t){var l=C(a).hoistableScripts,f=Ko(t),m=l.get(f);m||(m=a.querySelector(cc(f)),m||(t=x({src:t,async:!0,type:"module"},s),(s=Zs.get(f))&&Tm(t,s),m=a.createElement("script"),U(m),Xn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Y0(t,s,a,l){var f=(f=xe.current)?uh(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=$o(a.href),a=C(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$o(a.href);var m=C(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(lc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Zs.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zs.set(t,a),m||qE(f,t,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(a),a=C(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function $o(t){return'href="'+Zt(t)+'"'}function lc(t){return'link[rel="stylesheet"]['+t+"]"}function Q0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function qE(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xn(s,"link",a),U(s),t.head.appendChild(s))}function Ko(t){return'[src="'+Zt(t)+'"]'}function cc(t){return"script[async]"+t}function X0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(l)return s.instance=l,U(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),U(l),Xn(l,"style",f),hh(l,a.precedence,t),s.instance=l;case"stylesheet":f=$o(a.href);var m=t.querySelector(lc(f));if(m)return s.state.loading|=4,s.instance=m,U(m),m;l=Q0(a),(f=Zs.get(f))&&Em(l,f),m=(t.ownerDocument||t).createElement("link"),U(m);var b=m;return b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),Xn(m,"link",l),s.state.loading|=4,hh(m,a.precedence,t),s.instance=m;case"script":return m=Ko(a.src),(f=t.querySelector(cc(m)))?(s.instance=f,U(f),f):(l=a,(f=Zs.get(m))&&(l=x({},a),Tm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),U(f),Xn(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hh(l,a.precedence,t));return s.instance}function hh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Em(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var dh=null;function J0(t,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[_s]||m[rn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var E=l.get(b);E?E.push(m):l.set(b,[m])}}return l}function Z0(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function HE(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function eb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GE(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=$o(l.href),m=s.querySelector(lc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=fh.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,U(m);return}m=s.ownerDocument||s,l=Q0(l),(f=Zs.get(f))&&Em(l,f),m=m.createElement("link"),U(m);var b=m;b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),Xn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fh.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sm=0;function WE(t,s){return t.stylesheets&&t.count===0&&ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Sm===0&&(Sm=62500*kE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mh=null;function ph(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mh=new Map,s.forEach($E,t),mh=null,fh.call(t))}function $E(t,s){if(!(s.state.loading&4)){var a=mh.get(t);if(a)var l=a.get(null);else{a=new Map,mh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var uc={$$typeof:he,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function KE(t,s,a,l,f,m,b,E,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function tb(t,s,a,l,f,m,b,E,M,Y,se,ue){return t=new KE(t,s,a,b,M,Y,se,ue,E),s=1,m===!0&&(s|=24),m=Is(3,null,null,s),t.current=m,m.stateNode=t,s=sf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},lf(m),t}function nb(t){return t?(t=So,t):So}function sb(t,s,a,l,f,m){f=nb(f),l.context===null?l.context=f:l.pendingContext=f,l=zi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Fi(t,l,s),a!==null&&(Ss(a,t,s),Fl(a,t,s))}function rb(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function km(t,s){rb(t,s),(t=t.alternate)&&rb(t,s)}function ib(t){if(t.tag===13||t.tag===31){var s=Ua(t,67108864);s!==null&&Ss(s,t,67108864),km(t,67108864)}}function ab(t){if(t.tag===13||t.tag===31){var s=Os();s=ir(s);var a=Ua(t,s);a!==null&&Ss(a,t,s),km(t,s)}}var gh=!0;function YE(t,s,a,l){var f=W.T;W.T=null;var m=ge.p;try{ge.p=2,Am(t,s,a,l)}finally{ge.p=m,W.T=f}}function QE(t,s,a,l){var f=W.T;W.T=null;var m=ge.p;try{ge.p=8,Am(t,s,a,l)}finally{ge.p=m,W.T=f}}function Am(t,s,a,l){if(gh){var f=Rm(l);if(f===null)fm(t,s,l,yh,a),lb(t,l);else if(JE(f,t,s,a,l))l.stopPropagation();else if(lb(t,l),s&4&&-1<XE.indexOf(t)){for(;f!==null;){var m=Mn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Fn(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var M=1<<31-Ge(b);E.entanglements[1]|=M,b&=~M}Pr(m),(Ot&6)===0&&(Zu=Nt()+500,rc(0))}}break;case 31:case 13:E=Ua(m,2),E!==null&&Ss(E,m,2),th(),km(m,2)}if(m=Rm(l),m===null&&fm(t,s,l,yh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else fm(t,s,l,null,a)}}function Rm(t){return t=qs(t),Cm(t)}var yh=null;function Cm(t){if(yh=null,t=ds(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return yh=t,null}function ob(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case nn:return 2;case sn:return 8;case ie:case pe:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Nm=!1,Zi=null,ea=null,ta=null,hc=new Map,dc=new Map,na=[],XE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(t,s){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":hc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(t,s,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Mn(s),s!==null&&ib(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function JE(t,s,a,l,f){switch(s){case"focusin":return Zi=fc(Zi,t,s,a,l,f),!0;case"dragenter":return ea=fc(ea,t,s,a,l,f),!0;case"mouseover":return ta=fc(ta,t,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return hc.set(m,fc(hc.get(m)||null,t,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,dc.set(m,fc(dc.get(m)||null,t,s,a,l,f)),!0}return!1}function cb(t){var s=ds(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,qn(t.priority,function(){ab(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,qn(t.priority,function(){ab(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kl=l,a.target.dispatchEvent(l),kl=null}else return s=Mn(a),s!==null&&ib(s),t.blockedOn=a,!1;s.shift()}return!0}function ub(t,s,a){vh(t)&&a.delete(s)}function ZE(){Nm=!1,Zi!==null&&vh(Zi)&&(Zi=null),ea!==null&&vh(ea)&&(ea=null),ta!==null&&vh(ta)&&(ta=null),hc.forEach(ub),dc.forEach(ub)}function bh(t,s){t.blockedOn===s&&(t.blockedOn=null,Nm||(Nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZE)))}var _h=null;function hb(t){_h!==t&&(_h=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var m=Mn(a);m!==null&&(t.splice(s,3),s-=3,Rf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Yo(t){function s(M){return bh(M,t)}Zi!==null&&bh(Zi,t),ea!==null&&bh(ea,t),ta!==null&&bh(ta,t),hc.forEach(s),dc.forEach(s);for(var a=0;a<na.length;a++){var l=na[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<na.length&&(a=na[0],a.blockedOn===null);)cb(a),a.blockedOn===null&&na.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[pn]||null;if(typeof m=="function")b||hb(a);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[pn]||null)E=b.formAction;else if(Cm(f)!==null)continue}else E=b.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),hb(a)}}}function db(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Im(t){this._internalRoot=t}wh.prototype.render=Im.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Os();sb(a,l,t,s,null,null)},wh.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;sb(t.current,2,null,t,null,null),th(),s[bs]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Tr();t={blockedOn:null,target:t,priority:s};for(var a=0;a<na.length&&s!==0&&s<na[a].priority;a++);na.splice(a,0,t),a===0&&cb(t)}};var fb=e.version;if(fb!=="19.2.4")throw Error(i(527,fb,"19.2.4"));ge.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var eT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ke=xh.inject(eT),Oe=xh}catch{}}return pc.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",f=_v,m=wv,b=xv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=tb(t,1,!1,null,null,a,l,null,f,m,b,db),t[bs]=s.current,dm(t),new Im(s)},pc.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=_v,b=wv,E=xv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=tb(t,1,!0,s,a??null,l,f,M,m,b,E,db),s.context=nb(null),a=s.current,l=Os(),l=ir(l),f=zi(l),f.callback=null,Fi(a,f,l),a=l,s.current.lanes=a,zs(s,a),Pr(s),t[bs]=s.current,dm(t),new wh(s)},pc.version="19.2.4",pc}var Eb;function uT(){if(Eb)return Mm.exports;Eb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=cT(),Mm.exports}var hT=uT();const dT="modulepreload",fT=function(r){return"/login/"+r},Tb={},Us=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=g(n.map(y=>{if(y=fT(y),y in Tb)return;Tb[y]=!0;const w=y.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":dT,w||(T.as="script"),T.crossOrigin="",T.href=y,p&&T.setAttribute("nonce",p),document.head.appendChild(T),w)return new Promise((O,q)=>{T.addEventListener("load",O),T.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})};var Sb="popstate";function mT(r={}){function e(i,o){let{pathname:u,search:d,hash:p}=i.location;return up("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Pc(o)}return gT(e,n,null,r)}function cn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pT(){return Math.random().toString(36).substring(2,10)}function kb(r,e){return{usr:r.state,key:r.key,idx:e}}function up(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||i||pT()}}function Pc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function pl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function gT(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,p="POP",g=null,y=w();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function w(){return(d.state||{idx:null}).idx}function x(){p="POP";let z=w(),ae=z==null?null:z-y;y=z,g&&g({action:p,location:G.location,delta:ae})}function T(z,ae){p="PUSH";let ee=up(G.location,z,ae);y=w()+1;let he=kb(ee,y),we=G.createHref(ee);try{d.pushState(he,"",we)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(we)}u&&g&&g({action:p,location:G.location,delta:1})}function O(z,ae){p="REPLACE";let ee=up(G.location,z,ae);y=w();let he=kb(ee,y),we=G.createHref(ee);d.replaceState(he,"",we),u&&g&&g({action:p,location:G.location,delta:0})}function q(z){return yT(z)}let G={get action(){return p},get location(){return r(o,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Sb,x),g=z,()=>{o.removeEventListener(Sb,x),g=null}},createHref(z){return e(o,z)},createURL:q,encodeLocation(z){let ae=q(z);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:T,replace:O,go(z){return d.go(z)}};return G}function yT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Pc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function g1(r,e,n="/"){return vT(r,e,n,!1)}function vT(r,e,n,i){let o=typeof e=="string"?pl(e):e,u=bi(o.pathname||"/",n);if(u==null)return null;let d=y1(r);bT(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=NT(u);p=RT(d[g],y,i)}return p}function y1(r,e=[],n=[],i="",o=!1){let u=(d,p,g=o,y)=>{let w={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&g)return;cn(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let x=gi([i,w.relativePath]),T=n.concat(w);d.children&&d.children.length>0&&(cn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),y1(d.children,e,T,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:kT(x,d.index),routesMeta:T})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of v1(d.path))u(d,p,!0,g)}),e}function v1(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=v1(i.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function bT(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:AT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _T=/^:[\w-]+$/,wT=3,xT=2,ET=1,TT=10,ST=-2,Ab=r=>r==="*";function kT(r,e){let n=r.split("/"),i=n.length;return n.some(Ab)&&(i+=ST),e&&(i+=xT),n.filter(o=>!Ab(o)).reduce((o,u)=>o+(_T.test(u)?wT:u===""?ET:TT),i)}function AT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function RT(r,e,n=!1){let{routesMeta:i}=r,o={},u="/",d=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,w=u==="/"?e:e.slice(u.length)||"/",x=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),T=g.route;if(!x&&y&&n&&!i[i.length-1].route.index&&(x=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:gi([u,x.pathname]),pathnameBase:MT(gi([u,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(u=gi([u,x.pathnameBase]))}return d}function $h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=CT(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:x},T)=>{if(w==="*"){let q=p[T]||"";d=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const O=p[T];return x&&!O?y[w]=void 0:y[w]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:r}}function CT(r,e=!1,n=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function NT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function jT(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?pl(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Rb(n.substring(1),"/"):u=Rb(n,e)):u=e,{pathname:u,search:PT(i),hash:OT(o)}}function Rb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(r){let e=DT(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function qp(r,e,n,i=!1){let o;typeof r=="string"?o=pl(r):(o={...r},cn(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),cn(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),cn(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!i&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),x-=1;o.pathname=T.join("/")}p=x>=0?e[x]:"/"}let g=jT(o,p),y=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),MT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,OT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,LT=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function UT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _1(r,e){let n=r;if(typeof n!="string"||!IT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(b1)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=bi(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{nr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w1=["POST","PUT","PATCH","DELETE"];new Set(w1);var BT=["GET",...w1];new Set(BT);var gl=k.createContext(null);gl.displayName="DataRouter";var md=k.createContext(null);md.displayName="DataRouterState";var zT=k.createContext(!1),x1=k.createContext({isTransitioning:!1});x1.displayName="ViewTransition";var FT=k.createContext(new Map);FT.displayName="Fetchers";var qT=k.createContext(null);qT.displayName="Await";var Bs=k.createContext(null);Bs.displayName="Navigation";var Kc=k.createContext(null);Kc.displayName="Location";var Gr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var Hp=k.createContext(null);Hp.displayName="RouteError";var E1="REACT_ROUTER_ERROR",HT="REDIRECT",GT="ROUTE_ERROR_RESPONSE";function WT(r){if(r.startsWith(`${E1}:${HT}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $T(r){if(r.startsWith(`${E1}:${GT}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new LT(e.status,e.statusText,e.data)}catch{}}function KT(r,{relative:e}={}){cn(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Bs),{hash:o,pathname:u,search:d}=Yc(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:gi([n,u])),i.createHref({pathname:p,search:d,hash:o})}function yl(){return k.useContext(Kc)!=null}function xr(){return cn(yl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Kc).location}var T1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S1(r){k.useContext(Bs).static||k.useLayoutEffect(r)}function sr(){let{isDataRoute:r}=k.useContext(Gr);return r?oS():YT()}function YT(){cn(yl(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(gl),{basename:e,navigator:n}=k.useContext(Bs),{matches:i}=k.useContext(Gr),{pathname:o}=xr(),u=JSON.stringify(Fp(i)),d=k.useRef(!1);return S1(()=>{d.current=!0}),k.useCallback((g,y={})=>{if(nr(d.current,T1),!d.current)return;if(typeof g=="number"){n.go(g);return}let w=qp(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:gi([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,u,o,r])}k.createContext(null);function Yc(r,{relative:e}={}){let{matches:n}=k.useContext(Gr),{pathname:i}=xr(),o=JSON.stringify(Fp(n));return k.useMemo(()=>qp(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function QT(r,e){return k1(r,e)}function k1(r,e,n,i,o){cn(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Bs),{matches:d}=k.useContext(Gr),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",x=p&&p.route;{let ee=x&&x.path||"";R1(y,!x||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let T=xr(),O;if(e){let ee=typeof e=="string"?pl(e):e;cn(w==="/"||ee.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),O=ee}else O=T;let q=O.pathname||"/",G=q;if(w!=="/"){let ee=w.replace(/^\//,"").split("/");G="/"+q.replace(/^\//,"").split("/").slice(ee.length).join("/")}let z=g1(r,{pathname:G});nr(x||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),nr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ae=tS(z&&z.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:gi([w,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?w:gi([w,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),d,n,i,o);return e&&ae?k.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ae):ae}function XT(){let r=aS(),e=VT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,d)}var JT=k.createElement(XT,null),A1=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=$T(r.digest);n&&(r=n)}let e=r!==void 0?k.createElement(Gr.Provider,{value:this.props.routeContext},k.createElement(Hp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(ZT,{error:r},e):e}};A1.contextType=zT;var Um=new WeakMap;function ZT({children:r,error:e}){let{basename:n}=k.useContext(Bs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=WT(e.digest);if(i){let o=Um.get(e);if(o)throw o;let u=_1(i.location,n);if(b1&&!Um.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Um.set(e,d),d}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function eS({routeContext:r,match:e,children:n}){let i=k.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Gr.Provider,{value:r},n)}function tS(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=n?.errors;if(d!=null){let w=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);cn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,g=-1;if(n)for(let w=0;w<u.length;w++){let x=u[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=w),x.route.id){let{loaderData:T,errors:O}=n,q=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!O||O[x.route.id]===void 0);if(x.route.lazy||q){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(w,x)=>{i(w,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:UT(n.matches),errorInfo:x})}:void 0;return u.reduceRight((w,x,T)=>{let O,q=!1,G=null,z=null;n&&(O=d&&x.route.id?d[x.route.id]:void 0,G=x.route.errorElement||JT,p&&(g<0&&T===0?(R1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,z=null):g===T&&(q=!0,z=x.route.hydrateFallbackElement||null)));let ae=e.concat(u.slice(0,T+1)),ee=()=>{let he;return O?he=G:q?he=z:x.route.Component?he=k.createElement(x.route.Component,null):x.route.element?he=x.route.element:he=w,k.createElement(eS,{match:x,routeContext:{outlet:w,matches:ae,isDataRoute:n!=null},children:he})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?k.createElement(A1,{location:n.location,revalidation:n.revalidation,component:G,error:O,children:ee(),routeContext:{outlet:null,matches:ae,isDataRoute:!0},onError:y}):ee()},null)}function Gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(r){let e=k.useContext(gl);return cn(e,Gp(r)),e}function sS(r){let e=k.useContext(md);return cn(e,Gp(r)),e}function rS(r){let e=k.useContext(Gr);return cn(e,Gp(r)),e}function Wp(r){let e=rS(r),n=e.matches[e.matches.length-1];return cn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iS(){return Wp("useRouteId")}function aS(){let r=k.useContext(Hp),e=sS("useRouteError"),n=Wp("useRouteError");return r!==void 0?r:e.errors?.[n]}function oS(){let{router:r}=nS("useNavigate"),e=Wp("useNavigate"),n=k.useRef(!1);return S1(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{nr(n.current,T1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Cb={};function R1(r,e,n){!e&&!Cb[r]&&(Cb[r]=!0,nr(!1,n))}k.memo(lS);function lS({routes:r,future:e,state:n,onError:i}){return k1(r,void 0,n,i,e)}function cS({to:r,replace:e,state:n,relative:i}){cn(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Bs);nr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(Gr),{pathname:d}=xr(),p=sr(),g=qp(r,Fp(u),d,i==="path"),y=JSON.stringify(g);return k.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function wn(r){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uS({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){cn(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=pl(n));let{pathname:y="/",search:w="",hash:x="",state:T=null,key:O="default"}=n,q=k.useMemo(()=>{let G=bi(y,p);return G==null?null:{location:{pathname:G,search:w,hash:x,state:T,key:O},navigationType:i}},[p,y,w,x,T,O,i]);return nr(q!=null,`<Router basename="${p}"> is not able to match the URL "${y}${w}${x}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:k.createElement(Bs.Provider,{value:g},k.createElement(Kc.Provider,{children:e,value:q}))}function hS({children:r,location:e}){return QT(hp(r),e)}function hp(r,e=[]){let n=[];return k.Children.forEach(r,(i,o)=>{if(!k.isValidElement(i))return;let u=[...e,o];if(i.type===k.Fragment){n.push.apply(n,hp(i.props.children,u));return}cn(i.type===wn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=hp(i.props.children,u)),n.push(d)}),n}var Mh="get",Ph="application/x-www-form-urlencoded";function pd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function dS(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function fS(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function mS(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function pS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gS(r,e){return r.button===0&&(!e||e==="_self")&&!pS(r)}function dp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let i=r[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function yS(r,e){let n=dp(r);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Eh=null;function vS(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var bS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!bS.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):r}function _S(r,e){let n,i,o,u,d;if(fS(r)){let p=r.getAttribute("action");i=p?bi(p,e):null,n=r.getAttribute("method")||Mh,o=Bm(r.getAttribute("enctype"))||Ph,u=new FormData(r)}else if(dS(r)||mS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?bi(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Mh,o=Bm(r.getAttribute("formenctype"))||Bm(p.getAttribute("enctype"))||Ph,u=new FormData(p,r),!vS()){let{name:y,type:w,value:x}=r;if(w==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,x)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,i=null,o=Ph,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wS(r,e,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&bi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function xS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ES(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TS(r,e,n){let i=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await xS(u,n);return d.links?d.links():[]}return[]}));return RS(i.flat(1).filter(ES).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nb(r,e,n,i,o,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let w=i.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function SS(r,e,{includeHydrateFallback:n}={}){return kS(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kS(r){return[...new Set(r)]}function AS(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function RS(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let u=JSON.stringify(AS(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function C1(){let r=k.useContext(gl);return $p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function CS(){let r=k.useContext(md);return $p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kp=k.createContext(void 0);Kp.displayName="FrameworkContext";function N1(){let r=k.useContext(Kp);return $p(r,"You must render this element inside a <HydratedRouter> element"),r}function NS(r,e){let n=k.useContext(Kp),[i,o]=k.useState(!1),[u,d]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:x}=e,T=k.useRef(null);k.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let G=ae=>{ae.forEach(ee=>{d(ee.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return T.current&&z.observe(T.current),()=>{z.disconnect()}}},[r]),k.useEffect(()=>{if(i){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[i]);let O=()=>{o(!0)},q=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:gc(p,O),onBlur:gc(g,q),onMouseEnter:gc(y,O),onMouseLeave:gc(w,q),onTouchStart:gc(x,O)}]:[!1,T,{}]}function gc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function IS({page:r,...e}){let{router:n}=C1(),i=k.useMemo(()=>g1(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?k.createElement(DS,{page:r,matches:i,...e}):null}function jS(r){let{manifest:e,routeModules:n}=N1(),[i,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return TS(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),i}function DS({page:r,matches:e,...n}){let i=xr(),{future:o,manifest:u,routeModules:d}=N1(),{basename:p}=C1(),{loaderData:g,matches:y}=CS(),w=k.useMemo(()=>Nb(r,e,y,u,i,"data"),[r,e,y,u,i]),x=k.useMemo(()=>Nb(r,e,y,u,i,"assets"),[r,e,y,u,i]),T=k.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let G=new Set,z=!1;if(e.forEach(ee=>{let he=u.routes[ee.route.id];!he||!he.hasLoader||(!w.some(we=>we.route.id===ee.route.id)&&ee.route.id in g&&d[ee.route.id]?.shouldRevalidate||he.hasClientLoader?z=!0:G.add(ee.route.id))}),G.size===0)return[];let ae=wS(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return z&&G.size>0&&ae.searchParams.set("_routes",e.filter(ee=>G.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ae.pathname+ae.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,u,w,e,r,d]),O=k.useMemo(()=>SS(x,u),[x,u]),q=jS(x);return k.createElement(k.Fragment,null,T.map(G=>k.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),O.map(G=>k.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),q.map(({key:G,link:z})=>k.createElement("link",{key:G,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function MS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PS&&(window.__reactRouterVersion="7.13.0")}catch{}function OS({basename:r,children:e,unstable_useTransitions:n,window:i}){let o=k.useRef();o.current==null&&(o.current=mT({window:i,v5Compat:!0}));let u=o.current,[d,p]=k.useState({action:u.action,location:u.location}),g=k.useCallback(y=>{n===!1?p(y):k.startTransition(()=>p(y))},[n]);return k.useLayoutEffect(()=>u.listen(g),[u,g]),k.createElement(uS,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T,...O},q){let{basename:G,unstable_useTransitions:z}=k.useContext(Bs),ae=typeof y=="string"&&I1.test(y),ee=_1(y,G);y=ee.to;let he=KT(y,{relative:o}),[we,Ie,Re]=NS(i,O),N=BS(y,{replace:d,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:z});function S(I){e&&e(I),I.defaultPrevented||N(I)}let R=k.createElement("a",{...O,...Re,href:ee.absoluteURL||he,onClick:ee.isExternal||u?e:S,ref:MS(q,Ie),target:g,"data-discover":!ae&&n==="render"?"true":void 0});return we&&!ae?k.createElement(k.Fragment,null,R,k.createElement(IS,{page:he})):R});j1.displayName="Link";var LS=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:p,children:g,...y},w){let x=Yc(d,{relative:y.relative}),T=xr(),O=k.useContext(md),{navigator:q,basename:G}=k.useContext(Bs),z=O!=null&&GS(x)&&p===!0,ae=q.encodeLocation?q.encodeLocation(x).pathname:x.pathname,ee=T.pathname,he=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),he=he?he.toLowerCase():null,ae=ae.toLowerCase()),he&&G&&(he=bi(he,G)||he);const we=ae!=="/"&&ae.endsWith("/")?ae.length-1:ae.length;let Ie=ee===ae||!o&&ee.startsWith(ae)&&ee.charAt(we)==="/",Re=he!=null&&(he===ae||!o&&he.startsWith(ae)&&he.charAt(ae.length)==="/"),N={isActive:Ie,isPending:Re,isTransitioning:z},S=Ie?e:void 0,R;typeof i=="function"?R=i(N):R=[i,Ie?"active":null,Re?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return k.createElement(j1,{...y,"aria-current":S,className:R,ref:w,style:I,to:d,viewTransition:p},typeof g=="function"?g(N):g)});LS.displayName="NavLink";var VS=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:d=Mh,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T,...O},q)=>{let{unstable_useTransitions:G}=k.useContext(Bs),z=qS(),ae=HS(p,{relative:y}),ee=d.toLowerCase()==="get"?"get":"post",he=typeof p=="string"&&I1.test(p),we=Ie=>{if(g&&g(Ie),Ie.defaultPrevented)return;Ie.preventDefault();let Re=Ie.nativeEvent.submitter,N=Re?.getAttribute("formmethod")||d,S=()=>z(Re||Ie.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T});G&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:q,method:ee,action:ae,onSubmit:i?g:we,...O,"data-discover":!he&&r==="render"?"true":void 0})});VS.displayName="Form";function US(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(r){let e=k.useContext(gl);return cn(e,US(r)),e}function BS(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=sr(),w=xr(),x=Yc(r,{relative:u});return k.useCallback(T=>{if(gS(T,e)){T.preventDefault();let O=n!==void 0?n:Pc(w)===Pc(x),q=()=>y(r,{replace:O,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});g?k.startTransition(()=>q()):q()}},[w,y,x,n,i,e,r,o,u,d,p,g])}function p3(r){nr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(dp(r)),n=k.useRef(!1),i=xr(),o=k.useMemo(()=>yS(i.search,n.current?null:e.current),[i.search]),u=sr(),d=k.useCallback((p,g)=>{const y=dp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+y,g)},[u,o]);return[o,d]}var zS=0,FS=()=>`__${String(++zS)}__`;function qS(){let{router:r}=D1("useSubmit"),{basename:e}=k.useContext(Bs),n=iS(),i=r.fetch,o=r.navigate;return k.useCallback(async(u,d={})=>{let{action:p,method:g,encType:y,formData:w,body:x}=_S(u,e);if(d.navigate===!1){let T=d.fetcherKey||FS();await i(T,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:x,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:x,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,e,n])}function HS(r,{relative:e}={}){let{basename:n}=k.useContext(Bs),i=k.useContext(Gr);cn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Yc(r||".",{relative:e})},d=xr();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let w=p.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),Pc(u)}function GS(r,{relative:e}={}){let n=k.useContext(x1);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=D1("useViewTransitionState"),o=Yc(r,{relative:e});if(!n.isTransitioning)return!1;let u=bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $h(o.pathname,d)!=null||$h(o.pathname,u)!=null}const WS=()=>{};var Ib={};const M1=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$S=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,x=(u&3)<<4|p>>4;let T=(p&15)<<2|y>>6,O=y&63;g||(O=64,d||(T=64)),i.push(n[w],n[x],n[T],n[O])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(M1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$S(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const x=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||x==null)throw new KS;const T=u<<2|p>>4;if(i.push(T),y!==64){const O=p<<4&240|y>>2;if(i.push(O),x!==64){const q=y<<6&192|x;i.push(q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YS=function(r){const e=M1(r);return P1.encodeByteArray(e,!0)},Kh=function(r){return YS(r).replace(/\./g,"")},O1=function(r){try{return P1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XS=()=>QS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof Ib>"u")return;const r=Ib.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&O1(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return WS()||XS()||JS()||ZS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L1=r=>gd()?.emulatorHosts?.[r],V1=r=>{const e=L1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},U1=()=>gd()?.config,B1=r=>gd()?.[`_${r}`];class ek{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ta(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yp(r){return(await fetch(r,{credentials:"include"})).ok}function z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(d)),""].join(".")}const Cc={};function tk(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?r.emulator.push(e):r.prod.push(e);return r}function nk(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let jb=!1;function Qp(r,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Cc[r]===e||Cc[r]||jb)return;Cc[r]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",u=tk().prod.length>0;function d(){const T=document.getElementById(i);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,O){T.setAttribute("width","24"),T.setAttribute("id",O),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{jb=!0,d()},T}function w(T,O){T.setAttribute("id",O),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=nk(i),O=n("text"),q=document.getElementById(O)||document.createElement("span"),G=n("learnmore"),z=document.getElementById(G)||document.createElement("a"),ae=n("preprendIcon"),ee=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const he=T.element;p(he),w(z,G);const we=y();g(ee,ae),he.append(ee,q,z,we),document.body.appendChild(he)}u?(q.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())}function rk(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ik(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ak(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ok(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lk(){const r=cs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ck(){return!rk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uk(){try{return typeof indexedDB=="object"}catch{return!1}}function hk(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const dk="FirebaseError";class Wr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=dk,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?fk(u,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Wr(o,p,i)}}function fk(r,e){return r.replace(mk,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const mk=/\{\$([^}]+)}/g;function pk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function no(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],d=e[o];if(Db(u)&&Db(d)){if(!no(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Db(r){return r!==null&&typeof r=="object"}function Xc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function gk(r,e){const n=new yk(r,e);return n.subscribe.bind(n)}class yk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");vk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vk(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function zm(){}function dn(r){return r&&r._delegate?r._delegate:r}class ya{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class bk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ek;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_k(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _k(r){return r===Ja?void 0:r}function wk(r){return r.instantiationMode==="EAGER"}class xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var _t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(_t||(_t={}));const Ek={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},Tk=_t.INFO,Sk={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},kk=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=Sk[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=Tk,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ek[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const Ak=(r,e)=>e.some(n=>r instanceof n);let Mb,Pb;function Rk(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ck(){return Pb||(Pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F1=new WeakMap,fp=new WeakMap,q1=new WeakMap,Fm=new WeakMap,Jp=new WeakMap;function Nk(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(da(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&F1.set(n,r)}).catch(()=>{}),Jp.set(e,r),e}function Ik(r){if(fp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});fp.set(r,e)}let mp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||q1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jk(r){mp=r(mp)}function Dk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(qm(this),e,...n);return q1.set(i,e.sort?e.sort():[e]),da(i)}:Ck().includes(r)?function(...e){return r.apply(qm(this),e),da(F1.get(this))}:function(...e){return da(r.apply(qm(this),e))}}function Mk(r){return typeof r=="function"?Dk(r):(r instanceof IDBTransaction&&Ik(r),Ak(r,Rk())?new Proxy(r,mp):r)}function da(r){if(r instanceof IDBRequest)return Nk(r);if(Fm.has(r))return Fm.get(r);const e=Mk(r);return e!==r&&(Fm.set(r,e),Jp.set(e,r)),e}const qm=r=>Jp.get(r);function Pk(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=da(d);return i&&d.addEventListener("upgradeneeded",g=>{i(da(d.result),g.oldVersion,g.newVersion,da(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Ok=["get","getKey","getAll","getAllKeys","count"],Lk=["put","add","delete","clear"],Hm=new Map;function Ob(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Lk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Ok.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Hm.set(e,u),u}jk(r=>({...r,get:(e,n,i)=>Ob(e,n)||r.get(e,n,i),has:(e,n)=>!!Ob(e,n)||r.has(e,n)}));class Vk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Uk(r){return r.getComponent()?.type==="VERSION"}const pp="@firebase/app",Lb="0.14.7";const _i=new Xp("@firebase/app"),Bk="@firebase/app-compat",zk="@firebase/analytics-compat",Fk="@firebase/analytics",qk="@firebase/app-check-compat",Hk="@firebase/app-check",Gk="@firebase/auth",Wk="@firebase/auth-compat",$k="@firebase/database",Kk="@firebase/data-connect",Yk="@firebase/database-compat",Qk="@firebase/functions",Xk="@firebase/functions-compat",Jk="@firebase/installations",Zk="@firebase/installations-compat",eA="@firebase/messaging",tA="@firebase/messaging-compat",nA="@firebase/performance",sA="@firebase/performance-compat",rA="@firebase/remote-config",iA="@firebase/remote-config-compat",aA="@firebase/storage",oA="@firebase/storage-compat",lA="@firebase/firestore",cA="@firebase/ai",uA="@firebase/firestore-compat",hA="firebase",dA="12.8.0";const gp="[DEFAULT]",fA={[pp]:"fire-core",[Bk]:"fire-core-compat",[Fk]:"fire-analytics",[zk]:"fire-analytics-compat",[Hk]:"fire-app-check",[qk]:"fire-app-check-compat",[Gk]:"fire-auth",[Wk]:"fire-auth-compat",[$k]:"fire-rtdb",[Kk]:"fire-data-connect",[Yk]:"fire-rtdb-compat",[Qk]:"fire-fn",[Xk]:"fire-fn-compat",[Jk]:"fire-iid",[Zk]:"fire-iid-compat",[eA]:"fire-fcm",[tA]:"fire-fcm-compat",[nA]:"fire-perf",[sA]:"fire-perf-compat",[rA]:"fire-rc",[iA]:"fire-rc-compat",[aA]:"fire-gcs",[oA]:"fire-gcs-compat",[lA]:"fire-fst",[uA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};const Yh=new Map,mA=new Map,yp=new Map;function Vb(r,e){try{r.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(yp.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const n of Yh.values())Vb(n,r);for(const n of mA.values())Vb(n,r);return!0}function yd(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ls(r){return r==null?!1:r.settings!==void 0}const pA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new Qc("app","Firebase",pA);class gA{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const uo=dA;function Zp(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:gp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(n||(n=U1()),!n)throw fa.create("no-options");const u=Yh.get(o);if(u){if(no(n,u.options)&&no(i,u.config))return u;throw fa.create("duplicate-app",{appName:o})}const d=new xk(o);for(const g of yp.values())d.addComponent(g);const p=new gA(n,i,d);return Yh.set(o,p),p}function eg(r=gp){const e=Yh.get(r);if(!e&&r===gp&&U1())return Zp();if(!e)throw fa.create("no-app",{appName:r});return e}function Vr(r,e,n){let i=fA[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(d.join(" "));return}so(new ya(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const yA="firebase-heartbeat-database",vA=1,Oc="firebase-heartbeat-store";let Gm=null;function H1(){return Gm||(Gm=Pk(yA,vA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(r=>{throw fa.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function bA(r){try{const n=(await H1()).transaction(Oc),i=await n.objectStore(Oc).get(G1(r));return await n.done,i}catch(e){if(e instanceof Wr)_i.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function Ub(r,e){try{const i=(await H1()).transaction(Oc,"readwrite");await i.objectStore(Oc).put(e,G1(r)),await i.done}catch(n){if(n instanceof Wr)_i.warn(n.message);else{const i=fa.create("idb-set",{originalErrorMessage:n?.message});_i.warn(i.message)}}}function G1(r){return`${r.name}!${r.options.appId}`}const _A=1024,wA=30;class xA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>wA){const o=SA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Bb(),{heartbeatsToSend:n,unsentEntries:i}=EA(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function Bb(){return new Date().toISOString().substring(0,10)}function EA(r,e=_A){const n=[];let i=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),zb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),zb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uk()?hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ub(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ub(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zb(r){return Kh(JSON.stringify({version:2,heartbeats:r})).length}function SA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function kA(r){so(new ya("platform-logger",e=>new Vk(e),"PRIVATE")),so(new ya("heartbeat",e=>new xA(e),"PRIVATE")),Vr(pp,Lb,r),Vr(pp,Lb,"esm2020"),Vr("fire-js","")}kA("");function W1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AA=W1,$1=new Qc("auth","Firebase",W1());const Qh=new Xp("@firebase/auth");function RA(r,...e){Qh.logLevel<=_t.WARN&&Qh.warn(`Auth (${uo}): ${r}`,...e)}function Oh(r,...e){Qh.logLevel<=_t.ERROR&&Qh.error(`Auth (${uo}): ${r}`,...e)}function br(r,...e){throw tg(r,...e)}function Ur(r,...e){return tg(r,...e)}function K1(r,e,n){const i={...AA(),[e]:n};return new Qc("auth","Firebase",i).create(e,{appName:r.name})}function yi(r){return K1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return $1.create(r,...e)}function Je(r,e,...n){if(!r)throw tg(e,...n)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oh(e),new Error(e)}function wi(r,e){r||mi(e)}function vp(){return typeof self<"u"&&self.location?.href||""}function CA(){return Fb()==="http:"||Fb()==="https:"}function Fb(){return typeof self<"u"&&self.location?.protocol||null}function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CA()||ak()||"connection"in navigator)?navigator.onLine:!0}function IA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=sk()||ok()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ng(r,e){wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Y1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MA=new Jc(3e4,6e4);function Ti(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Si(r,e,n,i,o={}){return Q1(r,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const p=Xc({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return ik()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ta(r.emulatorConfig.host)&&(y.credentials="include"),Y1.fetch()(await X1(r,r.config.apiHost,n,p),y)})}async function Q1(r,e,n){r._canInitEmulator=!1;const i={...jA,...e};try{const o=new OA(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Th(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Th(r,"user-disabled",d);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw K1(r,w,y);br(r,w)}}catch(o){if(o instanceof Wr)throw o;br(r,"network-request-failed",{message:String(o)})}}async function Zc(r,e,n,i,o={}){const u=await Si(r,e,n,i,o);return"mfaPendingCredential"in u&&br(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function X1(r,e,n,i){const o=`${e}${n}?${i}`,u=r,d=u.config.emulator?ng(r.config,o):`${r.config.apiScheme}://${o}`;return DA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function PA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ur(this.auth,"network-request-failed")),MA.get())})}}function Th(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Ur(r,e,i);return o.customData._tokenResponse=n,o}function qb(r){return r!==void 0&&r.enterprise!==void 0}class LA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VA(r,e){return Si(r,"GET","/v2/recaptchaConfig",Ti(r,e))}async function UA(r,e){return Si(r,"POST","/v1/accounts:delete",e)}async function Xh(r,e){return Si(r,"POST","/v1/accounts:lookup",e)}function Nc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BA(r,e=!1){const n=dn(r),i=await n.getIdToken(e),o=sg(i);Je(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Nc(Wm(o.auth_time)),issuedAtTime:Nc(Wm(o.iat)),expirationTime:Nc(Wm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wm(r){return Number(r)*1e3}function sg(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=O1(n);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hb(r){const e=sg(r);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Wr&&zA(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function zA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class FA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jh(r){const e=r.auth,n=await r.getIdToken(),i=await Lc(r,Xh(e,{idToken:n}));Je(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?J1(o.providerUserInfo):[],d=HA(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!d?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function qA(r){const e=dn(r);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HA(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function J1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function GA(r,e){const n=await Q1(r,{},async()=>{const i=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await X1(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&Ta(r.emulatorConfig.host)&&(g.credentials="include"),Y1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WA(r,e){return Si(r,"POST","/v2/accounts:revokeToken",Ti(r,e))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=Hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await GA(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new nl;return i&&(Je(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Je(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Je(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return mi("not implemented")}}function ra(r,e){Je(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new FA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BA(this,e)}reload(){return qA(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Lc(this,UA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:O,providerData:q,stsTokenManager:G}=n;Je(x&&G,e,"internal-error");const z=nl.fromJSON(this.name,G);Je(typeof x=="string",e,"internal-error"),ra(i,e.name),ra(o,e.name),Je(typeof T=="boolean",e,"internal-error"),Je(typeof O=="boolean",e,"internal-error"),ra(u,e.name),ra(d,e.name),ra(p,e.name),ra(g,e.name),ra(y,e.name),ra(w,e.name);const ae=new yr({uid:x,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:O,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:y,lastLoginAt:w});return q&&Array.isArray(q)&&(ae.providerData=q.map(ee=>({...ee}))),g&&(ae._redirectEventId=g),ae}static async _fromIdTokenResponse(e,n,i=!1){const o=new nl;o.updateFromServerResponse(n);const u=new yr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Je(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?J1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new nl;p.updateFromIdToken(i);const g=new yr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Gb=new Map;function pi(r){wi(r instanceof Function,"Expected a class definition");let e=Gb.get(r);return e?(wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Gb.set(r,e),e)}class Z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z1.type="NONE";const Wb=Z1;function Lh(r,e,n){return`firebase:${r}:${e}:${n}`}class sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sl(pi(Wb),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||pi(Wb);const d=Lh(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const w=await y._get(d);if(w){let x;if(typeof w=="string"){const T=await Xh(e,{idToken:w}).catch(()=>{});if(!T)break;x=await yr._fromGetAccountInfoResponse(e,T,w)}else x=yr._fromJSON(e,w);y!==u&&(p=x),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new sl(u,e,i):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new sl(u,e,i))}}function $b(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iw(e))return"Blackberry";if(aw(e))return"Webos";if(tw(e))return"Safari";if((e.includes("chrome/")||nw(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function ew(r=cs()){return/firefox\//i.test(r)}function tw(r=cs()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nw(r=cs()){return/crios\//i.test(r)}function sw(r=cs()){return/iemobile/i.test(r)}function rw(r=cs()){return/android/i.test(r)}function iw(r=cs()){return/blackberry/i.test(r)}function aw(r=cs()){return/webos/i.test(r)}function rg(r=cs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $A(r=cs()){return rg(r)&&!!window.navigator?.standalone}function KA(){return lk()&&document.documentMode===10}function ow(r=cs()){return rg(r)||rw(r)||aw(r)||iw(r)||/windows phone/i.test(r)||sw(r)}function lw(r,e=[]){let n;switch(r){case"Browser":n=$b(cs());break;case"Worker":n=`${$b(cs())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${i}`}class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function QA(r,e={}){return Si(r,"GET","/v2/passwordPolicy",Ti(r,e))}const XA=6;class JA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class ZA{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),i=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ls(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(yi(this));const n=e?dn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QA(this),n=new JA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await WA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sa(r){return dn(r)}class Kb{constructor(e){this.auth=e,this.observer=null,this.addObserver=gk(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(r){vd=r}function cw(r){return vd.loadJS(r)}function tR(){return vd.recaptchaEnterpriseScript}function nR(){return vd.gapiScript}function sR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class rR{constructor(){this.enterprise=new iR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aR="recaptcha-enterprise",uw="NO_RECAPTCHA";class oR{constructor(e){this.type=aR,this.auth=Sa(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{VA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new LA(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;qb(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(uw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{i(this.auth).then(p=>{if(!n&&qb(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=tR();g.length!==0&&(g+=p),cw(g).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Yb(r,e,n,i=!1,o=!1){const u=new oR(r);let d;if(o)d=uw;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zh(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Yb(r,e,n,n==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Yb(r,e,n,n==="getOobCode");return i(r,d)}else return Promise.reject(u)})}function lR(r,e){const n=yd(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(no(u,e??{}))return o;br(o,"already-initialized")}return n.initialize({options:e})}function cR(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function uR(r,e,n){const i=Sa(r);Je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=hw(e),{host:d,port:p}=hR(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},w=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Je(no(y,i.config.emulator)&&no(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Ta(d)?(Yp(`${u}//${d}${g}`),Qp("Auth",!0)):dR()}function hw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hR(r){const e=hw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Qb(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:Qb(d)}}}function Qb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function fR(r,e){return Si(r,"POST","/v1/accounts:signUp",e)}async function mR(r,e){return Zc(r,"POST","/v1/accounts:signInWithPassword",Ti(r,e))}async function pR(r,e){return Si(r,"POST","/v1/accounts:sendOobCode",Ti(r,e))}async function gR(r,e){return pR(r,e)}async function yR(r,e){return Zc(r,"POST","/v1/accounts:signInWithEmailLink",Ti(r,e))}async function vR(r,e){return Zc(r,"POST","/v1/accounts:signInWithEmailLink",Ti(r,e))}class Vc extends ig{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",mR);case"emailLink":return yR(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,i,"signUpPassword",fR);case"emailLink":return vR(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function rl(r,e){return Zc(r,"POST","/v1/accounts:signInWithIdp",Ti(r,e))}const bR="http://localhost";class ro extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new ro(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,rl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}function _R(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wR(r){const e=wc(xc(r)).link,n=e?wc(xc(e)).deep_link_id:null,i=wc(xc(r)).deep_link_id;return(i?wc(xc(i)).link:null)||i||n||e||r}class ag{constructor(e){const n=wc(xc(e)),i=n.apiKey??null,o=n.oobCode??null,u=_R(n.mode??null);Je(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wR(e);try{return new ag(n)}catch{return null}}}class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ag.parseLink(n);return Je(i,"argument-error"),Vc._fromEmailAndCode(e,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aa extends eu{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";class oa extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return oa.credential(n,i)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";class la extends eu{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";class ca extends eu{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ca.credential(n,i)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";async function xR(r,e){return Zc(r,"POST","/v1/accounts:signUp",Ti(r,e))}class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await yr._fromIdTokenResponse(e,i,o),d=Xb(i);return new io({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Xb(i);return new io({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Xb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ed extends Wr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new ed(e,n,i,o)}}function fw(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(r,u,e,i):u})}async function ER(r,e,n=!1){const i=await Lc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return io._forOperation(r,"link",i)}async function TR(r,e,n=!1){const{auth:i}=r;if(Ls(i.app))return Promise.reject(yi(i));const o="reauthenticate";try{const u=await Lc(r,fw(i,o,e,r),n);Je(u.idToken,i,"internal-error");const d=sg(u.idToken);Je(d,i,"internal-error");const{sub:p}=d;return Je(r.uid===p,i,"user-mismatch"),io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&br(i,"user-mismatch"),u}}async function mw(r,e,n=!1){if(Ls(r.app))return Promise.reject(yi(r));const i="signIn",o=await fw(r,i,e),u=await io._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}async function SR(r,e){return mw(Sa(r),e)}async function pw(r){const e=Sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kR(r,e,n){const i=Sa(r);await Zh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gR)}async function g3(r,e,n){if(Ls(r.app))return Promise.reject(yi(r));const i=Sa(r),d=await Zh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&pw(r),g}),p=await io._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function AR(r,e,n){return Ls(r.app)?Promise.reject(yi(r)):SR(dn(r),vl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pw(r),i})}function RR(r,e){return dn(r).setPersistence(e)}function CR(r,e,n,i){return dn(r).onIdTokenChanged(e,n,i)}function NR(r,e,n){return dn(r).beforeAuthStateChanged(e,n)}function IR(r,e,n,i){return dn(r).onAuthStateChanged(e,n,i)}function jR(r){return dn(r).signOut()}const td="__sak";class gw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DR=1e3,MR=10;class yw extends gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);KA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MR):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const vw=yw;class bw extends gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bw.type="SESSION";const og=bw;function PR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new bd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await PR(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];function lg(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=lg("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(x){const T=x;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Br(){return window}function LR(r){Br().location.href=r}function _w(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function VR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UR(){return navigator?.serviceWorker?.controller||null}function BR(){return _w()?self:null}const ww="firebaseLocalStorageDb",zR=1,nd="firebaseLocalStorage",xw="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(r,e){return r.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function FR(){const r=indexedDB.deleteDatabase(ww);return new tu(r).toPromise()}function _p(){const r=indexedDB.open(ww,zR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(nd,{keyPath:xw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(nd)?e(i):(i.close(),await FR(),e(await _p()))})})}async function Jb(r,e,n){const i=_d(r,!0).put({[xw]:e,value:n});return new tu(i).toPromise()}async function qR(r,e){const n=_d(r,!1).get(e),i=await new tu(n).toPromise();return i===void 0?null:i.value}function Zb(r,e){const n=_d(r,!0).delete(e);return new tu(n).toPromise()}const HR=800,GR=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>GR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(BR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await Jb(e,td,"1"),await Zb(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_d(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const WR=Ew;new Jc(3e4,6e4);function $R(r,e){return e?pi(e):(Je(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cg extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KR(r){return mw(r.auth,new cg(r),r.bypassAuthState)}function YR(r){const{auth:e,user:n}=r;return Je(n,e,"internal-error"),TR(n,new cg(r),r.bypassAuthState)}async function QR(r){const{auth:e,user:n}=r;return Je(n,e,"internal-error"),ER(n,new cg(r),r.bypassAuthState)}class Tw{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:br(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XR=new Jc(2e3,1e4);class tl extends Tw{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XR.get())};e()}}tl.currentPopupAction=null;const JR="pendingRedirect",Vh=new Map;class ZR extends Tw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const i=await eC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(r,e){const n=sC(e),i=nC(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function tC(r,e){Vh.set(r._key(),e)}function nC(r){return pi(r._redirectPersistence)}function sC(r){return Lh(JR,r.config.apiKey,r.name)}async function rC(r,e,n=!1){if(Ls(r.app))return Promise.reject(yi(r));const i=Sa(r),o=$R(i,e),d=await new ZR(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const iC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Sw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Sw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function oC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(r);default:return!1}}async function lC(r,e={}){return Si(r,"GET","/v1/projects",e)}const cC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uC=/^https?/;async function hC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lC(r);for(const n of e)try{if(dC(n))return}catch{}br(r,"unauthorized-domain")}function dC(r){const e=vp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!uC.test(n))return!1;if(cC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const fC=new Jc(3e4,6e4);function t_(){const r=Br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mC(r){return new Promise((e,n)=>{function i(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(Ur(r,"network-request-failed"))},timeout:fC.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)i();else{const o=sR("iframefcb");return Br()[o]=()=>{gapi.load?i():n(Ur(r,"network-request-failed"))},cw(`${nR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function pC(r){return Uh=Uh||mC(r),Uh}const gC=new Jc(5e3,15e3),yC="__/auth/iframe",vC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wC(r){const e=r.config;Je(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ng(e,vC):`https://${r.config.authDomain}/${yC}`,i={apiKey:e.apiKey,appName:r.name,v:uo},o=_C.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Xc(i).slice(1)}`}async function xC(r){const e=await pC(r),n=Br().gapi;return Je(n,r,"internal-error"),e.open({where:document.body,url:wC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=Ur(r,"network-request-failed"),p=Br().setTimeout(()=>{u(d)},gC.get());function g(){Br().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(d)})}))}const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,SC=600,kC="_blank",AC="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(r,e,n,i=TC,o=SC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...EC,width:i.toString(),height:o.toString(),top:u,left:d},y=cs().toLowerCase();n&&(p=nw(y)?kC:n),ew(y)&&(e=e||AC,g.scrollbars="yes");const w=Object.entries(g).reduce((T,[O,q])=>`${T}${O}=${q},`,"");if($A(y)&&p!=="_self")return CC(e||"",p),new n_(null);const x=window.open(e||"",p,w);Je(x,r,"popup-blocked");try{x.focus()}catch{}return new n_(x)}function CC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const NC="__/auth/handler",IC="emulator/auth/handler",jC=encodeURIComponent("fac");async function s_(r,e,n,i,o,u){Je(r.config.authDomain,r,"auth-domain-config-required"),Je(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:uo,eventId:o};if(e instanceof dw){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",pk(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))d[w]=x}if(e instanceof eu){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await r._getAppCheckToken(),y=g?`#${jC}=${encodeURIComponent(g)}`:"";return`${DC(r)}?${Xc(p).slice(1)}${y}`}function DC({config:r}){return r.emulator?ng(r,IC):`https://${r.authDomain}/${NC}`}const $m="webStorageSupport";class MC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=og,this._completeRedirectFn=rC,this._overrideRedirectResult=tC}async _openPopup(e,n,i,o){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await s_(e,n,i,vp(),o);return RC(e,u,lg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await s_(e,n,i,vp(),o);return LR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xC(e),i=new aC(e);return n.register("authEvent",o=>(Je(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},o=>{const u=o?.[0]?.[$m];u!==void 0&&n(!!u),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ow()||tw()||rg()}}const PC=MC;var r_="@firebase/auth",i_="1.12.0";class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(r){so(new ya("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Je(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lw(r)},y=new ZA(i,o,u,g);return cR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),so(new ya("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(i=>new OC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(r_,i_,LC(r)),Vr(r_,i_,"esm2020")}const UC=300,BC=B1("authIdTokenMaxAge")||UC;let a_=null;const zC=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>BC)return;const o=n?.token;a_!==o&&(a_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kw(r=eg()){const e=yd(r,"auth");if(e.isInitialized())return e.getImmediate();const n=lR(r,{popupRedirectResolver:PC,persistence:[WR,vw,og]}),i=B1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=zC(u.toString());NR(n,d,()=>d(n.currentUser)),CR(n,p=>d(p))}}const o=L1("auth");return o&&uR(n,`http://${o}`),n}function FC(){return document.getElementsByTagName("head")?.[0]??document}eR({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=Ur("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",FC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ma,Aw;(function(){var r;function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(I,D,B){for(var j=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)j[Xe-2]=arguments[Xe];return S.prototype[D].apply(I,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);const I=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)I[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let B=N.g[3],j;j=S+(B^R&(D^B))+I[0]+3614090360&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[1]+3905402710&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[2]+606105819&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[3]+3250441966&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(B^R&(D^B))+I[4]+4118548399&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[5]+1200080426&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[6]+2821735955&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[7]+4249261313&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(B^R&(D^B))+I[8]+1770035416&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[9]+2336552879&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[10]+4294925233&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[11]+2304563134&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(B^R&(D^B))+I[12]+1804603682&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[13]+4254626195&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[14]+2792965006&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[15]+1236535329&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(D^B&(R^D))+I[1]+4129170786&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[6]+3225465664&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[11]+643717713&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[0]+3921069994&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(R^D))+I[5]+3593408605&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[10]+38016083&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[15]+3634488961&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[4]+3889429448&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(R^D))+I[9]+568446438&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[14]+3275163606&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[3]+4107603335&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[8]+1163531501&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(R^D))+I[13]+2850285829&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[2]+4243563512&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[7]+1735328473&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[12]+2368359562&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(R^D^B)+I[5]+4294588738&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[8]+2272392833&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[11]+1839030562&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[14]+4259657740&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(R^D^B)+I[1]+2763975236&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[4]+1272893353&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[7]+4139469664&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[10]+3200236656&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(R^D^B)+I[13]+681279174&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[0]+3936430074&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[3]+3572445317&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[6]+76029189&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(R^D^B)+I[9]+3654602809&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[12]+3873151461&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[15]+530742520&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[2]+3299628645&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(D^(R|~B))+I[0]+4096336452&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[7]+1126891415&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[14]+2878612391&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[5]+4237533241&4294967295,R=D+(j<<21&4294967295|j>>>11),j=S+(D^(R|~B))+I[12]+1700485571&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[3]+2399980690&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[10]+4293915773&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[1]+2240044497&4294967295,R=D+(j<<21&4294967295|j>>>11),j=S+(D^(R|~B))+I[8]+1873313359&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[15]+4264355552&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[6]+2734768916&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[13]+1309151649&4294967295,R=D+(j<<21&4294967295|j>>>11),j=S+(D^(R|~B))+I[4]+4149444226&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[11]+3174756917&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[2]+718787259&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,I=this.C;let D=this.h,B=0;for(;B<S;){if(D==0)for(;B<=R;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(I[D++]=N.charCodeAt(B++),D==this.blockSize){o(this,I),D=0;break}}else for(;B<S;)if(I[D++]=N[B++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)N[S++]=this.g[R]>>>I&255;return N};function u(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;const R=[];let I=!0;for(let D=N.length-1;D>=0;D--){const B=N[D]|0;I&&B==S||(R[D]=B,I=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return z(y(-N));const S=[];let R=1;for(let I=0;N>=R;I++)S[I]=N/R|0,R*=4294967296;return new d(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return z(w(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let I=x;for(let B=0;B<N.length;B+=8){var D=Math.min(8,N.length-B);const j=parseInt(N.substring(B,B+D),S);D<8?(D=y(Math.pow(S,D)),I=I.j(D).add(y(j))):(I=I.j(R),I=I.add(y(j)))}return I}var x=g(0),T=g(1),O=g(16777216);r=d.prototype,r.m=function(){if(G(this))return-z(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);N+=(I>=0?I:4294967296+I)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(G(this))return"-"+z(this).toString(N);const S=y(Math.pow(N,6));var R=this;let I="";for(;;){const D=we(R,S).g;R=ae(R,D.j(S));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,q(R))return B+I;for(;B.length<6;)B="0"+B;I=B+I}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function G(N){return N.h==-1}r.l=function(N){return N=ae(this,N),G(N)?-1:q(N)?0:1};function z(N){const S=N.g.length,R=[];for(let I=0;I<S;I++)R[I]=~N.g[I];return new d(R,~N.h).add(T)}r.abs=function(){return G(this)?z(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let I=0;for(let D=0;D<=S;D++){let B=I+(this.i(D)&65535)+(N.i(D)&65535),j=(B>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);I=j>>>16,B&=65535,j&=65535,R[D]=j<<16|B}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ae(N,S){return N.add(z(S))}r.j=function(N){if(q(this)||q(N))return x;if(G(this))return G(N)?z(this).j(z(N)):z(z(this).j(N));if(G(N))return z(this.j(z(N)));if(this.l(O)<0&&N.l(O)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var I=0;I<2*S;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<N.g.length;D++){const B=this.i(I)>>>16,j=this.i(I)&65535,Xe=N.i(D)>>>16,ut=N.i(D)&65535;R[2*I+2*D]+=j*ut,ee(R,2*I+2*D),R[2*I+2*D+1]+=B*ut,ee(R,2*I+2*D+1),R[2*I+2*D+1]+=j*Xe,ee(R,2*I+2*D+1),R[2*I+2*D+2]+=B*Xe,ee(R,2*I+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function ee(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function he(N,S){this.g=N,this.h=S}function we(N,S){if(q(S))throw Error("division by zero");if(q(N))return new he(x,x);if(G(N))return S=we(z(N),S),new he(z(S.g),z(S.h));if(G(S))return S=we(N,z(S)),new he(z(S.g),S.h);if(N.g.length>30){if(G(N)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,I=S;I.l(N)<=0;)R=Ie(R),I=Ie(I);var D=Re(R,1),B=Re(I,1);for(I=Re(I,2),R=Re(R,2);!q(I);){var j=B.add(I);j.l(N)<=0&&(D=D.add(R),B=j),I=Re(I,1),R=Re(R,1)}return S=ae(N,D.j(S)),new he(D,S)}for(D=x;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),B=y(R),j=B.j(S);G(j)||j.l(N)>0;)R-=I,B=y(R),j=B.j(S);q(B)&&(B=T),D=D.add(B),N=ae(N,j)}return new he(D,N)}r.B=function(N){return we(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)&N.i(I);return new d(R,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)|N.i(I);return new d(R,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)^N.i(I);return new d(R,this.h^N.h)};function Ie(N){const S=N.g.length+1,R=[];for(let I=0;I<S;I++)R[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(R,N.h)}function Re(N,S){const R=S>>5;S%=32;const I=N.g.length-R,D=[];for(let B=0;B<I;B++)D[B]=S>0?N.i(B+R)>>>S|N.i(B+R+1)<<32-S:N.i(B+R);return new d(D,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Aw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,ma=d}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rw,Ec,Cw,Bh,wp,Nw,Iw,jw;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(h,v){if(v)e:{var _=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var $=h[A];if(!($ in _))break e;_=_[$]}h=h[h.length-1],A=_[h],v=v(A),v!=A&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var _=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&_.push([A,v[A]]);return _}});var u=u||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,_){return h.call.apply(h.bind,arguments)}function y(h,v,_){return y=g,y.apply(null,arguments)}function w(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function x(h,v){function _(){}_.prototype=v.prototype,h.Z=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(A,$,Z){for(var Ee=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Ee[ot-2]=arguments[ot];return v.prototype[$].apply(A,Ee)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const v=h.length;if(v>0){const _=Array(v);for(let A=0;A<v;A++)_[A]=h[A];return _}return[]}function q(h,v){for(let A=1;A<arguments.length;A++){const $=arguments[A];var _=typeof $;if(_=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"){_=h.length||0;const Z=$.length||0;h.length=_+Z;for(let Ee=0;Ee<Z;Ee++)h[_+Ee]=$[Ee]}else h.push($)}}class G{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){d.setTimeout(()=>{throw h},0)}function ae(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,_){const A=he.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new G(()=>new we,h=>h.reset());class we{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Re=!1,N=new ee,S=()=>{const h=Promise.resolve(void 0);Ie=()=>{h.then(R)}};function R(){for(var h;h=ae();){try{h.h.call(h.g)}catch(_){z(_)}var v=he;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}Re=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function Xe(h,v){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}x(Xe,D),Xe.prototype.init=function(h,v){const _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(_=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),W=0;function ge(h,v,_,A,$){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=$,this.key=++W,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ye(h,v,_){for(const A in h)v.call(_,h[A],A,h)}function Ke(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function P(h){const v={};for(const _ in h)v[_]=h[_];return v}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,v){let _,A;for(let $=1;$<arguments.length;$++){A=arguments[$];for(_ in A)h[_]=A[_];for(let Z=0;Z<H.length;Z++)_=H[Z],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,v,_,A,$){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const Ee=xe(h,v,A,$);return Ee>-1?(v=h[Ee],_||(v.fa=!1)):(v=new ge(v,this.src,Z,!!A,$),v.fa=_,h.push(v)),v};function Se(h,v){const _=v.type;if(_ in h.g){var A=h.g[_],$=Array.prototype.indexOf.call(A,v,void 0),Z;(Z=$>=0)&&Array.prototype.splice.call(A,$,1),Z&&(Te(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function xe(h,v,_,A){for(let $=0;$<h.length;++$){const Z=h[$];if(!Z.da&&Z.listener==v&&Z.capture==!!_&&Z.ha==A)return $}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Pe={};function Le(h,v,_,A,$){if(Array.isArray(v)){for(let Z=0;Z<v.length;Z++)Le(h,v[Z],_,A,$);return null}return _=ft(_),h&&h[ut]?h.J(v,_,p(A)?!!A.capture:!1,$):ht(h,v,_,!1,A,$)}function ht(h,v,_,A,$,Z){if(!v)throw Error("Invalid event type");const Ee=p($)?!!$.capture:!!$;let ot=Ct(h);if(ot||(h[ye]=ot=new ve(h)),_=ot.add(v,_,A,Ee,Z),_.proxy)return _;if(A=Mt(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)B||($=Ee),$===void 0&&($=!1),h.addEventListener(v.toString(),A,$);else if(h.attachEvent)h.attachEvent(J(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Mt(){function h(_){return v.call(h.src,h.listener,_)}const v=Jt;return h}function Tt(h,v,_,A,$){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Tt(h,v[Z],_,A,$);else A=p(A)?!!A.capture:!!A,_=ft(_),h&&h[ut]?(h=h.i,Z=String(v).toString(),Z in h.g&&(v=h.g[Z],_=xe(v,_,A,$),_>-1&&(Te(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Ct(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xe(v,_,A,$)),(_=h>-1?v[h]:null)&&qt(_))}function qt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ut])Se(v.i,h);else{var _=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(_,A,h.capture):v.detachEvent?v.detachEvent(J(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=Ct(v))?(Se(_,h),_.h==0&&(_.src=null,v[ye]=null)):Te(h)}}}function J(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function Jt(h,v){if(h.da)h=!0;else{v=new Xe(v,this);const _=h.listener,A=h.ha||h.src;h.fa&&qt(h),h=_.call(A,v)}return h}function Ct(h){return h=h[ye],h instanceof ve?h:null}var dt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(h){return typeof h=="function"?h:(h[dt]||(h[dt]=function(v){return h.handleEvent(v)}),h[dt])}function et(){I.call(this),this.i=new ve(this),this.M=this,this.G=null}x(et,I),et.prototype[ut]=!0,et.prototype.removeEventListener=function(h,v,_,A){Tt(this,h,v,_,A)};function He(h,v){var _,A=h.G;if(A)for(_=[];A;A=A.G)_.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new D(v,h);else if(v instanceof D)v.target=v.target||h;else{var $=v;v=new D(A,h),de(v,$)}$=!0;let Z,Ee;if(_)for(Ee=_.length-1;Ee>=0;Ee--)Z=v.g=_[Ee],$=St(Z,A,!0,v)&&$;if(Z=v.g=h,$=St(Z,A,!0,v)&&$,$=St(Z,A,!1,v)&&$,_)for(Ee=0;Ee<_.length;Ee++)Z=v.g=_[Ee],$=St(Z,A,!1,v)&&$}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const _=h.g[v];for(let A=0;A<_.length;A++)Te(_[A]);delete h.g[v],h.h--}}this.G=null},et.prototype.J=function(h,v,_,A){return this.i.add(String(h),v,!1,_,A)},et.prototype.K=function(h,v,_,A){return this.i.add(String(h),v,!0,_,A)};function St(h,v,_,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let Z=0;Z<v.length;++Z){const Ee=v[Z];if(Ee&&!Ee.da&&Ee.capture==_){const ot=Ee.listener,vn=Ee.ha||Ee.src;Ee.fa&&Se(h.i,Ee),$=ot.call(vn,A)!==!1&&$}}return $&&!A.defaultPrevented}function zn(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function jn(h){h.g=zn(()=>{h.g=null,h.i&&(h.i=!1,jn(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Nt extends I{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(h){I.call(this),this.h=h,this.g={}}x(Tn,I);var nn=[];function sn(h){Ye(h.g,function(v,_){this.g.hasOwnProperty(_)&&qt(v)},h),h.g={}}Tn.prototype.N=function(){Tn.Z.N.call(this),sn(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=d.JSON.stringify,pe=d.JSON.parse,_e=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ze(){}function Ce(){}var ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oe(){D.call(this,"d")}x(Oe,D);function Ve(){D.call(this,"c")}x(Ve,D);var Ge={},gt=null;function Yt(){return gt=gt||new et}Ge.Ia="serverreachability";function Lt(h){D.call(this,Ge.Ia,h)}x(Lt,D);function mn(h){const v=Yt();He(v,new Lt(v))}Ge.STAT_EVENT="statevent";function vs(h,v){D.call(this,Ge.STAT_EVENT,h),this.stat=v}x(vs,D);function Ht(h){const v=Yt();He(v,new vs(v,h))}Ge.Ja="timingevent";function Fn(h,v){D.call(this,Ge.Ja,h),this.size=v}x(Fn,D);function Dn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function ns(){this.g=!0}ns.prototype.ua=function(){this.g=!1};function rr(h,v,_,A,$,Z){h.info(function(){if(h.g)if(Z){var Ee="",ot=Z.split("&");for(let Pt=0;Pt<ot.length;Pt++){var vn=ot[Pt].split("=");if(vn.length>1){const on=vn[0];vn=vn[1];const Gs=on.split("_");Ee=Gs.length>=2&&Gs[1]=="type"?Ee+(on+"="+vn+"&"):Ee+(on+"=redacted&")}}}else Ee=null;else Ee=Z;return"XMLHTTP REQ ("+A+") [attempt "+$+"]: "+v+`
`+_+`
`+Ee})}function $r(h,v,_,A,$,Z,Ee){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+$+"]: "+v+`
`+_+`
`+Z+" "+Ee})}function ss(h,v,_,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Kr(h,_)+(A?" "+A:"")})}function zs(h,v){h.info(function(){return"TIMEOUT: "+v})}ns.prototype.info=function(){};function Kr(h,v){if(!h.g)return v;if(!v)return null;try{const Z=JSON.parse(v);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var _=Z[h];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var $=A[0];if($!="noop"&&$!="stop"&&$!="close")for(let Ee=1;Ee<A.length;Ee++)A[Ee]=""}}}}return ie(Z)}catch{return v}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ki={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Er;function ir(){}x(ir,ze),ir.prototype.g=function(){return new XMLHttpRequest},Er=new ir;function us(h){return encodeURIComponent(String(h))}function Tr(h){var v=1;h=h.split(":");const _=[];for(;v>0&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function qn(h,v,_,A){this.j=h,this.i=v,this.l=_,this.S=A||1,this.V=new Tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var rn={},pn={};function bs(h,v,_){h.M=1,h.A=yt(me(v)),h.u=_,h.R=!0,Rs(h,null)}function Rs(h,v){h.F=Date.now(),_s(h),h.B=me(h.A);var _=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),rs(_.i,"t",A),h.C=0,_=h.j.L,h.h=new Hn,h.g=gu(h.j,_?v:null,!h.u),h.P>0&&(h.O=new Nt(y(h.Y,h,h.g),h.P)),v=h.V,_=h.g,A=h.ba;var $="readystatechange";Array.isArray($)||($&&(nn[0]=$.toString()),$=nn);for(let Z=0;Z<$.length;Z++){const Ee=Le(_,$[Z],A||v.handleEvent,!1,v.h||v);if(!Ee)break;v.g[Ee.key]=Ee}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),mn(),rr(h.i,h.v,h.B,h.l,h.S,h.u)}qn.prototype.ba=function(h){h=h.target;const v=this.O;v&&hr(h)==3?v.j():this.Y(h)},qn.prototype.Y=function(h){try{if(h==this.g)e:{const ot=hr(this.g),vn=this.g.ya(),Pt=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||ot!=4||vn==7||(vn==8||Pt<=0?mn(3):mn(2)),ds(this);var v=this.g.ca();this.X=v;var _=Yr(this);if(this.o=v==200,$r(this.i,this.v,this.B,this.l,this.S,ot,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,$=this.g;if((A=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(A)){var Z=A;break t}}Z=null}if(h=Z)ss(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,C(this,h);else{this.o=!1,this.m=3,Ht(12),Gn(this),Mn(this);break e}}if(this.R){h=!0;let on;for(;!this.K&&this.C<_.length;)if(on=Ai(this,_),on==pn){ot==4&&(this.m=4,Ht(14),h=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(on==rn){this.m=4,Ht(15),ss(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else ss(this.i,this.l,on,null),C(this,on);if(hs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||_.length!=0||this.h.h||(this.m=1,Ht(16),h=!1),this.o=this.o&&h,!h)ss(this.i,this.l,_,"[Invalid Chunked Response]"),Gn(this),Mn(this);else if(_.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Il(Ee),Ee.P=!0,Ht(11))}}else ss(this.i,this.l,_,null),C(this,_);ot==4&&Gn(this),this.o&&!this.K&&(ot==4?du(this.j,this):(this.o=!1,_s(this)))}else Xr(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),Gn(this),Mn(this)}}}catch{}};function Yr(h){if(!hs(h))return h.g.la();const v=$n(h.g);if(v==="")return"";let _="";const A=v.length,$=hr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Gn(h),Mn(h),"";h.h.i=new d.TextDecoder}for(let Z=0;Z<A;Z++)h.h.h=!0,_+=h.h.i.decode(v[Z],{stream:!($&&Z==A-1)});return v.length=0,h.h.g+=_,h.C=0,h.h.g}function hs(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ai(h,v){var _=h.C,A=v.indexOf(`
`,_);return A==-1?pn:(_=Number(v.substring(_,A)),isNaN(_)?rn:(A+=1,A+_>v.length?pn:(v=v.slice(A,A+_),h.C=A+_,v)))}qn.prototype.cancel=function(){this.K=!0,Gn(this)};function _s(h){h.T=Date.now()+h.H,Cs(h,h.H)}function Cs(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Dn(y(h.aa,h),v)}function ds(h){h.D&&(d.clearTimeout(h.D),h.D=null)}qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zs(this.i,this.B),this.M!=2&&(mn(),Ht(17)),Gn(this),this.m=2,Mn(this)):Cs(this,this.T-h)};function Mn(h){h.j.I==0||h.K||du(h.j,h)}function Gn(h){ds(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,sn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function C(h,v){try{var _=h.j;if(_.I!=0&&(_.g==h||Ue(_.h,h))){if(!h.L&&Ue(_.h,h)&&_.I==3){try{var A=_.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var $=A;if($[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)bo(_),Mi(_);else break e;Pa(_),Ht(18)}}else _.xa=$[1],0<_.xa-_.K&&$[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Dn(y(_.Va,_),6e3));Fe(_.h)<=1&&_.ta&&(_.ta=void 0)}else Nr(_,11)}else if((h.L||_.g==h)&&bo(_),!j(v))for($=_.Ba.g.parse(v),v=0;v<$.length;v++){let Pt=$[v];const on=Pt[0];if(!(on<=_.K))if(_.K=on,Pt=Pt[1],_.I==2)if(Pt[0]=="c"){_.M=Pt[1],_.ba=Pt[2];const Gs=Pt[3];Gs!=null&&(_.ka=Gs,_.j.info("VER="+_.ka));const Ir=Pt[4];Ir!=null&&(_.za=Ir,_.j.info("SVER="+_.za));const dr=Pt[5];dr!=null&&typeof dr=="number"&&dr>0&&(A=1.5*dr,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const fr=h.g;if(fr){const Oa=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var Z=A.h;Z.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qe(Z,Z.h),Z.h=null))}if(A.G){const _o=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(A.wa=_o,De(A.J,A.G,_o))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var Ee=h;if(A.na=pu(A,A.L?A.ba:null,A.W),Ee.L){Vt(A.h,Ee);var ot=Ee,vn=A.O;vn&&(ot.H=vn),ot.D&&(ds(ot),_s(ot)),A.g=Ee}else uu(A);_.i.length>0&&Cr(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Nr(_,7);else _.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Nr(_,7):Cl(_):Pt[0]!="noop"&&_.l&&_.l.qa(Pt),_.A=0)}}mn(4)}catch{}}var U=class{constructor(h,v){this.g=h,this.map=v}};function re(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oe(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Fe(h){return h.h?1:h.g?h.g.size:0}function Ue(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function qe(h,v){h.g?h.g.add(v):h.h=v}function Vt(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}re.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function it(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.G);return v}return O(h.i)}var V=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function te(h,v){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const A=h[_].indexOf("=");let $,Z=null;A>=0?($=h[_].substring(0,A),Z=h[_].substring(A+1)):$=h[_],v($,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function X(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof X?(this.l=h.l,be(this,h.j),this.o=h.o,this.g=h.g,je(this,h.u),this.h=h.h,tt(this,Sr(h.i)),this.m=h.m):h&&(v=String(h).match(V))?(this.l=!1,be(this,v[1]||"",!0),this.o=an(v[2]||""),this.g=an(v[3]||"",!0),je(this,v[4]),this.h=an(v[5]||"",!0),tt(this,v[6]||"",!0),this.m=an(v[7]||"")):(this.l=!1,this.i=new un(null,this.l))}X.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(It(v,Ri,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(It(v,Ri,!0),"@"),h.push(us(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(It(_,_.charAt(0)=="/"?Ci:Ca,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",It(_,Rt)),h.join("")},X.prototype.resolve=function(h){const v=me(this);let _=!!h.j;_?be(v,h.j):_=!!h.o,_?v.o=h.o:_=!!h.g,_?v.g=h.g:_=h.u!=null;var A=h.h;if(_)je(v,h.u);else if(_=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var $=v.h.lastIndexOf("/");$!=-1&&(A=v.h.slice(0,$+1)+A)}if($=A,$==".."||$==".")A="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){A=$.lastIndexOf("/",0)==0,$=$.split("/");const Z=[];for(let Ee=0;Ee<$.length;){const ot=$[Ee++];ot=="."?A&&Ee==$.length&&Z.push(""):ot==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),A&&Ee==$.length&&Z.push("")):(Z.push(ot),A=!0)}A=Z.join("/")}else A=$}return _?v.h=A:_=h.i.toString()!=="",_?tt(v,Sr(h.i)):_=!!h.m,_&&(v.m=h.m),v};function me(h){return new X(h)}function be(h,v,_){h.j=_?an(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function je(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function tt(h,v,_){v instanceof un?(h.i=v,Ni(h.i,h.l)):(_||(v=It(v,ar)),h.i=new un(v,h.l))}function De(h,v,_){h.i.set(v,_)}function yt(h){return De(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function an(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function It(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Zt),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zt(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ri=/[#\/\?@]/g,Ca=/[#\?:]/g,Ci=/[#\?]/g,ar=/[#\?@]/g,Rt=/#/g;function un(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&te(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=un.prototype,r.add=function(h,v){hn(this),this.i=null,h=cr(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function or(h,v){hn(h),v=cr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function lr(h,v){return hn(h),v=cr(h,v),h.g.has(v)}r.forEach=function(h,v){hn(this),this.g.forEach(function(_,A){_.forEach(function($){h.call(v,$,A,this)},this)},this)};function Wn(h,v){hn(h);let _=[];if(typeof v=="string")lr(h,v)&&(_=_.concat(h.g.get(cr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)_=_.concat(h[v]);return _}r.set=function(h,v){return hn(this),this.i=null,h=cr(this,h),lr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=Wn(this,h),h.length>0?String(h[0]):v):v};function rs(h,v,_){or(h,v),_.length>0&&(h.i=null,h.g.set(cr(h,v),O(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var _=v[A];const $=us(_);_=Wn(this,_);for(let Z=0;Z<_.length;Z++){let Ee=$;_[Z]!==""&&(Ee+="="+us(_[Z])),h.push(Ee)}}return this.i=h.join("&")};function Sr(h){const v=new un;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function cr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ni(h,v){v&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(_,A){const $=A.toLowerCase();A!=$&&(or(this,A),rs(this,$,_))},h)),h.j=v}function fs(h,v){const _=new ns;if(d.Image){const A=new Image;A.onload=w(qs,_,"TestLoadImage: loaded",!0,v,A),A.onerror=w(qs,_,"TestLoadImage: error",!1,v,A),A.onabort=w(qs,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=w(qs,_,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function kl(h,v){const _=new ns,A=new AbortController,$=setTimeout(()=>{A.abort(),qs(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Z=>{clearTimeout($),Z.ok?qs(_,"TestPingServer: ok",!0,v):qs(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),qs(_,"TestPingServer: error",!1,v)})}function qs(h,v,_,A,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),A(_)}catch{}}function Ii(){this.g=new _e}function kr(h){this.i=h.Sb||null,this.h=h.ab||!1}x(kr,ze),kr.prototype.g=function(){return new Na(this.i,this.h)};function Na(h,v){et.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Na,et),r=Na.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ur(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ji(this):ur(this),this.readyState==3&&go(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,ji(this))},r.Na=function(h){this.g&&(this.response=h,ji(this))},r.ga=function(){this.g&&ji(this)};function ji(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ur(h)}r.setRequestHeader=function(h,v){this.A.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hs(h){let v="";return Ye(h,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function Ia(h,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Hs(_),typeof h=="string"?_!=null&&us(_):De(h,v,_))}function Gt(h){et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Gt,et);var Ar=/^https?$/i,Al=["POST","PUT"];r=Gt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Er.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){ja(this,Z);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var $ in A)_.set($,A[$]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())_.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Al,v,void 0)>=0)||A||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,Ee]of _)this.g.setRequestHeader(Z,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){ja(this,Z)}};function ja(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Rl(h),Qr(h)}function Rl(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,He(this,"complete"),He(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Gt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},r.Xa=function(){Da(this)};function Da(h){if(h.h&&typeof u<"u"){if(h.v&&hr(h)==4)setTimeout(h.Ca.bind(h),0);else if(He(h,"readystatechange"),hr(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=Z===0){let Ee=String(h.D).match(V)[1]||null;!Ee&&d.self&&d.self.location&&(Ee=d.self.location.protocol.slice(0,-1)),A=!Ar.test(Ee?Ee.toLowerCase():"")}_=A}if(_)He(h,"complete"),He(h,"success");else{h.o=6;try{var $=hr(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Rl(h)}}finally{Qr(h)}}}}function Qr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,v||He(h,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function hr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pe(v)}};function $n(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xr(h){const v={};h=(h.g&&hr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(j(h[A]))continue;var _=Tr(h[A]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=v[$]||[];v[$]=Z,Z.push(_)}Ke(v,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Di(h){this.za=0,this.i=[],this.j=new ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,h),this.Za=Rr("retryDelaySeedMs",1e4,h),this.Ta=Rr("forwardChannelMaxRetries",2,h),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new re(h&&h.concurrentRequestLimit),this.Ba=new Ii,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Di.prototype,r.ka=8,r.I=1,r.connect=function(h,v,_,A){Ht(0),this.W=h,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=pu(this,null,this.W),Cr(this)};function Cl(h){if(yo(h),h.I==3){var v=h.V++,_=me(h.J);if(De(_,"SID",h.M),De(_,"RID",v),De(_,"TYPE","terminate"),Ma(h,_),v=new qn(h,h.j,v),v.M=2,v.A=yt(me(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.A,_=!0),_||(v.g=gu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_s(v)}mu(h)}function Mi(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function yo(h){Mi(h),h.v&&(d.clearTimeout(h.v),h.v=null),bo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Cr(h){if(!oe(h.h)&&!h.m){h.m=!0;var v=h.Ea;Ie||S(),Re||(Ie(),Re=!0),N.add(v,h),h.D=0}}function vo(h,v){return Fe(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Dn(y(h.Ea,h,v),fu(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new qn(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=P(Z),de(Z,this.U)):Z=this.U),this.u!==null||this.R||($.J=Z,Z=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=cu(this,$,v),_=me(this.J),De(_,"RID",h),De(_,"CVER",22),this.G&&De(_,"X-HTTP-Session-Id",this.G),Ma(this,_),Z&&(this.R?v="headers="+us(Hs(Z))+"&"+v:this.u&&Ia(_,this.u,Z)),qe(this.h,$),this.Ra&&De(_,"TYPE","init"),this.S?(De(_,"$req",v),De(_,"SID","null"),$.U=!0,bs($,_,null)):bs($,_,v),this.I=2}}else this.I==3&&(h?Nl(this,h):this.i.length==0||oe(this.h)||Nl(this))};function Nl(h,v){var _;v?_=v.l:_=h.V++;const A=me(h.J);De(A,"SID",h.M),De(A,"RID",_),De(A,"AID",h.K),Ma(h,A),h.u&&h.o&&Ia(A,h.u,h.o),_=new qn(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),v&&(h.i=v.G.concat(h.i)),v=cu(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),qe(h.h,_),bs(_,A,v)}function Ma(h,v){h.H&&Ye(h.H,function(_,A){De(v,A,_)}),h.l&&Ye({},function(_,A){De(v,A,_)})}function cu(h,v,_){_=Math.min(h.i.length,_);const A=h.l?y(h.l.Ka,h.l,h):null;e:{var $=h.i;let ot=-1;for(;;){const vn=["count="+_];ot==-1?_>0?(ot=$[0].g,vn.push("ofs="+ot)):ot=0:vn.push("ofs="+ot);let Pt=!0;for(let on=0;on<_;on++){var Z=$[on].g;const Gs=$[on].map;if(Z-=ot,Z<0)ot=Math.max(0,$[on].g-100),Pt=!1;else try{Z="req"+Z+"_"||"";try{var Ee=Gs instanceof Map?Gs:Object.entries(Gs);for(const[Ir,dr]of Ee){let fr=dr;p(dr)&&(fr=ie(dr)),vn.push(Z+Ir+"="+encodeURIComponent(fr))}}catch(Ir){throw vn.push(Z+"type="+encodeURIComponent("_badmap")),Ir}}catch{A&&A(Gs)}}if(Pt){Ee=vn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,_),v.G=h,Ee}function uu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;Ie||S(),Re||(Ie(),Re=!0),N.add(v,h),h.A=0}}function Pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Dn(y(h.Da,h),fu(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Dn(y(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),Mi(this),hu(this))};function Il(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function hu(h){h.g=new qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=me(h.na);De(v,"RID","rpc"),De(v,"SID",h.M),De(v,"AID",h.K),De(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&De(v,"TO",h.ia),De(v,"TYPE","xmlhttp"),Ma(h,v),h.u&&h.o&&Ia(v,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=yt(me(v)),_.u=null,_.R=!0,Rs(_,h)}r.Va=function(){this.C!=null&&(this.C=null,Mi(this),Pa(this),Ht(19))};function bo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function du(h,v){var _=null;if(h.g==v){bo(h),Il(h),h.g=null;var A=2}else if(Ue(h.h,v))_=v.G,Vt(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var $=h.D;A=Yt(),He(A,new Fn(A,_)),Cr(h)}else uu(h);else if($=v.m,$==3||$==0&&v.X>0||!(A==1&&vo(h,v)||A==2&&Pa(h)))switch(_&&_.length>0&&(v=h.h,v.i=v.i.concat(_)),$){case 1:Nr(h,5);break;case 4:Nr(h,10);break;case 3:Nr(h,6);break;default:Nr(h,2)}}}function fu(h,v){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*v}function Nr(h,v){if(h.j.info("Error code "+v),v==2){var _=y(h.bb,h),A=h.Ua;const $=!A;A=new X(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||be(A,"https"),yt(A),$?fs(A.toString(),_):kl(A.toString(),_)}else Ht(2);h.I=0,h.l&&h.l.pa(v),mu(h),yo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function mu(h){if(h.I=0,h.ja=[],h.l){const v=it(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ja,v),q(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function pu(h,v,_){var A=_ instanceof X?me(_):new X(_);if(A.g!="")v&&(A.g=v+"."+A.g),je(A,A.u);else{var $=d.location;A=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const Z=new X(null);A&&be(Z,A),v&&(Z.g=v),$&&je(Z,$),_&&(Z.h=_),A=Z}return _=h.G,v=h.wa,_&&v&&De(A,_,v),De(A,"VER",h.ka),Ma(h,A),A}function gu(h,v,_){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Gt(new kr({ab:_})):new Gt(h.ma),v.Fa(h.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pi(){}Pi.prototype.g=function(h,v){return new ms(h,v)};function ms(h,v){et.call(this),this.g=new Di(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Jr(this)}x(ms,et),ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ms.prototype.close=function(){Cl(this.g)},ms.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=ie(h),h=_);v.i.push(new U(v.Ya++,h)),v.I==3&&Cr(v)},ms.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,ms.Z.N.call(this)};function vu(h){Oe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(vu,Oe);function bu(){Ve.call(this),this.status=1}x(bu,Ve);function Jr(h){this.g=h}x(Jr,yu),Jr.prototype.ra=function(){He(this.g,"a")},Jr.prototype.qa=function(h){He(this.g,new vu(h))},Jr.prototype.pa=function(h){He(this.g,new bu)},Jr.prototype.oa=function(){He(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,ms.prototype.send=ms.prototype.o,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,jw=function(){return new Pi},Iw=function(){return Yt()},Nw=Ge,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Bh=Fs,ki.COMPLETE="complete",Cw=ki,Ce.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",et.prototype.listen=et.prototype.J,Ec=Ce,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,Rw=Gt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});class os{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let bl="12.8.0";function qC(r){bl=r}const ao=new Xp("@firebase/firestore");function Xo(){return ao.logLevel}function Ne(r,...e){if(ao.logLevel<=_t.DEBUG){const n=e.map(ug);ao.debug(`Firestore (${bl}): ${r}`,...n)}}function xi(r,...e){if(ao.logLevel<=_t.ERROR){const n=e.map(ug);ao.error(`Firestore (${bl}): ${r}`,...n)}}function cl(r,...e){if(ao.logLevel<=_t.WARN){const n=e.map(ug);ao.warn(`Firestore (${bl}): ${r}`,...n)}}function ug(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ze(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Dw(r,i,n)}function Dw(r,e,n){let i=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw xi(i),new Error(i)}function Ut(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Dw(e,o,i)}function rt(r,e){return r}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Mw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(os.UNAUTHENTICATED)))}shutdown(){}}class GC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ut(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut(typeof i.accessToken=="string",31837,{l:i}),new Mw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new os(e)}}class $C{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=os.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(os.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ut(this.o===void 0,3512);const i=u=>{u.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=QC(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function xt(r,e){return r<e?-1:r>e?1:0}function xp(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return Km(o)===Km(u)?xt(o,u):Km(o)?1:-1}return xt(r.length,e.length)}const XC=55296,JC=57343;function Km(r){const e=r.charCodeAt(0);return e>=XC&&e<=JC}function ul(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const c_="__name__";class Or{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ze(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Or.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xt(e.length,n.length)}static compareSegments(e,n){const i=Or.isNumericId(e),o=Or.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Or.extractNumericId(e).compare(Or.extractNumericId(n)):xp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class Xt extends Or{construct(e,n,i){return new Xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Or{construct(e,n,i){return new Zn(e,n,i)}static isValidIdentifier(e){return ZC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c_}static keyField(){return new Zn([c_])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(u(),o++)}if(u(),d)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Xt.fromString(e))}static fromName(e){return new $e(Xt.fromString(e).popFirst(5))}static empty(){return new $e(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Xt(e.slice()))}}function Pw(r,e,n){if(!n)throw new Ae(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eN(r,e,n,i){if(e===!0&&i===!0)throw new Ae(ce.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function u_(r){if(!$e.isDocumentKey(r))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function h_(r){if($e.isDocumentKey(r))throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ow(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ze(12329,{type:typeof r})}function _r(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(r);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function In(r,e){const n={typeString:r};return e&&(n.value=e),n}function nu(r,e){if(!Ow(r))throw new Ae(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new Ae(ce.INVALID_ARGUMENT,n);return!0}const d_=-62135596800,f_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*f_);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d_)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:In("string",at._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new at(0,0))}static max(){return new nt(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uc=-1;function tN(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new va(o,$e.empty(),e)}function nN(r){return new va(r.readTime,r.key,Uc)}class va{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new va(nt.min(),$e.empty(),Uc)}static max(){return new va(nt.max(),$e.empty(),Uc)}}function sN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(r.documentKey,e.documentKey),n!==0?n:xt(r.largestBatchId,e.largestBatchId))}const rN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _l(r){if(r.code!==ce.FAILED_PRECONDITION||r.message!==rN)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,i)=>{n(e)}))}static reject(e){return new fe(((n,i)=>{i(e)}))}static waitFor(e){return new fe(((n,i)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(g=>i(g)))})),d=!0,u===o&&n()}))}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next((o=>o?fe.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new fe(((i,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((w=>{d[y]=w,++p,p===u&&i(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new fe(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function aN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(r){return r.name==="IndexedDbTransactionError"}class xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xd.ce=-1;const dg=-1;function Ed(r){return r==null}function sd(r){return r===0&&1/r==-1/0}function oN(r){return typeof r=="number"&&Number.isInteger(r)&&!sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Lw="";function lN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=m_(e)),e=cN(r.get(n),e);return m_(e)}function cN(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Lw:n+="";break;default:n+=u}}return n}function m_(r){return r+Lw+""}function p_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ka(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Vw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class fn{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Jn.RED,this.left=o??Jn.EMPTY,this.right=u??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Jn(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new On(this.comparator);return n.data=e,n}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vs{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new Vs([])}unionWith(e){let n=new On(Zn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class Uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ts{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Uw("Invalid base64 string: "+u):u}})(e);return new ts(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new ts(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(r){if(Ut(!!r,39018),typeof r=="string"){let e=0;const n=uN.exec(r);if(Ut(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xn(r.seconds),nanos:xn(r.nanos)}}function xn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _a(r){return typeof r=="string"?ts.fromBase64String(r):ts.fromUint8Array(r)}const Bw="server_timestamp",zw="__type__",Fw="__previous_value__",qw="__local_write_time__";function fg(r){return(r?.mapValue?.fields||{})[zw]?.stringValue===Bw}function Td(r){const e=r.mapValue.fields[Fw];return fg(e)?Td(e):e}function Bc(r){const e=ba(r.mapValue.fields[qw].timestampValue);return new at(e.seconds,e.nanos)}class hN{constructor(e,n,i,o,u,d,p,g,y,w,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w,this.apiKey=x}}const rd="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}function dN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(r.options.projectId,e)}const Hw="__type__",fN="__max__",Ah={mapValue:{}},Gw="__vector__",id="value";function wa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fg(r)?4:pN(r)?9007199254740991:mN(r)?10:11:Ze(28295,{value:r})}function Hr(r,e){if(r===e)return!0;const n=wa(r);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ba(o.timestampValue),p=ba(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _a(o.bytesValue).isEqual(_a(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return xn(o.geoPointValue.latitude)===xn(u.geoPointValue.latitude)&&xn(o.geoPointValue.longitude)===xn(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xn(o.integerValue)===xn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=xn(o.doubleValue),p=xn(u.doubleValue);return d===p?sd(d)===sd(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return ul(r.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(p_(d)!==p_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Hr(d[g],p[g])))return!1;return!0})(r,e);default:return Ze(52216,{left:r})}}function Fc(r,e){return(r.values||[]).find((n=>Hr(n,e)))!==void 0}function hl(r,e){if(r===e)return 0;const n=wa(r),i=wa(e);if(n!==i)return xt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=xn(u.integerValue||u.doubleValue),g=xn(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return y_(r.timestampValue,e.timestampValue);case 4:return y_(Bc(r),Bc(e));case 5:return xp(r.stringValue,e.stringValue);case 6:return(function(u,d){const p=_a(u),g=_a(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=xt(p[y],g[y]);if(w!==0)return w}return xt(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=xt(xn(u.latitude),xn(d.latitude));return p!==0?p:xt(xn(u.longitude),xn(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return v_(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[id]?.arrayValue,w=g[id]?.arrayValue,x=xt(y?.values?.length||0,w?.values?.length||0);return x!==0?x:v_(y,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Ah.mapValue&&d===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(d===Ah.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let x=0;x<g.length&&x<w.length;++x){const T=xp(g[x],w[x]);if(T!==0)return T;const O=hl(p[g[x]],y[w[x]]);if(O!==0)return O}return xt(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Ze(23264,{he:n})}}function y_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xt(r,e);const n=ba(r),i=ba(e),o=xt(n.seconds,i.seconds);return o!==0?o:xt(n.nanos,i.nanos)}function v_(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=hl(n[o],i[o]);if(u)return u}return xt(n.length,i.length)}function dl(r){return Ep(r)}function Ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=ba(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _a(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return $e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Ep(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${Ep(n.fields[d])}`;return o+"}"})(r.mapValue):Ze(61005,{value:r})}function zh(r){switch(wa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(r);return e?16+zh(e):16;case 5:return 2*r.stringValue.length;case 6:return _a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+zh(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return ka(i.fields,((u,d)=>{o+=u.length+zh(d)})),o})(r.mapValue);default:throw Ze(13486,{value:r})}}function b_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tp(r){return!!r&&"integerValue"in r}function mg(r){return!!r&&"arrayValue"in r}function __(r){return!!r&&"nullValue"in r}function w_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fh(r){return!!r&&"mapValue"in r}function mN(r){return(r?.mapValue?.fields||{})[Hw]?.stringValue===Gw}function Ic(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ka(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ic(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(r.arrayValue.values[n]);return e}return{...r}}function pN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fN}class As{constructor(e){this.value=e}static empty(){return new As({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=Zn.emptyPath(),i={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=Ic(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ka(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new As(Ic(this.value))}}function Ww(r){const e=[];return ka(r.fields,((n,i)=>{const o=new Zn([n]);if(Fh(i)){const u=Ww(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Vs(e)}class ls{constructor(e,n,i,o,u,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ls(e,0,nt.min(),nt.min(),nt.min(),As.empty(),0)}static newFoundDocument(e,n,i,o){return new ls(e,1,n,nt.min(),i,o,0)}static newNoDocument(e,n){return new ls(e,2,n,nt.min(),nt.min(),As.empty(),0)}static newUnknownDocument(e,n){return new ls(e,3,n,nt.min(),nt.min(),As.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ad{constructor(e,n){this.position=e,this.inclusive=n}}function x_(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?i=$e.comparator($e.fromName(d.referenceValue),n.key):i=hl(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function E_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hr(r.position[n],e.position[n]))return!1;return!0}class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function gN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class $w{}class Nn extends $w{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vN(e,n,i):n==="array-contains"?new wN(e,i):n==="in"?new xN(e,i):n==="not-in"?new EN(e,i):n==="array-contains-any"?new TN(e,i):new Nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new bN(e,i):new _N(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends $w{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wr(e,n)}matches(e){return Kw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kw(r){return r.op==="and"}function Yw(r){return yN(r)&&Kw(r)}function yN(r){for(const e of r.filters)if(e instanceof wr)return!1;return!0}function Sp(r){if(r instanceof Nn)return r.field.canonicalString()+r.op.toString()+dl(r.value);if(Yw(r))return r.filters.map((e=>Sp(e))).join(",");{const e=r.filters.map((n=>Sp(n))).join(",");return`${r.op}(${e})`}}function Qw(r,e){return r instanceof Nn?(function(i,o){return o instanceof Nn&&i.op===o.op&&i.field.isEqual(o.field)&&Hr(i.value,o.value)})(r,e):r instanceof wr?(function(i,o){return o instanceof wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,p)=>u&&Qw(d,o.filters[p])),!0):!1})(r,e):void Ze(19439)}function Xw(r){return r instanceof Nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`})(r):r instanceof wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Xw).join(" ,")+"}"})(r):"Filter"}class vN extends Nn{constructor(e,n,i){super(e,n,i),this.key=$e.fromName(i.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class bN extends Nn{constructor(e,n){super(e,"in",n),this.keys=Jw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _N extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=Jw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Jw(r,e){return(e.arrayValue?.values||[]).map((n=>$e.fromName(n.referenceValue)))}class wN extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&Fc(n.arrayValue,this.value)}}class xN extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class EN extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class TN extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Fc(this.value.arrayValue,i)))}}class SN{constructor(e,n=null,i=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function T_(r,e=null,n=[],i=[],o=null,u=null,d=null){return new SN(r,e,n,i,o,u,d)}function pg(r){const e=rt(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Sp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>dl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>dl(i))).join(",")),e.Te=n}return e.Te}function gg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Qw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!E_(r.startAt,e.startAt)&&E_(r.endAt,e.endAt)}function kp(r){return $e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class xl{constructor(e,n=null,i=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kN(r,e,n,i,o,u,d,p){return new xl(r,e,n,i,o,u,d,p)}function yg(r){return new xl(r)}function S_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AN(r){return $e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Zw(r){return r.collectionGroup!==null}function jc(r){const e=rt(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new On(Zn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qc(u,i))})),n.has(Zn.keyField().canonicalString())||e.Ie.push(new qc(Zn.keyField(),i))}return e.Ie}function zr(r){const e=rt(r);return e.Ee||(e.Ee=RN(e,jc(r))),e.Ee}function RN(r,e){if(r.limitType==="F")return T_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qc(o.field,u)}));const n=r.endAt?new ad(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ad(r.startAt.position,r.startAt.inclusive):null;return T_(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Ap(r,e){const n=r.filters.concat([e]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function CN(r,e){const n=r.explicitOrderBy.concat([e]);return new xl(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Rp(r,e,n){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sd(r,e){return gg(zr(r),zr(e))&&r.limitType===e.limitType}function e2(r){return`${pg(zr(r))}|lt:${r.limitType}`}function Jo(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>Xw(o))).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>dl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>dl(o))).join(",")),`Target(${i})`})(zr(r))}; limitType=${r.limitType})`}function kd(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):$e.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of jc(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,p,g){const y=x_(d,p,g);return d.inclusive?y<=0:y<0})(i.startAt,jc(i),o)||i.endAt&&!(function(d,p,g){const y=x_(d,p,g);return d.inclusive?y>=0:y>0})(i.endAt,jc(i),o))})(r,e)}function NN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function t2(r){return(e,n)=>{let i=!1;for(const o of jc(r)){const u=IN(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function IN(r,e,n){const i=r.field.isKeyField()?$e.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?hl(g,y):Ze(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ze(19790,{direction:r.dir})}}class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return Vw(this.inner)}size(){return this.innerSize}}const jN=new fn($e.comparator);function Ei(){return jN}const n2=new fn($e.comparator);function Tc(...r){let e=n2;for(const n of r)e=e.insert(n.key,n);return e}function s2(r){let e=n2;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Za(){return Dc()}function r2(){return Dc()}function Dc(){return new ho((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DN=new fn($e.comparator),MN=new On($e.comparator);function Et(...r){let e=MN;for(const n of r)e=e.add(n);return e}const PN=new On(xt);function ON(){return PN}function vg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function i2(r){return{integerValue:""+r}}function LN(r,e){return oN(e)?i2(e):vg(r,e)}class Ad{constructor(){this._=void 0}}function VN(r,e,n){return r instanceof od?(function(o,u){const d={fields:{[zw]:{stringValue:Bw},[qw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=Td(u)),u&&(d.fields[Fw]=u),{mapValue:d}})(n,e):r instanceof Hc?o2(r,e):r instanceof Gc?l2(r,e):(function(o,u){const d=a2(o,u),p=k_(d)+k_(o.Ae);return Tp(d)&&Tp(o.Ae)?i2(p):vg(o.serializer,p)})(r,e)}function UN(r,e,n){return r instanceof Hc?o2(r,e):r instanceof Gc?l2(r,e):n}function a2(r,e){return r instanceof ld?(function(i){return Tp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class od extends Ad{}class Hc extends Ad{constructor(e){super(),this.elements=e}}function o2(r,e){const n=c2(e);for(const i of r.elements)n.some((o=>Hr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Gc extends Ad{constructor(e){super(),this.elements=e}}function l2(r,e){let n=c2(e);for(const i of r.elements)n=n.filter((o=>!Hr(o,i)));return{arrayValue:{values:n}}}class ld extends Ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function k_(r){return xn(r.integerValue||r.doubleValue)}function c2(r){return mg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function BN(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Hc&&o instanceof Hc||i instanceof Gc&&o instanceof Gc?ul(i.elements,o.elements,Hr):i instanceof ld&&o instanceof ld?Hr(i.Ae,o.Ae):i instanceof od&&o instanceof od})(r.transform,e.transform)}class zN{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rd{}function u2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bg(r.key,tr.none()):new su(r.key,r.data,tr.none());{const n=r.data,i=As.empty();let o=new On(Zn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Aa(r.key,i,new Vs(o.toArray()),tr.none())}}function FN(r,e,n){r instanceof su?(function(o,u,d){const p=o.value.clone(),g=R_(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Aa?(function(o,u,d){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=R_(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(h2(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Mc(r,e,n,i){return r instanceof su?(function(u,d,p,g){if(!qh(u.precondition,d))return p;const y=u.value.clone(),w=C_(u.fieldTransforms,g,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Aa?(function(u,d,p,g){if(!qh(u.precondition,d))return p;const y=C_(u.fieldTransforms,g,d),w=d.data;return w.setAll(h2(u)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(r,e,n,i):(function(u,d,p){return qh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function qN(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=a2(i.transform,o||null);u!=null&&(n===null&&(n=As.empty()),n.set(i.field,u))}return n||null}function A_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ul(i,o,((u,d)=>BN(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Rd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Aa extends Rd{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function h2(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function R_(r,e,n){const i=new Map;Ut(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);i.set(u.field,UN(d,p,n[o]))}return i}function C_(r,e,n){const i=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);i.set(o.field,VN(u,d,e))}return i}class bg extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HN extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&FN(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=r2();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const g=u2(d,p);g!==null&&i.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(nt.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Et())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((n,i)=>A_(n,i)))&&ul(this.baseMutations,e.baseMutations,((n,i)=>A_(n,i)))}}class _g{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ut(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return DN})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new _g(e,n,i,o)}}class WN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $N{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,At;function KN(r){switch(r){case ce.OK:return Ze(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ze(15467,{code:r})}}function d2(r){if(r===void 0)return xi("GRPC error has no .code"),ce.UNKNOWN;switch(r){case Cn.OK:return ce.OK;case Cn.CANCELLED:return ce.CANCELLED;case Cn.UNKNOWN:return ce.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ce.INTERNAL;case Cn.UNAVAILABLE:return ce.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ce.NOT_FOUND;case Cn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Cn.ABORTED:return ce.ABORTED;case Cn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Cn.DATA_LOSS:return ce.DATA_LOSS;default:return Ze(39323,{code:r})}}(At=Cn||(Cn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function YN(){return new TextEncoder}const QN=new ma([4294967295,4294967295],0);function N_(r){const e=YN().encode(r),n=new Aw;return n.update(e),new Uint8Array(n.digest())}function I_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ma([n,i],0),new ma([o,u],0)]}class wg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(ma.fromNumber(i)));return o.compare(QN)===1&&(o=new ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=N_(e),[i,o]=I_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new wg(u,o,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=N_(e),[i,o]=I_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cd(nt.min(),o,new fn(xt),Ei(),Et())}}class ru{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ru(i,n,Et(),Et(),Et())}}class Hh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class f2{constructor(e,n){this.targetId=e,this.Ce=n}}class m2{constructor(e,n,i=ts.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class j_{constructor(){this.ve=0,this.Fe=D_(),this.Me=ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Et(),n=Et(),i=Et();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ze(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=D_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.He=Rh(),this.Je=Rh(),this.Ze=new fn(xt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(kp(u))if(i===0){const d=new $e(u.path);this.et(n,d,ls.newNoDocument(d,nt.min()))}else Ut(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=_a(i).toUint8Array()}catch(g){if(g instanceof Uw)return cl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new wg(d,o,u)}catch(g){return cl(g instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&kp(p.target)){const g=new $e(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,ls.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=Et();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Cd(e,n,this.Ze,this.je,i);return this.je=Ei(),this.He=Rh(),this.Je=Rh(),this.Ze=new fn(xt),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new j_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new On(xt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new On(xt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new fn($e.comparator)}function D_(){return new fn($e.comparator)}const JN={asc:"ASCENDING",desc:"DESCENDING"},ZN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e4={and:"AND",or:"OR"};class t4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(r,e){return r.useProto3Json||Ed(e)?e:{value:e}}function cd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function n4(r,e){return cd(r,e.toTimestamp())}function Fr(r){return Ut(!!r,49232),nt.fromTimestamp((function(n){const i=ba(n);return new at(i.seconds,i.nanos)})(r))}function xg(r,e){return Np(r,e).canonicalString()}function Np(r,e){const n=(function(o){return new Xt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function g2(r){const e=Xt.fromString(r);return Ut(w2(e),10190,{key:e.toString()}),e}function Ip(r,e){return xg(r.databaseId,e.path)}function Ym(r,e){const n=g2(e);if(n.get(1)!==r.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new $e(v2(n))}function y2(r,e){return xg(r.databaseId,e)}function s4(r){const e=g2(r);return e.length===4?Xt.emptyPath():v2(e)}function jp(r){return new Xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function v2(r){return Ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function M_(r,e,n){return{name:Ip(r,e),fields:n.value.mapValue.fields}}function r4(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ze(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(Ut(w===void 0||typeof w=="string",58123),ts.fromBase64String(w||"")):(Ut(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),ts.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const w=y.code===void 0?ce.UNKNOWN:d2(y.code);return new Ae(w,y.message||"")})(d);n=new m2(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ym(r,i.document.name),u=Fr(i.document.updateTime),d=i.document.createTime?Fr(i.document.createTime):nt.min(),p=new As({mapValue:{fields:i.document.fields}}),g=ls.newFoundDocument(o,u,d,p),y=i.targetIds||[],w=i.removedTargetIds||[];n=new Hh(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ym(r,i.document),u=i.readTime?Fr(i.readTime):nt.min(),d=ls.newNoDocument(o,u),p=i.removedTargetIds||[];n=new Hh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ym(r,i.document),u=i.removedTargetIds||[];n=new Hh([],u,o,null)}else{if(!("filter"in e))return Ze(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new $N(o,u),p=i.targetId;n=new f2(p,d)}}return n}function i4(r,e){let n;if(e instanceof su)n={update:M_(r,e.key,e.value)};else if(e instanceof bg)n={delete:Ip(r,e.key)};else if(e instanceof Aa)n={update:M_(r,e.key,e.data),updateMask:m4(e.fieldMask)};else{if(!(e instanceof HN))return Ze(16599,{dt:e.type});n={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const p=d.transform;if(p instanceof od)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ld)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ze(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:n4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ze(27497)})(r,e.precondition)),n}function a4(r,e){return r&&r.length>0?(Ut(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Fr(o.updateTime):Fr(u);return d.isEqual(nt.min())&&(d=Fr(u)),new zN(d,o.transformResults||[])})(n,e)))):[]}function o4(r,e){return{documents:[y2(r,e.path)]}}function l4(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=y2(r,o);const u=(function(y){if(y.length!==0)return _2(wr.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((w=>(function(T){return{field:Zo(T.field),direction:h4(T.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Cp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function c4(r){let e=s4(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ut(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(x){const T=b2(x);return T instanceof wr&&Yw(T)?T.getFilters():[T]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((T=>(function(q){return new qc(el(q.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(x){let T;return T=typeof x=="object"?x.value:x,Ed(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(x){const T=!!x.before,O=x.values||[];return new ad(O,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const T=!x.before,O=x.values||[];return new ad(O,T)})(n.endAt)),kN(e,o,d,u,p,"F",g,y)}function u4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function b2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return Nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=el(n.unaryFilter.field);return Nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=el(n.unaryFilter.field);return Nn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(n.unaryFilter.field);return Nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nn.create(el(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return wr.create(n.compositeFilter.filters.map((i=>b2(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}})(n.compositeFilter.op))})(r):Ze(30097,{filter:r})}function h4(r){return JN[r]}function d4(r){return ZN[r]}function f4(r){return e4[r]}function Zo(r){return{fieldPath:r.canonicalString()}}function el(r){return Zn.fromServerFormat(r.fieldPath)}function _2(r){return r instanceof Nn?(function(n){if(n.op==="=="){if(w_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(__(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(__(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:d4(n.op),value:n.value}}})(r):r instanceof wr?(function(n){const i=n.getFilters().map((o=>_2(o)));return i.length===1?i[0]:{compositeFilter:{op:f4(n.op),filters:i}}})(r):Ze(54877,{filter:r})}function m4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function w2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function x2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ha{constructor(e,n,i,o,u=nt.min(),d=nt.min(),p=ts.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class p4{constructor(e){this.yt=e}}function g4(r){const e=c4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rp(e,e.limit,"L"):e}class y4{constructor(){this.Sn=new v4}addToCollectionParentIndex(e,n){return this.Sn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(va.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class v4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new On(Xt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new On(Xt.comparator)).toArray()}}const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E2=41943040;class ks{static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(E2,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class fl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fl(0)}static ar(){return new fl(-1)}}const O_="LruGarbageCollector",b4=1048576;function L_([r,e],[n,i]){const o=xt(r,n);return o===0?xt(e,i):o}class _4{constructor(e){this.Pr=e,this.buffer=new On(L_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();L_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ne(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?Ne(O_,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Ar(3e5)}))}}class x4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(xd.ce);const i=new _4(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(P_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(i=x,p=Date.now(),this.removeTargets(e,i,n)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(y=Date.now(),Xo()<=_t.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function E4(r,e){return new x4(r,e)}class T4{constructor(){this.changes=new ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ls.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class S4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class k4{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Mc(i.mutation,o,Vs.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Et()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Et()){const o=Za();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=Tc();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=Za();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Et())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,o){let u=Ei();const d=Dc(),p=(function(){return Dc()})();return n.forEach(((g,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Aa)?u=u.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Mc(w.mutation,y,w.mutation.getFieldMask(),at.now())):d.set(y.key,Vs.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,w)=>d.set(y,w))),n.forEach(((y,w)=>p.set(y,new S4(w,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Dc();let o=new fn(((d,p)=>d-p)),u=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let w=i.get(g)||Vs.empty();w=p.applyToLocalView(y,w),i.set(g,w);const x=(o.get(p.batchId)||Et()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,x=r2();w.forEach((T=>{if(!u.has(T)){const O=u2(n.get(T),i.get(T));O!==null&&x.set(T,O),u=u.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return fe.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return AN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):fe.resolve(Za());let p=Uc,g=u;return d.next((y=>fe.forEach(y,((w,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(w)?fe.resolve():this.remoteDocumentCache.getEntry(e,w).next((T=>{g=g.insert(w,T)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Et()))).next((w=>({batchId:p,changes:s2(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next((i=>{let o=Tc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=Tc();return this.indexManager.getCollectionParents(e,u).next((p=>fe.forEach(p,(g=>{const y=(function(x,T){return new xl(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((x,T)=>{d=d.insert(x,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((g,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,ls.newInvalidDocument(w)))}));let p=Tc();return d.forEach(((g,y)=>{const w=u.get(g);w!==void 0&&Mc(w.mutation,y,Vs.empty(),at.now()),kd(n,y)&&(p=p.insert(g,y))})),p}))}}class A4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return fe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fr(o.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:g4(o.bundledQuery),readTime:Fr(o.readTime)}})(n)),fe.resolve()}}class R4{constructor(){this.overlays=new fn($e.comparator),this.Lr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Za();return fe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=Za(),u=n.length+1,d=new $e(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new fn(((y,w)=>y-w));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let w=u.get(y.largestBatchId);w===null&&(w=Za(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Za(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return fe.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new WN(n,i));let u=this.Lr.get(n);u===void 0&&(u=Et(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class C4{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class Eg{constructor(){this.kr=new On(Vn.Kr),this.qr=new On(Vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Vn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Vn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new $e(new Xt([])),i=new Vn(n,e),o=new Vn(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new $e(new Xt([])),i=new Vn(n,e),o=new Vn(n,e+1);let u=Et();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Vn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Vn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return $e.comparator(e.key,n.key)||xt(e.Hr,n.Hr)}static Ur(e,n){return xt(e.Hr,n.Hr)||$e.comparator(e.key,n.key)}}class N4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new On(Vn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GN(u,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Vn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return fe.resolve(d)}lookupMutationBatch(e,n){return fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?dg:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Vn(n,0),o=new Vn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new On(xt);return n.forEach((o=>{const u=new Vn(o,0),d=new Vn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{i=i.add(p.Hr)}))})),fe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;$e.isDocumentKey(u)||(u=u.child(""));const d=new Vn(new $e(u),0);let p=new On(xt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),d),fe.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return fe.forEach(n.mutations,(o=>{const u=new Vn(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Vn(n,0),o=this.Jr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class I4{constructor(e){this.ti=e,this.docs=(function(){return new fn($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():ls.newInvalidDocument(n))}getEntries(e,n){let i=Ei();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():ls.newInvalidDocument(o))})),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Ei();const d=n.path,p=new $e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||sN(nN(w),i)<=0||(o.has(w.key)||kd(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return fe.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Ze(9500)}ni(e,n){return fe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new j4(this)}getSize(e){return fe.resolve(this.size)}}class j4 extends T4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),fe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class D4{constructor(e){this.persistence=e,this.ri=new ho((n=>pg(n)),gg),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.ii=0,this.si=new Eg,this.targetCount=0,this.oi=fl._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),fe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.lr(n),fe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),fe.waitFor(u).next((()=>o))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),fe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.si.containsKey(n))}}class T2{constructor(e,n){this._i={},this.overlays={},this.ai=new xd(0),this.ui=!1,this.ui=!0,this.ci=new C4,this.referenceDelegate=e(this),this.li=new D4(this),this.indexManager=new y4,this.remoteDocumentCache=(function(o){return new I4(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new p4(n),this.Pi=new A4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new N4(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){Ne("MemoryPersistence","Starting transaction:",e);const o=new M4(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return fe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class M4 extends iN{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Ai=null}static Vi(e){return new Tg(e)}get di(){if(this.Ai)return this.Ai;throw Ze(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(i=>{const o=$e.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,nt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ud{constructor(e,n){this.persistence=e,this.fi=new ho((i=>lN(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=E4(this,n)}static Vi(e,n){return new ud(e,n)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return fe.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?fe.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(i++,u.removeEntry(d,nt.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}wr(e,n,i){return fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=Et(),o=Et();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sg(e,n.fromCache,i,o)}}class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class O4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ck()?8:aN(cs())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new P4;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Xo()<=_t.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(Xo()<=_t.DEBUG&&Ne("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Xo()<=_t.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):fe.resolve())}gs(e,n){if(S_(n))return fe.resolve(null);let i=zr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),i=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=Et(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,d,g.readTime)?this.gs(e,Rp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return S_(n)||o.isEqual(nt.min())?fe.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?fe.resolve(null):(Xo()<=_t.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(n)),this.Ds(e,d,n,tN(o,Uc)).next((p=>p)))}))}bs(e,n){let i=new On(t2(e));return n.forEach(((o,u)=>{kd(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return Xo()<=_t.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.fs.getDocumentsMatchingQuery(e,n,va.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const kg="LocalStore",L4=3e8;class V4{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new fn(xt),this.Fs=new ho((u=>pg(u)),gg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function U4(r,e,n,i){return new V4(r,e,n,i)}async function S2(r,e){const n=rt(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],p=[];let g=Et();for(const y of o){d.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function B4(r,e){const n=rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const x=y.batch,T=x.keys();let O=fe.resolve();return T.forEach((q=>{O=O.next((()=>w.getEntry(g,q))).next((G=>{const z=y.docVersions.get(q);Ut(z!==null,48541),G.version.compareTo(z)<0&&(x.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),w.addEntry(G)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Et();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function k2(r){const e=rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function z4(r,e){const n=rt(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((w,x)=>{const T=o.get(x);if(!T)return;p.push(n.li.removeMatchingKeys(u,w.removedDocuments,x).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,x))));let O=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(ts.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),o=o.insert(x,O),(function(G,z,ae){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=L4?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(T,O,w)&&p.push(n.li.updateTargetData(u,O))}));let g=Ei(),y=Et();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(F4(u,d,e.documentUpdates).next((w=>{g=w.Bs,y=w.Ls}))),!i.isEqual(nt.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((x=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(w)}return fe.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function F4(r,e,n){let i=Et(),o=Et();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let d=Ei();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(nt.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):Ne(kg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function q4(r,e){const n=rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=dg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function H4(r,e){const n=rt(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,fe.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new ha(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Dp(r,e,n){const i=rt(r),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wl(d))throw d;Ne(kg,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function V_(r,e,n){const i=rt(r);let o=nt.min(),u=Et();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,w){const x=rt(g),T=x.Fs.get(w);return T!==void 0?fe.resolve(x.vs.get(T)):x.li.getTargetData(y,w)})(i,d,zr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:nt.min(),n?u:Et()))).next((p=>(G4(i,NN(e),p),{documents:p,ks:u})))))}function G4(r,e,n){let i=r.Ms.get(e)||nt.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(e,i)}class U_{constructor(){this.activeTargetIds=ON()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.vo=new U_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new U_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $4{Mo(e){}shutdown(){}}const B_="ConnectivityMonitor";class z_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ne(B_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ne(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function Mp(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const Qm="RestConnection",K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Y4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===rd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=Mp(),p=this.Qo(e,n.toUriEncodedString());Ne(Qm,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),w=Ta(y);return this.zo(e,p,g,i,w).then((x=>(Ne(Qm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw cl(Qm,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",i),x}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=K4[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Q4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const as="WebChannelConnection",yc=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class il extends Y4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!il.c_){const e=Iw();yc(e,Nw.STAT_EVENT,(n=>{n.stat===wp.PROXY?Ne(as,"STAT_EVENT: detected buffering proxy"):n.stat===wp.NOPROXY&&Ne(as,"STAT_EVENT: detected no buffering proxy")})),il.c_=!0}}zo(e,n,i,o,u){const d=Mp();return new Promise(((p,g)=>{const y=new Rw;y.setWithCredentials(!0),y.listenOnce(Cw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bh.NO_ERROR:const x=y.getResponseJson();Ne(as,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Bh.TIMEOUT:Ne(as,`RPC '${e}' ${d} timed out`),g(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const T=y.getStatus();if(Ne(as,`RPC '${e}' ${d} failed with status:`,T,"response text:",y.getResponseText()),T>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const q=O?.error;if(q&&q.status&&q.message){const G=(function(ae){const ee=ae.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ee)>=0?ee:ce.UNKNOWN})(q.status);g(new Ae(G,q.message))}else g(new Ae(ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Ne(as,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Ne(as,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",w,i,15)}))}T_(e,n,i){const o=Mp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=u.join("");Ne(as,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=d.createWebChannel(y,p);this.I_(w);let x=!1,T=!1;const O=new Q4({Ho:q=>{T?Ne(as,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(x||(Ne(as,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),Ne(as,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Jo:()=>w.close()});return yc(w,Ec.EventType.OPEN,(()=>{T||(Ne(as,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),yc(w,Ec.EventType.CLOSE,(()=>{T||(T=!0,Ne(as,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(w))})),yc(w,Ec.EventType.ERROR,(q=>{T||(T=!0,cl(as,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),O.o_(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))})),yc(w,Ec.EventType.MESSAGE,(q=>{if(!T){const G=q.data[0];Ut(!!G,16349);const z=G,ae=z?.error||z[0]?.error;if(ae){Ne(as,`RPC '${e}' stream ${o} received error:`,ae);const ee=ae.status;let he=(function(Re){const N=Cn[Re];if(N!==void 0)return d2(N)})(ee),we=ae.message;he===void 0&&(he=ce.INTERNAL,we="Unknown error status: "+ee+" with message "+ae.message),T=!0,O.o_(new Ae(he,we)),w.close()}else Ne(as,`RPC '${e}' stream ${o} received:`,G),O.__(G)}})),il.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jw()}}function X4(r){return new il(r)}function Xm(){return typeof document<"u"?document:null}function Nd(r){return new t4(r,!0)}il.c_=!1;class A2{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const F_="PersistentStream";class R2{constructor(e,n,i,o,u,d,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(F_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ne(F_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J4 extends R2{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r4(this.serializer,e),i=(function(u){if(!("targetChange"in u))return nt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?nt.min():d.readTime?Fr(d.readTime):nt.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=jp(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=kp(g)?{documents:o4(u,g)}:{query:l4(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=p2(u,d.resumeToken);const y=Cp(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(nt.min())>0){p.readTime=cd(u,d.snapshotVersion.toTimestamp());const y=Cp(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=u4(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.K_(n)}}class Z4 extends R2{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=a4(e.writeResults,e.commitTime),i=Fr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=jp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>i4(this.serializer,i)))};this.K_(n)}}class eI{}class tI extends eI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Np(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ce.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Np(n,i),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ae(ce.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nI(r,e,n,i){return new tI(r,e,n,i)}class sI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oo="RemoteStore";class rI{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{fo(this)&&(Ne(oo,"Restarting streams for network reachability change."),await(async function(g){const y=rt(g);y.Ea.add(4),await iu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Id(y)})(this))}))})),this.Va=new sI(i,o)}}async function Id(r){if(fo(r))for(const e of r.Ra)await e(!0)}async function iu(r){for(const e of r.Ra)await e(!1)}function C2(r,e){const n=rt(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ng(n)?Cg(n):El(n).O_()&&Rg(n,e))}function Ag(r,e){const n=rt(r),i=El(n);n.Ia.delete(e),i.O_()&&N2(n,e),n.Ia.size===0&&(i.O_()?i.L_():fo(n)&&n.Va.set("Unknown"))}function Rg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(r).Z_(e)}function N2(r,e){r.da.$e(e),El(r).X_(e)}function Cg(r){r.da=new XN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),El(r).start(),r.Va.ua()}function Ng(r){return fo(r)&&!El(r).x_()&&r.Ia.size>0}function fo(r){return rt(r).Ea.size===0}function I2(r){r.da=void 0}async function iI(r){r.Va.set("Online")}async function aI(r){r.Ia.forEach(((e,n)=>{Rg(r,e)}))}async function oI(r,e){I2(r),Ng(r)?(r.Va.ha(e),Cg(r)):r.Va.set("Unknown")}async function lI(r,e,n){if(r.Va.set("Online"),e instanceof m2&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(i){Ne(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hd(r,i)}else if(e instanceof Hh?r.da.Xe(e):e instanceof f2?r.da.st(e):r.da.tt(e),!n.isEqual(nt.min()))try{const i=await k2(r.localStore);n.compareTo(i)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(ts.EMPTY_BYTE_STRING,w.snapshotVersion)),N2(u,g);const x=new ha(w.target,g,y,w.sequenceNumber);Rg(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){Ne(oo,"Failed to raise snapshot:",i),await hd(r,i)}}async function hd(r,e,n){if(!wl(e))throw e;r.Ea.add(1),await iu(r),r.Va.set("Offline"),n||(n=()=>k2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ne(oo,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Id(r)}))}function j2(r,e){return e().catch((n=>hd(r,n,e)))}async function jd(r){const e=rt(r),n=xa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dg;for(;cI(e);)try{const o=await q4(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,uI(e,o)}catch(o){await hd(e,o)}D2(e)&&M2(e)}function cI(r){return fo(r)&&r.Ta.length<10}function uI(r,e){r.Ta.push(e);const n=xa(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function D2(r){return fo(r)&&!xa(r).x_()&&r.Ta.length>0}function M2(r){xa(r).start()}async function hI(r){xa(r).ra()}async function dI(r){const e=xa(r);for(const n of r.Ta)e.ea(n.mutations)}async function fI(r,e,n){const i=r.Ta.shift(),o=_g.from(i,e,n);await j2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jd(r)}async function mI(r,e){e&&xa(r).Y_&&await(async function(i,o){if((function(d){return KN(d)&&d!==ce.ABORTED})(o.code)){const u=i.Ta.shift();xa(i).B_(),await j2(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jd(i)}})(r,e),D2(r)&&M2(r)}async function q_(r,e){const n=rt(r);n.asyncQueue.verifyOperationInProgress(),Ne(oo,"RemoteStore received new credentials");const i=fo(n);n.Ea.add(3),await iu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function pI(r,e){const n=rt(r);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await iu(n),n.Va.set("Unknown"))}function El(r){return r.ma||(r.ma=(function(n,i,o){const u=rt(n);return u.sa(),new J4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:iI.bind(null,r),Yo:aI.bind(null,r),t_:oI.bind(null,r),J_:lI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ng(r)?Cg(r):r.Va.set("Unknown")):(await r.ma.stop(),I2(r))}))),r.ma}function xa(r){return r.fa||(r.fa=(function(n,i,o){const u=rt(n);return u.sa(),new Z4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hI.bind(null,r),t_:mI.bind(null,r),ta:dI.bind(null,r),na:fI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await jd(r)):(await r.fa.stop(),r.Ta.length>0&&(Ne(oo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ig{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,p=new Ig(e,n,d,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(r,e){if(xi("AsyncQueue",`${e}: ${r}`),wl(r))return new Ae(ce.UNAVAILABLE,`${e}: ${r}`);throw r}class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||$e.comparator(n.key,i.key):(n,i)=>$e.comparator(n.key,i.key),this.keyedMap=Tc(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class H_{constructor(){this.ga=new fn($e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ze(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ml{constructor(e,n,i,o,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new ml(e,n,al.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class gI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yI{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=rt(n),u=o.queries;o.queries=G_(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new Ae(ce.ABORTED,"Firestore shutting down"))}}function G_(){return new ho((r=>e2(r)),Sd)}async function P2(r,e){const n=rt(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new gI,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=jg(d,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dg(n)}async function O2(r,e){const n=rt(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function vI(r,e){const n=rt(r);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(i=!0);d.wa=o}}i&&Dg(n)}function bI(r,e,n){const i=rt(r),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function Dg(r){r.Ca.forEach((e=>{e.next()}))}var Pp,W_;(W_=Pp||(Pp={})).Ma="default",W_.Cache="cache";class L2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class V2{constructor(e){this.key=e}}class U2{constructor(e){this.key=e}}class _I{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Et(),this.mutatedKeys=Et(),this.eu=t2(e),this.tu=new al(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new H_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const T=o.get(w),O=kd(this.query,x)?x:null,q=!!T&&this.mutatedKeys.has(T.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;T&&O?T.data.isEqual(O.data)?q!==G&&(i.track({type:3,doc:O}),z=!0):this.su(T,O)||(i.track({type:2,doc:O}),z=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!T&&O?(i.track({type:0,doc:O}),z=!0):T&&!O&&(i.track({type:1,doc:T}),z=!0,(g||y)&&(p=!0)),z&&(O?(d=d.add(O),u=G?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:d,iu:i,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,x)=>(function(O,q){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Vt:z})}};return G(O)-G(q)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new ml(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Et(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new U2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new V2(i))})),n}cu(e){this.Za=e.ks,this.Ya=Et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Mg="SyncEngine";class wI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class xI{constructor(e){this.key=e,this.hu=!1}}class EI{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ho((p=>e2(p)),Sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new fn($e.comparator),this.Au=new Map,this.Vu=new Eg,this.du={},this.mu=new Map,this.fu=fl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TI(r,e,n=!0){const i=G2(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await B2(i,e,n,!0),o}async function SI(r,e){const n=G2(r);await B2(n,e,!0,!1)}async function B2(r,e,n,i){const o=await H4(r.localStore,zr(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await kI(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&C2(r.remoteStore,o),p}async function kI(r,e,n,i,o){r.pu=(x,T,O)=>(async function(G,z,ae,ee){let he=z.view.ru(ae);he.Ss&&(he=await V_(G.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,he))));const we=ee&&ee.targetChanges.get(z.targetId),Ie=ee&&ee.targetMismatches.get(z.targetId)!=null,Re=z.view.applyChanges(he,G.isPrimaryClient,we,Ie);return K_(G,z.targetId,Re.au),Re.snapshot})(r,x,T,O);const u=await V_(r.localStore,e,!0),d=new _I(e,u.ks),p=d.ru(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);K_(r,n,y.au);const w=new wI(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function AI(r,e,n){const i=rt(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!Sd(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Ag(i.remoteStore,o.targetId),Op(i,o.targetId)})).catch(_l)):(Op(i,o.targetId),await Dp(i.localStore,o.targetId,!0))}async function RI(r,e){const n=rt(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ag(n.remoteStore,i.targetId))}async function CI(r,e,n){const i=OI(r);try{const o=await(function(d,p){const g=rt(d),y=at.now(),w=p.reduce(((O,q)=>O.add(q.key)),Et());let x,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let q=Ei(),G=Et();return g.xs.getEntries(O,w).next((z=>{q=z,q.forEach(((ae,ee)=>{ee.isValidDocument()||(G=G.add(ae))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,q))).next((z=>{x=z;const ae=[];for(const ee of p){const he=qN(ee,x.get(ee.key).overlayedDocument);he!=null&&ae.push(new Aa(ee.key,he,Ww(he.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,ae,p)})).next((z=>{T=z;const ae=z.applyToLocalDocumentSet(x,G);return g.documentOverlayCache.saveOverlays(O,z.batchId,ae)}))})).then((()=>({batchId:T.batchId,changes:s2(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new fn(xt)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(i,o.batchId,n),await au(i,o.changes),await jd(i.remoteStore)}catch(o){const u=jg(o,"Failed to persist write");n.reject(u)}}async function z2(r,e){const n=rt(r);try{const i=await z4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ut(d.hu,14607):o.removedDocuments.size>0&&(Ut(d.hu,42227),d.hu=!1))})),await au(n,i,e)}catch(i){await _l(i)}}function $_(r,e,n){const i=rt(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=rt(d);g.onlineState=p;let y=!1;g.queries.forEach(((w,x)=>{for(const T of x.ba)T.va(p)&&(y=!0)})),y&&Dg(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NI(r,e,n){const i=rt(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new fn($e.comparator);d=d.insert(u,ls.newNoDocument(u,nt.min()));const p=Et().add(u),g=new Cd(nt.min(),new Map,new fn(xt),d,p);await z2(i,g),i.Ru=i.Ru.remove(u),i.Au.delete(e),Pg(i)}else await Dp(i.localStore,e,!1).then((()=>Op(i,e,n))).catch(_l)}async function II(r,e){const n=rt(r),i=e.batch.batchId;try{const o=await B4(n.localStore,e);q2(n,i,null),F2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await au(n,o)}catch(o){await _l(o)}}async function jI(r,e,n){const i=rt(r);try{const o=await(function(d,p){const g=rt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Ut(x!==null,37113),w=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);q2(i,e,n),F2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await au(i,o)}catch(o){await _l(o)}}function F2(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function q2(r,e,n){const i=rt(r);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Op(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||H2(r,i)}))}function H2(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ag(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Pg(r))}function K_(r,e,n){for(const i of n)i instanceof V2?(r.Vu.addReference(i.key,e),DI(r,i)):i instanceof U2?(Ne(Mg,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||H2(r,i.key)):Ze(19791,{wu:i})}function DI(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(Ne(Mg,"New document in limbo: "+n),r.Eu.add(i),Pg(r))}function Pg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new $e(Xt.fromString(e)),i=r.fu.next();r.Au.set(i,new xI(n)),r.Ru=r.Ru.insert(n,i),C2(r.remoteStore,new ha(zr(yg(n.path)),i,"TargetPurposeLimboResolution",xd.ce))}}async function au(r,e,n){const i=rt(r),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{d.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Sg.Es(g.targetId,y);u.push(w)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(g,y){const w=rt(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>fe.forEach(y,(T=>fe.forEach(T.Ts,(O=>w.persistence.referenceDelegate.addReference(x,T.targetId,O))).next((()=>fe.forEach(T.Is,(O=>w.persistence.referenceDelegate.removeReference(x,T.targetId,O)))))))))}catch(x){if(!wl(x))throw x;Ne(kg,"Failed to update sequence numbers: "+x)}for(const x of y){const T=x.targetId;if(!x.fromCache){const O=w.vs.get(T),q=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(q);w.vs=w.vs.insert(T,G)}}})(i.localStore,u))}async function MI(r,e){const n=rt(r);if(!n.currentUser.isEqual(e)){Ne(Mg,"User change. New user:",e.toKey());const i=await S2(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ae(ce.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await au(n,i.Ns)}}function PI(r,e){const n=rt(r),i=n.Au.get(e);if(i&&i.hu)return Et().add(i.key);{let o=Et();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function G2(r){const e=rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=z2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NI.bind(null,e),e.Pu.J_=vI.bind(null,e.eventManager),e.Pu.yu=bI.bind(null,e.eventManager),e}function OI(r){const e=rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=II.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jI.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return U4(this.persistence,new O4,e.initialUser,this.serializer)}Cu(e){return new T2(Tg.Vi,this.serializer)}Du(e){return new W4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class LI extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ut(this.persistence.referenceDelegate instanceof ud,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new w4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new T2((i=>ud.Vi(i,n)),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,this.syncEngine),await pI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yI})()}createDatastore(e){const n=Nd(e.databaseInfo.databaseId),i=X4(e.databaseInfo);return nI(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,p){return new rI(i,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>$_(this.syncEngine,n,0)),(function(){return z_.v()?new z_:new $4})())}createSyncEngine(e,n){return(function(o,u,d,p,g,y,w){const x=new EI(o,u,d,p,g,y);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=rt(n);Ne(oo,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class W2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ea="FirestoreClient";class VI{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=os.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{Ne(Ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(Ne(Ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=jg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jm(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(Ea,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await S2(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Y_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UI(r);Ne(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>q_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>q_(e.remoteStore,o))),r._onlineComponents=e}async function UI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(Ea,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await Jm(r,new dd)}}else Ne(Ea,"Using default OfflineComponentProvider"),await Jm(r,new LI(void 0));return r._offlineComponents}async function $2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(Ea,"Using user provided OnlineComponentProvider"),await Y_(r,r._uninitializedComponentsProvider._online)):(Ne(Ea,"Using default OnlineComponentProvider"),await Y_(r,new Lp))),r._onlineComponents}function BI(r){return $2(r).then((e=>e.syncEngine))}async function K2(r){const e=await $2(r),n=e.eventManager;return n.onListen=TI.bind(null,e.syncEngine),n.onUnlisten=AI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RI.bind(null,e.syncEngine),n}function zI(r,e,n={}){const i=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const w=new W2({next:T=>{w.Nu(),d.enqueueAndForget((()=>O2(u,x)));const O=T.docs.has(p);!O&&T.fromCache?y.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&g&&g.source==="server"?y.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new L2(yg(p.path),w,{includeMetadataChanges:!0,Ka:!0});return P2(u,x)})(await K2(r),r.asyncQueue,e,n,i))),i.promise}function FI(r,e,n={}){const i=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const w=new W2({next:T=>{w.Nu(),d.enqueueAndForget((()=>O2(u,x))),T.fromCache&&g.source==="server"?y.reject(new Ae(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new L2(p,w,{includeMetadataChanges:!0,Ka:!0});return P2(u,x)})(await K2(r),r.asyncQueue,e,n,i))),i.promise}function qI(r,e){const n=new vi;return r.asyncQueue.enqueueAndForget((async()=>CI(await BI(r),e,n))),n.promise}function Y2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const HI="ComponentProvider",Q_=new Map;function GI(r,e,n,i,o){return new hN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Y2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const Q2="firestore.googleapis.com",X_=!0;class J_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q2,this.ssl=X_}else this.host=e.host,this.ssl=e.ssl??X_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b4)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HC;switch(i.type){case"firstParty":return new KC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Q_.get(n);i&&(Ne(HI,"Removing Datastore"),Q_.delete(n),i.terminate())})(this),Promise.resolve()}}function WI(r,e,n,i={}){r=_r(r,Dd);const o=Ta(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Yp(`https://${p}`),Qp("Firestore",!0)),u.host!==Q2&&u.host!==p&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!no(g,d)&&(r._setSettings(g),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=os.MOCK_USER;else{y=z1(i.mockUserToken,r._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new os(x)}r._authCredentials=new GC(new Mw(y,w))}}class mo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class En{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}toJSON(){return{type:En._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(nu(n,En._jsonSchema))return new En(e,i||null,new $e(Xt.fromString(n.referencePath)))}}En._jsonSchemaVersion="firestore/documentReference/1.0",En._jsonSchema={type:In("string",En._jsonSchemaVersion),referencePath:In("string")};class pa extends mo{constructor(e,n,i){super(e,n,yg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new $e(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function ga(r,e,...n){if(r=dn(r),Pw("collection","path",e),r instanceof Dd){const i=Xt.fromString(e,...n);return h_(i),new pa(r,null,i)}{if(!(r instanceof En||r instanceof pa))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Xt.fromString(e,...n));return h_(i),new pa(r.firestore,null,i)}}function Ft(r,e,...n){if(r=dn(r),arguments.length===1&&(e=hg.newId()),Pw("doc","path",e),r instanceof Dd){const i=Xt.fromString(e,...n);return u_(i),new En(r,null,new $e(i))}{if(!(r instanceof En||r instanceof pa))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Xt.fromString(e,...n));return u_(i),new En(r.firestore,r instanceof pa?r.converter:null,new $e(i))}}const Z_="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A2(this,"async_queue_retry"),this._c=()=>{const i=Xm();i&&Ne(Z_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;Ne(Z_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",t1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ig.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ze(47125,{Pc:t1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function t1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class po extends Dd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new e1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function $I(r,e){const n=typeof r=="object"?r:eg(),i=typeof r=="string"?r:rd,o=yd(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=V1("firestore");u&&WI(o,...u)}return o}function Og(r){if(r._terminated)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KI(r),r._firestoreClient}function KI(r){const e=r._freezeSettings(),n=GI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new VI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(ts.fromBase64String(e))}catch(n){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new er(ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:In("string",er._jsonSchemaVersion),bytes:In("string")};class Lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vg{constructor(e){this._methodName=e}}class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:In("string",qr._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};class vr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vr(e.vectorValues);throw new Ae(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:In("string",vr._jsonSchemaVersion),vectorValues:In("object")};const YI=/^__.*__$/;class QI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class X2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{dataSource:r})}}class Ug{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return fd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(J2(this.dataSource)&&YI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nd(e)}createContext(e,n,i,o=!1){return new Ug({dataSource:e,methodName:n,targetDoc:i,path:Zn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(r){const e=r._freezeSettings(),n=Nd(r._databaseId);return new XI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Z2(r,e,n,i,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Bg("Data must be an object, but it was:",d,i);const p=ex(i,d);let g,y;if(u.merge)g=new Vs(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const x of u.mergeFields){const T=lo(e,x,n);if(!d.contains(T))throw new Ae(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);sx(w,T)||w.push(T)}g=new Vs(w),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new QI(new As(p),g,y)}class Pd extends Vg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function JI(r,e,n,i){const o=r.createContext(1,e,n);Bg("Data must be an object, but it was:",o,i);const u=[],d=As.empty();ka(i,((g,y)=>{const w=nx(e,g,n);y=dn(y);const x=o.childContextForFieldPath(w);if(y instanceof Pd)u.push(w);else{const T=ou(y,x);T!=null&&(u.push(w),d.set(w,T))}}));const p=new Vs(u);return new X2(d,p,o.fieldTransforms)}function ZI(r,e,n,i,o,u){const d=r.createContext(1,e,n),p=[lo(e,i,n)],g=[o];if(u.length%2!=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(lo(e,u[T])),g.push(u[T+1]);const y=[],w=As.empty();for(let T=p.length-1;T>=0;--T)if(!sx(y,p[T])){const O=p[T];let q=g[T];q=dn(q);const G=d.childContextForFieldPath(O);if(q instanceof Pd)y.push(O);else{const z=ou(q,G);z!=null&&(y.push(O),w.set(O,z))}}const x=new Vs(y);return new X2(w,x,d.fieldTransforms)}function ej(r,e,n,i=!1){return ou(n,r.createContext(i?4:3,e))}function ou(r,e){if(tx(r=dn(r)))return Bg("Unsupported field value:",e,r),ex(r,e);if(r instanceof Vg)return(function(i,o){if(!J2(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const p of i){let g=ou(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return LN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=at.fromDate(i);return{timestampValue:cd(o.serializer,u)}}if(i instanceof at){const u=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(o.serializer,u)}}if(i instanceof qr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof er)return{bytesValue:p2(o.serializer,i._byteString)};if(i instanceof En){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof vr)return(function(d,p){const g=d instanceof vr?d.toArray():d;return{mapValue:{fields:{[Hw]:{stringValue:Gw},[id]:{arrayValue:{values:g.map((w=>{if(typeof w!="number")throw p.createError("VectorValues must only contain numeric values.");return vg(p.serializer,w)}))}}}}}})(i,o);if(x2(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wd(i)}`)})(r,e)}function ex(r,e){const n={};return Vw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(r,((i,o)=>{const u=ou(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function tx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof qr||r instanceof er||r instanceof En||r instanceof Vg||r instanceof vr||x2(r))}function Bg(r,e,n){if(!tx(n)||!Ow(n)){const i=wd(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function lo(r,e,n){if((e=dn(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return nx(r,e);throw fd("Field path arguments must be of type string or ",r,!1,void 0,n)}const tj=new RegExp("[~\\*/\\[\\]]");function nx(r,e,n){if(e.search(tj)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lg(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fd(r,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${i}`),d&&(g+=` in document ${o}`),g+=")"),new Ae(ce.INVALID_ARGUMENT,p+r+g)}function sx(r,e){return r.some((n=>n.isEqual(e)))}class nj{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ka(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[id].arrayValue?.values?.map((i=>xn(i.doubleValue)));return new vr(n)}convertGeoPoint(e){return new qr(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=ba(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Xt.fromString(e);Ut(w2(i),9688,{name:e});const o=new zc(i.get(1),i.get(3)),u=new $e(i.popFirst(5));return o.isEqual(n)||xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class rx extends nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}const n1="@firebase/firestore",s1="4.10.0";class ix{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sj extends ix{data(){return super.data()}}function rj(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ae(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class ax extends zg{}function Wc(r,e,...n){let i=[];e instanceof zg&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((g=>g instanceof Fg)).length,p=u.filter((g=>g instanceof Od)).length;if(d>1||d>0&&p>0)throw new Ae(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Od extends ax{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Od(e,n,i)}_apply(e){const n=this._parse(e);return ox(e._query,n),new mo(e.firestore,e.converter,Ap(e._query,n))}_parse(e){const n=Md(e.firestore);return(function(u,d,p,g,y,w,x){let T;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){i1(x,w);const q=[];for(const G of x)q.push(r1(g,u,G));T={arrayValue:{values:q}}}else T=r1(g,u,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||i1(x,w),T=ej(p,d,x,w==="in"||w==="not-in");return Nn.create(y,w,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ol(r,e,n){const i=e,o=lo("where",r);return Od._create(o,i,n)}class Fg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)ox(d,g),d=Ap(d,g)})(e._query,n),new mo(e.firestore,e.converter,Ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends ax{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qg(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(u,d)})(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,CN(e._query,n))}}function v3(r,e="asc"){const n=e,i=lo("orderBy",r);return qg._create(i,n)}function r1(r,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zw(e)&&n.indexOf("/")!==-1)throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Xt.fromString(n));if(!$e.isDocumentKey(i))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return b_(r,new $e(i))}if(n instanceof En)return b_(r,n._key);throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function i1(r,e){if(!Array.isArray(r)||r.length===0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ox(r,e){const n=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lx(r,e,n){let i;return i=r?r.toFirestore(e):e,i}class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends ix{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:In("string",eo._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Gh extends eo{data(e={}){return super.data(e)}}class ll{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Gh(this._firestore,this._userDataWriter,i.key,i,new kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:ij(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ij(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:r})}}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:In("string",ll._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};function es(r){r=_r(r,En);const e=_r(r.firestore,po),n=Og(e);return zI(n,r._key).then((i=>oj(e,r,i)))}function $c(r){r=_r(r,mo);const e=_r(r.firestore,po),n=Og(e),i=new rx(e);return rj(r._query),FI(n,r._query).then((o=>new ll(e,i,r,o)))}function Lr(r,e,n){r=_r(r,En);const i=_r(r.firestore,po),o=lx(r.converter,e),u=Md(i);return Ld(i,[Z2(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,tr.none())])}function b3(r,e,n,...i){r=_r(r,En);const o=_r(r.firestore,po),u=Md(o);let d;return d=typeof(e=dn(e))=="string"||e instanceof Lg?ZI(u,"updateDoc",r._key,e,n,i):JI(u,"updateDoc",r._key,e),Ld(o,[d.toMutation(r._key,tr.exists(!0))])}function aj(r){return Ld(_r(r.firestore,po),[new bg(r._key,tr.none())])}function Vp(r,e){const n=_r(r.firestore,po),i=Ft(r),o=lx(r.converter,e),u=Md(r.firestore);return Ld(n,[Z2(u,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,tr.exists(!1))]).then((()=>i))}function Ld(r,e){const n=Og(r);return qI(n,e)}function oj(r,e,n){const i=n.docs.get(e._key),o=new rx(r);return new eo(r,o,e._key,i,new kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qC(uo),so(new ya("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),p=new po(new WC(i.getProvider("auth-internal")),new YC(d,i.getProvider("app-check-internal")),dN(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Vr(n1,s1,e),Vr(n1,s1,"esm2020")})();var lj="firebase",cj="12.8.0";Vr(lj,cj,"app");const cx="firebasestorage.googleapis.com",ux="storageBucket",uj=120*1e3,hj=600*1e3;class Bn extends Wr{constructor(e,n,i=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Un;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Un||(Un={}));function Zm(r){return"storage/"+r}function hx(){const r="An unknown error occurred, please check the error payload for server response.";return new Bn(Un.UNKNOWN,r)}function dj(r){return new Bn(Un.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function fj(r){return new Bn(Un.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mj(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bn(Un.UNAUTHENTICATED,r)}function pj(){return new Bn(Un.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gj(r){return new Bn(Un.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function yj(){return new Bn(Un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vj(){return new Bn(Un.CANCELED,"User canceled the upload/download.")}function bj(r){return new Bn(Un.INVALID_URL,"Invalid URL '"+r+"'.")}function _j(r){return new Bn(Un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function wj(){return new Bn(Un.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ux+"' property when initializing the app?")}function xj(){return new Bn(Un.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Up(r){return new Bn(Un.INVALID_ARGUMENT,r)}function dx(){return new Bn(Un.APP_DELETED,"The Firebase app was deleted.")}function Ej(r){return new Bn(Un.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(r){throw new Bn(Un.INTERNAL_ERROR,"Internal error: "+r)}class ys{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ys.makeFromUrl(e,n)}catch{return new ys(e,"")}if(i.path==="")return i;throw _j(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(we){we.path_=decodeURIComponent(we.path)}const w="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",O=new RegExp(`^https?://${x}/${w}/b/${o}/o${T}`,"i"),q={bucket:1,path:3},G=n===cx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",ae=new RegExp(`^https?://${G}/${o}/${z}`,"i"),he=[{regex:p,indices:g,postModify:u},{regex:O,indices:q,postModify:y},{regex:ae,indices:{bucket:1,path:2},postModify:y}];for(let we=0;we<he.length;we++){const Ie=he[we],Re=Ie.regex.exec(e);if(Re){const N=Re[Ie.indices.bucket];let S=Re[Ie.indices.path];S||(S=""),i=new ys(N,S),Ie.postModify(i);break}}if(i==null)throw bj(e);return i}}class Tj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Sj(r,e,n){let i=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function w(...z){y||(y=!0,e.apply(null,z))}function x(z){o=setTimeout(()=>{o=null,r(O,g())},z)}function T(){u&&clearTimeout(u)}function O(z,...ae){if(y){T();return}if(z){T(),w.call(null,z,...ae);return}if(g()||d){T(),w.call(null,z,...ae);return}i<64&&(i*=2);let he;p===1?(p=2,he=0):he=(i+Math.random())*1e3,x(he)}let q=!1;function G(z){q||(q=!0,T(),!y&&(o!==null?(z||(p=2),clearTimeout(o),x(0)):z||(p=1)))}return x(0),u=setTimeout(()=>{d=!0,G(!0)},n),G}function kj(r){r(!1)}function Aj(r){return r!==void 0}function Rj(r){return typeof r=="object"&&!Array.isArray(r)}function fx(r){return typeof r=="string"||r instanceof String}function Bp(r,e,n,i){if(i<e)throw Up(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw Up(`Invalid value for '${r}'. Expected ${n} or less.`)}function Hg(r,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${r}`}function mx(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var to;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(to||(to={}));function Cj(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class Nj{constructor(e,n,i,o,u,d,p,g,y,w,x,T=!0,O=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,G)=>{this.resolve_=q,this.reject_=G,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===to.NO_ERROR,g=u.getStatus();if(!p||Cj(g,this.additionalRetryCodes_)&&this.retry){const w=u.getErrorCode()===to.ABORT;i(!1,new Nh(!1,null,w));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Nh(y,u))})},n=(i,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Aj(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=hx();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?dx():vj();d(g)}else{const g=yj();d(g)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=Sj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Ij(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function jj(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dj(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Mj(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Pj(r,e,n,i,o,u,d=!0,p=!1){const g=mx(r.urlParams),y=r.url+g,w=Object.assign({},r.headers);return Dj(w,e),Ij(w,n),jj(w,u),Mj(w,i),new Nj(y,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}function Gg(r){let e;try{e=JSON.parse(r)}catch{return null}return Rj(e)?e:null}function Oj(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Lj(r,e){const n=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function px(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function Vj(r,e){return e}class gs{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||Vj}}let Ih=null;function Uj(r){return!fx(r)||r.length<2?r:px(r)}function Bj(){if(Ih)return Ih;const r=[];r.push(new gs("bucket")),r.push(new gs("generation")),r.push(new gs("metageneration")),r.push(new gs("name","fullPath",!0));function e(u,d){return Uj(d)}const n=new gs("name");n.xform=e,r.push(n);function i(u,d){return d!==void 0?Number(d):d}const o=new gs("size");return o.xform=i,r.push(o),r.push(new gs("timeCreated")),r.push(new gs("updated")),r.push(new gs("md5Hash",null,!0)),r.push(new gs("cacheControl",null,!0)),r.push(new gs("contentDisposition",null,!0)),r.push(new gs("contentEncoding",null,!0)),r.push(new gs("contentLanguage",null,!0)),r.push(new gs("contentType",null,!0)),r.push(new gs("metadata","customMetadata",!0)),Ih=r,Ih}function zj(r,e){function n(){const i=r.bucket,o=r.fullPath,u=new ys(i,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function Fj(r,e,n){const i={};i.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];i[d.local]=d.xform(i,e[d.server])}return zj(i,r),i}function qj(r,e,n){const i=Gg(e);return i===null?null:Fj(r,i,n)}function Hj(r,e,n,i){const o=Gg(e);if(o===null||!fx(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(y=>{const w=r.bucket,x=r.fullPath,T="/b/"+d(w)+"/o/"+d(x),O=Hg(T,n,i),q=mx({alt:"media",token:y});return O+q})[0]}const a1="prefixes",o1="items";function Gj(r,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[a1])for(const o of n[a1]){const u=o.replace(/\/$/,""),d=r._makeStorageReference(new ys(e,u));i.prefixes.push(d)}if(n[o1])for(const o of n[o1]){const u=r._makeStorageReference(new ys(e,o.name));i.items.push(u)}return i}function Wj(r,e,n){const i=Gg(n);return i===null?null:Gj(r,e,i)}class gx{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yx(r){if(!r)throw hx()}function $j(r,e){function n(i,o){const u=Wj(r,e,o);return yx(u!==null),u}return n}function Kj(r,e){function n(i,o){const u=qj(r,o,e);return yx(u!==null),Hj(u,o,r.host,r._protocol)}return n}function vx(r){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=pj():o=mj():n.getStatus()===402?o=fj(r.bucket):n.getStatus()===403?o=gj(r.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function Yj(r){const e=vx(r);function n(i,o){let u=e(i,o);return i.getStatus()===404&&(u=dj(r.path)),u.serverResponse=o.serverResponse,u}return n}function Qj(r,e,n,i,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);const d=e.bucketOnlyServerUrl(),p=Hg(d,r.host,r._protocol),g="GET",y=r.maxOperationRetryTime,w=new gx(p,g,$j(r,e.bucket),y);return w.urlParams=u,w.errorHandler=vx(e),w}function Xj(r,e,n){const i=e.fullServerUrl(),o=Hg(i,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,p=new gx(o,u,Kj(r,n),d);return p.errorHandler=Yj(e),p}class Jj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=to.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=to.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=to.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,u){if(this.sent_)throw vc("cannot .send() more than once");if(Ta(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Zj extends Jj{initXhr(){this.xhr_.responseType="text"}}function bx(){return new Zj}class co{constructor(e,n){this._service=e,n instanceof ys?this._location=n:this._location=ys.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new co(e,n)}get root(){const e=new ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return px(this._location.path)}get storage(){return this._service}get parent(){const e=Oj(this._location.path);if(e===null)return null;const n=new ys(this._location.bucket,e);return new co(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ej(e)}}function eD(r){const e={prefixes:[],items:[]};return _x(r,e).then(()=>e)}async function _x(r,e,n){const o=await tD(r,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await _x(r,e,o.nextPageToken)}function tD(r,e){e!=null&&typeof e.maxResults=="number"&&Bp("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=Qj(r.storage,r._location,"/",n.pageToken,n.maxResults);return r.storage.makeRequestWithTokens(i,bx)}function nD(r){r._throwIfRoot("getDownloadURL");const e=Xj(r.storage,r._location,Bj());return r.storage.makeRequestWithTokens(e,bx).then(n=>{if(n===null)throw xj();return n})}function sD(r,e){const n=Lj(r._location.path,e),i=new ys(r._location.bucket,n);return new co(r.storage,i)}function rD(r){return/^[A-Za-z]+:\/\//.test(r)}function iD(r,e){return new co(r,e)}function wx(r,e){if(r instanceof Wg){const n=r;if(n._bucket==null)throw wj();const i=new co(n,n._bucket);return e!=null?wx(i,e):i}else return e!==void 0?sD(r,e):r}function aD(r,e){if(e&&rD(e)){if(r instanceof Wg)return iD(r,e);throw Up("To use ref(service, url), the first argument must be a Storage instance.")}else return wx(r,e)}function l1(r,e){const n=e?.[ux];return n==null?null:ys.makeFromBucketSpec(n,r)}function oD(r,e,n,i={}){r.host=`${e}:${n}`;const o=Ta(e);o&&(Yp(`https://${r.host}/b`),Qp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(r._overrideAuthToken=typeof u=="string"?u:z1(u,r.app.options.projectId))}class Wg{constructor(e,n,i,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=cx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uj,this._maxUploadRetryTime=hj,this._requests=new Set,o!=null?this._bucket=ys.makeFromBucketSpec(o,this._host):this._bucket=l1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ys.makeFromBucketSpec(this._url,e):this._bucket=l1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,n,i,o,u=!0){if(this._deleted)return new Tj(dx());{const d=Pj(e,this._appId,i,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const c1="@firebase/storage",u1="0.14.0";const xx="storage";function h1(r){return r=dn(r),eD(r)}function Wh(r){return r=dn(r),nD(r)}function Ac(r,e){return r=dn(r),aD(r,e)}function lD(r=eg(),e){r=dn(r);const i=yd(r,xx).getImmediate({identifier:e}),o=V1("storage");return o&&cD(i,...o),i}function cD(r,e,n,i={}){oD(r,e,n,i)}function uD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Wg(n,i,o,e,uo)}function hD(){so(new ya(xx,uD,"PUBLIC").setMultipleInstances(!0)),Vr(c1,u1,""),Vr(c1,u1,"esm2020")}hD();const Ex={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},$g=Zp(Ex),bc=kw($g),wt=$I($g),Rc=lD($g),dD=Zp(Ex,"secondary"),_3=kw(dD),fD="EYdciKDOi3UYBLk1u8hHams5tmO2",Tx=k.createContext();function Ra(){return k.useContext(Tx)}function mD({children:r}){const[e,n]=k.useState(null),[i,o]=k.useState(!1),[u,d]=k.useState(!1),[p,g]=k.useState(null),[y,w]=k.useState(!0);k.useEffect(()=>IR(bc,async ae=>{if(n(ae),ae)if(ae.uid===fD)o(!0),d(!1),g(null);else{o(!1);try{const ee=Wc(ga(wt,"clients"),ol("uid","==",ae.uid)),he=await $c(ee);if(he.empty)d(!1),g(null);else{const we=he.docs[0];d(!0),g({id:we.id,...we.data()})}}catch(ee){console.error("Error fetching client data:",ee),d(!1),g(null)}}else o(!1),d(!1),g(null);w(!1)}),[]);const G={currentUser:e,isAdmin:i,isClient:u,clientData:p,updateClientData:z=>{g(ae=>ae&&{...ae,...z})},login:async(z,ae,ee=!0)=>(await RR(bc,ee?vw:og),await AR(bc,z,ae)),logout:()=>jR(bc),resetPassword:z=>kR(bc,z),loading:y};return c.jsx(Tx.Provider,{value:G,children:r})}const Sx=k.createContext();function Tl(){return k.useContext(Sx)}function pD({children:r}){const[e,n]=k.useState(()=>{const g=localStorage.getItem("theme");return g?g==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),[i,o]=k.useState(()=>localStorage.getItem("accent")||"red");k.useEffect(()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("theme",e?"dark":"light")},[e]),k.useEffect(()=>{localStorage.setItem("accent",i)},[i]);const p={isDark:e,toggleTheme:()=>{document.documentElement.setAttribute("data-theme-transitioning",""),n(!e),setTimeout(()=>{document.documentElement.removeAttribute("data-theme-transitioning")},350)},accent:i,setAccent:g=>o(g)};return c.jsx(Sx.Provider,{value:p,children:r})}function gD(){const[r,e]=k.useState(""),[n,i]=k.useState(""),[o,u]=k.useState(!0),[d,p]=k.useState(""),[g,y]=k.useState(!1),[w,x]=k.useState(!1),[T,O]=k.useState(!1),{login:q,resetPassword:G,currentUser:z,isAdmin:ae,isClient:ee,clientData:he,loading:we}=Ra(),Ie=sr();if(k.useEffect(()=>{if(!we&&z){if(ae)Ie("/dashboard");else if(ee){const S=he?.clientType;Ie(S==="core_buddy"?"/client/core-buddy":S==="circuit_vip"||S==="circuit_dropin"?"/client/circuit":"/client")}}},[we,z,ae,ee,he,Ie]),we)return null;const Re=async S=>{S.preventDefault(),p(""),y(!0);try{await q(r,n,o)}catch(R){p(R.message||"Failed to log in"),y(!1)}},N=async S=>{if(S.preventDefault(),p(""),!r.trim()){p("Please enter your email address");return}y(!0);try{await G(r.trim()),O(!0)}catch(R){R.code==="auth/user-not-found"?p("No account found with this email"):p(R.message||"Failed to send reset email")}y(!1)};return c.jsx("div",{className:"login-container",children:c.jsxs("div",{className:"login-card",children:[c.jsxs("div",{className:"login-header",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"login-logo"}),c.jsx("p",{children:w?"Reset Password":"Client Portal"})]}),d&&c.jsx("div",{className:"error-message",children:d}),T?c.jsxs("div",{className:"reset-sent",children:[c.jsx("div",{className:"reset-sent-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M22 2L11 13",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("p",{children:"Reset email sent!"}),c.jsx("span",{children:"Check your inbox for a password reset link"}),c.jsx("button",{className:"login-btn",style:{marginTop:"20px"},onClick:()=>{x(!1),O(!1),p("")},children:"Back to Log In"})]}):w?c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),placeholder:"Enter your email",required:!0})]}),c.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Sending...":"Send Reset Link"}),c.jsx("button",{type:"button",className:"forgot-link",onClick:()=>{x(!1),p("")},children:"Back to Log In"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Re,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:n,onChange:S=>i(S.target.value),required:!0})]}),c.jsx("div",{className:"remember-me",children:c.jsxs("label",{children:[c.jsx("input",{type:"checkbox",checked:o,onChange:S=>u(S.target.checked)}),c.jsx("span",{children:"Remember me"})]})}),c.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Logging in...":"Log In"})]}),c.jsx("button",{type:"button",className:"forgot-link",onClick:()=>{x(!0),p("")},children:"Forgot password?"})]}),c.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function Sl({active:r}){const e=sr(),{clientData:n}=Ra(),i=n?.clientType==="block"&&n?.coreBuddyAccess;return c.jsxs("nav",{className:"block-bottom-nav",children:[c.jsxs("button",{className:`block-nav-tab${r==="home"?" active":""}`,onClick:()=>e("/client/core-buddy"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),c.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),c.jsx("span",{children:"Home"})]}),c.jsxs("button",{className:`block-nav-tab${r==="workouts"?" active":""}`,onClick:()=>e("/client/core-buddy/workouts"),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2.71 7 4.14 8.43 7.71 4.86 16.29 13.43 12.71 17 14.14 18.43 15.57 17 17 18.43 14.14 21.29l1.43 1.43 1.43-1.43 1.43 1.43 2.14-2.14 1.43 1.43L22 20.57z"})}),c.jsx("span",{children:"Workouts"})]}),c.jsxs("button",{className:`block-nav-tab${r==="nutrition"?" active":""}`,onClick:()=>e("/client/core-buddy/nutrition"),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"})}),c.jsx("span",{children:"Nutrition"})]}),c.jsxs("button",{className:`block-nav-tab${r==="progress"?" active":""}`,onClick:()=>e("/client/personal-bests?mode=corebuddy"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 20V10"}),c.jsx("path",{d:"M18 20V4"}),c.jsx("path",{d:"M6 20v-4"})]}),c.jsx("span",{children:"Progress"})]}),i&&c.jsxs("button",{className:"block-nav-tab",onClick:()=>e("/client"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),c.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),c.jsx("span",{children:"Block"})]})]})}function lu(r,e,n,i,o){const u=[];for(let d=0;d<r;d++){const p=(d*(360/r)-90)*(Math.PI/180);u.push({x1:e+i*Math.cos(p),y1:n+i*Math.sin(p),x2:e+o*Math.cos(p),y2:n+o*Math.sin(p),thick:d%5===0})}return u}const yD=lu(60,100,100,85,96),ua=lu(60,100,100,78,94),vD=lu(60,100,100,82,94);lu(60,50,50,38,46);const w3=lu(60,40,40,30,37),bD="/login/assets/workouts-DXJtvJtv.jpg",ep=[10,25,50,100,200,500,1e3],tp=5;function _D(r){return r.toISOString().split("T")[0]}function wD(r){let e=0;for(const n of ep){if(r<n)return{prev:e,next:n};e=n}return{prev:ep[ep.length-1],next:r+100}}const xD={fullbody_4wk:{duration:4,daysPerWeek:3},fullbody_8wk:{duration:8,daysPerWeek:3},fullbody_12wk:{duration:12,daysPerWeek:3},core_4wk:{duration:4,daysPerWeek:3},core_8wk:{duration:8,daysPerWeek:3},core_12wk:{duration:12,daysPerWeek:3},upper_4wk:{duration:4,daysPerWeek:3},lower_4wk:{duration:4,daysPerWeek:3}},ED={fullbody_4wk:["Push Focus","Pull Focus","Legs & Core"],fullbody_8wk:["Strength","Power","Endurance"],fullbody_12wk:["Upper Push","Lower Body","Upper Pull"],core_4wk:["Abs","Stability","Power Core"],core_8wk:["Anti-Extension","Rotation","Power"],core_12wk:["Strength","Endurance","Power"],upper_4wk:["Push","Pull","Mixed"],lower_4wk:["Quad Dominant","Hamstring & Glute","Power & Stability"]};function TD(){const{currentUser:r,isClient:e,clientData:n,logout:i,loading:o}=Ra(),{isDark:u,toggleTheme:d}=Tl(),p=sr(),[g,y]=k.useState({hours:0,minutes:0,seconds:0}),[w,x]=k.useState(0),[T,O]=k.useState(0),[q,G]=k.useState(""),[z,ae]=k.useState(0),[ee,he]=k.useState(0),[we,Ie]=k.useState(!1),[Re,N]=k.useState({protein:0,carbs:0,fats:0,calories:0}),[S,R]=k.useState(null),[I,D]=k.useState(0),[B,j]=k.useState(null),[Xe,ut]=k.useState(!1),[W,ge]=k.useState(!1),[Te,Ye]=k.useState(null);k.useCallback((ye,Pe="info")=>{Ye({message:ye,type:Pe}),setTimeout(()=>Ye(null),4e3)},[]),k.useEffect(()=>{!o&&!r&&p("/")},[o,r,p]),k.useEffect(()=>{const ye=()=>{const Le=new Date,ht=new Date(Le);ht.setHours(23,59,59,999);const Mt=ht-Le,Tt=Math.floor(Mt/(1e3*60*60)),qt=Math.floor(Mt%(1e3*60*60)/(1e3*60)),J=Math.floor(Mt%(1e3*60)/1e3);y({hours:Tt,minutes:qt,seconds:J}),x(60-J)};ye();const Pe=setInterval(ye,1e3);return()=>clearInterval(Pe)},[]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const Pe=_D(new Date),Le=await es(Ft(wt,"clientProgrammes",n.id));if(Le.exists()){const He=Le.data(),St=xD[He.templateId];if(ut(!0),St){const zn=He.completedSessions||{},jn=Object.keys(zn).length,Nt=St.duration*St.daysPerWeek;O(Nt>0?Math.round(jn/Nt*100):0);const Tn=He.templateId.replace(/_/g," ").replace(/\b\w/g,ie=>ie.toUpperCase());G(Tn);const nn=ED[He.templateId];let sn=!1;for(let ie=1;ie<=St.duration&&!sn;ie++)for(let pe=0;pe<St.daysPerWeek&&!sn;pe++)zn[`w${ie}d${pe}`]||(j({week:ie,dayIdx:pe,label:nn?.[pe]||`Day ${pe+1}`}),sn=!0);sn||ge(!0)}}const ht=ga(wt,"workoutLogs"),Mt=Wc(ht,ol("clientId","==",n.id)),qt=(await $c(Mt)).docs.filter(He=>He.data().type!=="programme").length;ae(qt);const J=ga(wt,"habitLogs"),Jt=Wc(J,ol("clientId","==",n.id),ol("date","==",Pe)),Ct=await $c(Jt);let dt=0;if(!Ct.empty){const He=Ct.docs[0].data().habits||{};dt=Object.values(He).filter(Boolean).length}he(Math.round(dt/tp*100)),D(dt);const ft=await es(Ft(wt,"nutritionTargets",n.id));ft.exists()&&R(ft.data());const et=await es(Ft(wt,"nutritionLogs",`${n.id}_${Pe}`));if(et.exists()){const St=(et.data().entries||[]).reduce((zn,jn)=>({protein:zn.protein+(jn.protein||0),carbs:zn.carbs+(jn.carbs||0),fats:zn.fats+(jn.fats||0),calories:zn.calories+(jn.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});N(St)}}catch(Pe){console.error("Error loading dashboard stats:",Pe)}finally{Ie(!0)}})()},[r,n]);const Ke=ye=>{const Pe=ye.currentTarget,Le=Pe.querySelector(".ripple");Le&&Le.remove();const ht=Pe.getBoundingClientRect(),Mt=Math.max(ht.width,ht.height),Tt=ye.clientX-ht.left-Mt/2,qt=ye.clientY-ht.top-Mt/2,J=document.createElement("span");J.className="ripple",J.style.cssText=`width:${Mt}px;height:${Mt}px;left:${Tt}px;top:${qt}px;`,Pe.appendChild(J),setTimeout(()=>J.remove(),600)};n?.name?.split(" ")[0];const{prev:P,next:H}=wD(z),de=H>P?Math.round((z-P)/(H-P)*100):100,ve=[{label:"Programme",value:`${T}%`,pct:T,color:"#14b8a6",size:"normal"},{label:"Workouts",value:`${z}`,pct:de,color:"var(--color-primary)",size:"large"},{label:"Habits Today",value:`${ee}%`,pct:ee,color:"#38B6FF",size:"normal"}],Se=ye=>!S||!S[ye]?0:Math.min(Math.round(Re[ye]/S[ye]*100),100),xe=we?Xe&&B&&!W?{message:`Week ${B.week}, Day ${B.dayIdx+1}`,sub:B.label,cta:"Continue Programme",action:()=>p("/client/core-buddy/programmes"),color:"#14b8a6"}:I<tp?{message:`${I}/${tp} habits done`,sub:I===0?"You haven't started today's habits":"Keep going!",cta:"Open Habits",action:()=>p("/client/core-buddy/consistency"),color:"#38B6FF"}:Re.calories===0?{message:"No meals logged today",sub:"Track your nutrition to stay on target",cta:"Log Meal",action:()=>p("/client/core-buddy/nutrition"),color:"#eab308"}:Xe?W?{message:"Programme complete!",sub:"Choose a new programme to keep progressing",cta:"Browse Programmes",action:()=>p("/client/core-buddy/workouts"),color:"var(--color-primary)"}:{message:"You're crushing it today",sub:"Habits done, meals logged  keep it up!",cta:null,color:"var(--color-primary)"}:{message:"No active programme",sub:"Start a programme to level up your training",cta:"Browse Programmes",action:()=>p("/client/core-buddy/workouts"),color:"var(--color-primary)"}:null;return c.jsxs("div",{className:"cb-dashboard","data-theme":u?"dark":"light",children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{onClick:d,"aria-label":"Toggle theme",children:u?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),c.jsx("button",{onClick:i,"aria-label":"Log out",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]})}),c.jsxs("main",{className:"cb-main",children:[xe&&c.jsxs("div",{className:"cb-nudge",children:[c.jsx("p",{className:"cb-nudge-msg",style:{color:xe.color},children:xe.message}),c.jsx("p",{className:"cb-nudge-sub",children:xe.sub}),xe.cta&&c.jsx("button",{className:"cb-nudge-cta",style:{background:xe.color},onClick:xe.action,children:xe.cta})]}),c.jsxs("div",{className:"cb-ring-container",children:[c.jsxs("div",{className:"cb-ring",children:[c.jsx("svg",{className:"cb-ring-svg",viewBox:"0 0 200 200",children:yD.map((ye,Pe)=>{const Le=Pe<w;return c.jsx("line",{x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,className:`ring-tick ${Le?"elapsed":"remaining"}`,strokeWidth:ye.thick?"3":"2"},Pe)})}),c.jsxs("div",{className:"cb-ring-center",children:[c.jsx("div",{className:"cb-ring-logo",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness"})}),c.jsxs("div",{className:"cb-ring-countdown",children:[c.jsx("span",{className:"cb-timer-digit",children:String(g.hours).padStart(2,"0")}),c.jsx("span",{className:"cb-timer-colon",children:":"}),c.jsx("span",{className:"cb-timer-digit",children:String(g.minutes).padStart(2,"0")}),c.jsx("span",{className:"cb-timer-colon",children:":"}),c.jsx("span",{className:"cb-timer-digit cb-timer-seconds",children:String(g.seconds).padStart(2,"0")})]}),c.jsx("div",{className:"cb-ring-label",children:"remaining today"})]})]}),c.jsxs("p",{className:"cb-ring-tagline",children:["You have 24 hours a day... ",c.jsx("strong",{children:"make it count"})," with Core Buddy"]})]}),c.jsx("div",{className:"cb-stats-row",children:ve.map(ye=>{const Pe=(ye.size==="large",38),Le=2*Math.PI*Pe,ht=Le-ye.pct/100*Le;return c.jsxs("div",{className:`cb-stat-item${ye.size==="large"?" cb-stat-large":""}`,children:[c.jsxs("div",{className:"cb-stat-ring",children:[c.jsxs("svg",{viewBox:"0 0 100 100",children:[c.jsx("circle",{className:"cb-stat-track",cx:"50",cy:"50",r:Pe}),c.jsx("circle",{className:"cb-stat-fill",cx:"50",cy:"50",r:Pe,style:{stroke:ye.color},strokeDasharray:Le,strokeDashoffset:ht})]}),c.jsx("span",{className:"cb-stat-value",style:{color:ye.color},children:ye.value})]}),c.jsx("span",{className:"cb-stat-label",children:ye.label})]},ye.label)})}),c.jsxs("div",{className:"cb-features",children:[c.jsxs("button",{className:"cb-feature-card cb-card-nutrition cb-card-has-preview ripple-btn",onClick:ye=>{Ke(ye),p("/client/core-buddy/nutrition")},children:[c.jsxs("div",{className:"cb-card-top-row",children:[c.jsx("div",{className:"cb-card-content",children:c.jsx("h3",{children:"Today's Nutrition"})}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsx("div",{className:"cb-card-preview-row",children:c.jsx("div",{className:"cb-mini-rings",children:[{label:"P",pct:Se("protein"),color:"#14b8a6"},{label:"C",pct:Se("carbs"),color:"var(--color-primary)"},{label:"F",pct:Se("fats"),color:"#eab308"},{label:"Cal",pct:Se("calories"),color:"#38B6FF"}].map(ye=>{const Le=2*Math.PI*38,ht=Le-ye.pct/100*Le;return c.jsxs("div",{className:"cb-mini-ring",children:[c.jsxs("svg",{viewBox:"0 0 100 100",children:[c.jsx("circle",{className:"cb-mini-track",cx:"50",cy:"50",r:38}),c.jsx("circle",{className:"cb-mini-fill",cx:"50",cy:"50",r:38,style:{stroke:ye.color},strokeDasharray:Le,strokeDashoffset:ht})]}),c.jsx("span",{style:{color:ye.color},children:ye.label})]},ye.label)})})}),c.jsx("p",{className:"cb-card-desc",children:"Track macros, scan barcodes, log water"})]}),c.jsx("button",{className:"cb-feature-card cb-card-workouts cb-card-thumbnail ripple-btn",onClick:ye=>{Ke(ye),p("/client/core-buddy/workouts")},children:c.jsx("img",{src:bD,alt:"Workouts",className:"cb-card-thumb-img"})}),c.jsxs("button",{className:"cb-feature-card cb-card-consistency ripple-btn",onClick:ye=>{Ke(ye),p("/client/core-buddy/consistency")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"Daily Habits"}),c.jsx("p",{children:"Check off your daily habits and build streaks"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsxs("button",{className:"cb-feature-card cb-card-progress ripple-btn",onClick:ye=>{Ke(ye),p("/client/personal-bests?mode=corebuddy")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"My Progress"}),c.jsx("p",{children:"Track personal bests and body metrics"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsxs("button",{className:"cb-feature-card cb-card-leaderboard ripple-btn",onClick:ye=>{Ke(ye),p("/client/leaderboard")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"Leaderboard"}),c.jsx("p",{children:"Compete with your Core Buddies"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]})]})]}),c.jsx(Sl,{active:"home"}),Te&&c.jsxs("div",{className:`toast-notification ${Te.type}`,children:[Te.type==="info"&&c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),Te.message]})]})}const np=new Map;function ia(){return new Date().toISOString().split("T")[0]}const SD=[{key:"breakfast",label:"Breakfast"},{key:"lunch",label:"Lunch"},{key:"dinner",label:"Dinner"},{key:"snacks",label:"Snacks"}],kD={breakfast:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),c.jsx("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),c.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),c.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),c.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),lunch:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}),dinner:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),snacks:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})};function AD(){const r=new Date().getHours();return r<11?"breakfast":r<14?"lunch":r<17?"snacks":"dinner"}function RD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Ra(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=sr(),[g,y]=k.useState("loading"),[w,x]=k.useState(null),[T,O]=k.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",dailyActivity:"sedentary",trainingFrequency:"moderate",goal:"maintain",deficitLevel:"moderate"}),[q,G]=k.useState(null),[z,ae]=k.useState(ia()),[ee,he]=k.useState({entries:[],water:0}),[we,Ie]=k.useState({protein:0,carbs:0,fats:0,calories:0}),[Re,N]=k.useState(!1),[S,R]=k.useState(!1),[I,D]=k.useState(()=>{const C=new Date;return{year:C.getFullYear(),month:C.getMonth()}}),[B,j]=k.useState(AD),[Xe,ut]=k.useState(null),[W,ge]=k.useState(null),[Te,Ye]=k.useState(!1),[Ke,P]=k.useState(null),[H,de]=k.useState(""),[ve,Se]=k.useState(!1),[xe,ye]=k.useState(""),[Pe,Le]=k.useState([]),[ht,Mt]=k.useState(!1),[Tt,qt]=k.useState({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""}),[J,Jt]=k.useState(null),[Ct,dt]=k.useState("100"),[ft,et]=k.useState(0),[He,St]=k.useState("weight"),[zn,jn]=k.useState(0),[Nt,Tn]=k.useState(null);k.useRef(null);const nn=k.useRef(!1),sn=k.useRef(null),ie=k.useRef(null),pe=k.useRef(null),_e=k.useCallback((C,U="info")=>{Tn({message:C,type:U}),setTimeout(()=>Tn(null),3e3)},[]);k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n?.id)return;(async()=>{try{const U=await es(Ft(wt,"nutritionTargets",n.id));U.exists()?(x(U.data()),y("dashboard")):y("setup")}catch(U){console.error("Error loading nutrition data:",U),y("setup")}})()},[n?.id]),k.useEffect(()=>{if(!n?.id)return;(async()=>{try{const U=await es(Ft(wt,"nutritionLogs",`${n.id}_${z}`));if(U.exists()){const re=U.data();he({entries:re.entries||[],water:re.water||0})}else he({entries:[],water:0})}catch(U){console.error("Error loading log:",U),he({entries:[],water:0})}})()},[n?.id,z]),k.useEffect(()=>{const C=ee.entries.reduce((U,re)=>({protein:U.protein+(re.protein||0),carbs:U.carbs+(re.carbs||0),fats:U.fats+(re.fats||0),calories:U.calories+(re.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});Ie(C)},[ee.entries]);const ze=async C=>{try{await Lr(Ft(wt,"nutritionLogs",`${n.id}_${z}`),{clientId:n.id,date:z,entries:C.entries,water:C.water,updatedAt:at.now()})}catch(U){console.error("Error saving nutrition log:",U)}},Ce=z===ia(),ke=(C,U)=>new Date(C,U+1,0).getDate(),Oe=(C,U)=>new Date(C,U,1).getDay(),Ve=["January","February","March","April","May","June","July","August","September","October","November","December"],Ge=["Su","Mo","Tu","We","Th","Fr","Sa"],gt=()=>{let C=parseFloat(T.weight);T.weightUnit==="lbs"&&(C*=.453592);let U;T.heightUnit==="cm"?U=parseFloat(T.height):U=(parseFloat(T.heightFeet)||0)*30.48+(parseFloat(T.heightInches)||0)*2.54;const re=parseInt(T.age);let oe=T.gender==="male"?10*C+6.25*U-5*re+5:10*C+6.25*U-5*re-161;const Ue=oe*{sedentary:1.2,light:1.3,moderate:1.4,active:1.5}[T.dailyActivity],qe={low:100,moderate:200,high:300,daily:400},Vt=Math.round(Ue+qe[T.trainingFrequency]);let it=Vt,V,te;switch(T.goal){case"lose":it=Vt*(1-{light:.15,moderate:.2,harsh:.25}[T.deficitLevel]),V=2.2,te=.3;break;case"build":it=Vt*1.1,V=2,te=.22;break;default:V=1.8,te=.25}it=Math.max(it,T.gender==="male"?1400:1100);const X=Math.round(C*V),me=Math.round(it*te/9),be=Math.max(0,Math.round((it-X*4-me*9)/4));G({calories:Math.round(it),protein:X,carbs:be,fats:me,bmr:Math.round(oe),neat:Math.round(Ue),exerciseAdd:qe[T.trainingFrequency],tdee:Math.round(Vt)})},Yt=async()=>{if(q)try{const C={clientId:n.id,calories:q.calories,protein:q.protein,carbs:q.carbs,fats:q.fats,waterGoal:8,goal:T.goal,updatedAt:at.now()};await Lr(Ft(wt,"nutritionTargets",n.id),C),x(C),y("dashboard"),_e("Macro targets saved!","success")}catch(C){console.error("Error saving targets:",C),_e("Failed to save targets. Please try again.","error")}},Lt=()=>{const C=T.weight&&parseFloat(T.weight)>0,U=T.age&&parseInt(T.age)>0,re=T.heightUnit==="cm"?T.height&&parseFloat(T.height)>0:T.heightFeet&&parseFloat(T.heightFeet)>0||T.heightInches&&parseFloat(T.heightInches)>0;return C&&U&&re},mn="nut_favourite_foods",vs=()=>{try{return JSON.parse(localStorage.getItem(mn)||"[]")}catch{return[]}},Ht=C=>vs().some(U=>U.name.toLowerCase()===(C||"").toLowerCase()),Fn=C=>{const U=vs(),re=U.findIndex(oe=>oe.name.toLowerCase()===C.name.toLowerCase());re>=0?U.splice(re,1):U.unshift({name:C.name,protein:C.protein,carbs:C.carbs,fats:C.fats,calories:C.calories,serving:C.serving,per100g:C.per100g||null,servingUnit:C.servingUnit||"g",portion:C.portion||null}),localStorage.setItem(mn,JSON.stringify(U)),jn(oe=>oe+1)},Dn=C=>{const U=[...ee.entries,{...C,meal:B,id:Date.now(),addedAt:new Date().toISOString()}],re={...ee,entries:U};he(re),ze(re),ge(null),Jt(null),dt("100"),et(0),St("weight"),qt({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""}),_e("Food added!","success")},ns=C=>{const U=ee.entries.filter(oe=>oe.id!==C),re={...ee,entries:U};he(re),ze(re)},rr=k.useRef(null),$r=async()=>{Ye(!0);const C=document.querySelector("#barcode-reader");if(!C){Ye(!1),_e("Scanner container not found.","error");return}if(!rr.current)try{const re=await Us(()=>import("./quagga.min-BbicSfvA.js").then(oe=>oe.q),[]);rr.current=re.default}catch(re){console.error("Failed to load barcode scanner:",re),Ye(!1),_e("Could not load scanner.","error");return}const U=rr.current;U.init({inputStream:{type:"LiveStream",target:C,constraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||2,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader"]},locate:!0},re=>{if(re){console.error("Quagga init error:",re),Ye(!1),_e("Could not access camera. Check permissions.","error");return}U.start(),nn.current=!0}),U.onDetected(re=>{const oe=re.codeResult.decodedCodes?.filter(Ue=>Ue.error!==void 0)?.map(Ue=>Ue.error)||[];if((oe.length>0?oe.reduce((Ue,qe)=>Ue+qe,0)/oe.length:1)<.15){const Ue=re.codeResult.code;U.offDetected(),P(Ue)}})},ss=()=>{const C=rr.current;nn.current&&C&&(C.stop(),C.offDetected(),nn.current=!1),Ye(!1)},zs=/\b(milk|semi.skimmed|skimmed|whole milk|oat milk|almond milk|soy milk|juice|smoothie|water|squash|cordial|cola|pepsi|fanta|lemonade|soda|beer|wine|cider|lager|spirit|whisky|vodka|rum|gin|brandy|cream|yoghurt drink|milkshake|coffee|tea|broth|stock|soup|sauce|ketchup|vinegar|oil|syrup|honey|custard|coconut water|kombucha|energy drink|protein shake)\b/i,Kr=C=>/ml|cl|\dl(?!b)|litre|liter|fl\s?oz/i.test((C||"").replace(/\s/g,"")),Fs=C=>{if(!C)return{value:100,unit:"g"};const U=C.toLowerCase().replace(/\s/g,""),re=U.match(/([\d.]+)/),oe=re?parseFloat(re[1]):100;return Kr(C)?/cl/.test(U)?{value:oe*10,unit:"ml"}:/(?:^|\d)l(?!i)/.test(U)&&!/ml/.test(U)?{value:oe*1e3,unit:"ml"}:{value:oe,unit:"ml"}:{value:oe,unit:"g"}},ki=C=>{if(Kr(C.serving_size)||Kr(C.quantity))return"ml";const U=C.product_name||C.product_name_en||"";return zs.test(U)?"ml":"g"},Er=[{pattern:/\b(toast|bread|loaf|brioche|bagel|pitta|wrap|tortilla|crumpet|muffin|waffle|pancake)\b/i,label:"slice",weight:36},{pattern:/\begg\b/i,label:"egg",weight:60},{pattern:/\b(biscuit|cookie|digestive|hobnob|rich tea|oreo)\b/i,label:"biscuit",weight:13},{pattern:/\b(sausage|banger)\b/i,label:"sausage",weight:57},{pattern:/\b(rasher|bacon)\b/i,label:"rasher",weight:25},{pattern:/\b(rice cake)\b/i,label:"cake",weight:9},{pattern:/\b(cracker|ryvita)\b/i,label:"cracker",weight:10}],ir=(C,U)=>{const re=C||"",oe=re.match(/\((\d+\.?\d*)\s*g\)/i),Fe=re.match(/(?:^|per\s+)(\d*\s*[a-z][a-z\s]*?)(?:\s*\(|\s*-\s*|\s*$)/i);if(oe&&Fe){const Vt=parseFloat(oe[1]);let it=Fe[1].replace(/^\d+\s*/,"").trim();if(it&&Vt>0)return{label:it,weight:Vt}}const Ue=re.match(/(\d+\.?\d*)\s*g\s*[\/=]\s*(\d*\s*[a-z][a-z\s]*)/i);if(Ue){const Vt=parseFloat(Ue[1]);let it=Ue[2].replace(/^\d+\s*/,"").trim();if(it&&Vt>0)return{label:it,weight:Vt}}const qe=U||"";for(const{pattern:Vt,label:it,weight:V}of Er)if(Vt.test(qe))return{label:it,weight:V};return null},us=C=>{const U=C.nutriments||{},re=ki(C),oe=Fs(C.serving_size),Fe=re==="ml"?oe.unit==="ml"?oe.value:100:oe.value,Ue=C.product_name||C.product_name_en||"Unknown Product",qe=ir(C.serving_size,Ue);return{name:Ue,brand:C.brands||"",image:C.image_small_url||C.image_url||null,servingSize:C.serving_size||"100g",servingValue:Fe,servingUnit:re,portion:qe,protein:Math.round(U.proteins_100g||U.proteins||0),carbs:Math.round(U.carbohydrates_100g||U.carbohydrates||0),fats:Math.round(U.fat_100g||U.fat||0),calories:Math.round(U["energy-kcal_100g"]||U["energy-kcal"]||(U.energy_100g?U.energy_100g/4.184:0)),per100g:!0}},Tr=async C=>{Se(!0);try{const U=`https://world.openfoodfacts.org/api/v2/product/${C}?fields=product_name,product_name_en,brands,image_small_url,image_url,serving_size,quantity,nutriments`,re=await fetch(U);if(!re.ok)throw new Error(`HTTP ${re.status}`);const oe=await re.json();if(oe.status==="success"||oe.status===1||oe.product){const Fe=us(oe.product);Fe.calories===0&&Fe.protein===0&&Fe.carbs===0?_e("Product found but no nutrition data available.","error"):(Jt(Fe),Fe.portion?(et(1),dt(String(Fe.portion.weight)),St("portion")):(et(0),dt(String(Fe.servingValue||100)),St("weight")),de(""))}else _e("Product not found. Try search or manual entry.","error")}catch(U){console.error("Barcode lookup error:",U),_e("Failed to look up product. Check your connection.","error")}Se(!1)},qn=(C,U,re)=>{const oe=C.toLowerCase().trim(),Fe=U.toLowerCase().trim(),Ue=re.toLowerCase().trim();let qe=0;return(oe===Ue||oe===Ue+"s"||oe+"s"===Ue)&&(qe+=100),(oe.endsWith(" "+Ue)||oe.endsWith(" "+Ue+"s"))&&(qe+=40),(oe.startsWith(Ue+" ")||oe.startsWith(Ue+"s "))&&(qe+=15),Ue.split(/\s+/).some(it=>Fe===it||Fe.startsWith(it))&&(qe+=30),qe+=Math.max(0,30-oe.length),qe},Hn=async()=>{if(!xe.trim())return;sn.current&&sn.current.abort();const C=new AbortController;sn.current=C;const U=xe.trim().toLowerCase(),re=U.split(/\s+/).filter(Boolean);if(np.has(U)){Le(np.get(U));return}Mt(!0);try{const Fe=`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(xe.trim())}&search_simple=1&action=process&json=1&page_size=10&lc=en&sort_by=unique_scans_n&fields=product_name,product_name_en,brands,image_small_url,image_url,serving_size,quantity,nutriments`,Ue=await fetch(Fe,{signal:C.signal});if(!Ue.ok)throw new Error(`HTTP ${Ue.status}`);const Vt=((await Ue.json()).products||[]).map(it=>us(it)).filter(it=>it.name!=="Unknown Product"&&(it.calories>0||it.protein>0)).filter(it=>{const V=(it.name+" "+it.brand).toLowerCase();return re.every(te=>V.includes(te))}).sort((it,V)=>qn(V.name,V.brand,U)-qn(it.name,it.brand,U)).slice(0,10);np.set(U,Vt),Le(Vt),Vt.length===0&&_e("No results found. Try a different search.","info")}catch(oe){if(oe.name==="AbortError")return;console.error("Search error:",oe),_e("Search failed. Check your connection.","error")}Mt(!1)};k.useEffect(()=>{if(ie.current&&clearTimeout(ie.current),!(!xe.trim()||W!=="search"||J))return ie.current=setTimeout(()=>{Hn()},700),()=>clearTimeout(ie.current)},[xe]);const rn=()=>{const C={...ee,water:ee.water+1};he(C),ze(C)},pn=()=>{if(ee.water<=0)return;const C={...ee,water:ee.water-1};he(C),ze(C)},bs={"ring-protein":"#14b8a6","ring-carbs":"var(--color-primary)","ring-fats":"#eab308","ring-cals":"rgba(150,150,150,0.55)"},Rs=80,Yr=2*Math.PI*Rs,hs=(C,U,re,oe,Fe)=>{const Ue=oe>0?Math.min(100,Math.round(re/oe*100)):0,qe=Yr-Ue/100*Yr,Vt=bs[Fe]||"#14b8a6";return c.jsxs("div",{className:"nut-ring-wrap",children:[c.jsxs("svg",{className:"nut-ring-svg",viewBox:"0 0 200 200",children:[c.jsx("circle",{className:"nut-arc-track",cx:"100",cy:"100",r:Rs}),c.jsx("circle",{className:"nut-arc-fill",cx:"100",cy:"100",r:Rs,style:{stroke:Vt},strokeDasharray:Yr,strokeDashoffset:qe})]}),c.jsxs("div",{className:"nut-ring-center",children:[c.jsx("span",{className:"nut-ring-value",style:{color:Vt},children:Math.round(re)}),c.jsxs("span",{className:"nut-ring-target",children:["/ ",oe,C==="Calories"?"":"g"]}),c.jsx("span",{className:"nut-ring-label",style:{color:Vt},children:U})]}),c.jsxs("span",{className:"nut-ring-pct",style:{color:Vt},children:[Ue,"%"]})]})};if(k.useEffect(()=>{if(!Ke)return;const C=setTimeout(()=>{const U=Ke;ss(),P(null),Tr(U)},1500);return()=>clearTimeout(C)},[Ke]),k.useEffect(()=>()=>{const C=rr.current;if(nn.current&&C){try{C.stop(),C.offDetected()}catch{}nn.current=!1}},[]),i||g==="loading")return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),c.jsx("div",{className:"nut-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})})]});if(g==="setup")return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"nut-main",children:[c.jsxs("div",{className:"nut-setup-intro",children:[c.jsx("h2",{children:"Set Your Daily Targets"}),c.jsx("p",{children:"Calculate your personalised macros based on your body and goals."})]}),c.jsxs("div",{className:"nut-calc-form",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Gender"}),c.jsxs("div",{className:"nut-toggle-group",children:[c.jsx("button",{className:T.gender==="male"?"active":"",onClick:()=>{O(C=>({...C,gender:"male"})),G(null)},children:"Male"}),c.jsx("button",{className:T.gender==="female"?"active":"",onClick:()=>{O(C=>({...C,gender:"female"})),G(null)},children:"Female"})]})]}),c.jsxs("div",{className:"nut-form-row",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Age"}),c.jsx("input",{type:"number",value:T.age,onChange:C=>{O(U=>({...U,age:C.target.value})),G(null)},placeholder:"Years",min:"15",max:"100"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Weight"}),c.jsxs("div",{className:"nut-input-unit",children:[c.jsx("input",{type:"number",value:T.weight,onChange:C=>{O(U=>({...U,weight:C.target.value})),G(null)},placeholder:T.weightUnit,min:"30",max:"300"}),c.jsxs("div",{className:"nut-unit-toggle",children:[c.jsx("button",{className:T.weightUnit==="kg"?"active":"",onClick:()=>{O(C=>({...C,weightUnit:"kg"})),G(null)},children:"kg"}),c.jsx("button",{className:T.weightUnit==="lbs"?"active":"",onClick:()=>{O(C=>({...C,weightUnit:"lbs"})),G(null)},children:"lbs"})]})]})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Height"}),c.jsxs("div",{className:"nut-input-unit",children:[T.heightUnit==="cm"?c.jsx("input",{type:"number",value:T.height,onChange:C=>{O(U=>({...U,height:C.target.value})),G(null)},placeholder:"cm",min:"100",max:"250"}):c.jsxs("div",{className:"nut-height-imperial",children:[c.jsx("input",{type:"number",value:T.heightFeet,onChange:C=>{O(U=>({...U,heightFeet:C.target.value})),G(null)},placeholder:"ft",min:"4",max:"7"}),c.jsx("input",{type:"number",value:T.heightInches,onChange:C=>{O(U=>({...U,heightInches:C.target.value})),G(null)},placeholder:"in",min:"0",max:"11"})]}),c.jsxs("div",{className:"nut-unit-toggle",children:[c.jsx("button",{className:T.heightUnit==="cm"?"active":"",onClick:()=>{O(C=>({...C,heightUnit:"cm"})),G(null)},children:"cm"}),c.jsx("button",{className:T.heightUnit==="ft"?"active":"",onClick:()=>{O(C=>({...C,heightUnit:"ft"})),G(null)},children:"ft/in"})]})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Daily Activity (outside of training)"}),c.jsxs("select",{value:T.dailyActivity,onChange:C=>{O(U=>({...U,dailyActivity:C.target.value})),G(null)},children:[c.jsx("option",{value:"sedentary",children:"Sedentary  desk job, under 5k steps"}),c.jsx("option",{value:"light",children:"Lightly Active  office + walking, 5-8k steps"}),c.jsx("option",{value:"moderate",children:"Moderately Active  on feet often, 8-12k steps"}),c.jsx("option",{value:"active",children:"Very Active  physical job, 12k+ steps"})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Training Sessions per Week"}),c.jsxs("select",{value:T.trainingFrequency,onChange:C=>{O(U=>({...U,trainingFrequency:C.target.value})),G(null)},children:[c.jsx("option",{value:"low",children:"1-2 sessions"}),c.jsx("option",{value:"moderate",children:"3-4 sessions"}),c.jsx("option",{value:"high",children:"5-6 sessions"}),c.jsx("option",{value:"daily",children:"7+ sessions"})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Fitness Goal"}),c.jsxs("div",{className:"nut-goal-options",children:[c.jsxs("button",{className:T.goal==="lose"?"active":"",onClick:()=>{O(C=>({...C,goal:"lose"})),G(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"-"}),c.jsx("span",{children:"Lose Weight"})]}),c.jsxs("button",{className:T.goal==="maintain"?"active":"",onClick:()=>{O(C=>({...C,goal:"maintain"})),G(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"="}),c.jsx("span",{children:"Maintain"})]}),c.jsxs("button",{className:T.goal==="build"?"active":"",onClick:()=>{O(C=>({...C,goal:"build"})),G(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"+"}),c.jsx("span",{children:"Build Muscle"})]})]})]}),T.goal==="lose"&&c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Deficit Level"}),c.jsxs("div",{className:"nut-deficit-options",children:[c.jsxs("button",{className:T.deficitLevel==="light"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"light"})),G(null)},children:[c.jsx("strong",{children:"Mild"}),c.jsx("span",{children:"15% below TDEE"})]}),c.jsxs("button",{className:T.deficitLevel==="moderate"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"moderate"})),G(null)},children:[c.jsx("strong",{children:"Moderate"}),c.jsx("span",{children:"20% below TDEE"})]}),c.jsxs("button",{className:T.deficitLevel==="harsh"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"harsh"})),G(null)},children:[c.jsx("strong",{children:"Aggressive"}),c.jsx("span",{children:"25% below TDEE"})]})]})]}),c.jsx("button",{className:"nut-calc-btn",onClick:gt,disabled:!Lt(),children:"Calculate Macros"})]}),q&&c.jsxs("div",{className:"nut-calc-results",children:[c.jsx("h3",{children:"Your Daily Targets"}),c.jsxs("div",{className:"nut-calc-rings",children:[hs("Protein","Protein",q.protein,q.protein,"ring-protein"),hs("Carbs","Carbs",q.carbs,q.carbs,"ring-carbs"),hs("Fats","Fats",q.fats,q.fats,"ring-fats"),hs("Calories","Calories",q.calories,q.calories,"ring-cals")]}),c.jsxs("div",{className:"nut-calc-info",children:[c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"BMR (body at rest)"}),c.jsxs("span",{children:[q.bmr," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"+ Daily activity (NEAT)"}),c.jsxs("span",{children:[q.neat," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"+ Training sessions"}),c.jsxs("span",{children:["+",q.exerciseAdd," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",style:{fontWeight:600},children:[c.jsx("span",{children:"TDEE (total burn)"}),c.jsxs("span",{children:[q.tdee," cal"]})]})]}),c.jsx("button",{className:"nut-save-targets-btn",onClick:Yt,children:"Set as My Daily Targets"})]})]}),Nt&&c.jsx("div",{className:`toast-notification ${Nt.type}`,children:Nt.message})]});const Ai=C=>{const U=new Date(C+"T12:00:00"),re=U.getDay(),oe=new Date(U);oe.setDate(U.getDate()-(re+6)%7);const Fe=[];for(let Ue=0;Ue<7;Ue++){const qe=new Date(oe);qe.setDate(oe.getDate()+Ue),Fe.push(qe.toISOString().split("T")[0])}return Fe},_s=["M","T","W","T","F","S","S"],Cs=(C,U="search")=>{j(C),U==="scan"?(ge("scan"),Jt(null)):U==="manual"?(ge("manual"),qt({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""})):U==="favourites"?ge("favourites"):(ge("search"),Le([]),ye(""))},ds=Ai(z),Mn=new Date(z+"T12:00:00"),Gn=`${Ve[Mn.getMonth()]} ${Mn.getFullYear()}`;return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"nut-dark-zone",children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{onClick:()=>{y("setup"),G(null)},"aria-label":"Recalculate macros",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"3"}),c.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]})}),c.jsxs("div",{className:"nut-dark-content",children:[c.jsxs("div",{className:"nut-week-strip",children:[c.jsxs("div",{className:"nut-week-header",children:[c.jsx("button",{className:"nut-week-arrow",onClick:()=>{const C=new Date(z+"T12:00:00");C.setDate(C.getDate()-7);const U=C.toISOString().split("T")[0];ae(U)},"aria-label":"Previous week",children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsx("button",{className:"nut-week-month-label",onClick:()=>{N(!Re),D({year:Mn.getFullYear(),month:Mn.getMonth()})},children:Gn}),c.jsx("button",{className:"nut-week-arrow",onClick:()=>{const C=new Date(z+"T12:00:00");C.setDate(C.getDate()+7);const U=C.toISOString().split("T")[0];U<=ia()&&ae(U)},"aria-label":"Next week",disabled:ds[6]>=ia(),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),c.jsx("div",{className:"nut-week-days",children:ds.map((C,U)=>{const re=new Date(C+"T12:00:00").getDate(),oe=C===z,Fe=C>ia(),Ue=C===ia();return c.jsxs("button",{className:`nut-week-day${oe?" selected":""}${Ue?" today":""}${Fe?" future":""}`,disabled:Fe,onClick:()=>ae(C),children:[c.jsx("span",{className:"nut-week-day-letter",children:_s[U]}),c.jsx("span",{className:"nut-week-day-num",children:re})]},C)})})]}),Re&&c.jsxs("div",{className:"nut-calendar nut-calendar-dark",children:[c.jsxs("div",{className:"nut-cal-header",children:[c.jsx("button",{onClick:()=>D(C=>{let U=C.month-1,re=C.year;return U<0&&(U=11,re--),{year:re,month:U}}),children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsxs("span",{children:[Ve[I.month]," ",I.year]}),c.jsx("button",{onClick:()=>D(C=>{let U=C.month+1,re=C.year;return U>11&&(U=0,re++),{year:re,month:U}}),disabled:I.year===new Date().getFullYear()&&I.month>=new Date().getMonth(),children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),c.jsx("div",{className:"nut-cal-days-header",children:Ge.map(C=>c.jsx("span",{children:C},C))}),c.jsxs("div",{className:"nut-cal-grid",children:[[...Array(Oe(I.year,I.month))].map((C,U)=>c.jsx("span",{},`e${U}`)),[...Array(ke(I.year,I.month))].map((C,U)=>{const re=U+1,oe=`${I.year}-${String(I.month+1).padStart(2,"0")}-${String(re).padStart(2,"0")}`,Fe=oe>ia(),Ue=oe===z,qe=oe===ia();return c.jsx("button",{className:`nut-cal-day${Ue?" selected":""}${qe?" today":""}${Fe?" future":""}`,disabled:Fe,onClick:()=>{ae(oe),N(!1)},children:re},re)})]})]}),c.jsxs("div",{className:"nut-rings-row",children:[hs("Protein","Protein",we.protein,w.protein,"ring-protein"),hs("Carbs","Carbs",we.carbs,w.carbs,"ring-carbs"),hs("Fats","Fats",we.fats,w.fats,"ring-fats"),hs("Calories","kCal",we.calories,w.calories,"ring-cals")]})]})]}),c.jsx("div",{className:"nut-light-zone",children:c.jsxs("div",{className:"nut-light-content",children:[Ce&&c.jsxs("button",{className:"nut-water-quick",onClick:()=>R(!0),children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",width:"18",height:"18",children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),c.jsxs("span",{className:"nut-water-quick-count",children:[ee.water," / ",w?.waterGoal||8]}),c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"14",height:"14",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})]}),c.jsx("div",{className:"nut-log-section",children:c.jsx("div",{className:"nut-meals-list",children:SD.map(C=>{const U=ee.entries.filter(oe=>(oe.meal||"snacks")===C.key),re=U.reduce((oe,Fe)=>({protein:oe.protein+(Fe.protein||0),carbs:oe.carbs+(Fe.carbs||0),fats:oe.fats+(Fe.fats||0),calories:oe.calories+(Fe.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});return c.jsxs("div",{className:"nut-meal-card",children:[c.jsxs("div",{className:"nut-meal-card-header",children:[c.jsx("span",{className:`nut-meal-card-icon nut-meal-icon-${C.key}`,children:kD[C.key]}),c.jsx("span",{className:"nut-meal-card-title",children:C.label}),U.length>0&&c.jsxs("span",{className:"nut-meal-card-cal",children:[re.calories," cal"]}),Ce&&c.jsxs("div",{className:"nut-add-wrapper",children:[c.jsx("button",{className:"nut-meal-add-btn",onClick:()=>ut(Xe===C.key?null:C.key),"aria-label":`Add to ${C.label}`,children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),Xe===C.key&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"nut-add-picker-backdrop",onClick:()=>ut(null)}),c.jsxs("div",{className:"nut-add-picker",children:[c.jsxs("button",{onClick:()=>{ut(null),Cs(C.key,"scan")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),c.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),c.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),c.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),c.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),c.jsx("span",{children:"Scan"})]}),c.jsxs("button",{onClick:()=>{ut(null),Cs(C.key,"search")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),c.jsx("span",{children:"Search"})]}),c.jsxs("button",{onClick:()=>{ut(null),Cs(C.key,"manual")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("span",{children:"Manual"})]}),c.jsxs("button",{onClick:()=>{ut(null),Cs(C.key,"favourites")},children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),c.jsx("span",{children:"Favs"})]})]})]})]})]}),U.length>0&&c.jsxs("div",{className:"nut-meal-bars",children:[c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-p",children:"P"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-protein",style:{width:`${Math.min(100,w.protein>0?re.protein/w.protein*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[re.protein,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-c",children:"C"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-carbs",style:{width:`${Math.min(100,w.carbs>0?re.carbs/w.carbs*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[re.carbs,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-f",children:"F"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-fats",style:{width:`${Math.min(100,w.fats>0?re.fats/w.fats*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[re.fats,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-cal",children:"K"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-cals",style:{width:`${Math.min(100,w.calories>0?re.calories/w.calories*100:0)}%`}})}),c.jsx("span",{className:"nut-meal-bar-val",children:re.calories})]})]}),U.length>0&&c.jsx("div",{className:"nut-log-list",children:U.map(oe=>c.jsxs("div",{className:"nut-log-item",children:[c.jsxs("div",{className:"nut-log-item-info",children:[c.jsx("span",{className:"nut-log-item-name",children:oe.name}),oe.serving&&c.jsx("span",{className:"nut-log-item-serving",children:oe.serving})]}),c.jsxs("div",{className:"nut-log-item-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[oe.protein,"p"]}),c.jsxs("span",{className:"nut-macro-c",children:[oe.carbs,"c"]}),c.jsxs("span",{className:"nut-macro-f",children:[oe.fats,"f"]}),c.jsx("span",{className:"nut-macro-cal",children:oe.calories})]}),Ce&&c.jsx("button",{className:"nut-log-delete",onClick:()=>ns(oe.id),"aria-label":"Remove",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},oe.id))}),U.length===0&&c.jsx("div",{className:"nut-meal-empty",children:c.jsx("p",{children:Ce?"Tap + to add food":"No entries"})})]},C.key)})})})]})}),S&&c.jsx("div",{className:"nut-modal-overlay",onClick:()=>R(!1),children:c.jsxs("div",{className:"nut-water-popup",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"nut-water-popup-header",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",width:"20",height:"20",style:{color:"#2196f3"},children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),c.jsx("span",{children:"Water Intake"}),c.jsx("button",{className:"nut-modal-close",onClick:()=>R(!1),children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c.jsxs("div",{className:"nut-water-popup-body",children:[c.jsx("div",{className:"nut-water-glasses",children:[...Array(w?.waterGoal||8)].map((C,U)=>c.jsx("div",{className:`nut-water-glass ${U<ee.water?"filled":""}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:U<ee.water?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})})},U))}),c.jsxs("div",{className:"nut-water-popup-count",children:[ee.water," / ",w?.waterGoal||8," glasses"]}),c.jsxs("div",{className:"nut-water-btns",children:[c.jsx("button",{onClick:pn,disabled:ee.water<=0,children:"-"}),c.jsx("button",{onClick:rn,children:"+"})]})]})]})}),W&&c.jsx("div",{className:"nut-modal-overlay",onClick:()=>{ss(),P(null),ge(null),Jt(null)},children:c.jsxs("div",{className:"nut-modal",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"nut-modal-header",children:[c.jsx("h3",{children:W==="scan"?"Scan Barcode":W==="search"?"Search Food":W==="favourites"?"Favourites":"Manual Entry"}),c.jsx("button",{className:"nut-modal-close",onClick:()=>{ss(),P(null),ge(null),Jt(null)},children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),W==="scan"&&!J&&c.jsxs("div",{className:"nut-scan-area",children:[c.jsxs("div",{className:"nut-scanner-wrapper",children:[c.jsx("div",{id:"barcode-reader",className:"nut-scanner-view"}),Te&&!Ke&&c.jsx("div",{className:"nut-scan-line"}),Ke&&c.jsxs("div",{className:"nut-scan-detected-overlay",children:[c.jsx("svg",{className:"nut-scan-detected-tick",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}),c.jsx("p",{className:"nut-scan-detected-label",children:"Barcode found!"}),c.jsx("p",{className:"nut-scan-detected-code",children:Ke})]})]}),!Te&&c.jsxs("button",{className:"nut-scan-start-btn",onClick:$r,children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),c.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),c.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),c.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),c.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),"Open Camera"]}),Te&&!Ke&&c.jsx("p",{className:"nut-scan-hint",children:"Align barcode within the frame"}),c.jsx("div",{className:"nut-barcode-divider",children:c.jsx("span",{children:"or enter barcode manually"})}),c.jsxs("div",{className:"nut-barcode-manual",children:[c.jsx("input",{type:"text",inputMode:"numeric",value:H,onChange:C=>de(C.target.value),onKeyDown:C=>C.key==="Enter"&&H.trim()&&Tr(H.trim()),placeholder:"Enter barcode number"}),c.jsx("button",{onClick:()=>H.trim()&&Tr(H.trim()),disabled:!H.trim()||ve,children:ve?"...":"Look Up"})]})]}),W==="scan"&&J&&(()=>{const C=J.servingUnit||"g",U=J.portion,re=He==="portion"&&U?ft*U.weight:parseFloat(Ct)||0,oe=re/100,Fe=C==="ml"?[100,200,250,500]:[50,100,150,200],Ue=He==="portion"&&U?`${ft} ${U.label}${ft!==1?"s":""} (${Math.round(re)}${C})`:`${Math.round(re)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[J.image&&c.jsx("img",{src:J.image,alt:J.name||"Product",className:"nut-product-img",loading:"lazy"}),c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:J.name}),c.jsx("button",{className:`nut-fav-star confirm${Ht(J.name)?" active":""}`,onClick:()=>Fn({name:J.name,protein:J.protein,carbs:J.carbs,fats:J.fats,calories:J.calories,serving:J.servingSize,per100g:{protein:J.protein,carbs:J.carbs,fats:J.fats,calories:J.calories},servingUnit:J.servingUnit||"g",portion:J.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ht(J.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),J.brand&&c.jsx("p",{className:"nut-product-brand",children:J.brand}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[J.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[J.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[J.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[J.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:He==="portion"?"active":"",onClick:()=>{St("portion"),ft<1&&et(1)},children:"Portions"}),c.jsxs("button",{className:He==="weight"?"active":"",onClick:()=>{St("weight"),dt(String(Math.round(re)||100))},children:["Custom (",C,")"]})]}),He==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>et(Math.max(1,ft-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:ft}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,ft!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(re),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>et(ft+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Ct,onChange:qe=>dt(qe.target.value),onFocus:qe=>qe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:Fe.map(qe=>c.jsxs("button",{className:`nut-quick-btn${Ct===String(qe)?" active":""}`,onClick:()=>dt(String(qe)),children:[qe,C]},qe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(J.protein*oe),"p / ",Math.round(J.carbs*oe),"c / ",Math.round(J.fats*oe),"f / ",Math.round(J.calories*oe)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>{Jt(null),ge("scan")},children:"Scan Again"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>Dn({name:J.name,protein:Math.round(J.protein*oe),carbs:Math.round(J.carbs*oe),fats:Math.round(J.fats*oe),calories:Math.round(J.calories*oe),serving:Ue}),children:"Add"})]})]})})(),W==="search"&&!J&&c.jsxs("div",{className:"nut-search-area",children:[c.jsxs("div",{className:"nut-search-bar",children:[c.jsx("input",{type:"text",ref:pe,value:xe,onChange:C=>ye(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(clearTimeout(ie.current),Hn())},onFocus:()=>setTimeout(()=>pe.current?.scrollIntoView({behavior:"smooth",block:"center"}),350),placeholder:"Search food or product...",autoFocus:!0}),c.jsx("button",{onClick:Hn,disabled:ht,children:ht?"...":"Search"})]}),c.jsxs("div",{className:"nut-search-results",children:[Pe.map((C,U)=>c.jsxs("button",{className:"nut-search-item",onClick:()=>{Jt(C),C.portion?(et(1),dt(String(C.portion.weight)),St("portion")):(et(0),dt(String(C.servingValue||100)),St("weight"))},children:[C.image&&c.jsx("img",{src:C.image,alt:C.name||"Product",loading:"lazy"}),c.jsxs("div",{className:"nut-search-item-info",children:[c.jsx("span",{className:"nut-search-item-name",children:C.name}),C.brand&&c.jsx("span",{className:"nut-search-item-brand",children:C.brand}),c.jsxs("span",{className:"nut-search-item-macros",children:[C.calories," cal  ",C.protein,"p  ",C.carbs,"c  ",C.fats,"f per 100",C.servingUnit||"g"]})]})]},U)),Pe.length===0&&xe&&!ht&&c.jsx("p",{className:"nut-search-empty",children:"No results found. Try a different search or use manual entry."})]})]}),W==="search"&&J&&(()=>{const C=J.servingUnit||"g",U=J.portion,re=He==="portion"&&U?ft*U.weight:parseFloat(Ct)||0,oe=re/100,Fe=C==="ml"?[100,200,250,500]:[50,100,150,200],Ue=He==="portion"&&U?`${ft} ${U.label}${ft!==1?"s":""} (${Math.round(re)}${C})`:`${Math.round(re)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[J.image&&c.jsx("img",{src:J.image,alt:J.name||"Product",className:"nut-product-img",loading:"lazy"}),c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:J.name}),c.jsx("button",{className:`nut-fav-star confirm${Ht(J.name)?" active":""}`,onClick:()=>Fn({name:J.name,protein:J.protein,carbs:J.carbs,fats:J.fats,calories:J.calories,serving:J.servingSize,per100g:{protein:J.protein,carbs:J.carbs,fats:J.fats,calories:J.calories},servingUnit:J.servingUnit||"g",portion:J.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ht(J.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),J.brand&&c.jsx("p",{className:"nut-product-brand",children:J.brand}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[J.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[J.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[J.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[J.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:He==="portion"?"active":"",onClick:()=>{St("portion"),ft<1&&et(1)},children:"Portions"}),c.jsxs("button",{className:He==="weight"?"active":"",onClick:()=>{St("weight"),dt(String(Math.round(re)||100))},children:["Custom (",C,")"]})]}),He==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>et(Math.max(1,ft-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:ft}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,ft!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(re),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>et(ft+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Ct,onChange:qe=>dt(qe.target.value),onFocus:qe=>qe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:Fe.map(qe=>c.jsxs("button",{className:`nut-quick-btn${Ct===String(qe)?" active":""}`,onClick:()=>dt(String(qe)),children:[qe,C]},qe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(J.protein*oe),"p / ",Math.round(J.carbs*oe),"c / ",Math.round(J.fats*oe),"f / ",Math.round(J.calories*oe)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>Jt(null),children:"Back to Search"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>Dn({name:J.name,protein:Math.round(J.protein*oe),carbs:Math.round(J.carbs*oe),fats:Math.round(J.fats*oe),calories:Math.round(J.calories*oe),serving:Ue}),children:"Add"})]})]})})(),W==="manual"&&c.jsxs("div",{className:"nut-manual-form",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Food Name"}),c.jsx("input",{type:"text",value:Tt.name,onChange:C=>qt(U=>({...U,name:C.target.value})),placeholder:"e.g. Chicken Breast",autoFocus:!0})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Serving Size (optional)"}),c.jsx("input",{type:"text",value:Tt.serving,onChange:C=>qt(U=>({...U,serving:C.target.value})),placeholder:"e.g. 150g, 1 cup"})]}),c.jsxs("div",{className:"nut-manual-macros",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Protein (g)"}),c.jsx("input",{type:"number",value:Tt.protein,onChange:C=>qt(U=>({...U,protein:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Carbs (g)"}),c.jsx("input",{type:"number",value:Tt.carbs,onChange:C=>qt(U=>({...U,carbs:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Fats (g)"}),c.jsx("input",{type:"number",value:Tt.fats,onChange:C=>qt(U=>({...U,fats:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Calories"}),c.jsx("input",{type:"number",value:Tt.calories,onChange:C=>qt(U=>({...U,calories:C.target.value})),min:"0"})]})]}),c.jsx("button",{className:"nut-btn-primary",disabled:!Tt.name.trim(),onClick:()=>Dn({name:Tt.name,protein:parseFloat(Tt.protein)||0,carbs:parseFloat(Tt.carbs)||0,fats:parseFloat(Tt.fats)||0,calories:parseFloat(Tt.calories)||0,serving:Tt.serving||""}),children:"Add Food"})]}),W==="favourites"&&!J&&(()=>{const C=vs(),U=re=>{if(re.per100g){const oe=re.per100g;Jt({name:re.name,brand:"",image:null,servingSize:re.serving||"100g",servingValue:100,servingUnit:re.servingUnit||"g",portion:re.portion||null,protein:oe.protein,carbs:oe.carbs,fats:oe.fats,calories:oe.calories,per100g:!0}),re.portion?(et(1),dt(String(re.portion.weight)),St("portion")):(et(0),dt("100"),St("weight"))}else Dn({name:re.name,protein:re.protein,carbs:re.carbs,fats:re.fats,calories:re.calories,serving:re.serving||""})};return c.jsx("div",{className:"nut-recent-area",children:C.length===0?c.jsx("p",{className:"nut-search-empty",children:"No favourites yet. Tap the star on any food to save it here."}):c.jsx("div",{className:"nut-recent-list",children:C.map((re,oe)=>c.jsxs("div",{className:"nut-recent-item-row",children:[c.jsx("button",{className:"nut-fav-star active",onClick:Fe=>{Fe.stopPropagation(),Fn(re)},children:c.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsxs("button",{className:"nut-recent-item",onClick:()=>U(re),children:[c.jsxs("div",{className:"nut-recent-item-info",children:[c.jsx("span",{className:"nut-recent-item-name",children:re.name}),c.jsx("span",{className:"nut-recent-item-serving",children:re.serving||""})]}),c.jsxs("span",{className:"nut-recent-item-macros",children:[re.calories," cal"]})]})]},oe))})})})(),W==="favourites"&&J&&(()=>{const C=J.servingUnit||"g",U=J.portion,re=He==="portion"&&U?ft*U.weight:parseFloat(Ct)||0,oe=re/100,Fe=C==="ml"?[100,200,250,500]:[50,100,150,200],Ue=He==="portion"&&U?`${ft} ${U.label}${ft!==1?"s":""} (${Math.round(re)}${C})`:`${Math.round(re)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:J.name}),c.jsx("button",{className:`nut-fav-star confirm${Ht(J.name)?" active":""}`,onClick:()=>Fn({name:J.name,protein:J.protein,carbs:J.carbs,fats:J.fats,calories:J.calories,serving:J.servingSize,per100g:{protein:J.protein,carbs:J.carbs,fats:J.fats,calories:J.calories},servingUnit:J.servingUnit||"g",portion:J.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ht(J.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[J.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[J.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[J.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[J.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:He==="portion"?"active":"",onClick:()=>{St("portion"),ft<1&&et(1)},children:"Portions"}),c.jsxs("button",{className:He==="weight"?"active":"",onClick:()=>{St("weight"),dt(String(Math.round(re)||100))},children:["Custom (",C,")"]})]}),He==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>et(Math.max(1,ft-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:ft}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,ft!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(re),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>et(ft+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Ct,onChange:qe=>dt(qe.target.value),onFocus:qe=>qe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:Fe.map(qe=>c.jsxs("button",{className:`nut-quick-btn${Ct===String(qe)?" active":""}`,onClick:()=>dt(String(qe)),children:[qe,C]},qe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(J.protein*oe),"p / ",Math.round(J.carbs*oe),"c / ",Math.round(J.fats*oe),"f / ",Math.round(J.calories*oe)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>Jt(null),children:"Back to Favourites"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>Dn({name:J.name,protein:Math.round(J.protein*oe),carbs:Math.round(J.carbs*oe),fats:Math.round(J.fats*oe),calories:Math.round(J.calories*oe),serving:Ue}),children:"Add"})]})]})})()]})}),c.jsx(Sl,{active:"nutrition"}),Nt&&c.jsx("div",{className:`toast-notification ${Nt.type}`,children:Nt.message})]})}const d1="/login/assets/randomiser-glq9YJkL.jpg",CD="/login/assets/programme-card-workout-CnNzTYkz.webp",ND="/login/assets/prog-fullbody-4wk-r6m9HJys.jpg",ID="/login/assets/mg-arms-BeOQU3wx.jpg",sp=60,rp=5,jD=[{threshold:1e3,label:"1 Tonne"},{threshold:5e3,label:"5 Tonne"},{threshold:1e4,label:"10 Tonne"},{threshold:25e3,label:"25 Tonne"},{threshold:5e4,label:"50 Tonne"},{threshold:1e5,label:"100 Tonne"},{threshold:25e4,label:"250 Tonne"},{threshold:5e5,label:"500 Tonne"},{threshold:1e6,label:"1 Million kg"}],DD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Squeeze Press":"push","Incline Dumbbell Press":"push","Dumbbell Fly":"push","Dumbbell Pullover":"push","Tricep Kickback":"push","Dumbbell Shrug":"push","Dumbbell Y-Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Wide Dumbbell Bent Over Row":"pull","Reverse Fly":"pull","Concentration Curl":"pull","Wide Grip Bicep Curl":"pull","Wrist Curl":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core","Kettlebell Bird Dog Drag":"core"},MD={fullbody_4wk:{duration:4,daysPerWeek:3},fullbody_8wk:{duration:8,daysPerWeek:3},fullbody_12wk:{duration:12,daysPerWeek:3},core_4wk:{duration:4,daysPerWeek:3},core_8wk:{duration:8,daysPerWeek:3},core_12wk:{duration:12,daysPerWeek:3},upper_4wk:{duration:4,daysPerWeek:3},lower_4wk:{duration:4,daysPerWeek:3}},PD={fullbody:"linear-gradient(160deg, rgba(153,49,60,0.15) 0%, rgba(153,49,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",core:"linear-gradient(160deg, rgba(30,80,120,0.2) 0%, rgba(30,80,120,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",upper:"linear-gradient(160deg, rgba(100,60,140,0.2) 0%, rgba(100,60,140,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",lower:"linear-gradient(160deg, rgba(40,120,80,0.2) 0%, rgba(40,120,80,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)"},ip={arms:"linear-gradient(160deg, rgba(180,60,60,0.2) 0%, rgba(180,60,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",chest:"linear-gradient(160deg, rgba(50,100,160,0.2) 0%, rgba(50,100,160,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",back:"linear-gradient(160deg, rgba(80,130,60,0.2) 0%, rgba(80,130,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",shoulders:"linear-gradient(160deg, rgba(160,100,40,0.2) 0%, rgba(160,100,40,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",legs:"linear-gradient(160deg, rgba(100,50,140,0.2) 0%, rgba(100,50,140,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",core:"linear-gradient(160deg, rgba(30,80,120,0.2) 0%, rgba(30,80,120,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)"},ap=[{id:"fullbody_4wk",name:"4-Week Full Body",focus:"fullbody",duration:4,level:"All Levels",daysPerWeek:3,image:ND},{id:"fullbody_8wk",name:"8-Week Full Body",focus:"fullbody",duration:8,level:"Intermediate",daysPerWeek:3},{id:"fullbody_12wk",name:"12-Week Full Body",focus:"fullbody",duration:12,level:"Advanced",daysPerWeek:3},{id:"core_4wk",name:"4-Week Core",focus:"core",duration:4,level:"Beginner",daysPerWeek:3},{id:"core_8wk",name:"8-Week Core",focus:"core",duration:8,level:"Intermediate",daysPerWeek:3},{id:"core_12wk",name:"12-Week Core",focus:"core",duration:12,level:"Advanced",daysPerWeek:3},{id:"upper_4wk",name:"4-Week Upper Body",focus:"upper",duration:4,level:"Intermediate",daysPerWeek:3},{id:"lower_4wk",name:"4-Week Lower Body",focus:"lower",duration:4,level:"Intermediate",daysPerWeek:3}],_c=[{key:"arms",label:"Arms",icon:"M7 5h2v14H7V5zm8 0h2v14h-2V5zm-5 4h4v6h-4V9z",image:ID},{key:"chest",label:"Chest",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-2h2v2zm4 0h-2v-2h2v2zm3-6c0 1.1-.36 2.12-.97 2.95l-.87-.87C16.7 12.53 17 11.8 17 11c0-2.76-2.24-5-5-5S7 8.24 7 11c0 .8.3 1.53.84 2.08l-.87.87A4.977 4.977 0 0 1 6 11c0-3.31 2.69-6 6-6s6 2.69 6 6z"},{key:"back",label:"Back",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm4 18H8v-6l-4-4 1.41-1.41L8 11.17V8h8v3.17l2.59-2.58L20 10l-4 4v6z"},{key:"shoulders",label:"Shoulders",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z"},{key:"legs",label:"Legs",icon:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"},{key:"core",label:"Core",icon:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"}],f1={chest:[{id:"chest_strength",name:"Chest Strength",desc:"Heavy pressing for max strength",level:"Intermediate",overview:"A heavy pressing session designed to build raw chest strength. Focus on controlled negatives and powerful pressing movements.",tips:["Go heavy  pick a weight where the last 2 reps are a real challenge","Control the negative (lowering phase) for 2-3 seconds","Keep your shoulder blades squeezed together throughout all pressing movements","Rest 90-120 seconds between sets to allow full recovery"],exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Dumbbell Squeeze Press",type:"weighted",sets:3,reps:10,storagePath:null},{name:"Incline Dumbbell Press",type:"weighted",sets:3,reps:10,storagePath:null},{name:"Dumbbell Pullover",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Dumbbell Fly",type:"weighted",sets:3,reps:12,storagePath:null}]},{id:"chest_hypertrophy",name:"Chest Hypertrophy",desc:"Volume training for muscle growth",level:"Intermediate",overview:"A high-volume chest session focused on time under tension and muscle growth. Lighter weights, more reps, and slow controlled movements.",tips:["Use moderate weight  you should feel the burn by rep 10","Squeeze your chest at the top of every rep for 1 second","Keep rest periods short at 60-90 seconds to keep the pump going","On press ups, go to failure on the final set"],exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Wide Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Dumbbell Fly",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Incline Dumbbell Press",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Press Up",type:"reps",sets:3,reps:20,storagePath:"exercises/bodyweight/upper/press up.mp4"}]},{id:"chest_endurance",name:"Chest Endurance",desc:"Bodyweight pushing to failure",level:"All Levels",overview:"No weights needed. This bodyweight-only session builds chest endurance and muscular stamina through high-rep push up variations.",tips:["Focus on full range of motion  chest to floor on every rep","Keep your core tight and body in a straight line throughout","Scale down to knee press ups if you can't maintain form","Push through the burn  the last 5 reps are where the growth happens"],exercises:[{name:"Press Up",type:"reps",sets:4,reps:20,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Wide Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Diamond Press Up",type:"reps",sets:3,reps:12,storagePath:null},{name:"Decline Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Press Up Hold",type:"timed",sets:3,time:30,storagePath:null}]}],back:[{id:"back_strength",name:"Back Strength",desc:"Heavy rows for a thick back",level:"Intermediate",overview:"Build a thick, powerful back with heavy rowing movements. This session targets your lats, rhomboids, and traps for overall back development.",tips:["Go heavy on rows  use a weight that challenges you by rep 6-8","Drive your elbows back and squeeze your shoulder blades together at the top","Keep a slight bend in your knees and hinge at the hips for bent over movements","Rest 90-120 seconds between sets for full recovery"],exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Pullover",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Dumbbell Shrug",type:"weighted",sets:3,reps:15,storagePath:null}]},{id:"back_hypertrophy",name:"Back Hypertrophy",desc:"Width and thickness volume work",level:"Intermediate",overview:"A volume-focused back session combining rows and isolation moves to build width and thickness. Focus on the mind-muscle connection.",tips:["Use moderate weight  feel the stretch and squeeze on every rep","On renegade rows, keep your hips square to the floor and avoid rotating","For reverse flys, use lighter weight and focus on squeezing your rear delts","Keep rest to 60-90 seconds to maintain intensity"],exercises:[{name:"Renegade Row",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/renegade row.mp4"},{name:"Wide Dumbbell Bent Over Row",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Reverse Fly",type:"weighted",sets:3,reps:15,storagePath:null},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:10,storagePath:null}]},{id:"back_endurance",name:"Back Endurance",desc:"Bodyweight back conditioning",level:"All Levels",overview:"A bodyweight session to strengthen your posterior chain and improve posture. Great for back health, mobility, and muscular endurance.",tips:["On superman holds, lift your arms and legs simultaneously and hold tight","Focus on slow, controlled movements  quality over speed","Breathe steadily throughout timed holds  don't hold your breath","Engage your glutes and lower back together on every movement"],exercises:[{name:"Superman Hold",type:"timed",sets:4,time:30,storagePath:"exercises/bodyweight/upper/Superman Hold.mp4"},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:12,storagePath:null},{name:"Reverse Snow Angel",type:"reps",sets:3,reps:12,storagePath:null},{name:"Bird Dog",type:"reps",sets:3,reps:12,storagePath:"exercises/bodyweight/core/Bird Dog.mp4"},{name:"Back Extension Hold",type:"timed",sets:3,time:30,storagePath:null}]}],shoulders:[{id:"shoulders_strength",name:"Shoulder Strength",desc:"Heavy pressing for boulder shoulders",level:"Intermediate",overview:"A heavy overhead pressing session to build strong, powerful shoulders. Compound movements first, followed by isolation work for all three delt heads.",tips:["Go heavy on presses  pick a weight where you struggle on the last 2 reps","Brace your core and avoid arching your back during overhead movements","Press straight up and control the weight down slowly","Rest 90-120 seconds between pressing sets, 60 seconds for isolation moves"],exercises:[{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Shrug",type:"weighted",sets:3,reps:15,storagePath:null}]},{id:"shoulders_hypertrophy",name:"Shoulder Hypertrophy",desc:"Volume and isolation for 3D delts",level:"Intermediate",overview:"A high-volume session targeting all three heads of the deltoid for that 3D capped shoulder look. Moderate weight, high reps, constant tension.",tips:["Use lighter weight than you think  shoulders respond best to high reps","On lateral raises, lead with your elbows and don't swing the weight","Pause at the top of each raise for a 1-second squeeze","Keep rest periods at 60 seconds to maximise the pump"],exercises:[{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:4,reps:15,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:15,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Y-Raise",type:"weighted",sets:3,reps:12,storagePath:null}]},{id:"shoulders_endurance",name:"Shoulder Endurance",desc:"Bodyweight and high-rep work",level:"All Levels",overview:"A shoulder endurance session combining bodyweight movements with high-rep dumbbell work. Builds stamina, stability, and shoulder resilience.",tips:["On pike push ups, walk your feet close to your hands to increase the angle","For high-rep lateral raises, use a very light weight and focus on form","Wall walks are advanced  scale to pike push ups if needed","Keep your core braced throughout to protect your lower back"],exercises:[{name:"Pike Push Ups",type:"reps",sets:4,reps:12,storagePath:"exercises/bodyweight/upper/pike push ups.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:3,reps:20,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Wall Walks",type:"reps",sets:3,reps:6,storagePath:null},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:10,storagePath:null},{name:"Shoulder Tap Hold",type:"timed",sets:3,time:30,storagePath:null}]}],arms:[{id:"arms_bicep",name:"Bicep Focus",desc:"Curl variations for peak biceps",level:"All Levels",overview:"An arm session dedicated entirely to biceps. Multiple curl variations target different parts of the bicep for maximum peak and thickness.",tips:["Keep your elbows pinned to your sides  no swinging","Control the negative (lowering) for 2-3 seconds on every rep","Start with your heaviest weight and decrease as you fatigue","Squeeze hard at the top of each curl for a full contraction"],exercises:[{name:"Bicep Curl",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Concentration Curl",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Wide Grip Bicep Curl",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Isometric Bicep Hold",type:"timed",sets:3,time:20,storagePath:null}]},{id:"arms_tricep",name:"Tricep Focus",desc:"Extensions and dips for horseshoe triceps",level:"All Levels",overview:"All-out tricep training with extensions, dips, and pressing movements. The triceps make up two-thirds of your arm  this session builds serious size.",tips:["On overhead extensions, keep your elbows close to your head","For skullcrushers, lower the weight slowly to just above your forehead","On dips, lean slightly forward to reduce shoulder strain","Full lockout at the top of every extension for maximum tricep contraction"],exercises:[{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Skullcrushers",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/skullcrushers.mp4"},{name:"Tricep Dips",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/upper/tricep dips.mp4"},{name:"Tricep Kickback",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Diamond Press Up",type:"reps",sets:3,reps:12,storagePath:null}]},{id:"arms_full",name:"Full Arms",desc:"Superset biceps and triceps",level:"All Levels",overview:"A balanced arm session alternating between biceps and triceps. Superset style keeps the intensity high and maximises the pump.",tips:["Superset each pair  do biceps then immediately hit triceps","Use moderate weight that lets you maintain strict form for all reps","Rest 60 seconds after each superset pair","Focus on the squeeze at the peak contraction of every rep"],exercises:[{name:"Bicep Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Tricep Kickback",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Hammer Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Wrist Curl",type:"weighted",sets:3,reps:15,storagePath:null}]}],legs:[{id:"legs_quad",name:"Quad Dominant",desc:"Squats and lunges for quad power",level:"All Levels",overview:"A quad-focused leg session built around squats and lunges. Heavy compound movements to build strong, powerful quads and overall leg strength.",tips:["On goblet squats, hold the dumbbell close to your chest and sit deep","Keep your knees tracking over your toes  don't let them cave inward","Drive through your heels on all squatting movements","Rest 90-120 seconds between heavy sets, 60 seconds on bodyweight moves"],exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.mp4"},{name:"Dumbbell Squat Pulses",type:"weighted",sets:3,reps:15,storagePath:"exercises/dumbbells/lower/dumbbell squat pulses.mp4"},{name:"Bulgarian Split Squats",type:"reps",sets:3,reps:12,storagePath:"exercises/bodyweight/lower/bulgarian split squats.mp4"},{name:"Squat And Hold",type:"timed",sets:3,time:30,storagePath:"exercises/bodyweight/lower/squat and hold.mp4"}]},{id:"legs_ham_glute",name:"Hamstring & Glute",desc:"Posterior chain focus",level:"Intermediate",overview:"Target the back of your legs with deadlift and hip hinge variations. This session builds a strong posterior chain  hamstrings, glutes, and lower back.",tips:["On RDLs, push your hips back and feel the stretch in your hamstrings","Keep a slight bend in your knees throughout hip hinge movements","Squeeze your glutes hard at the top of every rep","For single leg work, start with your weaker side first"],exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/lower/romanian deadlifts.mp4"},{name:"1 Legged RDL",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/lower/1 legged rdl.mp4"},{name:"Hip Thrusts",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/hip thrusts.mp4"},{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.mp4"},{name:"Donkey Kicks",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/donkey kicks.mp4"}]},{id:"legs_power",name:"Power & Plyo",desc:"Explosive leg training",level:"Intermediate",overview:"An explosive leg session combining plyometrics with weighted movements. Build power, speed, and athletic performance.",tips:["On jump squats, land softly with bent knees to absorb the impact","Explode up on every rep  power comes from speed, not just weight","Keep rest periods at 60-90 seconds to maintain intensity","Focus on landing mechanics  knees out, chest up, soft landing"],exercises:[{name:"Jump Squats",type:"reps",sets:4,reps:12,storagePath:"exercises/bodyweight/lower/jump squats.mp4"},{name:"Dumbbell Box Step Ups",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell box step ups.mp4"},{name:"Skater Jumps",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/skater jumps.mp4"},{name:"Dumbbell Reverse Lunges",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell reverse lunges.mp4"},{name:"Weighted Calf Raises",type:"weighted",sets:4,reps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.mp4"}]}],core:[{id:"core_lower_abs",name:"Lower Abs Blast",desc:"40s work / 20s rest  3 rounds",level:"Intermediate",overview:"An interval-based core burner targeting the lower abdominals. 40 seconds of work followed by 20 seconds of rest  keep the intensity high and your lower back pressed into the floor throughout.",tips:["Press your lower back firmly into the floor on every rep","Exhale hard as you contract your abs  don't hold your breath","If your lower back lifts off the ground, reduce the range of motion","Focus on slow, controlled movements rather than speed"],interval:!0,rounds:3,work:40,rest:20,exercises:[{name:"Leg Raises",storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Reverse Crunch To Leg Raise",storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Flutter Kicks",storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Dead Bug Single Leg Drop",storagePath:"exercises/bodyweight/core/Dead Bug Single Leg Drop.mp4"},{name:"Hollow Body Hold",storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"Hollow Hold Flutter Kicks",storagePath:"exercises/bodyweight/core/Hollow Hold Flutter Kicks.mp4"}]},{id:"core_obliques",name:"Obliques & Rotation",desc:"35s work / 25s rest  3 rounds",level:"Intermediate",overview:"Target the obliques and rotational core muscles with this interval session. 35 seconds of work with 25 seconds rest  every exercise involves twisting, rotating, or side-bracing movements.",tips:["Rotate from your ribcage, not just your arms","Keep your hips as still as possible during twisting exercises","Brace your core before each movement  think about squeezing a belt","On side planks, stack your hips and push the floor away"],interval:!0,rounds:3,work:35,rest:25,exercises:[{name:"Russian Twist",storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Side Plank Rotation",storagePath:"exercises/bodyweight/core/Side Plank Rotation.mp4"},{name:"Cross Body Mountain Climbers",storagePath:"exercises/bodyweight/core/Cross Body Mountain Climbers.mp4"},{name:"Hip Dips Plank",storagePath:"exercises/bodyweight/core/Hip Dips Plank.mp4"},{name:"Bicycle Crunch",storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Side Plank",storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{id:"core_weighted",name:"Weighted Core",desc:"40s work / 20s rest  3 rounds",level:"Advanced",overview:"Add resistance to your core training with dumbbells and kettlebells. 40 seconds of weighted work followed by 20 seconds rest  this session builds serious core strength and stability.",tips:["Start with a moderate weight  form is more important than load","Brace your entire core before picking up the weight each round","Keep movements controlled  no swinging or using momentum","If grip fails before core does, go slightly lighter next time"],interval:!0,rounds:3,work:40,rest:20,exercises:[{name:"Russian Twists Dumbbell",storagePath:"exercises/dumbbells/core/russian twists dumbbell.mp4"},{name:"Kettlebell Russian Twist",storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Kettlebell Side Bends",storagePath:"exercises/kettlebells/core/kettlebell side bends.mp4"},{name:"Kneeling Kettlebell Halo",storagePath:"exercises/kettlebells/core/kneeling kettlebell halo.mp4"},{name:"Kettlebell Bird Dog Drag",storagePath:"exercises/kettlebells/core/kettlebell bird dog drag.mp4"},{name:"Dumbbell Plank Pull Through",storagePath:null}]}]},m1=[{key:"bodyweight",label:"Bodyweight",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"},{key:"dumbbells",label:"Dumbbells",icon:"M6 5H3v14h3V5zm12 0h-3v14h3V5zm-9 3H7v8h2V8zm7 0h-2v8h2V8zm-5 0h-2v8h2V8z"},{key:"kettlebells",label:"Kettlebells",icon:"M12 2C9.24 2 7 4.24 7 7c0 1.1.36 2.12.97 2.95C6.76 11.08 6 12.96 6 15c0 3.87 2.69 7 6 7s6-3.13 6-7c0-2.04-.76-3.92-1.97-5.05.61-.83.97-1.85.97-2.95 0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}],op=[{key:"core",label:"Core",icon:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"},{key:"upper",label:"Upper",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z"},{key:"lower",label:"Lower",icon:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"},{key:"fullbody",label:"Full Body",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm-2 8h4l1 4h2l-1 4h-2l-1 4h-2l-1-4H8l-1-4h2l1-4z"},{key:"mix",label:"Mix It Up",icon:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm-.83 9.41l-1.42 1.42L17.96 20.54l1.42-1.42-5.71-5.71z"}],Qo=[{key:"beginner",label:"Beginner",work:30,rest:30,desc:"30s work / 30s rest"},{key:"intermediate",label:"Intermediate",work:40,rest:20,desc:"40s work / 20s rest"},{key:"advanced",label:"Advanced",work:40,rest:15,desc:"40s work / 15s rest"}],OD=[5,10,15,20,30];function LD(r){return r.replace(/\b\w/g,e=>e.toUpperCase())}function VD(r){const e=[...r];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e}function UD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Ra(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=sr(),[g,y]=k.useState("menu"),[w,x]=k.useState(["bodyweight"]),[T,O]=k.useState("core"),[q,G]=k.useState("intermediate"),[z,ae]=k.useState(15),[ee,he]=k.useState([]),[we,Ie]=k.useState(!1),Re=k.useRef(!1),N=k.useRef([]),[S,R]=k.useState([]),[I,D]=k.useState(2),[B,j]=k.useState(Qo[1]),[Xe,ut]=k.useState(1),[W,ge]=k.useState(0),[Te,Ye]=k.useState("work"),[Ke,P]=k.useState(0),[H,de]=k.useState(!1),[ve,Se]=k.useState(0),[xe,ye]=k.useState(null),Pe=k.useRef(null);k.useRef(null),k.useRef(null);const[Le,ht]=k.useState(null),Mt=k.useCallback((V,te="info")=>{ht({message:V,type:te}),setTimeout(()=>ht(null),3e3)},[]),[Tt,qt]=k.useState(null),[J,Jt]=k.useState(null),[Ct,dt]=k.useState(0),[ft,et]=k.useState(0),[He,St]=k.useState([]),[zn,jn]=k.useState(""),[Nt,Tn]=k.useState(""),[nn,sn]=k.useState(!1),[ie,pe]=k.useState(0),[_e,ze]=k.useState(!1),[Ce,ke]=k.useState({}),Oe=k.useRef(null),Ve=k.useRef(null),[Ge,gt]=k.useState([]),[Yt,Lt]=k.useState(null),[mn,vs]=k.useState(0),[Ht,Fn]=k.useState(0),[Dn,ns]=k.useState(0),[rr,$r]=k.useState(0),[ss,zs]=k.useState(0),[Kr,Fs]=k.useState(0),[ki,Er]=k.useState({beginner:0,intermediate:0,advanced:0}),[ir,us]=k.useState(null),[Tr,qn]=k.useState(""),[Hn,rn]=k.useState(!1);k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const te=ga(wt,"workoutLogs"),X=Wc(te,ol("clientId","==",n.id)),be=(await $c(X)).docs.map(Rt=>Rt.data()),je=be.filter(Rt=>Rt.type!=="programme");$r(je.length);const tt=je.reduce((Rt,un)=>Rt+(un.duration||0),0);zs(tt);const De={beginner:0,intermediate:0,advanced:0};je.forEach(Rt=>{Rt.level&&De[Rt.level]!==void 0&&De[Rt.level]++}),Er(De);const yt=new Date,an=yt.getDay(),It=an===0?-6:1-an,Zt=new Date(yt);Zt.setDate(yt.getDate()+It),Zt.setHours(0,0,0,0);const Ri=Zt.getTime(),Ca=be.filter(Rt=>{const un=Rt.completedAt;return un?(un.toDate?un.toDate().getTime():new Date(un).getTime())>=Ri:!1});vs(Ca.filter(Rt=>Rt.type!=="programme").length);let Ci=0;if(n)try{const Rt=await es(Ft(wt,"clientProgrammes",n.id));if(Rt.exists()){const un=Rt.data(),hn=un.templateId;Ci=Ca.filter(Wn=>Wn.type==="programme"&&Wn.programmeId===hn).length,us(hn);const or=ap.find(Wn=>Wn.id===hn);or&&qn(or.name);const lr=MD[hn];if(lr){const Wn=Object.keys(un.completedSessions||{}).length,rs=lr.duration*lr.daysPerWeek;ns(rs>0?Math.round(Wn/rs*100):0)}}else us(null),qn(""),ns(0)}catch{}Fn(Ci);const ar=je.map(Rt=>Rt.completedAt).filter(Boolean).map(Rt=>Rt.toDate?Rt.toDate().getTime():new Date(Rt).getTime()).sort((Rt,un)=>un-Rt);if(ar.length===0)Fs(0);else{const Rt=new Set;ar.forEach(rs=>{const Sr=new Date(rs),cr=Sr.getDay(),Ni=cr===0?-6:1-cr,fs=new Date(Sr);fs.setDate(Sr.getDate()+Ni),fs.setHours(0,0,0,0),Rt.add(fs.getTime())});const un=[...Rt].sort((rs,Sr)=>Sr-rs);let hn=0;const or=new Date(yt),lr=yt.getDay()===0?-6:1-yt.getDay();or.setDate(yt.getDate()+lr),or.setHours(0,0,0,0);let Wn=or.getTime();un.includes(Wn)||(Wn-=10080*60*1e3);for(let rs=0;rs<200&&un.includes(Wn);rs++)hn++,Wn-=10080*60*1e3;Fs(hn)}}catch(te){console.error("Error loading workout stats:",te)}finally{rn(!0)}})()},[r,n,g]);const pn=()=>{const V=[];let te;T==="mix"?te=["core","upper","lower"]:T==="fullbody"?te=["upper","lower"]:te=[T];for(const X of w)for(const me of te)V.push(`exercises/${X}/${me}`);return V},bs=async()=>{if(Re.current){for(;Re.current;)await new Promise(V=>setTimeout(V,200));return N.current}Re.current=!0,Ie(!0);try{const V=pn(),te=[];for(const je of V)try{const tt=Ac(Rc,je),De=await h1(tt);te.push(...De.items)}catch{console.warn(`Folder ${je} not found, skipping.`)}if(te.length===0&&w.includes("bodyweight")&&T==="core")try{const je=Ac(Rc,"core"),tt=await h1(je);te.push(...tt.items)}catch{console.warn("Legacy core/ folder not found either.")}if(te.length===0){const je=w.map(De=>m1.find(yt=>yt.key===De)?.label).join(" + "),tt=op.find(De=>De.key===T)?.label;return Mt(`No exercises found for ${je} / ${tt}. Upload videos to Firebase Storage.`,"error"),Re.current=!1,Ie(!1),[]}const X=new Set,me=te.filter(je=>{const tt=je.name.replace(/\.(mp4|gif)$/i,"");return X.has(tt)?!1:(X.add(tt),!0)}),be=await Promise.all(me.map(async je=>{const tt=await Wh(je),De=LD(je.name.replace(/\.(mp4|gif)$/i,"")),yt=/\.gif$/i.test(je.name);return{name:De,videoUrl:tt,isGif:yt}}));return N.current=be,he(be),Re.current=!1,Ie(!1),be}catch(V){console.error("Error loading exercises:",V);const te=V.code==="storage/unauthorized"?"Storage access denied. Check Firebase Storage rules allow read access.":`Failed to load exercises: ${V.message||V.code||"Unknown error"}`;return Mt(te,"error"),Re.current=!1,Ie(!1),[]}},Rs=async()=>{y("spinning"),N.current=[];const V=await bs();if(V.length===0){y("setup");return}const te=Qo.find(an=>an.key===q);j(te);const X=te.work+te.rest,me=z*60,be=Math.floor(me/X);let je,tt;be<=6?(je=Math.max(3,Math.floor(be/2)),tt=Math.floor(be/je)):be<=12?(je=Math.min(6,Math.floor(be/2)),tt=Math.floor(be/je)):(je=Math.min(10,Math.floor(be/2)),tt=Math.floor(be/je)),tt=Math.max(2,tt);const De=VD(V),yt=De.slice(0,Math.min(je,De.length));R(yt),D(tt),setTimeout(()=>y("preview"),2e3)},Yr=()=>{y("countdown"),Se(3)};k.useEffect(()=>{if(g!=="countdown")return;if(ve<=0){y("workout"),ut(1),ge(0),Ye("work"),P(B.work),de(!1),Ue();return}Fe();const V=setTimeout(()=>Se(te=>te-1),1e3);return()=>clearTimeout(V)},[ve,g]),k.useEffect(()=>{if(g!=="workout"||H)return;if(Ke<=0){hs();return}Ke<=3&&Fe();const V=setTimeout(()=>P(te=>te-1),1e3);return()=>clearTimeout(V)},[Ke,g,H]);const hs=()=>{if(Te==="work")Ye("rest"),P(B.rest);else{const V=W+1;if(V>=S.length){const te=Xe+1;if(te>I){y("complete"),Ai();return}ut(te),ge(0)}else ge(V);Ye("work"),P(B.work),Ue()}},Ai=async()=>{if(r)try{await Vp(ga(wt,"workoutLogs"),{clientId:n.id,level:q,duration:z,equipment:w,focus:T,exerciseCount:S.length,rounds:I,exercises:S.map(V=>V.name),completedAt:at.now()}),vs(V=>V+1),$r(V=>V+1),zs(V=>V+z),Er(V=>({...V,[q]:(V[q]||0)+1}))}catch(V){console.error("Error saving workout log:",V)}},_s=async(V,te,X)=>{if(!(!n||!te))try{const me=n.id,be=await es(Ft(wt,"coreBuddyPBs",me)),tt=(be.exists()?be.data():null)?.exercises||{},De=tt[V];let yt=!1;if(De?(te>(De.weight||0)||te===(De.weight||0)&&X>(De.reps||0))&&(yt=!0):yt=!0,yt){const an={...tt,[V]:{weight:te,reps:X,achievedAt:at.now()}};await Lr(Ft(wt,"coreBuddyPBs",me),{clientId:n.id,exercises:an,updatedAt:at.now()}),Mt(`New PB! ${te}kg  ${X} reps`,"success"),Fe(),await Cs(V,te)}}catch(me){console.error("Error checking PB:",me)}},Cs=async(V,te)=>{if(n)try{const X=await es(Ft(wt,"coreBuddyTargets",n.id));if(!X.exists())return;const be=(X.data().targets||{})[V];if(!be||te<be.targetWeight)return;const je=await es(Ft(wt,"coreBuddyAchievements",n.id)),tt=je.exists()?je.data():{clientId:n.id,badges:[],totalVolume:0};if(tt.badges.some(It=>It.type==="pb_target"&&It.exercise===V&&It.targetWeight===be.targetWeight))return;const yt={type:"pb_target",exercise:V,group:DD[V]||"push",targetWeight:be.targetWeight,achievedAt:at.now()},an=[...tt.badges,yt];await Lr(Ft(wt,"coreBuddyAchievements",n.id),{...tt,badges:an,updatedAt:at.now()}),gt(It=>[...It,yt])}catch(X){console.error("Error checking target badge:",X)}},ds=async V=>{if(!(!n||V<=0))try{const te=await es(Ft(wt,"coreBuddyAchievements",n.id)),X=te.exists()?te.data():{clientId:n.id,badges:[],totalVolume:0},me=X.totalVolume||0,be=me+V,je=[];jD.forEach(De=>{be>=De.threshold&&me<De.threshold&&(X.badges.some(an=>an.type==="volume_milestone"&&an.milestone===De.threshold)||je.push({type:"volume_milestone",milestone:De.threshold,label:De.label,achievedAt:at.now()}))});const tt=[...X.badges,...je];await Lr(Ft(wt,"coreBuddyAchievements",n.id),{clientId:n.id,badges:tt,totalVolume:Math.round(be),updatedAt:at.now()}),je.length>0&&gt(De=>[...De,...je])}catch(te){console.error("Error updating volume:",te)}},Mn=async V=>{if(Jt(V),V.interval){const me=[];for(const be of V.exercises){let je=null,tt=!1;if(be.storagePath)try{const De=Ac(Rc,be.storagePath);je=await Wh(De),tt=/\.gif$/i.test(be.storagePath)}catch{}me.push({name:be.name,videoUrl:je,isGif:tt})}R(me),D(V.rounds),j({work:V.work,rest:V.rest}),y("preview");return}const te={};for(const me of V.exercises)if(me.storagePath)try{const be=Ac(Rc,me.storagePath);te[me.name]={url:await Wh(be),isGif:/\.gif$/i.test(me.storagePath)}}catch{}ke(te);const X=V.exercises.map(me=>({name:me.name,type:me.type,targetSets:me.sets,targetReps:me.reps||0,targetTime:me.time||0,sets:[]}));St(X),dt(0),et(0),jn(""),Tn(""),ze(!1),sn(!1),pe(0),gt([]),Lt(null),y("muscle_workout")},Gn=()=>{const V=Oe.current;V&&(V.paused?(V.play(),ze(!0)):(V.pause(),ze(!1)))};k.useEffect(()=>{if(g!=="muscle_workout"||!nn||ie<=0){g==="muscle_workout"&&nn&&ie<=0&&(sn(!1),Fe());return}return Ve.current=setTimeout(()=>pe(V=>V-1),1e3),()=>clearTimeout(Ve.current)},[g,nn,ie]);const C=async()=>{const V=He[Ct];let te={};if(V.type==="weighted"){const be=parseFloat(zn)||0,je=parseInt(Nt)||0;if(je===0){Mt("Enter your reps","error");return}te={weight:be,reps:je}}else if(V.type==="reps"){const be=parseInt(Nt)||0;if(be===0){Mt("Enter your reps","error");return}te={reps:be}}else if(V.type==="timed"){const be=V.targetTime-ie;te={time:Math.max(be,1)}}const X=[...He];X[Ct]={...V,sets:[...V.sets,te]},St(X),V.type==="weighted"&&te.weight>0&&await _s(V.name,te.weight,te.reps);const me=V.sets.length+1;if(me<V.targetSets)et(me),Tn(""),sn(!1),pe(0);else if(Ct+1<He.length){const be=Ct+1;dt(be),et(0),jn(""),Tn(""),ze(!1),sn(!1),pe(0)}else await U(X),y("muscle_complete")},U=async V=>{if(!(!r||!n))try{const te=V.reduce((me,be)=>me+be.sets.reduce((je,tt)=>je+(tt.weight||0)*(tt.reps||0),0),0),X=V.reduce((me,be)=>me+be.sets.length,0);await Vp(ga(wt,"workoutLogs"),{clientId:n.id,type:"muscle_group",muscleGroup:Tt,sessionId:J?.id,sessionName:J?.name,exerciseCount:V.length,totalSets:X,duration:Math.round(X*1.5),volume:Math.round(te),exercises:V.map(me=>({name:me.name,type:me.type,sets:me.sets})),completedAt:at.now()}),te>0&&await ds(te),Ge.length>0&&Lt({badges:[...Ge]})}catch(te){console.error("Error saving muscle group workout log:",te)}},re=k.useRef(null),oe=()=>(re.current||(re.current=new(window.AudioContext||window.webkitAudioContext)),re.current),Fe=()=>{try{const V=oe(),te=V.createOscillator(),X=V.createGain();te.connect(X),X.connect(V.destination),te.frequency.value=880,X.gain.value=.3,te.start(V.currentTime),te.stop(V.currentTime+.15)}catch{}},Ue=()=>{try{const V=oe(),te=V.createOscillator(),X=V.createGain();te.connect(X),X.connect(V.destination),te.frequency.value=1200,X.gain.value=.4,te.start(V.currentTime),te.stop(V.currentTime+.3)}catch{}};k.useEffect(()=>{if(g!=="workout"||Te!=="work"||!S[W]?.isGif)return;const te=setInterval(()=>{const X=Pe.current;if(!X)return;const me=X.getAttribute("src");X.removeAttribute("src"),setTimeout(()=>{Pe.current&&Pe.current.setAttribute("src",me)},0)},4e3);return()=>clearInterval(te)},[g,Te,W,Xe,S]);const qe=(V,te,X)=>{const me=Math.round(V/te*sp);return c.jsx("svg",{className:"wk-ring-svg",viewBox:"0 0 200 200",children:vD.map((be,je)=>c.jsx("line",{x1:be.x1,y1:be.y1,x2:be.x2,y2:be.y2,className:je<me?`wk-tick-filled ${X}`:"wk-tick-empty",strokeWidth:be.thick?"3":"2"},je))})},Vt=()=>{const V=S.length*I;return((Xe-1)*S.length+W+(Te==="rest"?.5:0))/V},it=Le&&c.jsx("div",{className:`toast-notification ${Le.type}`,children:Le.message});if(i)return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),c.jsx("div",{className:"wk-loading-inline",children:c.jsx("div",{className:"wk-loading-spinner"})})]});if(g==="menu")return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[Hn?ir?c.jsxs("button",{className:"wk-active-prog",onClick:()=>p("/client/core-buddy/programmes"),children:[c.jsxs("div",{className:"wk-active-prog-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:ua.map((V,te)=>{const X=Math.round(Dn/100*sp);return c.jsx("line",{x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,className:te<X?"wk-ap-tick-filled":"wk-ap-tick-empty",strokeWidth:V.thick?"3":"2"},te)})}),c.jsxs("span",{className:"wk-ap-pct",children:[Dn,"%"]})]}),c.jsxs("div",{className:"wk-active-prog-info",children:[c.jsx("span",{className:"wk-ap-label",children:"CURRENT PROGRAMME"}),c.jsx("span",{className:"wk-ap-name",children:Tr}),c.jsx("span",{className:"wk-ap-cta",children:"Continue "})]})]}):null:c.jsx("div",{className:"wk-active-prog-placeholder"}),c.jsxs("div",{className:"wk-menu-heading",children:[c.jsx("h2",{children:"Choose Your Workout"}),c.jsx("p",{children:"No excuses. Just results."})]}),c.jsx("button",{className:"wk-hero-card",onClick:()=>y("setup"),children:c.jsx("img",{src:d1,alt:"Randomise Workout",className:"wk-hero-bg"})}),c.jsxs("div",{className:"wk-section-header",children:[c.jsx("h2",{children:"Programmes"}),c.jsxs("span",{className:"wk-section-count",children:[ap.length," available"]})]}),c.jsx("div",{className:"wk-prog-scroll-wrap",children:c.jsx("div",{className:"wk-prog-scroll",children:ap.map((V,te)=>V.image?c.jsxs("button",{className:"wk-prog-img-card",onClick:()=>p("/client/core-buddy/programmes",{state:{templateId:V.id}}),style:{animationDelay:`${te*.06}s`},children:[c.jsx("img",{src:V.image,alt:V.name,className:"wk-prog-img"}),te===0&&c.jsx("div",{className:"wk-swipe-arrow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},V.id):c.jsxs("button",{className:"wk-prog-hero-card",onClick:()=>p("/client/core-buddy/programmes",{state:{templateId:V.id}}),style:{animationDelay:`${te*.06}s`},children:[c.jsx("img",{src:CD,alt:"Programme",className:"wk-prog-hero-bg",loading:"lazy"}),c.jsx("div",{className:"wk-prog-hero-overlay",style:{background:PD[V.focus]}}),c.jsxs("div",{className:"wk-prog-hero-content",children:[c.jsxs("div",{className:"wk-prog-hero-top",children:[c.jsxs("span",{className:"wk-prog-hero-badge",children:[V.duration," WEEKS"]}),c.jsx("span",{className:"wk-prog-hero-level",children:V.level})]}),c.jsxs("div",{className:"wk-prog-hero-bottom",children:[c.jsx("h3",{children:V.name.toUpperCase()}),c.jsxs("p",{children:[V.daysPerWeek,"x per week  ",V.focus==="fullbody"?"Full Body":V.focus.charAt(0).toUpperCase()+V.focus.slice(1)," Focus"]}),c.jsx("span",{className:"wk-prog-hero-go",children:"VIEW PROGRAMME "})]})]}),te===0&&c.jsx("div",{className:"wk-swipe-arrow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},V.id))})}),c.jsxs("div",{className:"wk-section-header",children:[c.jsx("h2",{children:"Muscle Groups"}),c.jsxs("span",{className:"wk-section-count",children:[_c.length," groups"]})]}),c.jsx("div",{className:"wk-muscle-grid",children:_c.map((V,te)=>c.jsx("button",{className:`wk-muscle-hero-card${V.image?" wk-muscle-thumb":""}`,onClick:()=>{qt(V.key),y("muscle_sessions")},style:{animationDelay:`${te*.05}s`},children:V.image?c.jsx("img",{src:V.image,alt:V.label,className:"wk-muscle-thumb-img"}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:d1,alt:"Muscle group",className:"wk-muscle-hero-bg",loading:"lazy"}),c.jsx("div",{className:"wk-muscle-hero-overlay",style:{background:ip[V.key]}}),c.jsxs("div",{className:"wk-muscle-hero-content",children:[c.jsx("div",{className:"wk-muscle-hero-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:V.icon})})}),c.jsxs("div",{className:"wk-muscle-hero-text",children:[c.jsx("span",{className:"wk-muscle-hero-name",children:V.label}),c.jsxs("span",{className:"wk-muscle-hero-count",children:[f1[V.key]?.length||0," sessions"]})]})]})]})},V.key))})]}),c.jsx(Sl,{active:"workouts"}),it]});if(g==="setup"){const V=op.find(X=>X.key===T)?.label||T,te=Qo.find(X=>X.key===q)?.label||q;return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("menu"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main wk-setup-main",children:[c.jsxs("div",{className:"wk-stats-strip",children:[c.jsxs("div",{className:"wk-stats-strip-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:ua.map((X,me)=>{const be=Math.round(Math.min(mn,rp)/rp*sp);return c.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,className:me<be?"wk-stats-tick-filled":"wk-stats-tick-empty",strokeWidth:X.thick?"3":"2"},me)})}),c.jsxs("span",{className:"wk-stats-strip-ring-num",children:[mn,c.jsxs("small",{children:["/",rp]})]})]}),c.jsxs("div",{className:"wk-stats-strip-items",children:[c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:rr}),c.jsx("span",{className:"wk-stats-strip-label",children:"Workouts"})]}),c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:ss}),c.jsx("span",{className:"wk-stats-strip-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:Kr}),c.jsx("span",{className:"wk-stats-strip-label",children:"Wk Streak"})]})]})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Focus Area"}),c.jsx("div",{className:"wk-focus-grid",children:op.map(X=>c.jsxs("button",{className:`wk-equip-btn${T===X.key?" active":""}${X.key==="mix"?" wk-mix-btn":""}`,onClick:()=>O(X.key),children:[c.jsx("svg",{className:"wk-equip-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:X.icon})}),c.jsx("span",{children:X.label})]},X.key))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Level"}),c.jsx("div",{className:"wk-level-cards",children:Qo.map(X=>c.jsxs("button",{className:`wk-level-card wk-level-${X.key}${q===X.key?" active":""}`,onClick:()=>G(X.key),children:[c.jsx("span",{className:"wk-level-name",children:X.label}),c.jsx("span",{className:"wk-level-desc",children:X.desc})]},X.key))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Time"}),c.jsx("div",{className:"wk-time-options",children:OD.map(X=>c.jsxs("button",{className:`wk-time-btn${z===X?" active":""}`,onClick:()=>ae(X),children:[c.jsx("span",{className:"wk-time-num",children:X}),c.jsx("span",{className:"wk-time-unit",children:"min"})]},X))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Equipment"}),c.jsx("div",{className:"wk-equip-options",children:m1.map(X=>{const me=w.includes(X.key);return c.jsxs("button",{className:`wk-equip-btn${me?" active":""}`,onClick:()=>{x(be=>me&&be.length===1?be:me?be.filter(je=>je!==X.key):[...be,X.key])},children:[c.jsx("svg",{className:"wk-equip-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:X.icon})}),c.jsx("span",{children:X.label})]},X.key)})})]}),c.jsx("div",{className:"wk-setup-summary",children:c.jsxs("span",{children:[V,"  ",te,"  ",z," min"]})})]}),c.jsx("div",{className:"wk-go-sticky",children:c.jsx("button",{className:"wk-randomise-btn",onClick:Rs,disabled:we,children:we?"Loading exercises...":"Randomise Workout"})}),it]})}if(g==="spinning")return c.jsxs("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"wk-spin-container",children:[c.jsxs("div",{className:"wk-spin-ring",children:[c.jsx("svg",{className:"wk-spin-svg",viewBox:"0 0 200 200",children:ua.map((V,te)=>c.jsx("line",{x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,className:"wk-spin-tick",strokeWidth:V.thick?"3.5":"2",style:{animationDelay:`${te*.03}s`}},te))}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"wk-spin-logo",width:"50",height:"50"})]}),c.jsx("p",{className:"wk-spin-text",children:"Generating workout..."})]}),it]});if(g==="preview"){const V=J?.interval?{work:J.work,rest:J.rest}:Qo.find(X=>X.key===q),te=S.length*I*(V.work+V.rest);return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y(J?.interval?"muscle_sessions":"setup"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[J?.interval&&c.jsx("h2",{className:"mg-preview-title",children:J.name}),c.jsxs("div",{className:"wk-preview-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:S.length}),c.jsx("span",{className:"wk-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:I}),c.jsx("span",{className:"wk-stat-label",children:"Rounds"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.ceil(te/60)}),c.jsx("span",{className:"wk-stat-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsxs("span",{className:"wk-stat-val",children:[V.work,"/",V.rest]}),c.jsx("span",{className:"wk-stat-label",children:"Work/Rest"})]})]}),c.jsx("div",{className:"wk-preview-list",children:S.map((X,me)=>c.jsxs("div",{className:"wk-preview-item",style:{animationDelay:`${me*.06}s`},onClick:()=>ye(X),children:[c.jsx("span",{className:"wk-preview-num",children:me+1}),c.jsx("div",{className:"wk-preview-thumb",children:X.isGif?c.jsx("img",{src:X.videoUrl,alt:X.name,loading:"lazy"}):c.jsx("video",{src:`${X.videoUrl}#t=0.1`,muted:!0,playsInline:!0,preload:"auto"})}),c.jsx("span",{className:"wk-preview-name",children:X.name}),c.jsx("svg",{className:"wk-preview-play",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})]},me))}),xe&&c.jsx("div",{className:"wk-preview-modal-backdrop",onClick:()=>ye(null),children:c.jsxs("div",{className:"wk-preview-modal",onClick:X=>X.stopPropagation(),children:[c.jsx("button",{className:"wk-preview-modal-close",onClick:()=>ye(null),"aria-label":"Close preview",children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),c.jsx("div",{className:"wk-preview-modal-video",children:xe.isGif?c.jsx("img",{src:xe.videoUrl,alt:xe.name}):c.jsx("video",{src:xe.videoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}),c.jsx("h3",{className:"wk-preview-modal-title",children:xe.name})]})}),c.jsxs("div",{className:"wk-preview-actions",children:[!J?.interval&&c.jsxs("button",{className:"wk-btn-secondary",onClick:()=>Rs(),children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("polyline",{points:"1 4 1 10 7 10"}),c.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),"Reshuffle"]}),c.jsx("button",{className:"wk-btn-primary",onClick:Yr,children:"Start Workout"})]})]})]})}if(g==="countdown")return c.jsx("div",{className:"wk-page wk-page-center wk-page-dark","data-theme":o?"dark":"light","data-accent":d,children:c.jsxs("div",{className:"wk-countdown-big",children:[c.jsx("span",{className:"wk-countdown-num",children:ve}),c.jsx("span",{className:"wk-countdown-label",children:"GET READY"})]})});if(g==="workout"){const V=S[W],te=Te==="work"?B.work:B.rest,X=Te==="rest"?W+1<S.length?S[W+1]:Xe<I?S[0]:null:null;return c.jsxs("div",{className:"wk-page wk-page-workout","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"wk-video-container",children:Te==="work"?V.isGif?c.jsx("img",{ref:Pe,className:"wk-video",src:V.videoUrl,alt:V.name},V.videoUrl):c.jsx("video",{className:"wk-video",src:V.videoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0},V.videoUrl):c.jsxs("div",{className:"wk-rest-screen",children:[c.jsx("span",{className:"wk-rest-label",children:"REST"}),X&&c.jsxs("span",{className:"wk-next-label",children:["Next: ",X.name]})]})}),c.jsx("div",{className:"wk-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"wk-exercise-info",children:[c.jsxs("span",{className:"wk-exercise-counter",children:[W+1," / ",S.length]}),c.jsx("h2",{className:"wk-exercise-name",children:V.name}),c.jsxs("span",{className:"wk-round-label",children:["Round ",Xe," of ",I]})]}),c.jsx("div",{className:"wk-timer-section",children:c.jsxs("div",{className:"wk-timer-ring-wrap",children:[qe(Ke,te,Te==="work"?"wk-tick-work":"wk-tick-rest"),c.jsxs("div",{className:"wk-timer-center",children:[c.jsx("span",{className:"wk-timer-time",children:Ke}),c.jsx("span",{className:`wk-timer-phase ${Te}`,children:Te==="work"?"WORK":"REST"})]})]})}),c.jsxs("div",{className:"wk-controls",children:[c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-stop",onClick:()=>{confirm("End workout early?")&&y("menu")},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})})}),c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-pause",onClick:()=>de(!H),children:H?c.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}):c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),c.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}),c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-skip",onClick:()=>{P(0)},children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),c.jsx("rect",{x:"15",y:"4",width:"4",height:"16"})]})})]}),c.jsx("div",{className:"wk-progress-bar",children:c.jsx("div",{className:"wk-progress-fill",style:{width:`${Vt()*100}%`}})})]})}if(g==="complete"){const V=Qo.find(X=>X.key===q),te=S.length*I*(V.work+V.rest);return c.jsx("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:c.jsxs("div",{className:"wk-complete",children:[c.jsxs("div",{className:"wk-complete-ring",children:[c.jsx("svg",{className:"wk-complete-svg",viewBox:"0 0 200 200",children:ua.map((X,me)=>c.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,className:"wk-tick-complete",strokeWidth:X.thick?"3.5":"2",style:{animationDelay:`${me*.02}s`}},me))}),c.jsx("div",{className:"wk-complete-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsx("h2",{className:"wk-complete-title",children:"Workout Complete!"}),c.jsxs("div",{className:"wk-complete-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.ceil(te/60)}),c.jsx("span",{className:"wk-stat-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:S.length*I}),c.jsx("span",{className:"wk-stat-label",children:"Intervals"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:I}),c.jsx("span",{className:"wk-stat-label",children:"Rounds"})]})]}),c.jsx("div",{className:"wk-complete-actions",children:c.jsx("button",{className:"wk-btn-primary",onClick:()=>{Jt(null),qt(null),y("menu")},children:"Done"})})]})})}if(g==="muscle_sessions"){const V=_c.find(X=>X.key===Tt),te=f1[Tt]||[];return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("menu"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[c.jsxs("div",{className:"mg-sessions-header",children:[c.jsx("div",{className:"mg-sessions-icon",style:{background:ip[Tt]},children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:V?.icon})})}),c.jsxs("h2",{children:[V?.label," Workouts"]}),c.jsxs("p",{children:[te.length," sessions available"]})]}),c.jsx("div",{className:"mg-sessions-list",children:te.map((X,me)=>c.jsxs("button",{className:"mg-session-card",onClick:()=>{Jt(X),y("muscle_overview")},style:{animationDelay:`${me*.08}s`},children:[c.jsxs("div",{className:"mg-session-info",children:[c.jsx("h3",{children:X.name}),c.jsx("p",{children:X.desc}),c.jsx("div",{className:"mg-session-meta",children:X.interval?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mg-session-tag mg-tag-interval",children:"Interval"}),c.jsxs("span",{className:"mg-session-tag",children:[X.exercises.length," exercises"]}),c.jsxs("span",{className:"mg-session-tag",children:[X.rounds," rounds"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mg-session-tag mg-tag-strength",children:"Strength"}),c.jsxs("span",{className:"mg-session-tag",children:[X.exercises.length," exercises"]}),c.jsx("span",{className:"mg-session-tag",children:(()=>{const be=X.exercises.map(De=>De.sets||0),je=Math.min(...be),tt=Math.max(...be);return je===tt?`${je} sets each`:`${je}-${tt} sets each`})()})]})})]}),c.jsx("div",{className:"mg-session-arrow",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},X.id))})]}),it]})}if(g==="muscle_overview"){const V=J;if(!V)return null;const te=_c.find(X=>X.key===Tt);return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("muscle_sessions"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main mg-overview-main",children:[c.jsx("div",{className:"mg-overview-hero",style:{background:ip[Tt]},children:c.jsx("div",{className:"mg-overview-hero-content",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"mg-overview-hero-icon",children:c.jsx("path",{d:te?.icon})})})}),c.jsxs("div",{className:"mg-overview-header",children:[c.jsxs("div",{className:"mg-overview-title-row",children:[c.jsx("h2",{children:V.name}),V.level&&c.jsx("span",{className:"mg-overview-level",children:V.level})]}),c.jsx("p",{className:"mg-overview-desc",children:V.desc})]}),V.overview&&c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),"About This Workout"]}),c.jsx("p",{children:V.overview})]}),V.tips&&V.tips.length>0&&c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 1 1 7.072 0l-.548.547A3.374 3.374 0 0 0 14 18.469V19a2 2 0 1 1-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Tips & Form"]}),c.jsx("ul",{className:"mg-overview-tips",children:V.tips.map((X,me)=>c.jsx("li",{children:X},me))})]}),c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"}),c.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),c.jsx("path",{d:"M9 14l2 2 4-4"})]}),"Exercises (",V.exercises.length,")"]}),c.jsx("div",{className:"mg-overview-exercises",children:V.exercises.map((X,me)=>c.jsxs("div",{className:"mg-overview-exercise",children:[c.jsx("span",{className:"mg-overview-ex-num",children:me+1}),c.jsxs("div",{className:"mg-overview-ex-info",children:[c.jsx("span",{className:"mg-overview-ex-name",children:X.name}),V.interval?c.jsxs("span",{className:"mg-overview-ex-detail",children:[V.work,"s work / ",V.rest,"s rest"]}):c.jsxs("span",{className:"mg-overview-ex-detail",children:[X.sets," sets  ",X.reps?`${X.reps} reps`:`${X.time}s`,X.type==="weighted"&&"  weighted"]})]})]},me))})]}),c.jsxs("button",{className:"mg-overview-start-btn",onClick:()=>Mn(V),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M8 5v14l11-7z"})}),"Start Workout"]})]}),it]})}if(g==="muscle_workout"){const V=J;if(!V)return null;const te=V.exercises[Ct],X=He[Ct];if(!te||!X)return null;const me=X.sets.length,be=V.exercises.length,je=V.exercises.reduce((It,Zt)=>It+(Zt.sets||0),0),De=He.reduce((It,Zt)=>It+Zt.sets.length,0)/je*100,yt=Ce[te.name];te.type==="timed"&&ie===0&&!nn&&me===ft&&setTimeout(()=>pe(te.time),0);const an=me+1<te.sets?"Log Set":Ct+1<be?"Log Set  Next Exercise":"Log Set  Complete";return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"mg-session-progress",children:c.jsx("div",{className:"mg-session-progress-fill",style:{width:`${De}%`}})}),c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>{confirm("End workout early?")&&y("muscle_overview")},"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("span",{className:"mg-header-info",children:["Exercise ",Ct+1,"/",be]}),c.jsx("div",{style:{width:22}})]})}),c.jsxs("main",{className:"wk-main",children:[yt?c.jsxs("div",{className:"mg-video-container",onClick:Gn,children:[yt.isGif?c.jsx("img",{className:"mg-video",src:yt.url,alt:te.name}):c.jsx("video",{ref:Oe,className:"mg-video",src:yt.url,loop:!0,muted:!0,playsInline:!0},te.name),!_e&&!yt.isGif&&c.jsxs("div",{className:"mg-video-overlay",children:[c.jsx("svg",{className:"mg-play-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"rgba(255,255,255,0.9)",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),c.jsx("span",{className:"mg-video-hint",children:"Tap for demo"})]})]}):c.jsxs("div",{className:"mg-video-placeholder",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.4",children:[c.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),c.jsx("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),c.jsx("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),c.jsx("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),c.jsx("line",{x1:"17",y1:"7",x2:"22",y2:"7"}),c.jsx("line",{x1:"17",y1:"17",x2:"22",y2:"17"})]}),c.jsx("span",{children:"Video coming soon"})]}),c.jsx("div",{className:"wk-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"mg-exercise-card",children:[c.jsx("h2",{className:"mg-ex-name",children:te.name}),c.jsx("span",{className:`mg-ex-type-badge ${te.type}`,children:te.type==="weighted"?"Weight + Reps":te.type==="reps"?"Reps Only":"Timed"}),c.jsxs("div",{className:"mg-ex-set-info",children:[c.jsxs("span",{className:"mg-ex-set-num",children:["Set ",me+1," of ",te.sets]}),te.type!=="timed"&&c.jsxs("span",{className:"mg-ex-target",children:["Target: ",te.reps," reps"]}),te.type==="timed"&&c.jsxs("span",{className:"mg-ex-target",children:["Target: ",te.time,"s"]})]}),te.type==="weighted"&&c.jsxs("div",{className:"mg-input-area",children:[c.jsxs("div",{className:"mg-input-group",children:[c.jsx("label",{children:"Weight (kg)"}),c.jsx("input",{type:"number",inputMode:"decimal",className:"mg-input",value:zn,onChange:It=>jn(It.target.value),placeholder:"0"})]}),c.jsxs("div",{className:"mg-input-group",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",className:"mg-input",value:Nt,onChange:It=>Tn(It.target.value),placeholder:"0"})]})]}),te.type==="reps"&&c.jsx("div",{className:"mg-input-area",children:c.jsxs("div",{className:"mg-input-group mg-input-single",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",className:"mg-input",value:Nt,onChange:It=>Tn(It.target.value),placeholder:"0"})]})}),te.type==="timed"&&c.jsxs("div",{className:"mg-timer-area",children:[c.jsx("div",{className:"mg-timer-display",children:c.jsxs("span",{className:"mg-timer-value",children:[ie,"s"]})}),nn?c.jsx("button",{className:"mg-timer-btn mg-timer-stop",onClick:()=>sn(!1),children:"Stop"}):c.jsx("button",{className:"mg-timer-btn",onClick:()=>{ie===0&&pe(te.time),sn(!0)},children:ie<te.time&&ie>0?"Resume":"Start Timer"})]}),c.jsx("button",{className:"mg-log-set-btn",onClick:C,children:an}),X.sets.length>0&&c.jsx("div",{className:"mg-completed-sets",children:X.sets.map((It,Zt)=>c.jsxs("div",{className:"mg-completed-set",children:[c.jsx("span",{className:"mg-completed-set-check",children:""}),c.jsxs("span",{children:["Set ",Zt+1,": ",It.weight!=null?`${It.weight}kg  ${It.reps}`:It.reps!=null?`${It.reps} reps`:`${It.time}s`]})]},Zt))})]})]}),it]})}if(g==="muscle_complete"){const V=He.reduce((me,be)=>me+be.sets.length,0),te=He.reduce((me,be)=>me+be.sets.reduce((je,tt)=>je+(tt.weight||0)*(tt.reps||0),0),0),X=_c.find(me=>me.key===Tt)?.label||"";return c.jsxs("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"wk-complete",children:[c.jsxs("div",{className:"wk-complete-ring",children:[c.jsx("svg",{className:"wk-complete-svg",viewBox:"0 0 200 200",children:ua.map((me,be)=>c.jsx("line",{x1:me.x1,y1:me.y1,x2:me.x2,y2:me.y2,className:"wk-tick-complete",strokeWidth:me.thick?"3.5":"2",style:{animationDelay:`${be*.02}s`}},be))}),c.jsx("div",{className:"wk-complete-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsxs("h2",{className:"wk-complete-title",children:[X," Complete!"]}),c.jsx("p",{className:"mg-complete-session-name",children:J?.name}),c.jsxs("div",{className:"wk-complete-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:He.length}),c.jsx("span",{className:"wk-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:V}),c.jsx("span",{className:"wk-stat-label",children:"Sets"})]}),te>0&&c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.round(te).toLocaleString()}),c.jsx("span",{className:"wk-stat-label",children:"Volume (kg)"})]})]}),c.jsx("div",{className:"wk-complete-actions",children:c.jsx("button",{className:"wk-btn-primary",onClick:()=>{Jt(null),qt(null),Lt(null),y("menu")},children:"Done"})})]}),Yt&&c.jsx("div",{className:"mg-badge-celebration",onClick:()=>Lt(null),children:c.jsxs("div",{className:"mg-badge-celebration-card",children:[c.jsx("div",{className:"mg-badge-celebration-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"#ffc107",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),c.jsx("h3",{className:"mg-badge-celebration-title",children:Yt.badges.length===1?"Badge Earned!":`${Yt.badges.length} Badges Earned!`}),c.jsx("div",{className:"mg-badge-celebration-list",children:Yt.badges.map((me,be)=>c.jsx("div",{className:"mg-badge-celebration-item",children:me.type==="pb_target"?`${me.exercise}  ${me.targetWeight}kg`:me.label},be))}),c.jsx("button",{className:"mg-badge-celebration-dismiss",children:"Tap to dismiss"})]})})]})}return null}const BD=60,zD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core"},FD=[{threshold:1e3,label:"1 Tonne"},{threshold:5e3,label:"5 Tonne"},{threshold:1e4,label:"10 Tonne"},{threshold:25e3,label:"25 Tonne"},{threshold:5e4,label:"50 Tonne"},{threshold:1e5,label:"100 Tonne"},{threshold:25e4,label:"250 Tonne"},{threshold:5e5,label:"500 Tonne"},{threshold:1e6,label:"1 Million kg"}],p1=[{id:"fullbody_4wk",name:"4-Week Full Body",focus:"fullbody",duration:4,daysPerWeek:3,level:"All Levels",description:"Build total body strength with compound dumbbell movements and bodyweight finishers",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Push Focus",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:3,baseReps:10,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Dumbbell Goblet Squats",type:"weighted",sets:3,baseReps:10,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Pull Focus",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:3,baseReps:10,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Romanian Deadlifts",type:"weighted",sets:3,baseReps:10,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Reverse Lunge",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/reverse lunge.GIF"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{name:"Day 3",label:"Legs & Core",exercises:[{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Box Step Ups",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/box step ups.GIF"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"fullbody_8wk",name:"8-Week Full Body",focus:"fullbody",duration:8,daysPerWeek:3,level:"Intermediate",description:"Two-phase programme building strength and endurance across your full body",repProg:1,timeProg:3,days:[{name:"Day 1",label:"Strength",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:8,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:8,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:8,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Power",exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Single Arm Bent Over Row",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Bulgarian Split Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/bulgarian split squats.GIF"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"}]},{name:"Day 3",label:"Endurance",exercises:[{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:40,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"fullbody_12wk",name:"12-Week Full Body",focus:"fullbody",duration:12,daysPerWeek:3,level:"Advanced",description:"Complete transformation programme: push, pull, and legs over three phases",repProg:1,timeProg:2,days:[{name:"Day 1",label:"Upper Push",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:8,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Skullcrushers",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/skullcrushers.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Lower Body",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:8,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Jump Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/jump squats.GIF"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"}]},{name:"Day 3",label:"Upper Pull",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:8,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]}]},{id:"core_4wk",name:"4-Week Core",focus:"core",duration:4,daysPerWeek:3,level:"Beginner",description:"Build a solid core foundation with targeted ab and stability work",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Abs",exercises:[{name:"Crunch",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Leg Raises",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Stability",exercises:[{name:"Dead Bug",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Dead Bug.mp4"},{name:"Bird Dog",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Bird Dog.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:20,storagePath:"exercises/bodyweight/core/Side Plank.mp4"},{name:"Flutter Kicks",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:20,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"High Plank Shoulder Taps",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/High Plank Shoulder Taps.mp4"}]},{name:"Day 3",label:"Power Core",exercises:[{name:"Single Leg V-Up",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Single Leg V-Up.mp4"},{name:"Toe Reaches",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/toe reaches.GIF"},{name:"Russian Twists Dumbbell",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/core/russian twists dumbbell.GIF"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Fast Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Fast Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"core_8wk",name:"8-Week Core",focus:"core",duration:8,daysPerWeek:3,level:"Intermediate",description:"Develop deep core strength and rotational power over two phases",repProg:1,timeProg:3,days:[{name:"Day 1",label:"Anti-Extension",exercises:[{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"},{name:"Dead Bug",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Dead Bug.mp4"},{name:"Plank Walkout",type:"reps",sets:3,baseReps:8,storagePath:"exercises/bodyweight/core/Plank Walkout.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:25,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"Leg Raises",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"}]},{name:"Day 2",label:"Rotation",exercises:[{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Kettlebell Russian Twist",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Side Plank Rotation",type:"reps",sets:2,baseReps:10,storagePath:"exercises/bodyweight/core/Side Plank Rotation.mp4"},{name:"High Plank Shoulder Taps",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/High Plank Shoulder Taps.mp4"},{name:"Hollow Hold To V-Sit",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Hollow Hold To V-sit.mp4"}]},{name:"Day 3",label:"Power",exercises:[{name:"Crunch",type:"reps",sets:4,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Flutter Kicks",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Reverse Crunch To Leg Raise",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Kettlebell Bird Dog Drag",type:"reps",sets:3,baseReps:10,storagePath:"exercises/kettlebells/core/kettlebell bird dog drag.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:40,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"core_12wk",name:"12-Week Core",focus:"core",duration:12,daysPerWeek:3,level:"Advanced",description:"Ultimate core transformation: stability, strength, and power across three phases",repProg:1,timeProg:2,days:[{name:"Day 1",label:"Strength",exercises:[{name:"Forearm Plank",type:"timed",sets:4,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"},{name:"Plank Walkout",type:"reps",sets:4,baseReps:8,storagePath:"exercises/bodyweight/core/Plank Walkout.mp4"},{name:"Leg Raises",type:"reps",sets:4,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Kettlebell Side Bends",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kettlebell side bends.mp4"},{name:"Dead Bug Single Leg Drop",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Dead Bug Single Leg Drop.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:25,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"}]},{name:"Day 2",label:"Endurance",exercises:[{name:"Crunch",type:"reps",sets:4,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Kettlebell Russian Twist",type:"weighted",sets:4,baseReps:15,storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Hollow Hold Flutter Kicks",type:"reps",sets:3,baseReps:25,storagePath:"exercises/bodyweight/core/Hollow Hold Flutter Kicks.mp4"},{name:"Cross Body Mountain Climbers",type:"reps",sets:3,baseReps:25,storagePath:"exercises/bodyweight/core/Cross Body Mountain Climbers.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{name:"Day 3",label:"Power",exercises:[{name:"Hollow Hold To V-Sit",type:"reps",sets:4,baseReps:10,storagePath:"exercises/bodyweight/core/Hollow Hold To V-sit.mp4"},{name:"Reverse Crunch To Leg Raise",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Hip Dips Plank",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/Hip Dips Plank.mp4"},{name:"Kneeling Kettlebell Halo",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kneeling kettlebell halo.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"upper_4wk",name:"4-Week Upper Body",focus:"upper",duration:4,daysPerWeek:3,level:"Intermediate",description:"Sculpt and strengthen your chest, back, shoulders, and arms",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Push",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:10,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Tricep Dips",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/upper/tricep dips.mp4"},{name:"Pike Push Ups",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/upper/pike push ups.GIF"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Pull",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:10,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Reverse Plank",type:"timed",sets:3,baseTime:20,storagePath:"exercises/bodyweight/upper/reverse plank.GIF"}]},{name:"Day 3",label:"Mixed",exercises:[{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Renegade Row",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/renegade row.mp4"},{name:"Superman Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/core/Superman Hold.mp4"}]}]},{id:"lower_4wk",name:"4-Week Lower Body",focus:"lower",duration:4,daysPerWeek:3,level:"Intermediate",description:"Build powerful legs and glutes with squats, deadlifts, and plyometrics",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Quad Dominant",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:10,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Dumbbell Box Step Ups",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell box step ups.mp4"},{name:"Dumbbell Squat Pulses",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell squat pulses.GIF"},{name:"Jump Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/jump squats.GIF"},{name:"Squat And Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/lower/squat and hold.GIF"}]},{name:"Day 2",label:"Hamstring & Glute",exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"1 Legged RDL",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/1 legged rdl.GIF"},{name:"Hip Thrusts",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/hip thrusts.GIF"},{name:"Dumbbell Reverse Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell reverse lunges.GIF"},{name:"Donkey Kicks",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/lower/donkey kicks.GIF"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 3",label:"Power & Stability",exercises:[{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Kettlebell Romanian Deadlift",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/kettlebells/lower/kettlebell romanian deadlift.mp4"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Bulgarian Split Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/bulgarian split squats.GIF"},{name:"Skater Jumps",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/skater jumps.GIF"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]}]}];function jh(r,e,n){const i=r.baseReps?r.baseReps+(e-1)*(n.repProg||0):void 0,o=r.baseTime?r.baseTime+(e-1)*(n.timeProg||0):void 0;return{sets:r.sets,reps:i,time:o}}const qD={fullbody:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm-2 8h4l1 4h2l-1 4h-2l-1 4h-2l-1-4H8l-1-4h2l1-4z",core:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z",upper:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z",lower:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"};function HD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Ra(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=sr(),g=xr(),[y,w]=k.useState("loading"),[x,T]=k.useState(null),O=k.useRef(!1),[q,G]=k.useState(null),[z,ae]=k.useState(1),[ee,he]=k.useState(0),[we,Ie]=k.useState(0),[Re,N]=k.useState(0),[S,R]=k.useState([]),[I,D]=k.useState(""),[B,j]=k.useState(""),[Xe,ut]=k.useState(!1),[W,ge]=k.useState(0),Te=k.useRef(null),[Ye,Ke]=k.useState({}),[P,H]=k.useState(!1),de=k.useRef(null),[ve,Se]=k.useState(null),[xe,ye]=k.useState([]);k.useEffect(()=>{window.scrollTo(0,0)},[y]);const[Pe,Le]=k.useState(null),ht=k.useCallback((ie,pe="info")=>{Le({message:ie,type:pe}),setTimeout(()=>Le(null),4e3)},[]),Mt=k.useRef(null),Tt=()=>(Mt.current||(Mt.current=new(window.AudioContext||window.webkitAudioContext)),Mt.current),qt=()=>{try{const ie=Tt(),pe=ie.createOscillator(),_e=ie.createGain();pe.connect(_e),_e.connect(ie.destination),pe.frequency.value=1200,_e.gain.value=.4,pe.start(ie.currentTime),pe.stop(ie.currentTime+.3)}catch{}};k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n)return;(async()=>{try{const pe=Ft(wt,"clientProgrammes",n.id),_e=await es(pe);_e.exists()?(G(_e.data()),w("dashboard")):g.state?.templateId?w("browse"):p("/client/core-buddy/workouts",{replace:!0})}catch(pe){console.error("Error loading programme:",pe),p("/client/core-buddy/workouts",{replace:!0})}})()},[n]),k.useEffect(()=>{if(O.current||y==="loading")return;const ie=g.state?.templateId;if(!ie)return;const pe=p1.find(_e=>_e.id===ie);pe&&(O.current=!0,T(pe),w("overview"))},[y,g.state]),k.useEffect(()=>{if(!Xe||W<=0){Xe&&W<=0&&(ut(!1),qt());return}return Te.current=setTimeout(()=>ge(ie=>ie-1),1e3),()=>clearTimeout(Te.current)},[Xe,W]);const J=async ie=>{if(n)try{await Lr(Ft(wt,"clientProgrammes",n.id),ie),G(ie)}catch(pe){console.error("Error saving programme:",pe),ht("Failed to save. Check Firestore rules for clientProgrammes.","error")}},Jt=async ie=>{const pe={templateId:ie.id,startDate:at.now(),completedSessions:{}};await J(pe),w("dashboard")},Ct=async()=>{if(n)try{await aj(Ft(wt,"clientProgrammes",n.id)),G(null),w("browse")}catch(ie){console.error("Error quitting programme:",ie)}},dt=()=>q?p1.find(ie=>ie.id===q.templateId):null,ft=()=>{if(!q)return{currentWeek:1,completedThisWeek:0,nextDay:0,totalCompleted:0};const ie=q.completedSessions||{},pe=Object.keys(ie).length,_e=dt();if(!_e)return{currentWeek:1,completedThisWeek:0,nextDay:0,totalCompleted:0};const ze=_e.duration*_e.daysPerWeek,Ce=Math.min(Math.floor(pe/_e.daysPerWeek)+1,_e.duration),ke=pe-(Ce-1)*_e.daysPerWeek;for(let Oe=1;Oe<=_e.duration;Oe++)for(let Ve=0;Ve<_e.daysPerWeek;Ve++){const Ge=`w${Oe}d${Ve}`;if(!ie[Ge])return{currentWeek:Oe,completedThisWeek:ke,nextDay:Ve,nextWeek:Oe,totalCompleted:pe,totalSessions:ze}}return{currentWeek:_e.duration,completedThisWeek:_e.daysPerWeek,nextDay:-1,totalCompleted:pe,totalSessions:ze,complete:!0}},et=(ie,pe,_e)=>{if(!q||ie<=1)return null;const ze=`w${ie-1}d${pe}`,Ce=q.completedSessions?.[ze];if(!Ce)return null;const ke=Ce.exercises?.find(Oe=>Oe.name===_e);return ke?.sets?.length?ke.sets[ke.sets.length-1]:null},He=(ie,pe)=>{const _e=dt();if(!_e)return;ae(ie),he(pe),Ie(0),N(0),R([]),j(""),ut(!1),ge(0),H(!1),Ke({});const ze=_e.days[pe],Ce=ze.exercises.map(Ge=>{const gt=jh(Ge,ie,_e);return{name:Ge.name,type:Ge.type,pbKey:Ge.pbKey,targetSets:gt.sets,targetReps:gt.reps,targetTime:gt.time,sets:[]}});R(Ce);const ke=ze.exercises[0],Oe=et(ie,pe,ke.name);Oe?.weight&&ke.type==="weighted"?D(String(Oe.weight)):D(""),(async()=>{const Ge={};for(const gt of ze.exercises)if(gt.storagePath)try{const Yt=Ac(Rc,gt.storagePath),Lt=await Wh(Yt);Ge[gt.name]={url:Lt,isGif:/\.gif$/i.test(gt.storagePath)}}catch(Yt){console.warn(`Video not found for ${gt.name}:`,Yt)}Ke(Ge)})(),w("session")},St=async()=>{dt();const ie=S[we];if(!ie)return;let pe={};if(ie.type==="weighted"){const Ce=parseFloat(I)||0,ke=parseInt(B)||0;if(ke===0){ht("Enter your reps","error");return}pe={weight:Ce,reps:ke}}else if(ie.type==="reps"){const Ce=parseInt(B)||0;if(Ce===0){ht("Enter your reps","error");return}pe={reps:Ce}}else if(ie.type==="timed"){const Ce=ie.targetTime-W;pe={time:Math.max(Ce,1)}}const _e=[...S];_e[we]={...ie,sets:[...ie.sets,pe]},R(_e),ie.type==="weighted"&&pe.weight>0&&await Nt(ie.name,pe.weight,pe.reps);const ze=ie.sets.length+1;if(ze<ie.targetSets)N(ze),D(pe.weight?String(pe.weight):""),j(""),ut(!1),ge(0);else if(we+1<S.length){const Ce=we+1;Ie(Ce),N(0),H(!1);const Oe=dt()?.days[ee]?.exercises[Ce],Ve=et(z,ee,Oe?.name);Ve?.weight&&Oe?.type==="weighted"?D(String(Ve.weight)):D(""),j(""),ut(!1),ge(0)}else await zn(_e)},zn=async ie=>{if(!q||!n)return;const pe=`w${z}d${ee}`,_e={...q.completedSessions,[pe]:{completedAt:new Date().toISOString(),exercises:ie.map(ke=>({name:ke.name,type:ke.type,sets:ke.sets}))}},ze={...q,completedSessions:_e};await J(ze);const Ce=ie.reduce((ke,Oe)=>ke+Oe.sets.reduce((Ve,Ge)=>Ve+(Ge.weight||0)*(Ge.reps||0),0),0);Ce>0&&await jn(Ce);try{const ke=dt();await Vp(ga(wt,"workoutLogs"),{clientId:n.id,type:"programme",programmeId:ke?.id,programmeName:ke?.name,week:z,day:ee+1,exerciseCount:ie.length,duration:Math.round(ie.reduce((Oe,Ve)=>Oe+Ve.sets.length*1.5,0)),volume:Math.round(Ce),completedAt:at.now()})}catch(ke){console.error("Error saving workout log:",ke)}xe.length>0&&(Se({badges:[...xe]}),ye([])),w("sessionComplete")},jn=async ie=>{if(n)try{const pe=await es(Ft(wt,"coreBuddyAchievements",n.id)),_e=pe.exists()?pe.data():{clientId:n.id,badges:[],totalVolume:0},ze=_e.totalVolume||0,Ce=ze+ie,ke=[];FD.forEach(Ve=>{Ce>=Ve.threshold&&ze<Ve.threshold&&(_e.badges.some(gt=>gt.type==="volume_milestone"&&gt.milestone===Ve.threshold)||ke.push({type:"volume_milestone",milestone:Ve.threshold,label:Ve.label,achievedAt:at.now()}))});const Oe=[..._e.badges,...ke];await Lr(Ft(wt,"coreBuddyAchievements",n.id),{clientId:n.id,badges:Oe,totalVolume:Math.round(Ce),updatedAt:at.now()}),ke.length>0&&ye(Ve=>[...Ve,...ke])}catch(pe){console.error("Error updating volume:",pe)}},Nt=async(ie,pe,_e)=>{if(n)try{const ze=n.id,Ce=await es(Ft(wt,"coreBuddyPBs",ze)),Oe=(Ce.exists()?Ce.data():null)?.exercises||{},Ve=Oe[ie];let Ge=!1;if(Ve?(pe>(Ve.weight||0)||pe===(Ve.weight||0)&&_e>(Ve.reps||0))&&(Ge=!0):Ge=!0,Ge){const gt={...Oe,[ie]:{weight:pe,reps:_e,achievedAt:at.now()}};await Lr(Ft(wt,"coreBuddyPBs",ze),{clientId:n.id,exercises:gt,updatedAt:at.now()}),ht(`New PB! ${pe}kg  ${_e} reps`,"success"),qt(),await Tn(ie,pe)}}catch(ze){console.error("Error checking PB:",ze)}},Tn=async(ie,pe)=>{if(n)try{const _e=await es(Ft(wt,"coreBuddyTargets",n.id));if(!_e.exists())return;const Ce=(_e.data().targets||{})[ie];if(!Ce||pe<Ce.targetWeight)return;const ke=await es(Ft(wt,"coreBuddyAchievements",n.id)),Oe=ke.exists()?ke.data():{clientId:n.id,badges:[],totalVolume:0};if(Oe.badges.some(Yt=>Yt.type==="pb_target"&&Yt.exercise===ie&&Yt.targetWeight===Ce.targetWeight))return;const Ge={type:"pb_target",exercise:ie,group:zD[ie]||"push",targetWeight:Ce.targetWeight,achievedAt:at.now()},gt=[...Oe.badges,Ge];await Lr(Ft(wt,"coreBuddyAchievements",n.id),{...Oe,badges:gt,updatedAt:at.now()}),ye(Yt=>[...Yt,Ge])}catch(_e){console.error("Error checking target badge:",_e)}},nn=Pe&&c.jsxs("div",{className:`toast-notification ${Pe.type}`,children:[Pe.type==="success"&&c.jsx("span",{children:" "}),Pe.message]}),sn=(ie,pe)=>c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:pe,"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})});if(i||y==="loading")return c.jsx("div",{className:"cb-loading",children:c.jsx("div",{className:"cb-loading-spinner"})});if(y==="browse")return p("/client/core-buddy/workouts",{replace:!0}),null;if(y==="overview"&&x){const ie=x;return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[sn(ie.name,()=>p("/client/core-buddy/workouts")),c.jsxs("main",{className:"pg-main",children:[c.jsxs("div",{className:"pg-overview-hero",children:[c.jsx("svg",{className:"pg-overview-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:qD[ie.focus]})}),c.jsx("h2",{className:"pg-overview-name",children:ie.name}),c.jsx("p",{className:"pg-overview-desc",children:ie.description}),c.jsxs("div",{className:"pg-overview-stats",children:[c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:ie.duration}),c.jsx("span",{className:"pg-ov-stat-label",children:"Weeks"})]}),c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:ie.daysPerWeek}),c.jsx("span",{className:"pg-ov-stat-label",children:"Days/Week"})]}),c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:ie.duration*ie.daysPerWeek}),c.jsx("span",{className:"pg-ov-stat-label",children:"Sessions"})]})]})]}),c.jsx("div",{className:"pg-overview-days",children:ie.days.map((pe,_e)=>c.jsxs("div",{className:"pg-day-card",children:[c.jsxs("div",{className:"pg-day-header",children:[c.jsx("span",{className:"pg-day-name",children:pe.name}),c.jsx("span",{className:"pg-day-label",children:pe.label})]}),c.jsx("div",{className:"pg-day-exercises",children:pe.exercises.map((ze,Ce)=>{const ke=jh(ze,1,ie);return c.jsxs("div",{className:"pg-day-ex",children:[c.jsx("span",{className:"pg-day-ex-name",children:ze.name}),c.jsx("span",{className:"pg-day-ex-target",children:ze.type==="timed"?`${ke.sets}${ke.time}s`:`${ke.sets}${ke.reps}`}),c.jsx("span",{className:`pg-day-ex-badge pg-badge-${ze.type}`,children:ze.type==="weighted"?"WT":ze.type==="timed"?"TMR":"BW"})]},Ce)})})]},_e))}),c.jsxs("div",{className:"pg-overview-note",children:[c.jsx("strong",{children:"Progressive Overload:"})," +",ie.repProg," reps/week",ie.timeProg?`, +${ie.timeProg}s/week for timed`:""]}),c.jsx("button",{className:"pg-start-btn",onClick:()=>Jt(ie),children:"Start Programme"})]}),nn]})}if(y==="dashboard"){const ie=dt();if(!ie)return w("browse"),null;const pe=ft(),_e=q?.completedSessions||{},ze=pe.totalSessions?Math.round(pe.totalCompleted/pe.totalSessions*100):0,Ce=Math.round(pe.totalCompleted/(pe.totalSessions||1)*BD);return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[sn("Programme",()=>p("/client/core-buddy/workouts")),c.jsxs("main",{className:"pg-main",children:[c.jsxs("div",{className:"pg-dash-hero",children:[c.jsxs("div",{className:"pg-dash-ring-wrap",children:[c.jsx("svg",{className:"pg-dash-ring-svg",viewBox:"0 0 200 200",children:ua.map((ke,Oe)=>c.jsx("line",{x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,className:Oe<Ce?"pg-tick-filled":"pg-tick-empty",strokeWidth:ke.thick?"3":"2"},Oe))}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"pg-dash-ring-logo",width:"50",height:"50"})]}),c.jsx("h2",{className:"pg-dash-name",children:ie.name}),c.jsxs("div",{className:"pg-dash-progress-text",children:[c.jsxs("span",{className:"pg-dash-pct",children:[ze,"%"]}),c.jsxs("span",{className:"pg-dash-week",children:["Week ",pe.currentWeek," of ",ie.duration]})]})]}),c.jsx("div",{className:"pg-weeks",children:Array.from({length:ie.duration},(ke,Oe)=>{const Ve=Oe+1;return c.jsxs("div",{className:`pg-week-row${Ve===pe.currentWeek?" pg-week-current":""}`,children:[c.jsxs("span",{className:"pg-week-label",children:["W",Ve]}),c.jsx("div",{className:"pg-week-days",children:ie.days.map((Ge,gt)=>{const Yt=`w${Ve}d${gt}`,Lt=!!_e[Yt],mn=!pe.complete&&Ve===pe.nextWeek&&gt===pe.nextDay;return c.jsx("button",{className:`pg-day-dot${Lt?" done":""}${mn?" next":""}`,disabled:Lt,onClick:()=>{mn&&He(Ve,gt)},children:Lt?c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}):c.jsx("span",{children:Ge.name.replace("Day ","")})},gt)})})]},Oe)})}),!pe.complete&&pe.nextDay>=0&&c.jsxs("div",{className:"pg-next-session",children:[c.jsx("h3",{children:"Next Session"}),c.jsxs("p",{className:"pg-next-info",children:["Week ",pe.nextWeek,"  ",ie.days[pe.nextDay].name,": ",ie.days[pe.nextDay].label]}),c.jsx("div",{className:"pg-next-exercises",children:ie.days[pe.nextDay].exercises.map((ke,Oe)=>{const Ve=jh(ke,pe.nextWeek,ie);return c.jsxs("div",{className:"pg-next-ex",children:[c.jsx("span",{className:"pg-next-ex-name",children:ke.name}),c.jsx("span",{className:"pg-next-ex-target",children:ke.type==="timed"?`${Ve.sets}${Ve.time}s`:`${Ve.sets}${Ve.reps}`})]},Oe)})}),c.jsx("button",{className:"pg-start-btn",onClick:()=>He(pe.nextWeek,pe.nextDay),children:"Start Session"})]}),pe.complete&&c.jsxs("div",{className:"pg-complete-msg",children:[c.jsx("h3",{children:"Programme Complete! "}),c.jsxs("p",{children:["You finished all ",pe.totalSessions," sessions."]}),c.jsx("button",{className:"pg-start-btn",onClick:Ct,children:"Choose New Programme"})]}),c.jsx("button",{className:"pg-quit-btn",onClick:()=>{confirm("Quit this programme? Progress will be lost.")&&Ct()},children:"Quit Programme"})]}),c.jsx(Sl,{active:"workouts"}),nn]})}if(y==="session"){const ie=dt();if(!ie)return null;const pe=ie.days[ee],_e=pe.exercises[we],ze=jh(_e,z,ie),Ce=S[we],ke=Ce?.sets?.length||0,Oe=pe.exercises.length,Ve=(we+ke/ze.sets)/Oe,Ge=Ye[_e.name],gt=et(z,ee,_e.name);_e.type==="timed"&&W===0&&!Xe&&ke===Re&&setTimeout(()=>ge(ze.time),0);const Yt=()=>{Ge?.isGif?H(!P):de.current&&(P?de.current.pause():de.current.play(),H(!P))};return c.jsxs("div",{className:"pg-page pg-page-session","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"pg-session-progress",children:c.jsx("div",{className:"pg-session-progress-fill",style:{width:`${Ve*100}%`}})}),c.jsxs("div",{className:"pg-session-header",children:[c.jsx("button",{className:"pg-session-back",onClick:()=>{confirm("Leave session? Progress will be lost.")&&w("dashboard")},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M19 12H5M12 5l-7 7 7 7"})})}),c.jsxs("div",{className:"pg-session-title",children:[c.jsxs("span",{className:"pg-session-counter",children:[we+1," / ",Oe]}),c.jsxs("span",{className:"pg-session-week",children:["Week ",z,"  ",pe.name]})]})]}),Ge&&c.jsxs("div",{className:"pg-video-container",onClick:Yt,children:[Ge.isGif?c.jsx("img",{className:"pg-video",src:Ge.url,alt:_e.name}):c.jsx("video",{ref:de,className:"pg-video",src:Ge.url,loop:!0,muted:!0,playsInline:!0},_e.name),!P&&c.jsxs("div",{className:"pg-video-overlay",children:[c.jsx("svg",{className:"pg-play-icon",viewBox:"0 0 24 24",fill:"white",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),c.jsx("span",{className:"pg-video-hint",children:"Tap for demo"})]})]}),c.jsx("div",{className:"pg-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"pg-exercise-card",children:[c.jsx("h2",{className:"pg-ex-name",children:_e.name}),c.jsx("span",{className:`pg-ex-type-badge pg-badge-${_e.type}`,children:_e.type==="weighted"?"Weight + Reps":_e.type==="timed"?"Timed":"Reps Only"}),_e.type==="weighted"&&gt&&c.jsxs("div",{className:"pg-last-week",children:[c.jsx("span",{className:"pg-last-week-label",children:"Last week:"}),c.jsxs("span",{className:"pg-last-week-value",children:[gt.weight,"kg x ",gt.reps," reps"]})]}),c.jsxs("div",{className:"pg-ex-set-info",children:[c.jsxs("span",{className:"pg-ex-set-num",children:["Set ",ke+1," of ",ze.sets]}),c.jsxs("span",{className:"pg-ex-target",children:["Target: ",_e.type==="timed"?`${ze.time}s hold`:`${ze.reps} reps`]})]}),_e.type==="weighted"&&c.jsxs("div",{className:"pg-input-area",children:[c.jsxs("div",{className:"pg-input-group",children:[c.jsx("label",{children:"Weight (kg)"}),c.jsx("input",{type:"number",inputMode:"decimal",value:I,onChange:Lt=>D(Lt.target.value),placeholder:"0",className:"pg-input"})]}),c.jsxs("div",{className:"pg-input-group",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",value:B,onChange:Lt=>j(Lt.target.value),placeholder:String(ze.reps),className:"pg-input"})]})]}),_e.type==="reps"&&c.jsx("div",{className:"pg-input-area",children:c.jsxs("div",{className:"pg-input-group pg-input-single",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",value:B,onChange:Lt=>j(Lt.target.value),placeholder:String(ze.reps),className:"pg-input"})]})}),_e.type==="timed"&&c.jsxs("div",{className:"pg-timer-area",children:[c.jsx("div",{className:"pg-timer-display",children:c.jsxs("span",{className:"pg-timer-value",children:[W,"s"]})}),Xe?c.jsx("button",{className:"pg-timer-btn pg-timer-stop",onClick:()=>ut(!1),children:"Stop"}):c.jsx("button",{className:"pg-timer-btn",onClick:()=>{W===0&&ge(ze.time),ut(!0)},children:W<ze.time&&W>0?"Resume":"Start Timer"})]}),c.jsx("button",{className:"pg-log-set-btn",onClick:St,disabled:_e.type==="timed"&&Xe,children:ke+1<ze.sets?"Log Set":we+1<Oe?"Log Set  Next Exercise":"Log Set  Complete"}),Ce?.sets?.length>0&&c.jsx("div",{className:"pg-completed-sets",children:Ce.sets.map((Lt,mn)=>c.jsxs("div",{className:"pg-completed-set",children:[c.jsx("span",{className:"pg-completed-set-check",children:""}),c.jsxs("span",{children:["Set ",mn+1,": ",Lt.weight!==void 0?`${Lt.weight}kg  ${Lt.reps}`:Lt.time!==void 0?`${Lt.time}s`:`${Lt.reps} reps`]})]},mn))})]}),nn]})}if(y==="sessionComplete"){const pe=dt()?.days[ee],_e=S.reduce((Ce,ke)=>Ce+ke.sets.length,0),ze=S.reduce((Ce,ke)=>Ce+ke.sets.reduce((Oe,Ve)=>Oe+(Ve.weight||0)*(Ve.reps||0),0),0);return c.jsxs("div",{className:"pg-page pg-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"pg-session-done",children:[c.jsxs("div",{className:"pg-done-ring",children:[c.jsx("svg",{className:"pg-done-ring-svg",viewBox:"0 0 200 200",children:ua.map((Ce,ke)=>c.jsx("line",{x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,className:"pg-tick-complete",strokeWidth:Ce.thick?"3.5":"2",style:{animationDelay:`${ke*.02}s`}},ke))}),c.jsx("div",{className:"pg-done-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsx("h2",{className:"pg-done-title",children:"Session Complete!"}),c.jsxs("p",{className:"pg-done-subtitle",children:["Week ",z,"  ",pe?.name,": ",pe?.label]}),c.jsxs("div",{className:"pg-done-stats",children:[c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:S.length}),c.jsx("span",{className:"pg-done-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:_e}),c.jsx("span",{className:"pg-done-stat-label",children:"Sets"})]}),ze>0&&c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:Math.round(ze).toLocaleString()}),c.jsx("span",{className:"pg-done-stat-label",children:"Volume (kg)"})]})]}),c.jsx("button",{className:"pg-start-btn",onClick:()=>w("dashboard"),children:"Back to Programme"})]}),ve&&c.jsx("div",{className:"pg-badge-celebration",onClick:()=>Se(null),children:c.jsxs("div",{className:"pg-badge-celebration-card",onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("div",{className:"pg-badge-celebration-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsx("h3",{className:"pg-badge-celebration-title",children:ve.badges.length===1?"Badge Earned!":`${ve.badges.length} Badges Earned!`}),c.jsx("div",{className:"pg-badge-celebration-list",children:ve.badges.map((Ce,ke)=>c.jsx("div",{className:"pg-badge-celebration-item",children:Ce.type==="pb_target"?`${Ce.exercise}  ${Ce.targetWeight}kg`:Ce.label},ke))}),c.jsx("button",{className:"pg-badge-celebration-dismiss",onClick:()=>Se(null),children:"Tap to dismiss"})]})}),nn]})}return null}const GD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core"},WD={push:{label:"Push",color:"#c75f6b",icon:"M4 12h3l3-9 4 18 3-9h3"},pull:{label:"Pull",color:"#5f8ac7",icon:"M12 2v10m0 0l-4-4m4 4l4-4M4 20h16"},lower:{label:"Lower",color:"#5fc77a",icon:"M12 2v8m-4 4l4 8 4-8m-8 0h8"},core:{label:"Core",color:"#c7a45f",icon:"M12 2a4 4 0 014 4v1h-2V6a2 2 0 10-4 0v1H8V6a4 4 0 014-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"}},lp=[{threshold:1e3,label:"1 Tonne",icon:"1T"},{threshold:5e3,label:"5 Tonne",icon:"5T"},{threshold:1e4,label:"10 Tonne",icon:"10T"},{threshold:25e3,label:"25 Tonne",icon:"25T"},{threshold:5e4,label:"50 Tonne",icon:"50T"},{threshold:1e5,label:"100 Tonne",icon:"100T"},{threshold:25e4,label:"250 Tonne",icon:"250T"},{threshold:5e5,label:"500 Tonne",icon:"500T"},{threshold:1e6,label:"1 Million kg",icon:"1M"}];function $D(r){return GD[r]||"push"}function KD(r){return r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}T`:`${Math.round(r)}`}function YD(r){return r>=1e6?"million kg":r>=1e3?"tonnes":"kg"}function QD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Ra(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=sr(),[g,y]=k.useState(!0),[w,x]=k.useState(null),[T,O]=k.useState({});k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n)return;(async()=>{try{const[R,I]=await Promise.all([es(Ft(wt,"coreBuddyAchievements",n.id)),es(Ft(wt,"coreBuddyPBs",n.id))]);R.exists()&&x(R.data()),I.exists()&&O(I.data().exercises||{})}catch(R){console.error("Error loading achievements:",R)}y(!1)})()},[n]);const q=w?.badges||[],G=w?.totalVolume||0,z=q.filter(S=>S.type==="pb_target"),ae=q.filter(S=>S.type==="volume_milestone"),ee={push:[],pull:[],lower:[],core:[]};z.forEach(S=>{const R=S.group||$D(S.exercise);ee[R]&&ee[R].push(S)});const he=lp.find(S=>G<S.threshold),we=lp.filter(S=>G>=S.threshold).pop()?.threshold||0,Ie=he?(G-we)/(he.threshold-we):1;if(i||g)return c.jsxs("div",{className:"ach-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsx("div",{className:"header-content",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})})}),c.jsx("div",{className:"ach-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})})]});const Re=q.length,N=Re>0||G>0;return c.jsxs("div",{className:"ach-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"ach-main",children:[c.jsx("button",{className:"nut-back-btn",onClick:()=>p("/client/core-buddy"),children:" Back"}),c.jsxs("div",{className:"ach-stats-banner",children:[c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:Re}),c.jsx("span",{className:"ach-stat-label",children:Re===1?"Badge":"Badges"})]}),c.jsx("div",{className:"ach-stat-divider"}),c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:KD(G)}),c.jsxs("span",{className:"ach-stat-label",children:[YD(G)," lifted"]})]}),c.jsx("div",{className:"ach-stat-divider"}),c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:Object.keys(T).length}),c.jsx("span",{className:"ach-stat-label",children:"PBs"})]})]}),!N&&c.jsxs("div",{className:"ach-empty",children:[c.jsx("div",{className:"ach-empty-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M12 15l-3-3h6l-3 3z"}),c.jsx("path",{d:"M5 7h14l-1.5 9h-11L5 7z"}),c.jsx("path",{d:"M8.5 7V5a3.5 3.5 0 017 0v2"})]})}),c.jsx("h4",{children:"No achievements yet"}),c.jsx("p",{children:"Complete workouts to track volume and set PB targets to start earning badges."})]}),c.jsxs("div",{className:"ach-section",children:[c.jsxs("h3",{className:"ach-section-title",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:c.jsx("path",{d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"})}),"Volume Milestones"]}),c.jsxs("div",{className:"ach-volume-hero",children:[c.jsxs("div",{className:"ach-volume-ring",children:[c.jsx("svg",{className:"ach-volume-ring-svg",viewBox:"0 0 200 200",children:ua.map((S,R)=>{const I=R<Math.round(Ie*60);return c.jsx("line",{x1:S.x1,y1:S.y1,x2:S.x2,y2:S.y2,className:I?"ach-tick-filled":"ach-tick-empty",strokeWidth:S.thick?"3":"2"},R)})}),c.jsxs("div",{className:"ach-volume-center",children:[c.jsx("span",{className:"ach-volume-number",children:Math.round(G).toLocaleString()}),c.jsx("span",{className:"ach-volume-unit",children:"kg lifted"})]})]}),he&&c.jsxs("div",{className:"ach-volume-next",children:["Next: ",c.jsx("strong",{children:he.label})," (",(he.threshold-G).toLocaleString(),"kg to go)"]})]}),c.jsx("div",{className:"ach-milestone-shelf",children:lp.map((S,R)=>{const I=G>=S.threshold,D=ae.find(B=>B.milestone===S.threshold);return c.jsxs("div",{className:`ach-milestone ${I?"unlocked":"locked"}`,children:[c.jsx("div",{className:"ach-milestone-hex",children:c.jsx("span",{className:"ach-milestone-icon",children:S.icon})}),c.jsx("span",{className:"ach-milestone-label",children:S.label}),D?.achievedAt&&c.jsx("span",{className:"ach-milestone-date",children:(D.achievedAt.toDate?D.achievedAt.toDate():new Date(D.achievedAt)).toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},R)})})]}),c.jsxs("div",{className:"ach-section",children:[c.jsxs("h3",{className:"ach-section-title",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"PB Target Badges"]}),z.length===0?c.jsx("div",{className:"ach-pb-empty",children:c.jsxs("p",{children:["Set targets on your personal bests to start earning badges. Go to ",c.jsx("strong",{children:"My Progress"}),' and tap "Set Target" on any PB.']})}):Object.entries(ee).map(([S,R])=>{if(R.length===0)return null;const I=WD[S];return c.jsxs("div",{className:"ach-group",children:[c.jsxs("div",{className:"ach-group-header",style:{borderLeftColor:I.color},children:[c.jsx("span",{className:"ach-group-label",style:{color:I.color},children:I.label}),c.jsx("span",{className:"ach-group-count",children:R.length})]}),c.jsx("div",{className:"ach-badge-grid",children:R.map((D,B)=>c.jsxs("div",{className:"ach-badge-card",style:{animationDelay:`${B*.06}s`,"--group-color":I.color},children:[c.jsx("div",{className:"ach-badge-hex",style:{borderColor:I.color,boxShadow:`0 0 12px ${I.color}33`},children:c.jsx("svg",{className:"ach-badge-hex-icon",viewBox:"0 0 24 24",fill:"none",stroke:I.color,strokeWidth:"2",strokeLinecap:"round",children:c.jsx("path",{d:I.icon})})}),c.jsxs("div",{className:"ach-badge-info",children:[c.jsx("span",{className:"ach-badge-exercise",children:D.exercise}),c.jsxs("span",{className:"ach-badge-value",style:{color:I.color},children:[D.targetWeight,"kg"]}),D.achievedAt&&c.jsx("span",{className:"ach-badge-date",children:(D.achievedAt.toDate?D.achievedAt.toDate():new Date(D.achievedAt)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})]},B))})]},S)})]})]}),c.jsx(Sl,{active:"home"})]})}const Dh=[{key:"trained",label:"Trained",icon:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2.71 7 4.14 8.43 7.71 4.86 16.29 13.43 12.71 17 14.14 18.43 15.57 17 17 18.43 14.14 21.29l1.43 1.43 1.43-1.43 1.43 1.43 2.14-2.14 1.43 1.43L22 20.57z"},{key:"protein",label:"Hit Protein",icon:"M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},{key:"steps",label:"10k Steps",icon:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"},{key:"sleep",label:"8hrs Sleep",icon:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},{key:"water",label:"2L Water",icon:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}];function XD(r){const e=new Date(r),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e}function cp(r){return r.toISOString().split("T")[0]}function JD(r){return Array.from({length:7},(e,n)=>{const i=new Date(r);return i.setDate(r.getDate()+n),i})}function ZD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Ra(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=sr(),[g,y]=k.useState({}),[w,x]=k.useState(!0),[T,O]=k.useState(!1),[q,G]=k.useState(0),[z,ae]=k.useState(null),[ee,he]=k.useState(null),[we,Ie]=k.useState(!1),Re=k.useRef([]),N=k.useRef([]),S=k.useCallback((H,de="info")=>{ae({message:H,type:de}),setTimeout(()=>ae(null),3e3)},[]),R=new Date,I=cp(R),D=XD(R),B=JD(D),j=["M","T","W","T","F","S","S"];k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const de=ga(wt,"habitLogs"),ve=Wc(de,ol("clientId","==",n.id)),Se=await $c(ve),xe={};Se.docs.forEach(Le=>{const ht=Le.data();xe[ht.date]={...ht,_id:Le.id}}),y(xe);let ye=0;const Pe=new Date(R);for(;;){const Le=cp(Pe),ht=xe[Le];if(ht)if(Object.values(ht.habits||{}).filter(Boolean).length>=3)ye++,Pe.setDate(Pe.getDate()-1);else break;else if(Le===I)Pe.setDate(Pe.getDate()-1);else break}G(ye)}catch(de){console.error("Error loading habit logs:",de)}finally{x(!1)}})()},[r,n]);const Xe=g[I]||{habits:{}},ut=async H=>{if(!r||T)return;const de=Xe.habits?.[H]||!1;de||(Re.current=[...Array(10)].map((ve,Se)=>{const xe=Se/10*2*Math.PI,ye=18+Math.random()*20;return{tx:Math.cos(xe)*ye,ty:Math.sin(xe)*ye,size:3+Math.random()*4,duration:.4+Math.random()*.3}}),he(H),setTimeout(()=>he(null),700)),O(!0);try{const ve=Xe.habits||{},Se={...ve,[H]:!ve[H]},xe=Xe._id||`${n.id}_${I}`;await Lr(Ft(wt,"habitLogs",xe),{clientId:n.id,date:I,habits:Se}),y(Pe=>({...Pe,[I]:{clientId:n.id,date:I,habits:Se,_id:xe}})),Object.values(Se).filter(Boolean).length===Dh.length&&!de&&(N.current=[...Array(50)].map((Pe,Le)=>({x:5+Math.random()*90,delay:Math.random()*.6,color:["#4caf50","#ff9800","#2196f3","#e91e63","#ffeb3b","#9c27b0"][Le%6],drift:(Math.random()-.5)*120,spin:Math.random()*720-360,duration:1.5+Math.random()*1.5,width:4+Math.random()*8,height:4+Math.random()*10})),setTimeout(()=>{Ie(!0),setTimeout(()=>Ie(!1),3500)},500))}catch(ve){console.error("Error saving habit:",ve),S("Failed to save. Try again.","error")}finally{O(!1)}},W=B.map(H=>{const de=cp(H),ve=g[de],Se=ve?Object.values(ve.habits||{}).filter(Boolean).length:0;return{date:H,dateStr:de,completed:Se,total:Dh.length}}),ge=W.reduce((H,de)=>H+de.completed,0),Te=W.reduce((H,de)=>H+de.total,0),Ye=Te>0?Math.round(ge/Te*100):0,Ke=Object.values(Xe.habits||{}).filter(Boolean).length,P=Math.round(Ke/Dh.length*100);return c.jsxs("div",{className:"cbc-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),i||w?c.jsx("div",{className:"cbc-loading-inline",children:c.jsx("div",{className:"cbc-loading-spinner"})}):c.jsxs("main",{className:"cbc-main",children:[c.jsxs("div",{className:"cbc-ring-section",children:[c.jsxs("div",{className:"cbc-progress-ring",children:[c.jsxs("svg",{viewBox:"0 0 200 200",children:[c.jsx("circle",{className:"cbc-arc-track",cx:"100",cy:"100",r:"80"}),c.jsx("circle",{className:"cbc-arc-fill",cx:"100",cy:"100",r:"80",strokeDasharray:2*Math.PI*80,strokeDashoffset:2*Math.PI*80-P/100*2*Math.PI*80})]}),c.jsxs("div",{className:"cbc-ring-center",children:[c.jsxs("span",{className:"cbc-ring-pct",children:[P,"%"]}),c.jsx("span",{className:"cbc-ring-label",children:"today"})]})]}),c.jsxs("div",{className:"cbc-streak",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:c.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),c.jsx("span",{className:"cbc-streak-count",children:q}),c.jsx("span",{className:"cbc-streak-label",children:"day streak"})]})]}),c.jsxs("div",{className:"cbc-section",children:[c.jsx("h2",{className:"cbc-section-title",children:"Today's Habits"}),c.jsx("div",{className:"cbc-habits",children:Dh.map(H=>{const de=Xe.habits?.[H.key]||!1,ve=ee===H.key;return c.jsxs("button",{className:`cbc-habit-btn cbc-habit-${H.key} ${de?"cbc-habit-done":""} ${ve?"cbc-habit-just-checked":""}`,onClick:()=>ut(H.key),disabled:T,children:[c.jsx("div",{className:"cbc-habit-check",children:de?c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("polyline",{points:"20 6 9 17 4 12",className:`cbc-check-path ${ve?"cbc-check-animate":""}`})}):c.jsx("div",{className:"cbc-habit-circle"})}),ve&&c.jsx("div",{className:"cbc-particles",children:Re.current.map((Se,xe)=>c.jsx("span",{className:"cbc-particle",style:{"--tx":`${Se.tx}px`,"--ty":`${Se.ty}px`,"--size":`${Se.size}px`,animationDuration:`${Se.duration}s`}},xe))}),c.jsx("div",{className:`cbc-habit-icon cbc-icon-${H.key}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:H.icon})})}),c.jsx("span",{className:"cbc-habit-label",children:H.label})]},H.key)})})]}),c.jsxs("div",{className:"cbc-section",children:[c.jsx("h2",{className:"cbc-section-title",children:"This Week"}),c.jsx("div",{className:"cbc-week-grid",children:W.map((H,de)=>{const ve=H.dateStr===I,Se=H.total>0?H.completed/H.total:0,xe=38,ye=2*Math.PI*xe,Pe=ye-Se*ye;return c.jsxs("div",{className:`cbc-day-ring ${ve?"cbc-day-today":""} ${H.completed>0?"cbc-day-active":""}`,children:[c.jsxs("svg",{viewBox:"0 0 100 100",children:[c.jsx("circle",{className:"cbc-day-track",cx:"50",cy:"50",r:xe}),c.jsx("circle",{className:"cbc-day-fill",cx:"50",cy:"50",r:xe,strokeDasharray:ye,strokeDashoffset:Pe})]}),c.jsx("span",{className:"cbc-day-label",children:j[de]}),c.jsxs("span",{className:"cbc-day-count",children:[H.completed,"/",H.total]})]},de)})}),c.jsxs("div",{className:"cbc-week-summary",children:[c.jsx("div",{className:"cbc-week-summary-bar",children:c.jsx("div",{className:"cbc-week-summary-fill",style:{width:`${Ye}%`}})}),c.jsxs("span",{className:"cbc-week-summary-text",children:[ge," / ",Te," habits this week (",Ye,"%)"]})]})]})]}),c.jsx(Sl,{active:"home"}),we&&c.jsxs("div",{className:"cbc-celebration",onClick:()=>Ie(!1),children:[c.jsx("div",{className:"cbc-confetti-container",children:N.current.map((H,de)=>c.jsx("span",{className:"cbc-confetti-piece",style:{"--x":`${H.x}%`,"--delay":`${H.delay}s`,"--color":H.color,"--drift":`${H.drift}px`,"--spin":`${H.spin}deg`,"--duration":`${H.duration}s`,width:`${H.width}px`,height:`${H.height}px`}},de))}),c.jsxs("div",{className:"cbc-celebration-card",children:[c.jsxs("svg",{className:"cbc-celebration-icon",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),c.jsx("h2",{className:"cbc-celebration-title",children:"Crushed it!"}),c.jsx("p",{className:"cbc-celebration-sub",children:"All habits complete today"})]})]}),z&&c.jsx("div",{className:`toast-notification ${z.type}`,children:z.message})]})}const e3=k.lazy(()=>Us(()=>import("./Dashboard-CSXyC4zW.js"),__vite__mapDeps([0,1]))),t3=k.lazy(()=>Us(()=>import("./AddClient-CRm4eX7i.js"),__vite__mapDeps([2,3]))),n3=k.lazy(()=>Us(()=>import("./ClientDashboard-2Ytoy9Ks.js"),__vite__mapDeps([4,5]))),s3=k.lazy(()=>Us(()=>import("./ClientForms-yuHVkuV0.js"),__vite__mapDeps([6,7,5]))),r3=k.lazy(()=>Us(()=>import("./ClientTools-Cie_xGWN.js"),__vite__mapDeps([8,9,5]))),i3=k.lazy(()=>Us(()=>import("./MacroCalculator-DCu4nJ5n.js"),__vite__mapDeps([10,9,5]))),a3=k.lazy(()=>Us(()=>import("./ProteinSnacks-DAQZOXQ3.js"),__vite__mapDeps([11,9,5]))),o3=k.lazy(()=>Us(()=>import("./DailyMotivation-CSmzIxTU.js"),__vite__mapDeps([12,9,5]))),l3=k.lazy(()=>Us(()=>import("./PersonalBests-cx4XtYHn.js"),__vite__mapDeps([13,14,5]))),c3=k.lazy(()=>Us(()=>import("./CircuitDashboard-Crxe-7B7.js"),__vite__mapDeps([15,16]))),u3=k.lazy(()=>Us(()=>import("./CircuitBooking-WcJc3MqI.js"),__vite__mapDeps([17,18,16]))),h3=k.lazy(()=>Us(()=>import("./Leaderboard-BQJ-Ot3n.js"),__vite__mapDeps([19,20])));function d3({children:r}){const{pathname:e}=xr();return k.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]),k.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),r}function f3(){const r=sr();return k.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function m3(){return c.jsx(pD,{children:c.jsx(mD,{children:c.jsxs(OS,{basename:"/login",children:[c.jsx(f3,{}),c.jsx(d3,{children:c.jsx(k.Suspense,{fallback:null,children:c.jsxs(hS,{children:[c.jsx(wn,{path:"/",element:c.jsx(gD,{})}),c.jsx(wn,{path:"/dashboard",element:c.jsx(e3,{})}),c.jsx(wn,{path:"/add-client",element:c.jsx(t3,{})}),c.jsx(wn,{path:"/client",element:c.jsx(n3,{})}),c.jsx(wn,{path:"/client/forms",element:c.jsx(s3,{})}),c.jsx(wn,{path:"/client/tools",element:c.jsx(r3,{})}),c.jsx(wn,{path:"/client/tools/macros",element:c.jsx(i3,{})}),c.jsx(wn,{path:"/client/tools/snacks",element:c.jsx(a3,{})}),c.jsx(wn,{path:"/client/tools/motivation",element:c.jsx(o3,{})}),c.jsx(wn,{path:"/client/personal-bests",element:c.jsx(l3,{})}),c.jsx(wn,{path:"/client/circuit",element:c.jsx(c3,{})}),c.jsx(wn,{path:"/client/circuit/booking",element:c.jsx(u3,{})}),c.jsx(wn,{path:"/client/core-buddy",element:c.jsx(TD,{})}),c.jsx(wn,{path:"/client/core-buddy/nutrition",element:c.jsx(RD,{})}),c.jsx(wn,{path:"/client/core-buddy/workouts",element:c.jsx(UD,{})}),c.jsx(wn,{path:"/client/core-buddy/programmes",element:c.jsx(HD,{})}),c.jsx(wn,{path:"/client/core-buddy/achievements",element:c.jsx(QD,{})}),c.jsx(wn,{path:"/client/core-buddy/consistency",element:c.jsx(ZD,{})}),c.jsx(wn,{path:"/client/leaderboard",element:c.jsx(h3,{})}),c.jsx(wn,{path:"*",element:c.jsx(cS,{to:"/",replace:!0})})]})})})]})})})}hT.createRoot(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(m3,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/login/sw.js").catch(()=>{})});export{Sl as C,at as T,Vp as a,aj as b,ga as c,wt as d,Ft as e,g3 as f,$c as g,jR as h,es as i,c as j,Ra as k,Tl as l,sr as m,yD as n,v3 as o,Lr as p,Wc as q,k as r,_3 as s,p3 as t,b3 as u,w3 as v,ol as w};
