(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var fm={exports:{}},Xl={};var j_;function aA(){if(j_)return Xl;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var V_;function oA(){return V_||(V_=1,fm.exports=aA()),fm.exports}var m=oA(),mm={exports:{}},De={};var L_;function lA(){if(L_)return De;L_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,z={};function ee(V,ie,Y){this.props=V,this.context=ie,this.refs=z,this.updater=Y||L}ee.prototype.isReactComponent={},ee.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},ee.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=ee.prototype;function le(V,ie,Y){this.props=V,this.context=ie,this.refs=z,this.updater=Y||L}var ge=le.prototype=new G;ge.constructor=le,j(ge,ee.prototype),ge.isPureReactComponent=!0;var $=Array.isArray;function te(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(V,ie,Y){var Z=Y.ref;return{$$typeof:s,type:V,key:ie,ref:Z!==void 0?Z:null,props:Y}}function x(V,ie){return R(V.type,ie,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function k(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Y){return ie[Y]})}var I=/\/+/g;function we(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):ie.toString(36)}function Ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(te,te):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,ie,Y,Z,ce){var de=typeof V;(de==="undefined"||de==="boolean")&&(V=null);var fe=!1;if(V===null)fe=!0;else switch(de){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(V.$$typeof){case s:case e:fe=!0;break;case T:return fe=V._init,J(fe(V._payload),ie,Y,Z,ce)}}if(fe)return ce=ce(V),fe=Z===""?"."+we(V,0):Z,$(ce)?(Y="",fe!=null&&(Y=fe.replace(I,"$&/")+"/"),J(ce,ie,Y,"",function(mt){return mt})):ce!=null&&(D(ce)&&(ce=x(ce,Y+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+fe)),ie.push(ce)),1;fe=0;var Re=Z===""?".":Z+":";if($(V))for(var Me=0;Me<V.length;Me++)Z=V[Me],de=Re+we(Z,Me),fe+=J(Z,ie,Y,de,ce);else if(Me=P(V),typeof Me=="function")for(V=Me.call(V),Me=0;!(Z=V.next()).done;)Z=Z.value,de=Re+we(Z,Me++),fe+=J(Z,ie,Y,de,ce);else if(de==="object"){if(typeof V.then=="function")return J(Ve(V),ie,Y,Z,ce);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return fe}function ue(V,ie,Y){if(V==null)return V;var Z=[],ce=0;return J(V,Z,"","",function(de){return ie.call(Y,de,ce++)}),Z}function _e(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(Y){(V._status===0||V._status===-1)&&(V._status=1,V._result=Y)},function(Y){(V._status===0||V._status===-1)&&(V._status=2,V._result=Y)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:ue,forEach:function(V,ie,Y){ue(V,function(){ie.apply(this,arguments)},Y)},count:function(V){var ie=0;return ue(V,function(){ie++}),ie},toArray:function(V){return ue(V,function(ie){return ie})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return De.Activity=S,De.Children=Be,De.Component=ee,De.Fragment=n,De.Profiler=o,De.PureComponent=le,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,De.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(V,ie,Y){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Z=j({},V.props),ce=V.key;if(ie!=null)for(de in ie.key!==void 0&&(ce=""+ie.key),ie)!C.call(ie,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&ie.ref===void 0||(Z[de]=ie[de]);var de=arguments.length-2;if(de===1)Z.children=Y;else if(1<de){for(var fe=Array(de),Re=0;Re<de;Re++)fe[Re]=arguments[Re+2];Z.children=fe}return R(V.type,ce,Z)},De.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},De.createElement=function(V,ie,Y){var Z,ce={},de=null;if(ie!=null)for(Z in ie.key!==void 0&&(de=""+ie.key),ie)C.call(ie,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=ie[Z]);var fe=arguments.length-2;if(fe===1)ce.children=Y;else if(1<fe){for(var Re=Array(fe),Me=0;Me<fe;Me++)Re[Me]=arguments[Me+2];ce.children=Re}if(V&&V.defaultProps)for(Z in fe=V.defaultProps,fe)ce[Z]===void 0&&(ce[Z]=fe[Z]);return R(V,de,ce)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:p,render:V}},De.isValidElement=D,De.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:_e}},De.memo=function(V,ie){return{$$typeof:v,type:V,compare:ie===void 0?null:ie}},De.startTransition=function(V){var ie=N.T,Y={};N.T=Y;try{var Z=V(),ce=N.S;ce!==null&&ce(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(te,Ue)}catch(de){Ue(de)}finally{ie!==null&&Y.types!==null&&(ie.types=Y.types),N.T=ie}},De.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},De.use=function(V){return N.H.use(V)},De.useActionState=function(V,ie,Y){return N.H.useActionState(V,ie,Y)},De.useCallback=function(V,ie){return N.H.useCallback(V,ie)},De.useContext=function(V){return N.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,ie){return N.H.useDeferredValue(V,ie)},De.useEffect=function(V,ie){return N.H.useEffect(V,ie)},De.useEffectEvent=function(V){return N.H.useEffectEvent(V)},De.useId=function(){return N.H.useId()},De.useImperativeHandle=function(V,ie,Y){return N.H.useImperativeHandle(V,ie,Y)},De.useInsertionEffect=function(V,ie){return N.H.useInsertionEffect(V,ie)},De.useLayoutEffect=function(V,ie){return N.H.useLayoutEffect(V,ie)},De.useMemo=function(V,ie){return N.H.useMemo(V,ie)},De.useOptimistic=function(V,ie){return N.H.useOptimistic(V,ie)},De.useReducer=function(V,ie,Y){return N.H.useReducer(V,ie,Y)},De.useRef=function(V){return N.H.useRef(V)},De.useState=function(V){return N.H.useState(V)},De.useSyncExternalStore=function(V,ie,Y){return N.H.useSyncExternalStore(V,ie,Y)},De.useTransition=function(){return N.H.useTransition()},De.version="19.2.4",De}var P_;function mp(){return P_||(P_=1,mm.exports=lA()),mm.exports}var M=mp(),pm={exports:{}},Wl={},gm={exports:{}},ym={};var U_;function cA(){return U_||(U_=1,(function(s){function e(J,ue){var _e=J.length;J.push(ue);e:for(;0<_e;){var Ue=_e-1>>>1,Be=J[Ue];if(0<o(Be,ue))J[Ue]=ue,J[_e]=Be,_e=Ue;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ue=J[0],_e=J.pop();if(_e!==ue){J[0]=_e;e:for(var Ue=0,Be=J.length,V=Be>>>1;Ue<V;){var ie=2*(Ue+1)-1,Y=J[ie],Z=ie+1,ce=J[Z];if(0>o(Y,_e))Z<Be&&0>o(ce,Y)?(J[Ue]=ce,J[Z]=_e,Ue=Z):(J[Ue]=Y,J[ie]=_e,Ue=ie);else if(Z<Be&&0>o(ce,_e))J[Ue]=ce,J[Z]=_e,Ue=Z;else break e}}return ue}function o(J,ue){var _e=J.sortIndex-ue.sortIndex;return _e!==0?_e:J.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],v=[],T=1,S=null,w=3,P=!1,L=!1,j=!1,z=!1,ee=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ge(J){for(var ue=n(v);ue!==null;){if(ue.callback===null)r(v);else if(ue.startTime<=J)r(v),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(v)}}function $(J){if(j=!1,ge(J),!L)if(n(g)!==null)L=!0,te||(te=!0,k());else{var ue=n(v);ue!==null&&Ve($,ue.startTime-J)}}var te=!1,N=-1,C=5,R=-1;function x(){return z?!0:!(s.unstable_now()-R<C)}function D(){if(z=!1,te){var J=s.unstable_now();R=J;var ue=!0;try{e:{L=!1,j&&(j=!1,G(N),N=-1),P=!0;var _e=w;try{t:{for(ge(J),S=n(g);S!==null&&!(S.expirationTime>J&&x());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,w=S.priorityLevel;var Be=Ue(S.expirationTime<=J);if(J=s.unstable_now(),typeof Be=="function"){S.callback=Be,ge(J),ue=!0;break t}S===n(g)&&r(g),ge(J)}else r(g);S=n(g)}if(S!==null)ue=!0;else{var V=n(v);V!==null&&Ve($,V.startTime-J),ue=!1}}break e}finally{S=null,w=_e,P=!1}ue=void 0}}finally{ue?k():te=!1}}}var k;if(typeof le=="function")k=function(){le(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,we=I.port2;I.port1.onmessage=D,k=function(){we.postMessage(null)}}else k=function(){ee(D,0)};function Ve(J,ue){N=ee(function(){J(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var _e=w;w=ue;try{return J()}finally{w=_e}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=w;w=J;try{return ue()}finally{w=_e}},s.unstable_scheduleCallback=function(J,ue,_e){var Ue=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ue+_e:Ue):_e=Ue,J){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=_e+Be,J={id:T++,callback:ue,priorityLevel:J,startTime:_e,expirationTime:Be,sortIndex:-1},_e>Ue?(J.sortIndex=_e,e(v,J),n(g)===null&&J===n(v)&&(j?(G(N),N=-1):j=!0,Ve($,_e-Ue))):(J.sortIndex=Be,e(g,J),L||P||(L=!0,te||(te=!0,k()))),J},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(J){var ue=w;return function(){var _e=w;w=ue;try{return J.apply(this,arguments)}finally{w=_e}}}})(ym)),ym}var z_;function uA(){return z_||(z_=1,gm.exports=cA()),gm.exports}var vm={exports:{}},yn={};var B_;function hA(){if(B_)return yn;B_=1;var s=mp();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:v,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(g,v,null,T)},yn.flushSync=function(g){var v=h.T,T=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=v,r.p=T,r.d.f()}},yn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},yn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},yn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,P=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},yn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},yn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},yn.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},yn.requestFormReset=function(g){r.d.r(g)},yn.unstable_batchedUpdates=function(g,v){return g(v)},yn.useFormState=function(g,v,T){return h.H.useFormState(g,v,T)},yn.useFormStatus=function(){return h.H.useHostTransitionStatus()},yn.version="19.2.4",yn}var q_;function dA(){if(q_)return vm.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vm.exports=hA(),vm.exports}var H_;function fA(){if(H_)return Wl;H_=1;var s=uA(),e=mp(),n=dA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case ee:return"Profiler";case z:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case le:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:we(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return we(t(i))}catch{}}return null}var Ve=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ue=[],Be=-1;function V(t){return{current:t}}function ie(t){0>Be||(t.current=Ue[Be],Ue[Be]=null,Be--)}function Y(t,i){Be++,Ue[Be]=t.current,t.current=i}var Z=V(null),ce=V(null),de=V(null),fe=V(null);function Re(t,i){switch(Y(de,i),Y(ce,t),Y(Z,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=r_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(Z),Y(Z,t)}function Me(){ie(Z),ie(ce),ie(de)}function mt(t){t.memoizedState!==null&&Y(fe,t);var i=Z.current,a=r_(i,t.type);i!==a&&(Y(ce,t),Y(Z,a))}function me(t){ce.current===t&&(ie(Z),ie(ce)),fe.current===t&&(ie(fe),$l._currentValue=_e)}var Ut,Rt;function zt(t){if(Ut===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ut=i&&i[1]||"",Rt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+t+Rt}var vi=!1;function tt(t,i){if(!t||vi)return"";vi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var K=W}Reflect.construct(t,[],re)}else{try{re.call()}catch(W){K=W}t.call(re.prototype)}}else{try{throw Error()}catch(W){K=W}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var O=_.split(`
`),F=b.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===F.length)for(l=O.length-1,d=F.length-1;1<=l&&0<=d&&O[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==F[d]){var ne=`
`+O[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=d);break}}}finally{vi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zt(a):""}function Ct(t,i){switch(t.tag){case 26:case 27:case 5:return zt(t.type);case 16:return zt("Lazy");case 13:return t.child!==i&&i!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return tt(t.type,!1);case 11:return tt(t.type.render,!1);case 1:return tt(t.type,!0);case 31:return zt("Activity");default:return""}}function Dt(t){try{var i="",a=null;do i+=Ct(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var rt=Object.prototype.hasOwnProperty,at=s.unstable_scheduleCallback,Mi=s.unstable_cancelCallback,Jo=s.unstable_shouldYield,Ca=s.unstable_requestPaint,Wt=s.unstable_now,Sn=s.unstable_getCurrentPriorityLevel,Pn=s.unstable_ImmediatePriority,Vs=s.unstable_UserBlockingPriority,Un=s.unstable_NormalPriority,Na=s.unstable_LowPriority,Ia=s.unstable_IdlePriority,zr=s.log,Br=s.unstable_setDisableYieldValue,zn=null,Ot=null;function bn(t){if(typeof zr=="function"&&Br(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(zn,t)}catch{}}var gt=Math.clz32?Math.clz32:Da,xa=Math.log,Ls=Math.LN2;function Da(t){return t>>>=0,t===0?32:31-(xa(t)/Ls|0)|0}var ti=256,ss=262144,Nt=4194304;function nn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=nn(l):(_&=b,_!==0?d=nn(_):a||(a=b&~t,a!==0&&(d=nn(a))))):(b=l&~f,b!==0?d=nn(b):_!==0?d=nn(_):a||(a=l&~t,a!==0&&(d=nn(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Oa(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Bn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Q(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ee(t,i,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var ne=31-gt(a),re=1<<ne;b[ne]=0,O[ne]=-1;var K=F[ne];if(K!==null)for(F[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}a&=~re}l!==0&&qe(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function qe(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function He(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Mt(t,i){var a=i&-i;return a=(a&42)!==0?1:kt(a),(a&(t.suspendedLanes|i))!==0?0:a}function kt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qr(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function Cn(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var qn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+qn,Et="__reactProps$"+qn,Nn="__reactContainer$"+qn,Ma="__reactEvents$"+qn,vd="__reactListeners$"+qn,zc="__reactHandles$"+qn,Bc="__reactResources$"+qn,ki="__reactMarker$"+qn;function ka(t){delete t[Ie],delete t[Et],delete t[Ma],delete t[vd],delete t[zc]}function ji(t){var i=t[Ie];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Nn]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=d_(t);t!==null;){if(a=t[Ie])return a;t=d_(t)}return i}t=a,a=t.parentNode}return null}function si(t){if(t=t[Ie]||t[Nn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Vi(t){var i=t[Bc];return i||(i=t[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function qt(t){t[ki]=!0}var Zo=new Set,el={};function Li(t,i){Pi(t,i),Pi(t+"Capture",i)}function Pi(t,i){for(el[t]=i,t=0;t<i.length;t++)Zo.add(i[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function qc(t){return rt.call(il,t)?!0:rt.call(nl,t)?!1:tl.test(t)?il[t]=!0:(nl[t]=!0,!1)}function ja(t,i,a){if(qc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Fn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ps(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ot(t){if(!t._valueTracker){var i=Ps(t)?"checked":"value";t._valueTracker=sl(t,i,""+t[i])}}function Hr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ps(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fr=/[\n"\\]/g;function In(t){return t.replace(Fr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Va(t,i,a,l,d,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+sn(i)):t.value!==""+sn(i)&&(t.value=""+sn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?rl(t,_,sn(i)):a!=null?rl(t,_,sn(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+sn(b):t.removeAttribute("name")}function Hc(t,i,a,l,d,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){ot(t);return}a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ot(t)}function rl(t,i,a){i==="number"&&Ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Us(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Fc(t,i,a){if(i!=null&&(i=""+sn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+sn(a):""}function zs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=sn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ot(t)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Gc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ol(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&al(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&al(t,f,i[f])}function La(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var ll=null;function ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,zi=null;function Gr(t){var i=si(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(Va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Et]||null;if(!d)throw Error(r(90));Va(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Hr(l)}break e;case"textarea":Fc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Us(t,!!a.multiple,i,!1)}}}var Ua=!1;function Hs(t,i,a){if(Ua)return t(i,a);Ua=!0;try{var l=t(i);return l}finally{if(Ua=!1,(qs!==null||zi!==null)&&(Uu(),qs&&(i=qs,t=zi,zi=qs=null,Gr(i),t)))for(i=0;i<t.length;i++)Gr(t[i])}}function Ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(ai)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){$r=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{$r=!1}var Bi=null,cl=null,Yr=null;function ul(){if(Yr)return Yr;var t,i=cl,a=i.length,l,d="value"in Bi?Bi.value:Bi.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===d[f-l];l++);return Yr=d.slice(t,1<l?1-l:void 0)}function Kr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function rs(){return!0}function Ti(){return!1}function ln(t){function i(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rs:Ti,this.isPropagationStopped=Ti,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),i}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=ln(as),Fs=S({},as,{view:0,detail:0}),hl=ln(Fs),Gs,za,Hi,Ba=S({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(Gs=t.screenX-Hi.screenX,za=t.screenY-Hi.screenY):za=Gs=0,Hi=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:za}}),dl=ln(Ba),Qr=S({},Ba,{dataTransfer:0}),Yc=ln(Qr),Kc=S({},Fs,{relatedTarget:0}),Xr=ln(Kc),fl=S({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=ln(fl),qa=S({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xc=ln(qa),Wc=S({},as,{data:0}),Fi=ln(Wc),Jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=eu[t])?!!i[t]:!1}function $s(){return tu}var An=S({},Fs,{key:function(t){if(t.key){var i=Jc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nu=ln(An),iu=S({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=ln(iu),u=S({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),y=ln(u),E=S({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ln(E),q=S({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=ln(q),he=S({},as,{newState:0,oldState:0}),ke=ln(he),jt=[9,13,27,32],nt=ai&&"CompositionEvent"in window,Tt=null;ai&&"documentMode"in document&&(Tt=document.documentMode);var oi=ai&&"TextEvent"in window&&!Tt,Gi=ai&&(!nt||Tt&&8<Tt&&11>=Tt),Si=" ",bi=!1;function Wr(t,i){switch(t){case"keyup":return jt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function xb(t,i){switch(t){case"compositionend":return Ha(i);case"keypress":return i.which!==32?null:(bi=!0,Si);case"textInput":return t=i.data,t===Si&&bi?null:t;default:return null}}function Db(t,i){if(Fa)return t==="compositionend"||!nt&&Wr(t,i)?(t=ul(),Yr=cl=Bi=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gi&&i.locale!=="ko"?null:i.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ob[t.type]:i==="textarea"}function gg(t,i,a,l){qs?zi?zi.push(l):zi=[l]:qs=l,i=$u(i,"onChange"),0<i.length&&(a=new qi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ml=null,pl=null;function Mb(t){Jv(t,0)}function su(t){var i=Hn(t);if(Hr(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(ai){var _d;if(ai){var Ed="oninput"in document;if(!Ed){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Ed=typeof _g.oninput=="function"}_d=Ed}else _d=!1;vg=_d&&(!document.documentMode||9<document.documentMode)}function Eg(){ml&&(ml.detachEvent("onpropertychange",Tg),pl=ml=null)}function Tg(t){if(t.propertyName==="value"&&su(pl)){var i=[];gg(i,pl,t,ri(t)),Hs(Mb,i)}}function kb(t,i,a){t==="focusin"?(Eg(),ml=i,pl=a,ml.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(pl)}function Vb(t,i){if(t==="click")return su(i)}function Lb(t,i){if(t==="input"||t==="change")return su(i)}function Pb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gn=typeof Object.is=="function"?Object.is:Pb;function gl(t,i){if(Gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!rt.call(i,d)||!Gn(t[d],i[d]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function wg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ui(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ui(t.document)}return i}function Td(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ub=ai&&"documentMode"in document&&11>=document.documentMode,Ga=null,Sd=null,yl=null,bd=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bd||Ga==null||Ga!==Ui(l)||(l=Ga,"selectionStart"in l&&Td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=$u(Sd,"onSelect"),0<l.length&&(i=new qi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ga)))}function Jr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var $a={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},wd={},Cg={};ai&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Zr(t){if(wd[t])return wd[t];if(!$a[t])return t;var i=$a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return wd[t]=i[a];return t}var Ng=Zr("animationend"),Ig=Zr("animationiteration"),xg=Zr("animationstart"),zb=Zr("transitionrun"),Bb=Zr("transitionstart"),qb=Zr("transitioncancel"),Dg=Zr("transitionend"),Og=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function wi(t,i){Og.set(t,i),Li(i,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},li=[],Ya=0,Rd=0;function au(){for(var t=Ya,i=Rd=Ya=0;i<t;){var a=li[i];li[i++]=null;var l=li[i];li[i++]=null;var d=li[i];li[i++]=null;var f=li[i];if(li[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Mg(a,d,f)}}function ou(t,i,a,l){li[Ya++]=t,li[Ya++]=i,li[Ya++]=a,li[Ya++]=l,Rd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cd(t,i,a,l){return ou(t,i,a,l),lu(t)}function ea(t,i){return ou(t,null,null,i),lu(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-gt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function lu(t){if(50<Ul)throw Ul=0,Lf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ka={};function Hb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,i,a,l){return new Hb(t,i,a,l)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ls(t,i){var a=t.alternate;return a===null?(a=$n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cu(t,i,a,l,d,f){var _=0;if(l=t,typeof t=="function")Nd(t)&&(_=1);else if(typeof t=="string")_=Kw(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=$n(31,a,i,d),t.elementType=R,t.lanes=f,t;case j:return ta(a.children,d,f,i);case z:_=8,d|=24;break;case ee:return t=$n(12,a,i,d|2),t.elementType=ee,t.lanes=f,t;case $:return t=$n(13,a,i,d),t.elementType=$,t.lanes=f,t;case te:return t=$n(19,a,i,d),t.elementType=te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case G:_=9;break e;case ge:_=11;break e;case N:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=$n(_,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function ta(t,i,a,l){return t=$n(7,t,l,i),t.lanes=a,t}function Id(t,i,a){return t=$n(6,t,null,i),t.lanes=a,t}function jg(t){var i=$n(18,null,null,0);return i.stateNode=t,i}function xd(t,i,a){return i=$n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vg=new WeakMap;function ci(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Dt(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Dt(i)}}var Qa=[],Xa=0,uu=null,vl=0,ui=[],hi=0,Ys=null,$i=1,Yi="";function cs(t,i){Qa[Xa++]=vl,Qa[Xa++]=uu,uu=t,vl=i}function Lg(t,i,a){ui[hi++]=$i,ui[hi++]=Yi,ui[hi++]=Ys,Ys=t;var l=$i;t=Yi;var d=32-gt(l)-1;l&=~(1<<d),a+=1;var f=32-gt(i)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,$i=1<<32-gt(i)+d|a<<d|l,Yi=f+t}else $i=1<<f|a<<d|l,Yi=t}function Dd(t){t.return!==null&&(cs(t,1),Lg(t,1,0))}function Od(t){for(;t===uu;)uu=Qa[--Xa],Qa[Xa]=null,vl=Qa[--Xa],Qa[Xa]=null;for(;t===Ys;)Ys=ui[--hi],ui[hi]=null,Yi=ui[--hi],ui[hi]=null,$i=ui[--hi],ui[hi]=null}function Pg(t,i){ui[hi++]=$i,ui[hi++]=Yi,ui[hi++]=Ys,$i=i.id,Yi=i.overflow,Ys=t}var cn=null,vt=null,We=!1,Ks=null,di=!1,Md=Error(r(519));function Qs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(ci(i,t)),Md}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ie]=t,i[Et]=l,a){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ge(Bl[a],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),Hc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),zs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),l.onScroll!=null&&Ge("scroll",i),l.onScrollEnd!=null&&Ge("scrollend",i),l.onClick!=null&&(i.onclick=_i),i=!0):i=!1,i||Qs(t,!0)}function zg(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:cn=cn.return}}function Wa(t){if(t!==cn)return!1;if(!We)return zg(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jf(t.type,t.memoizedProps)),a=!a),a&&vt&&Qs(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=h_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=h_(t)}else i===27?(i=vt,cr(t.type)?(t=im,im=null,vt=t):vt=i):vt=cn?mi(t.stateNode.nextSibling):null;return!0}function na(){vt=cn=null,We=!1}function kd(){var t=Ks;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),Ks=null),t}function _l(t){Ks===null?Ks=[t]:Ks.push(t)}var jd=V(null),ia=null,us=null;function Xs(t,i,a){Y(jd,i._currentValue),i._currentValue=a}function hs(t){t._currentValue=jd.current,ie(jd)}function Vd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ld(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var O=0;O<i.length;O++)if(b.context===i[O]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Vd(f.return,a,t),l||(_=null);break e}f=b.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Vd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Ja(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=d.type;Gn(d.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(d===fe.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}d=d.return}t!==null&&Ld(i,t,a,l),i.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ia=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Bg(ia,t)}function du(t,i){return ia===null&&sa(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},us===null){if(t===null)throw Error(r(308));us=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else us=us.next=i;return a}var Fb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Gb=s.unstable_scheduleCallback,$b=s.unstable_NormalPriority,Ft={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new Fb,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&Gb($b,function(){t.controller.abort()})}var Tl=null,Ud=0,Za=0,eo=null;function Yb(t,i){if(Tl===null){var a=Tl=[];Ud=0,Za=Hf(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ud++,i.then(qg,qg),i}function qg(){if(--Ud===0&&Tl!==null){eo!==null&&(eo.status="fulfilled");var t=Tl;Tl=null,Za=0,eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Kb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Hg=J.S;J.S=function(t,i){Rv=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yb(t,i),Hg!==null&&Hg(t,i)};var ra=V(null);function zd(){var t=ra.current;return t!==null?t:pt.pooledCache}function fu(t,i){i===null?Y(ra,ra.current):Y(ra,i.pool)}function Fg(){var t=zd();return t===null?null:{parent:Ft._currentValue,pool:t}}var to=Error(r(460)),Bd=Error(r(474)),mu=Error(r(542)),pu={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(_i,_i),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(_i,_i);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw oa=i,to}}function aa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,to):a}}var oa=null;function Yg(){if(oa===null)throw Error(r(459));var t=oa;return oa=null,t}function Kg(t){if(t===to||t===mu)throw Error(r(483))}var no=null,Sl=0;function gu(t){var i=Sl;return Sl+=1,no===null&&(no=[]),$g(no,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function yu(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(B,U){if(t){var H=B.deletions;H===null?(B.deletions=[U],B.flags|=16):H.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function d(B,U){return B=ls(B,U),B.index=0,B.sibling=null,B}function f(B,U,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<U?(B.flags|=67108866,U):H):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,H,se){return U===null||U.tag!==6?(U=Id(H,B.mode,se),U.return=B,U):(U=d(U,H),U.return=B,U)}function O(B,U,H,se){var Se=H.type;return Se===j?ne(B,U,H.props.children,se,H.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&aa(Se)===U.type)?(U=d(U,H.props),bl(U,H),U.return=B,U):(U=cu(H.type,H.key,H.props,null,B.mode,se),bl(U,H),U.return=B,U)}function F(B,U,H,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=xd(H,B.mode,se),U.return=B,U):(U=d(U,H.children||[]),U.return=B,U)}function ne(B,U,H,se,Se){return U===null||U.tag!==7?(U=ta(H,B.mode,se,Se),U.return=B,U):(U=d(U,H),U.return=B,U)}function re(B,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Id(""+U,B.mode,H),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return H=cu(U.type,U.key,U.props,null,B.mode,H),bl(H,U),H.return=B,H;case L:return U=xd(U,B.mode,H),U.return=B,U;case C:return U=aa(U),re(B,U,H)}if(Ve(U)||k(U))return U=ta(U,B.mode,H,null),U.return=B,U;if(typeof U.then=="function")return re(B,gu(U),H);if(U.$$typeof===le)return re(B,du(B,U),H);yu(B,U)}return null}function K(B,U,H,se){var Se=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:b(B,U,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return H.key===Se?O(B,U,H,se):null;case L:return H.key===Se?F(B,U,H,se):null;case C:return H=aa(H),K(B,U,H,se)}if(Ve(H)||k(H))return Se!==null?null:ne(B,U,H,se,null);if(typeof H.then=="function")return K(B,U,gu(H),se);if(H.$$typeof===le)return K(B,U,du(B,H),se);yu(B,H)}return null}function W(B,U,H,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return B=B.get(H)||null,b(U,B,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case P:return B=B.get(se.key===null?H:se.key)||null,O(U,B,se,Se);case L:return B=B.get(se.key===null?H:se.key)||null,F(U,B,se,Se);case C:return se=aa(se),W(B,U,H,se,Se)}if(Ve(se)||k(se))return B=B.get(H)||null,ne(U,B,se,Se,null);if(typeof se.then=="function")return W(B,U,H,gu(se),Se);if(se.$$typeof===le)return W(B,U,H,du(U,se),Se);yu(U,se)}return null}function ve(B,U,H,se){for(var Se=null,Ze=null,Te=U,Le=U=0,Ye=null;Te!==null&&Le<H.length;Le++){Te.index>Le?(Ye=Te,Te=null):Ye=Te.sibling;var et=K(B,Te,H[Le],se);if(et===null){Te===null&&(Te=Ye);break}t&&Te&&et.alternate===null&&i(B,Te),U=f(et,U,Le),Ze===null?Se=et:Ze.sibling=et,Ze=et,Te=Ye}if(Le===H.length)return a(B,Te),We&&cs(B,Le),Se;if(Te===null){for(;Le<H.length;Le++)Te=re(B,H[Le],se),Te!==null&&(U=f(Te,U,Le),Ze===null?Se=Te:Ze.sibling=Te,Ze=Te);return We&&cs(B,Le),Se}for(Te=l(Te);Le<H.length;Le++)Ye=W(Te,B,Le,H[Le],se),Ye!==null&&(t&&Ye.alternate!==null&&Te.delete(Ye.key===null?Le:Ye.key),U=f(Ye,U,Le),Ze===null?Se=Ye:Ze.sibling=Ye,Ze=Ye);return t&&Te.forEach(function(mr){return i(B,mr)}),We&&cs(B,Le),Se}function Ae(B,U,H,se){if(H==null)throw Error(r(151));for(var Se=null,Ze=null,Te=U,Le=U=0,Ye=null,et=H.next();Te!==null&&!et.done;Le++,et=H.next()){Te.index>Le?(Ye=Te,Te=null):Ye=Te.sibling;var mr=K(B,Te,et.value,se);if(mr===null){Te===null&&(Te=Ye);break}t&&Te&&mr.alternate===null&&i(B,Te),U=f(mr,U,Le),Ze===null?Se=mr:Ze.sibling=mr,Ze=mr,Te=Ye}if(et.done)return a(B,Te),We&&cs(B,Le),Se;if(Te===null){for(;!et.done;Le++,et=H.next())et=re(B,et.value,se),et!==null&&(U=f(et,U,Le),Ze===null?Se=et:Ze.sibling=et,Ze=et);return We&&cs(B,Le),Se}for(Te=l(Te);!et.done;Le++,et=H.next())et=W(Te,B,Le,et.value,se),et!==null&&(t&&et.alternate!==null&&Te.delete(et.key===null?Le:et.key),U=f(et,U,Le),Ze===null?Se=et:Ze.sibling=et,Ze=et);return t&&Te.forEach(function(rA){return i(B,rA)}),We&&cs(B,Le),Se}function ft(B,U,H,se){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case P:e:{for(var Se=H.key;U!==null;){if(U.key===Se){if(Se=H.type,Se===j){if(U.tag===7){a(B,U.sibling),se=d(U,H.props.children),se.return=B,B=se;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&aa(Se)===U.type){a(B,U.sibling),se=d(U,H.props),bl(se,H),se.return=B,B=se;break e}a(B,U);break}else i(B,U);U=U.sibling}H.type===j?(se=ta(H.props.children,B.mode,se,H.key),se.return=B,B=se):(se=cu(H.type,H.key,H.props,null,B.mode,se),bl(se,H),se.return=B,B=se)}return _(B);case L:e:{for(Se=H.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){a(B,U.sibling),se=d(U,H.children||[]),se.return=B,B=se;break e}else{a(B,U);break}else i(B,U);U=U.sibling}se=xd(H,B.mode,se),se.return=B,B=se}return _(B);case C:return H=aa(H),ft(B,U,H,se)}if(Ve(H))return ve(B,U,H,se);if(k(H)){if(Se=k(H),typeof Se!="function")throw Error(r(150));return H=Se.call(H),Ae(B,U,H,se)}if(typeof H.then=="function")return ft(B,U,gu(H),se);if(H.$$typeof===le)return ft(B,U,du(B,H),se);yu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(a(B,U.sibling),se=d(U,H),se.return=B,B=se):(a(B,U),se=Id(H,B.mode,se),se.return=B,B=se),_(B)):a(B,U)}return function(B,U,H,se){try{Sl=0;var Se=ft(B,U,H,se);return no=null,Se}catch(Te){if(Te===to||Te===mu)throw Te;var Ze=$n(29,Te,null,B.mode);return Ze.lanes=se,Ze.return=B,Ze}}}var la=Qg(!0),Xg=Qg(!1),Ws=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=lu(t),Mg(t,null,a),i}return ou(t,l,i,a),lu(t)}function wl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,He(t,a)}}function Fd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gd=!1;function Al(){if(Gd){var t=eo;if(t!==null)throw t}}function Rl(t,i,a,l){Gd=!1;var d=t.updateQueue;Ws=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var O=b,F=O.next;O.next=null,_===null?f=F:_.next=F,_=O;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==_&&(b===null?ne.firstBaseUpdate=F:b.next=F,ne.lastBaseUpdate=O))}if(f!==null){var re=d.baseState;_=0,ne=F=O=null,b=f;do{var K=b.lane&-536870913,W=K!==b.lane;if(W?($e&K)===K:(l&K)===K){K!==0&&K===Za&&(Gd=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=t,Ae=b;K=i;var ft=a;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){re=ve.call(ft,re,K);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,K=typeof ve=="function"?ve.call(ft,re,K):ve,K==null)break e;re=S({},re,K);break e;case 2:Ws=!0}}K=b.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=d.callbacks,W===null?d.callbacks=[K]:W.push(K))}else W={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(F=ne=W,O=re):ne=ne.next=W,_|=K;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;W=b,b=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);ne===null&&(O=re),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=ne,f===null&&(d.shared.lanes=0),sr|=_,t.lanes=_,t.memoizedState=re}}function Wg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var io=V(null),vu=V(0);function Zg(t,i){t=Es,Y(vu,t),Y(io,i),Es=t|i.baseLanes}function $d(){Y(vu,Es),Y(io,io.current)}function Yd(){Es=vu.current,ie(io),ie(vu)}var Yn=V(null),fi=null;function er(t){var i=t.alternate;Y(Vt,Vt.current&1),Y(Yn,t),fi===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(fi=t)}function Kd(t){Y(Vt,Vt.current),Y(Yn,t),fi===null&&(fi=t)}function ey(t){t.tag===22?(Y(Vt,Vt.current),Y(Yn,t),fi===null&&(fi=t)):tr()}function tr(){Y(Vt,Vt.current),Y(Yn,Yn.current)}function Kn(t){ie(Yn),fi===t&&(fi=null),ie(Vt)}var Vt=V(0);function _u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ds=0,je=null,ht=null,Gt=null,Eu=!1,so=!1,ca=!1,Tu=0,Cl=0,ro=null,Qb=0;function It(){throw Error(r(321))}function Qd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Gn(t[a],i[a]))return!1;return!0}function Xd(t,i,a,l,d,f){return ds=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?Ly:df,ca=!1,f=a(l,d),ca=!1,so&&(f=ny(i,a,l,d)),ty(t),f}function ty(t){J.H=xl;var i=ht!==null&&ht.next!==null;if(ds=0,Gt=ht=je=null,Eu=!1,Cl=0,ro=null,i)throw Error(r(300));t===null||$t||(t=t.dependencies,t!==null&&hu(t)&&($t=!0))}function ny(t,i,a,l){je=t;var d=0;do{if(so&&(ro=null),Cl=0,so=!1,25<=d)throw Error(r(301));if(d+=1,Gt=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=Py,f=i(a,l)}while(so);return f}function Xb(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?Nl(i):i,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),i}function Wd(){var t=Tu!==0;return Tu=0,t}function Jd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zd(t){if(Eu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Eu=!1}ds=0,Gt=ht=je=null,so=!1,Cl=Tu=0,ro=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?je.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Lt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var i=Gt===null?je.memoizedState:Gt.next;if(i!==null)Gt=i,ht=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Gt===null?je.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var i=Cl;return Cl+=1,ro===null&&(ro=[]),t=$g(ro,t,i),i=je,(Gt===null?i.memoizedState:Gt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Ly:df),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===le)return un(t)}throw Error(r(438,String(t)))}function ef(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Su(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function fs(t,i){return typeof i=="function"?i(t):i}function wu(t){var i=Lt();return tf(i,ht,t)}function tf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var b=_=null,O=null,F=i,ne=!1;do{var re=F.lane&-536870913;if(re!==F.lane?($e&re)===re:(ds&re)===re){var K=F.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===Za&&(ne=!0);else if((ds&K)===K){F=F.next,K===Za&&(ne=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=re,_=f):O=O.next=re,je.lanes|=K,sr|=K;re=F.action,ca&&a(f,re),f=F.hasEagerState?F.eagerState:a(f,re)}else K={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=K,_=f):O=O.next=K,je.lanes|=re,sr|=re;F=F.next}while(F!==null&&F!==i);if(O===null?_=f:O.next=b,!Gn(f,t.memoizedState)&&($t=!0,ne&&(a=eo,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var i=Lt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);Gn(f,i.memoizedState)||($t=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function iy(t,i,a){var l=je,d=Lt(),f=We;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Gn((ht||d).memoizedState,a);if(_&&(d.memoizedState=a,$t=!0),d=d.queue,af(ay.bind(null,l,d,t),[t]),d.getSnapshot!==i||_||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,ao(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),pt===null)throw Error(r(349));f||(ds&127)!==0||sy(l,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Su(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,oy(i)&&ly(t)}function ay(t,i,a){return a(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Gn(t,a)}catch{return!0}}function ly(t){var i=ea(t,2);i!==null&&jn(i,t,2)}function sf(t){var i=Rn();if(typeof t=="function"){var a=t;if(t=a(),ca){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},i}function cy(t,i,a,l){return t.baseState=a,tf(t,ht,typeof l=="function"?l:fs)}function Wb(t,i,a,l,d){if(Cu(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,uy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function uy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=J.T,_={};J.T=_;try{var b=a(d,l),O=J.S;O!==null&&O(_,b),hy(t,i,b)}catch(F){rf(t,i,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),J.T=f}}else try{f=a(d,l),hy(t,i,f)}catch(F){rf(t,i,F)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,i,l)},function(l){return rf(t,i,l)}):dy(t,i,a)}function dy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function rf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if(We){var a=pt.formState;if(a!==null){e:{var l=je;if(We){if(vt){t:{for(var d=vt,f=di;d.nodeType!==8;){if(!f){d=null;break t}if(d=mi(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){vt=mi(d.nextSibling),l=d.data==="F!";break e}}Qs(l)}l=!1}l&&(i=a[0])}}return a=Rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=l,a=ky.bind(null,je,l),l.dispatch=a,l=sf(!1),f=hf.bind(null,je,!1,l.queue),l=Rn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=Wb.bind(null,je,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function gy(t){var i=Lt();return yy(i,ht,t)}function yy(t,i,a){if(i=tf(t,i,my)[0],t=wu(fs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Nl(i)}catch(_){throw _===to?mu:_}else l=i;i=Lt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(je.flags|=2048,ao(9,{destroy:void 0},Jb.bind(null,d,a),null)),[l,f,t]}function Jb(t,i){t.action=i}function vy(t){var i=Lt(),a=ht;if(a!==null)return yy(i,a,t);Lt(),i=i.memoizedState,a=Lt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ao(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=Su(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Lt().memoizedState}function Au(t,i,a,l){var d=Rn();je.flags|=t,d.memoizedState=ao(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ru(t,i,a,l){var d=Lt();l=l===void 0?null:l;var f=d.memoizedState.inst;ht!==null&&l!==null&&Qd(l,ht.memoizedState.deps)?d.memoizedState=ao(i,f,a,l):(je.flags|=t,d.memoizedState=ao(1|i,f,a,l))}function Ey(t,i){Au(8390656,8,t,i)}function af(t,i){Ru(2048,8,t,i)}function Zb(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Su(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ty(t){var i=Lt().memoizedState;return Zb({ref:i,nextImpl:t}),function(){if((it&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Sy(t,i){return Ru(4,2,t,i)}function by(t,i){return Ru(4,4,t,i)}function wy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,Ru(4,4,wy.bind(null,i,t),a)}function of(){}function Ry(t,i){var a=Lt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Qd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Cy(t,i){var a=Lt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Qd(i,l[1]))return l[0];if(l=t(),ca){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function lf(t,i,a){return a===void 0||(ds&1073741824)!==0&&($e&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Nv(),je.lanes|=t,sr|=t,a)}function Ny(t,i,a,l){return Gn(a,i)?a:io.current!==null?(t=lf(t,a,l),Gn(t,i)||($t=!0),t):(ds&42)===0||(ds&1073741824)!==0&&($e&261930)===0?($t=!0,t.memoizedState=a):(t=Nv(),je.lanes|=t,sr|=t,i)}function Iy(t,i,a,l,d){var f=ue.p;ue.p=f!==0&&8>f?f:8;var _=J.T,b={};J.T=b,hf(t,!1,i,a);try{var O=d(),F=J.S;if(F!==null&&F(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=Kb(O,l);Il(t,i,ne,Wn(t))}else Il(t,i,l,Wn(t))}catch(re){Il(t,i,{then:function(){},status:"rejected",reason:re},Wn())}finally{ue.p=f,_!==null&&b.types!==null&&(_.types=b.types),J.T=_}}function ew(){}function cf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var d=xy(t).queue;Iy(t,d,i,_e,a===null?ew:function(){return Dy(t),a(l)})}function xy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=xy(t);i.next===null&&(i=t.alternate.memoizedState),Il(t,i.next.queue,{},Wn())}function uf(){return un($l)}function Oy(){return Lt().memoizedState}function My(){return Lt().memoizedState}function tw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Wn();t=Js(a);var l=Zs(i,t,a);l!==null&&(jn(l,i,a),wl(l,i,a)),i={cache:Pd()},t.payload=i;return}i=i.return}}function nw(t,i,a){var l=Wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(t)?jy(i,a):(a=Cd(t,i,a,l),a!==null&&(jn(a,t,l),Vy(a,i,l)))}function ky(t,i,a){var l=Wn();Il(t,i,a,l)}function Il(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(t))jy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,b=f(_,a);if(d.hasEagerState=!0,d.eagerState=b,Gn(b,_))return ou(t,i,d,0),pt===null&&au(),!1}catch{}if(a=Cd(t,i,d,l),a!==null)return jn(a,t,l),Vy(a,i,l),!0}return!1}function hf(t,i,a,l){if(l={lane:2,revertLane:Hf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cu(t)){if(i)throw Error(r(479))}else i=Cd(t,a,l,2),i!==null&&jn(i,t,2)}function Cu(t){var i=t.alternate;return t===je||i!==null&&i===je}function jy(t,i){so=Eu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,He(t,a)}}var xl={readContext:un,use:bu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};xl.useEffectEvent=It;var Ly={readContext:un,use:bu,useCallback:function(t,i){return Rn().memoizedState=[t,i===void 0?null:i],t},useContext:un,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Au(4194308,4,wy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Au(4194308,4,t,i)},useInsertionEffect:function(t,i){Au(4,2,t,i)},useMemo:function(t,i){var a=Rn();i=i===void 0?null:i;var l=t();if(ca){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Rn();if(a!==void 0){var d=a(i);if(ca){bn(!0);try{a(i)}finally{bn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=nw.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=Rn();return t={current:t},i.memoizedState=t},useState:function(t){t=sf(t);var i=t.queue,a=ky.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:of,useDeferredValue:function(t,i){var a=Rn();return lf(a,t,i)},useTransition:function(){var t=sf(!1);return t=Iy.bind(null,je,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,d=Rn();if(We){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),pt===null)throw Error(r(349));($e&127)!==0||sy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Ey(ay.bind(null,l,f,t),[t]),l.flags|=2048,ao(9,{destroy:void 0},ry.bind(null,l,f,a,i),null),a},useId:function(){var t=Rn(),i=pt.identifierPrefix;if(We){var a=Yi,l=$i;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Tu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Qb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:uf,useFormState:py,useActionState:py,useOptimistic:function(t){var i=Rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:ef,useCacheRefresh:function(){return Rn().memoizedState=tw.bind(null,je)},useEffectEvent:function(t){var i=Rn(),a={impl:t};return i.memoizedState=a,function(){if((it&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},df={readContext:un,use:bu,useCallback:Ry,useContext:un,useEffect:af,useImperativeHandle:Ay,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:wu,useRef:_y,useState:function(){return wu(fs)},useDebugValue:of,useDeferredValue:function(t,i){var a=Lt();return Ny(a,ht.memoizedState,t,i)},useTransition:function(){var t=wu(fs)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:uf,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=Lt();return cy(a,ht,t,i)},useMemoCache:ef,useCacheRefresh:My};df.useEffectEvent=Ty;var Py={readContext:un,use:bu,useCallback:Ry,useContext:un,useEffect:af,useImperativeHandle:Ay,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:nf,useRef:_y,useState:function(){return nf(fs)},useDebugValue:of,useDeferredValue:function(t,i){var a=Lt();return ht===null?lf(a,t,i):Ny(a,ht.memoizedState,t,i)},useTransition:function(){var t=nf(fs)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:uf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=Lt();return ht!==null?cy(a,ht,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:My};Py.useEffectEvent=Ty;function ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Wn(),d=Js(l);d.payload=i,a!=null&&(d.callback=a),i=Zs(t,d,l),i!==null&&(jn(i,t,l),wl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Wn(),d=Js(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Zs(t,d,l),i!==null&&(jn(i,t,l),wl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Wn(),l=Js(a);l.tag=2,i!=null&&(l.callback=i),i=Zs(t,l,a),i!==null&&(jn(i,t,a),wl(i,t,a))}};function Uy(t,i,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!gl(a,l)||!gl(d,f):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&mf.enqueueReplaceState(i,i.state,null)}function ua(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function By(t){ru(t)}function qy(t){console.error(t)}function Hy(t){ru(t)}function Nu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pf(t,i,a){return a=Js(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(t,i)},a}function Gy(t){return t=Js(t),t.tag=3,t}function $y(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof d!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function iw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ja(i,a,d,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?zu():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===pu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zf(t,l,d)),!1;case 22:return a.flags|=65536,l===pu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zf(t,l,d)),!1}throw Error(r(435,a.tag))}return zf(t,l,d),zu(),!1}if(We)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Md&&(t=Error(r(422),{cause:l}),_l(ci(t,a)))):(l!==Md&&(i=Error(r(423),{cause:l}),_l(ci(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=ci(l,a),d=pf(t.stateNode,l,d),Fd(t,d),xt!==4&&(xt=2)),!1;var f=Error(r(520),{cause:l});if(f=ci(f,a),Pl===null?Pl=[f]:Pl.push(f),xt!==4&&(xt=2),i===null)return!0;l=ci(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=pf(a.stateNode,l,t),Fd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gy(d),$y(d,t,a,l),Fd(a,d),!1}a=a.return}while(a!==null);return!1}var gf=Error(r(461)),$t=!1;function hn(t,i,a,l){i.child=t===null?Xg(i,null,a,l):la(i,t.child,a,l)}function Yy(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return sa(i),l=Xd(t,i,a,_,f,d),b=Wd(),t!==null&&!$t?(Jd(t,i,d),ms(t,i,d)):(We&&b&&Dd(i),i.flags|=1,hn(t,i,l,d),i.child)}function Ky(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Nd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Qy(t,i,f,l,d)):(t=cu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!wf(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(_,l)&&t.ref===i.ref)return ms(t,i,d)}return i.flags|=1,t=ls(f,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(gl(f,l)&&t.ref===i.ref)if($t=!1,i.pendingProps=l=f,wf(t,d))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,ms(t,i,d)}return yf(t,i,a,l,d)}function Xy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Wy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(i,f!==null?f.cachePool:null),f!==null?Zg(i,f):$d(),ey(i);else return l=i.lanes=536870912,Wy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(fu(i,f.cachePool),Zg(i,f),tr(),i.memoizedState=null):(t!==null&&fu(i,null),$d(),tr());return hn(t,i,d,a),i.child}function Dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wy(t,i,a,l,d){var f=zd();return f=f===null?null:{parent:Ft._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&fu(i,null),$d(),ey(i),t!==null&&Ja(t,i,l,!0),i.childLanes=d,null}function Iu(t,i){return i=Du({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return la(i,t.child,null,a),t=Iu(i,i.pendingProps),t.flags|=2,Kn(i),i.memoizedState=null,t}function sw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=Iu(i,l),i.lanes=536870912,Dl(null,t);if(Kd(i),(t=vt)?(t=u_(t,di),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=jg(t),a.return=i,i.child=a,cn=i,vt=null)):t=null,t===null)throw Qs(i);return i.lanes=536870912,null}return Iu(i,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Kd(i),d)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if($t||Ja(t,i,a,!1),d=(a&t.childLanes)!==0,$t||d){if(l=pt,l!==null&&(_=Mt(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ea(t,_),jn(l,t,_),gf;zu(),i=Jy(t,i,a)}else t=f.treeContext,vt=mi(_.nextSibling),cn=i,We=!0,Ks=null,di=!1,t!==null&&Pg(i,t),i=Iu(i,l),i.flags|=4096;return i}return t=ls(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function xu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yf(t,i,a,l,d){return sa(i),a=Xd(t,i,a,l,void 0,d),l=Wd(),t!==null&&!$t?(Jd(t,i,d),ms(t,i,d)):(We&&l&&Dd(i),i.flags|=1,hn(t,i,a,d),i.child)}function Zy(t,i,a,l,d,f){return sa(i),i.updateQueue=null,a=ny(i,l,a,d),ty(t),l=Wd(),t!==null&&!$t?(Jd(t,i,f),ms(t,i,f)):(We&&l&&Dd(i),i.flags|=1,hn(t,i,a,f),i.child)}function ev(t,i,a,l,d){if(sa(i),i.stateNode===null){var f=Ka,_=a.contextType;typeof _=="object"&&_!==null&&(f=un(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},qd(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?un(_):Ka,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ff(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&mf.enqueueReplaceState(f,f.state,null),Rl(i,l,f,d),Al(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,O=ua(a,b);f.props=O;var F=f.context,ne=a.contextType;_=Ka,typeof ne=="object"&&ne!==null&&(_=un(ne));var re=a.getDerivedStateFromProps;ne=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ne||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==_)&&zy(i,f,l,_),Ws=!1;var K=i.memoizedState;f.state=K,Rl(i,l,f,d),Al(),F=i.memoizedState,b||K!==F||Ws?(typeof re=="function"&&(ff(i,a,re,l),F=i.memoizedState),(O=Ws||Uy(i,a,O,l,K,F,_))?(ne||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=_,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Hd(t,i),_=i.memoizedProps,ne=ua(a,_),f.props=ne,re=i.pendingProps,K=f.context,F=a.contextType,O=Ka,typeof F=="object"&&F!==null&&(O=un(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==re||K!==O)&&zy(i,f,l,O),Ws=!1,K=i.memoizedState,f.state=K,Rl(i,l,f,d),Al();var W=i.memoizedState;_!==re||K!==W||Ws||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof b=="function"&&(ff(i,a,b,l),W=i.memoizedState),(ne=Ws||Uy(i,a,ne,l,K,W,O)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,W,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,W,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),f.props=l,f.state=W,f.context=O,l=ne):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,xu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=la(i,t.child,null,d),i.child=la(i,null,a,d)):hn(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ms(t,i,d),t}function tv(t,i,a,l){return na(),i.flags|=256,hn(t,i,a,l),i.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:Fg()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xn),t}function nv(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(d?er(i):tr(),(t=vt)?(t=u_(t,di),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ys!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=jg(t),a.return=i,i.child=a,cn=i,vt=null)):t=null,t===null)throw Qs(i);return nm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,d?(tr(),d=i.mode,b=Du({mode:"hidden",children:b},d),l=ta(l,d,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=_f(a),l.childLanes=Ef(t,_,a),i.memoizedState=vf,Dl(null,l)):(er(i),Tf(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)i.flags&256?(er(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(tr(),i.child=t.child,i.flags|=128,i=null):(tr(),b=l.fallback,d=i.mode,l=Du({mode:"visible",children:l.children},d),b=ta(b,d,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,la(i,t.child,null,a),l=i.child,l.memoizedState=_f(a),l.childLanes=Ef(t,_,a),i.memoizedState=vf,i=Dl(null,l));else if(er(i),nm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,_l({value:l,source:null,stack:null}),i=Sf(t,i,a)}else if($t||Ja(t,i,a,!1),_=(a&t.childLanes)!==0,$t||_){if(_=pt,_!==null&&(l=Mt(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ea(t,l),jn(_,t,l),gf;tm(b)||zu(),i=Sf(t,i,a)}else tm(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,vt=mi(b.nextSibling),cn=i,We=!0,Ks=null,di=!1,t!==null&&Pg(i,t),i=Tf(i,l.children),i.flags|=4096);return i}return d?(tr(),b=l.fallback,d=i.mode,O=t.child,F=O.sibling,l=ls(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?b=ls(F,b):(b=ta(b,d,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Dl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=_f(a):(d=b.cachePool,d!==null?(O=Ft._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Fg(),b={baseLanes:b.baseLanes|a,cachePool:d}),l.memoizedState=b,l.childLanes=Ef(t,_,a),i.memoizedState=vf,Dl(t.child,l)):(er(i),a=t.child,t=a.sibling,a=ls(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Tf(t,i){return i=Du({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Du(t,i){return t=$n(22,t,null,i),t.lanes=0,t}function Sf(t,i,a){return la(i,t.child,null,a),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Vd(t.return,i,a)}function bf(t,i,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function sv(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=Vt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,Y(Vt,_),hn(t,i,l,a),l=We?vl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,a,i);else if(t.tag===19)iv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&_u(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),bf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&_u(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}bf(i,!0,a,null,f,l);break;case"together":bf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ms(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),sr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ja(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ls(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ls(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function rw(t,i,a){switch(i.tag){case 3:Re(i,i.stateNode.containerInfo),Xs(i,Ft,t.memoizedState.cache),na();break;case 27:case 5:mt(i);break;case 4:Re(i,i.stateNode.containerInfo);break;case 10:Xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(er(i),i.flags|=128,null):(a&i.child.childLanes)!==0?nv(t,i,a):(er(i),t=ms(t,i,a),t!==null?t.sibling:null);er(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ja(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return sv(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Y(Vt,Vt.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:Xs(i,Ft,t.memoizedState.cache)}return ms(t,i,a)}function rv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!wf(t,a)&&(i.flags&128)===0)return $t=!1,rw(t,i,a);$t=(t.flags&131072)!==0}else $t=!1,We&&(i.flags&1048576)!==0&&Lg(i,vl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=aa(i.elementType),i.type=t,typeof t=="function")Nd(t)?(l=ua(t,l),i.tag=1,i=ev(null,i,t,l,a)):(i.tag=0,i=yf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===ge){i.tag=11,i=Yy(null,i,t,l,a);break e}else if(d===N){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=we(t)||t,Error(r(306,i,""))}}return i;case 0:return yf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=ua(l,i.pendingProps),ev(t,i,l,d,a);case 3:e:{if(Re(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Hd(t,i),Rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Xs(i,Ft,l),l!==f.cache&&Ld(i,[Ft],a,!0),Al(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=tv(t,i,l,a);break e}else if(l!==d){d=ci(Error(r(424)),i),_l(d),i=tv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,vt=mi(t.firstChild),cn=i,We=!0,Ks=null,di=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(na(),l===d){i=ms(t,i,a);break e}hn(t,i,l,a)}i=i.child}return i;case 26:return xu(t,i),t===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Yu(de.current).createElement(a),l[Ie]=i,l[Et]=t,dn(l,a,t),qt(l),i.stateNode=l):i.memoizedState=g_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return mt(i),t===null&&We&&(l=i.stateNode=f_(i.type,i.pendingProps,de.current),cn=i,di=!0,d=vt,cr(i.type)?(im=d,vt=mi(l.firstChild)):vt=d),hn(t,i,i.pendingProps.children,a),xu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((d=l=vt)&&(l=jw(l,i.type,i.pendingProps,di),l!==null?(i.stateNode=l,cn=i,vt=mi(l.firstChild),di=!1,d=!0):d=!1),d||Qs(i)),mt(i),d=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Jf(d,f)?l=null:_!==null&&Jf(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=Xd(t,i,Xb,null,null,a),$l._currentValue=d),xu(t,i),hn(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=vt)&&(a=Vw(a,i.pendingProps,di),a!==null?(i.stateNode=a,cn=i,vt=null,t=!0):t=!1),t||Qs(i)),null;case 13:return nv(t,i,a);case 4:return Re(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=la(i,null,l,a):hn(t,i,l,a),i.child;case 11:return Yy(t,i,i.type,i.pendingProps,a);case 7:return hn(t,i,i.pendingProps,a),i.child;case 8:return hn(t,i,i.pendingProps.children,a),i.child;case 12:return hn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Xs(i,i.type,l.value),hn(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,sa(i),d=un(d),l=l(d),i.flags|=1,hn(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return sv(t,i,a);case 31:return sw(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return sa(i),l=un(Ft),t===null?(d=zd(),d===null&&(d=pt,f=Pd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},qd(i),Xs(i,Ft,d)):((t.lanes&a)!==0&&(Hd(t,i),Rl(i,null,null,a),Al()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Xs(i,Ft,l)):(l=f.cache,Xs(i,Ft,l),l!==d.cache&&Ld(i,[Ft],a,!0))),hn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ps(t){t.flags|=4}function Af(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Ov())t.flags|=8192;else throw oa=pu,Bd}else t.flags&=-16777217}function av(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i))if(Ov())t.flags|=8192;else throw oa=pu,Bd}function Ou(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ii():536870912,t.lanes|=i,uo|=i)}function Ol(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _t(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function aw(t,i,a){var l=i.pendingProps;switch(Od(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(i),null;case 1:return _t(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hs(Ft),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wa(i)?ps(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kd())),_t(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(ps(i),f!==null?(_t(i),av(i,f)):(_t(i),Af(i,d,null,l,a))):f?f!==t.memoizedState?(ps(i),_t(i),av(i,f)):(_t(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ps(i),_t(i),Af(i,d,t,l,a)),null;case 27:if(me(i),a=de.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ps(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return _t(i),null}t=Z.current,Wa(i)?Ug(i):(t=f_(d,l,a),i.stateNode=t,ps(i))}return _t(i),null;case 5:if(me(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ps(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return _t(i),null}if(f=Z.current,Wa(i))Ug(i);else{var _=Yu(de.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Ie]=i,f[Et]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(dn(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ps(i)}}return _t(i),Af(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ps(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=de.current,Wa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=cn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ie]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||Qs(i,!0)}else t=Yu(t).createTextNode(l),t[Ie]=i,i.stateNode=t}return _t(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Wa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ie]=i}else na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),t=!1}else a=kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Kn(i),i):(Kn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return _t(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Wa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ie]=i}else na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_t(i),d=!1}else d=kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Kn(i),i):(Kn(i),null)}return Kn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ou(i,i.updateQueue),_t(i),null);case 4:return Me(),t===null&&Yf(i.stateNode.containerInfo),_t(i),null;case 10:return hs(i.type),_t(i),null;case 19:if(ie(Vt),l=i.memoizedState,l===null)return _t(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Ol(l,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=_u(t),f!==null){for(i.flags|=128,Ol(l,!1),t=f.updateQueue,i.updateQueue=t,Ou(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)kg(a,t),a=a.sibling;return Y(Vt,Vt.current&1|2),We&&cs(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Wt()>Lu&&(i.flags|=128,d=!0,Ol(l,!1),i.lanes=4194304)}else{if(!d)if(t=_u(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Ou(i,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!We)return _t(i),null}else 2*Wt()-l.renderingStartTime>Lu&&a!==536870912&&(i.flags|=128,d=!0,Ol(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,a=Vt.current,Y(Vt,d?a&1|2:a&1),We&&cs(i,l.treeForkCount),t):(_t(i),null);case 22:case 23:return Kn(i),Yd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(_t(i),i.subtreeFlags&6&&(i.flags|=8192)):_t(i),a=i.updateQueue,a!==null&&Ou(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hs(Ft),_t(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function ow(t,i){switch(Od(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return hs(Ft),Me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return me(i),null;case 31:if(i.memoizedState!==null){if(Kn(i),i.alternate===null)throw Error(r(340));na()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Kn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));na()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(Vt),null;case 4:return Me(),null;case 10:return hs(i.type),null;case 22:case 23:return Kn(i),Yd(),t!==null&&ie(ra),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return hs(Ft),null;case 25:return null;default:return null}}function ov(t,i){switch(Od(i),i.tag){case 3:hs(Ft),Me();break;case 26:case 27:case 5:me(i);break;case 4:Me();break;case 31:i.memoizedState!==null&&Kn(i);break;case 13:Kn(i);break;case 19:ie(Vt);break;case 10:hs(i.type);break;case 22:case 23:Kn(i),Yd(),t!==null&&ie(ra);break;case 24:hs(Ft)}}function Ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(b){ct(i,i.return,b)}}function nr(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,d=i;var O=a,F=b;try{F()}catch(ne){ct(d,O,ne)}}}l=l.next}while(l!==f)}}catch(ne){ct(i,i.return,ne)}}function lv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){ct(t,t.return,l)}}}function cv(t,i,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ct(t,i,l)}}function kl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){ct(t,i,d)}}function Ki(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ct(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ct(t,i,d)}else a.current=null}function uv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ct(t,t.return,d)}}function Rf(t,i,a){try{var l=t.stateNode;Iw(l,t.type,a,i),l[Et]=i}catch(d){ct(t,t.return,d)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_i));else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nf(t,i,a),t=t.sibling;t!==null;)Nf(t,i,a),t=t.sibling}function Mu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mu(t,i,a),t=t.sibling;t!==null;)Mu(t,i,a),t=t.sibling}function dv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);dn(i,l,a),i[Ie]=t,i[Et]=a}catch(f){ct(t,t.return,f)}}var gs=!1,Yt=!1,If=!1,fv=typeof WeakSet=="function"?WeakSet:Set,rn=null;function lw(t,i){if(t=t.containerInfo,Xf=eh,t=Ag(t),Td(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,F=0,ne=0,re=t,K=null;t:for(;;){for(var W;re!==a||d!==0&&re.nodeType!==3||(b=_+d),re!==f||l!==0&&re.nodeType!==3||(O=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(W=re.firstChild)!==null;)K=re,re=W;for(;;){if(re===t)break t;if(K===a&&++F===d&&(b=_),K===f&&++ne===l&&(O=_),(W=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=W}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wf={focusedElem:t,selectionRange:a},eh=!1,rn=i;rn!==null;)if(i=rn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,rn=t;else for(;rn!==null;){switch(i=rn,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ve=ua(a.type,d);t=l.getSnapshotBeforeUpdate(ve,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ct(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,rn=t;break}rn=i.return}}function mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vs(t,a),l&4&&Ml(5,a);break;case 1:if(vs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){ct(a,a.return,_)}else{var d=ua(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ct(a,a.return,_)}}l&64&&lv(a),l&512&&kl(a,a.return);break;case 3:if(vs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){ct(a,a.return,_)}}break;case 27:i===null&&l&4&&dv(a);case 26:case 5:vs(t,a),i===null&&l&4&&uv(a),l&512&&kl(a,a.return);break;case 12:vs(t,a);break;case 31:vs(t,a),l&4&&yv(t,a);break;case 13:vs(t,a),l&4&&vv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yw.bind(null,a),Lw(t,a))));break;case 22:if(l=a.memoizedState!==null||gs,!l){i=i!==null&&i.memoizedState!==null||Yt,d=gs;var f=Yt;gs=l,(Yt=i)&&!f?_s(t,a,(a.subtreeFlags&8772)!==0):vs(t,a),gs=d,Yt=f}break;case 30:break;default:vs(t,a)}}function pv(t){var i=t.alternate;i!==null&&(t.alternate=null,pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ka(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Dn=!1;function ys(t,i,a){for(a=a.child;a!==null;)gv(t,i,a),a=a.sibling}function gv(t,i,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Yt||Ki(a,i),ys(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||Ki(a,i);var l=St,d=Dn;cr(a.type)&&(St=a.stateNode,Dn=!1),ys(t,i,a),Hl(a.stateNode),St=l,Dn=d;break;case 5:Yt||Ki(a,i);case 6:if(l=St,d=Dn,St=null,ys(t,i,a),St=l,Dn=d,St!==null)if(Dn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(a.stateNode)}catch(f){ct(a,i,f)}else try{St.removeChild(a.stateNode)}catch(f){ct(a,i,f)}break;case 18:St!==null&&(Dn?(t=St,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_o(t)):l_(St,a.stateNode));break;case 4:l=St,d=Dn,St=a.stateNode.containerInfo,Dn=!0,ys(t,i,a),St=l,Dn=d;break;case 0:case 11:case 14:case 15:nr(2,a,i),Yt||nr(4,a,i),ys(t,i,a);break;case 1:Yt||(Ki(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cv(a,i,l)),ys(t,i,a);break;case 21:ys(t,i,a);break;case 22:Yt=(l=Yt)||a.memoizedState!==null,ys(t,i,a),Yt=l;break;default:ys(t,i,a)}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_o(t)}catch(a){ct(i,i.return,a)}}}function vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(a){ct(i,i.return,a)}}function cw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fv),i;default:throw Error(r(435,t.tag))}}function ku(t,i){var a=cw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=vw.bind(null,t,l);l.then(d,d)}})}function On(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(cr(b.type)){St=b.stateNode,Dn=!1;break e}break;case 5:St=b.stateNode,Dn=!1;break e;case 3:case 4:St=b.stateNode.containerInfo,Dn=!0;break e}b=b.return}if(St===null)throw Error(r(160));gv(f,_,d),St=null,Dn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_v(i,t),i=i.sibling}var Ai=null;function _v(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Mn(t),l&4&&(nr(3,t,t.return),Ml(3,t),nr(5,t,t.return));break;case 1:On(i,t),Mn(t),l&512&&(Yt||a===null||Ki(a,a.return)),l&64&&gs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Ai;if(On(i,t),Mn(t),l&512&&(Yt||a===null||Ki(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[ki]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),dn(f,l,a),f[Ie]=t,qt(f),l=f;break e;case"link":var _=__("link","href",d).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=d.createElement(l),dn(f,l,a),d.head.appendChild(f);break;case"meta":if(_=__("meta","content",d).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=d.createElement(l),dn(f,l,a),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ie]=t,qt(f),l=f}t.stateNode=l}else E_(d,t.type,t.stateNode);else t.stateNode=v_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?E_(d,t.type,t.stateNode):v_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rf(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(i,t),Mn(t),l&512&&(Yt||a===null||Ki(a,a.return)),a!==null&&l&4&&Rf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(i,t),Mn(t),l&512&&(Yt||a===null||Ki(a,a.return)),t.flags&32){d=t.stateNode;try{xn(d,"")}catch(ve){ct(t,t.return,ve)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Rf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(If=!0);break;case 6:if(On(i,t),Mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){ct(t,t.return,ve)}}break;case 3:if(Xu=null,d=Ai,Ai=Ku(i.containerInfo),On(i,t),Ai=d,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(ve){ct(t,t.return,ve)}If&&(If=!1,Ev(t));break;case 4:l=Ai,Ai=Ku(t.stateNode.containerInfo),On(i,t),Mn(t),Ai=l;break;case 12:On(i,t),Mn(t);break;case 31:On(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 13:On(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=gs,ne=Yt;if(gs=F||d,Yt=ne||O,On(i,t),Yt=ne,gs=F,Mn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||gs||Yt||ha(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var re=O.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ve){ct(O,O.return,ve)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(ve){ct(O,O.return,ve)}}}else if(i.tag===18){if(a===null){O=i;try{var W=O.stateNode;d?c_(W,!0):c_(O.stateNode,!1)}catch(ve){ct(O,O.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ku(t,a))));break;case 19:On(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 30:break;case 21:break;default:On(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(hv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=Cf(t);Mu(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(xn(_,""),a.flags&=-33);var b=Cf(t);Mu(t,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Cf(t);Nf(t,F,O);break;default:throw Error(r(161))}}catch(ne){ct(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(t,i.alternate,i),i=i.sibling}function ha(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:nr(4,i,i.return),ha(i);break;case 1:Ki(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&cv(i,i.return,a),ha(i);break;case 27:Hl(i.stateNode);case 26:case 5:Ki(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}t=t.sibling}}function _s(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:_s(d,f,a),Ml(4,f);break;case 1:if(_s(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){ct(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Wg(O[d],b)}catch(F){ct(l,l.return,F)}}a&&_&64&&lv(f),kl(f,f.return);break;case 27:dv(f);case 26:case 5:_s(d,f,a),a&&l===null&&_&4&&uv(f),kl(f,f.return);break;case 12:_s(d,f,a);break;case 31:_s(d,f,a),a&&_&4&&yv(d,f);break;case 13:_s(d,f,a),a&&_&4&&vv(d,f);break;case 22:f.memoizedState===null&&_s(d,f,a),kl(f,f.return);break;case 30:break;default:_s(d,f,a)}i=i.sibling}}function xf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Df(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t))}function Ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(t,i,a,l),i=i.sibling}function Tv(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(t,i,a,l),d&2048&&Ml(9,i);break;case 1:Ri(t,i,a,l);break;case 3:Ri(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t)));break;case 12:if(d&2048){Ri(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ct(i,i.return,O)}}else Ri(t,i,a,l);break;case 31:Ri(t,i,a,l);break;case 13:Ri(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Ri(t,i,a,l):jl(t,i):f._visibility&2?Ri(t,i,a,l):(f._visibility|=2,oo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&xf(_,i);break;case 24:Ri(t,i,a,l),d&2048&&Df(i.alternate,i);break;default:Ri(t,i,a,l)}}function oo(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,b=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:oo(f,_,b,O,d),Ml(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?oo(f,_,b,O,d):jl(f,_):(ne._visibility|=2,oo(f,_,b,O,d)),d&&F&2048&&xf(_.alternate,_);break;case 24:oo(f,_,b,O,d),d&&F&2048&&Df(_.alternate,_);break;default:oo(f,_,b,O,d)}i=i.sibling}}function jl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:jl(a,l),d&2048&&xf(l.alternate,l);break;case 24:jl(a,l),d&2048&&Df(l.alternate,l);break;default:jl(a,l)}i=i.sibling}}var Vl=8192;function lo(t,i,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Sv(t,i,a),t=t.sibling}function Sv(t,i,a){switch(t.tag){case 26:lo(t,i,a),t.flags&Vl&&t.memoizedState!==null&&Qw(a,Ai,t.memoizedState,t.memoizedProps);break;case 5:lo(t,i,a);break;case 3:case 4:var l=Ai;Ai=Ku(t.stateNode.containerInfo),lo(t,i,a),Ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,lo(t,i,a),Vl=l):lo(t,i,a));break;default:lo(t,i,a)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,Av(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&nr(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ju(t)):Ll(t);break;default:Ll(t)}}function ju(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,Av(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:nr(8,i,i.return),ju(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ju(i));break;default:ju(i)}t=t.sibling}}function Av(t,i){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:nr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else e:for(a=t;rn!==null;){l=rn;var d=l.sibling,f=l.return;if(pv(l),l===a){rn=null;break e}if(d!==null){d.return=f,rn=d;break e}rn=f}}}var uw={getCacheForType:function(t){var i=un(Ft),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return un(Ft).controller.signal}},hw=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Fe=null,$e=0,lt=0,Qn=null,ir=!1,co=!1,Of=!1,Es=0,xt=0,sr=0,da=0,Mf=0,Xn=0,uo=0,Pl=null,kn=null,kf=!1,Vu=0,Rv=0,Lu=1/0,Pu=null,rr=null,Jt=0,ar=null,ho=null,Ts=0,jf=0,Vf=null,Cv=null,Ul=0,Lf=null;function Wn(){return(it&2)!==0&&$e!==0?$e&-$e:J.T!==null?Hf():qr()}function Nv(){if(Xn===0)if(($e&536870912)===0||We){var t=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),Xn=t}else Xn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Xn}function jn(t,i,a){(t===pt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(fo(t,0),or(t,$e,Xn,!1)),Q(t,a),((it&2)===0||t!==pt)&&(t===pt&&((it&2)===0&&(da|=a),xt===4&&or(t,$e,Xn,!1)),Qi(t))}function Iv(t,i,a){if((it&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||wn(t,i),d=l?mw(t,i):Uf(t,i,!0),f=l;do{if(d===0){co&&!l&&or(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!dw(a)){d=Uf(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;d=Pl;var O=b.current.memoizedState.isDehydrated;if(O&&(fo(b,_).flags|=256),_=Uf(b,_,!1),_!==2){if(Of&&!O){b.errorRecoveryDisabledLanes|=f,da|=f,d=4;break e}f=kn,kn=d,f!==null&&(kn===null?kn=f:kn.push.apply(kn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){fo(t,0),or(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:or(l,i,Xn,!ir);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=Vu+300-Wt(),10<d)){if(or(l,i,Xn,!ir),ni(l,0,!0)!==0)break e;Ts=i,l.timeoutHandle=a_(xv.bind(null,l,a,kn,Pu,kf,i,Xn,da,uo,ir,f,"Throttled",-0,0),d);break e}xv(l,a,kn,Pu,kf,i,Xn,da,uo,ir,f,null,-0,0)}}break}while(!0);Qi(t)}function xv(t,i,a,l,d,f,_,b,O,F,ne,re,K,W){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Sv(i,f,re);var ve=(f&62914560)===f?Vu-Wt():(f&4194048)===f?Rv-Wt():0;if(ve=Xw(re,ve),ve!==null){Ts=f,t.cancelPendingCommit=ve(Pv.bind(null,t,i,f,a,l,d,_,b,O,ne,re,null,K,W)),or(t,f,_,!F);return}}Pv(t,i,f,a,l,d,_,b,O)}function dw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Gn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function or(t,i,a,l){i&=~Mf,i&=~da,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-gt(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&qe(t,a,i)}function Uu(){return(it&6)===0?(zl(0),!1):!0}function Pf(){if(Fe!==null){if(lt===0)var t=Fe.return;else t=Fe,us=ia=null,Zd(t),no=null,Sl=0,t=Fe;for(;t!==null;)ov(t.alternate,t),t=t.return;Fe=null}}function fo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ow(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ts=0,Pf(),pt=t,Fe=a=ls(t.current,null),$e=i,lt=0,Qn=null,ir=!1,co=wn(t,i),Of=!1,uo=Xn=Mf=da=sr=xt=0,kn=Pl=null,kf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-gt(l),f=1<<d;i|=t[d],l&=~f}return Es=i,au(),a}function Dv(t,i){je=null,J.H=xl,i===to||i===mu?(i=Yg(),lt=3):i===Bd?(i=Yg(),lt=4):lt=i===gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,Fe===null&&(xt=1,Nu(t,ci(i,t.current)))}function Ov(){var t=Yn.current;return t===null?!0:($e&4194048)===$e?fi===null:($e&62914560)===$e||($e&536870912)!==0?t===fi:!1}function Mv(){var t=J.H;return J.H=xl,t===null?xl:t}function kv(){var t=J.A;return J.A=uw,t}function zu(){xt=4,ir||($e&4194048)!==$e&&Yn.current!==null||(co=!0),(sr&134217727)===0&&(da&134217727)===0||pt===null||or(pt,$e,Xn,!1)}function Uf(t,i,a){var l=it;it|=2;var d=Mv(),f=kv();(pt!==t||$e!==i)&&(Pu=null,fo(t,i)),i=!1;var _=xt;e:do try{if(lt!==0&&Fe!==null){var b=Fe,O=Qn;switch(lt){case 8:Pf(),_=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var F=lt;if(lt=0,Qn=null,mo(t,b,O,F),a&&co){_=0;break e}break;default:F=lt,lt=0,Qn=null,mo(t,b,O,F)}}fw(),_=xt;break}catch(ne){Dv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,us=ia=null,it=l,J.H=d,J.A=f,Fe===null&&(pt=null,$e=0,au()),_}function fw(){for(;Fe!==null;)jv(Fe)}function mw(t,i){var a=it;it|=2;var l=Mv(),d=kv();pt!==t||$e!==i?(Pu=null,Lu=Wt()+500,fo(t,i)):co=wn(t,i);e:do try{if(lt!==0&&Fe!==null){i=Fe;var f=Qn;t:switch(lt){case 1:lt=0,Qn=null,mo(t,i,f,1);break;case 2:case 9:if(Gg(f)){lt=0,Qn=null,Vv(i);break}i=function(){lt!==2&&lt!==9||pt!==t||(lt=7),Qi(t)},f.then(i,i);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Gg(f)?(lt=0,Qn=null,Vv(i)):(lt=0,Qn=null,mo(t,i,f,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var b=Fe;if(_?T_(_):b.stateNode.complete){lt=0,Qn=null;var O=b.sibling;if(O!==null)Fe=O;else{var F=b.return;F!==null?(Fe=F,Bu(F)):Fe=null}break t}}lt=0,Qn=null,mo(t,i,f,5);break;case 6:lt=0,Qn=null,mo(t,i,f,6);break;case 8:Pf(),xt=6;break e;default:throw Error(r(462))}}pw();break}catch(ne){Dv(t,ne)}while(!0);return us=ia=null,J.H=l,J.A=d,it=a,Fe!==null?0:(pt=null,$e=0,au(),xt)}function pw(){for(;Fe!==null&&!Jo();)jv(Fe)}function jv(t){var i=rv(t.alternate,t,Es);t.memoizedProps=t.pendingProps,i===null?Bu(t):Fe=i}function Vv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:Zd(i);default:ov(a,i),i=Fe=kg(i,Es),i=rv(a,i,Es)}t.memoizedProps=t.pendingProps,i===null?Bu(t):Fe=i}function mo(t,i,a,l){us=ia=null,Zd(i),no=null,Sl=0;var d=i.return;try{if(iw(t,d,i,a,$e)){xt=1,Nu(t,ci(a,t.current)),Fe=null;return}}catch(f){if(d!==null)throw Fe=d,f;xt=1,Nu(t,ci(a,t.current)),Fe=null;return}i.flags&32768?(We||l===1?t=!0:co||($e&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(i,t)):Bu(i)}function Bu(t){var i=t;do{if((i.flags&32768)!==0){Lv(i,ir);return}t=i.return;var a=aw(i.alternate,i,Es);if(a!==null){Fe=a;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=t}while(i!==null);xt===0&&(xt=5)}function Lv(t,i){do{var a=ow(t.alternate,t);if(a!==null){a.flags&=32767,Fe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=a}while(t!==null);xt=6,Fe=null}function Pv(t,i,a,l,d,f,_,b,O){t.cancelPendingCommit=null;do qu();while(Jt!==0);if((it&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Rd,Ee(t,a,f,_,b,O),t===pt&&(Fe=pt=null,$e=0),ho=i,ar=t,Ts=a,jf=f,Vf=d,Cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_w(Un,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=ue.p,ue.p=2,_=it,it|=4;try{lw(t,i,a)}finally{it=_,ue.p=d,J.T=l}}Jt=1,Uv(),zv(),Bv()}}function Uv(){if(Jt===1){Jt=0;var t=ar,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ue.p;ue.p=2;var d=it;it|=4;try{_v(i,t);var f=Wf,_=Ag(t.containerInfo),b=f.focusedElem,O=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&wg(b.ownerDocument.documentElement,b)){if(O!==null&&Td(b)){var F=O.start,ne=O.end;if(ne===void 0&&(ne=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(ne,b.value.length);else{var re=b.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var W=K.getSelection(),ve=b.textContent.length,Ae=Math.min(O.start,ve),ft=O.end===void 0?Ae:Math.min(O.end,ve);!W.extend&&Ae>ft&&(_=ft,ft=Ae,Ae=_);var B=bg(b,Ae),U=bg(b,ft);if(B&&U&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var H=re.createRange();H.setStart(B.node,B.offset),W.removeAllRanges(),Ae>ft?(W.addRange(H),W.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),W.addRange(H))}}}}for(re=[],W=b;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<re.length;b++){var se=re[b];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}eh=!!Xf,Wf=Xf=null}finally{it=d,ue.p=l,J.T=a}}t.current=i,Jt=2}}function zv(){if(Jt===2){Jt=0;var t=ar,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ue.p;ue.p=2;var d=it;it|=4;try{mv(t,i.alternate,i)}finally{it=d,ue.p=l,J.T=a}}Jt=3}}function Bv(){if(Jt===4||Jt===3){Jt=0,Ca();var t=ar,i=ho,a=Ts,l=Cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,ho=ar=null,qv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(rr=null),Bt(a),i=i.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,d=ue.p,ue.p=2,J.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{J.T=i,ue.p=d}}(Ts&3)!==0&&qu(),Qi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Lf?Ul++:(Ul=0,Lf=t):Ul=0,zl(0)}}function qv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,El(i)))}function qu(){return Uv(),zv(),Bv(),Hv()}function Hv(){if(Jt!==5)return!1;var t=ar,i=jf;jf=0;var a=Bt(Ts),l=J.T,d=ue.p;try{ue.p=32>a?32:a,J.T=null,a=Vf,Vf=null;var f=ar,_=Ts;if(Jt=0,ho=ar=null,Ts=0,(it&6)!==0)throw Error(r(331));var b=it;if(it|=4,wv(f.current),Tv(f,f.current,_,a),it=b,zl(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{ue.p=d,J.T=l,qv(t,i)}}function Fv(t,i,a){i=ci(a,i),i=pf(t.stateNode,i,2),t=Zs(t,i,2),t!==null&&(Q(t,2),Qi(t))}function ct(t,i,a){if(t.tag===3)Fv(t,t,a);else for(;i!==null;){if(i.tag===3){Fv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=ci(a,t),a=Gy(2),l=Zs(i,a,2),l!==null&&($y(a,l,i,t),Q(l,2),Qi(l));break}}i=i.return}}function zf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Of=!0,d.add(a),t=gw.bind(null,t,i,a),i.then(t,t))}function gw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&($e&a)===a&&(xt===4||xt===3&&($e&62914560)===$e&&300>Wt()-Vu?(it&2)===0&&fo(t,0):Mf|=a,uo===$e&&(uo=0)),Qi(t)}function Gv(t,i){i===0&&(i=ii()),t=ea(t,i),t!==null&&(Q(t,i),Qi(t))}function yw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gv(t,a)}function vw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Gv(t,a)}function _w(t,i){return at(t,i)}var Hu=null,po=null,Bf=!1,Fu=!1,qf=!1,lr=0;function Qi(t){t!==po&&t.next===null&&(po===null?Hu=po=t:po=po.next=t),Fu=!0,Bf||(Bf=!0,Tw())}function zl(t,i){if(!qf&&Fu){qf=!0;do for(var a=!1,l=Hu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=d&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qv(l,f))}else f=$e,f=ni(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wn(l,f)||(a=!0,Qv(l,f));l=l.next}while(a);qf=!1}}function Ew(){$v()}function $v(){Fu=Bf=!1;var t=0;lr!==0&&Dw()&&(t=lr);for(var i=Wt(),a=null,l=Hu;l!==null;){var d=l.next,f=Yv(l,i);f===0?(l.next=null,a===null?Hu=d:a.next=d,d===null&&(po=a)):(a=l,(t!==0||(f&3)!==0)&&(Fu=!0)),l=d}Jt!==0&&Jt!==5||zl(t),lr!==0&&(lr=0)}function Yv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-gt(f),b=1<<_,O=d[_];O===-1?((b&a)===0||(b&l)!==0)&&(d[_]=Oa(b,i)):O<=i&&(t.expiredLanes|=b),f&=~b}if(i=pt,a=$e,a=ni(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Mi(l),Bt(a)){case 2:case 8:a=Vs;break;case 32:a=Un;break;case 268435456:a=Ia;break;default:a=Un}return l=Kv.bind(null,t),a=at(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Mi(l),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,i){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qu()&&t.callbackNode!==a)return null;var l=$e;return l=ni(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iv(t,l,i),Yv(t,Wt()),t.callbackNode!=null&&t.callbackNode===a?Kv.bind(null,t):null)}function Qv(t,i){if(qu())return null;Iv(t,i,!0)}function Tw(){Mw(function(){(it&6)!==0?at(Pn,Ew):$v()})}function Hf(){if(lr===0){var t=Za;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),lr=t}return lr}function Xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function Wv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Sw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Xv((d[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?Xv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var b=new qi("action","action",null,l,d);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var O=_?Wv(d,_):new FormData(d);cf(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=_?Wv(d,_):new FormData(d),cf(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var Ff=0;Ff<Ad.length;Ff++){var Gf=Ad[Ff],bw=Gf.toLowerCase(),ww=Gf[0].toUpperCase()+Gf.slice(1);wi(bw,"on"+ww)}wi(Ng,"onAnimationEnd"),wi(Ig,"onAnimationIteration"),wi(xg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(zb,"onTransitionRun"),wi(Bb,"onTransitionStart"),wi(qb,"onTransitionCancel"),wi(Dg,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Jv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,F=b.currentTarget;if(b=b.listener,O!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=F;try{f(d)}catch(ne){ru(ne)}d.currentTarget=null,f=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,F=b.currentTarget,b=b.listener,O!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=F;try{f(d)}catch(ne){ru(ne)}d.currentTarget=null,f=O}}}}function Ge(t,i){var a=i[Ma];a===void 0&&(a=i[Ma]=new Set);var l=t+"__bubble";a.has(l)||(Zv(i,t,2,!1),a.add(l))}function $f(t,i,a){var l=0;i&&(l|=4),Zv(a,t,l,i)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[Gu]){t[Gu]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(Aw.has(a)||$f(a,!1,t),$f(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Gu]||(i[Gu]=!0,$f("selectionchange",!1,i))}}function Zv(t,i,a,l){switch(N_(i)){case 2:var d=Zw;break;case 8:d=eA;break;default:d=lm}a=d.bind(null,i,a,t),d=void 0,!$r||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Kf(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===d)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;b!==null;){if(_=ji(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=f=_;continue e}b=b.parentNode}}l=l.return}Hs(function(){var F=f,ne=ri(a),re=[];e:{var K=Og.get(t);if(K!==void 0){var W=qi,ve=t;switch(t){case"keypress":if(Kr(a)===0)break e;case"keydown":case"keyup":W=nu;break;case"focusin":ve="focus",W=Xr;break;case"focusout":ve="blur",W=Xr;break;case"beforeblur":case"afterblur":W=Xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case Ng:case Ig:case xg:W=Qc;break;case Dg:W=A;break;case"scroll":case"scrollend":W=hl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=os;break;case"toggle":case"beforetoggle":W=ke}var Ae=(i&4)!==0,ft=!Ae&&(t==="scroll"||t==="scrollend"),B=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var U=F,H;U!==null;){var se=U;if(H=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||H===null||B===null||(se=Ei(U,B),se!=null&&Ae.push(ql(U,se,H))),ft)break;U=U.return}0<Ae.length&&(K=new W(K,ve,null,a,ne),re.push({event:K,listeners:Ae}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&a!==ll&&(ve=a.relatedTarget||a.fromElement)&&(ji(ve)||ve[Nn]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ve=a.relatedTarget||a.toElement,W=F,ve=ve?ji(ve):null,ve!==null&&(ft=c(ve),Ae=ve.tag,ve!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(W=null,ve=F),W!==ve)){if(Ae=dl,se="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=os,se="onPointerLeave",B="onPointerEnter",U="pointer"),ft=W==null?K:Hn(W),H=ve==null?K:Hn(ve),K=new Ae(se,U+"leave",W,a,ne),K.target=ft,K.relatedTarget=H,se=null,ji(ne)===F&&(Ae=new Ae(B,U+"enter",ve,a,ne),Ae.target=H,Ae.relatedTarget=ft,se=Ae),ft=se,W&&ve)t:{for(Ae=Rw,B=W,U=ve,H=0,se=B;se;se=Ae(se))H++;se=0;for(var Se=U;Se;Se=Ae(Se))se++;for(;0<H-se;)B=Ae(B),H--;for(;0<se-H;)U=Ae(U),se--;for(;H--;){if(B===U||U!==null&&B===U.alternate){Ae=B;break t}B=Ae(B),U=Ae(U)}Ae=null}else Ae=null;W!==null&&e_(re,K,W,Ae,!1),ve!==null&&ft!==null&&e_(re,ft,ve,Ae,!0)}}e:{if(K=F?Hn(F):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Ze=yg;else if(pg(K))if(vg)Ze=Lb;else{Ze=jb;var Te=kb}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&La(F.elementType)&&(Ze=yg):Ze=Vb;if(Ze&&(Ze=Ze(t,F))){gg(re,Ze,a,ne);break e}Te&&Te(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&rl(K,"number",K.value)}switch(Te=F?Hn(F):window,t){case"focusin":(pg(Te)||Te.contentEditable==="true")&&(Ga=Te,Sd=F,yl=null);break;case"focusout":yl=Sd=Ga=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Rg(re,a,ne);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":Rg(re,a,ne)}var Le;if(nt)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Fa?Wr(t,a)&&(Ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(Gi&&a.locale!=="ko"&&(Fa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Fa&&(Le=ul()):(Bi=ne,cl="value"in Bi?Bi.value:Bi.textContent,Fa=!0)),Te=$u(F,Ye),0<Te.length&&(Ye=new Fi(Ye,t,null,a,ne),re.push({event:Ye,listeners:Te}),Le?Ye.data=Le:(Le=Ha(a),Le!==null&&(Ye.data=Le)))),(Le=oi?xb(t,a):Db(t,a))&&(Ye=$u(F,"onBeforeInput"),0<Ye.length&&(Te=new Fi("onBeforeInput","beforeinput",null,a,ne),re.push({event:Te,listeners:Ye}),Te.data=Le)),Sw(re,t,F,a,ne)}Jv(re,i)})}function ql(t,i,a){return{instance:t,listener:i,currentTarget:a}}function $u(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ei(t,a),d!=null&&l.unshift(ql(t,d,f)),d=Ei(t,i),d!=null&&l.push(ql(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Rw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,i,a,l,d){for(var f=i._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,F=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||F===null||(O=F,d?(F=Ei(a,f),F!=null&&_.unshift(ql(a,F,O))):d||(F=Ei(a,f),F!=null&&_.push(ql(a,F,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Cw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(Cw,`
`).replace(Nw,"")}function n_(t,i){return i=t_(i),t_(t)===i}function dt(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":Fn(t,"class",l);break;case"tabIndex":Fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(t,a,l);break;case"style":ol(t,l,f);break;case"data":if(i!=="object"){Fn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&dt(t,i,"name",d.name,d,null),dt(t,i,"formEncType",d.formEncType,d,null),dt(t,i,"formMethod",d.formMethod,d,null),dt(t,i,"formTarget",d.formTarget,d,null)):(dt(t,i,"encType",d.encType,d,null),dt(t,i,"method",d.method,d,null),dt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_i);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),ja(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ja(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$c.get(a)||a,ja(t,a,l))}}function Qf(t,i,a,l,d,f){switch(a){case"style":ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Et]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ja(t,a,l)}}}function dn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(t,i,f,_,a,null)}}d&&dt(t,i,"srcSet",a.srcSet,a,null),l&&dt(t,i,"src",a.src,a,null);return;case"input":Ge("invalid",t);var b=f=_=d=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":d=ne;break;case"type":_=ne;break;case"checked":O=ne;break;case"defaultChecked":F=ne;break;case"value":f=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,i));break;default:dt(t,i,l,ne,a,null)}}Hc(t,f,b,O,F,_,d,!1);return;case"select":Ge("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:dt(t,i,d,b,a,null)}i=f,a=_,t.multiple=!!l,i!=null?Us(t,!!l,i,!1):a!=null&&Us(t,!!l,a,!0);return;case"textarea":Ge("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:dt(t,i,_,b,a,null)}zs(t,l,d,f);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":dt(t,i,O,l,a,null));return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Ge(Bl[l],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(t,i,F,l,a,null)}return;default:if(La(i)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&Qf(t,i,ne,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&dt(t,i,b,l,a,null))}function Iw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,b=null,O=null,F=null,ne=null;for(W in a){var re=a[W];if(a.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=re;default:l.hasOwnProperty(W)||dt(t,i,W,null,l,re)}}for(var K in l){var W=l[K];if(re=a[K],l.hasOwnProperty(K)&&(W!=null||re!=null))switch(K){case"type":f=W;break;case"name":d=W;break;case"checked":F=W;break;case"defaultChecked":ne=W;break;case"value":_=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:W!==re&&dt(t,i,K,W,l,re)}}Va(t,_,b,O,F,ne,f,d);return;case"select":W=_=b=K=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(f)||dt(t,i,f,null,l,O)}for(d in l)if(f=l[d],O=a[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":K=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==O&&dt(t,i,d,f,l,O)}i=b,a=_,l=W,K!=null?Us(t,!!a,K,!1):!!l!=!!a&&(i!=null?Us(t,!!a,i,!0):Us(t,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:dt(t,i,b,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":K=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&dt(t,i,_,d,l,f)}Fc(t,K,W);return;case"option":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:dt(t,i,ve,null,l,K));for(O in l)K=l[O],W=a[O],l.hasOwnProperty(O)&&K!==W&&(K!=null||W!=null)&&(O==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":dt(t,i,O,K,l,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)K=a[Ae],a.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae)&&dt(t,i,Ae,null,l,K);for(F in l)if(K=l[F],W=a[F],l.hasOwnProperty(F)&&K!==W&&(K!=null||W!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:dt(t,i,F,K,l,W)}return;default:if(La(i)){for(var ft in a)K=a[ft],a.hasOwnProperty(ft)&&K!==void 0&&!l.hasOwnProperty(ft)&&Qf(t,i,ft,void 0,l,K);for(ne in l)K=l[ne],W=a[ne],!l.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||Qf(t,i,ne,K,l,W);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&dt(t,i,B,null,l,K);for(re in l)K=l[re],W=a[re],!l.hasOwnProperty(re)||K===W||K==null&&W==null||dt(t,i,re,K,l,W)}function i_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,b=d.duration;if(f&&b&&i_(_)){for(_=0,b=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>b)break;var ne=O.transferSize,re=O.initiatorType;ne&&i_(re)&&(O=O.responseEnd,_+=ne*(O<b?1:(b-F)/(O-F)))}if(--l,i+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xf=null,Wf=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zf=null;function Dw(){var t=window.event;return t&&t.type==="popstate"?t===Zf?!1:(Zf=t,!0):(Zf=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(kw)}:a_;function kw(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function l_(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),_o(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[ki]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Hl(t.ownerDocument.body);a=d}while(a);_o(i)}function c_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ki])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=mi(t.nextSibling),t===null)break}return null}function Vw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mi(t.nextSibling),t===null))return null;return t}function u_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=mi(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function mi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var im=null;function h_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return mi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function f_(t,i,a){switch(i=Yu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Hl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ka(t)}var pi=new Map,m_=new Set;function Ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ss=ue.d;ue.d={f:Pw,r:Uw,D:zw,C:Bw,L:qw,m:Hw,X:Gw,S:Fw,M:$w};function Pw(){var t=Ss.f(),i=Uu();return t||i}function Uw(t){var i=si(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):Ss.r(t)}var go=typeof document>"u"?null:document;function p_(t,i,a){var l=go;if(l&&typeof i=="string"&&i){var d=In(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),m_.has(d)||(m_.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),dn(i,"link",t),qt(i),l.head.appendChild(i)))}}function zw(t){Ss.D(t),p_("dns-prefetch",t,null)}function Bw(t,i){Ss.C(t,i),p_("preconnect",t,i)}function qw(t,i,a){Ss.L(t,i,a);var l=go;if(l&&t&&i){var d='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+In(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+In(a.imageSizes)+'"]')):d+='[href="'+In(t)+'"]';var f=d;switch(i){case"style":f=yo(t);break;case"script":f=vo(t)}pi.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),pi.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Fl(f))||i==="script"&&l.querySelector(Gl(f))||(i=l.createElement("link"),dn(i,"link",t),qt(i),l.head.appendChild(i)))}}function Hw(t,i){Ss.m(t,i);var a=go;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vo(t)}if(!pi.has(f)&&(t=S({rel:"modulepreload",href:t},i),pi.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(f)))return}l=a.createElement("link"),dn(l,"link",t),qt(l),a.head.appendChild(l)}}}function Fw(t,i,a){Ss.S(t,i,a);var l=go;if(l&&t){var d=Vi(l).hoistableStyles,f=yo(t);i=i||"default";var _=d.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Fl(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=pi.get(f))&&sm(t,a);var O=_=l.createElement("link");qt(O),dn(O,"link",t),O._p=new Promise(function(F,ne){O.onload=F,O.onerror=ne}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qu(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},d.set(f,_)}}}function Gw(t,i){Ss.X(t,i);var a=go;if(a&&t){var l=Vi(a).hoistableScripts,d=vo(t),f=l.get(d);f||(f=a.querySelector(Gl(d)),f||(t=S({src:t,async:!0},i),(i=pi.get(d))&&rm(t,i),f=a.createElement("script"),qt(f),dn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function $w(t,i){Ss.M(t,i);var a=go;if(a&&t){var l=Vi(a).hoistableScripts,d=vo(t),f=l.get(d);f||(f=a.querySelector(Gl(d)),f||(t=S({src:t,async:!0,type:"module"},i),(i=pi.get(d))&&rm(t,i),f=a.createElement("script"),qt(f),dn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function g_(t,i,a,l){var d=(d=de.current)?Ku(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yo(a.href),a=Vi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yo(a.href);var f=Vi(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Fl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),pi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pi.set(t,a),f||Yw(d,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(a),a=Vi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yo(t){return'href="'+In(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Yw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),dn(i,"link",a),qt(i),t.head.appendChild(i))}function vo(t){return'[src="'+In(t)+'"]'}function Gl(t){return"script[async]"+t}function v_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+In(a.href)+'"]');if(l)return i.instance=l,qt(l),l;var d=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),qt(l),dn(l,"style",d),Qu(l,a.precedence,t),i.instance=l;case"stylesheet":d=yo(a.href);var f=t.querySelector(Fl(d));if(f)return i.state.loading|=4,i.instance=f,qt(f),f;l=y_(a),(d=pi.get(d))&&sm(l,d),f=(t.ownerDocument||t).createElement("link"),qt(f);var _=f;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),dn(f,"link",l),i.state.loading|=4,Qu(f,a.precedence,t),i.instance=f;case"script":return f=vo(a.src),(d=t.querySelector(Gl(f)))?(i.instance=d,qt(d),d):(l=a,(d=pi.get(f))&&(l=S({},a),rm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),qt(d),dn(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qu(l,a.precedence,t));return i.instance}function Qu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xu=null;function __(t,i,a){if(Xu===null){var l=new Map,d=Xu=new Map;d.set(a,l)}else d=Xu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[ki]||f[Ie]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function E_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Kw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Qw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=yo(l.href),f=i.querySelector(Fl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Wu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,qt(f);return}f=i.ownerDocument||i,l=y_(l),(d=pi.get(d))&&sm(l,d),f=f.createElement("link"),qt(f);var _=f;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),dn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function Xw(t,i){return t.stylesheets&&t.count===0&&Zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&am===0&&(am=62500*xw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ju=null;function Zu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ju=new Map,i.forEach(Ww,t),Ju=null,Wu.call(t))}function Ww(t,i){if(!(i.state.loading&4)){var a=Ju.get(t);if(a)var l=a.get(null);else{a=new Map,Ju.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=Wu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var $l={$$typeof:le,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Jw(t,i,a,l,d,f,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function S_(t,i,a,l,d,f,_,b,O,F,ne,re){return t=new Jw(t,i,a,_,O,F,ne,re,b),i=1,f===!0&&(i|=24),f=$n(3,null,null,i),t.current=f,f.stateNode=t,i=Pd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},qd(f),t}function b_(t){return t?(t=Ka,t):Ka}function w_(t,i,a,l,d,f){d=b_(d),l.context===null?l.context=d:l.pendingContext=d,l=Js(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Zs(t,l,i),a!==null&&(jn(a,t,i),wl(a,t,i))}function A_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function om(t,i){A_(t,i),(t=t.alternate)&&A_(t,i)}function R_(t){if(t.tag===13||t.tag===31){var i=ea(t,67108864);i!==null&&jn(i,t,67108864),om(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var i=Wn();i=kt(i);var a=ea(t,i);a!==null&&jn(a,t,i),om(t,i)}}var eh=!0;function Zw(t,i,a,l){var d=J.T;J.T=null;var f=ue.p;try{ue.p=2,lm(t,i,a,l)}finally{ue.p=f,J.T=d}}function eA(t,i,a,l){var d=J.T;J.T=null;var f=ue.p;try{ue.p=8,lm(t,i,a,l)}finally{ue.p=f,J.T=d}}function lm(t,i,a,l){if(eh){var d=cm(l);if(d===null)Kf(t,i,l,th,a),I_(t,l);else if(nA(d,t,i,a,l))l.stopPropagation();else if(I_(t,l),i&4&&-1<tA.indexOf(t)){for(;d!==null;){var f=si(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=nn(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-gt(_);b.entanglements[1]|=O,_&=~O}Qi(f),(it&6)===0&&(Lu=Wt()+500,zl(0))}}break;case 31:case 13:b=ea(f,2),b!==null&&jn(b,f,2),Uu(),om(f,2)}if(f=cm(l),f===null&&Kf(t,i,l,th,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Kf(t,i,l,null,a)}}function cm(t){return t=ri(t),um(t)}var th=null;function um(t){if(th=null,t=ji(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return th=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Pn:return 2;case Vs:return 8;case Un:case Na:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var hm=!1,ur=null,hr=null,dr=null,Yl=new Map,Kl=new Map,fr=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,i){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(i.pointerId)}}function Ql(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=si(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function nA(t,i,a,l,d){switch(i){case"focusin":return ur=Ql(ur,t,i,a,l,d),!0;case"dragenter":return hr=Ql(hr,t,i,a,l,d),!0;case"mouseover":return dr=Ql(dr,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Yl.set(f,Ql(Yl.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Kl.set(f,Ql(Kl.get(f)||null,t,i,a,l,d)),!0}return!1}function x_(t){var i=ji(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Cn(t.priority,function(){C_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Cn(t.priority,function(){C_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return i=si(a),i!==null&&R_(i),t.blockedOn=a,!1;i.shift()}return!0}function D_(t,i,a){nh(t)&&a.delete(i)}function iA(){hm=!1,ur!==null&&nh(ur)&&(ur=null),hr!==null&&nh(hr)&&(hr=null),dr!==null&&nh(dr)&&(dr=null),Yl.forEach(D_),Kl.forEach(D_)}function ih(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iA)))}var sh=null;function O_(t){sh!==t&&(sh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var f=si(a);f!==null&&(t.splice(i,3),i-=3,cf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function _o(t){function i(O){return ih(O,t)}ur!==null&&ih(ur,t),hr!==null&&ih(hr,t),dr!==null&&ih(dr,t),Yl.forEach(i),Kl.forEach(i);for(var a=0;a<fr.length;a++){var l=fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fr.length&&(a=fr[0],a.blockedOn===null);)x_(a),a.blockedOn===null&&fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Et]||null;if(typeof f=="function")_||O_(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Et]||null)b=_.formAction;else if(um(d)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),O_(a)}}}function M_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function dm(t){this._internalRoot=t}rh.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Wn();w_(a,l,t,i,null,null)},rh.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;w_(t.current,2,null,t,null,null),Uu(),i[Nn]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var i=qr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<fr.length&&i!==0&&i<fr[a].priority;a++);fr.splice(a,0,t),a===0&&x_(t)}};var k_=e.version;if(k_!=="19.2.4")throw Error(r(527,k_,"19.2.4"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var sA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{zn=ah.inject(sA),Ot=ah}catch{}}return Wl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",d=By,f=qy,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=S_(t,1,!1,null,null,a,l,null,d,f,_,M_),t[Nn]=i.current,Yf(t),new dm(i)},Wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,d="",f=By,_=qy,b=Hy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=S_(t,1,!0,i,a??null,l,d,O,f,_,b,M_),i.context=b_(null),a=i.current,l=Wn(),l=kt(l),d=Js(l),d.callback=null,Zs(a,d,l),a=l,i.current.lanes=a,Q(i,a),Qi(i),t[Nn]=i.current,Yf(t),new rh(i)},Wl.version="19.2.4",Wl}var F_;function mA(){if(F_)return pm.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pm.exports=fA(),pm.exports}var pA=mA();var G_="popstate";function gA(s={}){function e(r,o){let{pathname:c,search:h,hash:p}=r.location;return km("",{pathname:c,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:dc(o)}return vA(e,n,null,s)}function wt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function xi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yA(){return Math.random().toString(36).substring(2,10)}function $_(s,e){return{usr:s.state,key:s.key,idx:e}}function km(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:n,key:e&&e.key||r||yA()}}function dc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function zo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function vA(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,p="POP",g=null,v=T();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function T(){return(h.state||{idx:null}).idx}function S(){p="POP";let z=T(),ee=z==null?null:z-v;v=z,g&&g({action:p,location:j.location,delta:ee})}function w(z,ee){p="PUSH";let G=km(j.location,z,ee);v=T()+1;let le=$_(G,v),ge=j.createHref(G);try{h.pushState(le,"",ge)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(ge)}c&&g&&g({action:p,location:j.location,delta:1})}function P(z,ee){p="REPLACE";let G=km(j.location,z,ee);v=T();let le=$_(G,v),ge=j.createHref(G);h.replaceState(le,"",ge),c&&g&&g({action:p,location:j.location,delta:0})}function L(z){return _A(z)}let j={get action(){return p},get location(){return s(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,S),g=z,()=>{o.removeEventListener(G_,S),g=null}},createHref(z){return e(o,z)},createURL:L,encodeLocation(z){let ee=L(z);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:w,replace:P,go(z){return h.go(z)}};return j}function _A(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:dc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function O0(s,e,n="/"){return EA(s,e,n,!1)}function EA(s,e,n,r){let o=typeof e=="string"?zo(e):e,c=Ns(o.pathname||"/",n);if(c==null)return null;let h=M0(s);TA(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=OA(c);p=xA(h[g],v,r)}return p}function M0(s,e=[],n=[],r="",o=!1){let c=(h,p,g=o,v)=>{let T={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;wt(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let S=Rs([r,T.relativePath]),w=n.concat(T);h.children&&h.children.length>0&&(wt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),M0(h.children,e,w,S,g)),!(h.path==null&&!h.index)&&e.push({path:S,score:NA(S,h.index),routesMeta:w})};return s.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of k0(h.path))c(h,p,!0,g)}),e}function k0(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=k0(r.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function TA(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:IA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SA=/^:[\w-]+$/,bA=3,wA=2,AA=1,RA=10,CA=-2,Y_=s=>s==="*";function NA(s,e){let n=s.split("/"),r=n.length;return n.some(Y_)&&(r+=CA),e&&(r+=wA),n.filter(o=>!Y_(o)).reduce((o,c)=>o+(SA.test(c)?bA:c===""?AA:RA),r)}function IA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function xA(s,e,n=!1){let{routesMeta:r}=s,o={},c="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],v=p===r.length-1,T=c==="/"?e:e.slice(c.length)||"/",S=Nh({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},T),w=g.route;if(!S&&v&&n&&!r[r.length-1].route.index&&(S=Nh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Rs([c,S.pathname]),pathnameBase:VA(Rs([c,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(c=Rs([c,S.pathnameBase]))}return h}function Nh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=DA(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((v,{paramName:T,isOptional:S},w)=>{if(T==="*"){let L=p[w]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const P=p[w];return S&&!P?v[T]=void 0:v[T]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:s}}function DA(s,e=!1,n=!0){xi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function OA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ns(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var MA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function kA(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?zo(s):s,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=K_(n.substring(1),"/"):c=K_(n,e)):c=e,{pathname:c,search:LA(r),hash:PA(o)}}function K_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jA(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(s){let e=jA(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gp(s,e,n,r=!1){let o;typeof s=="string"?o=zo(s):(o={...s},wt(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let c=s===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?e[S]:"/"}let g=kA(o,p),v=h&&h!=="/"&&h.endsWith("/"),T=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||T)&&(g.pathname+="/"),g}var Rs=s=>s.join("/").replace(/\/\/+/g,"/"),VA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,PA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,UA=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function BA(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function V0(s,e){let n=s;if(typeof n!="string"||!MA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(j0)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Ns(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{xi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var qA=["GET",...L0];new Set(qA);var Bo=M.createContext(null);Bo.displayName="DataRouter";var Wh=M.createContext(null);Wh.displayName="DataRouterState";var HA=M.createContext(!1),P0=M.createContext({isTransitioning:!1});P0.displayName="ViewTransition";var FA=M.createContext(new Map);FA.displayName="Fetchers";var GA=M.createContext(null);GA.displayName="Await";var ei=M.createContext(null);ei.displayName="Navigation";var Ac=M.createContext(null);Ac.displayName="Location";var is=M.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var yp=M.createContext(null);yp.displayName="RouteError";var U0="REACT_ROUTER_ERROR",$A="REDIRECT",YA="ROUTE_ERROR_RESPONSE";function KA(s){if(s.startsWith(`${U0}:${$A}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QA(s){if(s.startsWith(`${U0}:${YA}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new UA(e.status,e.statusText,e.data)}catch{}}function XA(s,{relative:e}={}){wt(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(ei),{hash:o,pathname:c,search:h}=Rc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Rs([n,c])),r.createHref({pathname:p,search:h,hash:o})}function qo(){return M.useContext(Ac)!=null}function Ms(){return wt(qo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ac).location}var z0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B0(s){M.useContext(ei).static||M.useLayoutEffect(s)}function ks(){let{isDataRoute:s}=M.useContext(is);return s?c1():WA()}function WA(){wt(qo(),"useNavigate() may be used only in the context of a <Router> component.");let s=M.useContext(Bo),{basename:e,navigator:n}=M.useContext(ei),{matches:r}=M.useContext(is),{pathname:o}=Ms(),c=JSON.stringify(pp(r)),h=M.useRef(!1);return B0(()=>{h.current=!0}),M.useCallback((g,v={})=>{if(xi(h.current,z0),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=gp(g,JSON.parse(c),o,v.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Rs([e,T.pathname])),(v.replace?n.replace:n.push)(T,v.state,v)},[e,n,c,o,s])}M.createContext(null);function Rc(s,{relative:e}={}){let{matches:n}=M.useContext(is),{pathname:r}=Ms(),o=JSON.stringify(pp(n));return M.useMemo(()=>gp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function JA(s,e){return q0(s,e)}function q0(s,e,n,r,o){wt(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(ei),{matches:h}=M.useContext(is),p=h[h.length-1],g=p?p.params:{},v=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let G=S&&S.path||"";F0(v,!S||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=Ms(),P;if(e){let G=typeof e=="string"?zo(e):e;wt(T==="/"||G.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${G.pathname}" was given in the \`location\` prop.`),P=G}else P=w;let L=P.pathname||"/",j=L;if(T!=="/"){let G=T.replace(/^\//,"").split("/");j="/"+L.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=O0(s,{pathname:j});xi(S||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),xi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=i1(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:Rs([T,c.encodeLocation?c.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?T:Rs([T,c.encodeLocation?c.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),h,n,r,o);return e&&ee?M.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ee):ee}function ZA(){let s=l1(),e=zA(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,h)}var e1=M.createElement(ZA,null),H0=class extends M.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=QA(s.digest);n&&(s=n)}let e=s!==void 0?M.createElement(is.Provider,{value:this.props.routeContext},M.createElement(yp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?M.createElement(t1,{error:s},e):e}};H0.contextType=HA;var Em=new WeakMap;function t1({children:s,error:e}){let{basename:n}=M.useContext(ei);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=KA(e.digest);if(r){let o=Em.get(e);if(o)throw o;let c=V0(r.location,n);if(j0&&!Em.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Em.set(e,h),h}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function n1({routeContext:s,match:e,children:n}){let r=M.useContext(Bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(is.Provider,{value:s},n)}function i1(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,h=n?.errors;if(h!=null){let T=c.findIndex(S=>S.route.id&&h?.[S.route.id]!==void 0);wt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let S=c[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=T),S.route.id){let{loaderData:w,errors:P}=n,L=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||L){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let v=n&&r?(T,S)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:BA(n.matches),errorInfo:S})}:void 0;return c.reduceRight((T,S,w)=>{let P,L=!1,j=null,z=null;n&&(P=h&&S.route.id?h[S.route.id]:void 0,j=S.route.errorElement||e1,p&&(g<0&&w===0?(F0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,z=null):g===w&&(L=!0,z=S.route.hydrateFallbackElement||null)));let ee=e.concat(c.slice(0,w+1)),G=()=>{let le;return P?le=j:L?le=z:S.route.Component?le=M.createElement(S.route.Component,null):S.route.element?le=S.route.element:le=T,M.createElement(n1,{match:S,routeContext:{outlet:T,matches:ee,isDataRoute:n!=null},children:le})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?M.createElement(H0,{location:n.location,revalidation:n.revalidation,component:j,error:P,children:G(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:v}):G()},null)}function vp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(s){let e=M.useContext(Bo);return wt(e,vp(s)),e}function r1(s){let e=M.useContext(Wh);return wt(e,vp(s)),e}function a1(s){let e=M.useContext(is);return wt(e,vp(s)),e}function _p(s){let e=a1(s),n=e.matches[e.matches.length-1];return wt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function o1(){return _p("useRouteId")}function l1(){let s=M.useContext(yp),e=r1("useRouteError"),n=_p("useRouteError");return s!==void 0?s:e.errors?.[n]}function c1(){let{router:s}=s1("useNavigate"),e=_p("useNavigate"),n=M.useRef(!1);return B0(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{xi(n.current,z0),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var Q_={};function F0(s,e,n){!e&&!Q_[s]&&(Q_[s]=!0,xi(!1,n))}M.memo(u1);function u1({routes:s,future:e,state:n,onError:r}){return q0(s,void 0,n,r,e)}function h1({to:s,replace:e,state:n,relative:r}){wt(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(ei);xi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(is),{pathname:h}=Ms(),p=ks(),g=gp(s,pp(c),h,r==="path"),v=JSON.stringify(g);return M.useEffect(()=>{p(JSON.parse(v),{replace:e,state:n,relative:r})},[p,v,r,e,n]),null}function gr(s){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){wt(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=zo(n));let{pathname:v="/",search:T="",hash:S="",state:w=null,key:P="default"}=n,L=M.useMemo(()=>{let j=Ns(v,p);return j==null?null:{location:{pathname:j,search:T,hash:S,state:w,key:P},navigationType:r}},[p,v,T,S,w,P,r]);return xi(L!=null,`<Router basename="${p}"> is not able to match the URL "${v}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:M.createElement(ei.Provider,{value:g},M.createElement(Ac.Provider,{children:e,value:L}))}function f1({children:s,location:e}){return JA(jm(s),e)}function jm(s,e=[]){let n=[];return M.Children.forEach(s,(r,o)=>{if(!M.isValidElement(r))return;let c=[...e,o];if(r.type===M.Fragment){n.push.apply(n,jm(r.props.children,c));return}wt(r.type===gr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=jm(r.props.children,c)),n.push(h)}),n}var gh="get",yh="application/x-www-form-urlencoded";function Jh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function m1(s){return Jh(s)&&s.tagName.toLowerCase()==="button"}function p1(s){return Jh(s)&&s.tagName.toLowerCase()==="form"}function g1(s){return Jh(s)&&s.tagName.toLowerCase()==="input"}function y1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function v1(s,e){return s.button===0&&(!e||e==="_self")&&!y1(s)}var oh=null;function _1(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var E1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(s){return s!=null&&!E1.has(s)?(xi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):s}function T1(s,e){let n,r,o,c,h;if(p1(s)){let p=s.getAttribute("action");r=p?Ns(p,e):null,n=s.getAttribute("method")||gh,o=Tm(s.getAttribute("enctype"))||yh,c=new FormData(s)}else if(m1(s)||g1(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?Ns(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||gh,o=Tm(s.getAttribute("formenctype"))||Tm(p.getAttribute("enctype"))||yh,c=new FormData(p,s),!_1()){let{name:v,type:T,value:S}=s;if(T==="image"){let w=v?`${v}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else v&&c.append(v,S)}}else{if(Jh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,r=null,o=yh,h=s}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function S1(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ns(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function b1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function A1(s,e,n){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await b1(c,n);return h.links?h.links():[]}return[]}));return I1(r.flat(1).filter(w1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(s,e,n,r,o,c){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,p=(g,v)=>n[v].pathname!==g.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,v)=>h(g,v)||p(g,v)):c==="data"?e.filter((g,v)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function R1(s,e,{includeHydrateFallback:n}={}){return C1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function C1(s){return[...new Set(s)]}function N1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function I1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(N1(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function G0(){let s=M.useContext(Bo);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function x1(){let s=M.useContext(Wh);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=M.createContext(void 0);Tp.displayName="FrameworkContext";function $0(){let s=M.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function D1(s,e){let n=M.useContext(Tp),[r,o]=M.useState(!1),[c,h]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:T,onTouchStart:S}=e,w=M.useRef(null);M.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let j=ee=>{ee.forEach(G=>{h(G.isIntersecting)})},z=new IntersectionObserver(j,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[s]),M.useEffect(()=>{if(r){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[r]);let P=()=>{o(!0)},L=()=>{o(!1),h(!1)};return n?s!=="intent"?[c,w,{}]:[c,w,{onFocus:Jl(p,P),onBlur:Jl(g,L),onMouseEnter:Jl(v,P),onMouseLeave:Jl(T,L),onTouchStart:Jl(S,P)}]:[!1,w,{}]}function Jl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function O1({page:s,...e}){let{router:n}=G0(),r=M.useMemo(()=>O0(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?M.createElement(k1,{page:s,matches:r,...e}):null}function M1(s){let{manifest:e,routeModules:n}=$0(),[r,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return A1(s,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[s,e,n]),r}function k1({page:s,matches:e,...n}){let r=Ms(),{future:o,manifest:c,routeModules:h}=$0(),{basename:p}=G0(),{loaderData:g,matches:v}=x1(),T=M.useMemo(()=>X_(s,e,v,c,r,"data"),[s,e,v,c,r]),S=M.useMemo(()=>X_(s,e,v,c,r,"assets"),[s,e,v,c,r]),w=M.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let j=new Set,z=!1;if(e.forEach(G=>{let le=c.routes[G.route.id];!le||!le.hasLoader||(!T.some(ge=>ge.route.id===G.route.id)&&G.route.id in g&&h[G.route.id]?.shouldRevalidate||le.hasClientLoader?z=!0:j.add(G.route.id))}),j.size===0)return[];let ee=S1(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return z&&j.size>0&&ee.searchParams.set("_routes",e.filter(G=>j.has(G.route.id)).map(G=>G.route.id).join(",")),[ee.pathname+ee.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,r,c,T,e,s,h]),P=M.useMemo(()=>R1(S,c),[S,c]),L=M1(S);return M.createElement(M.Fragment,null,w.map(j=>M.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),P.map(j=>M.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),L.map(({key:j,link:z})=>M.createElement("link",{key:j,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function j1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.13.0")}catch{}function L1({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=M.useRef();o.current==null&&(o.current=gA({window:r,v5Compat:!0}));let c=o.current,[h,p]=M.useState({action:c.action,location:c.location}),g=M.useCallback(v=>{n===!1?p(v):M.startTransition(()=>p(v))},[n]);return M.useLayoutEffect(()=>c.listen(g),[c,g]),M.createElement(d1,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var Y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K0=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},L){let{basename:j,unstable_useTransitions:z}=M.useContext(ei),ee=typeof v=="string"&&Y0.test(v),G=V0(v,j);v=G.to;let le=XA(v,{relative:o}),[ge,$,te]=D1(r,P),N=B1(v,{replace:h,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:z});function C(x){e&&e(x),x.defaultPrevented||N(x)}let R=M.createElement("a",{...P,...te,href:G.absoluteURL||le,onClick:G.isExternal||c?e:C,ref:j1(L,$),target:g,"data-discover":!ee&&n==="render"?"true":void 0});return ge&&!ee?M.createElement(M.Fragment,null,R,M.createElement(O1,{page:le})):R});K0.displayName="Link";var P1=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...v},T){let S=Rc(h,{relative:v.relative}),w=Ms(),P=M.useContext(Wh),{navigator:L,basename:j}=M.useContext(ei),z=P!=null&&$1(S)&&p===!0,ee=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,G=w.pathname,le=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(G=G.toLowerCase(),le=le?le.toLowerCase():null,ee=ee.toLowerCase()),le&&j&&(le=Ns(le,j)||le);const ge=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let $=G===ee||!o&&G.startsWith(ee)&&G.charAt(ge)==="/",te=le!=null&&(le===ee||!o&&le.startsWith(ee)&&le.charAt(ee.length)==="/"),N={isActive:$,isPending:te,isTransitioning:z},C=$?e:void 0,R;typeof r=="function"?R=r(N):R=[r,$?"active":null,te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof c=="function"?c(N):c;return M.createElement(K0,{...v,"aria-current":C,className:R,ref:T,style:x,to:h,viewTransition:p},typeof g=="function"?g(N):g)});P1.displayName="NavLink";var U1=M.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:h=gh,action:p,onSubmit:g,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},L)=>{let{unstable_useTransitions:j}=M.useContext(ei),z=F1(),ee=G1(p,{relative:v}),G=h.toLowerCase()==="get"?"get":"post",le=typeof p=="string"&&Y0.test(p),ge=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let te=$.nativeEvent.submitter,N=te?.getAttribute("formmethod")||h,C=()=>z(te||$.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:c,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w});j&&n!==!1?M.startTransition(()=>C()):C()};return M.createElement("form",{ref:L,method:G,action:ee,onSubmit:r?g:ge,...P,"data-discover":!le&&s==="render"?"true":void 0})});U1.displayName="Form";function z1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q0(s){let e=M.useContext(Bo);return wt(e,z1(s)),e}function B1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let v=ks(),T=Ms(),S=Rc(s,{relative:c});return M.useCallback(w=>{if(v1(w,e)){w.preventDefault();let P=n!==void 0?n:dc(T)===dc(S),L=()=>v(s,{replace:P,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});g?M.startTransition(()=>L()):L()}},[T,v,S,n,r,e,s,o,c,h,p,g])}var q1=0,H1=()=>`__${String(++q1)}__`;function F1(){let{router:s}=Q0("useSubmit"),{basename:e}=M.useContext(ei),n=o1(),r=s.fetch,o=s.navigate;return M.useCallback(async(c,h={})=>{let{action:p,method:g,encType:v,formData:T,body:S}=T1(c,e);if(h.navigate===!1){let w=h.fetcherKey||H1();await r(w,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:S,formMethod:h.method||g,formEncType:h.encType||v,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:S,formMethod:h.method||g,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function G1(s,{relative:e}={}){let{basename:n}=M.useContext(ei),r=M.useContext(is);wt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Rc(s||".",{relative:e})},h=Ms();if(s==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();c.search=T?`?${T}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Rs([n,c.pathname])),dc(c)}function $1(s,{relative:e}={}){let n=M.useContext(P0);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q0("useViewTransitionState"),o=Rc(s,{relative:e});if(!n.isTransitioning)return!1;let c=Ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,c)!=null}const Y1=()=>{};var W_={};const X0=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},K1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],h=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},W0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,p=h?s[o+1]:0,g=o+2<s.length,v=g?s[o+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let w=(p&15)<<2|v>>6,P=v&63;g||(P=64,h||(w=64)),r.push(n[T],n[S],n[w],n[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(X0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):K1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const v=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||v==null||S==null)throw new Q1;const w=c<<2|p>>4;if(r.push(w),v!==64){const P=p<<4&240|v>>2;if(r.push(P),S!==64){const L=v<<6&192|S;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X1=function(s){const e=X0(s);return W0.encodeByteArray(e,!0)},Ih=function(s){return X1(s).replace(/\./g,"")},J0=function(s){try{return W0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const J1=()=>W1().__FIREBASE_DEFAULTS__,Z1=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&J0(s[1]);return e&&JSON.parse(e)},Zh=()=>{try{return Y1()||J1()||Z1()||eR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Z0=s=>Zh()?.emulatorHosts?.[s],tR=s=>{const e=Z0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eT=()=>Zh()?.config,tT=s=>Zh()?.[`_${s}`];class nR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ho(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nT(s){return(await fetch(s,{credentials:"include"})).ok}function iR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(h)),""].join(".")}const ac={};function sR(){const s={prod:[],emulator:[]};for(const e of Object.keys(ac))ac[e]?s.emulator.push(e):s.prod.push(e);return s}function rR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let J_=!1;function iT(s,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||ac[s]===e||ac[s]||J_)return;ac[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=sR().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function v(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{J_=!0,h()},w}function T(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=rR(r),P=n("text"),L=document.getElementById(P)||document.createElement("span"),j=n("learnmore"),z=document.getElementById(j)||document.createElement("a"),ee=n("preprendIcon"),G=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const le=w.element;p(le),T(z,j);const ge=v();g(G,ee),le.append(G,L,z,ge),document.body.appendChild(le)}c?(L.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function oR(){const s=Zh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dR(){return!oR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function mR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const pR="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pR,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?gR(c,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new js(o,p,r)}}function gR(s,e){return s.replace(yR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const yR=/\{\$([^}]+)}/g;function vR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function pa(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],h=e[o];if(Z_(c)&&Z_(h)){if(!pa(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Nc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function nc(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function _R(s,e){const n=new ER(s,e);return n.subscribe.bind(n)}class ER{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Sm(){}function tn(s){return s&&s._delegate?s._delegate:s}class ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class SR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(s){return s===fa?void 0:s}function wR(s){return s.instantiationMode==="EAGER"}class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const RR={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},CR=Ke.INFO,NR={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},IR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=NR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=CR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const xR=(s,e)=>e.some(n=>s instanceof n);let eE,tE;function DR(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OR(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,Vm=new WeakMap,rT=new WeakMap,bm=new WeakMap,bp=new WeakMap;function MR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(Sr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&sT.set(n,s)}).catch(()=>{}),bp.set(e,s),e}function kR(s){if(Vm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Vm.set(s,e)}let Lm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||rT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jR(s){Lm=s(Lm)}function VR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(wm(this),e,...n);return rT.set(r,e.sort?e.sort():[e]),Sr(r)}:OR().includes(s)?function(...e){return s.apply(wm(this),e),Sr(sT.get(this))}:function(...e){return Sr(s.apply(wm(this),e))}}function LR(s){return typeof s=="function"?VR(s):(s instanceof IDBTransaction&&kR(s),xR(s,DR())?new Proxy(s,Lm):s)}function Sr(s){if(s instanceof IDBRequest)return MR(s);if(bm.has(s))return bm.get(s);const e=LR(s);return e!==s&&(bm.set(s,e),bp.set(e,s)),e}const wm=s=>bp.get(s);function PR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),p=Sr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(Sr(h.result),g.oldVersion,g.newVersion,Sr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const UR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Am=new Map;function nE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=zR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),o&&g.done]))[0]};return Am.set(e,c),c}jR(s=>({...s,get:(e,n,r)=>nE(e,n)||s.get(e,n,r),has:(e,n)=>!!nE(e,n)||s.has(e,n)}));class BR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qR(s){return s.getComponent()?.type==="VERSION"}const Pm="@firebase/app",iE="0.14.7";const Is=new Sp("@firebase/app"),HR="@firebase/app-compat",FR="@firebase/analytics-compat",GR="@firebase/analytics",$R="@firebase/app-check-compat",YR="@firebase/app-check",KR="@firebase/auth",QR="@firebase/auth-compat",XR="@firebase/database",WR="@firebase/data-connect",JR="@firebase/database-compat",ZR="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",sC="@firebase/messaging-compat",rC="@firebase/performance",aC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",cC="@firebase/storage",uC="@firebase/storage-compat",hC="@firebase/firestore",dC="@firebase/ai",fC="@firebase/firestore-compat",mC="firebase",pC="12.8.0";const Um="[DEFAULT]",gC={[Pm]:"fire-core",[HR]:"fire-core-compat",[GR]:"fire-analytics",[FR]:"fire-analytics-compat",[YR]:"fire-app-check",[$R]:"fire-app-check-compat",[KR]:"fire-auth",[QR]:"fire-auth-compat",[XR]:"fire-rtdb",[WR]:"fire-data-connect",[JR]:"fire-rtdb-compat",[ZR]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[sC]:"fire-fcm-compat",[rC]:"fire-perf",[aC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[cC]:"fire-gcs",[uC]:"fire-gcs-compat",[hC]:"fire-fst",[fC]:"fire-fst-compat",[dC]:"fire-vertex","fire-js":"fire-js",[mC]:"fire-js-all"};const xh=new Map,yC=new Map,zm=new Map;function sE(s,e){try{s.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Mo(s){const e=s.name;if(zm.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,s);for(const n of xh.values())sE(n,s);for(const n of yC.values())sE(n,s);return!0}function wp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function gi(s){return s==null?!1:s.settings!==void 0}const vC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Cc("app","Firebase",vC);class _C{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Fo=pC;function Ap(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Um,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw br.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw br.create("no-options");const c=xh.get(o);if(c){if(pa(n,c.options)&&pa(r,c.config))return c;throw br.create("duplicate-app",{appName:o})}const h=new AR(o);for(const g of zm.values())h.addComponent(g);const p=new _C(n,r,h);return xh.set(o,p),p}function aT(s=Um){const e=xh.get(s);if(!e&&s===Um&&eT())return Ap();if(!e)throw br.create("no-app",{appName:s});return e}function wr(s,e,n){let r=gC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(h.join(" "));return}Mo(new ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const EC="firebase-heartbeat-database",TC=1,fc="firebase-heartbeat-store";let Rm=null;function oT(){return Rm||(Rm=PR(EC,TC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),Rm}async function SC(s){try{const n=(await oT()).transaction(fc),r=await n.objectStore(fc).get(lT(s));return await n.done,r}catch(e){if(e instanceof js)Is.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function rE(s,e){try{const r=(await oT()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,lT(s)),await r.done}catch(n){if(n instanceof js)Is.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function lT(s){return`${s.name}!${s.options.appId}`}const bC=1024,wC=30;class AC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>wC){const o=NC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:r}=RC(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Is.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function RC(s,e=bC){const n=[];let r=s.slice();for(const o of s){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),oE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?mR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(s){return Ih(JSON.stringify({version:2,heartbeats:s})).length}function NC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function IC(s){Mo(new ga("platform-logger",e=>new BR(e),"PRIVATE")),Mo(new ga("heartbeat",e=>new AC(e),"PRIVATE")),wr(Pm,iE,s),wr(Pm,iE,"esm2020"),wr("fire-js","")}IC("");function cT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xC=cT,uT=new Cc("auth","Firebase",cT());const Dh=new Sp("@firebase/auth");function DC(s,...e){Dh.logLevel<=Ke.WARN&&Dh.warn(`Auth (${Fo}): ${s}`,...e)}function vh(s,...e){Dh.logLevel<=Ke.ERROR&&Dh.error(`Auth (${Fo}): ${s}`,...e)}function Di(s,...e){throw Rp(s,...e)}function Wi(s,...e){return Rp(s,...e)}function hT(s,e,n){const r={...xC(),[e]:n};return new Cc("auth","Firebase",r).create(e,{appName:s.name})}function Cs(s){return hT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return uT.create(s,...e)}function Ce(s,e,...n){if(!s)throw Rp(e,...n)}function ws(s){const e="INTERNAL ASSERTION FAILED: "+s;throw vh(e),new Error(e)}function xs(s,e){s||ws(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function OC(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}function MC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OC()||cR()||"connection"in navigator)?navigator.onLine:!0}function kC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=aR()||uR()}get(){return MC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(s,e){xs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LC=new Ic(3e4,6e4);function Vr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Lr(s,e,n,r,o={}){return fT(s,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const p=Nc({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:g,...c};return lR()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Ho(s.emulatorConfig.host)&&(v.credentials="include"),dT.fetch()(await mT(s,s.config.apiHost,n,p),v)})}async function fT(s,e,n){s._canInitEmulator=!1;const r={...jC,...e};try{const o=new UC(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw lh(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,v]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw lh(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw lh(s,"user-disabled",h);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw hT(s,T,v);Di(s,T)}}catch(o){if(o instanceof js)throw o;Di(s,"network-request-failed",{message:String(o)})}}async function xc(s,e,n,r,o={}){const c=await Lr(s,e,n,r,o);return"mfaPendingCredential"in c&&Di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function mT(s,e,n,r){const o=`${e}${n}?${r}`,c=s,h=c.config.emulator?Cp(s.config,o):`${s.config.apiScheme}://${o}`;return VC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function PC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),LC.get())})}}function lh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Wi(s,e,r);return o.customData._tokenResponse=n,o}function cE(s){return s!==void 0&&s.enterprise!==void 0}class zC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BC(s,e){return Lr(s,"GET","/v2/recaptchaConfig",Vr(s,e))}async function qC(s,e){return Lr(s,"POST","/v1/accounts:delete",e)}async function Oh(s,e){return Lr(s,"POST","/v1/accounts:lookup",e)}function oc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HC(s,e=!1){const n=tn(s),r=await n.getIdToken(e),o=Np(r);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:r,authTime:oc(Cm(o.auth_time)),issuedAtTime:oc(Cm(o.iat)),expirationTime:oc(Cm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cm(s){return Number(s)*1e3}function Np(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=J0(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uE(s){const e=Np(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mc(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&FC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function FC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class GC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mh(s){const e=s.auth,n=await s.getIdToken(),r=await mc(s,Oh(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?pT(o.providerUserInfo):[],h=YC(s.providerData,c),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,v=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function $C(s){const e=tn(s);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YC(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function pT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function KC(s,e){const n=await fT(s,{},async()=>{const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await mT(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ho(s.emulatorConfig.host)&&(g.credentials="include"),dT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QC(s,e){return Lr(s,"POST","/v2/accounts:revokeToken",Vr(s,e))}class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await KC(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,h=new Ro;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ws("not implemented")}}function pr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ci{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new GC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HC(this,e)}reload(){return $C(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await mc(this,qC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,v=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:L,stsTokenManager:j}=n;Ce(S&&j,e,"internal-error");const z=Ro.fromJSON(this.name,j);Ce(typeof S=="string",e,"internal-error"),pr(r,e.name),pr(o,e.name),Ce(typeof w=="boolean",e,"internal-error"),Ce(typeof P=="boolean",e,"internal-error"),pr(c,e.name),pr(h,e.name),pr(p,e.name),pr(g,e.name),pr(v,e.name),pr(T,e.name);const ee=new Ci({uid:S,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:P,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:z,createdAt:v,lastLoginAt:T});return L&&Array.isArray(L)&&(ee.providerData=L.map(G=>({...G}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,n,r=!1){const o=new Ro;o.updateFromServerResponse(n);const c=new Ci({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Mh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?pT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new Ro;p.updateFromIdToken(r);const g=new Ci({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,v),g}}const hE=new Map;function As(s){xs(s instanceof Function,"Expected a class definition");let e=hE.get(s);return e?(xs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,hE.set(s,e),e)}class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gT.type="NONE";const dE=gT;function _h(s,e,n){return`firebase:${s}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,c),this.fullPersistenceKey=_h("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(As(dE),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||As(dE);const h=_h(r,e.config.apiKey,e.name);let p=null;for(const v of n)try{const T=await v._get(h);if(T){let S;if(typeof T=="string"){const w=await Oh(e,{idToken:T}).catch(()=>{});if(!w)break;S=await Ci._fromGetAccountInfoResponse(e,w,T)}else S=Ci._fromJSON(e,T);v!==c&&(p=S),c=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,r):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new Co(c,e,r))}}function fE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ET(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ST(e))return"Blackberry";if(bT(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(TT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function yT(s=Tn()){return/firefox\//i.test(s)}function vT(s=Tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(s=Tn()){return/crios\//i.test(s)}function ET(s=Tn()){return/iemobile/i.test(s)}function TT(s=Tn()){return/android/i.test(s)}function ST(s=Tn()){return/blackberry/i.test(s)}function bT(s=Tn()){return/webos/i.test(s)}function Ip(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function XC(s=Tn()){return Ip(s)&&!!window.navigator?.standalone}function WC(){return hR()&&document.documentMode===10}function wT(s=Tn()){return Ip(s)||TT(s)||bT(s)||ST(s)||/windows phone/i.test(s)||ET(s)}function AT(s,e=[]){let n;switch(s){case"Browser":n=fE(Tn());break;case"Worker":n=`${fE(Tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}class JC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ZC(s,e={}){return Lr(s,"GET","/v2/passwordPolicy",Vr(s,e))}const eN=6;class tN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class nN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new JC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),r=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(Cs(this));const n=e?tn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZC(this),n=new tN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ba(s){return tn(s)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iN(s){ed=s}function RT(s){return ed.loadJS(s)}function sN(){return ed.recaptchaEnterpriseScript}function rN(){return ed.gapiScript}function aN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class oN{constructor(){this.enterprise=new lN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cN="recaptcha-enterprise",CT="NO_RECAPTCHA";class uN{constructor(e){this.type=cN,this.auth=ba(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{BC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new zC(g);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,h(v.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;cE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(v=>{h(v)}).catch(()=>{h(CT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!n&&cE(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sN();g.length!==0&&(g+=p),RT(g).then(()=>{o(p,c,h)}).catch(v=>{h(v)})}}).catch(p=>{h(p)})})}}async function pE(s,e,n,r=!1,o=!1){const c=new uN(s);let h;if(o)h=CT;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pE(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await pE(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(c)})}function hN(s,e){const n=wp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(pa(c,e??{}))return o;Di(o,"already-initialized")}return n.initialize({options:e})}function dN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(As);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function fN(s,e,n){const r=ba(s);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=NT(e),{host:h,port:p}=mN(e),g=p===null?"":`:${p}`,v={url:`${c}//${h}${g}/`},T=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(pa(v,r.config.emulator)&&pa(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Ho(h)?(nT(`${c}//${h}${g}`),iT("Auth",!0)):pN()}function NT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mN(s){const e=NT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:gE(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:gE(h)}}}function gE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function pN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function gN(s,e){return Lr(s,"POST","/v1/accounts:signUp",e)}async function yN(s,e){return xc(s,"POST","/v1/accounts:signInWithPassword",Vr(s,e))}async function vN(s,e){return xc(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}async function _N(s,e){return xc(s,"POST","/v1/accounts:signInWithEmailLink",Vr(s,e))}class pc extends xp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",yN);case"emailLink":return vN(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,r,"signUpPassword",gN);case"emailLink":return _N(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function No(s,e){return xc(s,"POST","/v1/accounts:signInWithIdp",Vr(s,e))}const EN="http://localhost";class ya extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const h=new ya(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,No(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}function TN(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SN(s){const e=tc(nc(s)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(s)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||s}class Dp{constructor(e){const n=tc(nc(e)),r=n.apiKey??null,o=n.oobCode??null,c=TN(n.mode??null);Ce(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SN(e);try{return new Dp(n)}catch{return null}}}class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dp.parseLink(n);return Ce(r,"argument-error"),pc._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class IT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dc extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends Dc{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class vr extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class _r extends Dc{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class Er extends Dc{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";async function bN(s,e){return xc(s,"POST","/v1/accounts:signUp",Vr(s,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Ci._fromIdTokenResponse(e,r,o),h=yE(r);return new va({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=yE(r);return new va({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function yE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class kh extends js{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new kh(e,n,r,o)}}function xT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(s,c,e,r):c})}async function wN(s,e,n=!1){const r=await mc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return va._forOperation(s,"link",r)}async function AN(s,e,n=!1){const{auth:r}=s;if(gi(r.app))return Promise.reject(Cs(r));const o="reauthenticate";try{const c=await mc(s,xT(r,o,e,s),n);Ce(c.idToken,r,"internal-error");const h=Np(c.idToken);Ce(h,r,"internal-error");const{sub:p}=h;return Ce(s.uid===p,r,"user-mismatch"),va._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Di(r,"user-mismatch"),c}}async function DT(s,e,n=!1){if(gi(s.app))return Promise.reject(Cs(s));const r="signIn",o=await xT(s,r,e),c=await va._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function RN(s,e){return DT(ba(s),e)}async function OT(s){const e=ba(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CN(s,e,n){if(gi(s.app))return Promise.reject(Cs(s));const r=ba(s),h=await Hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&OT(s),g}),p=await va._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function NN(s,e,n){return gi(s.app)?Promise.reject(Cs(s)):RN(tn(s),Go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OT(s),r})}function IN(s,e){return tn(s).setPersistence(e)}function xN(s,e,n,r){return tn(s).onIdTokenChanged(e,n,r)}function DN(s,e,n){return tn(s).beforeAuthStateChanged(e,n)}function ON(s,e,n,r){return tn(s).onAuthStateChanged(e,n,r)}function MT(s){return tn(s).signOut()}const jh="__sak";class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MN=1e3,kN=10;class jT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);WC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const VT=jT;class LT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LT.type="SESSION";const Op=LT;function jN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async v=>v(n.origin,c)),g=await jN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];function Mp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class VN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const v=Mp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===v)switch(w.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ji(){return window}function LN(s){Ji().location.href=s}function PT(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function PN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UN(){return navigator?.serviceWorker?.controller||null}function zN(){return PT()?self:null}const UT="firebaseLocalStorageDb",BN=1,Vh="firebaseLocalStorage",zT="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nd(s,e){return s.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function qN(){const s=indexedDB.deleteDatabase(UT);return new Oc(s).toPromise()}function Fm(){const s=indexedDB.open(UT,BN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vh,{keyPath:zT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await qN(),e(await Fm()))})})}async function vE(s,e,n){const r=nd(s,!0).put({[zT]:e,value:n});return new Oc(r).toPromise()}async function HN(s,e){const n=nd(s,!1).get(e),r=await new Oc(n).toPromise();return r===void 0?null:r.value}function _E(s,e){const n=nd(s,!0).delete(e);return new Oc(n).toPromise()}const FN=800,GN=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PN(),!this.activeServiceWorker)return;this.sender=new VN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await vE(e,jh,"1"),await _E(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=nd(o,!1).getAll();return new Oc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const $N=BT;new Ic(3e4,6e4);function YN(s,e){return e?As(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KN(s){return DT(s.auth,new kp(s),s.bypassAuthState)}function QN(s){const{auth:e,user:n}=s;return Ce(n,e,"internal-error"),AN(n,new kp(s),s.bypassAuthState)}async function XN(s){const{auth:e,user:n}=s;return Ce(n,e,"internal-error"),wN(n,new kp(s),s.bypassAuthState)}class qT{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return QN;default:Di(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WN=new Ic(2e3,1e4);class wo extends qT{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}wo.currentPopupAction=null;const JN="pendingRedirect",Eh=new Map;class ZN extends qT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const r=await eI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eI(s,e){const n=iI(e),r=nI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function tI(s,e){Eh.set(s._key(),e)}function nI(s){return As(s._redirectPersistence)}function iI(s){return _h(JN,s.config.apiKey,s.name)}async function sI(s,e,n=!1){if(gi(s.app))return Promise.reject(Cs(s));const r=ba(s),o=YN(r,e),h=await new ZN(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const rI=600*1e3;class aI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rI&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function HT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function oI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(s);default:return!1}}async function lI(s,e={}){return Lr(s,"GET","/v1/projects",e)}const cI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function hI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lI(s);for(const n of e)try{if(dI(n))return}catch{}Di(s,"unauthorized-domain")}function dI(s){const e=Bm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!uI.test(n))return!1;if(cI.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const fI=new Ic(3e4,6e4);function TE(){const s=Ji().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function mI(s){return new Promise((e,n)=>{function r(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Wi(s,"network-request-failed"))},timeout:fI.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)r();else{const o=aN("iframefcb");return Ji()[o]=()=>{gapi.load?r():n(Wi(s,"network-request-failed"))},RT(`${rN()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Th=null,e})}let Th=null;function pI(s){return Th=Th||mI(s),Th}const gI=new Ic(5e3,15e3),yI="__/auth/iframe",vI="emulator/auth/iframe",_I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TI(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Cp(e,vI):`https://${s.config.authDomain}/${yI}`,r={apiKey:e.apiKey,appName:s.name,v:Fo},o=EI.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Nc(r).slice(1)}`}async function SI(s){const e=await pI(s),n=Ji().gapi;return Ce(n,s,"internal-error"),e.open({where:document.body,url:TI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_I,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=Wi(s,"network-request-failed"),p=Ji().setTimeout(()=>{c(h)},gI.get());function g(){Ji().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{c(h)})}))}const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,AI=600,RI="_blank",CI="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NI(s,e,n,r=wI,o=AI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...bI,width:r.toString(),height:o.toString(),top:c,left:h},v=Tn().toLowerCase();n&&(p=_T(v)?RI:n),yT(v)&&(e=e||CI,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[P,L])=>`${w}${P}=${L},`,"");if(XC(v)&&p!=="_self")return II(e||"",p),new SE(null);const S=window.open(e||"",p,T);Ce(S,s,"popup-blocked");try{S.focus()}catch{}return new SE(S)}function II(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const xI="__/auth/handler",DI="emulator/auth/handler",OI=encodeURIComponent("fac");async function bE(s,e,n,r,o,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Fo,eventId:o};if(e instanceof IT){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",vR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(e instanceof Dc){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),v=g?`#${OI}=${encodeURIComponent(g)}`:"";return`${MI(s)}?${Nc(p).slice(1)}${v}`}function MI({config:s}){return s.emulator?Cp(s,DI):`https://${s.authDomain}/${xI}`}const Nm="webStorageSupport";class kI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Op,this._completeRedirectFn=sI,this._overrideRedirectResult=tI}async _openPopup(e,n,r,o){xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await bE(e,n,r,Bm(),o);return NI(e,c,Mp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await bE(e,n,r,Bm(),o);return LN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(xs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SI(e),r=new aI(e);return n.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const c=o?.[0]?.[Nm];c!==void 0&&n(!!c),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||vT()||Ip()}}const jI=kI;var wE="@firebase/auth",AE="1.12.0";class VI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PI(s){Mo(new ga("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(s)},v=new nN(r,o,c,g);return dN(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mo(new ga("auth-internal",e=>{const n=ba(e.getProvider("auth").getImmediate());return(r=>new VI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(wE,AE,LI(s)),wr(wE,AE,"esm2020")}const UI=300,zI=tT("authIdTokenMaxAge")||UI;let RE=null;const BI=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zI)return;const o=n?.token;RE!==o&&(RE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FT(s=aT()){const e=wp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=hN(s,{popupRedirectResolver:jI,persistence:[$N,VT,Op]}),r=tT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=BI(c.toString());DN(n,h,()=>h(n.currentUser)),xN(n,p=>h(p))}}const o=Z0("auth");return o&&fN(n,`http://${o}`),n}function qI(){return document.getElementsByTagName("head")?.[0]??document}iN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Wi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",qI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PI("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ar,GT;(function(){var s;function e(N,C){function R(){}R.prototype=C.prototype,N.F=C.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(x,D,k){for(var I=Array(arguments.length-2),we=2;we<arguments.length;we++)I[we-2]=arguments[we];return C.prototype[D].apply(x,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,R){R||(R=0);const x=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)x[D]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(D=0;D<16;++D)x[D]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=N.g[0],R=N.g[1],D=N.g[2];let k=N.g[3],I;I=C+(k^R&(D^k))+x[0]+3614090360&4294967295,C=R+(I<<7&4294967295|I>>>25),I=k+(D^C&(R^D))+x[1]+3905402710&4294967295,k=C+(I<<12&4294967295|I>>>20),I=D+(R^k&(C^R))+x[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(C^D&(k^C))+x[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(k^R&(D^k))+x[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=k+(D^C&(R^D))+x[5]+1200080426&4294967295,k=C+(I<<12&4294967295|I>>>20),I=D+(R^k&(C^R))+x[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(C^D&(k^C))+x[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(k^R&(D^k))+x[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=k+(D^C&(R^D))+x[9]+2336552879&4294967295,k=C+(I<<12&4294967295|I>>>20),I=D+(R^k&(C^R))+x[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(C^D&(k^C))+x[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(k^R&(D^k))+x[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=k+(D^C&(R^D))+x[13]+4254626195&4294967295,k=C+(I<<12&4294967295|I>>>20),I=D+(R^k&(C^R))+x[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(C^D&(k^C))+x[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(D^k&(R^D))+x[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(C^R))+x[6]+3225465664&4294967295,k=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(k^C))+x[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^C&(D^k))+x[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^k&(R^D))+x[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(C^R))+x[10]+38016083&4294967295,k=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(k^C))+x[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^C&(D^k))+x[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^k&(R^D))+x[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(C^R))+x[14]+3275163606&4294967295,k=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(k^C))+x[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^C&(D^k))+x[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^k&(R^D))+x[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(C^R))+x[2]+4243563512&4294967295,k=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(k^C))+x[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^C&(D^k))+x[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(R^D^k)+x[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=k+(C^R^D)+x[8]+2272392833&4294967295,k=C+(I<<11&4294967295|I>>>21),I=D+(k^C^R)+x[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^C)+x[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^k)+x[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=k+(C^R^D)+x[4]+1272893353&4294967295,k=C+(I<<11&4294967295|I>>>21),I=D+(k^C^R)+x[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^C)+x[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^k)+x[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=k+(C^R^D)+x[0]+3936430074&4294967295,k=C+(I<<11&4294967295|I>>>21),I=D+(k^C^R)+x[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^C)+x[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^k)+x[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=k+(C^R^D)+x[12]+3873151461&4294967295,k=C+(I<<11&4294967295|I>>>21),I=D+(k^C^R)+x[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^C)+x[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(D^(R|~k))+x[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=k+(R^(C|~D))+x[7]+1126891415&4294967295,k=C+(I<<10&4294967295|I>>>22),I=D+(C^(k|~R))+x[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~C))+x[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~k))+x[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=k+(R^(C|~D))+x[3]+2399980690&4294967295,k=C+(I<<10&4294967295|I>>>22),I=D+(C^(k|~R))+x[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~C))+x[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~k))+x[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=k+(R^(C|~D))+x[15]+4264355552&4294967295,k=C+(I<<10&4294967295|I>>>22),I=D+(C^(k|~R))+x[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~C))+x[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~k))+x[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=k+(R^(C|~D))+x[11]+3174756917&4294967295,k=C+(I<<10&4294967295|I>>>22),I=D+(C^(k|~R))+x[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~C))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const R=C-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<C;){if(D==0)for(;k<=R;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<C;)if(x[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,x),D=0;break}}else for(;k<C;)if(x[D++]=N[k++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)N[C++]=this.g[R]>>>x&255;return N};function c(N,C){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=C(N)}function h(N,C){this.h=C;const R=[];let x=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;x&&k==C||(R[D]=k,x=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?c(N,function(C){return new h([C|0],C<0?-1:0)}):new h([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return z(v(-N));const C=[];let R=1;for(let x=0;N>=R;x++)C[x]=N/R|0,R*=4294967296;return new h(C,0)}function T(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return z(T(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(C,8));let x=S;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),C);D<8?(D=v(Math.pow(C,D)),x=x.j(D).add(v(I))):(x=x.j(R),x=x.add(v(I)))}return x}var S=g(0),w=g(1),P=g(16777216);s=h.prototype,s.m=function(){if(j(this))return-z(this).m();let N=0,C=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);N+=(x>=0?x:4294967296+x)*C,C*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(j(this))return"-"+z(this).toString(N);const C=v(Math.pow(N,6));var R=this;let x="";for(;;){const D=ge(R,C).g;R=ee(R,D.j(C));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,L(R))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function j(N){return N.h==-1}s.l=function(N){return N=ee(this,N),j(N)?-1:L(N)?0:1};function z(N){const C=N.g.length,R=[];for(let x=0;x<C;x++)R[x]=~N.g[x];return new h(R,~N.h).add(w)}s.abs=function(){return j(this)?z(this):this},s.add=function(N){const C=Math.max(this.g.length,N.g.length),R=[];let x=0;for(let D=0;D<=C;D++){let k=x+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);x=I>>>16,k&=65535,I&=65535,R[D]=I<<16|k}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ee(N,C){return N.add(z(C))}s.j=function(N){if(L(this)||L(N))return S;if(j(this))return j(N)?z(this).j(z(N)):z(z(this).j(N));if(j(N))return z(this.j(z(N)));if(this.l(P)<0&&N.l(P)<0)return v(this.m()*N.m());const C=this.g.length+N.g.length,R=[];for(var x=0;x<2*C;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<N.g.length;D++){const k=this.i(x)>>>16,I=this.i(x)&65535,we=N.i(D)>>>16,Ve=N.i(D)&65535;R[2*x+2*D]+=I*Ve,G(R,2*x+2*D),R[2*x+2*D+1]+=k*Ve,G(R,2*x+2*D+1),R[2*x+2*D+1]+=I*we,G(R,2*x+2*D+1),R[2*x+2*D+2]+=k*we,G(R,2*x+2*D+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new h(R,0)};function G(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function le(N,C){this.g=N,this.h=C}function ge(N,C){if(L(C))throw Error("division by zero");if(L(N))return new le(S,S);if(j(N))return C=ge(z(N),C),new le(z(C.g),z(C.h));if(j(C))return C=ge(N,z(C)),new le(z(C.g),C.h);if(N.g.length>30){if(j(N)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var R=w,x=C;x.l(N)<=0;)R=$(R),x=$(x);var D=te(R,1),k=te(x,1);for(x=te(x,2),R=te(R,2);!L(x);){var I=k.add(x);I.l(N)<=0&&(D=D.add(R),k=I),x=te(x,1),R=te(R,1)}return C=ee(N,D.j(C)),new le(D,C)}for(D=S;N.l(C)>=0;){for(R=Math.max(1,Math.floor(N.m()/C.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=v(R),I=k.j(C);j(I)||I.l(N)>0;)R-=x,k=v(R),I=k.j(C);L(k)&&(k=w),D=D.add(k),N=ee(N,I)}return new le(D,N)}s.B=function(N){return ge(this,N).h},s.and=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<C;x++)R[x]=this.i(x)&N.i(x);return new h(R,this.h&N.h)},s.or=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<C;x++)R[x]=this.i(x)|N.i(x);return new h(R,this.h|N.h)},s.xor=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<C;x++)R[x]=this.i(x)^N.i(x);return new h(R,this.h^N.h)};function $(N){const C=N.g.length+1,R=[];for(let x=0;x<C;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new h(R,N.h)}function te(N,C){const R=C>>5;C%=32;const x=N.g.length-R,D=[];for(let k=0;k<x;k++)D[k]=C>0?N.i(k+R)>>>C|N.i(k+R+1)<<32-C:N.i(k+R);return new h(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GT=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=T,Ar=h}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $T,ic,YT,Sh,Gm,KT,QT,XT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<u.length;++y){var E=u[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(u,y){if(y)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in E))break e;E=E[q]}u=u[u.length-1],A=E[u],y=y(A),y!=A&&y!=null&&e(E,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var c=c||{},h=this||self;function p(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function g(u,y,E){return u.call.apply(u.bind,arguments)}function v(u,y,E){return v=g,v.apply(null,arguments)}function T(u,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,y){function E(){}E.prototype=y.prototype,u.Z=y.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,q,X){for(var he=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)he[ke-2]=arguments[ke];return y.prototype[q].apply(A,he)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const y=u.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=u[A];return E}return[]}function L(u,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=u.length||0;const X=q.length||0;u.length=E+X;for(let he=0;he<X;he++)u[E+he]=q[he]}else u.push(q)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(u){h.setTimeout(()=>{throw u},0)}function ee(){var u=N;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,E){const A=le.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new j(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let $,te=!1,N=new G,C=()=>{const u=Promise.resolve(void 0);$=()=>{u.then(R)}};function R(){for(var u;u=ee();){try{u.h.call(u.g)}catch(E){z(E)}var y=le;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}te=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function we(u,y){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}S(we,D),we.prototype.init=function(u,y){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(E=="mouseover"?y=u.fromElement:E=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),J=0;function ue(u,y,E,A,q){this.listener=u,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++J,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,y,E){for(const A in u)y.call(E,u[A],A,u)}function Be(u,y){for(const E in u)y.call(void 0,u[E],E,u)}function V(u){const y={};for(const E in u)y[E]=u[E];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(u,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)u[E]=A[E];for(let X=0;X<ie.length;X++)E=ie[X],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function Z(u){this.src=u,this.g={},this.h=0}Z.prototype.add=function(u,y,E,A,q){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const he=de(u,y,A,q);return he>-1?(y=u[he],E||(y.fa=!1)):(y=new ue(y,this.src,X,!!A,q),y.fa=E,u.push(y)),y};function ce(u,y){const E=y.type;if(E in u.g){var A=u.g[E],q=Array.prototype.indexOf.call(A,y,void 0),X;(X=q>=0)&&Array.prototype.splice.call(A,q,1),X&&(_e(y),u.g[E].length==0&&(delete u.g[E],u.h--))}}function de(u,y,E,A){for(let q=0;q<u.length;++q){const X=u[q];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==A)return q}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Re={};function Me(u,y,E,A,q){if(Array.isArray(y)){for(let X=0;X<y.length;X++)Me(u,y[X],E,A,q);return null}return E=Dt(E),u&&u[Ve]?u.J(y,E,p(A)?!!A.capture:!1,q):mt(u,y,E,!1,A,q)}function mt(u,y,E,A,q,X){if(!y)throw Error("Invalid event type");const he=p(q)?!!q.capture:!!q;let ke=tt(u);if(ke||(u[fe]=ke=new Z(u)),E=ke.add(y,E,A,he,X),E.proxy)return E;if(A=me(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)k||(q=he),q===void 0&&(q=!1),u.addEventListener(y.toString(),A,q);else if(u.attachEvent)u.attachEvent(zt(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function me(){function u(E){return y.call(u.src,u.listener,E)}const y=vi;return u}function Ut(u,y,E,A,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ut(u,y[X],E,A,q);else A=p(A)?!!A.capture:!!A,E=Dt(E),u&&u[Ve]?(u=u.i,X=String(y).toString(),X in u.g&&(y=u.g[X],E=de(y,E,A,q),E>-1&&(_e(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete u.g[X],u.h--)))):u&&(u=tt(u))&&(y=u.g[y.toString()],u=-1,y&&(u=de(y,E,A,q)),(E=u>-1?y[u]:null)&&Rt(E))}function Rt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ve])ce(y.i,u);else{var E=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(E,A,u.capture):y.detachEvent?y.detachEvent(zt(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=tt(y))?(ce(E,u),E.h==0&&(E.src=null,y[fe]=null)):_e(u)}}}function zt(u){return u in Re?Re[u]:Re[u]="on"+u}function vi(u,y){if(u.da)u=!0;else{y=new we(y,this);const E=u.listener,A=u.ha||u.src;u.fa&&Rt(u),u=E.call(A,y)}return u}function tt(u){return u=u[fe],u instanceof Z?u:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dt(u){return typeof u=="function"?u:(u[Ct]||(u[Ct]=function(y){return u.handleEvent(y)}),u[Ct])}function rt(){x.call(this),this.i=new Z(this),this.M=this,this.G=null}S(rt,x),rt.prototype[Ve]=!0,rt.prototype.removeEventListener=function(u,y,E,A){Ut(this,u,y,E,A)};function at(u,y){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new D(y,u);else if(y instanceof D)y.target=y.target||u;else{var q=y;y=new D(A,u),Y(y,q)}q=!0;let X,he;if(E)for(he=E.length-1;he>=0;he--)X=y.g=E[he],q=Mi(X,A,!0,y)&&q;if(X=y.g=u,q=Mi(X,A,!0,y)&&q,q=Mi(X,A,!1,y)&&q,E)for(he=0;he<E.length;he++)X=y.g=E[he],q=Mi(X,A,!1,y)&&q}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const E=u.g[y];for(let A=0;A<E.length;A++)_e(E[A]);delete u.g[y],u.h--}}this.G=null},rt.prototype.J=function(u,y,E,A){return this.i.add(String(u),y,!1,E,A)},rt.prototype.K=function(u,y,E,A){return this.i.add(String(u),y,!0,E,A)};function Mi(u,y,E,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let X=0;X<y.length;++X){const he=y[X];if(he&&!he.da&&he.capture==E){const ke=he.listener,jt=he.ha||he.src;he.fa&&ce(u.i,he),q=ke.call(jt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Jo(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(u,y||0)}function Ca(u){u.g=Jo(()=>{u.g=null,u.i&&(u.i=!1,Ca(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Wt extends x{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(u){x.call(this),this.h=u,this.g={}}S(Sn,x);var Pn=[];function Vs(u){Ue(u.g,function(y,E){this.g.hasOwnProperty(E)&&Rt(y)},u),u.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),Vs(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=h.JSON.stringify,Na=h.JSON.parse,Ia=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function zr(){}function Br(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){D.call(this,"d")}S(Ot,D);function bn(){D.call(this,"c")}S(bn,D);var gt={},xa=null;function Ls(){return xa=xa||new rt}gt.Ia="serverreachability";function Da(u){D.call(this,gt.Ia,u)}S(Da,D);function ti(u){const y=Ls();at(y,new Da(y))}gt.STAT_EVENT="statevent";function ss(u,y){D.call(this,gt.STAT_EVENT,u),this.stat=y}S(ss,D);function Nt(u){const y=Ls();at(y,new ss(y,u))}gt.Ja="timingevent";function nn(u,y){D.call(this,gt.Ja,u),this.size=y}S(nn,D);function ni(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},y)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function Oa(u,y,E,A,q,X){u.info(function(){if(u.g)if(X){var he="",ke=X.split("&");for(let nt=0;nt<ke.length;nt++){var jt=ke[nt].split("=");if(jt.length>1){const Tt=jt[0];jt=jt[1];const oi=Tt.split("_");he=oi.length>=2&&oi[1]=="type"?he+(Tt+"="+jt+"&"):he+(Tt+"=redacted&")}}}else he=null;else he=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+he})}function ii(u,y,E,A,q,X,he){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+X+" "+he})}function Bn(u,y,E,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ee(u,E)+(A?" "+A:"")})}function Q(u,y){u.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function Ee(u,y){if(!u.g)return y;if(!y)return null;try{const X=JSON.parse(y);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var E=X[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let he=1;he<A.length;he++)A[he]=""}}}}return Un(X)}catch{return y}}var qe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},He={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mt;function kt(){}S(kt,zr),kt.prototype.g=function(){return new XMLHttpRequest},Mt=new kt;function Bt(u){return encodeURIComponent(String(u))}function qr(u){var y=1;u=u.split(":");const E=[];for(;y>0&&u.length;)E.push(u.shift()),y--;return u.length&&E.push(u.join(":")),E}function Cn(u,y,E,A){this.j=u,this.i=y,this.l=E,this.S=A||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ie={},Et={};function Nn(u,y,E){u.M=1,u.A=Hr(Ht(y)),u.u=E,u.R=!0,Ma(u,null)}function Ma(u,y){u.F=Date.now(),ki(u),u.B=Ht(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),La(E.i,"t",A),u.C=0,E=u.j.L,u.h=new qn,u.g=eu(u.j,E?y:null,!u.u),u.P>0&&(u.O=new Wt(v(u.Y,u,u.g),u.P)),y=u.V,E=u.g,A=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Pn[0]=q.toString()),q=Pn);for(let X=0;X<q.length;X++){const he=Me(E,q[X],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),ti(),Oa(u.i,u.v,u.B,u.l,u.S,u.u)}Cn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Ti(u)==3?y.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const ke=Ti(this.g),jt=this.g.ya(),nt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||ke!=4||jt==7||(jt==8||nt<=0?ti(3):ti(2)),ji(this);var y=this.g.ca();this.X=y;var E=vd(this);if(this.o=y==200,ii(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var X=A;break t}}X=null}if(u=X)Bn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,u);else{this.o=!1,this.m=3,Nt(12),Hn(this),si(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<E.length;)if(Tt=Bc(this,E),Tt==Et){ke==4&&(this.m=4,Nt(14),u=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Ie){this.m=4,Nt(15),Bn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Bn(this.i,this.l,Tt,null),Vi(this,Tt);if(zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)Bn(this.i,this.l,E,"[Invalid Chunked Response]"),Hn(this),si(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fl(he),he.P=!0,Nt(11))}}else Bn(this.i,this.l,E,null),Vi(this,E);ke==4&&Hn(this),this.o&&!this.K&&(ke==4?Xc(this.j,this):(this.o=!1,ki(this)))}else as(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Hn(this),si(this)}}}catch{}};function vd(u){if(!zc(u))return u.g.la();const y=ln(u.g);if(y==="")return"";let E="";const A=y.length,q=Ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Hn(u),si(u),"";u.h.i=new h.TextDecoder}for(let X=0;X<A;X++)u.h.h=!0,E+=u.h.i.decode(y[X],{stream:!(q&&X==A-1)});return y.length=0,u.h.g+=E,u.C=0,u.h.g}function zc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Bc(u,y){var E=u.C,A=y.indexOf(`
`,E);return A==-1?Et:(E=Number(y.substring(E,A)),isNaN(E)?Ie:(A+=1,A+E>y.length?Et:(y=y.slice(A,A+E),u.C=A+E,y)))}Cn.prototype.cancel=function(){this.K=!0,Hn(this)};function ki(u){u.T=Date.now()+u.H,ka(u,u.H)}function ka(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(v(u.aa,u),y)}function ji(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Cn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Q(this.i,this.B),this.M!=2&&(ti(),Nt(17)),Hn(this),this.m=2,si(this)):ka(this,this.T-u)};function si(u){u.j.I==0||u.K||Xc(u.j,u)}function Hn(u){ji(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Vs(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Vi(u,y){try{var E=u.j;if(E.I!=0&&(E.g==u||Pi(E.h,u))){if(!u.L&&Pi(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)qa(E),Gs(E);else break e;Xr(E),Nt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ni(v(E.Va,E),6e3));Li(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((u.L||E.g==u)&&qa(E),!I(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let nt=q[y];const Tt=nt[0];if(!(Tt<=E.K))if(E.K=Tt,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const oi=nt[3];oi!=null&&(E.ka=oi,E.j.info("VER="+E.ka));const Gi=nt[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const Si=nt[5];Si!=null&&typeof Si=="number"&&Si>0&&(A=1.5*Si,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const bi=u.g;if(bi){const Wr=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var X=A.h;X.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(tl(X,X.h),X.h=null))}if(A.G){const Ha=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(A.wa=Ha,ot(A.J,A.G,Ha))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var he=u;if(A.na=Zc(A,A.L?A.ba:null,A.W),he.L){nl(A.h,he);var ke=he,jt=A.O;jt&&(ke.H=jt),ke.D&&(ji(ke),ki(ke)),A.g=he}else Kc(A);E.i.length>0&&Hi(E)}else nt[0]!="stop"&&nt[0]!="close"||Fi(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Fi(E,7):hl(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}ti(4)}catch{}}var qt=class{constructor(u,y){this.g=u,this.map=y}};function Zo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Li(u){return u.h?1:u.g?u.g.size:0}function Pi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function tl(u,y){u.g?u.g.add(y):u.h=y}function nl(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const E of u.g.values())y=y.concat(E.G);return y}return P(u.i)}var qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(u,y){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let q,X=null;A>=0?(q=u[E].substring(0,A),X=u[E].substring(A+1)):q=u[E],y(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Fn?(this.l=u.l,sn(this,u.j),this.o=u.o,this.g=u.g,Ps(this,u.u),this.h=u.h,sl(this,$c(u.i)),this.m=u.m):u&&(y=String(u).match(qc))?(this.l=!1,sn(this,y[1]||"",!0),this.o=Ui(y[2]||""),this.g=Ui(y[3]||"",!0),Ps(this,y[4]),this.h=Ui(y[5]||"",!0),sl(this,y[6]||"",!0),this.m=Ui(y[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Fn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Fr(y,Va,!0),":");var E=this.g;return(E||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Fr(y,Va,!0),"@"),u.push(Bt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Fr(E,E.charAt(0)=="/"?rl:Hc,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Fr(E,Fc)),u.join("")},Fn.prototype.resolve=function(u){const y=Ht(this);let E=!!u.j;E?sn(y,u.j):E=!!u.o,E?y.o=u.o:E=!!u.g,E?y.g=u.g:E=u.u!=null;var A=u.h;if(E)Ps(y,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let he=0;he<q.length;){const ke=q[he++];ke=="."?A&&he==q.length&&X.push(""):ke==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&he==q.length&&X.push("")):(X.push(ke),A=!0)}A=X.join("/")}else A=q}return E?y.h=A:E=u.i.toString()!=="",E?sl(y,$c(u.i)):E=!!u.m,E&&(y.m=u.m),y};function Ht(u){return new Fn(u)}function sn(u,y,E){u.j=E?Ui(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ps(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function sl(u,y,E){y instanceof zs?(u.i=y,Pa(u.i,u.l)):(E||(y=Fr(y,Us)),u.i=new zs(y,u.l))}function ot(u,y,E){u.i.set(y,E)}function Hr(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ui(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fr(u,y,E){return typeof u=="string"?(u=encodeURI(u).replace(y,In),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Va=/[#\/\?@]/g,Hc=/[#\?:]/g,rl=/[#\?]/g,Us=/[#\?@]/g,Fc=/#/g;function zs(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&ja(u.i,function(y,E){u.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=zs.prototype,s.add=function(u,y){xn(this),this.i=null,u=Bs(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(y),this.h+=1,this};function Gc(u,y){xn(u),y=Bs(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function al(u,y){return xn(u),y=Bs(u,y),u.g.has(y)}s.forEach=function(u,y){xn(this),this.g.forEach(function(E,A){E.forEach(function(q){u.call(y,q,A,this)},this)},this)};function ol(u,y){xn(u);let E=[];if(typeof y=="string")al(u,y)&&(E=E.concat(u.g.get(Bs(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)E=E.concat(u[y]);return E}s.set=function(u,y){return xn(this),this.i=null,u=Bs(this,u),al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},s.get=function(u,y){return u?(u=ol(this,u),u.length>0?String(u[0]):y):y};function La(u,y,E){Gc(u,y),E.length>0&&(u.i=null,u.g.set(Bs(u,y),P(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const q=Bt(E);E=ol(this,E);for(let X=0;X<E.length;X++){let he=q;E[X]!==""&&(he+="="+Bt(E[X])),u.push(he)}}return this.i=u.join("&")};function $c(u){const y=new zs;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Bs(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Pa(u,y){y&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Gc(this,A),La(this,q,E))},u)),u.j=y}function _i(u,y){const E=new wn;if(h.Image){const A=new Image;A.onload=T(ri,E,"TestLoadImage: loaded",!0,y,A),A.onerror=T(ri,E,"TestLoadImage: error",!1,y,A),A.onabort=T(ri,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=T(ri,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function ll(u,y){const E=new wn,A=new AbortController,q=setTimeout(()=>{A.abort(),ri(E,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?ri(E,"TestPingServer: ok",!0,y):ri(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),ri(E,"TestPingServer: error",!1,y)})}function ri(u,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function qs(){this.g=new Ia}function zi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(zi,zr),zi.prototype.g=function(){return new Gr(this.i,this.h)};function Gr(u,y){rt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Gr,rt),s=Gr.prototype,s.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Hs(this):Ei(this),this.readyState==3&&Ua(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Hs(this))},s.Na=function(u){this.g&&(this.response=u,Hs(this))},s.ga=function(){this.g&&Hs(this)};function Hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ei(u)}s.setRequestHeader=function(u,y){this.A.append(u,y)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=y.next();return u.join(`\r
`)};function Ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ai(u){let y="";return Ue(u,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function $r(u,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ai(E),typeof u=="string"?E!=null&&Bt(E):ot(u,y,E))}function ut(u){rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ut,rt);var Bi=/^https?$/i,cl=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mt.g(),this.g.onreadystatechange=w(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(X){Yr(this,X);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(cl,y,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of E)this.g.setRequestHeader(X,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Yr(this,X)}};function Yr(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ul(u),rs(u)}function ul(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,at(this,"complete"),at(this,"abort"),rs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},s.Xa=function(){Kr(this)};function Kr(u){if(u.h&&typeof c<"u"){if(u.v&&Ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(at(u,"readystatechange"),Ti(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=X===0){let he=String(u.D).match(qc)[1]||null;!he&&h.self&&h.self.location&&(he=h.self.location.protocol.slice(0,-1)),A=!Bi.test(he?he.toLowerCase():"")}E=A}if(E)at(u,"complete"),at(u,"success");else{u.o=6;try{var q=Ti(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",ul(u)}}finally{rs(u)}}}}function rs(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,y||at(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Na(y)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function as(u){const y={};u=(u.g&&Ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var E=qr(u[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[q]||[];y[q]=X,X.push(E)}Be(y,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(u,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||y}function Fs(u){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,u),this.Za=qi("retryDelaySeedMs",1e4,u),this.Ta=qi("forwardChannelMaxRetries",2,u),this.va=qi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(u&&u.concurrentRequestLimit),this.Ba=new qs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Fs.prototype,s.ka=8,s.I=1,s.connect=function(u,y,E,A){Nt(0),this.W=u,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Zc(this,null,this.W),Hi(this)};function hl(u){if(za(u),u.I==3){var y=u.V++,E=Ht(u.J);if(ot(E,"SID",u.M),ot(E,"RID",y),ot(E,"TYPE","terminate"),Qr(u,E),y=new Cn(u,u.j,y),y.M=2,y.A=Hr(Ht(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=eu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ki(y)}Jc(u)}function Gs(u){u.g&&(fl(u),u.g.cancel(),u.g=null)}function za(u){Gs(u),u.v&&(h.clearTimeout(u.v),u.v=null),qa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Hi(u){if(!el(u.h)&&!u.m){u.m=!0;var y=u.Ea;$||C(),te||($(),te=!0),N.add(y,u),u.D=0}}function Ba(u,y){return Li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(v(u.Ea,u,y),Wc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Cn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=V(X),Y(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Yc(this,q,y),E=Ht(this.J),ot(E,"RID",u),ot(E,"CVER",22),this.G&&ot(E,"X-HTTP-Session-Id",this.G),Qr(this,E),X&&(this.R?y="headers="+Bt(ai(X))+"&"+y:this.u&&$r(E,this.u,X)),tl(this.h,q),this.Ra&&ot(E,"TYPE","init"),this.S?(ot(E,"$req",y),ot(E,"SID","null"),q.U=!0,Nn(q,E,null)):Nn(q,E,y),this.I=2}}else this.I==3&&(u?dl(this,u):this.i.length==0||el(this.h)||dl(this))};function dl(u,y){var E;y?E=y.l:E=u.V++;const A=Ht(u.J);ot(A,"SID",u.M),ot(A,"RID",E),ot(A,"AID",u.K),Qr(u,A),u.u&&u.o&&$r(A,u.u,u.o),E=new Cn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Yc(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tl(u.h,E),Nn(E,A,y)}function Qr(u,y){u.H&&Ue(u.H,function(E,A){ot(y,A,E)}),u.l&&Ue({},function(E,A){ot(y,A,E)})}function Yc(u,y,E){E=Math.min(u.i.length,E);const A=u.l?v(u.l.Ka,u.l,u):null;e:{var q=u.i;let ke=-1;for(;;){const jt=["count="+E];ke==-1?E>0?(ke=q[0].g,jt.push("ofs="+ke)):ke=0:jt.push("ofs="+ke);let nt=!0;for(let Tt=0;Tt<E;Tt++){var X=q[Tt].g;const oi=q[Tt].map;if(X-=ke,X<0)ke=Math.max(0,q[Tt].g-100),nt=!1;else try{X="req"+X+"_"||"";try{var he=oi instanceof Map?oi:Object.entries(oi);for(const[Gi,Si]of he){let bi=Si;p(Si)&&(bi=Un(Si)),jt.push(X+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw jt.push(X+"type="+encodeURIComponent("_badmap")),Gi}}catch{A&&A(oi)}}if(nt){he=jt.join("&");break e}}he=void 0}return u=u.i.splice(0,E),y.G=u,he}function Kc(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;$||C(),te||($(),te=!0),N.add(y,u),u.A=0}}function Xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(v(u.Da,u),Wc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Gs(this),Qc(this))};function fl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Qc(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Ht(u.na);ot(y,"RID","rpc"),ot(y,"SID",u.M),ot(y,"AID",u.K),ot(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(y,"TO",u.ia),ot(y,"TYPE","xmlhttp"),Qr(u,y),u.u&&u.o&&$r(y,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Hr(Ht(y)),E.u=null,E.R=!0,Ma(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Gs(this),Xr(this),Nt(19))};function qa(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Xc(u,y){var E=null;if(u.g==y){qa(u),fl(u),u.g=null;var A=2}else if(Pi(u.h,y))E=y.G,nl(u.h,y),A=1;else return;if(u.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=u.D;A=Ls(),at(A,new nn(A,E)),Hi(u)}else Kc(u);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&Ba(u,y)||A==2&&Xr(u)))switch(E&&E.length>0&&(y=u.h,y.i=y.i.concat(E)),q){case 1:Fi(u,5);break;case 4:Fi(u,10);break;case 3:Fi(u,6);break;default:Fi(u,2)}}}function Wc(u,y){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*y}function Fi(u,y){if(u.j.info("Error code "+y),y==2){var E=v(u.bb,u),A=u.Ua;const q=!A;A=new Fn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||sn(A,"https"),Hr(A),q?_i(A.toString(),E):ll(A.toString(),E)}else Nt(2);u.I=0,u.l&&u.l.pa(y),Jc(u),za(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Jc(u){if(u.I=0,u.ja=[],u.l){const y=il(u.h);(y.length!=0||u.i.length!=0)&&(L(u.ja,y),L(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Zc(u,y,E){var A=E instanceof Fn?Ht(E):new Fn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Ps(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const X=new Fn(null);A&&sn(X,A),y&&(X.g=y),q&&Ps(X,q),E&&(X.h=E),A=X}return E=u.G,y=u.wa,E&&y&&ot(A,E,y),ot(A,"VER",u.ka),Qr(u,A),A}function eu(u,y,E){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new ut(new zi({ab:E})):new ut(u.ma),y.Fa(u.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}s=tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $s(){}$s.prototype.g=function(u,y){return new An(u,y)};function An(u,y){rt.call(this),this.g=new Fs(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new os(this)}S(An,rt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){hl(this.g)},An.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Un(u),u=E);y.i.push(new qt(y.Ya++,u)),y.I==3&&Hi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,An.Z.N.call(this)};function nu(u){Ot.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const E in y){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}S(nu,Ot);function iu(){bn.call(this),this.status=1}S(iu,bn);function os(u){this.g=u}S(os,tu),os.prototype.ra=function(){at(this.g,"a")},os.prototype.qa=function(u){at(this.g,new nu(u))},os.prototype.pa=function(u){at(this.g,new iu)},os.prototype.oa=function(){at(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,XT=function(){return new $s},QT=function(){return Ls()},KT=gt,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Sh=qe,He.COMPLETE="complete",YT=He,Br.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",rt.prototype.listen=rt.prototype.J,ic=Br,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,$T=ut}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let $o="12.8.0";function HI(s){$o=s}const _a=new Sp("@firebase/firestore");function Eo(){return _a.logLevel}function ye(s,...e){if(_a.logLevel<=Ke.DEBUG){const n=e.map(jp);_a.debug(`Firestore (${$o}): ${s}`,...n)}}function Ds(s,...e){if(_a.logLevel<=Ke.ERROR){const n=e.map(jp);_a.error(`Firestore (${$o}): ${s}`,...n)}}function ko(s,...e){if(_a.logLevel<=Ke.WARN){const n=e.map(jp);_a.warn(`Firestore (${$o}): ${s}`,...n)}}function jp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ne(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WT(s,r,n)}function WT(s,e,n){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ds(r),new Error(r)}function st(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||WT(e,o,r)}function Oe(s,e){return s}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $I{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Rr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Rr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new JT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class YI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new YI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=XI(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function $m(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Im(o)===Im(c)?Qe(o,c):Im(o)?1:-1}return Qe(s.length,e.length)}const WI=55296,JI=57343;function Im(s){const e=s.charCodeAt(0);return e>=WI&&e<=JI}function jo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const IE="__name__";class Xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Xi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Xi.isNumericId(e),o=Xi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class yt extends Xi{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Xi{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new mn([IE])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(c(),o++)}if(c(),h)throw new pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(yt.fromString(e))}static fromName(e){return new be(yt.fromString(e).popFirst(5))}static empty(){return new be(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new yt(e.slice()))}}function ZT(s,e,n){if(!n)throw new pe(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ex(s,e,n,r){if(e===!0&&r===!0)throw new pe(ae.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function xE(s){if(!be.isDocumentKey(s))throw new pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function DE(s){if(be.isDocumentKey(s))throw new pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function id(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne(12329,{type:typeof s})}function Ea(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=id(s);throw new pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Xt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Mc(s,e){if(!eS(s))throw new pe(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new pe(ae.INVALID_ARGUMENT,n);return!0}const OE=-62135596800,ME=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ME);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:Xt("string",Pe._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Pe(0,0))}static max(){return new xe(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function tx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new xr(o,be.empty(),e)}function nx(s){return new xr(s.readTime,s.key,gc)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(xe.min(),be.empty(),gc)}static max(){return new xr(xe.max(),be.empty(),gc)}}function ix(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:Qe(s.largestBatchId,e.largestBatchId))}const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yo(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==sx)throw s;ye("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>r(g)))})),h=!0,c===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((o=>o?oe.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const v=g;n(e[v]).next((T=>{h[v]=T,++p,p===c&&r(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new oe(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function ax(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(s){return s.name==="IndexedDbTransactionError"}class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sd.ce=-1;const Lp=-1;function rd(s){return s==null}function Lh(s){return s===0&&1/s==-1/0}function ox(s){return typeof s=="number"&&Number.isInteger(s)&&!Lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tS="";function lx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=kE(e)),e=cx(s.get(n),e);return kE(e)}function cx(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case tS:n+="";break;default:n+=c}}return n}function kE(s){return s+tS+""}function jE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Pr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??fn.RED,this.left=o??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new fn(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new en(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new iS("Invalid base64 string: "+c):c}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const n=ux.exec(s);if(st(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(s.seconds),nanos:Pt(s.nanos)}}function Pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Or(s){return typeof s=="string"?gn.fromBase64String(s):gn.fromUint8Array(s)}const sS="server_timestamp",rS="__type__",aS="__previous_value__",oS="__local_write_time__";function Pp(s){return(s?.mapValue?.fields||{})[rS]?.stringValue===sS}function ad(s){const e=s.mapValue.fields[aS];return Pp(e)?ad(e):e}function yc(s){const e=Dr(s.mapValue.fields[oS].timestampValue);return new Pe(e.seconds,e.nanos)}class hx{constructor(e,n,r,o,c,h,p,g,v,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const Ph="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}function dx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(s.options.projectId,e)}const lS="__type__",fx="__max__",hh={mapValue:{}},cS="__vector__",Uh="value";function Mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pp(s)?4:px(s)?9007199254740991:mx(s)?10:11:Ne(28295,{value:s})}function ns(s,e){if(s===e)return!0;const n=Mr(s);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return yc(s).isEqual(yc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Dr(o.timestampValue),p=Dr(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Or(o.bytesValue).isEqual(Or(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Pt(o.geoPointValue.latitude)===Pt(c.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Pt(o.integerValue)===Pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Pt(o.doubleValue),p=Pt(c.doubleValue);return h===p?Lh(h)===Lh(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return jo(s.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(jE(h)!==jE(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!ns(h[g],p[g])))return!1;return!0})(s,e);default:return Ne(52216,{left:s})}}function _c(s,e){return(s.values||[]).find((n=>ns(n,e)))!==void 0}function Vo(s,e){if(s===e)return 0;const n=Mr(s),r=Mr(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Pt(c.integerValue||c.doubleValue),g=Pt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return LE(s.timestampValue,e.timestampValue);case 4:return LE(yc(s),yc(e));case 5:return $m(s.stringValue,e.stringValue);case 6:return(function(c,h){const p=Or(c),g=Or(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let v=0;v<p.length&&v<g.length;v++){const T=Qe(p[v],g[v]);if(T!==0)return T}return Qe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Qe(Pt(c.latitude),Pt(h.latitude));return p!==0?p:Qe(Pt(c.longitude),Pt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return PE(s.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},v=p[Uh]?.arrayValue,T=g[Uh]?.arrayValue,S=Qe(v?.values?.length||0,T?.values?.length||0);return S!==0?S:PE(v,T)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===hh.mapValue&&h===hh.mapValue)return 0;if(c===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),v=h.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const w=$m(g[S],T[S]);if(w!==0)return w;const P=Vo(p[g[S]],v[T[S]]);if(P!==0)return P}return Qe(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function LE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const n=Dr(s),r=Dr(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function PE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Vo(n[o],r[o]);if(c)return c}return Qe(n.length,r.length)}function Lo(s){return Ym(s)}function Ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Dr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Or(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return be.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Ym(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${Ym(n.fields[h])}`;return o+"}"})(s.mapValue):Ne(61005,{value:s})}function bh(s){switch(Mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(s);return e?16+bh(e):16;case 5:return 2*s.stringValue.length;case 6:return Or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+bh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Pr(r.fields,((c,h)=>{o+=c.length+bh(h)})),o})(s.mapValue);default:throw Ne(13486,{value:s})}}function UE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Km(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function zE(s){return!!s&&"nullValue"in s}function BE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wh(s){return!!s&&"mapValue"in s}function mx(s){return(s?.mapValue?.fields||{})[lS]?.stringValue===cS}function lc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Pr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=lc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(s.arrayValue.values[n]);return e}return{...s}}function px(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fx}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=mn.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=lc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Pr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Ln(lc(this.value))}}function uS(s){const e=[];return Pr(s.fields,((n,r)=>{const o=new mn([n]);if(wh(r)){const c=uS(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Zn(e)}class En{constructor(e,n,r,o,c,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new En(e,0,xe.min(),xe.min(),xe.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,o){return new En(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new En(e,2,n,xe.min(),xe.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,xe.min(),xe.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,n){this.position=e,this.inclusive=n}}function qE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],h=s.position[o];if(c.field.isKeyField()?r=be.comparator(be.fromName(h.referenceValue),n.key):r=Vo(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ns(s.position[n],e.position[n]))return!1;return!0}class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function gx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class hS{}class Qt extends hS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vx(e,n,r):n==="array-contains"?new Tx(e,r):n==="in"?new Sx(e,r):n==="not-in"?new bx(e,r):n==="array-contains-any"?new wx(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _x(e,r):new Ex(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return dS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dS(s){return s.op==="and"}function fS(s){return yx(s)&&dS(s)}function yx(s){for(const e of s.filters)if(e instanceof Oi)return!1;return!0}function Qm(s){if(s instanceof Qt)return s.field.canonicalString()+s.op.toString()+Lo(s.value);if(fS(s))return s.filters.map((e=>Qm(e))).join(",");{const e=s.filters.map((n=>Qm(n))).join(",");return`${s.op}(${e})`}}function mS(s,e){return s instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&ns(r.value,o.value)})(s,e):s instanceof Oi?(function(r,o){return o instanceof Oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,p)=>c&&mS(h,o.filters[p])),!0):!1})(s,e):void Ne(19439)}function pS(s){return s instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(s):s instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(s):"Filter"}class vx extends Qt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class _x extends Qt{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ex extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(s,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class Tx extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&_c(n.arrayValue,this.value)}}class Sx extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class bx extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_c(this.value.arrayValue,n)}}class wx extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}class Ax{constructor(e,n=null,r=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function FE(s,e=null,n=[],r=[],o=null,c=null,h=null){return new Ax(s,e,n,r,o,c,h)}function zp(s){const e=Oe(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Lo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Lo(r))).join(",")),e.Te=n}return e.Te}function Bp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!gx(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!mS(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!HE(s.startAt,e.startAt)&&HE(s.endAt,e.endAt)}function Xm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Qo{constructor(e,n=null,r=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Rx(s,e,n,r,o,c,h,p){return new Qo(s,e,n,r,o,c,h,p)}function yS(s){return new Qo(s)}function GE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Cx(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vS(s){return s.collectionGroup!==null}function cc(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new en(mn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ec(c,r))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new Ec(mn.keyField(),r))}return e.Ie}function Zi(s){const e=Oe(s);return e.Ee||(e.Ee=Nx(e,cc(s))),e.Ee}function Nx(s,e){if(s.limitType==="F")return FE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ec(o.field,c)}));const n=s.endAt?new zh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new zh(s.startAt.position,s.startAt.inclusive):null;return FE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Wm(s,e){const n=s.filters.concat([e]);return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Ix(s,e){const n=s.explicitOrderBy.concat([e]);return new Qo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Jm(s,e,n){return new Qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function od(s,e){return Bp(Zi(s),Zi(e))&&s.limitType===e.limitType}function _S(s){return`${zp(Zi(s))}|lt:${s.limitType}`}function To(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>pS(o))).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${r})`})(Zi(s))}; limitType=${s.limitType})`}function ld(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of cc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const v=qE(h,p,g);return h.inclusive?v<=0:v<0})(r.startAt,cc(r),o)||r.endAt&&!(function(h,p,g){const v=qE(h,p,g);return h.inclusive?v>=0:v>0})(r.endAt,cc(r),o))})(s,e)}function xx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ES(s){return(e,n)=>{let r=!1;for(const o of cc(s)){const c=Dx(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Dx(s,e,n){const r=s.field.isKeyField()?be.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),v=p.data.field(c);return g!==null&&v!==null?Vo(g,v):Ne(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:s.dir})}}class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const Ox=new At(be.comparator);function Os(){return Ox}const TS=new At(be.comparator);function sc(...s){let e=TS;for(const n of s)e=e.insert(n.key,n);return e}function SS(s){let e=TS;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ma(){return uc()}function bS(){return uc()}function uc(){return new wa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Mx=new At(be.comparator),kx=new en(be.comparator);function Xe(...s){let e=kx;for(const n of s)e=e.add(n);return e}const jx=new en(Qe);function Vx(){return jx}function qp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function wS(s){return{integerValue:""+s}}function Lx(s,e){return ox(e)?wS(e):qp(s,e)}class cd{constructor(){this._=void 0}}function Px(s,e,n){return s instanceof Bh?(function(o,c){const h={fields:{[rS]:{stringValue:sS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pp(c)&&(c=ad(c)),c&&(h.fields[aS]=c),{mapValue:h}})(n,e):s instanceof Tc?RS(s,e):s instanceof Sc?CS(s,e):(function(o,c){const h=AS(o,c),p=$E(h)+$E(o.Ae);return Km(h)&&Km(o.Ae)?wS(p):qp(o.serializer,p)})(s,e)}function Ux(s,e,n){return s instanceof Tc?RS(s,e):s instanceof Sc?CS(s,e):n}function AS(s,e){return s instanceof qh?(function(r){return Km(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Bh extends cd{}class Tc extends cd{constructor(e){super(),this.elements=e}}function RS(s,e){const n=NS(e);for(const r of s.elements)n.some((o=>ns(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Sc extends cd{constructor(e){super(),this.elements=e}}function CS(s,e){let n=NS(e);for(const r of s.elements)n=n.filter((o=>!ns(o,r)));return{arrayValue:{values:n}}}class qh extends cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(s){return Pt(s.integerValue||s.doubleValue)}function NS(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function zx(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Tc&&o instanceof Tc||r instanceof Sc&&o instanceof Sc?jo(r.elements,o.elements,ns):r instanceof qh&&o instanceof qh?ns(r.Ae,o.Ae):r instanceof Bh&&o instanceof Bh})(s.transform,e.transform)}class Bx{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ud{}function IS(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hp(s.key,Ni.none()):new kc(s.key,s.data,Ni.none());{const n=s.data,r=Ln.empty();let o=new en(mn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new Ur(s.key,r,new Zn(o.toArray()),Ni.none())}}function qx(s,e,n){s instanceof kc?(function(o,c,h){const p=o.value.clone(),g=KE(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Ur?(function(o,c,h){if(!Ah(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=KE(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(xS(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function hc(s,e,n,r){return s instanceof kc?(function(c,h,p,g){if(!Ah(c.precondition,h))return p;const v=c.value.clone(),T=QE(c.fieldTransforms,g,h);return v.setAll(T),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(s,e,n,r):s instanceof Ur?(function(c,h,p,g){if(!Ah(c.precondition,h))return p;const v=QE(c.fieldTransforms,g,h),T=h.data;return T.setAll(xS(c)),T.setAll(v),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,h,p){return Ah(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function Hx(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=AS(r.transform,o||null);c!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,c))}return n||null}function YE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jo(r,o,((c,h)=>zx(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class kc extends ud{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ur extends ud{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xS(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function KE(s,e,n){const r=new Map;st(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],h=c.transform,p=e.data.field(c.field);r.set(c.field,Ux(h,p,n[o]))}return r}function QE(s,e,n){const r=new Map;for(const o of s){const c=o.transform,h=n.data.field(o.field);r.set(o.field,Px(c,h,e))}return r}class Hp extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fx extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gx{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&qx(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bS();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=IS(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,r)=>YE(n,r)))&&jo(this.baseMutations,e.baseMutations,((n,r)=>YE(n,r)))}}class Fp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Mx})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new Fp(e,n,r,o)}}class $x{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Yx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kt,Je;function Kx(s){switch(s){case ae.OK:return Ne(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ne(15467,{code:s})}}function DS(s){if(s===void 0)return Ds("GRPC error has no .code"),ae.UNKNOWN;switch(s){case Kt.OK:return ae.OK;case Kt.CANCELLED:return ae.CANCELLED;case Kt.UNKNOWN:return ae.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ae.INTERNAL;case Kt.UNAVAILABLE:return ae.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ae.NOT_FOUND;case Kt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Kt.ABORTED:return ae.ABORTED;case Kt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Kt.DATA_LOSS:return ae.DATA_LOSS;default:return Ne(39323,{code:s})}}(Je=Kt||(Kt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function Qx(){return new TextEncoder}const Xx=new Ar([4294967295,4294967295],0);function XE(s){const e=Qx().encode(s),n=new GT;return n.update(e),new Uint8Array(n.digest())}function WE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([n,r],0),new Ar([o,c],0)]}class Gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ar.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Ar.fromNumber(r)));return o.compare(Xx)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,o]=WE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Gp(c,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=XE(e),[r,o]=WE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hd{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hd(xe.min(),o,new At(Qe),Os(),Xe())}}class jc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jc(r,n,Xe(),Xe(),Xe())}}class Rh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class OS{constructor(e,n){this.targetId=e,this.Ce=n}}class MS{constructor(e,n,r=gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ne(38017,{changeType:c})}})),new jc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ZE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Wx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.He=dh(),this.Je=dh(),this.Ze=new At(Qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Xm(c))if(r===0){const h=new be(c.path);this.et(n,h,En.newNoDocument(h,xe.min()))}else st(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=Or(r).toUint8Array()}catch(g){if(g instanceof iS)return ko("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gp(h,o,c)}catch(g){return ko(g instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&Xm(p.target)){const g=new be(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,En.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let r=Xe();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new hd(e,n,this.Ze,this.je,r);return this.je=Os(),this.He=dh(),this.Je=dh(),this.Ze=new At(Qe),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new en(Qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new en(Qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new At(be.comparator)}function ZE(){return new At(be.comparator)}const Jx={asc:"ASCENDING",desc:"DESCENDING"},Zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eD={and:"AND",or:"OR"};class tD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(s,e){return s.useProto3Json||rd(e)?e:{value:e}}function Hh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function nD(s,e){return Hh(s,e.toTimestamp())}function es(s){return st(!!s,49232),xe.fromTimestamp((function(n){const r=Dr(n);return new Pe(r.seconds,r.nanos)})(s))}function $p(s,e){return ep(s,e).canonicalString()}function ep(s,e){const n=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function jS(s){const e=yt.fromString(s);return st(zS(e),10190,{key:e.toString()}),e}function tp(s,e){return $p(s.databaseId,e.path)}function xm(s,e){const n=jS(e);if(n.get(1)!==s.databaseId.projectId)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(LS(n))}function VS(s,e){return $p(s.databaseId,e)}function iD(s){const e=jS(s);return e.length===4?yt.emptyPath():LS(e)}function np(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function LS(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function e0(s,e,n){return{name:tp(s,e),fields:n.value.mapValue.fields}}function sD(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ne(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(st(T===void 0||typeof T=="string",58123),gn.fromBase64String(T||"")):(st(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),gn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const T=v.code===void 0?ae.UNKNOWN:DS(v.code);return new pe(T,v.message||"")})(h);n=new MS(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=xm(s,r.document.name),c=es(r.document.updateTime),h=r.document.createTime?es(r.document.createTime):xe.min(),p=new Ln({mapValue:{fields:r.document.fields}}),g=En.newFoundDocument(o,c,h,p),v=r.targetIds||[],T=r.removedTargetIds||[];n=new Rh(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=xm(s,r.document),c=r.readTime?es(r.readTime):xe.min(),h=En.newNoDocument(o,c),p=r.removedTargetIds||[];n=new Rh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=xm(s,r.document),c=r.removedTargetIds||[];n=new Rh([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new Yx(o,c),p=r.targetId;n=new OS(p,h)}}return n}function rD(s,e){let n;if(e instanceof kc)n={update:e0(s,e.key,e.value)};else if(e instanceof Hp)n={delete:tp(s,e.key)};else if(e instanceof Ur)n={update:e0(s,e.key,e.data),updateMask:mD(e.fieldMask)};else{if(!(e instanceof Fx))return Ne(16599,{dt:e.type});n={verify:tp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const p=h.transform;if(p instanceof Bh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Tc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Sc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof qh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:nD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)})(s,e.precondition)),n}function aD(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((n=>(function(o,c){let h=o.updateTime?es(o.updateTime):es(c);return h.isEqual(xe.min())&&(h=es(c)),new Bx(h,o.transformResults||[])})(n,e)))):[]}function oD(s,e){return{documents:[VS(s,e.path)]}}function lD(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VS(s,o);const c=(function(v){if(v.length!==0)return US(Oi.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((T=>(function(w){return{field:So(w.field),direction:hD(w.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Zm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function cD(s){let e=iD(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){st(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(S){const w=PS(S);return w instanceof Oi&&fS(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((w=>(function(L){return new Ec(bo(L.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,rd(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,P=S.values||[];return new zh(P,w)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const w=!S.before,P=S.values||[];return new zh(P,w)})(n.endAt)),Rx(e,o,h,c,p,"F",g,v)}function uD(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bo(n.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return Qt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Qt.create(bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((r=>PS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(s):Ne(30097,{filter:s})}function hD(s){return Jx[s]}function dD(s){return Zx[s]}function fD(s){return eD[s]}function So(s){return{fieldPath:s.canonicalString()}}function bo(s){return mn.fromServerFormat(s.fieldPath)}function US(s){return s instanceof Qt?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:dD(n.op),value:n.value}}})(s):s instanceof Oi?(function(n){const r=n.getFilters().map((o=>US(o)));return r.length===1?r[0]:{compositeFilter:{op:fD(n.op),filters:r}}})(s):Ne(54877,{filter:s})}function mD(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function BS(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Tr{constructor(e,n,r,o,c=xe.min(),h=xe.min(),p=gn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pD{constructor(e){this.yt=e}}function gD(s){const e=cD({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jm(e,e.limit,"L"):e}class yD{constructor(){this.Sn=new vD}addToCollectionParentIndex(e,n){return this.Sn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(xr.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class vD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new en(yt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(yt.comparator)).toArray()}}const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(qS,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Po{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Po(0)}static ar(){return new Po(-1)}}const n0="LruGarbageCollector",_D=1048576;function i0([s,e],[n,r]){const o=Qe(s,n);return o===0?Qe(e,r):o}class ED{constructor(e){this.Pr=e,this.buffer=new en(i0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ye(n0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?ye(n0,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Ar(3e5)}))}}class SD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(sd.ce);const r=new ED(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(t0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,h,p,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Eo()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function bD(s,e){return new SD(s,e)}class wD{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class RD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&hc(r.mutation,o,Zn.empty(),Pe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=ma();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let h=sc();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ma();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let c=Os();const h=uc(),p=(function(){return uc()})();return n.forEach(((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Ur)?c=c.insert(v.key,v):T!==void 0?(h.set(v.key,T.mutation.getFieldMask()),hc(T.mutation,v,T.mutation.getFieldMask(),Pe.now())):h.set(v.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((v,T)=>h.set(v,T))),n.forEach(((v,T)=>p.set(v,new AD(T,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=uc();let o=new At(((h,p)=>h-p)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const v=n.get(g);if(v===null)return;let T=r.get(g)||Zn.empty();T=p.applyToLocalView(v,T),r.set(g,T);const S=(o.get(p.batchId)||Xe()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,T=g.value,S=bS();T.forEach((w=>{if(!c.has(w)){const P=IS(n.get(w),r.get(w));P!==null&&S.set(w,P),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return oe.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return Cx(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):oe.resolve(ma());let p=gc,g=c;return h.next((v=>oe.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,g,v,Xe()))).next((T=>({batchId:p,changes:SS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let o=sc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let h=sc();return this.indexManager.getCollectionParents(e,c).next((p=>oe.forEach(p,(g=>{const v=(function(S,w){return new Qo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,w)=>{h=h.insert(S,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((h=>{c.forEach(((g,v)=>{const T=v.getKey();h.get(T)===null&&(h=h.insert(T,En.newInvalidDocument(T)))}));let p=sc();return h.forEach(((g,v)=>{const T=c.get(g);T!==void 0&&hc(T.mutation,v,Zn.empty(),Pe.now()),ld(n,v)&&(p=p.insert(g,v))})),p}))}}class CD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:gD(o.bundledQuery),readTime:es(o.readTime)}})(n)),oe.resolve()}}class ND{constructor(){this.overlays=new At(be.comparator),this.Lr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ma();return oe.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const o=ma(),c=n.length+1,h=new be(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new At(((v,T)=>v-T));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let T=c.get(v.largestBatchId);T===null&&(T=ma(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=ma(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return oe.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new $x(n,r));let c=this.Lr.get(n);c===void 0&&(c=Xe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class ID{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class Yp{constructor(){this.kr=new en(an.Kr),this.qr=new en(an.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new an(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new an(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new be(new yt([])),r=new an(n,e),o=new an(n,e+1),c=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new yt([])),r=new an(n,e),o=new an(n,e+1);let c=Xe();return this.qr.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new an(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new en(an.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Gx(c,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new an(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return oe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Lp:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),o=new an(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),oe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Qe);return n.forEach((o=>{const c=new an(o,0),h=new an(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{r=r.add(p.Hr)}))})),oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const h=new an(new be(c),0);let p=new en(Qe);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Hr)),!0)}),h),oe.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return oe.forEach(n.mutations,(o=>{const c=new an(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new an(n,0),o=this.Jr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DD{constructor(e){this.ti=e,this.docs=(function(){return new At(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():En.newInvalidDocument(o))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Os();const h=n.path,p=new be(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||ix(nx(T),r)<=0||(o.has(T.key)||ld(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return oe.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ne(9500)}ni(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new OD(this)}getSize(e){return oe.resolve(this.size)}}class OD extends wD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class MD{constructor(e){this.persistence=e,this.ri=new wa((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=Po._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.lr(n),oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),oe.waitFor(c).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),oe.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.si.containsKey(n))}}class HS{constructor(e,n){this._i={},this.overlays={},this.ai=new sd(0),this.ui=!1,this.ui=!0,this.ci=new ID,this.referenceDelegate=e(this),this.li=new MD(this),this.indexManager=new yD,this.remoteDocumentCache=(function(o){return new DD(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new pD(n),this.Pi=new CD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ND,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new xD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const o=new kD(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return oe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class kD extends rx{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(r=>{const o=be.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,xe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.fi=new wa((r=>lx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=bD(this,n)}static Vi(e,n){return new Fh(e,n)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return oe.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?oe.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(r++,c.removeEntry(h,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}wr(e,n,r){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return oe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Xe(),o=Xe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qp(e,n.fromCache,r,o)}}class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dR()?8:ax(Tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new jD;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Eo()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Eo()<=Ke.DEBUG&&ye("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Eo()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):oe.resolve())}gs(e,n){if(GE(n))return oe.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=Xe(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(n,p);return this.Ss(n,v,h,g.readTime)?this.gs(e,Jm(n,null,"F")):this.Ds(e,v,n,g)}))))})))))}ps(e,n,r,o){return GE(n)||o.isEqual(xe.min())?oe.resolve(null):this.fs.getDocuments(e,r).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,r,o)?oe.resolve(null):(Eo()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(n)),this.Ds(e,h,n,tx(o,gc)).next((p=>p)))}))}bs(e,n){let r=new en(ES(e));return n.forEach(((o,c)=>{ld(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return Eo()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",To(n)),this.fs.getDocumentsMatchingQuery(e,n,xr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Xp="LocalStore",LD=3e8;class PD{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new At(Qe),this.Fs=new wa((c=>zp(c)),Bp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function UD(s,e,n,r){return new PD(s,e,n,r)}async function FS(s,e){const n=Oe(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],p=[];let g=Xe();for(const v of o){h.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of c){p.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function zD(s,e){const n=Oe(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,T){const S=v.batch,w=S.keys();let P=oe.resolve();return w.forEach((L=>{P=P.next((()=>T.getEntry(g,L))).next((j=>{const z=v.docVersions.get(L);st(z!==null,48541),j.version.compareTo(z)<0&&(S.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),T.addEntry(j)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Xe();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function GS(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function BD(s,e){const n=Oe(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const w=o.get(S);if(!w)return;p.push(n.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,S))));let P=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(gn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),o=o.insert(S,P),(function(j,z,ee){return j.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=LD?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(w,P,T)&&p.push(n.li.updateTargetData(c,P))}));let g=Os(),v=Xe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(qD(c,h,e.documentUpdates).next((T=>{g=T.Bs,v=T.Ls}))),!r.isEqual(xe.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((S=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return oe.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,v))).next((()=>g))})).then((c=>(n.vs=o,c)))}function qD(s,e,n){let r=Xe(),o=Xe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let h=Os();return n.forEach(((p,g)=>{const v=c.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ye(Xp,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function HD(s,e){const n=Oe(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FD(s,e){const n=Oe(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,oe.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new Tr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function ip(s,e,n){const r=Oe(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ko(h))throw h;ye(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function s0(s,e,n){const r=Oe(s);let o=xe.min(),c=Xe();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,T){const S=Oe(g),w=S.Fs.get(T);return w!==void 0?oe.resolve(S.vs.get(w)):S.li.getTargetData(v,T)})(r,h,Zi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?c:Xe()))).next((p=>(GD(r,xx(e),p),{documents:p,ks:c})))))}function GD(s,e,n){let r=s.Ms.get(e)||xe.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class r0{constructor(){this.activeTargetIds=Vx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $D{constructor(){this.vo=new r0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YD{Mo(e){}shutdown(){}}const a0="ConnectivityMonitor";class o0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ye(a0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ye(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fh=null;function sp(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}const Dm="RestConnection",KD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const h=sp(),p=this.Qo(e,n.toUriEncodedString());ye(Dm,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:v}=new URL(p),T=Ho(v);return this.zo(e,p,g,r,T).then((S=>(ye(Dm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw ko(Dm,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,n,r,o,c,h){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=KD[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class XD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const vn="WebChannelConnection",Zl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Io extends QD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Io.c_){const e=QT();Zl(e,KT.STAT_EVENT,(n=>{n.stat===Gm.PROXY?ye(vn,"STAT_EVENT: detected buffering proxy"):n.stat===Gm.NOPROXY&&ye(vn,"STAT_EVENT: detected no buffering proxy")})),Io.c_=!0}}zo(e,n,r,o,c){const h=sp();return new Promise(((p,g)=>{const v=new $T;v.setWithCredentials(!0),v.listenOnce(YT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Sh.NO_ERROR:const S=v.getResponseJson();ye(vn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case Sh.TIMEOUT:ye(vn,`RPC '${e}' ${h} timed out`),g(new pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const w=v.getStatus();if(ye(vn,`RPC '${e}' ${h} failed with status:`,w,"response text:",v.getResponseText()),w>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const L=P?.error;if(L&&L.status&&L.message){const j=(function(ee){const G=ee.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(G)>=0?G:ae.UNKNOWN})(L.status);g(new pe(j,L.message))}else g(new pe(ae.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new pe(ae.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ye(vn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ye(vn,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=sp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=c.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let S=!1,w=!1;const P=new XD({Ho:L=>{w?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Jo:()=>T.close()});return Zl(T,ic.EventType.OPEN,(()=>{w||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),Zl(T,ic.EventType.CLOSE,(()=>{w||(w=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(T))})),Zl(T,ic.EventType.ERROR,(L=>{w||(w=!0,ko(vn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),P.o_(new pe(ae.UNAVAILABLE,"The operation could not be completed")))})),Zl(T,ic.EventType.MESSAGE,(L=>{if(!w){const j=L.data[0];st(!!j,16349);const z=j,ee=z?.error||z[0]?.error;if(ee){ye(vn,`RPC '${e}' stream ${o} received error:`,ee);const G=ee.status;let le=(function(te){const N=Kt[te];if(N!==void 0)return DS(N)})(G),ge=ee.message;le===void 0&&(le=ae.INTERNAL,ge="Unknown error status: "+G+" with message "+ee.message),w=!0,P.o_(new pe(le,ge)),T.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,j),P.__(j)}})),Io.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return XT()}}function WD(s){return new Io(s)}function Om(){return typeof document<"u"?document:null}function dd(s){return new tD(s,!0)}Io.c_=!1;class $S{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const l0="PersistentStream";class YS{constructor(e,n,r,o,c,h,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ye(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JD extends YS{constructor(e,n,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sD(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?es(h.readTime):xe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=np(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=Xm(g)?{documents:oD(c,g)}:{query:lD(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=kS(c,h.resumeToken);const v=Zm(c,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=Hh(c,h.snapshotVersion.toTimestamp());const v=Zm(c,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=uD(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.K_(n)}}class ZD extends YS{constructor(e,n,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aD(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=np(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rD(this.serializer,r)))};this.K_(n)}}class e2{}class t2 extends e2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,ep(n,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ae.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,ep(n,r),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(ae.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function n2(s,e,n,r){return new t2(s,e,n,r)}class i2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ta="RemoteStore";class s2{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{Aa(this)&&(ye(Ta,"Restarting streams for network reachability change."),await(async function(g){const v=Oe(g);v.Ea.add(4),await Vc(v),v.Va.set("Unknown"),v.Ea.delete(4),await fd(v)})(this))}))})),this.Va=new i2(r,o)}}async function fd(s){if(Aa(s))for(const e of s.Ra)await e(!0)}async function Vc(s){for(const e of s.Ra)await e(!1)}function KS(s,e){const n=Oe(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):Xo(n).O_()&&Jp(n,e))}function Wp(s,e){const n=Oe(s),r=Xo(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Aa(n)&&n.Va.set("Unknown"))}function Jp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(s).Z_(e)}function QS(s,e){s.da.$e(e),Xo(s).X_(e)}function Zp(s){s.da=new Wx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Xo(s).start(),s.Va.ua()}function eg(s){return Aa(s)&&!Xo(s).x_()&&s.Ia.size>0}function Aa(s){return Oe(s).Ea.size===0}function XS(s){s.da=void 0}async function r2(s){s.Va.set("Online")}async function a2(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function o2(s,e){XS(s),eg(s)?(s.Va.ha(e),Zp(s)):s.Va.set("Unknown")}async function l2(s,e,n){if(s.Va.set("Online"),e instanceof MS&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ye(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(s,r)}else if(e instanceof Rh?s.da.Xe(e):e instanceof OS?s.da.st(e):s.da.tt(e),!n.isEqual(xe.min()))try{const r=await GS(s.localStore);n.compareTo(r)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,v)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(gn.EMPTY_BYTE_STRING,T.snapshotVersion)),QS(c,g);const S=new Tr(T.target,g,v,T.sequenceNumber);Jp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ye(Ta,"Failed to raise snapshot:",r),await Gh(s,r)}}async function Gh(s,e,n){if(!Ko(e))throw e;s.Ea.add(1),await Vc(s),s.Va.set("Offline"),n||(n=()=>GS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ye(Ta,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await fd(s)}))}function WS(s,e){return e().catch((n=>Gh(s,n,e)))}async function md(s){const e=Oe(s),n=kr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;c2(e);)try{const o=await HD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,u2(e,o)}catch(o){await Gh(e,o)}JS(e)&&ZS(e)}function c2(s){return Aa(s)&&s.Ta.length<10}function u2(s,e){s.Ta.push(e);const n=kr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function JS(s){return Aa(s)&&!kr(s).x_()&&s.Ta.length>0}function ZS(s){kr(s).start()}async function h2(s){kr(s).ra()}async function d2(s){const e=kr(s);for(const n of s.Ta)e.ea(n.mutations)}async function f2(s,e,n){const r=s.Ta.shift(),o=Fp.from(r,e,n);await WS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await md(s)}async function m2(s,e){e&&kr(s).Y_&&await(async function(r,o){if((function(h){return Kx(h)&&h!==ae.ABORTED})(o.code)){const c=r.Ta.shift();kr(r).B_(),await WS(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await md(r)}})(s,e),JS(s)&&ZS(s)}async function c0(s,e){const n=Oe(s);n.asyncQueue.verifyOperationInProgress(),ye(Ta,"RemoteStore received new credentials");const r=Aa(n);n.Ea.add(3),await Vc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fd(n)}async function p2(s,e){const n=Oe(s);e?(n.Ea.delete(2),await fd(n)):e||(n.Ea.add(2),await Vc(n),n.Va.set("Unknown"))}function Xo(s){return s.ma||(s.ma=(function(n,r,o){const c=Oe(n);return c.sa(),new JD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:r2.bind(null,s),Yo:a2.bind(null,s),t_:o2.bind(null,s),J_:l2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),eg(s)?Zp(s):s.Va.set("Unknown")):(await s.ma.stop(),XS(s))}))),s.ma}function kr(s){return s.fa||(s.fa=(function(n,r,o){const c=Oe(n);return c.sa(),new ZD(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:h2.bind(null,s),t_:m2.bind(null,s),ta:d2.bind(null,s),na:f2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await md(s)):(await s.fa.stop(),s.Ta.length>0&&(ye(Ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const h=Date.now()+r,p=new tg(e,n,h,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,e){if(Ds("AsyncQueue",`${e}: ${s}`),Ko(s))return new pe(ae.UNAVAILABLE,`${e}: ${s}`);throw s}class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class u0{constructor(){this.ga=new At(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Uo{constructor(e,n,r,o,c,h,p,g,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Uo(e,n,xo.emptySet(n),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class g2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class y2{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Oe(n),c=o.queries;o.queries=h0(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new pe(ae.ABORTED,"Firestore shutting down"))}}function h0(){return new wa((s=>_S(s)),od)}async function v2(s,e){const n=Oe(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new g2,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=ng(h,`Initialization of query '${To(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ig(n)}async function _2(s,e){const n=Oe(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E2(s,e){const n=Oe(s);let r=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(r=!0);h.wa=o}}r&&ig(n)}function T2(s,e,n){const r=Oe(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function ig(s){s.Ca.forEach((e=>{e.next()}))}var rp,d0;(d0=rp||(rp={})).Ma="default",d0.Cache="cache";class S2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rp.Cache}}class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class b2{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=ES(e),this.tu=new xo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new u0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const w=o.get(T),P=ld(this.query,S)?S:null,L=!!w&&this.mutatedKeys.has(w.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;w&&P?w.data.isEqual(P.data)?L!==j&&(r.track({type:3,doc:P}),z=!0):this.su(w,P)||(r.track({type:2,doc:P}),z=!0,(g&&this.eu(P,g)>0||v&&this.eu(P,v)<0)&&(p=!0)):!w&&P?(r.track({type:0,doc:P}),z=!0):w&&!P&&(r.track({type:1,doc:w}),z=!0,(g||v)&&(p=!0)),z&&(P?(h=h.add(P),c=j?c.add(T):c.delete(T)):(h=h.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:h,iu:r,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,S)=>(function(P,L){const j=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:z})}};return j(P)-j(L)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,h.length!==0||v?{snapshot:new Uo(this.query,e.tu,c,h,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new tb(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new eb(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class w2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A2{constructor(e){this.key=e,this.hu=!1}}class R2{constructor(e,n,r,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wa((p=>_S(p)),od),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(be.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=Po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C2(s,e,n=!0){const r=ob(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await nb(r,e,n,!0),o}async function N2(s,e){const n=ob(s);await nb(n,e,!0,!1)}async function nb(s,e,n,r){const o=await FD(s.localStore,Zi(e)),c=o.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await I2(s,e,c,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&KS(s.remoteStore,o),p}async function I2(s,e,n,r,o){s.pu=(S,w,P)=>(async function(j,z,ee,G){let le=z.view.ru(ee);le.Ss&&(le=await s0(j.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,le))));const ge=G&&G.targetChanges.get(z.targetId),$=G&&G.targetMismatches.get(z.targetId)!=null,te=z.view.applyChanges(le,j.isPrimaryClient,ge,$);return m0(j,z.targetId,te.au),te.snapshot})(s,S,w,P);const c=await s0(s.localStore,e,!0),h=new b2(e,c.ks),p=h.ru(c.documents),g=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),v=h.applyChanges(p,s.isPrimaryClient,g);m0(s,n,v.au);const T=new w2(e,n,h);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),v.snapshot}async function x2(s,e,n){const r=Oe(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!od(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Wp(r.remoteStore,o.targetId),ap(r,o.targetId)})).catch(Yo)):(ap(r,o.targetId),await ip(r.localStore,o.targetId,!0))}async function D2(s,e){const n=Oe(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wp(n.remoteStore,r.targetId))}async function O2(s,e,n){const r=U2(s);try{const o=await(function(h,p){const g=Oe(h),v=Pe.now(),T=p.reduce(((P,L)=>P.add(L.key)),Xe());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let L=Os(),j=Xe();return g.xs.getEntries(P,T).next((z=>{L=z,L.forEach(((ee,G)=>{G.isValidDocument()||(j=j.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,L))).next((z=>{S=z;const ee=[];for(const G of p){const le=Hx(G,S.get(G.key).overlayedDocument);le!=null&&ee.push(new Ur(G.key,le,uS(le.value.mapValue),Ni.exists(!0)))}return g.mutationQueue.addMutationBatch(P,v,ee,p)})).next((z=>{w=z;const ee=z.applyToLocalDocumentSet(S,j);return g.documentOverlayCache.saveOverlays(P,z.batchId,ee)}))})).then((()=>({batchId:w.batchId,changes:SS(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let v=h.du[h.currentUser.toKey()];v||(v=new At(Qe)),v=v.insert(p,g),h.du[h.currentUser.toKey()]=v})(r,o.batchId,n),await Lc(r,o.changes),await md(r.remoteStore)}catch(o){const c=ng(o,"Failed to persist write");n.reject(c)}}async function ib(s,e){const n=Oe(s);try{const r=await BD(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?st(h.hu,14607):o.removedDocuments.size>0&&(st(h.hu,42227),h.hu=!1))})),await Lc(n,r,e)}catch(r){await Yo(r)}}function f0(s,e,n){const r=Oe(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Oe(h);g.onlineState=p;let v=!1;g.queries.forEach(((T,S)=>{for(const w of S.ba)w.va(p)&&(v=!0)})),v&&ig(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M2(s,e,n){const r=Oe(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new At(be.comparator);h=h.insert(c,En.newNoDocument(c,xe.min()));const p=Xe().add(c),g=new hd(xe.min(),new Map,new At(Qe),h,p);await ib(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),rg(r)}else await ip(r.localStore,e,!1).then((()=>ap(r,e,n))).catch(Yo)}async function k2(s,e){const n=Oe(s),r=e.batch.batchId;try{const o=await zD(n.localStore,e);rb(n,r,null),sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,o)}catch(o){await Yo(o)}}async function j2(s,e,n){const r=Oe(s);try{const o=await(function(h,p){const g=Oe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(st(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);rb(r,e,n),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,o)}catch(o){await Yo(o)}}function sb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rb(s,e,n){const r=Oe(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function ap(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||ab(s,r)}))}function ab(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Wp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),rg(s))}function m0(s,e,n){for(const r of n)r instanceof eb?(s.Vu.addReference(r.key,e),V2(s,r)):r instanceof tb?(ye(sg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||ab(s,r.key)):Ne(19791,{wu:r})}function V2(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ye(sg,"New document in limbo: "+n),s.Eu.add(r),rg(s))}function rg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new be(yt.fromString(e)),r=s.fu.next();s.Au.set(r,new A2(n)),s.Ru=s.Ru.insert(n,r),KS(s.remoteStore,new Tr(Zi(yS(n.path)),r,"TargetPurposeLimboResolution",sd.ce))}}async function Lc(s,e,n){const r=Oe(s),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const T=v?!v.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Qp.Es(g.targetId,v);c.push(T)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(g,v){const T=Oe(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>oe.forEach(v,(w=>oe.forEach(w.Ts,(P=>T.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>oe.forEach(w.Is,(P=>T.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!Ko(S))throw S;ye(Xp,"Failed to update sequence numbers: "+S)}for(const S of v){const w=S.targetId;if(!S.fromCache){const P=T.vs.get(w),L=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(L);T.vs=T.vs.insert(w,j)}}})(r.localStore,c))}async function L2(s,e){const n=Oe(s);if(!n.currentUser.isEqual(e)){ye(sg,"User change. New user:",e.toKey());const r=await FS(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new pe(ae.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.Ns)}}function P2(s,e){const n=Oe(s),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function ob(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M2.bind(null,e),e.Pu.J_=E2.bind(null,e.eventManager),e.Pu.yu=T2.bind(null,e.eventManager),e}function U2(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j2.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UD(this.persistence,new VD,e.initialUser,this.serializer)}Cu(e){return new HS(Kp.Vi,this.serializer)}Du(e){return new $D}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class z2 extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new HS((r=>Fh.Vi(r,n)),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y2})()}createDatastore(e){const n=dd(e.databaseInfo.databaseId),r=WD(e.databaseInfo);return n2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,h,p){return new s2(r,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>f0(this.syncEngine,n,0)),(function(){return o0.v()?new o0:new YD})())}createSyncEngine(e,n){return(function(o,c,h,p,g,v,T){const S=new R2(o,c,h,p,g,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Oe(n);ye(Ta,"RemoteStore shutting down."),r.Ea.add(5),await Vc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}op.provider={build:()=>new op};class B2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const jr="FirestoreClient";class q2{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{ye(jr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ye(jr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mm(s,e){s.asyncQueue.verifyOperationInProgress(),ye(jr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await FS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function p0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await H2(s);ye(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>c0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>c0(e.remoteStore,o))),s._onlineComponents=e}async function H2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ye(jr,"Using user provided OfflineComponentProvider");try{await Mm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Mm(s,new $h)}}else ye(jr,"Using default OfflineComponentProvider"),await Mm(s,new z2(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ye(jr,"Using user provided OnlineComponentProvider"),await p0(s,s._uninitializedComponentsProvider._online)):(ye(jr,"Using default OnlineComponentProvider"),await p0(s,new op))),s._onlineComponents}function F2(s){return lb(s).then((e=>e.syncEngine))}async function G2(s){const e=await lb(s),n=e.eventManager;return n.onListen=C2.bind(null,e.syncEngine),n.onUnlisten=x2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D2.bind(null,e.syncEngine),n}function $2(s,e,n={}){const r=new Rr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,v){const T=new B2({next:w=>{T.Nu(),h.enqueueAndForget((()=>_2(c,S))),w.fromCache&&g.source==="server"?v.reject(new pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:w=>v.reject(w)}),S=new S2(p,T,{includeMetadataChanges:!0,Ka:!0});return v2(c,S)})(await G2(s),s.asyncQueue,e,n,r))),r.promise}function Y2(s,e){const n=new Rr;return s.asyncQueue.enqueueAndForget((async()=>O2(await F2(s),e,n))),n.promise}function cb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const K2="ComponentProvider",g0=new Map;function Q2(s,e,n,r,o){return new hx(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,cb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const ub="firestore.googleapis.com",y0=!0;class v0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ub,this.ssl=y0}else this.host=e.host,this.ssl=e.ssl??y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_D)throw new pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FI;switch(r.type){case"firstParty":return new KI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=g0.get(n);r&&(ye(K2,"Removing Datastore"),g0.delete(n),r.terminate())})(this),Promise.resolve()}}function X2(s,e,n,r={}){s=Ea(s,pd);const o=Ho(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(nT(`https://${p}`),iT("Firestore",!0)),c.host!==ub&&c.host!==p&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:r};if(!pa(g,h)&&(s._setSettings(g),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=_n.MOCK_USER;else{v=iR(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new _n(S)}s._authCredentials=new GI(new JT(v,T))}}class Ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mc(n,Zt._jsonSchema))return new Zt(e,r||null,new be(yt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Xt("string",Zt._jsonSchemaVersion),referencePath:Xt("string")};class Cr extends Ra{constructor(e,n,r){super(e,n,yS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new be(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function bt(s,e,...n){if(s=tn(s),ZT("collection","path",e),s instanceof pd){const r=yt.fromString(e,...n);return DE(r),new Cr(s,null,r)}{if(!(s instanceof Zt||s instanceof Cr))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...n));return DE(r),new Cr(s.firestore,null,r)}}function pn(s,e,...n){if(s=tn(s),arguments.length===1&&(e=Vp.newId()),ZT("doc","path",e),s instanceof pd){const r=yt.fromString(e,...n);return xE(r),new Zt(s,null,new be(r))}{if(!(s instanceof Zt||s instanceof Cr))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...n));return xE(r),new Zt(s.firestore,s instanceof Cr?s.converter:null,new be(r))}}const _0="AsyncQueue";class E0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $S(this,"async_queue_retry"),this._c=()=>{const r=Om();r&&ye(_0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ye(_0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",T0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Pc extends pd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new E0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function W2(s,e){const n=typeof s=="object"?s:aT(),r=typeof s=="string"?s:Ph,o=wp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=tR("firestore");c&&X2(o,...c)}return o}function hb(s){if(s._terminated)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||J2(s),s._firestoreClient}function J2(s){const e=s._freezeSettings(),n=Q2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new q2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(gn.fromBase64String(e))}catch(n){throw new pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yi(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Xt("string",yi._jsonSchemaVersion),bytes:Xt("string")};class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:Xt("string",ts._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class Ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ii(e.vectorValues);throw new pe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Xt("string",Ii._jsonSchemaVersion),vectorValues:Xt("object")};const Z2=/^__.*__$/;class eO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new kc(e,this.data,n,this.fieldTransforms)}}class db{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{dataSource:s})}}class lg{constructor(e,n,r,o,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fb(this.dataSource)&&Z2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dd(e)}createContext(e,n,r,o=!1){return new lg({dataSource:e,methodName:n,targetDoc:r,path:mn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(s){const e=s._freezeSettings(),n=dd(s._databaseId);return new tO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function nO(s,e,n,r,o,c={}){const h=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);ug("Data must be an object, but it was:",h,r);const p=mb(r,h);let g,v;if(c.merge)g=new Zn(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const w=Sa(e,S,n);if(!h.contains(w))throw new pe(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yb(T,w)||T.push(w)}g=new Zn(T),v=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=h.fieldTransforms;return new eO(new Ln(p),g,v)}class gd extends og{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}function iO(s,e,n,r){const o=s.createContext(1,e,n);ug("Data must be an object, but it was:",o,r);const c=[],h=Ln.empty();Pr(r,((g,v)=>{const T=gb(e,g,n);v=tn(v);const S=o.childContextForFieldPath(T);if(v instanceof gd)c.push(T);else{const w=Uc(v,S);w!=null&&(c.push(T),h.set(T,w))}}));const p=new Zn(c);return new db(h,p,o.fieldTransforms)}function sO(s,e,n,r,o,c){const h=s.createContext(1,e,n),p=[Sa(e,r,n)],g=[o];if(c.length%2!=0)throw new pe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(Sa(e,c[w])),g.push(c[w+1]);const v=[],T=Ln.empty();for(let w=p.length-1;w>=0;--w)if(!yb(v,p[w])){const P=p[w];let L=g[w];L=tn(L);const j=h.childContextForFieldPath(P);if(L instanceof gd)v.push(P);else{const z=Uc(L,j);z!=null&&(v.push(P),T.set(P,z))}}const S=new Zn(v);return new db(T,S,h.fieldTransforms)}function rO(s,e,n,r=!1){return Uc(n,s.createContext(r?4:3,e))}function Uc(s,e){if(pb(s=tn(s)))return ug("Unsupported field value:",e,s),mb(s,e);if(s instanceof og)return(function(r,o){if(!fb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const p of r){let g=Uc(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Pe.fromDate(r);return{timestampValue:Hh(o.serializer,c)}}if(r instanceof Pe){const c=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,c)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yi)return{bytesValue:kS(o.serializer,r._byteString)};if(r instanceof Zt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ii)return(function(h,p){const g=h instanceof Ii?h.toArray():h;return{mapValue:{fields:{[lS]:{stringValue:cS},[Uh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return qp(p.serializer,T)}))}}}}}})(r,o);if(BS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${id(r)}`)})(s,e)}function mb(s,e){const n={};return nS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pr(s,((r,o)=>{const c=Uc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Pe||s instanceof ts||s instanceof yi||s instanceof Zt||s instanceof og||s instanceof Ii||BS(s))}function ug(s,e,n){if(!pb(n)||!eS(n)){const r=id(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Sa(s,e,n){if((e=tn(e))instanceof ag)return e._internalPath;if(typeof e=="string")return gb(s,e);throw Yh("Field path arguments must be of type string or ",s,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function gb(s,e,n){if(e.search(aO)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Yh(s,e,n,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new pe(ae.INVALID_ARGUMENT,p+s+g)}function yb(s,e){return s.some((n=>n.isEqual(e)))}class oO{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new Ii(n)}convertGeoPoint(e){return new ts(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ad(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Dr(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);st(zS(r),9688,{name:e});const o=new vc(r.get(1),r.get(3)),c=new be(r.popFirst(5));return o.isEqual(n)||Ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class lO extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}const S0="@firebase/firestore",b0="4.10.0";class vb{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Sa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends vb{data(){return super.data()}}function uO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class _b extends hg{}function bc(s,e,...n){let r=[];e instanceof hg&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((g=>g instanceof dg)).length,p=c.filter((g=>g instanceof yd)).length;if(h>1||h>0&&p>0)throw new pe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class yd extends _b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yd(e,n,r)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new Ra(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=cg(e.firestore);return(function(c,h,p,g,v,T,S){let w;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){A0(S,T);const L=[];for(const j of S)L.push(w0(g,c,j));w={arrayValue:{values:L}}}else w=w0(g,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||A0(S,T),w=rO(p,h,S,T==="in"||T==="not-in");return Qt.create(v,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kh(s,e,n){const r=e,o=Sa("where",s);return yd._create(o,r,n)}class dg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)Eb(h,g),h=Wm(h,g)})(e._query,n),new Ra(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends _b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new pe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(c,h)})(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,Ix(e._query,n))}}function hO(s,e="asc"){const n=e,r=Sa("orderBy",s);return fg._create(r,n)}function w0(s,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new pe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!be.isDocumentKey(r))throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UE(s,new be(r))}if(n instanceof Zt)return UE(s,n._key);throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${id(n)}.`)}function A0(s,e){if(!Array.isArray(s)||s.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(s,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dO(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends vb{constructor(e,n,r,o,c,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Do._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Xt("string",Do._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Ch extends Do{data(e={}){return super.data(e)}}class Oo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Ch(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Ch(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),T=h.indexOf(p.doc.key)),{type:fO(p.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:s})}}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Xt("string",Oo._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};function on(s){s=Ea(s,Ra);const e=Ea(s.firestore,Pc),n=hb(e),r=new lO(e);return uO(s._query),$2(n,s._query).then((o=>new Oo(e,r,s,o)))}function Nr(s,e,n,...r){s=Ea(s,Zt);const o=Ea(s.firestore,Pc),c=cg(o);let h;return h=typeof(e=tn(e))=="string"||e instanceof ag?sO(c,"updateDoc",s._key,e,n,r):iO(c,"updateDoc",s._key,e),mg(o,[h.toMutation(s._key,Ni.exists(!0))])}function Ir(s){return mg(Ea(s.firestore,Pc),[new Hp(s._key,Ni.none())])}function Ao(s,e){const n=Ea(s.firestore,Pc),r=pn(s),o=dO(s.converter,e),c=cg(s.firestore);return mg(n,[nO(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then((()=>r))}function mg(s,e){const n=hb(s);return Y2(n,e)}(function(e,n=!0){HI(Fo),Mo(new ga("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),p=new Pc(new $I(r.getProvider("auth-internal")),new QI(h,r.getProvider("app-check-internal")),dx(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),wr(S0,b0,e),wr(S0,b0,"esm2020")})();var mO="firebase",pO="12.8.0";wr(mO,pO,"app");const Tb={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},Sb=Ap(Tb),ph=FT(Sb),ze=W2(Sb),gO=Ap(Tb,"secondary"),R0=FT(gO),yO="EYdciKDOi3UYBLk1u8hHams5tmO2",bb=M.createContext();function Wo(){return M.useContext(bb)}function vO({children:s}){const[e,n]=M.useState(null),[r,o]=M.useState(!1),[c,h]=M.useState(!1),[p,g]=M.useState(null),[v,T]=M.useState(!0);M.useEffect(()=>ON(ph,async j=>{if(n(j),j)if(j.uid===yO)o(!0),h(!1),g(null);else{o(!1);try{const z=bc(bt(ze,"clients"),Kh("uid","==",j.uid)),ee=await on(z);if(ee.empty)h(!1),g(null);else{const G=ee.docs[0];h(!0),g({id:G.id,...G.data()})}}catch(z){console.error("Error fetching client data:",z),h(!1),g(null)}}else o(!1),h(!1),g(null);T(!1)}),[]);const P={currentUser:e,isAdmin:r,isClient:c,clientData:p,login:async(L,j,z=!0)=>(await IN(ph,z?VT:Op),await NN(ph,L,j)),logout:()=>MT(ph),loading:v};return m.jsx(bb.Provider,{value:P,children:s})}const wb=M.createContext();function _O(){return M.useContext(wb)}function EO({children:s}){const[e,n]=M.useState(()=>{const c=localStorage.getItem("theme");return c?c==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});M.useEffect(()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("theme",e?"dark":"light")},[e]);const o={isDark:e,toggleTheme:()=>n(!e)};return m.jsx(wb.Provider,{value:o,children:s})}function TO(){const[s,e]=M.useState(""),[n,r]=M.useState(""),[o,c]=M.useState(!0),[h,p]=M.useState(""),[g,v]=M.useState(!1),{login:T,currentUser:S,isAdmin:w,isClient:P,loading:L}=Wo(),j=ks();if(M.useEffect(()=>{!L&&S&&(w?j("/dashboard"):P&&j("/client"))},[L,S,w,P,j]),L)return m.jsx("div",{className:"login-container",children:m.jsx("div",{className:"login-loading",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"loading-logo"})})});const z=async ee=>{ee.preventDefault(),p(""),v(!0);try{await T(s,n,o)}catch(G){p(G.message||"Failed to log in"),v(!1)}};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"login-logo"}),m.jsx("p",{children:"Client Portal"})]}),h&&m.jsx("div",{className:"error-message",children:h}),m.jsxs("form",{onSubmit:z,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:s,onChange:ee=>e(ee.target.value),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Password"}),m.jsx("input",{type:"password",id:"password",value:n,onChange:ee=>r(ee.target.value),required:!0})]}),m.jsx("div",{className:"remember-me",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",checked:o,onChange:ee=>c(ee.target.checked)}),m.jsx("span",{children:"Remember me"})]})}),m.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Logging in...":"Log In"})]}),m.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function SO(){const[s,e]=M.useState([]),[n,r]=M.useState([]),[o,c]=M.useState(!0),[h,p]=M.useState(null),[g,v]=M.useState({});M.useEffect(()=>{T()},[]);const T=async()=>{try{const[$,te]=await Promise.all([on(bc(bt(ze,"clients"),hO("createdAt","desc"))),on(bt(ze,"sessions"))]),N=$.docs.map(R=>({id:R.id,...R.data()})),C=te.docs.map(R=>({id:R.id,...R.data()}));e(N),r(C)}catch($){console.error("Error fetching data:",$)}c(!1)},S=$=>{const te=new Date,N=te.getFullYear(),C=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0"),x=`${N}-${C}-${R}`,D=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`;return n.filter(k=>k.clientId!==$?!1:k.date<x||k.date===x&&k.time<D).length},w=$=>{const te=S($.id);return($.totalSessions||0)-te},P=$=>{const te=new Date,N=te.getFullYear(),C=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0"),x=`${N}-${C}-${R}`,D=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`;return n.filter(k=>k.clientId!==$?!1:k.date>x||k.date===x&&k.time>=D).length},L=$=>$?($.toDate?$.toDate():new Date($)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",j=async($,te)=>{if(window.confirm(`Are you sure you want to delete ${te}? This will also delete all their booked sessions.`))try{const C=n.filter(R=>R.clientId===$).map(R=>Ir(pn(ze,"sessions",R.id)));await Promise.all(C),await Ir(pn(ze,"clients",$)),e(s.filter(R=>R.id!==$)),r(n.filter(R=>R.clientId!==$))}catch(N){console.error("Error deleting client:",N),alert("Failed to delete client")}},z=$=>{if(!$)return"";const te=$.toDate?$.toDate():new Date($),N=te.getFullYear(),C=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0");return`${N}-${C}-${R}`},ee=$=>{p($.id),v({name:$.name,email:$.email,password:"",weeksInBlock:$.weeksInBlock,totalSessions:$.totalSessions,sessionsRemaining:$.sessionsRemaining,sessionDuration:$.sessionDuration||45,startDate:z($.startDate),endDate:z($.endDate),status:$.status,hasPortalAccess:!!$.uid})},G=$=>{const{name:te,value:N}=$.target;if(v(C=>({...C,[te]:N})),te==="startDate"||te==="weeksInBlock"){const C=te==="startDate"?N:g.startDate,R=parseInt(te==="weeksInBlock"?N:g.weeksInBlock);if(C&&R>0){const x=new Date(C),D=new Date(x);D.setDate(D.getDate()+R*7);const k=D.getFullYear(),I=(D.getMonth()+1).toString().padStart(2,"0"),we=D.getDate().toString().padStart(2,"0");v(Ve=>({...Ve,[te]:N,endDate:`${k}-${I}-${we}`}))}}},le=async $=>{try{const te=s.find(R=>R.id===$);let N=te?.uid;if(g.password&&g.password.length>=6&&!te?.uid)try{const R=await CN(R0,g.email.trim().toLowerCase(),g.password);await MT(R0),N=R.user.uid}catch(R){if(console.error("Error creating auth account:",R),R.code==="auth/email-already-in-use")alert("This email already has a portal account. Password not changed.");else if(R.code==="auth/weak-password"){alert("Password must be at least 6 characters.");return}else{alert("Failed to create portal account: "+R.message);return}}const C={name:g.name.trim(),email:g.email.trim().toLowerCase(),weeksInBlock:parseInt(g.weeksInBlock),totalSessions:parseInt(g.totalSessions),sessionDuration:parseInt(g.sessionDuration),startDate:Pe.fromDate(new Date(g.startDate)),endDate:Pe.fromDate(new Date(g.endDate)),status:g.status};N&&!te?.uid&&(C.uid=N),await Nr(pn(ze,"clients",$),C),e(s.map(R=>R.id===$?{...R,...g,uid:N||R.uid,weeksInBlock:parseInt(g.weeksInBlock),totalSessions:parseInt(g.totalSessions),sessionDuration:parseInt(g.sessionDuration),startDate:Pe.fromDate(new Date(g.startDate)),endDate:Pe.fromDate(new Date(g.endDate))}:R)),p(null),N&&!te?.uid&&alert("Portal access created! Client can now log in.")}catch(te){console.error("Error updating client:",te),alert("Failed to update client")}},ge=async $=>{try{const te=s.find(N=>N.id===$)?.status==="archived"?"active":"archived";await Nr(pn(ze,"clients",$),{status:te}),e(s.map(N=>N.id===$?{...N,status:te}:N))}catch(te){console.error("Error archiving client:",te),alert("Failed to update client status")}};return o?m.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):s.length===0?m.jsxs("div",{className:"client-list-empty",children:[m.jsx("p",{children:"No clients yet"}),m.jsx("span",{children:"Add your first client to get started"})]}):m.jsx("div",{className:"client-list",children:s.map($=>m.jsx("div",{className:`client-card ${$.status==="archived"?"archived":""}`,children:h===$.id?m.jsxs("div",{className:"edit-form",children:[m.jsxs("div",{className:"edit-row",children:[m.jsx("input",{type:"text",name:"name",value:g.name,onChange:G,placeholder:"Name"}),m.jsx("input",{type:"email",name:"email",value:g.email,onChange:G,placeholder:"Email"})]}),m.jsxs("div",{className:"edit-row",children:[m.jsx("input",{type:"number",name:"weeksInBlock",value:g.weeksInBlock,onChange:G,placeholder:"Weeks",min:"1"}),m.jsx("input",{type:"number",name:"totalSessions",value:g.totalSessions,onChange:G,placeholder:"Total Sessions",min:"1"}),m.jsxs("select",{name:"sessionDuration",value:g.sessionDuration,onChange:G,children:[m.jsx("option",{value:"30",children:"30 min"}),m.jsx("option",{value:"45",children:"45 min"})]})]}),m.jsxs("div",{className:"edit-row",children:[m.jsx("input",{type:"date",name:"startDate",value:g.startDate,onChange:G}),m.jsx("input",{type:"date",name:"endDate",value:g.endDate,onChange:G})]}),m.jsx("div",{className:"edit-row password-row",children:g.hasPortalAccess?m.jsx("div",{className:"portal-status has-access",children:" Has portal access"}):m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"text",name:"password",value:g.password,onChange:G,placeholder:"Set portal password (min 6 chars)"}),m.jsx("span",{className:"password-hint",children:"Set password to enable client portal"})]})}),m.jsxs("div",{className:"edit-actions",children:[m.jsx("button",{className:"save-edit-btn",onClick:()=>le($.id),children:"Save"}),m.jsx("button",{className:"cancel-edit-btn",onClick:()=>p(null),children:"Cancel"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"client-header",children:[m.jsxs("div",{className:"client-info",children:[m.jsx("h3",{children:$.name}),m.jsx("span",{className:"client-email",children:$.email})]}),m.jsx("div",{className:"client-status",children:m.jsx("span",{className:`status-badge ${$.status}`,children:$.status})})]}),m.jsxs("div",{className:"client-details",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Block"}),m.jsxs("span",{className:"detail-value",children:[$.weeksInBlock," weeks"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Sessions"}),m.jsxs("span",{className:"detail-value",children:[w($)," / ",$.totalSessions," remaining"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Booked"}),m.jsxs("span",{className:"detail-value",children:[P($.id)," sessions"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Duration"}),m.jsxs("span",{className:"detail-value",children:[$.sessionDuration||45," min"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Start"}),m.jsx("span",{className:"detail-value",children:L($.startDate)})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"End"}),m.jsx("span",{className:"detail-value",children:L($.endDate)})]})]}),m.jsxs("div",{className:"client-actions",children:[m.jsx("button",{className:"action-btn edit",onClick:()=>ee($),children:"Edit"}),m.jsx("button",{className:"action-btn archive",onClick:()=>ge($.id),children:$.status==="archived"?"Reactivate":"Archive"}),m.jsx("button",{className:"action-btn delete",onClick:()=>j($.id,$.name),children:"Delete"})]})]})},$.id))})}const Ab={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},lp=["monday","tuesday","wednesday","thursday","friday"],bO=["Monday","Tuesday","Wednesday","Thursday","Friday"],wO=["Mon","Tue","Wed","Thu","Fri"],C0=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},AO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),lp.map((o,c)=>{const h=new Date(e);return h.setDate(e.getDate()+c),h})},Jn=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},cp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},Qh=(s,e)=>{const n=cp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},RO=s=>{const e=Ab[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=Qh(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=Qh(r,15)}return n};function CO(){const[s,e]=M.useState(new Date),[n,r]=M.useState([]),[o,c]=M.useState([]),[h,p]=M.useState([]),[g,v]=M.useState([]),[T,S]=M.useState([]),[w,P]=M.useState(null),[L,j]=M.useState(null),[z,ee]=M.useState(!1),[G,le]=M.useState(!0);M.useEffect(()=>{r(AO(s))},[s]),M.useEffect(()=>{C()},[]);const ge=Y=>{if(P(Y),ee(!1),Y.startDate){const Z=Y.startDate.toDate?Y.startDate.toDate():new Date(Y.startDate);e(Z)}j(null)},$=Y=>{const Z=new Date,ce=Jn(Z),de=`${Z.getHours().toString().padStart(2,"0")}:${Z.getMinutes().toString().padStart(2,"0")}`;return h.filter(fe=>fe.clientId!==Y?!1:fe.date<ce||fe.date===ce&&fe.time<de).length},te=Y=>{const Z=$(Y.id);return(Y.totalSessions||0)-Z},N=Y=>{const Z=new Date,ce=Z.getFullYear(),de=(Z.getMonth()+1).toString().padStart(2,"0"),fe=Z.getDate().toString().padStart(2,"0"),Re=`${ce}-${de}-${fe}`,Me=`${Z.getHours().toString().padStart(2,"0")}:${Z.getMinutes().toString().padStart(2,"0")}`;return h.filter(mt=>mt.clientId!==Y?!1:mt.date>Re||mt.date===Re&&mt.time>=Me).length},C=async()=>{try{const Z=(await on(bt(ze,"clients"))).docs.map(me=>({id:me.id,...me.data()})).filter(me=>me.status==="active");c(Z);const de=(await on(bt(ze,"sessions"))).docs.map(me=>({id:me.id,...me.data()}));p(de);const Re=(await on(bt(ze,"holidays"))).docs.map(me=>({id:me.id,...me.data()}));v(Re);const mt=(await on(bt(ze,"blockedTimes"))).docs.map(me=>({id:me.id,...me.data()}));S(mt)}catch(Y){console.error("Error fetching data:",Y)}le(!1)},R=Y=>{const Z=new Date(s);Z.setDate(Z.getDate()+Y*7),e(Z),j(null)},x=()=>{e(new Date),j(null)},D=Y=>{const Z=Jn(Y);return g.some(ce=>ce.date===Z)},k=(Y,Z)=>{const ce=Jn(Y);return T.some(de=>de.date===ce&&de.time===Z)},I=async(Y,Z)=>{const ce=Jn(Y),de=T.find(fe=>fe.date===ce&&fe.time===Z);try{if(de)await Ir(pn(ze,"blockedTimes",de.id)),S(T.filter(fe=>fe.id!==de.id));else{const fe=await Ao(bt(ze,"blockedTimes"),{date:ce,time:Z,createdAt:Pe.now()});S([...T,{id:fe.id,date:ce,time:Z}])}}catch(fe){console.error("Error toggling blocked time:",fe),alert("Failed to update time slot")}},we=Y=>{const Z=Jn(Y);return h.filter(ce=>ce.date===Z)},Ve=(Y,Z)=>{const ce=Jn(Y);return h.find(de=>de.date===ce&&de.time===Z)},J=(Y,Z,ce)=>{const de=lp[Y.getDay()-1];if(!de||D(Y))return!1;const fe=Math.ceil(ce/15);for(let tt=0;tt<fe;tt++){const Ct=Qh(Z,tt*15);if(k(Y,Ct))return!1}const Re=Jn(Y);if(h.find(tt=>tt.date===Re&&tt.time===Z))return!1;const mt=Qh(Z,ce),me=Ab[de],Ut=me.morning&&mt<=me.morning.end,Rt=me.afternoon&&mt<=me.afternoon.end,zt=me.morning&&Z>=me.morning.start&&Z<me.morning.end,vi=me.afternoon&&Z>=me.afternoon.start&&Z<me.afternoon.end;if(zt&&!Ut||vi&&!Rt)return!1;for(const tt of h){if(tt.date!==Re)continue;const Ct=cp(tt.time),Dt=Ct+(tt.duration||45),rt=cp(Z),at=rt+ce;if(rt<Dt&&at>Ct)return!1}return!0},ue=async(Y,Z)=>{const ce=Ve(Y,Z);if(ce){if(window.confirm(`Cancel ${ce.clientName}'s session at ${C0(Z)}?`))try{await Ir(pn(ze,"sessions",ce.id)),p(h.filter(fe=>fe.id!==ce.id))}catch(fe){console.error("Error cancelling session:",fe),alert("Failed to cancel session")}return}if(!w){alert("Please select a client first");return}if(!J(Y,Z,w.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(h.filter(fe=>fe.clientId===w.id).length>=w.totalSessions){alert(`${w.name} has already booked all ${w.totalSessions} sessions`);return}try{const fe=Jn(Y),Re={clientId:w.id,clientName:w.name,date:fe,time:Z,duration:w.sessionDuration||45,createdAt:Pe.now()},Me=await Ao(bt(ze,"sessions"),Re);p([...h,{id:Me.id,...Re}])}catch(fe){console.error("Error booking session:",fe),alert("Failed to book session")}},_e=async()=>{if(!w)return;const Y=w.startDate?.toDate?w.startDate.toDate():new Date(w.startDate),Z=w.endDate?.toDate?w.endDate.toDate():new Date(w.endDate),ce=h.filter(me=>me.clientId!==w.id?!1:n.some(Ut=>Jn(Ut)===me.date));if(ce.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const de=w.weeksInBlock||Math.ceil((Z-Y)/(10080*60*1e3)),fe=ce.map(me=>({dayOfWeek:new Date(me.date).getDay(),time:me.time}));let Re=[];const Me=h.filter(me=>me.clientId===w.id).length;for(let me=0;me<de;me++){const Ut=new Date(Y);Ut.setDate(Ut.getDate()+me*7);const Rt=new Date(Ut),zt=Rt.getDay(),vi=Rt.getDate()-zt+(zt===0?-6:1);Rt.setDate(vi);for(const tt of fe){const Ct=new Date(Rt),Dt=tt.dayOfWeek===0?6:tt.dayOfWeek-1;Ct.setDate(Rt.getDate()+Dt);const rt=Jn(Ct);h.some(at=>at.clientId===w.id&&at.date===rt&&at.time===tt.time)||Ct<Y||Ct>Z||g.some(at=>at.date===rt)||Re.push({dateKey:rt,time:tt.time,sessionDate:Ct})}}const mt=Me+Re.length;if(mt>w.totalSessions){alert(`This would create ${Re.length} new sessions (${mt} total), but client only has ${w.totalSessions} sessions in their package.

You can still book ${w.totalSessions-Me} more sessions.`);return}if(Re.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${Re.length} new sessions across the block.

(${Me} existing + ${Re.length} new = ${mt} total)

Continue?`))try{const me=[];for(const Ut of Re){const Rt={clientId:w.id,clientName:w.name,date:Ut.dateKey,time:Ut.time,duration:w.sessionDuration||45,createdAt:Pe.now()},zt=await Ao(bt(ze,"sessions"),Rt);me.push({id:zt.id,...Rt})}p([...h,...me]),alert(`Created ${me.length} new sessions!`)}catch(me){console.error("Error repeating weekly:",me),alert("Failed to repeat sessions")}},Ue=async Y=>{const Z=Jn(Y),ce=g.find(de=>de.date===Z);try{if(ce)await Ir(pn(ze,"holidays",ce.id)),v(g.filter(de=>de.id!==ce.id));else{const de=await Ao(bt(ze,"holidays"),{date:Z,createdAt:Pe.now()});v([...g,{id:de.id,date:Z}])}}catch(de){console.error("Error toggling day availability:",de),alert("Failed to update day availability")}};if(G)return m.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const Be=n[0],V=n[4],ie=Be&&V?`${Be.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${V.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return m.jsxs("div",{className:"calendar",children:[m.jsxs("div",{className:"calendar-header",children:[m.jsxs("div",{className:"calendar-nav",children:[m.jsx("button",{onClick:()=>R(-1),children:""}),m.jsx("button",{onClick:x,children:"Today"}),m.jsx("button",{onClick:()=>R(1),children:""})]}),m.jsx("h3",{children:ie})]}),m.jsxs("div",{className:"client-selector",children:[m.jsx("span",{className:"selector-label",children:"Booking for:"}),w?m.jsxs("div",{className:"selected-client",children:[m.jsxs("div",{className:"selected-info",children:[m.jsx("strong",{children:w.name}),m.jsxs("span",{children:[w.sessionDuration||45,"min  ",te(w),"/",w.totalSessions," remaining"]}),m.jsxs("span",{className:"booked-info",children:[N(w.id)," booked"]})]}),m.jsx("button",{onClick:()=>P(null),children:"Change"})]}):m.jsx("button",{className:"select-client-btn",onClick:()=>ee(!0),children:"Select Client"})]}),w&&m.jsxs("div",{className:"repeat-weekly-section",children:[m.jsx("button",{className:"repeat-weekly-btn",onClick:_e,children:"Repeat This Week's Schedule For All Weeks"}),m.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),m.jsx("div",{className:"day-cards",children:n.map((Y,Z)=>{const ce=we(Y),de=Jn(Y)===Jn(new Date),fe=D(Y);return m.jsxs("div",{className:`day-card ${L===Z?"selected":""} ${de?"today":""} ${fe?"holiday":""}`,onClick:()=>j(L===Z?null:Z),children:[m.jsxs("div",{className:"day-card-header",children:[m.jsx("span",{className:"day-name",children:wO[Z]}),m.jsx("span",{className:"day-date",children:Y.getDate()})]}),fe?m.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):m.jsxs("div",{className:"day-card-status",children:[ce.length," session",ce.length!==1?"s":""]})]},Z)})}),L!==null&&n[L]&&m.jsxs("div",{className:"time-panel",children:[m.jsxs("div",{className:"time-panel-header",children:[m.jsxs("h4",{children:[bO[L]," ",n[L].getDate()]}),m.jsx("button",{className:"close-panel",onClick:()=>j(null),children:""})]}),m.jsx("div",{className:"availability-toggle",children:m.jsx("button",{className:`toggle-availability-btn ${D(n[L])?"unavailable":"available"}`,onClick:()=>Ue(n[L]),children:D(n[L])?"Mark Day Available":"Mark Day Unavailable"})}),D(n[L])?m.jsxs("div",{className:"day-unavailable-message",children:[m.jsx("p",{children:"This day is marked as unavailable"}),m.jsx("span",{children:"Tap the button above to make it available again"})]}):m.jsx("div",{className:"time-slots",children:RO(lp[L]).map(({time:Y,period:Z},ce,de)=>{const fe=Ve(n[L],Y),Re=k(n[L],Y),Me=w&&J(n[L],Y,w.sessionDuration||45),mt=ce===0||de[ce-1]?.period!==Z;return m.jsxs("div",{children:[mt&&m.jsx("div",{className:"period-label",children:Z==="morning"?"Morning":"Afternoon"}),m.jsxs("div",{className:"time-slot-row",children:[m.jsxs("button",{className:`time-slot ${fe?"booked":""} ${Re?"blocked":""} ${Me?"available":""} ${!fe&&!Re&&!Me&&w?"unavailable":""}`,onClick:()=>!Re&&ue(n[L],Y),disabled:Re,children:[m.jsx("span",{className:"slot-time",children:C0(Y)}),fe?m.jsxs("span",{className:"slot-client",children:[fe.clientName," (",fe.duration,"m)"]}):Re?m.jsx("span",{className:"slot-blocked",children:"Blocked"}):Me?m.jsx("span",{className:"slot-available",children:"Available"}):w?m.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):m.jsx("span",{className:"slot-empty",children:"Select client to book"})]}),m.jsx("button",{className:`block-toggle-btn ${Re?"is-blocked":""}`,onClick:()=>I(n[L],Y),disabled:!!fe,title:Re?"Unblock this time":"Block this time",children:Re?"":""})]})]},Y)})})]}),z&&m.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:m.jsxs("div",{className:"modal-content",onClick:Y=>Y.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Select Client"}),m.jsx("button",{className:"close-btn",onClick:()=>ee(!1),children:""})]}),m.jsx("div",{className:"client-list-picker",children:o.length===0?m.jsx("p",{className:"no-items",children:"No active clients"}):o.map(Y=>{const Z=Y.startDate?.toDate?Y.startDate.toDate():new Date(Y.startDate),ce=Y.endDate?.toDate?Y.endDate.toDate():new Date(Y.endDate),de=te(Y),fe=N(Y.id);return m.jsxs("button",{className:"client-option",onClick:()=>ge(Y),children:[m.jsx("strong",{children:Y.name}),m.jsxs("span",{children:[Y.sessionDuration||45,"min  ",de,"/",Y.totalSessions," remaining  ",fe," booked"]}),m.jsxs("span",{className:"client-dates",children:[Z.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",ce.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},Y.id)})})]})})]})}const N0=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},wc=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},Rb=s=>s===wc(new Date),NO=s=>{const e=new Date;return e.setDate(e.getDate()+1),s===wc(e)},I0=s=>Rb(s)?"Today":NO(s)?"Tomorrow":new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),x0=s=>{const e=new Date,n=wc(e),r=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(s.date<n)return!0;if(s.date===n){const o=D0(s.time)+(s.duration||45);return D0(r)>=o}return!1},D0=s=>{const[e,n]=s.split(":").map(Number);return e*60+n};function IO(){const[s,e]=M.useState([]),[n,r]=M.useState(!0),[o,c]=M.useState(new Date);M.useEffect(()=>{h();const L=setInterval(()=>{c(new Date)},6e4);return()=>clearInterval(L)},[]);const h=async()=>{try{const j=(await on(bt(ze,"sessions"))).docs.map(G=>({id:G.id,...G.data()})),z=wc(new Date),ee=j.filter(G=>G.date>=z).sort((G,le)=>G.date!==le.date?G.date.localeCompare(le.date):G.time.localeCompare(le.time));e(ee)}catch(L){console.error("Error fetching sessions:",L)}r(!1)},p=async L=>{if(window.confirm(`Cancel ${L.clientName}'s session at ${N0(L.time)} on ${I0(L.date)}?`))try{await Ir(pn(ze,"sessions",L.id)),e(s.filter(j=>j.id!==L.id))}catch(j){console.error("Error cancelling session:",j),alert("Failed to cancel session")}};if(n)return m.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const g=s.reduce((L,j)=>{const z=j.date;return L[z]||(L[z]=[]),L[z].push(j),L},{}),v=Object.keys(g).sort(),T=wc(new Date),S=g[T]||[],w=S.filter(L=>x0(L)).length,P=S.length-w;return m.jsxs("div",{className:"schedule",children:[m.jsxs("div",{className:"today-summary",children:[m.jsx("h3",{children:"Today's Sessions"}),m.jsx("div",{className:"today-count",children:S.length===0?m.jsx("span",{className:"no-sessions",children:"No sessions today"}):m.jsxs("div",{className:"today-stats",children:[m.jsxs("span",{className:"completed-count",children:[w," completed"]}),m.jsxs("span",{className:"remaining-count",children:[P," remaining"]})]})})]}),v.length===0?m.jsx("div",{className:"no-upcoming",children:m.jsx("p",{children:"No upcoming sessions booked"})}):m.jsx("div",{className:"sessions-list",children:v.map(L=>m.jsxs("div",{className:`date-group ${Rb(L)?"today":""}`,children:[m.jsxs("div",{className:"date-header",children:[m.jsx("span",{className:"date-label",children:I0(L)}),m.jsxs("span",{className:"date-count",children:[g[L].length," session",g[L].length!==1?"s":""]})]}),m.jsx("div",{className:"date-sessions",children:g[L].map(j=>{const z=x0(j);return m.jsxs("div",{className:`session-card ${z?"completed":""}`,children:[m.jsx("div",{className:"session-time",children:N0(j.time)}),m.jsxs("div",{className:"session-details",children:[m.jsx("strong",{children:j.clientName}),m.jsxs("span",{children:[j.duration,"min session"]})]}),z?m.jsx("div",{className:"completed-badge",children:""}):m.jsx("button",{className:"cancel-session-btn",onClick:()=>p(j),children:"Cancel"})]},j.id)})})]},L))})]})}const Cb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},up=["monday","tuesday","wednesday","thursday","friday"],xO=["Monday","Tuesday","Wednesday","Thursday","Friday"],DO=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},ec=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},OO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),up.map((o,c)=>{const h=new Date(e);return h.setDate(e.getDate()+c),h})},hp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},dp=(s,e)=>{const n=hp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},MO=s=>{const e=Cb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=dp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=dp(r,15)}return n};function kO(){const[s,e]=M.useState(new Date),[n,r]=M.useState([]),[o,c]=M.useState([]),[h,p]=M.useState([]),[g,v]=M.useState(!0),[T,S]=M.useState(45);M.useEffect(()=>{r(OO(s))},[s]),M.useEffect(()=>{w()},[]);const w=async()=>{try{const te=(await on(bt(ze,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));c(te);const C=(await on(bt(ze,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));p(C)}catch($){console.error("Error fetching data:",$)}v(!1)},P=$=>{const te=new Date(s);te.setDate(te.getDate()+$*7),e(te)},L=()=>{e(new Date)},j=$=>{const te=ec($);return h.some(N=>N.date===te)},z=($,te)=>{const N=up[$.getDay()-1];if(!N||j($))return!1;const C=ec($),R=new Date,x=ec(R);if(C<x)return!1;if(C===x){const ue=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(te<ue)return!1}const D=dp(te,T),k=Cb[N],I=k.morning&&te>=k.morning.start&&te<k.morning.end,we=k.afternoon&&te>=k.afternoon.start&&te<k.afternoon.end,Ve=k.morning&&D<=k.morning.end,J=k.afternoon&&D<=k.afternoon.end;if(I&&!Ve||we&&!J)return!1;for(const ue of o){if(ue.date!==C)continue;const _e=hp(ue.time),Ue=_e+(ue.duration||45),Be=hp(te),V=Be+T;if(Be<Ue&&V>_e)return!1}return!0},ee=($,te)=>{const N=up[te];return MO(N).filter(R=>z($,R.time))};if(g)return m.jsx("div",{className:"availability-loading",children:"Loading availability..."});const G=n[0],le=n[4],ge=G&&le?`${G.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${le.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return m.jsxs("div",{className:"availability",children:[m.jsxs("div",{className:"availability-header",children:[m.jsxs("div",{className:"availability-nav",children:[m.jsx("button",{onClick:()=>P(-1),children:""}),m.jsx("button",{onClick:L,children:"Today"}),m.jsx("button",{onClick:()=>P(1),children:""})]}),m.jsx("h3",{children:ge}),m.jsxs("div",{className:"duration-selector",children:[m.jsx("label",{children:"Session:"}),m.jsxs("select",{value:T,onChange:$=>S(Number($.target.value)),children:[m.jsx("option",{value:30,children:"30 min"}),m.jsx("option",{value:45,children:"45 min"}),m.jsx("option",{value:60,children:"60 min"})]})]})]}),m.jsx("div",{className:"availability-grid",children:n.map(($,te)=>{const N=j($),C=N?[]:ee($,te),R=ec($)===ec(new Date),x=$<new Date&&!R;return m.jsxs("div",{className:`day-column ${R?"today":""} ${x?"past":""}`,children:[m.jsxs("div",{className:"day-header",children:[m.jsx("span",{className:"day-name",children:xO[te]}),m.jsxs("span",{className:"day-date",children:[$.getDate(),"/",$.getMonth()+1]}),N&&m.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),m.jsx("div",{className:"slots-container",children:N?m.jsx("div",{className:"no-slots",children:"Unavailable"}):C.length===0?m.jsx("div",{className:"no-slots",children:"Fully booked"}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"slots-count",children:[C.length," slots"]}),m.jsx("div",{className:"slots-list",children:C.map(D=>m.jsx("div",{className:`slot ${D.period}`,children:DO(D.time)},D.time))})]})})]},te)})})]})}function jO(){const[s,e]=M.useState("schedule"),[n,r]=M.useState(0),[o,c]=M.useState(!1),[h,p]=M.useState([]),[g,v]=M.useState(null),{currentUser:T,logout:S,isAdmin:w,loading:P}=Wo(),L=ks(),j=M.useRef(0),z=M.useRef(!1);M.useRef(null),M.useEffect(()=>{!P&&(!T||!w)&&L("/")},[T,w,P,L]),M.useEffect(()=>{T&&w&&ee()},[T,w]);const ee=async()=>{try{const x=bc(bt(ze,"rescheduleRequests"),Kh("status","==","pending")),k=(await on(x)).docs.map(I=>({id:I.id,...I.data()}));k.sort((I,we)=>{const Ve=I.createdAt?.toDate?I.createdAt.toDate():new Date(0);return(we.createdAt?.toDate?we.createdAt.toDate():new Date(0))-Ve}),p(k)}catch(x){console.error("Error fetching reschedule requests:",x)}};M.useEffect(()=>{(async()=>{if(!(!T||!w))try{const[D,k]=await Promise.all([on(bt(ze,"clients")),on(bt(ze,"sessions"))]),I=new Set(D.docs.map(Ve=>Ve.id)),we=k.docs.filter(Ve=>!I.has(Ve.data().clientId));if(we.length>0){console.log(`Cleaning up ${we.length} orphaned sessions...`);const Ve=we.map(J=>Ir(pn(ze,"sessions",J.id)));await Promise.all(Ve),console.log("Orphaned sessions cleaned up successfully")}}catch(D){console.error("Error cleaning up orphaned sessions:",D)}})()},[T,w]),M.useEffect(()=>{const x=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,D=we=>{x()<=0&&(j.current=we.touches[0].clientY,z.current=!0)},k=we=>{if(!z.current)return;const J=we.touches[0].clientY-j.current;J>0&&x()<=0&&r(Math.min(J*.5,80))},I=()=>{n>60?(c(!0),setTimeout(()=>{window.location.reload()},300)):r(0),z.current=!1};return document.addEventListener("touchstart",D,{passive:!0}),document.addEventListener("touchmove",k,{passive:!0}),document.addEventListener("touchend",I),()=>{document.removeEventListener("touchstart",D),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",I)}},[n]);const G=()=>{c(!0),setTimeout(()=>{window.location.reload()},300)},le=async()=>{try{await S(),L("/")}catch(x){console.error("Failed to log out:",x)}},ge=()=>{L("/add-client")},$=x=>new Date(x).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),te=x=>{const[D,k]=x.split(":"),I=parseInt(D),we=I>=12?"pm":"am";return`${I>12?I-12:I===0?12:I}:${k}${we}`},N=async x=>{if(window.confirm(`Approve reschedule for ${x.clientName}?

From: ${$(x.originalDate)} at ${te(x.originalTime)}
To: ${$(x.requestedDate)} at ${te(x.requestedTime)}`)){v(x.id);try{await Nr(pn(ze,"sessions",x.sessionId),{date:x.requestedDate,time:x.requestedTime}),await Nr(pn(ze,"rescheduleRequests",x.id),{status:"approved",respondedAt:Pe.now()}),p(h.filter(D=>D.id!==x.id))}catch(D){console.error("Error approving request:",D),alert("Failed to approve request. Please try again.")}v(null)}},C=async x=>{if(window.confirm(`Reject reschedule request from ${x.clientName}?`)){v(x.id);try{await Nr(pn(ze,"rescheduleRequests",x.id),{status:"rejected",respondedAt:Pe.now()}),p(h.filter(D=>D.id!==x.id))}catch(D){console.error("Error rejecting request:",D),alert("Failed to reject request. Please try again.")}v(null)}};if(P)return m.jsx("div",{className:"loading",children:"Loading..."});if(!T||!w)return null;const R=h.length;return m.jsxs("div",{className:"dashboard",children:[n>0&&m.jsxs("div",{className:"pull-indicator",style:{height:n},children:[m.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),m.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),m.jsxs("header",{className:"dashboard-header",children:[m.jsxs("div",{className:"header-left",children:[m.jsx("h1",{children:"Mind Core Fitness"}),m.jsx("span",{className:"admin-badge",children:"Admin"})]}),m.jsxs("nav",{className:"header-nav",children:[m.jsx("button",{className:`nav-btn ${s==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),m.jsx("button",{className:`nav-btn ${s==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),m.jsx("button",{className:`nav-btn ${s==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),m.jsxs("button",{className:`nav-btn ${s==="requests"?"active":""} ${R>0?"has-badge":""}`,onClick:()=>e("requests"),children:["Requests",R>0&&m.jsx("span",{className:"nav-badge",children:R})]}),m.jsx("button",{className:`nav-btn ${s==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),m.jsxs("div",{className:"header-actions",children:[m.jsx("button",{className:"refresh-btn",onClick:G,disabled:o,children:o?"":""}),m.jsx("button",{className:"logout-btn",onClick:le,children:"Log Out"})]})]}),m.jsxs("main",{className:"dashboard-main",children:[s==="schedule"&&m.jsxs("div",{className:"schedule-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Schedule"})}),m.jsx(IO,{})]}),s==="clients"&&m.jsxs("div",{className:"clients-view",children:[m.jsxs("div",{className:"view-header",children:[m.jsx("h2",{children:"Clients"}),m.jsx("button",{className:"add-btn",onClick:ge,children:"+ Add Client"})]}),m.jsx(SO,{})]}),s==="calendar"&&m.jsxs("div",{className:"calendar-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Calendar"})}),m.jsx(CO,{})]}),s==="requests"&&m.jsxs("div",{className:"requests-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Reschedule Requests"})}),h.length===0?m.jsxs("div",{className:"no-requests",children:[m.jsx("p",{children:"No pending requests"}),m.jsx("span",{children:"When clients request to reschedule, they will appear here"})]}):m.jsx("div",{className:"requests-list",children:h.map(x=>m.jsxs("div",{className:"request-card",children:[m.jsxs("div",{className:"request-header",children:[m.jsx("span",{className:"client-name",children:x.clientName}),m.jsx("span",{className:"request-time",children:x.createdAt?.toDate?x.createdAt.toDate().toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""})]}),m.jsx("div",{className:"request-details",children:m.jsxs("div",{className:"request-change",children:[m.jsxs("div",{className:"from-session",children:[m.jsx("span",{className:"label",children:"From:"}),m.jsxs("span",{className:"value",children:[$(x.originalDate)," at ",te(x.originalTime)]})]}),m.jsx("div",{className:"arrow",children:""}),m.jsxs("div",{className:"to-session",children:[m.jsx("span",{className:"label",children:"To:"}),m.jsxs("span",{className:"value",children:[$(x.requestedDate)," at ",te(x.requestedTime)]})]})]})}),m.jsxs("div",{className:"request-actions",children:[m.jsx("button",{className:"approve-btn",onClick:()=>N(x),disabled:g===x.id,children:g===x.id?"Processing...":"Approve"}),m.jsx("button",{className:"reject-btn",onClick:()=>C(x),disabled:g===x.id,children:"Reject"})]})]},x.id))})]}),s==="availability"&&m.jsxs("div",{className:"availability-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Available Slots"})}),m.jsx(kO,{})]})]})]})}function VO(){const[s,e]=M.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,r]=M.useState(!1),[o,c]=M.useState(""),{currentUser:h,isAdmin:p,loading:g}=Wo(),v=ks();M.useEffect(()=>{!g&&(!h||!p)&&v("/")},[h,p,g,v]),M.useEffect(()=>{if(s.startDate&&s.weeksInBlock){const P=new Date(s.startDate),L=parseInt(s.weeksInBlock);if(!isNaN(L)&&L>0){const j=new Date(P);j.setDate(j.getDate()+L*7),e(z=>({...z,endDate:j.toISOString().split("T")[0]}))}}},[s.startDate,s.weeksInBlock]);const T=P=>{const{name:L,value:j}=P.target;e(z=>({...z,[L]:j}))},S=async P=>{P.preventDefault(),c(""),r(!0);try{const L={name:s.name.trim(),email:s.email.trim().toLowerCase(),weeksInBlock:parseInt(s.weeksInBlock),totalSessions:parseInt(s.numberOfSessions),sessionsRemaining:parseInt(s.numberOfSessions),sessionDuration:parseInt(s.sessionDuration),startDate:Pe.fromDate(new Date(s.startDate)),endDate:Pe.fromDate(new Date(s.endDate)),status:"active",createdAt:Pe.now()};await Ao(bt(ze,"clients"),L),v("/dashboard")}catch(L){console.error("Error adding client:",L),c("Failed to add client. Please try again."),r(!1)}},w=()=>{v("/dashboard")};return g?m.jsx("div",{className:"loading",children:"Loading..."}):!h||!p?null:m.jsxs("div",{className:"add-client-page",children:[m.jsxs("header",{className:"page-header",children:[m.jsx("button",{className:"back-btn",onClick:w,children:" Back"}),m.jsx("h1",{children:"Add New Client"})]}),m.jsxs("main",{className:"page-content",children:[o&&m.jsx("div",{className:"form-error",children:o}),m.jsxs("form",{onSubmit:S,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"name",children:"Client Name"}),m.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:T,placeholder:"John Smith",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Client Email"}),m.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:T,placeholder:"john@example.com",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),m.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:s.weeksInBlock,onChange:T,placeholder:"8",min:"1",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),m.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:s.numberOfSessions,onChange:T,placeholder:"16",min:"1",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),m.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:s.sessionDuration,onChange:T,required:!0,children:[m.jsx("option",{value:"30",children:"30 minutes"}),m.jsx("option",{value:"45",children:"45 minutes"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"startDate",children:"Start Date"}),m.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:T,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),m.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:T,required:!0}),m.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",className:"cancel-btn",onClick:w,children:"Cancel"}),m.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}const Nb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},LO=["monday","tuesday","wednesday","thursday","friday"],bs=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},fp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},Xh=(s,e)=>{const n=fp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},PO=s=>{const e=Nb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=Xh(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=Xh(r,15)}return n},UO=s=>{const e=s.getDay();return e>=1&&e<=5},Ib=s=>{const e=s.getDay();return e===0||e===6?null:LO[e-1]},zO=(s,e,n,r,o,c=null,h=[])=>{const p=Ib(s);if(!p)return!1;const g=bs(s);if(o.some(G=>G.date===g))return!1;const v=Math.ceil(n/15);for(let G=0;G<v;G++){const le=Xh(e,G*15);if(h.some(ge=>ge.date===g&&ge.time===le))return!1}const T=new Date,S=bs(T);if(g<S)return!1;if(g===S){const G=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`;if(e<G)return!1}const w=Xh(e,n),P=Nb[p],L=P.morning&&e>=P.morning.start&&e<P.morning.end,j=P.afternoon&&e>=P.afternoon.start&&e<P.afternoon.end,z=P.morning&&w<=P.morning.end,ee=P.afternoon&&w<=P.afternoon.end;if(L&&!z||j&&!ee||!L&&!j)return!1;for(const G of r){if(c&&G.id===c||G.date!==g)continue;const le=fp(G.time),ge=le+(G.duration||45),$=fp(e),te=$+n;if($<ge&&te>le)return!1}return!0},BO=(s,e,n,r,o=null,c=[])=>{const h=Ib(s);return h?PO(h).filter(g=>zO(s,g.time,e,n,r,o,c)):[]};function qO(){const[s,e]=M.useState([]),[n,r]=M.useState([]),[o,c]=M.useState([]),[h,p]=M.useState([]),[g,v]=M.useState([]),[T,S]=M.useState(!0),[w,P]=M.useState(null),[L,j]=M.useState(!1),[z,ee]=M.useState(null),[G,le]=M.useState(null),[ge,$]=M.useState(null),[te,N]=M.useState([]),[C,R]=M.useState(!1),[x,D]=M.useState([]),[k,I]=M.useState(null),[we,Ve]=M.useState(!1),[J,ue]=M.useState(0),_e=M.useRef(null),Ue=M.useRef(0),Be=M.useRef(!1),[V,ie]=M.useState(null),[Y,Z]=M.useState(null),[ce,de]=M.useState(!1),[fe,Re]=M.useState(!1),{currentUser:Me,isClient:mt,clientData:me,logout:Ut,loading:Rt}=Wo(),{isDark:zt,toggleTheme:vi}=_O(),tt=ks(),Ct=M.useCallback((Q,Ee="info")=>{I({message:Q,type:Ee}),setTimeout(()=>I(null),4e3)},[]),Dt=Q=>{const Ee=Q.currentTarget,qe=Ee.querySelector(".ripple");qe&&qe.remove();const He=document.createElement("span"),Mt=Math.max(Ee.clientWidth,Ee.clientHeight),kt=Mt/2,Bt=Ee.getBoundingClientRect();He.style.width=He.style.height=`${Mt}px`,He.style.left=`${Q.clientX-Bt.left-kt}px`,He.style.top=`${Q.clientY-Bt.top-kt}px`,He.classList.add("ripple"),Ee.appendChild(He),setTimeout(()=>He.remove(),600)},rt=Q=>{_e.current&&_e.current.scrollTop===0&&(Ue.current=Q.touches[0].clientY,Be.current=!0)},at=Q=>{if(!Be.current||!_e.current)return;const qe=Q.touches[0].clientY-Ue.current;qe>20&&_e.current.scrollTop===0&&(Q.preventDefault(),ue(Math.min((qe-20)*.35,80)))},Mi=async()=>{J>55&&!we&&(Ve(!0),await Wt(),Ct("Refreshed!","success"),Ve(!1)),ue(0),Be.current=!1},Jo=(Q,Ee)=>{const qe=Q.touches[0];Q.currentTarget.dataset.startX=qe.clientX,Q.currentTarget.dataset.startY=qe.clientY},Ca=(Q,Ee)=>{const qe=Q.touches[0],He=parseFloat(Q.currentTarget.dataset.startX),Mt=parseFloat(Q.currentTarget.dataset.startY),kt=qe.clientX-He,Bt=qe.clientY-Mt;Math.abs(kt)>Math.abs(Bt)&&Math.abs(kt)>10&&(Q.preventDefault(),kt<-50?ie(Ee):kt>50&&ie(null))};M.useEffect(()=>{!Rt&&(!Me||!mt)&&tt("/")},[Me,mt,Rt,tt]),M.useEffect(()=>{me&&Wt()},[me]),M.useEffect(()=>{if(!T&&me){const Q=setTimeout(()=>Re(!0),300);return()=>clearTimeout(Q)}},[T,me]);const Wt=async()=>{try{const Q=bc(bt(ze,"sessions"),Kh("clientId","==",me.id)),qe=(await on(Q)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));qe.sort((Ie,Et)=>Ie.date!==Et.date?Ie.date.localeCompare(Et.date):Ie.time.localeCompare(Et.time)),e(qe);const He=await on(bt(ze,"sessions"));r(He.docs.map(Ie=>({id:Ie.id,...Ie.data()})));const Mt=await on(bt(ze,"holidays"));c(Mt.docs.map(Ie=>({id:Ie.id,...Ie.data()})));const kt=await on(bt(ze,"blockedTimes"));p(kt.docs.map(Ie=>({id:Ie.id,...Ie.data()})));const Bt=bc(bt(ze,"rescheduleRequests"),Kh("clientId","==",me.id)),Cn=(await on(Bt)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));D(Cn.filter(Ie=>Ie.status==="pending"));const qn=Cn.filter(Ie=>{if(Ie.status==="pending"||!Ie.respondedAt)return!1;const Et=Ie.respondedAt.toDate?Ie.respondedAt.toDate():new Date(Ie.respondedAt),Nn=new Date;return Nn.setDate(Nn.getDate()-7),Et>Nn&&!Ie.dismissed});v(qn)}catch(Q){console.error("Error fetching data:",Q)}S(!1)},Sn=Q=>new Date(Q).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),Pn=Q=>{const[Ee,qe]=Q.split(":"),He=parseInt(Ee),Mt=He>=12?"pm":"am";return`${He>12?He-12:He===0?12:He}:${qe}${Mt}`},Vs=Q=>Q?(Q.toDate?Q.toDate():new Date(Q)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",Un=Q=>{const Ee=new Date,qe=bs(Ee),He=`${Ee.getHours().toString().padStart(2,"0")}:${Ee.getMinutes().toString().padStart(2,"0")}`;return Q.date<qe||Q.date===qe&&Q.time<He},Na=Q=>{const qe=bs(new Date);return Q.date===qe&&!Un(Q)},Ia=()=>s.filter(Q=>Un(Q)).length,zr=()=>s.filter(Q=>!Un(Q)),Br=Q=>{Z({title:"Cancel Session?",message:`Cancel your session on ${Sn(Q.date)} at ${Pn(Q.time)}? This cannot be undone.`,onConfirm:async()=>{Z(null),P(Q.id),ie(null);try{await Ir(pn(ze,"sessions",Q.id)),e(s.filter(Ee=>Ee.id!==Q.id)),Ct("Session cancelled","success")}catch(Ee){console.error("Error cancelling session:",Ee),Ct("Failed to cancel session. Please try again.","error")}P(null)},onCancel:()=>Z(null)})},zn=async()=>{try{await Ut(),tt("/")}catch(Q){console.error("Failed to log out:",Q)}},Ot=Q=>x.some(Ee=>Ee.sessionId===Q),bn=Q=>{ee(Q),le(null),$(null),N([]),j(!0)},gt=()=>{j(!1),ee(null),le(null),$(null),N([])},xa=()=>me.endDate?me.endDate.toDate?me.endDate.toDate():new Date(me.endDate):new Date,Ls=()=>{const Q=[],Ee=new Date,qe=xa(),He=new Date(Ee);for(He.setDate(He.getDate()+1);He<=qe;){if(UO(He)){const Mt=bs(He);o.some(Bt=>Bt.date===Mt)||Q.push(new Date(He))}He.setDate(He.getDate()+1)}return Q},Da=Q=>{le(Q),$(null);const Ee=z?.duration||me.sessionDuration||45;let qe=BO(Q,Ee,n,o,z?.id,h);z&&bs(Q)===z.date&&(qe=qe.filter(He=>He.time!==z.time)),N(qe)},ti=async()=>{if(!(!G||!ge||!z)){R(!0);try{await Ao(bt(ze,"rescheduleRequests"),{sessionId:z.id,clientId:me.id,clientName:me.name,originalDate:z.date,originalTime:z.time,requestedDate:bs(G),requestedTime:ge,duration:z.duration,status:"pending",createdAt:Pe.now(),respondedAt:null,dismissed:!1}),gt(),Ct("Reschedule request submitted! You'll be notified when your trainer responds.","success"),Wt()}catch(Q){console.error("Error submitting reschedule request:",Q),Ct("Failed to submit request. Please try again.","error")}R(!1)}},ss=async Q=>{try{await Nr(pn(ze,"rescheduleRequests",Q),{dismissed:!0}),v(g.filter(Ee=>Ee.id!==Q))}catch(Ee){console.error("Error dismissing notification:",Ee)}},Nt=()=>{const Q=zr();if(Q.length===0)return null;const Ee=Q[0],qe=new Date,Mt=new Date(Ee.date+"T"+Ee.time)-qe;if(Mt<=0)return null;const kt=Math.floor(Mt/(1e3*60*60*24)),Bt=Math.floor(Mt%(1e3*60*60*24)/(1e3*60*60)),qr=Math.floor(Mt%(1e3*60*60)/(1e3*60));return{days:kt,hours:Bt,minutes:qr,session:Ee}};if(Rt||T)return m.jsxs("div",{className:"client-dashboard",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("div",{className:"skeleton skeleton-logo"})})}),m.jsxs("main",{className:"client-main",children:[m.jsxs("div",{className:"skeleton-welcome",children:[m.jsx("div",{className:"skeleton skeleton-title"}),m.jsx("div",{className:"skeleton skeleton-btn-small"})]}),m.jsxs("div",{className:"skeleton-actions",children:[m.jsx("div",{className:"skeleton skeleton-btn"}),m.jsx("div",{className:"skeleton skeleton-btn"})]}),m.jsx("div",{className:"skeleton skeleton-card-large"}),m.jsx("div",{className:"skeleton skeleton-card-medium"}),m.jsx("div",{className:"skeleton skeleton-card-medium"})]})]});if(!Me||!mt||!me)return null;const nn=Ia(),ni=me.totalSessions-nn,wn=zr(),Oa=L?Ls():[],ii=Nt(),Bn=me.totalSessions>0?nn/me.totalSessions*100:0;return m.jsxs("div",{className:"client-dashboard",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),m.jsxs("div",{className:`pull-refresh-indicator ${J>0?"visible":""} ${we?"refreshing":""}`,style:{height:J},children:[m.jsx("div",{className:`refresh-spinner ${we?"spinning":""}`,children:m.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:m.jsx("path",{fill:"currentColor",d:"M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})}),m.jsx("span",{className:"refresh-text",children:we?"Refreshing...":"Pull to refresh"})]}),m.jsxs("main",{className:"client-main page-transition-enter",ref:_e,onTouchStart:rt,onTouchMove:at,onTouchEnd:Mi,children:[m.jsxs("div",{className:"welcome-section",children:[m.jsxs("h2",{children:["Welcome, ",me.name.split(" ")[0]]}),m.jsxs("div",{className:"welcome-actions",children:[m.jsx("button",{className:"theme-toggle",onClick:vi,"aria-label":zt?"Switch to light mode":"Switch to dark mode",children:zt?m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"})}):m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"})})}),m.jsx("button",{className:"logout-btn",onClick:zn,children:"Log Out"})]})]}),g.length>0&&m.jsx("div",{className:"notifications-section",children:g.map(Q=>m.jsxs("div",{className:`notification ${Q.status}`,children:[m.jsxs("div",{className:"notification-content",children:[m.jsx("span",{className:"notification-icon",children:Q.status==="approved"?"":""}),m.jsxs("div",{className:"notification-text",children:[m.jsx("strong",{children:Q.status==="approved"?"Reschedule Approved!":"Reschedule Declined"}),m.jsx("p",{children:Q.status==="approved"?`Your session has been moved to ${Sn(Q.requestedDate)} at ${Pn(Q.requestedTime)}`:`Your request to reschedule from ${Sn(Q.originalDate)} was declined. Please contact your trainer.`})]})]}),m.jsx("button",{className:"dismiss-btn",onClick:()=>ss(Q.id),children:""})]},Q.id))}),ii&&m.jsxs("div",{className:"countdown-card",children:[m.jsxs("div",{className:"countdown-header",children:[m.jsx("span",{className:"countdown-label",children:"Next Session"}),m.jsx("span",{className:"countdown-date",children:Sn(ii.session.date)})]}),m.jsxs("div",{className:"countdown-timer",children:[ii.days>0&&m.jsxs("div",{className:"countdown-unit",children:[m.jsx("span",{className:"countdown-value",children:ii.days}),m.jsx("span",{className:"countdown-text",children:"days"})]}),m.jsxs("div",{className:"countdown-unit",children:[m.jsx("span",{className:"countdown-value",children:ii.hours}),m.jsx("span",{className:"countdown-text",children:"hrs"})]}),m.jsxs("div",{className:"countdown-unit",children:[m.jsx("span",{className:"countdown-value",children:ii.minutes}),m.jsx("span",{className:"countdown-text",children:"min"})]})]}),m.jsxs("div",{className:"countdown-time",children:["at ",Pn(ii.session.time)]})]}),m.jsxs("div",{className:"block-info-card",children:[m.jsx("div",{className:"block-header-row",children:m.jsx("h3",{children:"Your Training Block"})}),m.jsxs("div",{className:"progress-section",children:[m.jsxs("div",{className:"progress-ring-container",children:[m.jsxs("svg",{className:"progress-ring",viewBox:"0 0 100 100",children:[m.jsx("circle",{className:"progress-ring-bg",cx:"50",cy:"50",r:"42",fill:"none",strokeWidth:"8"}),m.jsx("circle",{className:`progress-ring-fill ${fe?"animate":""}`,cx:"50",cy:"50",r:"42",fill:"none",strokeWidth:"8",strokeDasharray:`${2*Math.PI*42}`,strokeDashoffset:fe?`${2*Math.PI*42*(1-Bn/100)}`:`${2*Math.PI*42}`,strokeLinecap:"round"})]}),m.jsxs("div",{className:"progress-ring-text",children:[m.jsxs("span",{className:"progress-percent",children:[Math.round(Bn),"%"]}),m.jsx("span",{className:"progress-label",children:"complete"})]})]}),m.jsxs("div",{className:"progress-stats",children:[m.jsxs("div",{className:"progress-stat",children:[m.jsx("span",{className:"progress-stat-value",children:nn}),m.jsx("span",{className:"progress-stat-label",children:"Completed"})]}),m.jsxs("div",{className:"progress-stat",children:[m.jsx("span",{className:"progress-stat-value",children:ni}),m.jsx("span",{className:"progress-stat-label",children:"Remaining"})]}),m.jsxs("div",{className:"progress-stat",children:[m.jsx("span",{className:"progress-stat-value",children:me.totalSessions}),m.jsx("span",{className:"progress-stat-label",children:"Total"})]})]})]}),m.jsxs("div",{className:"block-dates",children:[m.jsxs("div",{className:"date-item",children:[m.jsx("span",{className:"date-label",children:"Start Date"}),m.jsx("span",{className:"date-value",children:Vs(me.startDate)})]}),m.jsxs("div",{className:"date-item",children:[m.jsx("span",{className:"date-label",children:"End Date"}),m.jsx("span",{className:"date-value",children:Vs(me.endDate)})]}),m.jsxs("div",{className:"date-item",children:[m.jsx("span",{className:"date-label",children:"Session Duration"}),m.jsxs("span",{className:"date-value",children:[me.sessionDuration," minutes"]})]})]})]}),m.jsxs("div",{className:"quick-actions",children:[m.jsx("button",{className:"forms-btn ripple-btn",onClick:Q=>{Dt(Q),tt("/client/forms")},children:"Forms & Questionnaires"}),m.jsx("button",{className:"tools-btn ripple-btn",onClick:Q=>{Dt(Q),tt("/client/tools")},children:"Tools & Calculators"})]}),m.jsxs("div",{className:"sessions-section",children:[m.jsxs("h3",{children:["Upcoming Sessions (",wn.length,")"]}),wn.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx("div",{className:"empty-state-icon",children:m.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"20",y:"15",width:"60",height:"70",rx:"4"}),m.jsx("line",{x1:"20",y1:"35",x2:"80",y2:"35"}),m.jsx("line",{x1:"35",y1:"15",x2:"35",y2:"35"}),m.jsx("line",{x1:"65",y1:"15",x2:"65",y2:"35"}),m.jsx("circle",{cx:"40",cy:"55",r:"4",fill:"currentColor",opacity:"0.3"}),m.jsx("circle",{cx:"60",cy:"55",r:"4",fill:"currentColor",opacity:"0.3"}),m.jsx("circle",{cx:"40",cy:"70",r:"4",fill:"currentColor",opacity:"0.3"}),m.jsx("circle",{cx:"60",cy:"70",r:"4",fill:"currentColor",opacity:"0.3"})]})}),m.jsx("h4",{children:"No upcoming sessions"}),m.jsx("p",{children:"Contact your trainer to book sessions"})]}):m.jsx("div",{className:"sessions-list",children:wn.map(Q=>m.jsxs("div",{className:`session-card-wrapper ${V===Q.id?"swiped":""}`,onTouchStart:Ee=>Jo(Ee,Q.id),onTouchMove:Ee=>Ca(Ee,Q.id),children:[m.jsxs("div",{className:"session-card-swipe-actions",children:[m.jsx("button",{className:"swipe-action-btn reschedule ripple-btn",onClick:Ee=>{Dt(Ee),ie(null),bn(Q)},disabled:Ot(Q.id),children:"Reschedule"}),m.jsx("button",{className:"swipe-action-btn cancel ripple-btn",onClick:Ee=>{Dt(Ee),Br(Q)},disabled:w===Q.id,children:"Cancel"})]}),m.jsxs("div",{className:`session-card ${Na(Q)?"today-session":""}`,onClick:()=>V===Q.id&&ie(null),children:[m.jsxs("div",{className:"session-info",children:[m.jsxs("div",{className:"session-date",children:[Na(Q)&&m.jsx("span",{className:"today-label",children:"Today - "}),Sn(Q.date)]}),m.jsxs("div",{className:"session-time",children:[Pn(Q.time)," (",Q.duration," min)"]}),Ot(Q.id)&&m.jsx("div",{className:"pending-badge",children:"Reschedule pending"})]}),m.jsxs("div",{className:"session-actions",children:[m.jsx("button",{className:"reschedule-btn ripple-btn",onClick:Ee=>{Ee.stopPropagation(),Dt(Ee),bn(Q)},disabled:Ot(Q.id),children:"Reschedule"}),m.jsx("button",{className:"cancel-btn ripple-btn",onClick:Ee=>{Ee.stopPropagation(),Dt(Ee),Br(Q)},disabled:w===Q.id,children:w===Q.id?"Cancelling...":"Cancel"})]})]})]},Q.id))})]}),m.jsxs("div",{className:"completed-section",children:[m.jsxs("h3",{children:["Completed Sessions (",nn,")"]}),nn===0?m.jsxs("div",{className:"empty-state",children:[m.jsx("div",{className:"empty-state-icon",children:m.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"50",cy:"50",r:"35"}),m.jsx("path",{d:"M35 50 L45 60 L65 40",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),m.jsx("path",{d:"M50 25 L50 50 L65 55",strokeLinecap:"round",strokeLinejoin:"round"})]})}),m.jsx("h4",{children:"No completed sessions yet"}),m.jsx("p",{children:"Your completed sessions will appear here"})]}):m.jsxs("div",{className:"sessions-list completed",children:[s.filter(Q=>Un(Q)).slice(-5).reverse().map(Q=>m.jsxs("div",{className:"session-card completed",children:[m.jsxs("div",{className:"session-info",children:[m.jsx("div",{className:"session-date",children:Sn(Q.date)}),m.jsx("div",{className:"session-time",children:Pn(Q.time)})]}),m.jsx("span",{className:"completed-badge",children:"Completed"})]},Q.id)),nn>5&&m.jsxs("div",{className:"more-sessions",children:["And ",nn-5," more completed sessions"]})]})]})]}),L&&z&&m.jsx("div",{className:"modal-overlay",onClick:gt,children:m.jsxs("div",{className:"reschedule-modal",onClick:Q=>Q.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Reschedule Session"}),m.jsx("button",{className:"close-modal-btn",onClick:gt,children:""})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("div",{className:"current-session-info",children:m.jsxs("p",{children:["Current: ",m.jsx("strong",{children:Sn(z.date)})," at ",m.jsx("strong",{children:Pn(z.time)})]})}),m.jsxs("div",{className:"date-selection",children:[m.jsx("h4",{children:"Select New Date"}),Oa.length===0?m.jsx("p",{className:"no-dates",children:"No available dates within your training block"}):m.jsx("div",{className:"dates-grid",children:Oa.map((Q,Ee)=>m.jsxs("button",{className:`date-btn ${G&&bs(G)===bs(Q)?"selected":""}`,onClick:()=>Da(Q),children:[m.jsx("span",{className:"date-day",children:Q.toLocaleDateString("en-GB",{weekday:"short"})}),m.jsx("span",{className:"date-num",children:Q.getDate()}),m.jsx("span",{className:"date-month",children:Q.toLocaleDateString("en-GB",{month:"short"})})]},Ee))})]}),G&&m.jsxs("div",{className:"time-selection",children:[m.jsx("h4",{children:"Select Time"}),te.length===0?m.jsx("p",{className:"no-slots",children:"No available slots on this date"}):m.jsx("div",{className:"times-grid",children:te.map((Q,Ee)=>m.jsx("button",{className:`time-btn ${ge===Q.time?"selected":""} ${Q.period}`,onClick:()=>$(Q.time),children:Pn(Q.time)},Ee))})]})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{className:"cancel-modal-btn",onClick:gt,children:"Cancel"}),m.jsx("button",{className:"submit-reschedule-btn",onClick:ti,disabled:!G||!ge||C,children:C?"Submitting...":"Request Reschedule"})]})]})}),k&&m.jsxs("div",{className:`toast-notification ${k.type}`,children:[m.jsx("span",{className:"toast-icon",children:k.type==="success"?m.jsx("svg",{className:"success-check-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{className:"check-path",d:"M5 13 L9 17 L19 7"})}):k.type==="error"?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",children:[m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"}),m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"})]}):m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),m.jsx("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})]})}),m.jsx("span",{className:"toast-message",children:k.message}),m.jsx("button",{className:"toast-close",onClick:()=>I(null),children:""})]}),Y&&m.jsx("div",{className:"confirm-modal-overlay",onClick:Y.onCancel,children:m.jsxs("div",{className:"confirm-modal",onClick:Q=>Q.stopPropagation(),children:[m.jsx("h3",{children:Y.title}),m.jsx("p",{children:Y.message}),m.jsxs("div",{className:"confirm-modal-actions",children:[m.jsx("button",{className:"confirm-cancel-btn ripple-btn",onClick:Q=>{Dt(Q),Y.onCancel()},children:"Keep Session"}),m.jsx("button",{className:"confirm-btn ripple-btn",onClick:Q=>{Dt(Q),Y.onConfirm()},children:"Yes, Cancel"})]})]})}),m.jsxs("div",{className:`fab-container ${ce?"open":""}`,children:[m.jsx("button",{className:`fab-main ripple-btn ${ce?"open":""}`,onClick:Q=>{Dt(Q),de(!ce)},"aria-label":"Quick actions",children:m.jsx("span",{className:"fab-icon",children:"+"})}),m.jsxs("div",{className:"fab-actions",children:[m.jsxs("button",{className:"fab-action ripple-btn",onClick:Q=>{Dt(Q),de(!1),tt("/client/tools")},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),"Tools & Calculators"]}),m.jsxs("button",{className:"fab-action ripple-btn",onClick:Q=>{Dt(Q),de(!1),tt("/client/forms")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Forms & Questionnaires"]})]})]})]})}function HO(){const[s,e]=M.useState(null),[n,r]=M.useState(!1),{currentUser:o,isClient:c,clientData:h,logout:p,loading:g}=Wo(),v=ks(),[T,S]=M.useState({fitnessGoals:"",currentActivityLevel:"",exerciseHistory:"",injuries:"",medicalConditions:"",sleepHours:"",stressLevel:"",dietaryInfo:"",availability:"",additionalInfo:""}),[w,P]=M.useState({q1HeartCondition:!1,q2ChestPain:!1,q3ChestPainLastMonth:!1,q4Balance:!1,q5BoneJoint:!1,q6BloodPressure:!1,q7OtherReason:!1,additionalDetails:"",declaration:!1});M.useEffect(()=>{!g&&(!o||!c)&&v("/")},[o,c,g,v]),M.useEffect(()=>{h?.welcomeForm&&S(h.welcomeForm),h?.parqForm&&P(h.parqForm)},[h]);const L=ge=>{const{name:$,value:te}=ge.target;S(N=>({...N,[$]:te}))},j=ge=>{const{name:$,type:te,checked:N,value:C}=ge.target;P(R=>({...R,[$]:te==="checkbox"?N:C}))},z=async()=>{r(!0);try{await Nr(pn(ze,"clients",h.id),{welcomeForm:{...T,completedAt:Pe.now()}}),alert("Welcome form saved successfully!"),e(null)}catch(ge){console.error("Error saving welcome form:",ge),alert("Failed to save form. Please try again.")}r(!1)},ee=async()=>{if(!w.declaration){alert("Please confirm the declaration to submit the form.");return}r(!0);try{await Nr(pn(ze,"clients",h.id),{parqForm:{...w,completedAt:Pe.now()}}),alert("PAR-Q form saved successfully!"),e(null)}catch(ge){console.error("Error saving PAR-Q form:",ge),alert("Failed to save form. Please try again.")}r(!1)};if(g)return m.jsx("div",{className:"client-loading",children:"Loading..."});if(!o||!c||!h)return null;const G=!!h?.welcomeForm?.completedAt,le=!!h?.parqForm?.completedAt;return m.jsxs("div",{className:"client-forms-page",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),m.jsxs("main",{className:"forms-main page-transition-enter",children:[m.jsx("button",{className:"back-btn",onClick:()=>v("/client"),children:" Back"}),s?s==="welcome"?m.jsxs("div",{className:"form-container",children:[m.jsxs("div",{className:"form-header",children:[m.jsx("h2",{children:"Welcome Questionnaire"}),m.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),m.jsxs("div",{className:"form-body",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"What are your main fitness goals?"}),m.jsx("textarea",{name:"fitnessGoals",value:T.fitnessGoals,onChange:L,placeholder:"e.g., Lose weight, build muscle, improve endurance, increase flexibility...",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"How would you describe your current activity level?"}),m.jsxs("select",{name:"currentActivityLevel",value:T.currentActivityLevel,onChange:L,children:[m.jsx("option",{value:"",children:"Select..."}),m.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),m.jsx("option",{value:"light",children:"Lightly Active (1-2 days/week)"}),m.jsx("option",{value:"moderate",children:"Moderately Active (3-4 days/week)"}),m.jsx("option",{value:"active",children:"Very Active (5+ days/week)"}),m.jsx("option",{value:"athlete",children:"Athlete/Highly Active"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"What is your exercise history?"}),m.jsx("textarea",{name:"exerciseHistory",value:T.exerciseHistory,onChange:L,placeholder:"Describe your previous experience with exercise, sports, or training...",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Do you have any current or past injuries?"}),m.jsx("textarea",{name:"injuries",value:T.injuries,onChange:L,placeholder:"List any injuries that may affect your training...",rows:"2"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Do you have any medical conditions we should know about?"}),m.jsx("textarea",{name:"medicalConditions",value:T.medicalConditions,onChange:L,placeholder:"e.g., Diabetes, asthma, heart conditions...",rows:"2"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"How many hours of sleep do you typically get?"}),m.jsxs("select",{name:"sleepHours",value:T.sleepHours,onChange:L,children:[m.jsx("option",{value:"",children:"Select..."}),m.jsx("option",{value:"less-5",children:"Less than 5 hours"}),m.jsx("option",{value:"5-6",children:"5-6 hours"}),m.jsx("option",{value:"7-8",children:"7-8 hours"}),m.jsx("option",{value:"more-8",children:"More than 8 hours"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"How would you rate your current stress level?"}),m.jsxs("select",{name:"stressLevel",value:T.stressLevel,onChange:L,children:[m.jsx("option",{value:"",children:"Select..."}),m.jsx("option",{value:"low",children:"Low"}),m.jsx("option",{value:"moderate",children:"Moderate"}),m.jsx("option",{value:"high",children:"High"}),m.jsx("option",{value:"very-high",children:"Very High"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tell us about your diet/nutrition"}),m.jsx("textarea",{name:"dietaryInfo",value:T.dietaryInfo,onChange:L,placeholder:"Any dietary restrictions, typical eating habits, nutrition goals...",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"What is your preferred training schedule/availability?"}),m.jsx("textarea",{name:"availability",value:T.availability,onChange:L,placeholder:"Days and times that work best for you...",rows:"2"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Anything else you'd like us to know?"}),m.jsx("textarea",{name:"additionalInfo",value:T.additionalInfo,onChange:L,placeholder:"Any other information that might be helpful...",rows:"3"})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),m.jsx("button",{className:"save-btn",onClick:z,disabled:n,children:n?"Saving...":"Save"})]})]})]}):m.jsxs("div",{className:"form-container",children:[m.jsxs("div",{className:"form-header",children:[m.jsx("h2",{children:"PAR-Q Health Screening"}),m.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),m.jsxs("div",{className:"form-body",children:[m.jsx("div",{className:"parq-intro",children:m.jsx("p",{children:"The Physical Activity Readiness Questionnaire (PAR-Q) is designed to identify those who should check with a doctor before starting an exercise program."})}),m.jsxs("div",{className:"parq-questions",children:[m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q1HeartCondition",checked:w.q1HeartCondition,onChange:j}),m.jsx("span",{children:"Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q2ChestPain",checked:w.q2ChestPain,onChange:j}),m.jsx("span",{children:"Do you feel pain in your chest when you do physical activity?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q3ChestPainLastMonth",checked:w.q3ChestPainLastMonth,onChange:j}),m.jsx("span",{children:"In the past month, have you had chest pain when you were not doing physical activity?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q4Balance",checked:w.q4Balance,onChange:j}),m.jsx("span",{children:"Do you lose your balance because of dizziness or do you ever lose consciousness?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q5BoneJoint",checked:w.q5BoneJoint,onChange:j}),m.jsx("span",{children:"Do you have a bone or joint problem that could be made worse by a change in your physical activity?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q6BloodPressure",checked:w.q6BloodPressure,onChange:j}),m.jsx("span",{children:"Is your doctor currently prescribing drugs for your blood pressure or heart condition?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q7OtherReason",checked:w.q7OtherReason,onChange:j}),m.jsx("span",{children:"Do you know of any other reason why you should not do physical activity?"})]})})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"If you answered YES to any questions, please provide details:"}),m.jsx("textarea",{name:"additionalDetails",value:w.additionalDetails,onChange:j,placeholder:"Please explain any conditions or concerns...",rows:"4"})]}),m.jsx("div",{className:"parq-declaration",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"declaration",checked:w.declaration,onChange:j}),m.jsx("span",{children:"I have read, understood and completed this questionnaire. Any questions I had were answered to my full satisfaction. I confirm that the information provided is accurate to the best of my knowledge."})]})}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),m.jsx("button",{className:"save-btn",onClick:ee,disabled:n,children:n?"Saving...":"Submit"})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"forms-intro",children:[m.jsx("h2",{children:"Forms"}),m.jsx("p",{children:"Please complete these forms to help us better understand your fitness journey and ensure your safety."})]}),m.jsxs("div",{className:"forms-list",children:[m.jsxs("div",{className:`form-card ${G?"completed":""}`,children:[m.jsxs("div",{className:"form-card-info",children:[m.jsx("h3",{children:"Welcome Questionnaire"}),m.jsx("p",{children:"Tell us about your fitness goals, experience, and lifestyle."}),G&&m.jsx("span",{className:"completed-badge",children:"Completed"})]}),m.jsx("button",{onClick:()=>e("welcome"),children:G?"View / Edit":"Start"})]}),m.jsxs("div",{className:`form-card ${le?"completed":""}`,children:[m.jsxs("div",{className:"form-card-info",children:[m.jsx("h3",{children:"PAR-Q Health Screening"}),m.jsx("p",{children:"Physical Activity Readiness Questionnaire for your safety."}),le&&m.jsx("span",{className:"completed-badge",children:"Completed"})]}),m.jsx("button",{onClick:()=>e("parq"),children:le?"View / Edit":"Start"})]})]})]})]})]})}function FO(){const{currentUser:s,isClient:e,clientData:n,loading:r}=Wo(),o=ks(),[c,h]=M.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",activityLevel:"moderate",goal:"maintain",deficitLevel:"moderate"}),[p,g]=M.useState(null),[v,T]=M.useState(!1);M.useEffect(()=>{!r&&(!s||!e)&&o("/")},[s,e,r,o]);const S=j=>{const{name:z,value:ee}=j.target;h(G=>({...G,[z]:ee})),T(!1)},w=()=>{let j=parseFloat(c.weight);c.weightUnit==="lbs"&&(j=j*.453592);let z;if(c.heightUnit==="cm")z=parseFloat(c.height);else{const we=parseFloat(c.heightFeet)||0,Ve=parseFloat(c.heightInches)||0;z=we*30.48+Ve*2.54}const ee=parseInt(c.age);let G;c.gender==="male"?G=10*j+6.25*z-5*ee+5:G=10*j+6.25*z-5*ee-161;const ge=G*{sedentary:1.2,light:1.375,moderate:1.55,active:1.725,veryActive:1.9}[c.activityLevel];let $=ge,te;switch(c.goal){case"lose":$=ge-{light:250,moderate:500,harsh:750}[c.deficitLevel],te=2;break;case"build":$=ge+300,te=2;break;default:te=1.8;break}const N=c.gender==="male"?1500:1200;$=Math.max($,N);const C=Math.round(j*te),R=C*4,x=$*.25,D=Math.round(x/9),k=$-R-x,I=Math.round(k/4);g({bmr:Math.round(G),tdee:Math.round(ge),targetCalories:Math.round($),protein:C,carbs:I,fats:D,proteinCalories:Math.round(R),carbCalories:Math.round(k),fatCalories:Math.round(x)}),T(!0)},P=()=>{const j=c.weight&&parseFloat(c.weight)>0,z=c.age&&parseInt(c.age)>0;let ee;return c.heightUnit==="cm"?ee=c.height&&parseFloat(c.height)>0:ee=c.heightFeet&&parseFloat(c.heightFeet)>0||c.heightInches&&parseFloat(c.heightInches)>0,j&&z&&ee},L=()=>{switch(c.goal){case"lose":return"Weight Loss";case"build":return"Muscle Building";default:return"Maintenance"}};return r?m.jsx("div",{className:"client-loading",children:"Loading..."}):!s||!e||!n?null:m.jsxs("div",{className:"client-tools-page",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),m.jsxs("main",{className:"tools-main page-transition-enter",children:[m.jsx("button",{className:"back-btn",onClick:()=>o("/client"),children:" Back"}),m.jsxs("div",{className:"tools-intro",children:[m.jsx("h2",{children:"Tools"}),m.jsx("p",{children:"Use these tools to help plan your nutrition and track your progress."})]}),m.jsxs("div",{className:"tool-card",children:[m.jsxs("div",{className:"tool-header",children:[m.jsx("h3",{children:"Macro Calculator"}),m.jsx("p",{children:"Calculate your daily calorie and macro targets based on your goals."})]}),m.jsxs("div",{className:"calculator-form",children:[m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gender"}),m.jsxs("div",{className:"toggle-group",children:[m.jsx("button",{type:"button",className:c.gender==="male"?"active":"",onClick:()=>{h(j=>({...j,gender:"male"})),T(!1)},children:"Male"}),m.jsx("button",{type:"button",className:c.gender==="female"?"active":"",onClick:()=>{h(j=>({...j,gender:"female"})),T(!1)},children:"Female"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Age"}),m.jsx("input",{type:"number",name:"age",value:c.age,onChange:S,placeholder:"Years",min:"15",max:"100"})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Weight"}),m.jsxs("div",{className:"input-with-unit",children:[m.jsx("input",{type:"number",name:"weight",value:c.weight,onChange:S,placeholder:c.weightUnit==="kg"?"kg":"lbs",min:"30",max:"300"}),m.jsxs("div",{className:"unit-toggle",children:[m.jsx("button",{type:"button",className:c.weightUnit==="kg"?"active":"",onClick:()=>{h(j=>({...j,weightUnit:"kg"})),T(!1)},children:"kg"}),m.jsx("button",{type:"button",className:c.weightUnit==="lbs"?"active":"",onClick:()=>{h(j=>({...j,weightUnit:"lbs"})),T(!1)},children:"lbs"})]})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Height"}),m.jsxs("div",{className:"input-with-unit",children:[c.heightUnit==="cm"?m.jsx("input",{type:"number",name:"height",value:c.height,onChange:S,placeholder:"cm",min:"100",max:"250"}):m.jsxs("div",{className:"height-imperial",children:[m.jsx("input",{type:"number",name:"heightFeet",value:c.heightFeet,onChange:S,placeholder:"ft",min:"4",max:"7"}),m.jsx("input",{type:"number",name:"heightInches",value:c.heightInches,onChange:S,placeholder:"in",min:"0",max:"11"})]}),m.jsxs("div",{className:"unit-toggle",children:[m.jsx("button",{type:"button",className:c.heightUnit==="cm"?"active":"",onClick:()=>{h(j=>({...j,heightUnit:"cm"})),T(!1)},children:"cm"}),m.jsx("button",{type:"button",className:c.heightUnit==="ft"?"active":"",onClick:()=>{h(j=>({...j,heightUnit:"ft"})),T(!1)},children:"ft/in"})]})]})]})]}),m.jsxs("div",{className:"form-group full-width",children:[m.jsx("label",{children:"Activity Level"}),m.jsxs("select",{name:"activityLevel",value:c.activityLevel,onChange:S,children:[m.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),m.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),m.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),m.jsx("option",{value:"active",children:"Very Active (6-7 days/week)"}),m.jsx("option",{value:"veryActive",children:"Extra Active (athlete/physical job)"})]})]}),m.jsxs("div",{className:"form-group full-width",children:[m.jsx("label",{children:"Fitness Goal"}),m.jsxs("div",{className:"goal-options",children:[m.jsxs("button",{type:"button",className:`goal-btn ${c.goal==="lose"?"active":""}`,onClick:()=>{h(j=>({...j,goal:"lose"})),T(!1)},children:[m.jsx("span",{className:"goal-icon",children:"-"}),m.jsx("span",{children:"Lose Weight"})]}),m.jsxs("button",{type:"button",className:`goal-btn ${c.goal==="maintain"?"active":""}`,onClick:()=>{h(j=>({...j,goal:"maintain"})),T(!1)},children:[m.jsx("span",{className:"goal-icon",children:"="}),m.jsx("span",{children:"Maintain"})]}),m.jsxs("button",{type:"button",className:`goal-btn ${c.goal==="build"?"active":""}`,onClick:()=>{h(j=>({...j,goal:"build"})),T(!1)},children:[m.jsx("span",{className:"goal-icon",children:"+"}),m.jsx("span",{children:"Build Muscle"})]})]})]}),c.goal==="lose"&&m.jsxs("div",{className:"form-group full-width deficit-section",children:[m.jsx("label",{children:"Calorie Deficit Level"}),m.jsxs("div",{className:"deficit-options",children:[m.jsxs("button",{type:"button",className:`deficit-btn ${c.deficitLevel==="light"?"active":""}`,onClick:()=>{h(j=>({...j,deficitLevel:"light"})),T(!1)},children:[m.jsx("span",{className:"deficit-name",children:"Light"}),m.jsx("span",{className:"deficit-desc",children:"-250 cal/day"}),m.jsx("span",{className:"deficit-rate",children:"~0.5 lb/week"})]}),m.jsxs("button",{type:"button",className:`deficit-btn ${c.deficitLevel==="moderate"?"active":""}`,onClick:()=>{h(j=>({...j,deficitLevel:"moderate"})),T(!1)},children:[m.jsx("span",{className:"deficit-name",children:"Moderate"}),m.jsx("span",{className:"deficit-desc",children:"-500 cal/day"}),m.jsx("span",{className:"deficit-rate",children:"~1 lb/week"})]}),m.jsxs("button",{type:"button",className:`deficit-btn ${c.deficitLevel==="harsh"?"active":""}`,onClick:()=>{h(j=>({...j,deficitLevel:"harsh"})),T(!1)},children:[m.jsx("span",{className:"deficit-name",children:"Aggressive"}),m.jsx("span",{className:"deficit-desc",children:"-750 cal/day"}),m.jsx("span",{className:"deficit-rate",children:"~1.5 lb/week"})]})]})]}),m.jsx("button",{className:"calculate-btn",onClick:w,disabled:!P(),children:"Calculate Macros"})]}),v&&p&&m.jsxs("div",{className:"results-section",children:[m.jsxs("div",{className:"results-header",children:[m.jsx("h4",{children:"Your Daily Targets"}),m.jsx("span",{className:"goal-badge",children:L()})]}),m.jsxs("div",{className:"calories-display",children:[m.jsx("span",{className:"calories-value",children:p.targetCalories}),m.jsx("span",{className:"calories-label",children:"calories/day"})]}),m.jsxs("div",{className:"macros-grid",children:[m.jsxs("div",{className:"macro-card protein",children:[m.jsxs("div",{className:"macro-value",children:[p.protein,"g"]}),m.jsx("div",{className:"macro-label",children:"Protein"}),m.jsxs("div",{className:"macro-calories",children:[p.proteinCalories," cal"]})]}),m.jsxs("div",{className:"macro-card carbs",children:[m.jsxs("div",{className:"macro-value",children:[p.carbs,"g"]}),m.jsx("div",{className:"macro-label",children:"Carbs"}),m.jsxs("div",{className:"macro-calories",children:[p.carbCalories," cal"]})]}),m.jsxs("div",{className:"macro-card fats",children:[m.jsxs("div",{className:"macro-value",children:[p.fats,"g"]}),m.jsx("div",{className:"macro-label",children:"Fats"}),m.jsxs("div",{className:"macro-calories",children:[p.fatCalories," cal"]})]})]}),m.jsxs("div",{className:"results-info",children:[m.jsxs("div",{className:"info-row",children:[m.jsx("span",{children:"Basal Metabolic Rate (BMR)"}),m.jsxs("span",{children:[p.bmr," cal"]})]}),m.jsxs("div",{className:"info-row",children:[m.jsx("span",{children:"Total Daily Energy Expenditure (TDEE)"}),m.jsxs("span",{children:[p.tdee," cal"]})]})]}),m.jsx("div",{className:"results-note",children:m.jsx("p",{children:"These are estimated values. Individual results may vary based on metabolism, body composition, and other factors. Consult with your trainer for personalized guidance."})})]})]})]})]})}function GO(){const{pathname:s}=Ms();return M.useEffect(()=>{window.scrollTo(0,0)},[s]),null}function $O(){const s=ks();return M.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";s(n,{replace:!0})}},[s]),null}function YO(){return m.jsx(EO,{children:m.jsx(vO,{children:m.jsxs(L1,{basename:"/login",children:[m.jsx(GO,{}),m.jsx($O,{}),m.jsxs(f1,{children:[m.jsx(gr,{path:"/",element:m.jsx(TO,{})}),m.jsx(gr,{path:"/dashboard",element:m.jsx(jO,{})}),m.jsx(gr,{path:"/add-client",element:m.jsx(VO,{})}),m.jsx(gr,{path:"/client",element:m.jsx(qO,{})}),m.jsx(gr,{path:"/client/forms",element:m.jsx(HO,{})}),m.jsx(gr,{path:"/client/tools",element:m.jsx(FO,{})}),m.jsx(gr,{path:"*",element:m.jsx(h1,{to:"/",replace:!0})})]})]})})})}pA.createRoot(document.getElementById("root")).render(m.jsx(M.StrictMode,{children:m.jsx(YO,{})}));
