const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BXFcTLeO.js","assets/Dashboard-BI21Q1GR.css","assets/AddClient-CvkGL74w.js","assets/AddClient-DH1OFzHo.css","assets/ClientDashboard-BzjKgzrf.js","assets/ClientDashboard-DWAc5Nzm.css","assets/ClientForms-CsVyEO-9.js","assets/ClientForms-GDNtnrAx.css","assets/ClientTools-DdgWmC2d.js","assets/ClientTools-DQRPoST3.css","assets/MacroCalculator-BvkTgAKQ.js","assets/ProteinSnacks-C0z0HzyI.js","assets/DailyMotivation-D3G6LdsV.js","assets/PersonalBests-DABJ239L.js","assets/PersonalBests-CLy1OZpT.css","assets/CircuitDashboard-CDOfoLyT.js","assets/CircuitDashboard-MPNVarsJ.css","assets/CircuitBooking-ClSQHuIO.js","assets/CircuitBooking-ruk9Q4Wj.css","assets/Leaderboard-DYGl9koe.js","assets/Leaderboard-DUGNGeOY.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var jm={exports:{}},mc={};var fb;function tT(){if(fb)return mc;fb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:u}}return mc.Fragment=e,mc.jsx=n,mc.jsxs=n,mc}var mb;function nT(){return mb||(mb=1,jm.exports=tT()),jm.exports}var c=nT(),Dm={exports:{}},rt={};var pb;function sT(){if(pb)return rt;pb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,z={};function ie(P,G,he){this.props=P,this.context=G,this.refs=z,this.updater=he||H}ie.prototype.isReactComponent={},ie.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},ie.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Z(){}Z.prototype=ie.prototype;function de(P,G,he){this.props=P,this.context=G,this.refs=z,this.updater=he||H}var xe=de.prototype=new Z;xe.constructor=de,W(xe,ie.prototype),xe.isPureReactComponent=!0;var Ie=Array.isArray;function Ae(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(P,G,he){var ye=he.ref;return{$$typeof:r,type:P,key:G,ref:ye!==void 0?ye:null,props:he}}function I(P,G){return A(P.type,G,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function B(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return G[he]})}var j=/\/+/g;function be(P,G){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):G.toString(36)}function Be(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Ae,Ae):(P.status="pending",P.then(function(G){P.status==="pending"&&(P.status="fulfilled",P.value=G)},function(G){P.status==="pending"&&(P.status="rejected",P.reason=G)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function F(P,G,he,ye,Te){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var Fe=!1;if(P===null)Fe=!0;else switch(Se){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(P.$$typeof){case r:case e:Fe=!0;break;case w:return Fe=P._init,F(Fe(P._payload),G,he,ye,Te)}}if(Fe)return Te=Te(P),Fe=ye===""?"."+be(P,0):ye,Ie(Te)?(he="",Fe!=null&&(he=Fe.replace(j,"$&/")+"/"),F(Te,G,he,"",function(Ht){return Ht})):Te!=null&&(D(Te)&&(Te=I(Te,he+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+Fe)),G.push(Te)),1;Fe=0;var et=ye===""?".":ye+":";if(Ie(P))for(var tt=0;tt<P.length;tt++)ye=P[tt],Se=et+be(ye,tt),Fe+=F(ye,G,he,Se,Te);else if(tt=O(P),typeof tt=="function")for(P=tt.call(P),tt=0;!(ye=P.next()).done;)ye=ye.value,Se=et+be(ye,tt++),Fe+=F(ye,G,he,Se,Te);else if(Se==="object"){if(typeof P.then=="function")return F(Be(P),G,he,ye,Te);throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function fe(P,G,he){if(P==null)return P;var ye=[],Te=0;return F(P,ye,"","",function(Se){return G.call(he,Se,Te++)}),ye}function we(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var $e=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:fe,forEach:function(P,G,he){fe(P,function(){G.apply(this,arguments)},he)},count:function(P){var G=0;return fe(P,function(){G++}),G},toArray:function(P){return fe(P,function(G){return G})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return rt.Activity=x,rt.Children=Ke,rt.Component=ie,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=de,rt.StrictMode=i,rt.Suspense=g,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,rt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},rt.cache=function(P){return function(){return P.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(P,G,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ye=W({},P.props),Te=P.key;if(G!=null)for(Se in G.key!==void 0&&(Te=""+G.key),G)!S.call(G,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&G.ref===void 0||(ye[Se]=G[Se]);var Se=arguments.length-2;if(Se===1)ye.children=he;else if(1<Se){for(var Fe=Array(Se),et=0;et<Se;et++)Fe[et]=arguments[et+2];ye.children=Fe}return A(P.type,Te,ye)},rt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},rt.createElement=function(P,G,he){var ye,Te={},Se=null;if(G!=null)for(ye in G.key!==void 0&&(Se=""+G.key),G)S.call(G,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Te[ye]=G[ye]);var Fe=arguments.length-2;if(Fe===1)Te.children=he;else if(1<Fe){for(var et=Array(Fe),tt=0;tt<Fe;tt++)et[tt]=arguments[tt+2];Te.children=et}if(P&&P.defaultProps)for(ye in Fe=P.defaultProps,Fe)Te[ye]===void 0&&(Te[ye]=Fe[ye]);return A(P,Se,Te)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(P){return{$$typeof:p,render:P}},rt.isValidElement=D,rt.lazy=function(P){return{$$typeof:w,_payload:{_status:-1,_result:P},_init:we}},rt.memo=function(P,G){return{$$typeof:y,type:P,compare:G===void 0?null:G}},rt.startTransition=function(P){var G=N.T,he={};N.T=he;try{var ye=P(),Te=N.S;Te!==null&&Te(he,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Ae,$e)}catch(Se){$e(Se)}finally{G!==null&&he.types!==null&&(G.types=he.types),N.T=G}},rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},rt.use=function(P){return N.H.use(P)},rt.useActionState=function(P,G,he){return N.H.useActionState(P,G,he)},rt.useCallback=function(P,G){return N.H.useCallback(P,G)},rt.useContext=function(P){return N.H.useContext(P)},rt.useDebugValue=function(){},rt.useDeferredValue=function(P,G){return N.H.useDeferredValue(P,G)},rt.useEffect=function(P,G){return N.H.useEffect(P,G)},rt.useEffectEvent=function(P){return N.H.useEffectEvent(P)},rt.useId=function(){return N.H.useId()},rt.useImperativeHandle=function(P,G,he){return N.H.useImperativeHandle(P,G,he)},rt.useInsertionEffect=function(P,G){return N.H.useInsertionEffect(P,G)},rt.useLayoutEffect=function(P,G){return N.H.useLayoutEffect(P,G)},rt.useMemo=function(P,G){return N.H.useMemo(P,G)},rt.useOptimistic=function(P,G){return N.H.useOptimistic(P,G)},rt.useReducer=function(P,G,he){return N.H.useReducer(P,G,he)},rt.useRef=function(P){return N.H.useRef(P)},rt.useState=function(P){return N.H.useState(P)},rt.useSyncExternalStore=function(P,G,he){return N.H.useSyncExternalStore(P,G,he)},rt.useTransition=function(){return N.H.useTransition()},rt.version="19.2.4",rt}var gb;function Bp(){return gb||(gb=1,Dm.exports=sT()),Dm.exports}var k=Bp(),Mm={exports:{}},pc={},Pm={exports:{}},Om={};var yb;function rT(){return yb||(yb=1,(function(r){function e(F,fe){var we=F.length;F.push(fe);e:for(;0<we;){var $e=we-1>>>1,Ke=F[$e];if(0<o(Ke,fe))F[$e]=fe,F[we]=Ke,we=$e;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var fe=F[0],we=F.pop();if(we!==fe){F[0]=we;e:for(var $e=0,Ke=F.length,P=Ke>>>1;$e<P;){var G=2*($e+1)-1,he=F[G],ye=G+1,Te=F[ye];if(0>o(he,we))ye<Ke&&0>o(Te,he)?(F[$e]=Te,F[ye]=we,$e=ye):(F[$e]=he,F[G]=we,$e=G);else if(ye<Ke&&0>o(Te,we))F[$e]=Te,F[ye]=we,$e=ye;else break e}}return fe}function o(F,fe){var we=F.sortIndex-fe.sortIndex;return we!==0?we:F.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],w=1,x=null,T=3,O=!1,H=!1,W=!1,z=!1,ie=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function xe(F){for(var fe=n(y);fe!==null;){if(fe.callback===null)i(y);else if(fe.startTime<=F)i(y),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=n(y)}}function Ie(F){if(W=!1,xe(F),!H)if(n(g)!==null)H=!0,Ae||(Ae=!0,B());else{var fe=n(y);fe!==null&&Be(Ie,fe.startTime-F)}}var Ae=!1,N=-1,S=5,A=-1;function I(){return z?!0:!(r.unstable_now()-A<S)}function D(){if(z=!1,Ae){var F=r.unstable_now();A=F;var fe=!0;try{e:{H=!1,W&&(W=!1,Z(N),N=-1),O=!0;var we=T;try{t:{for(xe(F),x=n(g);x!==null&&!(x.expirationTime>F&&I());){var $e=x.callback;if(typeof $e=="function"){x.callback=null,T=x.priorityLevel;var Ke=$e(x.expirationTime<=F);if(F=r.unstable_now(),typeof Ke=="function"){x.callback=Ke,xe(F),fe=!0;break t}x===n(g)&&i(g),xe(F)}else i(g);x=n(g)}if(x!==null)fe=!0;else{var P=n(y);P!==null&&Be(Ie,P.startTime-F),fe=!1}}break e}finally{x=null,T=we,O=!1}fe=void 0}}finally{fe?B():Ae=!1}}}var B;if(typeof de=="function")B=function(){de(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,be=j.port2;j.port1.onmessage=D,B=function(){be.postMessage(null)}}else B=function(){ie(D,0)};function Be(F,fe){N=ie(function(){F(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(F){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var we=T;T=fe;try{return F()}finally{T=we}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(F,fe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var we=T;T=F;try{return fe()}finally{T=we}},r.unstable_scheduleCallback=function(F,fe,we){var $e=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?$e+we:$e):we=$e,F){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=we+Ke,F={id:w++,callback:fe,priorityLevel:F,startTime:we,expirationTime:Ke,sortIndex:-1},we>$e?(F.sortIndex=we,e(y,F),n(g)===null&&F===n(y)&&(W?(Z(N),N=-1):W=!0,Be(Ie,we-$e))):(F.sortIndex=Ke,e(g,F),H||O||(H=!0,Ae||(Ae=!0,B()))),F},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(F){var fe=T;return function(){var we=T;T=fe;try{return F.apply(this,arguments)}finally{T=we}}}})(Om)),Om}var vb;function iT(){return vb||(vb=1,Pm.exports=rT()),Pm.exports}var Lm={exports:{}},ns={};var bb;function aT(){if(bb)return ns;bb=1;var r=Bp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ns.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,w)},ns.flushSync=function(g){var y=d.T,w=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=w,i.d.f()}},ns.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},ns.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ns.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:O}):w==="script"&&i.d.X(g,{crossOrigin:x,integrity:T,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ns.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},ns.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin);i.d.L(g,w,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ns.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},ns.requestFormReset=function(g){i.d.r(g)},ns.unstable_batchedUpdates=function(g,y){return g(y)},ns.useFormState=function(g,y,w){return d.H.useFormState(g,y,w)},ns.useFormStatus=function(){return d.H.useHostTransitionStatus()},ns.version="19.2.4",ns}var _b;function oT(){if(_b)return Lm.exports;_b=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lm.exports=aT(),Lm.exports}var wb;function lT(){if(wb)return pc;wb=1;var r=iT(),e=Bp(),n=oT();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,E=f.child;E;){if(E===a){b=!0,a=f,l=m;break}if(E===l){b=!0,l=f,a=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===a){b=!0,a=m,l=f;break}if(E===l){b=!0,l=m,a=f;break}E=E.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),de=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ie:return"Profiler";case z:return"StrictMode";case Ie:return"Suspense";case Ae:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case de:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case xe:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return s=t.displayName||null,s!==null?s:be(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return be(t(s))}catch{}}return null}var Be=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},$e=[],Ke=-1;function P(t){return{current:t}}function G(t){0>Ke||(t.current=$e[Ke],$e[Ke]=null,Ke--)}function he(t,s){Ke++,$e[Ke]=t.current,t.current=s}var ye=P(null),Te=P(null),Se=P(null),Fe=P(null);function et(t,s){switch(he(Se,s),he(Te,t),he(ye,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?O0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=O0(s),t=L0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ye),he(ye,t)}function tt(){G(ye),G(Te),G(Se)}function Ht(t){t.memoizedState!==null&&he(Fe,t);var s=ye.current,a=L0(s,t.type);s!==a&&(he(Te,t),he(ye,a))}function xn(t){Te.current===t&&(G(ye),G(Te)),Fe.current===t&&(G(Fe),uc._currentValue=we)}var It,un;function ne(t){if(It===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);It=s&&s[1]||"",un=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+t+un}var rn=!1;function Pt(t,s){if(!t||rn)return"";rn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var Q=te}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(te){Q=te}t.call(ue.prototype)}}else{try{throw Error()}catch(te){Q=te}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var M=b.split(`
`),Y=E.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===Y.length)for(l=M.length-1,f=Y.length-1;1<=l&&0<=f&&M[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==Y[f]){var se=`
`+M[l].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=l&&0<=f);break}}}finally{rn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ne(a):""}function wt(t,s){switch(t.tag){case 26:case 27:case 5:return ne(t.type);case 16:return ne("Lazy");case 13:return t.child!==s&&s!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return Pt(t.type,!1);case 11:return Pt(t.type.render,!1);case 1:return Pt(t.type,!0);case 31:return ne("Activity");default:return""}}function xt(t){try{var s="",a=null;do s+=wt(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var nt=Object.prototype.hasOwnProperty,Ze=r.unstable_scheduleCallback,Gt=r.unstable_cancelCallback,Wr=r.unstable_shouldYield,Us=r.unstable_requestPaint,Ot=r.unstable_now,Pn=r.unstable_getCurrentPriorityLevel,hn=r.unstable_ImmediatePriority,Nn=r.unstable_UserBlockingPriority,le=r.unstable_NormalPriority,ge=r.unstable_LowPriority,_e=r.unstable_IdlePriority,Ue=r.log,Ce=r.unstable_setDisableYieldValue,ke=null,Pe=null;function Oe(t){if(typeof Ue=="function"&&Ce(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(ke,t)}catch{}}var He=Math.clz32?Math.clz32:jt,ft=Math.log,Wt=Math.LN2;function jt(t){return t>>>=0,t===0?32:31-(ft(t)/Wt|0)|0}var dn=256,gs=262144,Ut=4194304;function Bn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=Bn(l):(b&=E,b!==0?f=Bn(b):a||(a=E&~t,a!==0&&(f=Bn(a))))):(E=l&~m,E!==0?f=Bn(E):b!==0?f=Bn(b):a||(a=l&~t,a!==0&&(f=Bn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Zn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function sr(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function es(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Bs(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kr(t,s,a,l,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,M=t.expirationTimes,Y=t.hiddenUpdates;for(a=b&~a;0<a;){var se=31-He(a),ue=1<<se;E[se]=0,M[se]=-1;var Q=Y[se];if(Q!==null)for(Y[se]=null,se=0;se<Q.length;se++){var te=Q[se];te!==null&&(te.lane&=-536870913)}a&=~ue}l!==0&&zs(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function zs(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-He(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ki(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-He(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function xr(t,s){var a=s&-s;return a=(a&42)!==0?1:rr(a),(a&(t.suspendedLanes|s))!==0?0:a}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Er(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:ab(t.type))}function zn(t,s){var a=fe.p;try{return fe.p=t,s()}finally{fe.p=a}}var Fn=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Fn,fn="__reactProps$"+Fn,ys="__reactContainer$"+Fn,ks="__reactEvents$"+Fn,Yr="__reactListeners$"+Fn,ls="__reactHandles$"+Fn,Ri="__reactResources$"+Fn,vs="__reactMarker$"+Fn;function Rs(t){delete t[Zt],delete t[fn],delete t[ks],delete t[Yr],delete t[ls]}function cs(t){var s=t[Zt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ys]||a[Zt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=H0(t);t!==null;){if(a=t[Zt])return a;t=H0(t)}return s}t=a,a=t.parentNode}return null}function jn(t){if(t=t[Zt]||t[ys]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function qn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function C(t){var s=t[Ri];return s||(s=t[Ri]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function U(t){t[vs]=!0}var re=new Set,ae={};function ze(t,s){Le(t,s),Le(t+"Capture",s)}function Le(t,s){for(ae[t]=s,t=0;t<s.length;t++)re.add(s[t])}var qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dt={},at={};function V(t){return nt.call(at,t)?!0:nt.call(Dt,t)?!1:qe.test(t)?at[t]=!0:(Dt[t]=!0,!1)}function ee(t,s,a){if(V(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function X(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function pe(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function ve(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Je(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function De(t){if(!t._valueTracker){var s=je(t)?"checked":"value";t._valueTracker=Je(t,s,""+t[s])}}function mt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=je(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function en(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kt=/[\n"\\]/g;function Qt(t){return t.replace(kt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ai(t,s,a,l,f,m,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ve(s)):t.value!==""+ve(s)&&(t.value=""+ve(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Ci(t,b,ve(s)):a!=null?Ci(t,b,ve(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ve(E):t.removeAttribute("name")}function Ca(t,s,a,l,f,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){De(t);return}a=a!=null?""+ve(a):"",s=s!=null?""+ve(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),De(t)}function Ci(t,s,a){s==="number"&&en(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ir(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ve(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function St(t,s,a){if(s!=null&&(s=""+ve(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+ve(a):""}function an(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Be(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ve(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),De(t)}function on(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var ar=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function or(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||ar.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Hn(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&or(t,f,l)}else for(var m in s)s.hasOwnProperty(m)&&or(t,m,s[m])}function ts(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(t){return lr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function us(){}var kl=null;function Fs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Sr=null;function Na(t){var s=jn(t);if(s&&(t=s.stateNode)){var a=t[fn]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ai(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[fn]||null;if(!f)throw Error(i(90));Ai(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&mt(l)}break e;case"textarea":St(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ir(t,!!a.multiple,s,!1)}}}var go=!1;function ji(t,s,a){if(go)return t(s,a);go=!0;try{var l=t(s);return l}finally{if(go=!1,(Ii!==null||Sr!==null)&&(th(),Ii&&(s=Ii,t=Sr,Sr=Ii=null,Na(s),t)))for(s=0;s<t.length;s++)Na(t[s])}}function cr(t,s){var a=t.stateNode;if(a===null)return null;var l=a[fn]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(qs)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{Ia=!1}var kr=null,Rl=null,ja=null;function Al(){if(ja)return ja;var t,s=Rl,a=s.length,l,f="value"in kr?kr.value:kr.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var b=a-t;for(l=1;l<=b&&s[a-l]===f[m-l];l++);return ja=f.slice(t,1<l?1-l:void 0)}function Da(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Qr(){return!0}function ur(){return!1}function Gn(t){function s(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Qr:ur,this.isPropagationStopped=ur,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),s}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Gn(Xr),Di=x({},Xr,{view:0,detail:0}),Cl=Gn(Di),Mi,yo,Ar,vo=x({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Mi=t.screenX-Ar.screenX,yo=t.screenY-Ar.screenY):yo=Mi=0,Ar=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:yo}}),Nl=Gn(vo),Ma=x({},vo,{dataTransfer:0}),cu=Gn(Ma),uu=x({},Di,{relatedTarget:0}),Pa=Gn(uu),Il=x({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Gn(Il),bo=x({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),du=Gn(bo),fu=x({},Xr,{data:0}),Cr=Gn(fu),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=gu[t])?!!s[t]:!1}function Pi(){return yu}var hs=x({},Di,{key:function(t){if(t.key){var s=mu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(t){return t.type==="keypress"?Da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=Gn(hs),bu=x({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jr=Gn(bu),h=x({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),v=Gn(h),_=x({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Gn(_),$=x({},vo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Gn($),Ee=x({},Xr,{newState:0,oldState:0}),lt=Gn(Ee),gn=[9,13,27,32],Ct=qs&&"CompositionEvent"in window,tn=null;qs&&"documentMode"in document&&(tn=document.documentMode);var Hs=qs&&"TextEvent"in window&&!tn,Nr=qs&&(!Ct||tn&&8<tn&&11>=tn),hr=" ",dr=!1;function Oa(t,s){switch(t){case"keyup":return gn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function Sx(t,s){switch(t){case"compositionend":return _o(s);case"keypress":return s.which!==32?null:(dr=!0,hr);case"textInput":return t=s.data,t===hr&&dr?null:t;default:return null}}function kx(t,s){if(wo)return t==="compositionend"||!Ct&&Oa(t,s)?(t=Al(),ja=Rl=kr=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nr&&s.locale!=="ko"?null:s.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Rx[t.type]:s==="textarea"}function Kg(t,s,a,l){Ii?Sr?Sr.push(l):Sr=[l]:Ii=l,s=lh(s,"onChange"),0<s.length&&(a=new Rr("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var jl=null,Dl=null;function Ax(t){N0(t,0)}function _u(t){var s=qn(t);if(mt(s))return t}function Yg(t,s){if(t==="change")return s}var Qg=!1;if(qs){var Vd;if(qs){var Ud="oninput"in document;if(!Ud){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Ud=typeof Xg.oninput=="function"}Vd=Ud}else Vd=!1;Qg=Vd&&(!document.documentMode||9<document.documentMode)}function Jg(){jl&&(jl.detachEvent("onpropertychange",Zg),Dl=jl=null)}function Zg(t){if(t.propertyName==="value"&&_u(Dl)){var s=[];Kg(s,Dl,t,Fs(t)),ji(Ax,s)}}function Cx(t,s,a){t==="focusin"?(Jg(),jl=s,Dl=a,jl.attachEvent("onpropertychange",Zg)):t==="focusout"&&Jg()}function Nx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(Dl)}function Ix(t,s){if(t==="click")return _u(s)}function jx(t,s){if(t==="input"||t==="change")return _u(s)}function Dx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var As=typeof Object.is=="function"?Object.is:Dx;function Ml(t,s){if(As(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!nt.call(s,f)||!As(t[f],s[f]))return!1}return!0}function ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ty(t,s){var a=ey(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ey(a)}}function ny(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ny(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function sy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=en(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=en(t.document)}return s}function Bd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Mx=qs&&"documentMode"in document&&11>=document.documentMode,xo=null,zd=null,Pl=null,Fd=!1;function ry(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||xo==null||xo!==en(l)||(l=xo,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ml(Pl,l)||(Pl=l,l=lh(zd,"onSelect"),0<l.length&&(s=new Rr("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=xo)))}function La(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Eo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},qd={},iy={};qs&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Va(t){if(qd[t])return qd[t];if(!Eo[t])return t;var s=Eo[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in iy)return qd[t]=s[a];return t}var ay=Va("animationend"),oy=Va("animationiteration"),ly=Va("animationstart"),Px=Va("transitionrun"),Ox=Va("transitionstart"),Lx=Va("transitioncancel"),cy=Va("transitionend"),uy=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function fr(t,s){uy.set(t,s),ze(s,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gs=[],To=0,Gd=0;function xu(){for(var t=To,s=Gd=To=0;s<t;){var a=Gs[s];Gs[s++]=null;var l=Gs[s];Gs[s++]=null;var f=Gs[s];Gs[s++]=null;var m=Gs[s];if(Gs[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&hy(a,f,m)}}function Eu(t,s,a,l){Gs[To++]=t,Gs[To++]=s,Gs[To++]=a,Gs[To++]=l,Gd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wd(t,s,a,l){return Eu(t,s,a,l),Tu(t)}function Ua(t,s){return Eu(t,null,null,s),Tu(t)}function hy(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-He(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Tu(t){if(50<sc)throw sc=0,nm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var So={};function Vx(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(t,s,a,l){return new Vx(t,s,a,l)}function $d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zr(t,s){var a=t.alternate;return a===null?(a=Cs(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Su(t,s,a,l,f,m){var b=0;if(l=t,typeof t=="function")$d(t)&&(b=1);else if(typeof t=="string")b=qE(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=Cs(31,a,s,f),t.elementType=A,t.lanes=m,t;case W:return Ba(a.children,f,m,s);case z:b=8,f|=24;break;case ie:return t=Cs(12,a,s,f|2),t.elementType=ie,t.lanes=m,t;case Ie:return t=Cs(13,a,s,f),t.elementType=Ie,t.lanes=m,t;case Ae:return t=Cs(19,a,s,f),t.elementType=Ae,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:b=10;break e;case Z:b=9;break e;case xe:b=11;break e;case N:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Cs(b,a,s,f),s.elementType=t,s.type=l,s.lanes=m,s}function Ba(t,s,a,l){return t=Cs(7,t,l,s),t.lanes=a,t}function Kd(t,s,a){return t=Cs(6,t,null,s),t.lanes=a,t}function fy(t){var s=Cs(18,null,null,0);return s.stateNode=t,s}function Yd(t,s,a){return s=Cs(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var my=new WeakMap;function Ws(t,s){if(typeof t=="object"&&t!==null){var a=my.get(t);return a!==void 0?a:(s={value:t,source:s,stack:xt(s)},my.set(t,s),s)}return{value:t,source:s,stack:xt(s)}}var ko=[],Ro=0,ku=null,Ol=0,$s=[],Ks=0,Oi=null,Ir=1,jr="";function ei(t,s){ko[Ro++]=Ol,ko[Ro++]=ku,ku=t,Ol=s}function py(t,s,a){$s[Ks++]=Ir,$s[Ks++]=jr,$s[Ks++]=Oi,Oi=t;var l=Ir;t=jr;var f=32-He(l)-1;l&=~(1<<f),a+=1;var m=32-He(s)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Ir=1<<32-He(s)+f|a<<f|l,jr=m+t}else Ir=1<<m|a<<f|l,jr=t}function Qd(t){t.return!==null&&(ei(t,1),py(t,1,0))}function Xd(t){for(;t===ku;)ku=ko[--Ro],ko[Ro]=null,Ol=ko[--Ro],ko[Ro]=null;for(;t===Oi;)Oi=$s[--Ks],$s[Ks]=null,jr=$s[--Ks],$s[Ks]=null,Ir=$s[--Ks],$s[Ks]=null}function gy(t,s){$s[Ks++]=Ir,$s[Ks++]=jr,$s[Ks++]=Oi,Ir=s.id,jr=s.overflow,Oi=t}var Wn=null,Xt=null,_t=!1,Li=null,Ys=!1,Jd=Error(i(519));function Vi(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Ws(s,t)),Jd}function yy(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Zt]=t,s[fn]=l,a){case"dialog":dt("cancel",s),dt("close",s);break;case"iframe":case"object":case"embed":dt("load",s);break;case"video":case"audio":for(a=0;a<ic.length;a++)dt(ic[a],s);break;case"source":dt("error",s);break;case"img":case"image":case"link":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"input":dt("invalid",s),Ca(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":dt("invalid",s);break;case"textarea":dt("invalid",s),an(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||M0(s.textContent,a)?(l.popover!=null&&(dt("beforetoggle",s),dt("toggle",s)),l.onScroll!=null&&dt("scroll",s),l.onScrollEnd!=null&&dt("scrollend",s),l.onClick!=null&&(s.onclick=us),s=!0):s=!1,s||Vi(t,!0)}function vy(t){for(Wn=t.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:Wn=Wn.return}}function Ao(t){if(t!==Wn)return!1;if(!_t)return vy(t),_t=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ym(t.type,t.memoizedProps)),a=!a),a&&Xt&&Vi(t),vy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Xt=q0(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Xt=q0(t)}else s===27?(s=Xt,Ji(t.type)?(t=xm,xm=null,Xt=t):Xt=s):Xt=Wn?Xs(t.stateNode.nextSibling):null;return!0}function za(){Xt=Wn=null,_t=!1}function Zd(){var t=Li;return t!==null&&(xs===null?xs=t:xs.push.apply(xs,t),Li=null),t}function Ll(t){Li===null?Li=[t]:Li.push(t)}var ef=P(null),Fa=null,ti=null;function Ui(t,s,a){he(ef,s._currentValue),s._currentValue=a}function ni(t){t._currentValue=ef.current,G(ef)}function tf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function nf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var M=0;M<s.length;M++)if(E.context===s[M]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),tf(m.return,a,t),l||(b=null);break e}m=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),tf(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Co(t,s,a,l){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=f.type;As(f.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(f===Fe.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(uc):t=[uc])}f=f.return}t!==null&&nf(s,t,a,l),s.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!As(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qa(t){Fa=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $n(t){return by(Fa,t)}function Au(t,s){return Fa===null&&qa(t),by(t,s)}function by(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ti===null){if(t===null)throw Error(i(308));ti=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ti=ti.next=s;return a}var Ux=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Bx=r.unstable_scheduleCallback,zx=r.unstable_NormalPriority,En={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new Ux,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&Bx(zx,function(){t.controller.abort()})}var Ul=null,rf=0,No=0,Io=null;function Fx(t,s){if(Ul===null){var a=Ul=[];rf=0,No=lm(),Io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,s.then(_y,_y),s}function _y(){if(--rf===0&&Ul!==null){Io!==null&&(Io.status="fulfilled");var t=Ul;Ul=null,No=0,Io=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function qx(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var wy=F.S;F.S=function(t,s){r0=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Fx(t,s),wy!==null&&wy(t,s)};var Ha=P(null);function af(){var t=Ha.current;return t!==null?t:$t.pooledCache}function Cu(t,s){s===null?he(Ha,Ha.current):he(Ha,s.pool)}function xy(){var t=af();return t===null?null:{parent:En._currentValue,pool:t}}var jo=Error(i(460)),of=Error(i(474)),Nu=Error(i(542)),Iu={then:function(){}};function Ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ty(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(us,us),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ky(t),t;default:if(typeof s.status=="string")s.then(us,us);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ky(t),t}throw Wa=s,jo}}function Ga(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wa=a,jo):a}}var Wa=null;function Sy(){if(Wa===null)throw Error(i(459));var t=Wa;return Wa=null,t}function ky(t){if(t===jo||t===Nu)throw Error(i(483))}var Do=null,Bl=0;function ju(t){var s=Bl;return Bl+=1,Do===null&&(Do=[]),Ty(Do,t,s)}function zl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Du(t,s){throw s.$$typeof===T?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ry(t){function s(q,L){if(t){var K=q.deletions;K===null?(q.deletions=[L],q.flags|=16):K.push(L)}}function a(q,L){if(!t)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function f(q,L){return q=Zr(q,L),q.index=0,q.sibling=null,q}function m(q,L,K){return q.index=K,t?(K=q.alternate,K!==null?(K=K.index,K<L?(q.flags|=67108866,L):K):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function b(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function E(q,L,K,oe){return L===null||L.tag!==6?(L=Kd(K,q.mode,oe),L.return=q,L):(L=f(L,K),L.return=q,L)}function M(q,L,K,oe){var Ge=K.type;return Ge===W?se(q,L,K.props.children,oe,K.key):L!==null&&(L.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===S&&Ga(Ge)===L.type)?(L=f(L,K.props),zl(L,K),L.return=q,L):(L=Su(K.type,K.key,K.props,null,q.mode,oe),zl(L,K),L.return=q,L)}function Y(q,L,K,oe){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Yd(K,q.mode,oe),L.return=q,L):(L=f(L,K.children||[]),L.return=q,L)}function se(q,L,K,oe,Ge){return L===null||L.tag!==7?(L=Ba(K,q.mode,oe,Ge),L.return=q,L):(L=f(L,K),L.return=q,L)}function ue(q,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Kd(""+L,q.mode,K),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return K=Su(L.type,L.key,L.props,null,q.mode,K),zl(K,L),K.return=q,K;case H:return L=Yd(L,q.mode,K),L.return=q,L;case S:return L=Ga(L),ue(q,L,K)}if(Be(L)||B(L))return L=Ba(L,q.mode,K,null),L.return=q,L;if(typeof L.then=="function")return ue(q,ju(L),K);if(L.$$typeof===de)return ue(q,Au(q,L),K);Du(q,L)}return null}function Q(q,L,K,oe){var Ge=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ge!==null?null:E(q,L,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return K.key===Ge?M(q,L,K,oe):null;case H:return K.key===Ge?Y(q,L,K,oe):null;case S:return K=Ga(K),Q(q,L,K,oe)}if(Be(K)||B(K))return Ge!==null?null:se(q,L,K,oe,null);if(typeof K.then=="function")return Q(q,L,ju(K),oe);if(K.$$typeof===de)return Q(q,L,Au(q,K),oe);Du(q,K)}return null}function te(q,L,K,oe,Ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return q=q.get(K)||null,E(L,q,""+oe,Ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return q=q.get(oe.key===null?K:oe.key)||null,M(L,q,oe,Ge);case H:return q=q.get(oe.key===null?K:oe.key)||null,Y(L,q,oe,Ge);case S:return oe=Ga(oe),te(q,L,K,oe,Ge)}if(Be(oe)||B(oe))return q=q.get(K)||null,se(L,q,oe,Ge,null);if(typeof oe.then=="function")return te(q,L,K,ju(oe),Ge);if(oe.$$typeof===de)return te(q,L,K,Au(L,oe),Ge);Du(L,oe)}return null}function Me(q,L,K,oe){for(var Ge=null,Rt=null,Ve=L,ut=L=0,gt=null;Ve!==null&&ut<K.length;ut++){Ve.index>ut?(gt=Ve,Ve=null):gt=Ve.sibling;var At=Q(q,Ve,K[ut],oe);if(At===null){Ve===null&&(Ve=gt);break}t&&Ve&&At.alternate===null&&s(q,Ve),L=m(At,L,ut),Rt===null?Ge=At:Rt.sibling=At,Rt=At,Ve=gt}if(ut===K.length)return a(q,Ve),_t&&ei(q,ut),Ge;if(Ve===null){for(;ut<K.length;ut++)Ve=ue(q,K[ut],oe),Ve!==null&&(L=m(Ve,L,ut),Rt===null?Ge=Ve:Rt.sibling=Ve,Rt=Ve);return _t&&ei(q,ut),Ge}for(Ve=l(Ve);ut<K.length;ut++)gt=te(Ve,q,ut,K[ut],oe),gt!==null&&(t&&gt.alternate!==null&&Ve.delete(gt.key===null?ut:gt.key),L=m(gt,L,ut),Rt===null?Ge=gt:Rt.sibling=gt,Rt=gt);return t&&Ve.forEach(function(sa){return s(q,sa)}),_t&&ei(q,ut),Ge}function Ye(q,L,K,oe){if(K==null)throw Error(i(151));for(var Ge=null,Rt=null,Ve=L,ut=L=0,gt=null,At=K.next();Ve!==null&&!At.done;ut++,At=K.next()){Ve.index>ut?(gt=Ve,Ve=null):gt=Ve.sibling;var sa=Q(q,Ve,At.value,oe);if(sa===null){Ve===null&&(Ve=gt);break}t&&Ve&&sa.alternate===null&&s(q,Ve),L=m(sa,L,ut),Rt===null?Ge=sa:Rt.sibling=sa,Rt=sa,Ve=gt}if(At.done)return a(q,Ve),_t&&ei(q,ut),Ge;if(Ve===null){for(;!At.done;ut++,At=K.next())At=ue(q,At.value,oe),At!==null&&(L=m(At,L,ut),Rt===null?Ge=At:Rt.sibling=At,Rt=At);return _t&&ei(q,ut),Ge}for(Ve=l(Ve);!At.done;ut++,At=K.next())At=te(Ve,q,ut,At.value,oe),At!==null&&(t&&At.alternate!==null&&Ve.delete(At.key===null?ut:At.key),L=m(At,L,ut),Rt===null?Ge=At:Rt.sibling=At,Rt=At);return t&&Ve.forEach(function(eT){return s(q,eT)}),_t&&ei(q,ut),Ge}function qt(q,L,K,oe){if(typeof K=="object"&&K!==null&&K.type===W&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case O:e:{for(var Ge=K.key;L!==null;){if(L.key===Ge){if(Ge=K.type,Ge===W){if(L.tag===7){a(q,L.sibling),oe=f(L,K.props.children),oe.return=q,q=oe;break e}}else if(L.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===S&&Ga(Ge)===L.type){a(q,L.sibling),oe=f(L,K.props),zl(oe,K),oe.return=q,q=oe;break e}a(q,L);break}else s(q,L);L=L.sibling}K.type===W?(oe=Ba(K.props.children,q.mode,oe,K.key),oe.return=q,q=oe):(oe=Su(K.type,K.key,K.props,null,q.mode,oe),zl(oe,K),oe.return=q,q=oe)}return b(q);case H:e:{for(Ge=K.key;L!==null;){if(L.key===Ge)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){a(q,L.sibling),oe=f(L,K.children||[]),oe.return=q,q=oe;break e}else{a(q,L);break}else s(q,L);L=L.sibling}oe=Yd(K,q.mode,oe),oe.return=q,q=oe}return b(q);case S:return K=Ga(K),qt(q,L,K,oe)}if(Be(K))return Me(q,L,K,oe);if(B(K)){if(Ge=B(K),typeof Ge!="function")throw Error(i(150));return K=Ge.call(K),Ye(q,L,K,oe)}if(typeof K.then=="function")return qt(q,L,ju(K),oe);if(K.$$typeof===de)return qt(q,L,Au(q,K),oe);Du(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(a(q,L.sibling),oe=f(L,K),oe.return=q,q=oe):(a(q,L),oe=Kd(K,q.mode,oe),oe.return=q,q=oe),b(q)):a(q,L)}return function(q,L,K,oe){try{Bl=0;var Ge=qt(q,L,K,oe);return Do=null,Ge}catch(Ve){if(Ve===jo||Ve===Nu)throw Ve;var Rt=Cs(29,Ve,null,q.mode);return Rt.lanes=oe,Rt.return=q,Rt}}}var $a=Ry(!0),Ay=Ry(!1),Bi=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Nt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Tu(t),hy(t,null,a),s}return Eu(t,l,s,a),Tu(t)}function Fl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ki(t,a)}}function uf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var hf=!1;function ql(){if(hf){var t=Io;if(t!==null)throw t}}function Hl(t,s,a,l){hf=!1;var f=t.updateQueue;Bi=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var M=E,Y=M.next;M.next=null,b===null?m=Y:b.next=Y,b=M;var se=t.alternate;se!==null&&(se=se.updateQueue,E=se.lastBaseUpdate,E!==b&&(E===null?se.firstBaseUpdate=Y:E.next=Y,se.lastBaseUpdate=M))}if(m!==null){var ue=f.baseState;b=0,se=Y=M=null,E=m;do{var Q=E.lane&-536870913,te=Q!==E.lane;if(te?(pt&Q)===Q:(l&Q)===Q){Q!==0&&Q===No&&(hf=!0),se!==null&&(se=se.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Me=t,Ye=E;Q=s;var qt=a;switch(Ye.tag){case 1:if(Me=Ye.payload,typeof Me=="function"){ue=Me.call(qt,ue,Q);break e}ue=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ye.payload,Q=typeof Me=="function"?Me.call(qt,ue,Q):Me,Q==null)break e;ue=x({},ue,Q);break e;case 2:Bi=!0}}Q=E.callback,Q!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},se===null?(Y=se=te,M=ue):se=se.next=te,b|=Q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;te=E,E=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);se===null&&(M=ue),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=se,m===null&&(f.shared.lanes=0),$i|=b,t.lanes=b,t.memoizedState=ue}}function Cy(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Ny(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cy(a[t],s)}var Mo=P(null),Mu=P(0);function Iy(t,s){t=hi,he(Mu,t),he(Mo,s),hi=t|s.baseLanes}function df(){he(Mu,hi),he(Mo,Mo.current)}function ff(){hi=Mu.current,G(Mo),G(Mu)}var Ns=P(null),Qs=null;function qi(t){var s=t.alternate;he(yn,yn.current&1),he(Ns,t),Qs===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Qs=t)}function mf(t){he(yn,yn.current),he(Ns,t),Qs===null&&(Qs=t)}function jy(t){t.tag===22?(he(yn,yn.current),he(Ns,t),Qs===null&&(Qs=t)):Hi()}function Hi(){he(yn,yn.current),he(Ns,Ns.current)}function Is(t){G(Ns),Qs===t&&(Qs=null),G(yn)}var yn=P(0);function Pu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var si=0,ct=null,zt=null,Tn=null,Ou=!1,Po=!1,Ka=!1,Lu=0,Gl=0,Oo=null,Hx=0;function mn(){throw Error(i(321))}function pf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!As(t[a],s[a]))return!1;return!0}function gf(t,s,a,l,f,m){return si=m,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?pv:If,Ka=!1,m=a(l,f),Ka=!1,Po&&(m=My(s,a,l,f)),Dy(t),m}function Dy(t){F.H=Kl;var s=zt!==null&&zt.next!==null;if(si=0,Tn=zt=ct=null,Ou=!1,Gl=0,Oo=null,s)throw Error(i(300));t===null||Sn||(t=t.dependencies,t!==null&&Ru(t)&&(Sn=!0))}function My(t,s,a,l){ct=t;var f=0;do{if(Po&&(Oo=null),Gl=0,Po=!1,25<=f)throw Error(i(301));if(f+=1,Tn=zt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=gv,m=s(a,l)}while(Po);return m}function Gx(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?Wl(s):s,t=t.useState()[0],(zt!==null?zt.memoizedState:null)!==t&&(ct.flags|=1024),s}function yf(){var t=Lu!==0;return Lu=0,t}function vf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function bf(t){if(Ou){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ou=!1}si=0,Tn=zt=ct=null,Po=!1,Gl=Lu=0,Oo=null}function ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?ct.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function vn(){if(zt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var s=Tn===null?ct.memoizedState:Tn.next;if(s!==null)Tn=s,zt=t;else{if(t===null)throw ct.alternate===null?Error(i(467)):Error(i(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Tn===null?ct.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var s=Gl;return Gl+=1,Oo===null&&(Oo=[]),t=Ty(Oo,t,s),s=ct,(Tn===null?s.memoizedState:Tn.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?pv:If),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===de)return $n(t)}throw Error(i(438,String(t)))}function _f(t){var s=null,a=ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vu(),ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function ri(t,s){return typeof s=="function"?s(t):s}function Bu(t){var s=vn();return wf(s,zt,t)}function wf(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var E=b=null,M=null,Y=s,se=!1;do{var ue=Y.lane&-536870913;if(ue!==Y.lane?(pt&ue)===ue:(si&ue)===ue){var Q=Y.revertLane;if(Q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ue===No&&(se=!0);else if((si&Q)===Q){Y=Y.next,Q===No&&(se=!0);continue}else ue={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(E=M=ue,b=m):M=M.next=ue,ct.lanes|=Q,$i|=Q;ue=Y.action,Ka&&a(m,ue),m=Y.hasEagerState?Y.eagerState:a(m,ue)}else Q={lane:ue,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(E=M=Q,b=m):M=M.next=Q,ct.lanes|=ue,$i|=ue;Y=Y.next}while(Y!==null&&Y!==s);if(M===null?b=m:M.next=E,!As(m,t.memoizedState)&&(Sn=!0,se&&(a=Io,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=M,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xf(t){var s=vn(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);As(m,s.memoizedState)||(Sn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Py(t,s,a){var l=ct,f=vn(),m=_t;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!As((zt||f).memoizedState,a);if(b&&(f.memoizedState=a,Sn=!0),f=f.queue,Sf(Vy.bind(null,l,f,t),[t]),f.getSnapshot!==s||b||Tn!==null&&Tn.memoizedState.tag&1){if(l.flags|=2048,Lo(9,{destroy:void 0},Ly.bind(null,l,f,a,s),null),$t===null)throw Error(i(349));m||(si&127)!==0||Oy(l,s,a)}return a}function Oy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ct.updateQueue,s===null?(s=Vu(),ct.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Ly(t,s,a,l){s.value=a,s.getSnapshot=l,Uy(s)&&By(t)}function Vy(t,s,a){return a(function(){Uy(s)&&By(t)})}function Uy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!As(t,a)}catch{return!0}}function By(t){var s=Ua(t,2);s!==null&&Es(s,t,2)}function Ef(t){var s=ds();if(typeof t=="function"){var a=t;if(t=a(),Ka){Oe(!0);try{a()}finally{Oe(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},s}function zy(t,s,a,l){return t.baseState=a,wf(t,zt,typeof l=="function"?l:ri)}function Wx(t,s,a,l,f){if(qu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Fy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Fy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var m=F.T,b={};F.T=b;try{var E=a(f,l),M=F.S;M!==null&&M(b,E),qy(t,s,E)}catch(Y){Tf(t,s,Y)}finally{m!==null&&b.types!==null&&(m.types=b.types),F.T=m}}else try{m=a(f,l),qy(t,s,m)}catch(Y){Tf(t,s,Y)}}function qy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(t,s,l)},function(l){return Tf(t,s,l)}):Hy(t,s,a)}function Hy(t,s,a){s.status="fulfilled",s.value=a,Gy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Fy(t,a)))}function Tf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Gy(s),s=s.next;while(s!==l)}t.action=null}function Gy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Wy(t,s){return s}function $y(t,s){if(_t){var a=$t.formState;if(a!==null){e:{var l=ct;if(_t){if(Xt){t:{for(var f=Xt,m=Ys;f.nodeType!==8;){if(!m){f=null;break t}if(f=Xs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Xt=Xs(f.nextSibling),l=f.data==="F!";break e}}Vi(l)}l=!1}l&&(s=a[0])}}return a=ds(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:s},a.queue=l,a=dv.bind(null,ct,l),l.dispatch=a,l=Ef(!1),m=Nf.bind(null,ct,!1,l.queue),l=ds(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=Wx.bind(null,ct,f,m,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Ky(t){var s=vn();return Yy(s,zt,t)}function Yy(t,s,a){if(s=wf(t,s,Wy)[0],t=Bu(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Wl(s)}catch(b){throw b===jo?Nu:b}else l=s;s=vn();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(ct.flags|=2048,Lo(9,{destroy:void 0},$x.bind(null,f,a),null)),[l,m,t]}function $x(t,s){t.action=s}function Qy(t){var s=vn(),a=zt;if(a!==null)return Yy(s,a,t);vn(),s=s.memoizedState,a=vn();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Lo(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=ct.updateQueue,s===null&&(s=Vu(),ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Xy(){return vn().memoizedState}function zu(t,s,a,l){var f=ds();ct.flags|=t,f.memoizedState=Lo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fu(t,s,a,l){var f=vn();l=l===void 0?null:l;var m=f.memoizedState.inst;zt!==null&&l!==null&&pf(l,zt.memoizedState.deps)?f.memoizedState=Lo(s,m,a,l):(ct.flags|=t,f.memoizedState=Lo(1|s,m,a,l))}function Jy(t,s){zu(8390656,8,t,s)}function Sf(t,s){Fu(2048,8,t,s)}function Kx(t){ct.flags|=4;var s=ct.updateQueue;if(s===null)s=Vu(),ct.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Zy(t){var s=vn().memoizedState;return Kx({ref:s,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function ev(t,s){return Fu(4,2,t,s)}function tv(t,s){return Fu(4,4,t,s)}function nv(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function sv(t,s,a){a=a!=null?a.concat([t]):null,Fu(4,4,nv.bind(null,s,t),a)}function kf(){}function rv(t,s){var a=vn();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&pf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function iv(t,s){var a=vn();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&pf(s,l[1]))return l[0];if(l=t(),Ka){Oe(!0);try{t()}finally{Oe(!1)}}return a.memoizedState=[l,s],l}function Rf(t,s,a){return a===void 0||(si&1073741824)!==0&&(pt&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=a0(),ct.lanes|=t,$i|=t,a)}function av(t,s,a,l){return As(a,s)?a:Mo.current!==null?(t=Rf(t,a,l),As(t,s)||(Sn=!0),t):(si&42)===0||(si&1073741824)!==0&&(pt&261930)===0?(Sn=!0,t.memoizedState=a):(t=a0(),ct.lanes|=t,$i|=t,s)}function ov(t,s,a,l,f){var m=fe.p;fe.p=m!==0&&8>m?m:8;var b=F.T,E={};F.T=E,Nf(t,!1,s,a);try{var M=f(),Y=F.S;if(Y!==null&&Y(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var se=qx(M,l);$l(t,s,se,Ms(t))}else $l(t,s,l,Ms(t))}catch(ue){$l(t,s,{then:function(){},status:"rejected",reason:ue},Ms())}finally{fe.p=m,b!==null&&E.types!==null&&(b.types=E.types),F.T=b}}function Yx(){}function Af(t,s,a,l){if(t.tag!==5)throw Error(i(476));var f=lv(t).queue;ov(t,f,s,we,a===null?Yx:function(){return cv(t),a(l)})}function lv(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:we},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function cv(t){var s=lv(t);s.next===null&&(s=t.alternate.memoizedState),$l(t,s.next.queue,{},Ms())}function Cf(){return $n(uc)}function uv(){return vn().memoizedState}function hv(){return vn().memoizedState}function Qx(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ms();t=zi(a);var l=Fi(s,t,a);l!==null&&(Es(l,s,a),Fl(l,s,a)),s={cache:sf()},t.payload=s;return}s=s.return}}function Xx(t,s,a){var l=Ms();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?fv(s,a):(a=Wd(t,s,a,l),a!==null&&(Es(a,t,l),mv(a,s,l)))}function dv(t,s,a){var l=Ms();$l(t,s,a,l)}function $l(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))fv(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,E=m(b,a);if(f.hasEagerState=!0,f.eagerState=E,As(E,b))return Eu(t,s,f,0),$t===null&&xu(),!1}catch{}if(a=Wd(t,s,f,l),a!==null)return Es(a,t,l),mv(a,s,l),!0}return!1}function Nf(t,s,a,l){if(l={lane:2,revertLane:lm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(s)throw Error(i(479))}else s=Wd(t,a,l,2),s!==null&&Es(s,t,2)}function qu(t){var s=t.alternate;return t===ct||s!==null&&s===ct}function fv(t,s){Po=Ou=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function mv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ki(t,a)}}var Kl={readContext:$n,use:Uu,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};Kl.useEffectEvent=mn;var pv={readContext:$n,use:Uu,useCallback:function(t,s){return ds().memoizedState=[t,s===void 0?null:s],t},useContext:$n,useEffect:Jy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,zu(4194308,4,nv.bind(null,s,t),a)},useLayoutEffect:function(t,s){return zu(4194308,4,t,s)},useInsertionEffect:function(t,s){zu(4,2,t,s)},useMemo:function(t,s){var a=ds();s=s===void 0?null:s;var l=t();if(Ka){Oe(!0);try{t()}finally{Oe(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=ds();if(a!==void 0){var f=a(s);if(Ka){Oe(!0);try{a(s)}finally{Oe(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Xx.bind(null,ct,t),[l.memoizedState,t]},useRef:function(t){var s=ds();return t={current:t},s.memoizedState=t},useState:function(t){t=Ef(t);var s=t.queue,a=dv.bind(null,ct,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,s){var a=ds();return Rf(a,t,s)},useTransition:function(){var t=Ef(!1);return t=ov.bind(null,ct,t.queue,!0,!1),ds().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=ct,f=ds();if(_t){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),$t===null)throw Error(i(349));(pt&127)!==0||Oy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Jy(Vy.bind(null,l,m,t),[t]),l.flags|=2048,Lo(9,{destroy:void 0},Ly.bind(null,l,m,a,s),null),a},useId:function(){var t=ds(),s=$t.identifierPrefix;if(_t){var a=jr,l=Ir;a=(l&~(1<<32-He(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Hx++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Cf,useFormState:$y,useActionState:$y,useOptimistic:function(t){var s=ds();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nf.bind(null,ct,!0,a),a.dispatch=s,[t,s]},useMemoCache:_f,useCacheRefresh:function(){return ds().memoizedState=Qx.bind(null,ct)},useEffectEvent:function(t){var s=ds(),a={impl:t};return s.memoizedState=a,function(){if((Nt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},If={readContext:$n,use:Uu,useCallback:rv,useContext:$n,useEffect:Sf,useImperativeHandle:sv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:Bu,useRef:Xy,useState:function(){return Bu(ri)},useDebugValue:kf,useDeferredValue:function(t,s){var a=vn();return av(a,zt.memoizedState,t,s)},useTransition:function(){var t=Bu(ri)[0],s=vn().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:Py,useId:uv,useHostTransitionStatus:Cf,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,s){var a=vn();return zy(a,zt,t,s)},useMemoCache:_f,useCacheRefresh:hv};If.useEffectEvent=Zy;var gv={readContext:$n,use:Uu,useCallback:rv,useContext:$n,useEffect:Sf,useImperativeHandle:sv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:xf,useRef:Xy,useState:function(){return xf(ri)},useDebugValue:kf,useDeferredValue:function(t,s){var a=vn();return zt===null?Rf(a,t,s):av(a,zt.memoizedState,t,s)},useTransition:function(){var t=xf(ri)[0],s=vn().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:Py,useId:uv,useHostTransitionStatus:Cf,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,s){var a=vn();return zt!==null?zy(a,zt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:hv};gv.useEffectEvent=Zy;function jf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Ms(),f=zi(l);f.payload=s,a!=null&&(f.callback=a),s=Fi(t,f,l),s!==null&&(Es(s,t,l),Fl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Ms(),f=zi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Fi(t,f,l),s!==null&&(Es(s,t,l),Fl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ms(),l=zi(a);l.tag=2,s!=null&&(l.callback=s),s=Fi(t,l,a),s!==null&&(Es(s,t,a),Fl(s,t,a))}};function yv(t,s,a,l,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ml(a,l)||!Ml(f,m):!0}function vv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Df.enqueueReplaceState(s,s.state,null)}function Ya(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=x({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function bv(t){wu(t)}function _v(t){console.error(t)}function wv(t){wu(t)}function Hu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function xv(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mf(t,s,a){return a=zi(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(t,s)},a}function Ev(t){return t=zi(t),t.tag=3,t}function Tv(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){xv(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){xv(s,a,l),typeof f!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Jx(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Co(s,a,f,!0),a=Ns.current,a!==null){switch(a.tag){case 31:case 13:return Qs===null?nh():a.alternate===null&&pn===0&&(pn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Iu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===Iu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(i(435,a.tag))}return im(t,l,f),nh(),!1}if(_t)return s=Ns.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Jd&&(t=Error(i(422),{cause:l}),Ll(Ws(t,a)))):(l!==Jd&&(s=Error(i(423),{cause:l}),Ll(Ws(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ws(l,a),f=Mf(t.stateNode,l,f),uf(t,f),pn!==4&&(pn=2)),!1;var m=Error(i(520),{cause:l});if(m=Ws(m,a),nc===null?nc=[m]:nc.push(m),pn!==4&&(pn=2),s===null)return!0;l=Ws(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Mf(a.stateNode,l,t),uf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ki===null||!Ki.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ev(f),Tv(f,t,a,l),uf(a,f),!1}a=a.return}while(a!==null);return!1}var Pf=Error(i(461)),Sn=!1;function Kn(t,s,a,l){s.child=t===null?Ay(s,null,a,l):$a(s,t.child,a,l)}function Sv(t,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return qa(s),l=gf(t,s,a,b,m,f),E=yf(),t!==null&&!Sn?(vf(t,s,f),ii(t,s,f)):(_t&&E&&Qd(s),s.flags|=1,Kn(t,s,l,f),s.child)}function kv(t,s,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!$d(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Rv(t,s,m,l,f)):(t=Su(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!qf(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(b,l)&&t.ref===s.ref)return ii(t,s,f)}return s.flags|=1,t=Zr(m,l),t.ref=s.ref,t.return=s,s.child=t}function Rv(t,s,a,l,f){if(t!==null){var m=t.memoizedProps;if(Ml(m,l)&&t.ref===s.ref)if(Sn=!1,s.pendingProps=l=m,qf(t,f))(t.flags&131072)!==0&&(Sn=!0);else return s.lanes=t.lanes,ii(t,s,f)}return Of(t,s,a,l,f)}function Av(t,s,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return Cv(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(s,m!==null?m.cachePool:null),m!==null?Iy(s,m):df(),jy(s);else return l=s.lanes=536870912,Cv(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Cu(s,m.cachePool),Iy(s,m),Hi(),s.memoizedState=null):(t!==null&&Cu(s,null),df(),Hi());return Kn(t,s,f,a),s.child}function Yl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Cv(t,s,a,l,f){var m=af();return m=m===null?null:{parent:En._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Cu(s,null),df(),jy(s),t!==null&&Co(t,s,l,!0),s.childLanes=f,null}function Gu(t,s){return s=$u({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Nv(t,s,a){return $a(s,t.child,null,a),t=Gu(s,s.pendingProps),t.flags|=2,Is(s),s.memoizedState=null,t}function Zx(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(_t){if(l.mode==="hidden")return t=Gu(s,l),s.lanes=536870912,Yl(null,t);if(mf(s),(t=Xt)?(t=F0(t,Ys),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Oi!==null?{id:Ir,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=s,s.child=a,Wn=s,Xt=null)):t=null,t===null)throw Vi(s);return s.lanes=536870912,null}return Gu(s,l)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(mf(s),f)if(s.flags&256)s.flags&=-257,s=Nv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Sn||Co(t,s,a,!1),f=(a&t.childLanes)!==0,Sn||f){if(l=$t,l!==null&&(b=xr(l,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ua(t,b),Es(l,t,b),Pf;nh(),s=Nv(t,s,a)}else t=m.treeContext,Xt=Xs(b.nextSibling),Wn=s,_t=!0,Li=null,Ys=!1,t!==null&&gy(s,t),s=Gu(s,l),s.flags|=4096;return s}return t=Zr(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Wu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Of(t,s,a,l,f){return qa(s),a=gf(t,s,a,l,void 0,f),l=yf(),t!==null&&!Sn?(vf(t,s,f),ii(t,s,f)):(_t&&l&&Qd(s),s.flags|=1,Kn(t,s,a,f),s.child)}function Iv(t,s,a,l,f,m){return qa(s),s.updateQueue=null,a=My(s,l,a,f),Dy(t),l=yf(),t!==null&&!Sn?(vf(t,s,m),ii(t,s,m)):(_t&&l&&Qd(s),s.flags|=1,Kn(t,s,a,m),s.child)}function jv(t,s,a,l,f){if(qa(s),s.stateNode===null){var m=So,b=a.contextType;typeof b=="object"&&b!==null&&(m=$n(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Df,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},lf(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?$n(b):So,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(jf(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Df.enqueueReplaceState(m,m.state,null),Hl(s,l,m,f),ql(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,M=Ya(a,E);m.props=M;var Y=m.context,se=a.contextType;b=So,typeof se=="object"&&se!==null&&(b=$n(se));var ue=a.getDerivedStateFromProps;se=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||Y!==b)&&vv(s,m,l,b),Bi=!1;var Q=s.memoizedState;m.state=Q,Hl(s,l,m,f),ql(),Y=s.memoizedState,E||Q!==Y||Bi?(typeof ue=="function"&&(jf(s,a,ue,l),Y=s.memoizedState),(M=Bi||yv(s,a,M,l,Q,Y,b))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),m.props=l,m.state=Y,m.context=b,l=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,cf(t,s),b=s.memoizedProps,se=Ya(a,b),m.props=se,ue=s.pendingProps,Q=m.context,Y=a.contextType,M=So,typeof Y=="object"&&Y!==null&&(M=$n(Y)),E=a.getDerivedStateFromProps,(Y=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ue||Q!==M)&&vv(s,m,l,M),Bi=!1,Q=s.memoizedState,m.state=Q,Hl(s,l,m,f),ql();var te=s.memoizedState;b!==ue||Q!==te||Bi||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof E=="function"&&(jf(s,a,E,l),te=s.memoizedState),(se=Bi||yv(s,a,se,l,Q,te,M)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,te,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,te,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=te),m.props=l,m.state=te,m.context=M,l=se):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Wu(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=$a(s,t.child,null,f),s.child=$a(s,null,a,f)):Kn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=ii(t,s,f),t}function Dv(t,s,a,l){return za(),s.flags|=256,Kn(t,s,a,l),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:xy()}}function Uf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Ds),t}function Mv(t,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(yn.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(_t){if(f?qi(s):Hi(),(t=Xt)?(t=F0(t,Ys),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Oi!==null?{id:Ir,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=s,s.child=a,Wn=s,Xt=null)):t=null,t===null)throw Vi(s);return wm(t)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(Hi(),f=s.mode,E=$u({mode:"hidden",children:E},f),l=Ba(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Vf(a),l.childLanes=Uf(t,b,a),s.memoizedState=Lf,Yl(null,l)):(qi(s),Bf(s,E))}var M=t.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(m)s.flags&256?(qi(s),s.flags&=-257,s=zf(t,s,a)):s.memoizedState!==null?(Hi(),s.child=t.child,s.flags|=128,s=null):(Hi(),E=l.fallback,f=s.mode,l=$u({mode:"visible",children:l.children},f),E=Ba(E,f,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,$a(s,t.child,null,a),l=s.child,l.memoizedState=Vf(a),l.childLanes=Uf(t,b,a),s.memoizedState=Lf,s=Yl(null,l));else if(qi(s),wm(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var Y=b.dgst;b=Y,l=Error(i(419)),l.stack="",l.digest=b,Ll({value:l,source:null,stack:null}),s=zf(t,s,a)}else if(Sn||Co(t,s,a,!1),b=(a&t.childLanes)!==0,Sn||b){if(b=$t,b!==null&&(l=xr(b,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ua(t,l),Es(b,t,l),Pf;_m(E)||nh(),s=zf(t,s,a)}else _m(E)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,Xt=Xs(E.nextSibling),Wn=s,_t=!0,Li=null,Ys=!1,t!==null&&gy(s,t),s=Bf(s,l.children),s.flags|=4096);return s}return f?(Hi(),E=l.fallback,f=s.mode,M=t.child,Y=M.sibling,l=Zr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,Y!==null?E=Zr(Y,E):(E=Ba(E,f,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Yl(null,l),l=s.child,E=t.child.memoizedState,E===null?E=Vf(a):(f=E.cachePool,f!==null?(M=En._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=xy(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Uf(t,b,a),s.memoizedState=Lf,Yl(t.child,l)):(qi(s),a=t.child,t=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function Bf(t,s){return s=$u({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function $u(t,s){return t=Cs(22,t,null,s),t.lanes=0,t}function zf(t,s,a){return $a(s,t.child,null,a),t=Bf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Pv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),tf(t.return,s,a)}function Ff(t,s,a,l,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function Ov(t,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var b=yn.current,E=(b&2)!==0;if(E?(b=b&1|2,s.flags|=128):b&=1,he(yn,b),Kn(t,s,l,a),l=_t?Ol:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pv(t,a,s);else if(t.tag===19)Pv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ff(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Pu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ff(s,!0,a,null,m,l);break;case"together":Ff(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ii(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$i|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Co(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Zr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Zr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function qf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function eE(t,s,a){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),Ui(s,En,t.memoizedState.cache),za();break;case 27:case 5:Ht(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:Ui(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Mv(t,s,a):(qi(s),t=ii(t,s,a),t!==null?t.sibling:null);qi(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Co(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Ov(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(yn,yn.current),l)break;return null;case 22:return s.lanes=0,Av(t,s,a,s.pendingProps);case 24:Ui(s,En,t.memoizedState.cache)}return ii(t,s,a)}function Lv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Sn=!0;else{if(!qf(t,a)&&(s.flags&128)===0)return Sn=!1,eE(t,s,a);Sn=(t.flags&131072)!==0}else Sn=!1,_t&&(s.flags&1048576)!==0&&py(s,Ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Ga(s.elementType),s.type=t,typeof t=="function")$d(t)?(l=Ya(t,l),s.tag=1,s=jv(null,s,t,l,a)):(s.tag=0,s=Of(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===xe){s.tag=11,s=Sv(null,s,t,l,a);break e}else if(f===N){s.tag=14,s=kv(null,s,t,l,a);break e}}throw s=be(t)||t,Error(i(306,s,""))}}return s;case 0:return Of(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ya(l,s.pendingProps),jv(t,s,l,f,a);case 3:e:{if(et(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,cf(t,s),Hl(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Ui(s,En,l),l!==m.cache&&nf(s,[En],a,!0),ql(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Dv(t,s,l,a);break e}else if(l!==f){f=Ws(Error(i(424)),s),Ll(f),s=Dv(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Xt=Xs(t.firstChild),Wn=s,_t=!0,Li=null,Ys=!0,a=Ay(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(za(),l===f){s=ii(t,s,a);break e}Kn(t,s,l,a)}s=s.child}return s;case 26:return Wu(t,s),t===null?(a=K0(s.type,null,s.pendingProps,null))?s.memoizedState=a:_t||(a=s.type,t=s.pendingProps,l=ch(Se.current).createElement(a),l[Zt]=s,l[fn]=t,Yn(l,a,t),U(l),s.stateNode=l):s.memoizedState=K0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ht(s),t===null&&_t&&(l=s.stateNode=G0(s.type,s.pendingProps,Se.current),Wn=s,Ys=!0,f=Xt,Ji(s.type)?(xm=f,Xt=Xs(l.firstChild)):Xt=f),Kn(t,s,s.pendingProps.children,a),Wu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&_t&&((f=l=Xt)&&(l=NE(l,s.type,s.pendingProps,Ys),l!==null?(s.stateNode=l,Wn=s,Xt=Xs(l.firstChild),Ys=!1,f=!0):f=!1),f||Vi(s)),Ht(s),f=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,ym(f,m)?l=null:b!==null&&ym(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=gf(t,s,Gx,null,null,a),uc._currentValue=f),Wu(t,s),Kn(t,s,l,a),s.child;case 6:return t===null&&_t&&((t=a=Xt)&&(a=IE(a,s.pendingProps,Ys),a!==null?(s.stateNode=a,Wn=s,Xt=null,t=!0):t=!1),t||Vi(s)),null;case 13:return Mv(t,s,a);case 4:return et(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=$a(s,null,l,a):Kn(t,s,l,a),s.child;case 11:return Sv(t,s,s.type,s.pendingProps,a);case 7:return Kn(t,s,s.pendingProps,a),s.child;case 8:return Kn(t,s,s.pendingProps.children,a),s.child;case 12:return Kn(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ui(s,s.type,l.value),Kn(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qa(s),f=$n(f),l=l(f),s.flags|=1,Kn(t,s,l,a),s.child;case 14:return kv(t,s,s.type,s.pendingProps,a);case 15:return Rv(t,s,s.type,s.pendingProps,a);case 19:return Ov(t,s,a);case 31:return Zx(t,s,a);case 22:return Av(t,s,a,s.pendingProps);case 24:return qa(s),l=$n(En),t===null?(f=af(),f===null&&(f=$t,m=sf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},lf(s),Ui(s,En,f)):((t.lanes&a)!==0&&(cf(t,s),Hl(s,null,null,a),ql()),f=t.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ui(s,En,l)):(l=m.cache,Ui(s,En,l),l!==f.cache&&nf(s,[En],a,!0))),Kn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ai(t){t.flags|=4}function Hf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(u0())t.flags|=8192;else throw Wa=Iu,of}else t.flags&=-16777217}function Vv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z0(s))if(u0())t.flags|=8192;else throw Wa=Iu,of}function Ku(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?$r():536870912,t.lanes|=s,zo|=s)}function Ql(t,s){if(!_t)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function tE(t,s,a){var l=s.pendingProps;switch(Xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ni(En),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ao(s)?ai(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zd())),Jt(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(ai(s),m!==null?(Jt(s),Vv(s,m)):(Jt(s),Hf(s,f,null,l,a))):m?m!==t.memoizedState?(ai(s),Jt(s),Vv(s,m)):(Jt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ai(s),Jt(s),Hf(s,f,t,l,a)),null;case 27:if(xn(s),a=Se.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}t=ye.current,Ao(s)?yy(s):(t=G0(f,l,a),s.stateNode=t,ai(s))}return Jt(s),null;case 5:if(xn(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}if(m=ye.current,Ao(s))yy(s);else{var b=ch(Se.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}m[Zt]=s,m[fn]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(Yn(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ai(s)}}return Jt(s),Hf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ai(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Se.current,Ao(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Zt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||M0(t.nodeValue,a)),t||Vi(s,!0)}else t=ch(t).createTextNode(l),t[Zt]=s,s.stateNode=t}return Jt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ao(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Zt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),t=!1}else a=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Is(s),s):(Is(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Jt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ao(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Zt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),f=!1}else f=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Is(s),s):(Is(s),null)}return Is(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Ku(s,s.updateQueue),Jt(s),null);case 4:return tt(),t===null&&dm(s.stateNode.containerInfo),Jt(s),null;case 10:return ni(s.type),Jt(s),null;case 19:if(G(yn),l=s.memoizedState,l===null)return Jt(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)Ql(l,!1);else{if(pn!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Pu(t),m!==null){for(s.flags|=128,Ql(l,!1),t=m.updateQueue,s.updateQueue=t,Ku(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)dy(a,t),a=a.sibling;return he(yn,yn.current&1|2),_t&&ei(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Ot()>Zu&&(s.flags|=128,f=!0,Ql(l,!1),s.lanes=4194304)}else{if(!f)if(t=Pu(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Ku(s,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!_t)return Jt(s),null}else 2*Ot()-l.renderingStartTime>Zu&&a!==536870912&&(s.flags|=128,f=!0,Ql(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ot(),t.sibling=null,a=yn.current,he(yn,f?a&1|2:a&1),_t&&ei(s,l.treeForkCount),t):(Jt(s),null);case 22:case 23:return Is(s),ff(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),a=s.updateQueue,a!==null&&Ku(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&G(Ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ni(En),Jt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function nE(t,s){switch(Xd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ni(En),tt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return xn(s),null;case 31:if(s.memoizedState!==null){if(Is(s),s.alternate===null)throw Error(i(340));za()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Is(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));za()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return G(yn),null;case 4:return tt(),null;case 10:return ni(s.type),null;case 22:case 23:return Is(s),ff(),t!==null&&G(Ha),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ni(En),null;case 25:return null;default:return null}}function Uv(t,s){switch(Xd(s),s.tag){case 3:ni(En),tt();break;case 26:case 27:case 5:xn(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&Is(s);break;case 13:Is(s);break;case 19:G(yn);break;case 10:ni(s.type);break;case 22:case 23:Is(s),ff(),t!==null&&G(Ha);break;case 24:ni(En)}}function Xl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(E){Vt(s,s.return,E)}}function Gi(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=s;var M=a,Y=E;try{Y()}catch(se){Vt(f,M,se)}}}l=l.next}while(l!==m)}}catch(se){Vt(s,s.return,se)}}function Bv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Ny(s,a)}catch(l){Vt(t,t.return,l)}}}function zv(t,s,a){a.props=Ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Vt(t,s,l)}}function Jl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Vt(t,s,f)}}function Dr(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Vt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Vt(t,s,f)}else a.current=null}function Fv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Vt(t,t.return,f)}}function Gf(t,s,a){try{var l=t.stateNode;TE(l,t.type,a,s),l[fn]=s}catch(f){Vt(t,t.return,f)}}function qv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=us));else if(l!==4&&(l===27&&Ji(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for($f(t,s,a),t=t.sibling;t!==null;)$f(t,s,a),t=t.sibling}function Yu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,s,a),t=t.sibling;t!==null;)Yu(t,s,a),t=t.sibling}function Hv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Yn(s,l,a),s[Zt]=t,s[fn]=a}catch(m){Vt(t,t.return,m)}}var oi=!1,kn=!1,Kf=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,On=null;function sE(t,s){if(t=t.containerInfo,pm=gh,t=sy(t),Bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,E=-1,M=-1,Y=0,se=0,ue=t,Q=null;t:for(;;){for(var te;ue!==a||f!==0&&ue.nodeType!==3||(E=b+f),ue!==m||l!==0&&ue.nodeType!==3||(M=b+l),ue.nodeType===3&&(b+=ue.nodeValue.length),(te=ue.firstChild)!==null;)Q=ue,ue=te;for(;;){if(ue===t)break t;if(Q===a&&++Y===f&&(E=b),Q===m&&++se===l&&(M=b),(te=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=te}a=E===-1||M===-1?null:{start:E,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:t,selectionRange:a},gh=!1,On=s;On!==null;)if(s=On,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,On=t;else for(;On!==null;){switch(s=On,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Me=Ya(a.type,f);t=l.getSnapshotBeforeUpdate(Me,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ye){Vt(a,a.return,Ye)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,On=t;break}On=s.return}}function Wv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ci(t,a),l&4&&Xl(5,a);break;case 1:if(ci(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){Vt(a,a.return,b)}else{var f=Ya(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Vt(a,a.return,b)}}l&64&&Bv(a),l&512&&Jl(a,a.return);break;case 3:if(ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ny(t,s)}catch(b){Vt(a,a.return,b)}}break;case 27:s===null&&l&4&&Hv(a);case 26:case 5:ci(t,a),s===null&&l&4&&Fv(a),l&512&&Jl(a,a.return);break;case 12:ci(t,a);break;case 31:ci(t,a),l&4&&Yv(t,a);break;case 13:ci(t,a),l&4&&Qv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dE.bind(null,a),jE(t,a))));break;case 22:if(l=a.memoizedState!==null||oi,!l){s=s!==null&&s.memoizedState!==null||kn,f=oi;var m=kn;oi=l,(kn=s)&&!m?ui(t,a,(a.subtreeFlags&8772)!==0):ci(t,a),oi=f,kn=m}break;case 30:break;default:ci(t,a)}}function $v(t){var s=t.alternate;s!==null&&(t.alternate=null,$v(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Rs(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nn=null,bs=!1;function li(t,s,a){for(a=a.child;a!==null;)Kv(t,s,a),a=a.sibling}function Kv(t,s,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(ke,a)}catch{}switch(a.tag){case 26:kn||Dr(a,s),li(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kn||Dr(a,s);var l=nn,f=bs;Ji(a.type)&&(nn=a.stateNode,bs=!1),li(t,s,a),oc(a.stateNode),nn=l,bs=f;break;case 5:kn||Dr(a,s);case 6:if(l=nn,f=bs,nn=null,li(t,s,a),nn=l,bs=f,nn!==null)if(bs)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(a.stateNode)}catch(m){Vt(a,s,m)}else try{nn.removeChild(a.stateNode)}catch(m){Vt(a,s,m)}break;case 18:nn!==null&&(bs?(t=nn,B0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yo(t)):B0(nn,a.stateNode));break;case 4:l=nn,f=bs,nn=a.stateNode.containerInfo,bs=!0,li(t,s,a),nn=l,bs=f;break;case 0:case 11:case 14:case 15:Gi(2,a,s),kn||Gi(4,a,s),li(t,s,a);break;case 1:kn||(Dr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zv(a,s,l)),li(t,s,a);break;case 21:li(t,s,a);break;case 22:kn=(l=kn)||a.memoizedState!==null,li(t,s,a),kn=l;break;default:li(t,s,a)}}function Yv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Yo(t)}catch(a){Vt(s,s.return,a)}}}function Qv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yo(t)}catch(a){Vt(s,s.return,a)}}function rE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Gv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Gv),s;default:throw Error(i(435,t.tag))}}function Qu(t,s){var a=rE(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=fE.bind(null,t,l);l.then(f,f)}})}function _s(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Ji(E.type)){nn=E.stateNode,bs=!1;break e}break;case 5:nn=E.stateNode,bs=!1;break e;case 3:case 4:nn=E.stateNode.containerInfo,bs=!0;break e}E=E.return}if(nn===null)throw Error(i(160));Kv(m,b,f),nn=null,bs=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Xv(s,t),s=s.sibling}var mr=null;function Xv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_s(s,t),ws(t),l&4&&(Gi(3,t,t.return),Xl(3,t),Gi(5,t,t.return));break;case 1:_s(s,t),ws(t),l&512&&(kn||a===null||Dr(a,a.return)),l&64&&oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=mr;if(_s(s,t),ws(t),l&512&&(kn||a===null||Dr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[vs]||m[Zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Yn(m,l,a),m[Zt]=t,U(m),l=m;break e;case"link":var b=X0("link","href",f).get(l+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}m=f.createElement(l),Yn(m,l,a),f.head.appendChild(m);break;case"meta":if(b=X0("meta","content",f).get(l+(a.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}m=f.createElement(l),Yn(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Zt]=t,U(m),l=m}t.stateNode=l}else J0(f,t.type,t.stateNode);else t.stateNode=Q0(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?J0(f,t.type,t.stateNode):Q0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:_s(s,t),ws(t),l&512&&(kn||a===null||Dr(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_s(s,t),ws(t),l&512&&(kn||a===null||Dr(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(Me){Vt(t,t.return,Me)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Gf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Kf=!0);break;case 6:if(_s(s,t),ws(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Me){Vt(t,t.return,Me)}}break;case 3:if(dh=null,f=mr,mr=uh(s.containerInfo),_s(s,t),mr=f,ws(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(s.containerInfo)}catch(Me){Vt(t,t.return,Me)}Kf&&(Kf=!1,Jv(t));break;case 4:l=mr,mr=uh(t.stateNode.containerInfo),_s(s,t),ws(t),mr=l;break;case 12:_s(s,t),ws(t);break;case 31:_s(s,t),ws(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 13:_s(s,t),ws(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ju=Ot()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,Y=oi,se=kn;if(oi=Y||f,kn=se||M,_s(s,t),kn=se,oi=Y,ws(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||oi||kn||Qa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(m=M.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=M.stateNode;var ue=M.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Me){Vt(M,M.return,Me)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Me){Vt(M,M.return,Me)}}}else if(s.tag===18){if(a===null){M=s;try{var te=M.stateNode;f?z0(te,!0):z0(M.stateNode,!1)}catch(Me){Vt(M,M.return,Me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qu(t,a))));break;case 19:_s(s,t),ws(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 30:break;case 21:break;default:_s(s,t),ws(t)}}function ws(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(qv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Wf(t);Yu(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(on(b,""),a.flags&=-33);var E=Wf(t);Yu(t,E,b);break;case 3:case 4:var M=a.stateNode.containerInfo,Y=Wf(t);$f(t,Y,M);break;default:throw Error(i(161))}}catch(se){Vt(t,t.return,se)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Jv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Jv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ci(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Wv(t,s.alternate,s),s=s.sibling}function Qa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Gi(4,s,s.return),Qa(s);break;case 1:Dr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&zv(s,s.return,a),Qa(s);break;case 27:oc(s.stateNode);case 26:case 5:Dr(s,s.return),Qa(s);break;case 22:s.memoizedState===null&&Qa(s);break;case 30:Qa(s);break;default:Qa(s)}t=t.sibling}}function ui(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:ui(f,m,a),Xl(4,m);break;case 1:if(ui(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Vt(l,l.return,Y)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Cy(M[f],E)}catch(Y){Vt(l,l.return,Y)}}a&&b&64&&Bv(m),Jl(m,m.return);break;case 27:Hv(m);case 26:case 5:ui(f,m,a),a&&l===null&&b&4&&Fv(m),Jl(m,m.return);break;case 12:ui(f,m,a);break;case 31:ui(f,m,a),a&&b&4&&Yv(f,m);break;case 13:ui(f,m,a),a&&b&4&&Qv(f,m);break;case 22:m.memoizedState===null&&ui(f,m,a),Jl(m,m.return);break;case 30:break;default:ui(f,m,a)}s=s.sibling}}function Yf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vl(a))}function Qf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t))}function pr(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Zv(t,s,a,l),s=s.sibling}function Zv(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:pr(t,s,a,l),f&2048&&Xl(9,s);break;case 1:pr(t,s,a,l);break;case 3:pr(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t)));break;case 12:if(f&2048){pr(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Vt(s,s.return,M)}}else pr(t,s,a,l);break;case 31:pr(t,s,a,l);break;case 13:pr(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?pr(t,s,a,l):Zl(t,s):m._visibility&2?pr(t,s,a,l):(m._visibility|=2,Vo(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Yf(b,s);break;case 24:pr(t,s,a,l),f&2048&&Qf(s.alternate,s);break;default:pr(t,s,a,l)}}function Vo(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,E=a,M=l,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Vo(m,b,E,M,f),Xl(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Vo(m,b,E,M,f):Zl(m,b):(se._visibility|=2,Vo(m,b,E,M,f)),f&&Y&2048&&Yf(b.alternate,b);break;case 24:Vo(m,b,E,M,f),f&&Y&2048&&Qf(b.alternate,b);break;default:Vo(m,b,E,M,f)}s=s.sibling}}function Zl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Zl(a,l),f&2048&&Yf(l.alternate,l);break;case 24:Zl(a,l),f&2048&&Qf(l.alternate,l);break;default:Zl(a,l)}s=s.sibling}}var ec=8192;function Uo(t,s,a){if(t.subtreeFlags&ec)for(t=t.child;t!==null;)e0(t,s,a),t=t.sibling}function e0(t,s,a){switch(t.tag){case 26:Uo(t,s,a),t.flags&ec&&t.memoizedState!==null&&HE(a,mr,t.memoizedState,t.memoizedProps);break;case 5:Uo(t,s,a);break;case 3:case 4:var l=mr;mr=uh(t.stateNode.containerInfo),Uo(t,s,a),mr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ec,ec=16777216,Uo(t,s,a),ec=l):Uo(t,s,a));break;default:Uo(t,s,a)}}function t0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function tc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];On=l,s0(l,t)}t0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n0(t),t=t.sibling}function n0(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&Gi(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Xu(t)):tc(t);break;default:tc(t)}}function Xu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];On=l,s0(l,t)}t0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Gi(8,s,s.return),Xu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(s));break;default:Xu(s)}t=t.sibling}}function s0(t,s){for(;On!==null;){var a=On;switch(a.tag){case 0:case 11:case 15:Gi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,On=l;else e:for(a=t;On!==null;){l=On;var f=l.sibling,m=l.return;if($v(l),l===a){On=null;break e}if(f!==null){f.return=m,On=f;break e}On=m}}}var iE={getCacheForType:function(t){var s=$n(En),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return $n(En).controller.signal}},aE=typeof WeakMap=="function"?WeakMap:Map,Nt=0,$t=null,ht=null,pt=0,Lt=0,js=null,Wi=!1,Bo=!1,Xf=!1,hi=0,pn=0,$i=0,Xa=0,Jf=0,Ds=0,zo=0,nc=null,xs=null,Zf=!1,Ju=0,r0=0,Zu=1/0,eh=null,Ki=null,Dn=0,Yi=null,Fo=null,di=0,em=0,tm=null,i0=null,sc=0,nm=null;function Ms(){return(Nt&2)!==0&&pt!==0?pt&-pt:F.T!==null?lm():Er()}function a0(){if(Ds===0)if((pt&536870912)===0||_t){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Ds=t}else Ds=536870912;return t=Ns.current,t!==null&&(t.flags|=32),Ds}function Es(t,s,a){(t===$t&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)&&(qo(t,0),Qi(t,pt,Ds,!1)),Bs(t,a),((Nt&2)===0||t!==$t)&&(t===$t&&((Nt&2)===0&&(Xa|=a),pn===4&&Qi(t,pt,Ds,!1)),Mr(t))}function o0(t,s,a){if((Nt&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Zn(t,s),f=l?cE(t,s):rm(t,s,!0),m=l;do{if(f===0){Bo&&!l&&Qi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!oE(a)){f=rm(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var E=t;f=nc;var M=E.current.memoizedState.isDehydrated;if(M&&(qo(E,b).flags|=256),b=rm(E,b,!1),b!==2){if(Xf&&!M){E.errorRecoveryDisabledLanes|=m,Xa|=m,f=4;break e}m=xs,xs=f,m!==null&&(xs===null?xs=m:xs.push.apply(xs,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){qo(t,0),Qi(t,s,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qi(l,s,Ds,!Wi);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Ju+300-Ot(),10<f)){if(Qi(l,s,Ds,!Wi),In(l,0,!0)!==0)break e;di=s,l.timeoutHandle=V0(l0.bind(null,l,a,xs,eh,Zf,s,Ds,Xa,zo,Wi,m,"Throttled",-0,0),f);break e}l0(l,a,xs,eh,Zf,s,Ds,Xa,zo,Wi,m,null,-0,0)}}break}while(!0);Mr(t)}function l0(t,s,a,l,f,m,b,E,M,Y,se,ue,Q,te){if(t.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:us},e0(s,m,ue);var Me=(m&62914560)===m?Ju-Ot():(m&4194048)===m?r0-Ot():0;if(Me=GE(ue,Me),Me!==null){di=m,t.cancelPendingCommit=Me(g0.bind(null,t,s,m,a,l,f,b,E,M,se,ue,null,Q,te)),Qi(t,m,b,!Y);return}}g0(t,s,m,a,l,f,b,E,M)}function oE(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!As(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(t,s,a,l){s&=~Jf,s&=~Xa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var m=31-He(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&zs(t,a,s)}function th(){return(Nt&6)===0?(rc(0),!1):!0}function sm(){if(ht!==null){if(Lt===0)var t=ht.return;else t=ht,ti=Fa=null,bf(t),Do=null,Bl=0,t=ht;for(;t!==null;)Uv(t.alternate,t),t=t.return;ht=null}}function qo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),di=0,sm(),$t=t,ht=a=Zr(t.current,null),pt=s,Lt=0,js=null,Wi=!1,Bo=Zn(t,s),Xf=!1,zo=Ds=Jf=Xa=$i=pn=0,xs=nc=null,Zf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-He(l),m=1<<f;s|=t[f],l&=~m}return hi=s,xu(),a}function c0(t,s){ct=null,F.H=Kl,s===jo||s===Nu?(s=Sy(),Lt=3):s===of?(s=Sy(),Lt=4):Lt=s===Pf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,js=s,ht===null&&(pn=1,Hu(t,Ws(s,t.current)))}function u0(){var t=Ns.current;return t===null?!0:(pt&4194048)===pt?Qs===null:(pt&62914560)===pt||(pt&536870912)!==0?t===Qs:!1}function h0(){var t=F.H;return F.H=Kl,t===null?Kl:t}function d0(){var t=F.A;return F.A=iE,t}function nh(){pn=4,Wi||(pt&4194048)!==pt&&Ns.current!==null||(Bo=!0),($i&134217727)===0&&(Xa&134217727)===0||$t===null||Qi($t,pt,Ds,!1)}function rm(t,s,a){var l=Nt;Nt|=2;var f=h0(),m=d0();($t!==t||pt!==s)&&(eh=null,qo(t,s)),s=!1;var b=pn;e:do try{if(Lt!==0&&ht!==null){var E=ht,M=js;switch(Lt){case 8:sm(),b=6;break e;case 3:case 2:case 9:case 6:Ns.current===null&&(s=!0);var Y=Lt;if(Lt=0,js=null,Ho(t,E,M,Y),a&&Bo){b=0;break e}break;default:Y=Lt,Lt=0,js=null,Ho(t,E,M,Y)}}lE(),b=pn;break}catch(se){c0(t,se)}while(!0);return s&&t.shellSuspendCounter++,ti=Fa=null,Nt=l,F.H=f,F.A=m,ht===null&&($t=null,pt=0,xu()),b}function lE(){for(;ht!==null;)f0(ht)}function cE(t,s){var a=Nt;Nt|=2;var l=h0(),f=d0();$t!==t||pt!==s?(eh=null,Zu=Ot()+500,qo(t,s)):Bo=Zn(t,s);e:do try{if(Lt!==0&&ht!==null){s=ht;var m=js;t:switch(Lt){case 1:Lt=0,js=null,Ho(t,s,m,1);break;case 2:case 9:if(Ey(m)){Lt=0,js=null,m0(s);break}s=function(){Lt!==2&&Lt!==9||$t!==t||(Lt=7),Mr(t)},m.then(s,s);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Ey(m)?(Lt=0,js=null,m0(s)):(Lt=0,js=null,Ho(t,s,m,7));break;case 5:var b=null;switch(ht.tag){case 26:b=ht.memoizedState;case 5:case 27:var E=ht;if(b?Z0(b):E.stateNode.complete){Lt=0,js=null;var M=E.sibling;if(M!==null)ht=M;else{var Y=E.return;Y!==null?(ht=Y,sh(Y)):ht=null}break t}}Lt=0,js=null,Ho(t,s,m,5);break;case 6:Lt=0,js=null,Ho(t,s,m,6);break;case 8:sm(),pn=6;break e;default:throw Error(i(462))}}uE();break}catch(se){c0(t,se)}while(!0);return ti=Fa=null,F.H=l,F.A=f,Nt=a,ht!==null?0:($t=null,pt=0,xu(),pn)}function uE(){for(;ht!==null&&!Wr();)f0(ht)}function f0(t){var s=Lv(t.alternate,t,hi);t.memoizedProps=t.pendingProps,s===null?sh(t):ht=s}function m0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Iv(a,s,s.pendingProps,s.type,void 0,pt);break;case 11:s=Iv(a,s,s.pendingProps,s.type.render,s.ref,pt);break;case 5:bf(s);default:Uv(a,s),s=ht=dy(s,hi),s=Lv(a,s,hi)}t.memoizedProps=t.pendingProps,s===null?sh(t):ht=s}function Ho(t,s,a,l){ti=Fa=null,bf(s),Do=null,Bl=0;var f=s.return;try{if(Jx(t,f,s,a,pt)){pn=1,Hu(t,Ws(a,t.current)),ht=null;return}}catch(m){if(f!==null)throw ht=f,m;pn=1,Hu(t,Ws(a,t.current)),ht=null;return}s.flags&32768?(_t||l===1?t=!0:Bo||(pt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ns.current,l!==null&&l.tag===13&&(l.flags|=16384))),p0(s,t)):sh(s)}function sh(t){var s=t;do{if((s.flags&32768)!==0){p0(s,Wi);return}t=s.return;var a=tE(s.alternate,s,hi);if(a!==null){ht=a;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=t}while(s!==null);pn===0&&(pn=5)}function p0(t,s){do{var a=nE(t.alternate,t);if(a!==null){a.flags&=32767,ht=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ht=t;return}ht=t=a}while(t!==null);pn=6,ht=null}function g0(t,s,a,l,f,m,b,E,M){t.cancelPendingCommit=null;do rh();while(Dn!==0);if((Nt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Gd,Kr(t,a,m,b,E,M),t===$t&&(ht=$t=null,pt=0),Fo=s,Yi=t,di=a,em=m,tm=f,i0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mE(le,function(){return w0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=fe.p,fe.p=2,b=Nt,Nt|=4;try{sE(t,s,a)}finally{Nt=b,fe.p=f,F.T=l}}Dn=1,y0(),v0(),b0()}}function y0(){if(Dn===1){Dn=0;var t=Yi,s=Fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=fe.p;fe.p=2;var f=Nt;Nt|=4;try{Xv(s,t);var m=gm,b=sy(t.containerInfo),E=m.focusedElem,M=m.selectionRange;if(b!==E&&E&&E.ownerDocument&&ny(E.ownerDocument.documentElement,E)){if(M!==null&&Bd(E)){var Y=M.start,se=M.end;if(se===void 0&&(se=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(se,E.value.length);else{var ue=E.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var te=Q.getSelection(),Me=E.textContent.length,Ye=Math.min(M.start,Me),qt=M.end===void 0?Ye:Math.min(M.end,Me);!te.extend&&Ye>qt&&(b=qt,qt=Ye,Ye=b);var q=ty(E,Ye),L=ty(E,qt);if(q&&L&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==L.node||te.focusOffset!==L.offset)){var K=ue.createRange();K.setStart(q.node,q.offset),te.removeAllRanges(),Ye>qt?(te.addRange(K),te.extend(L.node,L.offset)):(K.setEnd(L.node,L.offset),te.addRange(K))}}}}for(ue=[],te=E;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ue.length;E++){var oe=ue[E];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}gh=!!pm,gm=pm=null}finally{Nt=f,fe.p=l,F.T=a}}t.current=s,Dn=2}}function v0(){if(Dn===2){Dn=0;var t=Yi,s=Fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=fe.p;fe.p=2;var f=Nt;Nt|=4;try{Wv(t,s.alternate,s)}finally{Nt=f,fe.p=l,F.T=a}}Dn=3}}function b0(){if(Dn===4||Dn===3){Dn=0,Us();var t=Yi,s=Fo,a=di,l=i0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,Fo=Yi=null,_0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ki=null),os(a),s=s.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(ke,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=F.T,f=fe.p,fe.p=2,F.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var E=l[b];m(E.value,{componentStack:E.stack})}}finally{F.T=s,fe.p=f}}(di&3)!==0&&rh(),Mr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===nm?sc++:(sc=0,nm=t):sc=0,rc(0)}}function _0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Vl(s)))}function rh(){return y0(),v0(),b0(),w0()}function w0(){if(Dn!==5)return!1;var t=Yi,s=em;em=0;var a=os(di),l=F.T,f=fe.p;try{fe.p=32>a?32:a,F.T=null,a=tm,tm=null;var m=Yi,b=di;if(Dn=0,Fo=Yi=null,di=0,(Nt&6)!==0)throw Error(i(331));var E=Nt;if(Nt|=4,n0(m.current),Zv(m,m.current,b,a),Nt=E,rc(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(ke,m)}catch{}return!0}finally{fe.p=f,F.T=l,_0(t,s)}}function x0(t,s,a){s=Ws(a,s),s=Mf(t.stateNode,s,2),t=Fi(t,s,2),t!==null&&(Bs(t,2),Mr(t))}function Vt(t,s,a){if(t.tag===3)x0(t,t,a);else for(;s!==null;){if(s.tag===3){x0(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ki===null||!Ki.has(l))){t=Ws(a,t),a=Ev(2),l=Fi(s,a,2),l!==null&&(Tv(a,l,s,t),Bs(l,2),Mr(l));break}}s=s.return}}function im(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aE;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Xf=!0,f.add(a),t=hE.bind(null,t,s,a),s.then(t,t))}function hE(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(pt&a)===a&&(pn===4||pn===3&&(pt&62914560)===pt&&300>Ot()-Ju?(Nt&2)===0&&qo(t,0):Jf|=a,zo===pt&&(zo=0)),Mr(t)}function E0(t,s){s===0&&(s=$r()),t=Ua(t,s),t!==null&&(Bs(t,s),Mr(t))}function dE(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),E0(t,a)}function fE(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),E0(t,a)}function mE(t,s){return Ze(t,s)}var ih=null,Go=null,am=!1,ah=!1,om=!1,Xi=0;function Mr(t){t!==Go&&t.next===null&&(Go===null?ih=Go=t:Go=Go.next=t),ah=!0,am||(am=!0,gE())}function rc(t,s){if(!om&&ah){om=!0;do for(var a=!1,l=ih;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-He(42|t)+1)-1,m&=f&~(b&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,R0(l,m))}else m=pt,m=In(l,l===$t?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Zn(l,m)||(a=!0,R0(l,m));l=l.next}while(a);om=!1}}function pE(){T0()}function T0(){ah=am=!1;var t=0;Xi!==0&&kE()&&(t=Xi);for(var s=Ot(),a=null,l=ih;l!==null;){var f=l.next,m=S0(l,s);m===0?(l.next=null,a===null?ih=f:a.next=f,f===null&&(Go=a)):(a=l,(t!==0||(m&3)!==0)&&(ah=!0)),l=f}Dn!==0&&Dn!==5||rc(t),Xi!==0&&(Xi=0)}function S0(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-He(m),E=1<<b,M=f[b];M===-1?((E&a)===0||(E&l)!==0)&&(f[b]=sr(E,s)):M<=s&&(t.expiredLanes|=E),m&=~E}if(s=$t,a=pt,a=In(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Lt===2||Lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Gt(l),os(a)){case 2:case 8:a=Nn;break;case 32:a=le;break;case 268435456:a=_e;break;default:a=le}return l=k0.bind(null,t),a=Ze(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Gt(l),t.callbackPriority=2,t.callbackNode=null,2}function k0(t,s){if(Dn!==0&&Dn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rh()&&t.callbackNode!==a)return null;var l=pt;return l=In(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(o0(t,l,s),S0(t,Ot()),t.callbackNode!=null&&t.callbackNode===a?k0.bind(null,t):null)}function R0(t,s){if(rh())return null;o0(t,s,!0)}function gE(){AE(function(){(Nt&6)!==0?Ze(hn,pE):T0()})}function lm(){if(Xi===0){var t=No;t===0&&(t=dn,dn<<=1,(dn&261888)===0&&(dn=256)),Xi=t}return Xi}function A0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ni(""+t)}function C0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function yE(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=A0((f[fn]||null).action),b=l.submitter;b&&(s=(s=b[fn]||null)?A0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var E=new Rr("action","action",null,l,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xi!==0){var M=b?C0(f,b):new FormData(f);Af(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(E.preventDefault(),M=b?C0(f,b):new FormData(f),Af(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var cm=0;cm<Hd.length;cm++){var um=Hd[cm],vE=um.toLowerCase(),bE=um[0].toUpperCase()+um.slice(1);fr(vE,"on"+bE)}fr(ay,"onAnimationEnd"),fr(oy,"onAnimationIteration"),fr(ly,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(Px,"onTransitionRun"),fr(Ox,"onTransitionStart"),fr(Lx,"onTransitionCancel"),fr(cy,"onTransitionEnd"),Le("onMouseEnter",["mouseout","mouseover"]),Le("onMouseLeave",["mouseout","mouseover"]),Le("onPointerEnter",["pointerout","pointerover"]),Le("onPointerLeave",["pointerout","pointerover"]),ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function N0(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var E=l[b],M=E.instance,Y=E.currentTarget;if(E=E.listener,M!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=Y;try{m(f)}catch(se){wu(se)}f.currentTarget=null,m=M}else for(b=0;b<l.length;b++){if(E=l[b],M=E.instance,Y=E.currentTarget,E=E.listener,M!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=Y;try{m(f)}catch(se){wu(se)}f.currentTarget=null,m=M}}}}function dt(t,s){var a=s[ks];a===void 0&&(a=s[ks]=new Set);var l=t+"__bubble";a.has(l)||(I0(s,t,2,!1),a.add(l))}function hm(t,s,a){var l=0;s&&(l|=4),I0(a,t,l,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function dm(t){if(!t[oh]){t[oh]=!0,re.forEach(function(a){a!=="selectionchange"&&(_E.has(a)||hm(a,!1,t),hm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[oh]||(s[oh]=!0,hm("selectionchange",!1,s))}}function I0(t,s,a,l){switch(ab(s)){case 2:var f=KE;break;case 8:f=YE;break;default:f=Rm}a=f.bind(null,s,a,t),f=void 0,!Ia||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function fm(t,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=cs(E),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=m=b;continue e}E=E.parentNode}}l=l.return}ji(function(){var Y=m,se=Fs(a),ue=[];e:{var Q=uy.get(t);if(Q!==void 0){var te=Rr,Me=t;switch(t){case"keypress":if(Da(a)===0)break e;case"keydown":case"keyup":te=vu;break;case"focusin":Me="focus",te=Pa;break;case"focusout":Me="blur",te=Pa;break;case"beforeblur":case"afterblur":te=Pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=v;break;case ay:case oy:case ly:te=hu;break;case cy:te=R;break;case"scroll":case"scrollend":te=Cl;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Jr;break;case"toggle":case"beforetoggle":te=lt}var Ye=(s&4)!==0,qt=!Ye&&(t==="scroll"||t==="scrollend"),q=Ye?Q!==null?Q+"Capture":null:Q;Ye=[];for(var L=Y,K;L!==null;){var oe=L;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||q===null||(oe=cr(L,q),oe!=null&&Ye.push(ac(L,oe,K))),qt)break;L=L.return}0<Ye.length&&(Q=new te(Q,Me,null,a,se),ue.push({event:Q,listeners:Ye}))}}if((s&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",Q&&a!==kl&&(Me=a.relatedTarget||a.fromElement)&&(cs(Me)||Me[ys]))break e;if((te||Q)&&(Q=se.window===se?se:(Q=se.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(Me=a.relatedTarget||a.toElement,te=Y,Me=Me?cs(Me):null,Me!==null&&(qt=u(Me),Ye=Me.tag,Me!==qt||Ye!==5&&Ye!==27&&Ye!==6)&&(Me=null)):(te=null,Me=Y),te!==Me)){if(Ye=Nl,oe="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ye=Jr,oe="onPointerLeave",q="onPointerEnter",L="pointer"),qt=te==null?Q:qn(te),K=Me==null?Q:qn(Me),Q=new Ye(oe,L+"leave",te,a,se),Q.target=qt,Q.relatedTarget=K,oe=null,cs(se)===Y&&(Ye=new Ye(q,L+"enter",Me,a,se),Ye.target=K,Ye.relatedTarget=qt,oe=Ye),qt=oe,te&&Me)t:{for(Ye=wE,q=te,L=Me,K=0,oe=q;oe;oe=Ye(oe))K++;oe=0;for(var Ge=L;Ge;Ge=Ye(Ge))oe++;for(;0<K-oe;)q=Ye(q),K--;for(;0<oe-K;)L=Ye(L),oe--;for(;K--;){if(q===L||L!==null&&q===L.alternate){Ye=q;break t}q=Ye(q),L=Ye(L)}Ye=null}else Ye=null;te!==null&&j0(ue,Q,te,Ye,!1),Me!==null&&qt!==null&&j0(ue,qt,Me,Ye,!0)}}e:{if(Q=Y?qn(Y):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var Rt=Yg;else if($g(Q))if(Qg)Rt=jx;else{Rt=Nx;var Ve=Cx}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&ts(Y.elementType)&&(Rt=Yg):Rt=Ix;if(Rt&&(Rt=Rt(t,Y))){Kg(ue,Rt,a,se);break e}Ve&&Ve(t,Q,Y),t==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ci(Q,"number",Q.value)}switch(Ve=Y?qn(Y):window,t){case"focusin":($g(Ve)||Ve.contentEditable==="true")&&(xo=Ve,zd=Y,Pl=null);break;case"focusout":Pl=zd=xo=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,ry(ue,a,se);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":ry(ue,a,se)}var ut;if(Ct)e:{switch(t){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else wo?Oa(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(Nr&&a.locale!=="ko"&&(wo||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&wo&&(ut=Al()):(kr=se,Rl="value"in kr?kr.value:kr.textContent,wo=!0)),Ve=lh(Y,gt),0<Ve.length&&(gt=new Cr(gt,t,null,a,se),ue.push({event:gt,listeners:Ve}),ut?gt.data=ut:(ut=_o(a),ut!==null&&(gt.data=ut)))),(ut=Hs?Sx(t,a):kx(t,a))&&(gt=lh(Y,"onBeforeInput"),0<gt.length&&(Ve=new Cr("onBeforeInput","beforeinput",null,a,se),ue.push({event:Ve,listeners:gt}),Ve.data=ut)),yE(ue,t,Y,a,se)}N0(ue,s)})}function ac(t,s,a){return{instance:t,listener:s,currentTarget:a}}function lh(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=cr(t,a),f!=null&&l.unshift(ac(t,f,m)),f=cr(t,s),f!=null&&l.push(ac(t,f,m))),t.tag===3)return l;t=t.return}return[]}function wE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j0(t,s,a,l,f){for(var m=s._reactName,b=[];a!==null&&a!==l;){var E=a,M=E.alternate,Y=E.stateNode;if(E=E.tag,M!==null&&M===l)break;E!==5&&E!==26&&E!==27||Y===null||(M=Y,f?(Y=cr(a,m),Y!=null&&b.unshift(ac(a,Y,M))):f||(Y=cr(a,m),Y!=null&&b.push(ac(a,Y,M)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var xE=/\r\n?/g,EE=/\u0000|\uFFFD/g;function D0(t){return(typeof t=="string"?t:""+t).replace(xE,`
`).replace(EE,"")}function M0(t,s){return s=D0(s),D0(t)===s}function Ft(t,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&on(t,""+l);break;case"className":X(t,"class",l);break;case"tabIndex":X(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":X(t,a,l);break;case"style":Hn(t,l,m);break;case"data":if(s!=="object"){X(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ni(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Ft(t,s,"name",f.name,f,null),Ft(t,s,"formEncType",f.formEncType,f,null),Ft(t,s,"formMethod",f.formMethod,f,null),Ft(t,s,"formTarget",f.formTarget,f,null)):(Ft(t,s,"encType",f.encType,f,null),Ft(t,s,"method",f.method,f,null),Ft(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ni(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=us);break;case"onScroll":l!=null&&dt("scroll",t);break;case"onScrollEnd":l!=null&&dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":dt("beforetoggle",t),dt("toggle",t),ee(t,"popover",l);break;case"xlinkActuate":pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ee(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tr.get(a)||a,ee(t,a,l))}}function mm(t,s,a,l,f,m){switch(a){case"style":Hn(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&dt("scroll",t);break;case"onScrollEnd":l!=null&&dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ae.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[fn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ee(t,a,l)}}}function Yn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",t),dt("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ft(t,s,m,b,a,null)}}f&&Ft(t,s,"srcSet",a.srcSet,a,null),l&&Ft(t,s,"src",a.src,a,null);return;case"input":dt("invalid",t);var E=m=b=f=null,M=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var se=a[l];if(se!=null)switch(l){case"name":f=se;break;case"type":b=se;break;case"checked":M=se;break;case"defaultChecked":Y=se;break;case"value":m=se;break;case"defaultValue":E=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:Ft(t,s,l,se,a,null)}}Ca(t,m,E,M,Y,b,f,!1);return;case"select":dt("invalid",t),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:Ft(t,s,f,E,a,null)}s=m,a=b,t.multiple=!!l,s!=null?ir(t,!!l,s,!1):a!=null&&ir(t,!!l,a,!0);return;case"textarea":dt("invalid",t),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ft(t,s,b,E,a,null)}an(t,l,f,m);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ft(t,s,M,l,a,null));return;case"dialog":dt("beforetoggle",t),dt("toggle",t),dt("cancel",t),dt("close",t);break;case"iframe":case"object":dt("load",t);break;case"video":case"audio":for(l=0;l<ic.length;l++)dt(ic[l],t);break;case"image":dt("error",t),dt("load",t);break;case"details":dt("toggle",t);break;case"embed":case"source":case"link":dt("error",t),dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ft(t,s,Y,l,a,null)}return;default:if(ts(s)){for(se in a)a.hasOwnProperty(se)&&(l=a[se],l!==void 0&&mm(t,s,se,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,s,E,l,a,null))}function TE(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,E=null,M=null,Y=null,se=null;for(te in a){var ue=a[te];if(a.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":M=ue;default:l.hasOwnProperty(te)||Ft(t,s,te,null,l,ue)}}for(var Q in l){var te=l[Q];if(ue=a[Q],l.hasOwnProperty(Q)&&(te!=null||ue!=null))switch(Q){case"type":m=te;break;case"name":f=te;break;case"checked":Y=te;break;case"defaultChecked":se=te;break;case"value":b=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==ue&&Ft(t,s,Q,te,l,ue)}}Ai(t,b,E,M,Y,se,m,f);return;case"select":te=b=E=Q=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":te=M;default:l.hasOwnProperty(m)||Ft(t,s,m,null,l,M)}for(f in l)if(m=l[f],M=a[f],l.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":Q=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==M&&Ft(t,s,f,m,l,M)}s=E,a=b,l=te,Q!=null?ir(t,!!a,Q,!1):!!l!=!!a&&(s!=null?ir(t,!!a,s,!0):ir(t,!!a,a?[]:"",!1));return;case"textarea":te=Q=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,s,E,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":Q=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Ft(t,s,b,f,l,m)}St(t,Q,te);return;case"option":for(var Me in a)Q=a[Me],a.hasOwnProperty(Me)&&Q!=null&&!l.hasOwnProperty(Me)&&(Me==="selected"?t.selected=!1:Ft(t,s,Me,null,l,Q));for(M in l)Q=l[M],te=a[M],l.hasOwnProperty(M)&&Q!==te&&(Q!=null||te!=null)&&(M==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":Ft(t,s,M,Q,l,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)Q=a[Ye],a.hasOwnProperty(Ye)&&Q!=null&&!l.hasOwnProperty(Ye)&&Ft(t,s,Ye,null,l,Q);for(Y in l)if(Q=l[Y],te=a[Y],l.hasOwnProperty(Y)&&Q!==te&&(Q!=null||te!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Ft(t,s,Y,Q,l,te)}return;default:if(ts(s)){for(var qt in a)Q=a[qt],a.hasOwnProperty(qt)&&Q!==void 0&&!l.hasOwnProperty(qt)&&mm(t,s,qt,void 0,l,Q);for(se in l)Q=l[se],te=a[se],!l.hasOwnProperty(se)||Q===te||Q===void 0&&te===void 0||mm(t,s,se,Q,l,te);return}}for(var q in a)Q=a[q],a.hasOwnProperty(q)&&Q!=null&&!l.hasOwnProperty(q)&&Ft(t,s,q,null,l,Q);for(ue in l)Q=l[ue],te=a[ue],!l.hasOwnProperty(ue)||Q===te||Q==null&&te==null||Ft(t,s,ue,Q,l,te)}function P0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,b=f.initiatorType,E=f.duration;if(m&&E&&P0(b)){for(b=0,E=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],Y=M.startTime;if(Y>E)break;var se=M.transferSize,ue=M.initiatorType;se&&P0(ue)&&(M=M.responseEnd,b+=se*(M<E?1:(E-Y)/(M-Y)))}if(--l,s+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function ch(t){return t.nodeType===9?t:t.ownerDocument}function O0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function ym(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vm=null;function kE(){var t=window.event;return t&&t.type==="popstate"?t===vm?!1:(vm=t,!0):(vm=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,AE=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(t){return U0.resolve(null).then(t).catch(CE)}:V0;function CE(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function B0(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Yo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oc(a);for(var m=a.firstChild;m;){var b=m.nextSibling,E=m.nodeName;m[vs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&oc(t.ownerDocument.body);a=f}while(a);Yo(s)}function z0(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NE(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xs(t.nextSibling),t===null)break}return null}function IE(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xs(t.nextSibling),t===null))return null;return t}function F0(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xs(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jE(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var xm=null;function q0(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Xs(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function H0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function G0(t,s,a){switch(s=ch(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function oc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Rs(t)}var Js=new Map,W0=new Set;function uh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fi=fe.d;fe.d={f:DE,r:ME,D:PE,C:OE,L:LE,m:VE,X:BE,S:UE,M:zE};function DE(){var t=fi.f(),s=th();return t||s}function ME(t){var s=jn(t);s!==null&&s.tag===5&&s.type==="form"?cv(s):fi.r(t)}var Wo=typeof document>"u"?null:document;function $0(t,s,a){var l=Wo;if(l&&typeof s=="string"&&s){var f=Qt(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),W0.has(f)||(W0.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Yn(s,"link",t),U(s),l.head.appendChild(s)))}}function PE(t){fi.D(t),$0("dns-prefetch",t,null)}function OE(t,s){fi.C(t,s),$0("preconnect",t,s)}function LE(t,s,a){fi.L(t,s,a);var l=Wo;if(l&&t&&s){var f='link[rel="preload"][as="'+Qt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Qt(a.imageSizes)+'"]')):f+='[href="'+Qt(t)+'"]';var m=f;switch(s){case"style":m=$o(t);break;case"script":m=Ko(t)}Js.has(m)||(t=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Js.set(m,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(lc(m))||s==="script"&&l.querySelector(cc(m))||(s=l.createElement("link"),Yn(s,"link",t),U(s),l.head.appendChild(s)))}}function VE(t,s){fi.m(t,s);var a=Wo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ko(t)}if(!Js.has(m)&&(t=x({rel:"modulepreload",href:t},s),Js.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cc(m)))return}l=a.createElement("link"),Yn(l,"link",t),U(l),a.head.appendChild(l)}}}function UE(t,s,a){fi.S(t,s,a);var l=Wo;if(l&&t){var f=C(l).hoistableStyles,m=$o(t);s=s||"default";var b=f.get(m);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(lc(m)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Js.get(m))&&Em(t,a);var M=b=l.createElement("link");U(M),Yn(M,"link",t),M._p=new Promise(function(Y,se){M.onload=Y,M.onerror=se}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hh(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(m,b)}}}function BE(t,s){fi.X(t,s);var a=Wo;if(a&&t){var l=C(a).hoistableScripts,f=Ko(t),m=l.get(f);m||(m=a.querySelector(cc(f)),m||(t=x({src:t,async:!0},s),(s=Js.get(f))&&Tm(t,s),m=a.createElement("script"),U(m),Yn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function zE(t,s){fi.M(t,s);var a=Wo;if(a&&t){var l=C(a).hoistableScripts,f=Ko(t),m=l.get(f);m||(m=a.querySelector(cc(f)),m||(t=x({src:t,async:!0,type:"module"},s),(s=Js.get(f))&&Tm(t,s),m=a.createElement("script"),U(m),Yn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function K0(t,s,a,l){var f=(f=Se.current)?uh(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=$o(a.href),a=C(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$o(a.href);var m=C(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(lc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Js.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Js.set(t,a),m||FE(f,t,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(a),a=C(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function $o(t){return'href="'+Qt(t)+'"'}function lc(t){return'link[rel="stylesheet"]['+t+"]"}function Y0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function FE(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Yn(s,"link",a),U(s),t.head.appendChild(s))}function Ko(t){return'[src="'+Qt(t)+'"]'}function cc(t){return"script[async]"+t}function Q0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Qt(a.href)+'"]');if(l)return s.instance=l,U(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),U(l),Yn(l,"style",f),hh(l,a.precedence,t),s.instance=l;case"stylesheet":f=$o(a.href);var m=t.querySelector(lc(f));if(m)return s.state.loading|=4,s.instance=m,U(m),m;l=Y0(a),(f=Js.get(f))&&Em(l,f),m=(t.ownerDocument||t).createElement("link"),U(m);var b=m;return b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),Yn(m,"link",l),s.state.loading|=4,hh(m,a.precedence,t),s.instance=m;case"script":return m=Ko(a.src),(f=t.querySelector(cc(m)))?(s.instance=f,U(f),f):(l=a,(f=Js.get(m))&&(l=x({},a),Tm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),U(f),Yn(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hh(l,a.precedence,t));return s.instance}function hh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Em(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var dh=null;function X0(t,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[vs]||m[Zt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var E=l.get(b);E?E.push(m):l.set(b,[m])}}return l}function J0(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function qE(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function HE(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=$o(l.href),m=s.querySelector(lc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=fh.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,U(m);return}m=s.ownerDocument||s,l=Y0(l),(f=Js.get(f))&&Em(l,f),m=m.createElement("link"),U(m);var b=m;b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),Yn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fh.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sm=0;function GE(t,s){return t.stylesheets&&t.count===0&&ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Sm===0&&(Sm=62500*SE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mh=null;function ph(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mh=new Map,s.forEach(WE,t),mh=null,fh.call(t))}function WE(t,s){if(!(s.state.loading&4)){var a=mh.get(t);if(a)var l=a.get(null);else{a=new Map,mh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var uc={$$typeof:de,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function $E(t,s,a,l,f,m,b,E,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function eb(t,s,a,l,f,m,b,E,M,Y,se,ue){return t=new $E(t,s,a,b,M,Y,se,ue,E),s=1,m===!0&&(s|=24),m=Cs(3,null,null,s),t.current=m,m.stateNode=t,s=sf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},lf(m),t}function tb(t){return t?(t=So,t):So}function nb(t,s,a,l,f,m){f=tb(f),l.context===null?l.context=f:l.pendingContext=f,l=zi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Fi(t,l,s),a!==null&&(Es(a,t,s),Fl(a,t,s))}function sb(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function km(t,s){sb(t,s),(t=t.alternate)&&sb(t,s)}function rb(t){if(t.tag===13||t.tag===31){var s=Ua(t,67108864);s!==null&&Es(s,t,67108864),km(t,67108864)}}function ib(t){if(t.tag===13||t.tag===31){var s=Ms();s=rr(s);var a=Ua(t,s);a!==null&&Es(a,t,s),km(t,s)}}var gh=!0;function KE(t,s,a,l){var f=F.T;F.T=null;var m=fe.p;try{fe.p=2,Rm(t,s,a,l)}finally{fe.p=m,F.T=f}}function YE(t,s,a,l){var f=F.T;F.T=null;var m=fe.p;try{fe.p=8,Rm(t,s,a,l)}finally{fe.p=m,F.T=f}}function Rm(t,s,a,l){if(gh){var f=Am(l);if(f===null)fm(t,s,l,yh,a),ob(t,l);else if(XE(f,t,s,a,l))l.stopPropagation();else if(ob(t,l),s&4&&-1<QE.indexOf(t)){for(;f!==null;){var m=jn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Bn(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var M=1<<31-He(b);E.entanglements[1]|=M,b&=~M}Mr(m),(Nt&6)===0&&(Zu=Ot()+500,rc(0))}}break;case 31:case 13:E=Ua(m,2),E!==null&&Es(E,m,2),th(),km(m,2)}if(m=Am(l),m===null&&fm(t,s,l,yh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else fm(t,s,l,null,a)}}function Am(t){return t=Fs(t),Cm(t)}var yh=null;function Cm(t){if(yh=null,t=cs(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return yh=t,null}function ab(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pn()){case hn:return 2;case Nn:return 8;case le:case ge:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Nm=!1,Zi=null,ea=null,ta=null,hc=new Map,dc=new Map,na=[],QE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ob(t,s){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":hc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(t,s,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=jn(s),s!==null&&rb(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function XE(t,s,a,l,f){switch(s){case"focusin":return Zi=fc(Zi,t,s,a,l,f),!0;case"dragenter":return ea=fc(ea,t,s,a,l,f),!0;case"mouseover":return ta=fc(ta,t,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return hc.set(m,fc(hc.get(m)||null,t,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,dc.set(m,fc(dc.get(m)||null,t,s,a,l,f)),!0}return!1}function lb(t){var s=cs(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,zn(t.priority,function(){ib(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,zn(t.priority,function(){ib(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kl=l,a.target.dispatchEvent(l),kl=null}else return s=jn(a),s!==null&&rb(s),t.blockedOn=a,!1;s.shift()}return!0}function cb(t,s,a){vh(t)&&a.delete(s)}function JE(){Nm=!1,Zi!==null&&vh(Zi)&&(Zi=null),ea!==null&&vh(ea)&&(ea=null),ta!==null&&vh(ta)&&(ta=null),hc.forEach(cb),dc.forEach(cb)}function bh(t,s){t.blockedOn===s&&(t.blockedOn=null,Nm||(Nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JE)))}var _h=null;function ub(t){_h!==t&&(_h=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var m=jn(a);m!==null&&(t.splice(s,3),s-=3,Af(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Yo(t){function s(M){return bh(M,t)}Zi!==null&&bh(Zi,t),ea!==null&&bh(ea,t),ta!==null&&bh(ta,t),hc.forEach(s),dc.forEach(s);for(var a=0;a<na.length;a++){var l=na[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<na.length&&(a=na[0],a.blockedOn===null);)lb(a),a.blockedOn===null&&na.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[fn]||null;if(typeof m=="function")b||ub(a);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[fn]||null)E=b.formAction;else if(Cm(f)!==null)continue}else E=b.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ub(a)}}}function hb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Im(t){this._internalRoot=t}wh.prototype.render=Im.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Ms();nb(a,l,t,s,null,null)},wh.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;nb(t.current,2,null,t,null,null),th(),s[ys]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Er();t={blockedOn:null,target:t,priority:s};for(var a=0;a<na.length&&s!==0&&s<na[a].priority;a++);na.splice(a,0,t),a===0&&lb(t)}};var db=e.version;if(db!=="19.2.4")throw Error(i(527,db,"19.2.4"));fe.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var ZE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ke=xh.inject(ZE),Pe=xh}catch{}}return pc.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",f=bv,m=_v,b=wv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=eb(t,1,!1,null,null,a,l,null,f,m,b,hb),t[ys]=s.current,dm(t),new Im(s)},pc.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=bv,b=_v,E=wv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=eb(t,1,!0,s,a??null,l,f,M,m,b,E,hb),s.context=tb(null),a=s.current,l=Ms(),l=rr(l),f=zi(l),f.callback=null,Fi(a,f,l),a=l,s.current.lanes=a,Bs(s,a),Mr(s),t[ys]=s.current,dm(t),new wh(s)},pc.version="19.2.4",pc}var xb;function cT(){if(xb)return Mm.exports;xb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=lT(),Mm.exports}var uT=cT();const hT="modulepreload",dT=function(r){return"/login/"+r},Eb={},Ls=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=g(n.map(y=>{if(y=dT(y),y in Eb)return;Eb[y]=!0;const w=y.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":hT,w||(T.as="script"),T.crossOrigin="",T.href=y,p&&T.setAttribute("nonce",p),document.head.appendChild(T),w)return new Promise((O,H)=>{T.addEventListener("load",O),T.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})};var Tb="popstate";function fT(r={}){function e(i,o){let{pathname:u,search:d,hash:p}=i.location;return cp("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Pc(o)}return pT(e,n,null,r)}function sn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mT(){return Math.random().toString(36).substring(2,10)}function Sb(r,e){return{usr:r.state,key:r.key,idx:e}}function cp(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||i||mT()}}function Pc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function pl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function pT(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,p="POP",g=null,y=w();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function w(){return(d.state||{idx:null}).idx}function x(){p="POP";let z=w(),ie=z==null?null:z-y;y=z,g&&g({action:p,location:W.location,delta:ie})}function T(z,ie){p="PUSH";let Z=cp(W.location,z,ie);y=w()+1;let de=Sb(Z,y),xe=W.createHref(Z);try{d.pushState(de,"",xe)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(xe)}u&&g&&g({action:p,location:W.location,delta:1})}function O(z,ie){p="REPLACE";let Z=cp(W.location,z,ie);y=w();let de=Sb(Z,y),xe=W.createHref(Z);d.replaceState(de,"",xe),u&&g&&g({action:p,location:W.location,delta:0})}function H(z){return gT(z)}let W={get action(){return p},get location(){return r(o,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Tb,x),g=z,()=>{o.removeEventListener(Tb,x),g=null}},createHref(z){return e(o,z)},createURL:H,encodeLocation(z){let ie=H(z);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:T,replace:O,go(z){return d.go(z)}};return W}function gT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Pc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function p1(r,e,n="/"){return yT(r,e,n,!1)}function yT(r,e,n,i){let o=typeof e=="string"?pl(e):e,u=bi(o.pathname||"/",n);if(u==null)return null;let d=g1(r);vT(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=CT(u);p=RT(d[g],y,i)}return p}function g1(r,e=[],n=[],i="",o=!1){let u=(d,p,g=o,y)=>{let w={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&g)return;sn(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let x=gi([i,w.relativePath]),T=n.concat(w);d.children&&d.children.length>0&&(sn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),g1(d.children,e,T,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:ST(x,d.index),routesMeta:T})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of y1(d.path))u(d,p,!0,g)}),e}function y1(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=y1(i.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function vT(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:kT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var bT=/^:[\w-]+$/,_T=3,wT=2,xT=1,ET=10,TT=-2,kb=r=>r==="*";function ST(r,e){let n=r.split("/"),i=n.length;return n.some(kb)&&(i+=TT),e&&(i+=wT),n.filter(o=>!kb(o)).reduce((o,u)=>o+(bT.test(u)?_T:u===""?xT:ET),i)}function kT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function RT(r,e,n=!1){let{routesMeta:i}=r,o={},u="/",d=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,w=u==="/"?e:e.slice(u.length)||"/",x=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),T=g.route;if(!x&&y&&n&&!i[i.length-1].route.index&&(x=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:gi([u,x.pathname]),pathnameBase:DT(gi([u,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(u=gi([u,x.pathnameBase]))}return d}function $h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=AT(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:x},T)=>{if(w==="*"){let H=p[T]||"";d=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const O=p[T];return x&&!O?y[w]=void 0:y[w]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:r}}function AT(r,e=!1,n=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function CT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function IT(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?pl(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Rb(n.substring(1),"/"):u=Rb(n,e)):u=e,{pathname:u,search:MT(i),hash:PT(o)}}function Rb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(r){let e=jT(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Fp(r,e,n,i=!1){let o;typeof r=="string"?o=pl(r):(o={...r},sn(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),sn(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),sn(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!i&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),x-=1;o.pathname=T.join("/")}p=x>=0?e[x]:"/"}let g=IT(o,p),y=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),DT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,OT=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function LT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function VT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var v1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function b1(r,e){let n=r;if(typeof n!="string"||!NT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(v1)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=bi(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{tr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _1=["POST","PUT","PATCH","DELETE"];new Set(_1);var UT=["GET",..._1];new Set(UT);var gl=k.createContext(null);gl.displayName="DataRouter";var md=k.createContext(null);md.displayName="DataRouterState";var BT=k.createContext(!1),w1=k.createContext({isTransitioning:!1});w1.displayName="ViewTransition";var zT=k.createContext(new Map);zT.displayName="Fetchers";var FT=k.createContext(null);FT.displayName="Await";var Vs=k.createContext(null);Vs.displayName="Navigation";var Kc=k.createContext(null);Kc.displayName="Location";var Hr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var qp=k.createContext(null);qp.displayName="RouteError";var x1="REACT_ROUTER_ERROR",qT="REDIRECT",HT="ROUTE_ERROR_RESPONSE";function GT(r){if(r.startsWith(`${x1}:${qT}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WT(r){if(r.startsWith(`${x1}:${HT}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OT(e.status,e.statusText,e.data)}catch{}}function $T(r,{relative:e}={}){sn(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Vs),{hash:o,pathname:u,search:d}=Yc(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:gi([n,u])),i.createHref({pathname:p,search:d,hash:o})}function yl(){return k.useContext(Kc)!=null}function wr(){return sn(yl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Kc).location}var E1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(r){k.useContext(Vs).static||k.useLayoutEffect(r)}function nr(){let{isDataRoute:r}=k.useContext(Hr);return r?aS():KT()}function KT(){sn(yl(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(gl),{basename:e,navigator:n}=k.useContext(Vs),{matches:i}=k.useContext(Hr),{pathname:o}=wr(),u=JSON.stringify(zp(i)),d=k.useRef(!1);return T1(()=>{d.current=!0}),k.useCallback((g,y={})=>{if(tr(d.current,E1),!d.current)return;if(typeof g=="number"){n.go(g);return}let w=Fp(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:gi([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,u,o,r])}k.createContext(null);function Yc(r,{relative:e}={}){let{matches:n}=k.useContext(Hr),{pathname:i}=wr(),o=JSON.stringify(zp(n));return k.useMemo(()=>Fp(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function YT(r,e){return S1(r,e)}function S1(r,e,n,i,o){sn(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Vs),{matches:d}=k.useContext(Hr),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",x=p&&p.route;{let Z=x&&x.path||"";R1(y,!x||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=wr(),O;if(e){let Z=typeof e=="string"?pl(e):e;sn(w==="/"||Z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),O=Z}else O=T;let H=O.pathname||"/",W=H;if(w!=="/"){let Z=w.replace(/^\//,"").split("/");W="/"+H.replace(/^\//,"").split("/").slice(Z.length).join("/")}let z=p1(r,{pathname:W});tr(x||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),tr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=eS(z&&z.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:gi([w,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?w:gi([w,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),d,n,i,o);return e&&ie?k.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ie):ie}function QT(){let r=iS(),e=LT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,d)}var XT=k.createElement(QT,null),k1=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=WT(r.digest);n&&(r=n)}let e=r!==void 0?k.createElement(Hr.Provider,{value:this.props.routeContext},k.createElement(qp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(JT,{error:r},e):e}};k1.contextType=BT;var Um=new WeakMap;function JT({children:r,error:e}){let{basename:n}=k.useContext(Vs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=GT(e.digest);if(i){let o=Um.get(e);if(o)throw o;let u=b1(i.location,n);if(v1&&!Um.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Um.set(e,d),d}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function ZT({routeContext:r,match:e,children:n}){let i=k.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Hr.Provider,{value:r},n)}function eS(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=n?.errors;if(d!=null){let w=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);sn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,g=-1;if(n)for(let w=0;w<u.length;w++){let x=u[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=w),x.route.id){let{loaderData:T,errors:O}=n,H=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!O||O[x.route.id]===void 0);if(x.route.lazy||H){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(w,x)=>{i(w,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VT(n.matches),errorInfo:x})}:void 0;return u.reduceRight((w,x,T)=>{let O,H=!1,W=null,z=null;n&&(O=d&&x.route.id?d[x.route.id]:void 0,W=x.route.errorElement||XT,p&&(g<0&&T===0?(R1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,z=null):g===T&&(H=!0,z=x.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,T+1)),Z=()=>{let de;return O?de=W:H?de=z:x.route.Component?de=k.createElement(x.route.Component,null):x.route.element?de=x.route.element:de=w,k.createElement(ZT,{match:x,routeContext:{outlet:w,matches:ie,isDataRoute:n!=null},children:de})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?k.createElement(k1,{location:n.location,revalidation:n.revalidation,component:W,error:O,children:Z(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):Z()},null)}function Hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(r){let e=k.useContext(gl);return sn(e,Hp(r)),e}function nS(r){let e=k.useContext(md);return sn(e,Hp(r)),e}function sS(r){let e=k.useContext(Hr);return sn(e,Hp(r)),e}function Gp(r){let e=sS(r),n=e.matches[e.matches.length-1];return sn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function rS(){return Gp("useRouteId")}function iS(){let r=k.useContext(qp),e=nS("useRouteError"),n=Gp("useRouteError");return r!==void 0?r:e.errors?.[n]}function aS(){let{router:r}=tS("useNavigate"),e=Gp("useNavigate"),n=k.useRef(!1);return T1(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{tr(n.current,E1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ab={};function R1(r,e,n){!e&&!Ab[r]&&(Ab[r]=!0,tr(!1,n))}k.memo(oS);function oS({routes:r,future:e,state:n,onError:i}){return S1(r,void 0,n,i,e)}function lS({to:r,replace:e,state:n,relative:i}){sn(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Vs);tr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(Hr),{pathname:d}=wr(),p=nr(),g=Fp(r,zp(u),d,i==="path"),y=JSON.stringify(g);return k.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function bn(r){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cS({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){sn(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=pl(n));let{pathname:y="/",search:w="",hash:x="",state:T=null,key:O="default"}=n,H=k.useMemo(()=>{let W=bi(y,p);return W==null?null:{location:{pathname:W,search:w,hash:x,state:T,key:O},navigationType:i}},[p,y,w,x,T,O,i]);return tr(H!=null,`<Router basename="${p}"> is not able to match the URL "${y}${w}${x}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:k.createElement(Vs.Provider,{value:g},k.createElement(Kc.Provider,{children:e,value:H}))}function uS({children:r,location:e}){return YT(up(r),e)}function up(r,e=[]){let n=[];return k.Children.forEach(r,(i,o)=>{if(!k.isValidElement(i))return;let u=[...e,o];if(i.type===k.Fragment){n.push.apply(n,up(i.props.children,u));return}sn(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=up(i.props.children,u)),n.push(d)}),n}var Mh="get",Ph="application/x-www-form-urlencoded";function pd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function hS(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function dS(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function fS(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function mS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pS(r,e){return r.button===0&&(!e||e==="_self")&&!mS(r)}function hp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let i=r[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function gS(r,e){let n=hp(r);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Eh=null;function yS(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var vS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!vS.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):r}function bS(r,e){let n,i,o,u,d;if(dS(r)){let p=r.getAttribute("action");i=p?bi(p,e):null,n=r.getAttribute("method")||Mh,o=Bm(r.getAttribute("enctype"))||Ph,u=new FormData(r)}else if(hS(r)||fS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?bi(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Mh,o=Bm(r.getAttribute("formenctype"))||Bm(p.getAttribute("enctype"))||Ph,u=new FormData(p,r),!yS()){let{name:y,type:w,value:x}=r;if(w==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,x)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,i=null,o=Ph,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _S(r,e,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&bi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function wS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ES(r,e,n){let i=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await wS(u,n);return d.links?d.links():[]}return[]}));return RS(i.flat(1).filter(xS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Cb(r,e,n,i,o,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let w=i.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function TS(r,e,{includeHydrateFallback:n}={}){return SS(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SS(r){return[...new Set(r)]}function kS(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function RS(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let u=JSON.stringify(kS(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function A1(){let r=k.useContext(gl);return Wp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AS(){let r=k.useContext(md);return Wp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $p=k.createContext(void 0);$p.displayName="FrameworkContext";function C1(){let r=k.useContext($p);return Wp(r,"You must render this element inside a <HydratedRouter> element"),r}function CS(r,e){let n=k.useContext($p),[i,o]=k.useState(!1),[u,d]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:x}=e,T=k.useRef(null);k.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let W=ie=>{ie.forEach(Z=>{d(Z.isIntersecting)})},z=new IntersectionObserver(W,{threshold:.5});return T.current&&z.observe(T.current),()=>{z.disconnect()}}},[r]),k.useEffect(()=>{if(i){let W=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(W)}}},[i]);let O=()=>{o(!0)},H=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:gc(p,O),onBlur:gc(g,H),onMouseEnter:gc(y,O),onMouseLeave:gc(w,H),onTouchStart:gc(x,O)}]:[!1,T,{}]}function gc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function NS({page:r,...e}){let{router:n}=A1(),i=k.useMemo(()=>p1(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?k.createElement(jS,{page:r,matches:i,...e}):null}function IS(r){let{manifest:e,routeModules:n}=C1(),[i,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return ES(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),i}function jS({page:r,matches:e,...n}){let i=wr(),{future:o,manifest:u,routeModules:d}=C1(),{basename:p}=A1(),{loaderData:g,matches:y}=AS(),w=k.useMemo(()=>Cb(r,e,y,u,i,"data"),[r,e,y,u,i]),x=k.useMemo(()=>Cb(r,e,y,u,i,"assets"),[r,e,y,u,i]),T=k.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let W=new Set,z=!1;if(e.forEach(Z=>{let de=u.routes[Z.route.id];!de||!de.hasLoader||(!w.some(xe=>xe.route.id===Z.route.id)&&Z.route.id in g&&d[Z.route.id]?.shouldRevalidate||de.hasClientLoader?z=!0:W.add(Z.route.id))}),W.size===0)return[];let ie=_S(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return z&&W.size>0&&ie.searchParams.set("_routes",e.filter(Z=>W.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[ie.pathname+ie.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,u,w,e,r,d]),O=k.useMemo(()=>TS(x,u),[x,u]),H=IS(x);return k.createElement(k.Fragment,null,T.map(W=>k.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...n})),O.map(W=>k.createElement("link",{key:W,rel:"modulepreload",href:W,...n})),H.map(({key:W,link:z})=>k.createElement("link",{key:W,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function DS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.13.0")}catch{}function PS({basename:r,children:e,unstable_useTransitions:n,window:i}){let o=k.useRef();o.current==null&&(o.current=fT({window:i,v5Compat:!0}));let u=o.current,[d,p]=k.useState({action:u.action,location:u.location}),g=k.useCallback(y=>{n===!1?p(y):k.startTransition(()=>p(y))},[n]);return k.useLayoutEffect(()=>u.listen(g),[u,g]),k.createElement(cS,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T,...O},H){let{basename:W,unstable_useTransitions:z}=k.useContext(Vs),ie=typeof y=="string"&&N1.test(y),Z=b1(y,W);y=Z.to;let de=$T(y,{relative:o}),[xe,Ie,Ae]=CS(i,O),N=US(y,{replace:d,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:z});function S(I){e&&e(I),I.defaultPrevented||N(I)}let A=k.createElement("a",{...O,...Ae,href:Z.absoluteURL||de,onClick:Z.isExternal||u?e:S,ref:DS(H,Ie),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return xe&&!ie?k.createElement(k.Fragment,null,A,k.createElement(NS,{page:de})):A});I1.displayName="Link";var OS=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:p,children:g,...y},w){let x=Yc(d,{relative:y.relative}),T=wr(),O=k.useContext(md),{navigator:H,basename:W}=k.useContext(Vs),z=O!=null&&HS(x)&&p===!0,ie=H.encodeLocation?H.encodeLocation(x).pathname:x.pathname,Z=T.pathname,de=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),de=de?de.toLowerCase():null,ie=ie.toLowerCase()),de&&W&&(de=bi(de,W)||de);const xe=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Ie=Z===ie||!o&&Z.startsWith(ie)&&Z.charAt(xe)==="/",Ae=de!=null&&(de===ie||!o&&de.startsWith(ie)&&de.charAt(ie.length)==="/"),N={isActive:Ie,isPending:Ae,isTransitioning:z},S=Ie?e:void 0,A;typeof i=="function"?A=i(N):A=[i,Ie?"active":null,Ae?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return k.createElement(I1,{...y,"aria-current":S,className:A,ref:w,style:I,to:d,viewTransition:p},typeof g=="function"?g(N):g)});OS.displayName="NavLink";var LS=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:d=Mh,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T,...O},H)=>{let{unstable_useTransitions:W}=k.useContext(Vs),z=FS(),ie=qS(p,{relative:y}),Z=d.toLowerCase()==="get"?"get":"post",de=typeof p=="string"&&N1.test(p),xe=Ie=>{if(g&&g(Ie),Ie.defaultPrevented)return;Ie.preventDefault();let Ae=Ie.nativeEvent.submitter,N=Ae?.getAttribute("formmethod")||d,S=()=>z(Ae||Ie.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T});W&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:H,method:Z,action:ie,onSubmit:i?g:xe,...O,"data-discover":!de&&r==="render"?"true":void 0})});LS.displayName="Form";function VS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(r){let e=k.useContext(gl);return sn(e,VS(r)),e}function US(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=nr(),w=wr(),x=Yc(r,{relative:u});return k.useCallback(T=>{if(pS(T,e)){T.preventDefault();let O=n!==void 0?n:Pc(w)===Pc(x),H=()=>y(r,{replace:O,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});g?k.startTransition(()=>H()):H()}},[w,y,x,n,i,e,r,o,u,d,p,g])}function m3(r){tr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(hp(r)),n=k.useRef(!1),i=wr(),o=k.useMemo(()=>gS(i.search,n.current?null:e.current),[i.search]),u=nr(),d=k.useCallback((p,g)=>{const y=hp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+y,g)},[u,o]);return[o,d]}var BS=0,zS=()=>`__${String(++BS)}__`;function FS(){let{router:r}=j1("useSubmit"),{basename:e}=k.useContext(Vs),n=rS(),i=r.fetch,o=r.navigate;return k.useCallback(async(u,d={})=>{let{action:p,method:g,encType:y,formData:w,body:x}=bS(u,e);if(d.navigate===!1){let T=d.fetcherKey||zS();await i(T,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:x,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:x,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,e,n])}function qS(r,{relative:e}={}){let{basename:n}=k.useContext(Vs),i=k.useContext(Hr);sn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Yc(r||".",{relative:e})},d=wr();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let w=p.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),Pc(u)}function HS(r,{relative:e}={}){let n=k.useContext(w1);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=j1("useViewTransitionState"),o=Yc(r,{relative:e});if(!n.isTransitioning)return!1;let u=bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $h(o.pathname,d)!=null||$h(o.pathname,u)!=null}const GS=()=>{};var Nb={};const D1=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},WS=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},M1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,x=(u&3)<<4|p>>4;let T=(p&15)<<2|y>>6,O=y&63;g||(O=64,d||(T=64)),i.push(n[w],n[x],n[T],n[O])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(D1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const x=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||x==null)throw new $S;const T=u<<2|p>>4;if(i.push(T),y!==64){const O=p<<4&240|y>>2;if(i.push(O),x!==64){const H=y<<6&192|x;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(r){const e=D1(r);return M1.encodeByteArray(e,!0)},Kh=function(r){return KS(r).replace(/\./g,"")},P1=function(r){try{return M1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QS=()=>YS().__FIREBASE_DEFAULTS__,XS=()=>{if(typeof process>"u"||typeof Nb>"u")return;const r=Nb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P1(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return GS()||QS()||XS()||JS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O1=r=>gd()?.emulatorHosts?.[r],L1=r=>{const e=O1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},V1=()=>gd()?.config,U1=r=>gd()?.[`_${r}`];class ZS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ta(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kp(r){return(await fetch(r,{credentials:"include"})).ok}function B1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(d)),""].join(".")}const Cc={};function ek(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?r.emulator.push(e):r.prod.push(e);return r}function tk(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Ib=!1;function Yp(r,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Cc[r]===e||Cc[r]||Ib)return;Cc[r]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",u=ek().prod.length>0;function d(){const T=document.getElementById(i);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,O){T.setAttribute("width","24"),T.setAttribute("id",O),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ib=!0,d()},T}function w(T,O){T.setAttribute("id",O),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=tk(i),O=n("text"),H=document.getElementById(O)||document.createElement("span"),W=n("learnmore"),z=document.getElementById(W)||document.createElement("a"),ie=n("preprendIcon"),Z=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const de=T.element;p(de),w(z,W);const xe=y();g(Z,ie),de.append(Z,H,z,xe),document.body.appendChild(de)}u?(H.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function as(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function sk(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ik(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ak(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ok(){const r=as();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lk(){return!sk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ck(){try{return typeof indexedDB=="object"}catch{return!1}}function uk(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const hk="FirebaseError";class Gr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=hk,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?dk(u,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Gr(o,p,i)}}function dk(r,e){return r.replace(fk,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const fk=/\{\$([^}]+)}/g;function mk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function no(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],d=e[o];if(jb(u)&&jb(d)){if(!no(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function jb(r){return r!==null&&typeof r=="object"}function Xc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function pk(r,e){const n=new gk(r,e);return n.subscribe.bind(n)}class gk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yk(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function zm(){}function ln(r){return r&&r._delegate?r._delegate:r}class ya{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";class vk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ZS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_k(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bk(r){return r===Ja?void 0:r}function _k(r){return r.instantiationMode==="EAGER"}class wk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(yt||(yt={}));const xk={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},Ek=yt.INFO,Tk={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},Sk=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=Tk[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=Ek,this._logHandler=Sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const kk=(r,e)=>e.some(n=>r instanceof n);let Db,Mb;function Rk(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return Mb||(Mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z1=new WeakMap,dp=new WeakMap,F1=new WeakMap,Fm=new WeakMap,Xp=new WeakMap;function Ck(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(da(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&z1.set(n,r)}).catch(()=>{}),Xp.set(e,r),e}function Nk(r){if(dp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});dp.set(r,e)}let fp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ik(r){fp=r(fp)}function jk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(qm(this),e,...n);return F1.set(i,e.sort?e.sort():[e]),da(i)}:Ak().includes(r)?function(...e){return r.apply(qm(this),e),da(z1.get(this))}:function(...e){return da(r.apply(qm(this),e))}}function Dk(r){return typeof r=="function"?jk(r):(r instanceof IDBTransaction&&Nk(r),kk(r,Rk())?new Proxy(r,fp):r)}function da(r){if(r instanceof IDBRequest)return Ck(r);if(Fm.has(r))return Fm.get(r);const e=Dk(r);return e!==r&&(Fm.set(r,e),Xp.set(e,r)),e}const qm=r=>Xp.get(r);function Mk(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=da(d);return i&&d.addEventListener("upgradeneeded",g=>{i(da(d.result),g.oldVersion,g.newVersion,da(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Pk=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],Hm=new Map;function Pb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Ok.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Pk.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Hm.set(e,u),u}Ik(r=>({...r,get:(e,n,i)=>Pb(e,n)||r.get(e,n,i),has:(e,n)=>!!Pb(e,n)||r.has(e,n)}));class Lk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Vk(r){return r.getComponent()?.type==="VERSION"}const mp="@firebase/app",Ob="0.14.7";const _i=new Qp("@firebase/app"),Uk="@firebase/app-compat",Bk="@firebase/analytics-compat",zk="@firebase/analytics",Fk="@firebase/app-check-compat",qk="@firebase/app-check",Hk="@firebase/auth",Gk="@firebase/auth-compat",Wk="@firebase/database",$k="@firebase/data-connect",Kk="@firebase/database-compat",Yk="@firebase/functions",Qk="@firebase/functions-compat",Xk="@firebase/installations",Jk="@firebase/installations-compat",Zk="@firebase/messaging",eR="@firebase/messaging-compat",tR="@firebase/performance",nR="@firebase/performance-compat",sR="@firebase/remote-config",rR="@firebase/remote-config-compat",iR="@firebase/storage",aR="@firebase/storage-compat",oR="@firebase/firestore",lR="@firebase/ai",cR="@firebase/firestore-compat",uR="firebase",hR="12.8.0";const pp="[DEFAULT]",dR={[mp]:"fire-core",[Uk]:"fire-core-compat",[zk]:"fire-analytics",[Bk]:"fire-analytics-compat",[qk]:"fire-app-check",[Fk]:"fire-app-check-compat",[Hk]:"fire-auth",[Gk]:"fire-auth-compat",[Wk]:"fire-rtdb",[$k]:"fire-data-connect",[Kk]:"fire-rtdb-compat",[Yk]:"fire-fn",[Qk]:"fire-fn-compat",[Xk]:"fire-iid",[Jk]:"fire-iid-compat",[Zk]:"fire-fcm",[eR]:"fire-fcm-compat",[tR]:"fire-perf",[nR]:"fire-perf-compat",[sR]:"fire-rc",[rR]:"fire-rc-compat",[iR]:"fire-gcs",[aR]:"fire-gcs-compat",[oR]:"fire-fst",[cR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};const Yh=new Map,fR=new Map,gp=new Map;function Lb(r,e){try{r.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(gp.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,r);for(const n of Yh.values())Lb(n,r);for(const n of fR.values())Lb(n,r);return!0}function yd(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ps(r){return r==null?!1:r.settings!==void 0}const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new Qc("app","Firebase",mR);class pR{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const uo=hR;function Jp(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:pp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(n||(n=V1()),!n)throw fa.create("no-options");const u=Yh.get(o);if(u){if(no(n,u.options)&&no(i,u.config))return u;throw fa.create("duplicate-app",{appName:o})}const d=new wk(o);for(const g of gp.values())d.addComponent(g);const p=new pR(n,i,d);return Yh.set(o,p),p}function Zp(r=pp){const e=Yh.get(r);if(!e&&r===pp&&V1())return Jp();if(!e)throw fa.create("no-app",{appName:r});return e}function Lr(r,e,n){let i=dR[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(d.join(" "));return}so(new ya(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gR="firebase-heartbeat-database",yR=1,Oc="firebase-heartbeat-store";let Gm=null;function q1(){return Gm||(Gm=Mk(gR,yR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(r=>{throw fa.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function vR(r){try{const n=(await q1()).transaction(Oc),i=await n.objectStore(Oc).get(H1(r));return await n.done,i}catch(e){if(e instanceof Gr)_i.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function Vb(r,e){try{const i=(await q1()).transaction(Oc,"readwrite");await i.objectStore(Oc).put(e,H1(r)),await i.done}catch(n){if(n instanceof Gr)_i.warn(n.message);else{const i=fa.create("idb-set",{originalErrorMessage:n?.message});_i.warn(i.message)}}}function H1(r){return`${r.name}!${r.options.appId}`}const bR=1024,_R=30;class wR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>_R){const o=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ub(),{heartbeatsToSend:n,unsentEntries:i}=xR(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function Ub(){return new Date().toISOString().substring(0,10)}function xR(r,e=bR){const n=[];let i=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Bb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ck()?uk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bb(r){return Kh(JSON.stringify({version:2,heartbeats:r})).length}function TR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function SR(r){so(new ya("platform-logger",e=>new Lk(e),"PRIVATE")),so(new ya("heartbeat",e=>new wR(e),"PRIVATE")),Lr(mp,Ob,r),Lr(mp,Ob,"esm2020"),Lr("fire-js","")}SR("");function G1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kR=G1,W1=new Qc("auth","Firebase",G1());const Qh=new Qp("@firebase/auth");function RR(r,...e){Qh.logLevel<=yt.WARN&&Qh.warn(`Auth (${uo}): ${r}`,...e)}function Oh(r,...e){Qh.logLevel<=yt.ERROR&&Qh.error(`Auth (${uo}): ${r}`,...e)}function vr(r,...e){throw eg(r,...e)}function Vr(r,...e){return eg(r,...e)}function $1(r,e,n){const i={...kR(),[e]:n};return new Qc("auth","Firebase",i).create(e,{appName:r.name})}function yi(r){return $1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return W1.create(r,...e)}function Qe(r,e,...n){if(!r)throw eg(e,...n)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oh(e),new Error(e)}function wi(r,e){r||mi(e)}function yp(){return typeof self<"u"&&self.location?.href||""}function AR(){return zb()==="http:"||zb()==="https:"}function zb(){return typeof self<"u"&&self.location?.protocol||null}function CR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||ik()||"connection"in navigator)?navigator.onLine:!0}function NR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=nk()||ak()}get(){return CR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(r,e){wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class K1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DR=new Jc(3e4,6e4);function Ti(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Si(r,e,n,i,o={}){return Y1(r,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const p=Xc({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return rk()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ta(r.emulatorConfig.host)&&(y.credentials="include"),K1.fetch()(await Q1(r,r.config.apiHost,n,p),y)})}async function Y1(r,e,n){r._canInitEmulator=!1;const i={...IR,...e};try{const o=new PR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Th(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Th(r,"user-disabled",d);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $1(r,w,y);vr(r,w)}}catch(o){if(o instanceof Gr)throw o;vr(r,"network-request-failed",{message:String(o)})}}async function Zc(r,e,n,i,o={}){const u=await Si(r,e,n,i,o);return"mfaPendingCredential"in u&&vr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Q1(r,e,n,i){const o=`${e}${n}?${i}`,u=r,d=u.config.emulator?tg(r.config,o):`${r.config.apiScheme}://${o}`;return jR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function MR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vr(this.auth,"network-request-failed")),DR.get())})}}function Th(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Vr(r,e,i);return o.customData._tokenResponse=n,o}function Fb(r){return r!==void 0&&r.enterprise!==void 0}class OR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LR(r,e){return Si(r,"GET","/v2/recaptchaConfig",Ti(r,e))}async function VR(r,e){return Si(r,"POST","/v1/accounts:delete",e)}async function Xh(r,e){return Si(r,"POST","/v1/accounts:lookup",e)}function Nc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(r,e=!1){const n=ln(r),i=await n.getIdToken(e),o=ng(i);Qe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Nc(Wm(o.auth_time)),issuedAtTime:Nc(Wm(o.iat)),expirationTime:Nc(Wm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wm(r){return Number(r)*1e3}function ng(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=P1(n);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qb(r){const e=ng(r);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gr&&BR(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function BR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jh(r){const e=r.auth,n=await r.getIdToken(),i=await Lc(r,Xh(e,{idToken:n}));Qe(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?X1(o.providerUserInfo):[],d=qR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!d?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function FR(r){const e=ln(r);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qR(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function X1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HR(r,e){const n=await Y1(r,{},async()=>{const i=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await Q1(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&Ta(r.emulatorConfig.host)&&(g.credentials="include"),K1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GR(r,e){return Si(r,"POST","/v2/accounts:revokeToken",Ti(r,e))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=qb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await HR(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new nl;return i&&(Qe(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Qe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Qe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return mi("not implemented")}}function ra(r,e){Qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gr{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UR(this,e)}reload(){return FR(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Lc(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:O,providerData:H,stsTokenManager:W}=n;Qe(x&&W,e,"internal-error");const z=nl.fromJSON(this.name,W);Qe(typeof x=="string",e,"internal-error"),ra(i,e.name),ra(o,e.name),Qe(typeof T=="boolean",e,"internal-error"),Qe(typeof O=="boolean",e,"internal-error"),ra(u,e.name),ra(d,e.name),ra(p,e.name),ra(g,e.name),ra(y,e.name),ra(w,e.name);const ie=new gr({uid:x,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:O,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:y,lastLoginAt:w});return H&&Array.isArray(H)&&(ie.providerData=H.map(Z=>({...Z}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,i=!1){const o=new nl;o.updateFromServerResponse(n);const u=new gr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Qe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?X1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new nl;p.updateFromIdToken(i);const g=new gr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Hb=new Map;function pi(r){wi(r instanceof Function,"Expected a class definition");let e=Hb.get(r);return e?(wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Hb.set(r,e),e)}class J1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J1.type="NONE";const Gb=J1;function Lh(r,e,n){return`firebase:${r}:${e}:${n}`}class sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sl(pi(Gb),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||pi(Gb);const d=Lh(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const w=await y._get(d);if(w){let x;if(typeof w=="string"){const T=await Xh(e,{idToken:w}).catch(()=>{});if(!T)break;x=await gr._fromGetAccountInfoResponse(e,T,w)}else x=gr._fromJSON(e,w);y!==u&&(p=x),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new sl(u,e,i):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new sl(u,e,i))}}function Wb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rw(e))return"Blackberry";if(iw(e))return"Webos";if(ew(e))return"Safari";if((e.includes("chrome/")||tw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function Z1(r=as()){return/firefox\//i.test(r)}function ew(r=as()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tw(r=as()){return/crios\//i.test(r)}function nw(r=as()){return/iemobile/i.test(r)}function sw(r=as()){return/android/i.test(r)}function rw(r=as()){return/blackberry/i.test(r)}function iw(r=as()){return/webos/i.test(r)}function sg(r=as()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WR(r=as()){return sg(r)&&!!window.navigator?.standalone}function $R(){return ok()&&document.documentMode===10}function aw(r=as()){return sg(r)||sw(r)||iw(r)||rw(r)||/windows phone/i.test(r)||nw(r)}function ow(r,e=[]){let n;switch(r){case"Browser":n=Wb(as());break;case"Worker":n=`${Wb(as())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${i}`}class KR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function YR(r,e={}){return Si(r,"GET","/v2/passwordPolicy",Ti(r,e))}const QR=6;class XR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class JR{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $b(this),this.idTokenSubscription=new $b(this),this.beforeStateQueue=new KR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),i=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ps(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(yi(this));const n=e?ln(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YR(this),n=new XR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await GR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sa(r){return ln(r)}class $b{constructor(e){this.auth=e,this.observer=null,this.addObserver=pk(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(r){vd=r}function lw(r){return vd.loadJS(r)}function eA(){return vd.recaptchaEnterpriseScript}function tA(){return vd.gapiScript}function nA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sA{constructor(){this.enterprise=new rA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iA="recaptcha-enterprise",cw="NO_RECAPTCHA";class aA{constructor(e){this.type=iA,this.auth=Sa(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{LR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new OR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;Fb(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(cw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{i(this.auth).then(p=>{if(!n&&Fb(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=eA();g.length!==0&&(g+=p),lw(g).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Kb(r,e,n,i=!1,o=!1){const u=new aA(r);let d;if(o)d=cw;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zh(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kb(r,e,n,n==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Kb(r,e,n,n==="getOobCode");return i(r,d)}else return Promise.reject(u)})}function oA(r,e){const n=yd(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(no(u,e??{}))return o;vr(o,"already-initialized")}return n.initialize({options:e})}function lA(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function cA(r,e,n){const i=Sa(r);Qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=uw(e),{host:d,port:p}=uA(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},w=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Qe(no(y,i.config.emulator)&&no(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Ta(d)?(Kp(`${u}//${d}${g}`),Yp("Auth",!0)):hA()}function uw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function uA(r){const e=uw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Yb(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:Yb(d)}}}function Yb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hA(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function dA(r,e){return Si(r,"POST","/v1/accounts:signUp",e)}async function fA(r,e){return Zc(r,"POST","/v1/accounts:signInWithPassword",Ti(r,e))}async function mA(r,e){return Si(r,"POST","/v1/accounts:sendOobCode",Ti(r,e))}async function pA(r,e){return mA(r,e)}async function gA(r,e){return Zc(r,"POST","/v1/accounts:signInWithEmailLink",Ti(r,e))}async function yA(r,e){return Zc(r,"POST","/v1/accounts:signInWithEmailLink",Ti(r,e))}class Vc extends rg{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",fA);case"emailLink":return gA(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,i,"signUpPassword",dA);case"emailLink":return yA(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function rl(r,e){return Zc(r,"POST","/v1/accounts:signInWithIdp",Ti(r,e))}const vA="http://localhost";class ro extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new ro(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,rl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:vA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}function bA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _A(r){const e=wc(xc(r)).link,n=e?wc(xc(e)).deep_link_id:null,i=wc(xc(r)).deep_link_id;return(i?wc(xc(i)).link:null)||i||n||e||r}class ig{constructor(e){const n=wc(xc(e)),i=n.apiKey??null,o=n.oobCode??null,u=bA(n.mode??null);Qe(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_A(e);try{return new ig(n)}catch{return null}}}class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ig.parseLink(n);return Qe(i,"argument-error"),Vc._fromEmailAndCode(e,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aa extends eu{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";class oa extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return oa.credential(n,i)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";class la extends eu{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";class ca extends eu{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ca.credential(n,i)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";async function wA(r,e){return Zc(r,"POST","/v1/accounts:signUp",Ti(r,e))}class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await gr._fromIdTokenResponse(e,i,o),d=Qb(i);return new io({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Qb(i);return new io({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Qb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ed extends Gr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new ed(e,n,i,o)}}function dw(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(r,u,e,i):u})}async function xA(r,e,n=!1){const i=await Lc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return io._forOperation(r,"link",i)}async function EA(r,e,n=!1){const{auth:i}=r;if(Ps(i.app))return Promise.reject(yi(i));const o="reauthenticate";try{const u=await Lc(r,dw(i,o,e,r),n);Qe(u.idToken,i,"internal-error");const d=ng(u.idToken);Qe(d,i,"internal-error");const{sub:p}=d;return Qe(r.uid===p,i,"user-mismatch"),io._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vr(i,"user-mismatch"),u}}async function fw(r,e,n=!1){if(Ps(r.app))return Promise.reject(yi(r));const i="signIn",o=await dw(r,i,e),u=await io._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}async function TA(r,e){return fw(Sa(r),e)}async function mw(r){const e=Sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SA(r,e,n){const i=Sa(r);await Zh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pA)}async function p3(r,e,n){if(Ps(r.app))return Promise.reject(yi(r));const i=Sa(r),d=await Zh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&mw(r),g}),p=await io._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function kA(r,e,n){return Ps(r.app)?Promise.reject(yi(r)):TA(ln(r),vl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mw(r),i})}function RA(r,e){return ln(r).setPersistence(e)}function AA(r,e,n,i){return ln(r).onIdTokenChanged(e,n,i)}function CA(r,e,n){return ln(r).beforeAuthStateChanged(e,n)}function NA(r,e,n,i){return ln(r).onAuthStateChanged(e,n,i)}function IA(r){return ln(r).signOut()}const td="__sak";class pw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jA=1e3,DA=10;class gw extends pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);$R()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DA):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},jA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gw.type="LOCAL";const yw=gw;class vw extends pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vw.type="SESSION";const ag=vw;function MA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new bd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await MA(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];function og(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class PA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=og("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(x){const T=x;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ur(){return window}function OA(r){Ur().location.href=r}function bw(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function LA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VA(){return navigator?.serviceWorker?.controller||null}function UA(){return bw()?self:null}const _w="firebaseLocalStorageDb",BA=1,nd="firebaseLocalStorage",ww="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(r,e){return r.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function zA(){const r=indexedDB.deleteDatabase(_w);return new tu(r).toPromise()}function bp(){const r=indexedDB.open(_w,BA);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(nd,{keyPath:ww})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(nd)?e(i):(i.close(),await zA(),e(await bp()))})})}async function Xb(r,e,n){const i=_d(r,!0).put({[ww]:e,value:n});return new tu(i).toPromise()}async function FA(r,e){const n=_d(r,!1).get(e),i=await new tu(n).toPromise();return i===void 0?null:i.value}function Jb(r,e){const n=_d(r,!0).delete(e);return new tu(n).toPromise()}const qA=800,HA=3;class xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>HA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(UA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LA(),!this.activeServiceWorker)return;this.sender=new PA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await Xb(e,td,"1"),await Jb(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>FA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_d(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xw.type="LOCAL";const GA=xw;new Jc(3e4,6e4);function WA(r,e){return e?pi(e):(Qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class lg extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $A(r){return fw(r.auth,new lg(r),r.bypassAuthState)}function KA(r){const{auth:e,user:n}=r;return Qe(n,e,"internal-error"),EA(n,new lg(r),r.bypassAuthState)}async function YA(r){const{auth:e,user:n}=r;return Qe(n,e,"internal-error"),xA(n,new lg(r),r.bypassAuthState)}class Ew{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $A;case"linkViaPopup":case"linkViaRedirect":return YA;case"reauthViaPopup":case"reauthViaRedirect":return KA;default:vr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QA=new Jc(2e3,1e4);class tl extends Ew{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QA.get())};e()}}tl.currentPopupAction=null;const XA="pendingRedirect",Vh=new Map;class JA extends Ew{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const i=await ZA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZA(r,e){const n=nC(e),i=tC(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function eC(r,e){Vh.set(r._key(),e)}function tC(r){return pi(r._redirectPersistence)}function nC(r){return Lh(XA,r.config.apiKey,r.name)}async function sC(r,e,n=!1){if(Ps(r.app))return Promise.reject(yi(r));const i=Sa(r),o=WA(i,e),d=await new JA(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const rC=600*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Tw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zb(e))}saveEventToCache(e){this.cachedEventUids.add(Zb(e)),this.lastProcessedEventTime=Date.now()}}function Zb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Tw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function aC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(r);default:return!1}}async function oC(r,e={}){return Si(r,"GET","/v1/projects",e)}const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await oC(r);for(const n of e)try{if(hC(n))return}catch{}vr(r,"unauthorized-domain")}function hC(r){const e=yp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!cC.test(n))return!1;if(lC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const dC=new Jc(3e4,6e4);function e_(){const r=Ur().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function fC(r){return new Promise((e,n)=>{function i(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(Vr(r,"network-request-failed"))},timeout:dC.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)i();else{const o=nA("iframefcb");return Ur()[o]=()=>{gapi.load?i():n(Vr(r,"network-request-failed"))},lw(`${tA()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function mC(r){return Uh=Uh||fC(r),Uh}const pC=new Jc(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(r){const e=r.config;Qe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?tg(e,yC):`https://${r.config.authDomain}/${gC}`,i={apiKey:e.apiKey,appName:r.name,v:uo},o=bC.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Xc(i).slice(1)}`}async function wC(r){const e=await mC(r),n=Ur().gapi;return Qe(n,r,"internal-error"),e.open({where:document.body,url:_C(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=Vr(r,"network-request-failed"),p=Ur().setTimeout(()=>{u(d)},pC.get());function g(){Ur().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(d)})}))}const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EC=500,TC=600,SC="_blank",kC="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(r,e,n,i=EC,o=TC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...xC,width:i.toString(),height:o.toString(),top:u,left:d},y=as().toLowerCase();n&&(p=tw(y)?SC:n),Z1(y)&&(e=e||kC,g.scrollbars="yes");const w=Object.entries(g).reduce((T,[O,H])=>`${T}${O}=${H},`,"");if(WR(y)&&p!=="_self")return AC(e||"",p),new t_(null);const x=window.open(e||"",p,w);Qe(x,r,"popup-blocked");try{x.focus()}catch{}return new t_(x)}function AC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const CC="__/auth/handler",NC="emulator/auth/handler",IC=encodeURIComponent("fac");async function n_(r,e,n,i,o,u){Qe(r.config.authDomain,r,"auth-domain-config-required"),Qe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:uo,eventId:o};if(e instanceof hw){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",mk(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))d[w]=x}if(e instanceof eu){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await r._getAppCheckToken(),y=g?`#${IC}=${encodeURIComponent(g)}`:"";return`${jC(r)}?${Xc(p).slice(1)}${y}`}function jC({config:r}){return r.emulator?tg(r,NC):`https://${r.authDomain}/${CC}`}const $m="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ag,this._completeRedirectFn=sC,this._overrideRedirectResult=eC}async _openPopup(e,n,i,o){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await n_(e,n,i,yp(),o);return RC(e,u,og())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await n_(e,n,i,yp(),o);return OA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(wi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await wC(e),i=new iC(e);return n.register("authEvent",o=>(Qe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},o=>{const u=o?.[0]?.[$m];u!==void 0&&n(!!u),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aw()||ew()||sg()}}const MC=DC;var s_="@firebase/auth",r_="1.12.0";class PC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(r){so(new ya("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Qe(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ow(r)},y=new JR(i,o,u,g);return lA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),so(new ya("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(i=>new PC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(s_,r_,OC(r)),Lr(s_,r_,"esm2020")}const VC=300,UC=U1("authIdTokenMaxAge")||VC;let i_=null;const BC=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>UC)return;const o=n?.token;i_!==o&&(i_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sw(r=Zp()){const e=yd(r,"auth");if(e.isInitialized())return e.getImmediate();const n=oA(r,{popupRedirectResolver:MC,persistence:[GA,yw,ag]}),i=U1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=BC(u.toString());CA(n,d,()=>d(n.currentUser)),AA(n,p=>d(p))}}const o=O1("auth");return o&&cA(n,`http://${o}`),n}function zC(){return document.getElementsByTagName("head")?.[0]??document}ZR({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=Vr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",zC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ma,kw;(function(){var r;function e(N,S){function A(){}A.prototype=S.prototype,N.F=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.D=function(I,D,B){for(var j=Array(arguments.length-2),be=2;be<arguments.length;be++)j[be-2]=arguments[be];return S.prototype[D].apply(I,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,A){A||(A=0);const I=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)I[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;D<16;++D)I[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],D=N.g[2];let B=N.g[3],j;j=S+(B^A&(D^B))+I[0]+3614090360&4294967295,S=A+(j<<7&4294967295|j>>>25),j=B+(D^S&(A^D))+I[1]+3905402710&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(A^B&(S^A))+I[2]+606105819&4294967295,D=B+(j<<17&4294967295|j>>>15),j=A+(S^D&(B^S))+I[3]+3250441966&4294967295,A=D+(j<<22&4294967295|j>>>10),j=S+(B^A&(D^B))+I[4]+4118548399&4294967295,S=A+(j<<7&4294967295|j>>>25),j=B+(D^S&(A^D))+I[5]+1200080426&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(A^B&(S^A))+I[6]+2821735955&4294967295,D=B+(j<<17&4294967295|j>>>15),j=A+(S^D&(B^S))+I[7]+4249261313&4294967295,A=D+(j<<22&4294967295|j>>>10),j=S+(B^A&(D^B))+I[8]+1770035416&4294967295,S=A+(j<<7&4294967295|j>>>25),j=B+(D^S&(A^D))+I[9]+2336552879&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(A^B&(S^A))+I[10]+4294925233&4294967295,D=B+(j<<17&4294967295|j>>>15),j=A+(S^D&(B^S))+I[11]+2304563134&4294967295,A=D+(j<<22&4294967295|j>>>10),j=S+(B^A&(D^B))+I[12]+1804603682&4294967295,S=A+(j<<7&4294967295|j>>>25),j=B+(D^S&(A^D))+I[13]+4254626195&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(A^B&(S^A))+I[14]+2792965006&4294967295,D=B+(j<<17&4294967295|j>>>15),j=A+(S^D&(B^S))+I[15]+1236535329&4294967295,A=D+(j<<22&4294967295|j>>>10),j=S+(D^B&(A^D))+I[1]+4129170786&4294967295,S=A+(j<<5&4294967295|j>>>27),j=B+(A^D&(S^A))+I[6]+3225465664&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^A&(B^S))+I[11]+643717713&4294967295,D=B+(j<<14&4294967295|j>>>18),j=A+(B^S&(D^B))+I[0]+3921069994&4294967295,A=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(A^D))+I[5]+3593408605&4294967295,S=A+(j<<5&4294967295|j>>>27),j=B+(A^D&(S^A))+I[10]+38016083&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^A&(B^S))+I[15]+3634488961&4294967295,D=B+(j<<14&4294967295|j>>>18),j=A+(B^S&(D^B))+I[4]+3889429448&4294967295,A=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(A^D))+I[9]+568446438&4294967295,S=A+(j<<5&4294967295|j>>>27),j=B+(A^D&(S^A))+I[14]+3275163606&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^A&(B^S))+I[3]+4107603335&4294967295,D=B+(j<<14&4294967295|j>>>18),j=A+(B^S&(D^B))+I[8]+1163531501&4294967295,A=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(A^D))+I[13]+2850285829&4294967295,S=A+(j<<5&4294967295|j>>>27),j=B+(A^D&(S^A))+I[2]+4243563512&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^A&(B^S))+I[7]+1735328473&4294967295,D=B+(j<<14&4294967295|j>>>18),j=A+(B^S&(D^B))+I[12]+2368359562&4294967295,A=D+(j<<20&4294967295|j>>>12),j=S+(A^D^B)+I[5]+4294588738&4294967295,S=A+(j<<4&4294967295|j>>>28),j=B+(S^A^D)+I[8]+2272392833&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^A)+I[11]+1839030562&4294967295,D=B+(j<<16&4294967295|j>>>16),j=A+(D^B^S)+I[14]+4259657740&4294967295,A=D+(j<<23&4294967295|j>>>9),j=S+(A^D^B)+I[1]+2763975236&4294967295,S=A+(j<<4&4294967295|j>>>28),j=B+(S^A^D)+I[4]+1272893353&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^A)+I[7]+4139469664&4294967295,D=B+(j<<16&4294967295|j>>>16),j=A+(D^B^S)+I[10]+3200236656&4294967295,A=D+(j<<23&4294967295|j>>>9),j=S+(A^D^B)+I[13]+681279174&4294967295,S=A+(j<<4&4294967295|j>>>28),j=B+(S^A^D)+I[0]+3936430074&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^A)+I[3]+3572445317&4294967295,D=B+(j<<16&4294967295|j>>>16),j=A+(D^B^S)+I[6]+76029189&4294967295,A=D+(j<<23&4294967295|j>>>9),j=S+(A^D^B)+I[9]+3654602809&4294967295,S=A+(j<<4&4294967295|j>>>28),j=B+(S^A^D)+I[12]+3873151461&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^A)+I[15]+530742520&4294967295,D=B+(j<<16&4294967295|j>>>16),j=A+(D^B^S)+I[2]+3299628645&4294967295,A=D+(j<<23&4294967295|j>>>9),j=S+(D^(A|~B))+I[0]+4096336452&4294967295,S=A+(j<<6&4294967295|j>>>26),j=B+(A^(S|~D))+I[7]+1126891415&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~A))+I[14]+2878612391&4294967295,D=B+(j<<15&4294967295|j>>>17),j=A+(B^(D|~S))+I[5]+4237533241&4294967295,A=D+(j<<21&4294967295|j>>>11),j=S+(D^(A|~B))+I[12]+1700485571&4294967295,S=A+(j<<6&4294967295|j>>>26),j=B+(A^(S|~D))+I[3]+2399980690&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~A))+I[10]+4293915773&4294967295,D=B+(j<<15&4294967295|j>>>17),j=A+(B^(D|~S))+I[1]+2240044497&4294967295,A=D+(j<<21&4294967295|j>>>11),j=S+(D^(A|~B))+I[8]+1873313359&4294967295,S=A+(j<<6&4294967295|j>>>26),j=B+(A^(S|~D))+I[15]+4264355552&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~A))+I[6]+2734768916&4294967295,D=B+(j<<15&4294967295|j>>>17),j=A+(B^(D|~S))+I[13]+1309151649&4294967295,A=D+(j<<21&4294967295|j>>>11),j=S+(D^(A|~B))+I[4]+4149444226&4294967295,S=A+(j<<6&4294967295|j>>>26),j=B+(A^(S|~D))+I[11]+3174756917&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~A))+I[2]+718787259&4294967295,D=B+(j<<15&4294967295|j>>>17),j=A+(B^(D|~S))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const A=S-this.blockSize,I=this.C;let D=this.h,B=0;for(;B<S;){if(D==0)for(;B<=A;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(I[D++]=N.charCodeAt(B++),D==this.blockSize){o(this,I),D=0;break}}else for(;B<S;)if(I[D++]=N[B++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var A=N.length-8;A<N.length;++A)N[A]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)N[S++]=this.g[A]>>>I&255;return N};function u(N,S){var A=p;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function d(N,S){this.h=S;const A=[];let I=!0;for(let D=N.length-1;D>=0;D--){const B=N[D]|0;I&&B==S||(A[D]=B,I=!1)}this.g=A}var p={};function g(N){return-128<=N&&N<128?u(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return z(y(-N));const S=[];let A=1;for(let I=0;N>=A;I++)S[I]=N/A|0,A*=4294967296;return new d(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return z(w(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(S,8));let I=x;for(let B=0;B<N.length;B+=8){var D=Math.min(8,N.length-B);const j=parseInt(N.substring(B,B+D),S);D<8?(D=y(Math.pow(S,D)),I=I.j(D).add(y(j))):(I=I.j(A),I=I.add(y(j)))}return I}var x=g(0),T=g(1),O=g(16777216);r=d.prototype,r.m=function(){if(W(this))return-z(this).m();let N=0,S=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);N+=(I>=0?I:4294967296+I)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(W(this))return"-"+z(this).toString(N);const S=y(Math.pow(N,6));var A=this;let I="";for(;;){const D=xe(A,S).g;A=ie(A,D.j(S));let B=((A.g.length>0?A.g[0]:A.h)>>>0).toString(N);if(A=D,H(A))return B+I;for(;B.length<6;)B="0"+B;I=B+I}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=ie(this,N),W(N)?-1:H(N)?0:1};function z(N){const S=N.g.length,A=[];for(let I=0;I<S;I++)A[I]=~N.g[I];return new d(A,~N.h).add(T)}r.abs=function(){return W(this)?z(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),A=[];let I=0;for(let D=0;D<=S;D++){let B=I+(this.i(D)&65535)+(N.i(D)&65535),j=(B>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);I=j>>>16,B&=65535,j&=65535,A[D]=j<<16|B}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ie(N,S){return N.add(z(S))}r.j=function(N){if(H(this)||H(N))return x;if(W(this))return W(N)?z(this).j(z(N)):z(z(this).j(N));if(W(N))return z(this.j(z(N)));if(this.l(O)<0&&N.l(O)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,A=[];for(var I=0;I<2*S;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<N.g.length;D++){const B=this.i(I)>>>16,j=this.i(I)&65535,be=N.i(D)>>>16,Be=N.i(D)&65535;A[2*I+2*D]+=j*Be,Z(A,2*I+2*D),A[2*I+2*D+1]+=B*Be,Z(A,2*I+2*D+1),A[2*I+2*D+1]+=j*be,Z(A,2*I+2*D+1),A[2*I+2*D+2]+=B*be,Z(A,2*I+2*D+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new d(A,0)};function Z(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function de(N,S){this.g=N,this.h=S}function xe(N,S){if(H(S))throw Error("division by zero");if(H(N))return new de(x,x);if(W(N))return S=xe(z(N),S),new de(z(S.g),z(S.h));if(W(S))return S=xe(N,z(S)),new de(z(S.g),S.h);if(N.g.length>30){if(W(N)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,I=S;I.l(N)<=0;)A=Ie(A),I=Ie(I);var D=Ae(A,1),B=Ae(I,1);for(I=Ae(I,2),A=Ae(A,2);!H(I);){var j=B.add(I);j.l(N)<=0&&(D=D.add(A),B=j),I=Ae(I,1),A=Ae(A,1)}return S=ie(N,D.j(S)),new de(D,S)}for(D=x;N.l(S)>=0;){for(A=Math.max(1,Math.floor(N.m()/S.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),B=y(A),j=B.j(S);W(j)||j.l(N)>0;)A-=I,B=y(A),j=B.j(S);H(B)&&(B=T),D=D.add(B),N=ie(N,j)}return new de(D,N)}r.B=function(N){return xe(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)&N.i(I);return new d(A,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)|N.i(I);return new d(A,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)^N.i(I);return new d(A,this.h^N.h)};function Ie(N){const S=N.g.length+1,A=[];for(let I=0;I<S;I++)A[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(A,N.h)}function Ae(N,S){const A=S>>5;S%=32;const I=N.g.length-A,D=[];for(let B=0;B<I;B++)D[B]=S>0?N.i(B+A)>>>S|N.i(B+A+1)<<32-S:N.i(B+A);return new d(D,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,kw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,ma=d}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rw,Ec,Aw,Bh,_p,Cw,Nw,Iw;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(h,v){if(v)e:{var _=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in _))break e;_=_[$]}h=h[h.length-1],R=_[h],v=v(R),v!=R&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var _=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&_.push([R,v[R]]);return _}});var u=u||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,_){return h.call.apply(h.bind,arguments)}function y(h,v,_){return y=g,y.apply(null,arguments)}function w(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function x(h,v){function _(){}_.prototype=v.prototype,h.Z=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(R,$,J){for(var Ee=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Ee[lt-2]=arguments[lt];return v.prototype[$].apply(R,Ee)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const v=h.length;if(v>0){const _=Array(v);for(let R=0;R<v;R++)_[R]=h[R];return _}return[]}function H(h,v){for(let R=1;R<arguments.length;R++){const $=arguments[R];var _=typeof $;if(_=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"){_=h.length||0;const J=$.length||0;h.length=_+J;for(let Ee=0;Ee<J;Ee++)h[_+Ee]=$[Ee]}else h.push($)}}class W{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){d.setTimeout(()=>{throw h},0)}function ie(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Z{constructor(){this.h=this.g=null}add(v,_){const R=de.get();R.set(v,_),this.h?this.h.next=R:this.g=R,this.h=R}}var de=new W(()=>new xe,h=>h.reset());class xe{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Ae=!1,N=new Z,S=()=>{const h=Promise.resolve(void 0);Ie=()=>{h.then(A)}};function A(){for(var h;h=ie();){try{h.h.call(h.g)}catch(_){z(_)}var v=de;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}Ae=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function be(h,v){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}x(be,D),be.prototype.init=function(h,v){const _=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(_=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),F=0;function fe(h,v,_,R,$){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!R,this.ha=$,this.key=++F,this.da=this.fa=!1}function we(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $e(h,v,_){for(const R in h)v.call(_,h[R],R,h)}function Ke(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function P(h){const v={};for(const _ in h)v[_]=h[_];return v}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let _,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(_ in R)h[_]=R[_];for(let J=0;J<G.length;J++)_=G[J],Object.prototype.hasOwnProperty.call(R,_)&&(h[_]=R[_])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,v,_,R,$){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const Ee=Se(h,v,R,$);return Ee>-1?(v=h[Ee],_||(v.fa=!1)):(v=new fe(v,this.src,J,!!R,$),v.fa=_,h.push(v)),v};function Te(h,v){const _=v.type;if(_ in h.g){var R=h.g[_],$=Array.prototype.indexOf.call(R,v,void 0),J;(J=$>=0)&&Array.prototype.splice.call(R,$,1),J&&(we(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Se(h,v,_,R){for(let $=0;$<h.length;++$){const J=h[$];if(!J.da&&J.listener==v&&J.capture==!!_&&J.ha==R)return $}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),et={};function tt(h,v,_,R,$){if(Array.isArray(v)){for(let J=0;J<v.length;J++)tt(h,v[J],_,R,$);return null}return _=xt(_),h&&h[Be]?h.J(v,_,p(R)?!!R.capture:!1,$):Ht(h,v,_,!1,R,$)}function Ht(h,v,_,R,$,J){if(!v)throw Error("Invalid event type");const Ee=p($)?!!$.capture:!!$;let lt=Pt(h);if(lt||(h[Fe]=lt=new ye(h)),_=lt.add(v,_,R,Ee,J),_.proxy)return _;if(R=xn(),_.proxy=R,R.src=h,R.listener=_,h.addEventListener)B||($=Ee),$===void 0&&($=!1),h.addEventListener(v.toString(),R,$);else if(h.attachEvent)h.attachEvent(ne(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xn(){function h(_){return v.call(h.src,h.listener,_)}const v=rn;return h}function It(h,v,_,R,$){if(Array.isArray(v))for(var J=0;J<v.length;J++)It(h,v[J],_,R,$);else R=p(R)?!!R.capture:!!R,_=xt(_),h&&h[Be]?(h=h.i,J=String(v).toString(),J in h.g&&(v=h.g[J],_=Se(v,_,R,$),_>-1&&(we(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete h.g[J],h.h--)))):h&&(h=Pt(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Se(v,_,R,$)),(_=h>-1?v[h]:null)&&un(_))}function un(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Be])Te(v.i,h);else{var _=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(_,R,h.capture):v.detachEvent?v.detachEvent(ne(_),R):v.addListener&&v.removeListener&&v.removeListener(R),(_=Pt(v))?(Te(_,h),_.h==0&&(_.src=null,v[Fe]=null)):we(h)}}}function ne(h){return h in et?et[h]:et[h]="on"+h}function rn(h,v){if(h.da)h=!0;else{v=new be(v,this);const _=h.listener,R=h.ha||h.src;h.fa&&un(h),h=_.call(R,v)}return h}function Pt(h){return h=h[Fe],h instanceof ye?h:null}var wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xt(h){return typeof h=="function"?h:(h[wt]||(h[wt]=function(v){return h.handleEvent(v)}),h[wt])}function nt(){I.call(this),this.i=new ye(this),this.M=this,this.G=null}x(nt,I),nt.prototype[Be]=!0,nt.prototype.removeEventListener=function(h,v,_,R){It(this,h,v,_,R)};function Ze(h,v){var _,R=h.G;if(R)for(_=[];R;R=R.G)_.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new D(v,h);else if(v instanceof D)v.target=v.target||h;else{var $=v;v=new D(R,h),he(v,$)}$=!0;let J,Ee;if(_)for(Ee=_.length-1;Ee>=0;Ee--)J=v.g=_[Ee],$=Gt(J,R,!0,v)&&$;if(J=v.g=h,$=Gt(J,R,!0,v)&&$,$=Gt(J,R,!1,v)&&$,_)for(Ee=0;Ee<_.length;Ee++)J=v.g=_[Ee],$=Gt(J,R,!1,v)&&$}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const _=h.g[v];for(let R=0;R<_.length;R++)we(_[R]);delete h.g[v],h.h--}}this.G=null},nt.prototype.J=function(h,v,_,R){return this.i.add(String(h),v,!1,_,R)},nt.prototype.K=function(h,v,_,R){return this.i.add(String(h),v,!0,_,R)};function Gt(h,v,_,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let J=0;J<v.length;++J){const Ee=v[J];if(Ee&&!Ee.da&&Ee.capture==_){const lt=Ee.listener,gn=Ee.ha||Ee.src;Ee.fa&&Te(h.i,Ee),$=lt.call(gn,R)!==!1&&$}}return $&&!R.defaultPrevented}function Wr(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function Us(h){h.g=Wr(()=>{h.g=null,h.i&&(h.i=!1,Us(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ot extends I{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Us(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(h){I.call(this),this.h=h,this.g={}}x(Pn,I);var hn=[];function Nn(h){$e(h.g,function(v,_){this.g.hasOwnProperty(_)&&un(v)},h),h.g={}}Pn.prototype.N=function(){Pn.Z.N.call(this),Nn(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var le=d.JSON.stringify,ge=d.JSON.parse,_e=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Ue(){}function Ce(){}var ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}x(Pe,D);function Oe(){D.call(this,"c")}x(Oe,D);var He={},ft=null;function Wt(){return ft=ft||new nt}He.Ia="serverreachability";function jt(h){D.call(this,He.Ia,h)}x(jt,D);function dn(h){const v=Wt();Ze(v,new jt(v))}He.STAT_EVENT="statevent";function gs(h,v){D.call(this,He.STAT_EVENT,h),this.stat=v}x(gs,D);function Ut(h){const v=Wt();Ze(v,new gs(v,h))}He.Ja="timingevent";function Bn(h,v){D.call(this,He.Ja,h),this.size=v}x(Bn,D);function In(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function sr(h,v,_,R,$,J){h.info(function(){if(h.g)if(J){var Ee="",lt=J.split("&");for(let Ct=0;Ct<lt.length;Ct++){var gn=lt[Ct].split("=");if(gn.length>1){const tn=gn[0];gn=gn[1];const Hs=tn.split("_");Ee=Hs.length>=2&&Hs[1]=="type"?Ee+(tn+"="+gn+"&"):Ee+(tn+"=redacted&")}}}else Ee=null;else Ee=J;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+v+`
`+_+`
`+Ee})}function $r(h,v,_,R,$,J,Ee){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+v+`
`+_+`
`+J+" "+Ee})}function es(h,v,_,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Kr(h,_)+(R?" "+R:"")})}function Bs(h,v){h.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function Kr(h,v){if(!h.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var _=J[h];if(!(_.length<2)){var R=_[1];if(Array.isArray(R)&&!(R.length<1)){var $=R[0];if($!="noop"&&$!="stop"&&$!="close")for(let Ee=1;Ee<R.length;Ee++)R[Ee]=""}}}}return le(J)}catch{return v}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ki={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function rr(){}x(rr,Ue),rr.prototype.g=function(){return new XMLHttpRequest},xr=new rr;function os(h){return encodeURIComponent(String(h))}function Er(h){var v=1;h=h.split(":");const _=[];for(;v>0&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function zn(h,v,_,R){this.j=h,this.i=v,this.l=_,this.S=R||1,this.V=new Pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Zt={},fn={};function ys(h,v,_){h.M=1,h.A=mt(pe(v)),h.u=_,h.R=!0,ks(h,null)}function ks(h,v){h.F=Date.now(),vs(h),h.B=pe(h.A);var _=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),ts(_.i,"t",R),h.C=0,_=h.j.L,h.h=new Fn,h.g=gu(h.j,_?v:null,!h.u),h.P>0&&(h.O=new Ot(y(h.Y,h,h.g),h.P)),v=h.V,_=h.g,R=h.ba;var $="readystatechange";Array.isArray($)||($&&(hn[0]=$.toString()),$=hn);for(let J=0;J<$.length;J++){const Ee=tt(_,$[J],R||v.handleEvent,!1,v.h||v);if(!Ee)break;v.g[Ee.key]=Ee}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),dn(),sr(h.i,h.v,h.B,h.l,h.S,h.u)}zn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ur(h)==3?v.j():this.Y(h)},zn.prototype.Y=function(h){try{if(h==this.g)e:{const lt=ur(this.g),gn=this.g.ya(),Ct=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||Gn(this.g)))){this.K||lt!=4||gn==7||(gn==8||Ct<=0?dn(3):dn(2)),cs(this);var v=this.g.ca();this.X=v;var _=Yr(this);if(this.o=v==200,$r(this.i,this.v,this.B,this.l,this.S,lt,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,$=this.g;if((R=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(R)){var J=R;break t}}J=null}if(h=J)es(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,C(this,h);else{this.o=!1,this.m=3,Ut(12),qn(this),jn(this);break e}}if(this.R){h=!0;let tn;for(;!this.K&&this.C<_.length;)if(tn=Ri(this,_),tn==fn){lt==4&&(this.m=4,Ut(14),h=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Zt){this.m=4,Ut(15),es(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else es(this.i,this.l,tn,null),C(this,tn);if(ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||_.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)es(this.i,this.l,_,"[Invalid Chunked Response]"),qn(this),jn(this);else if(_.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Il(Ee),Ee.P=!0,Ut(11))}}else es(this.i,this.l,_,null),C(this,_);lt==4&&qn(this),this.o&&!this.K&&(lt==4?du(this.j,this):(this.o=!1,vs(this)))}else Xr(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),qn(this),jn(this)}}}catch{}};function Yr(h){if(!ls(h))return h.g.la();const v=Gn(h.g);if(v==="")return"";let _="";const R=v.length,$=ur(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return qn(h),jn(h),"";h.h.i=new d.TextDecoder}for(let J=0;J<R;J++)h.h.h=!0,_+=h.h.i.decode(v[J],{stream:!($&&J==R-1)});return v.length=0,h.h.g+=_,h.C=0,h.h.g}function ls(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ri(h,v){var _=h.C,R=v.indexOf(`
`,_);return R==-1?fn:(_=Number(v.substring(_,R)),isNaN(_)?Zt:(R+=1,R+_>v.length?fn:(v=v.slice(R,R+_),h.C=R+_,v)))}zn.prototype.cancel=function(){this.K=!0,qn(this)};function vs(h){h.T=Date.now()+h.H,Rs(h,h.H)}function Rs(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=In(y(h.aa,h),v)}function cs(h){h.D&&(d.clearTimeout(h.D),h.D=null)}zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(dn(),Ut(17)),qn(this),this.m=2,jn(this)):Rs(this,this.T-h)};function jn(h){h.j.I==0||h.K||du(h.j,h)}function qn(h){cs(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Nn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function C(h,v){try{var _=h.j;if(_.I!=0&&(_.g==h||Le(_.h,h))){if(!h.L&&Le(_.h,h)&&_.I==3){try{var R=_.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)bo(_),Mi(_);else break e;Pa(_),Ut(18)}}else _.xa=$[1],0<_.xa-_.K&&$[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=In(y(_.Va,_),6e3));ze(_.h)<=1&&_.ta&&(_.ta=void 0)}else Cr(_,11)}else if((h.L||_.g==h)&&bo(_),!j(v))for($=_.Ba.g.parse(v),v=0;v<$.length;v++){let Ct=$[v];const tn=Ct[0];if(!(tn<=_.K))if(_.K=tn,Ct=Ct[1],_.I==2)if(Ct[0]=="c"){_.M=Ct[1],_.ba=Ct[2];const Hs=Ct[3];Hs!=null&&(_.ka=Hs,_.j.info("VER="+_.ka));const Nr=Ct[4];Nr!=null&&(_.za=Nr,_.j.info("SVER="+_.za));const hr=Ct[5];hr!=null&&typeof hr=="number"&&hr>0&&(R=1.5*hr,_.O=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const dr=h.g;if(dr){const Oa=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var J=R.h;J.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(qe(J,J.h),J.h=null))}if(R.G){const _o=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(R.wa=_o,De(R.J,R.G,_o))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),R=_;var Ee=h;if(R.na=pu(R,R.L?R.ba:null,R.W),Ee.L){Dt(R.h,Ee);var lt=Ee,gn=R.O;gn&&(lt.H=gn),lt.D&&(cs(lt),vs(lt)),R.g=Ee}else uu(R);_.i.length>0&&Ar(_)}else Ct[0]!="stop"&&Ct[0]!="close"||Cr(_,7);else _.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Cr(_,7):Cl(_):Ct[0]!="noop"&&_.l&&_.l.qa(Ct),_.A=0)}}dn(4)}catch{}}var U=class{constructor(h,v){this.g=h,this.map=v}};function re(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ae(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ze(h){return h.h?1:h.g?h.g.size:0}function Le(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function qe(h,v){h.g?h.g.add(v):h.h=v}function Dt(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}re.prototype.cancel=function(){if(this.i=at(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function at(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.G);return v}return O(h.i)}var V=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ee(h,v){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const R=h[_].indexOf("=");let $,J=null;R>=0?($=h[_].substring(0,R),J=h[_].substring(R+1)):$=h[_],v($,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function X(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof X?(this.l=h.l,ve(this,h.j),this.o=h.o,this.g=h.g,je(this,h.u),this.h=h.h,Je(this,Tr(h.i)),this.m=h.m):h&&(v=String(h).match(V))?(this.l=!1,ve(this,v[1]||"",!0),this.o=en(v[2]||""),this.g=en(v[3]||"",!0),je(this,v[4]),this.h=en(v[5]||"",!0),Je(this,v[6]||"",!0),this.m=en(v[7]||"")):(this.l=!1,this.i=new an(null,this.l))}X.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(kt(v,Ai,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(kt(v,Ai,!0),"@"),h.push(os(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(kt(_,_.charAt(0)=="/"?Ci:Ca,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",kt(_,St)),h.join("")},X.prototype.resolve=function(h){const v=pe(this);let _=!!h.j;_?ve(v,h.j):_=!!h.o,_?v.o=h.o:_=!!h.g,_?v.g=h.g:_=h.u!=null;var R=h.h;if(_)je(v,h.u);else if(_=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var $=v.h.lastIndexOf("/");$!=-1&&(R=v.h.slice(0,$+1)+R)}if($=R,$==".."||$==".")R="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){R=$.lastIndexOf("/",0)==0,$=$.split("/");const J=[];for(let Ee=0;Ee<$.length;){const lt=$[Ee++];lt=="."?R&&Ee==$.length&&J.push(""):lt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&Ee==$.length&&J.push("")):(J.push(lt),R=!0)}R=J.join("/")}else R=$}return _?v.h=R:_=h.i.toString()!=="",_?Je(v,Tr(h.i)):_=!!h.m,_&&(v.m=h.m),v};function pe(h){return new X(h)}function ve(h,v,_){h.j=_?en(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function je(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Je(h,v,_){v instanceof an?(h.i=v,Ni(h.i,h.l)):(_||(v=kt(v,ir)),h.i=new an(v,h.l))}function De(h,v,_){h.i.set(v,_)}function mt(h){return De(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function en(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kt(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Qt),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qt(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ai=/[#\/\?@]/g,Ca=/[#\?:]/g,Ci=/[#\?]/g,ir=/[#\?@]/g,St=/#/g;function an(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function on(h){h.g||(h.g=new Map,h.h=0,h.i&&ee(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=an.prototype,r.add=function(h,v){on(this),this.i=null,h=lr(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function ar(h,v){on(h),v=lr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function or(h,v){return on(h),v=lr(h,v),h.g.has(v)}r.forEach=function(h,v){on(this),this.g.forEach(function(_,R){_.forEach(function($){h.call(v,$,R,this)},this)},this)};function Hn(h,v){on(h);let _=[];if(typeof v=="string")or(h,v)&&(_=_.concat(h.g.get(lr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)_=_.concat(h[v]);return _}r.set=function(h,v){return on(this),this.i=null,h=lr(this,h),or(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=Hn(this,h),h.length>0?String(h[0]):v):v};function ts(h,v,_){ar(h,v),_.length>0&&(h.i=null,h.g.set(lr(h,v),O(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var _=v[R];const $=os(_);_=Hn(this,_);for(let J=0;J<_.length;J++){let Ee=$;_[J]!==""&&(Ee+="="+os(_[J])),h.push(Ee)}}return this.i=h.join("&")};function Tr(h){const v=new an;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function lr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ni(h,v){v&&!h.j&&(on(h),h.i=null,h.g.forEach(function(_,R){const $=R.toLowerCase();R!=$&&(ar(this,R),ts(this,$,_))},h)),h.j=v}function us(h,v){const _=new Zn;if(d.Image){const R=new Image;R.onload=w(Fs,_,"TestLoadImage: loaded",!0,v,R),R.onerror=w(Fs,_,"TestLoadImage: error",!1,v,R),R.onabort=w(Fs,_,"TestLoadImage: abort",!1,v,R),R.ontimeout=w(Fs,_,"TestLoadImage: timeout",!1,v,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function kl(h,v){const _=new Zn,R=new AbortController,$=setTimeout(()=>{R.abort(),Fs(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout($),J.ok?Fs(_,"TestPingServer: ok",!0,v):Fs(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Fs(_,"TestPingServer: error",!1,v)})}function Fs(h,v,_,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(_)}catch{}}function Ii(){this.g=new _e}function Sr(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Sr,Ue),Sr.prototype.g=function(){return new Na(this.i,this.h)};function Na(h,v){nt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Na,nt),r=Na.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,cr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ji(this):cr(this),this.readyState==3&&go(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,ji(this))},r.Na=function(h){this.g&&(this.response=h,ji(this))},r.ga=function(){this.g&&ji(this)};function ji(h){h.readyState=4,h.l=null,h.j=null,h.B=null,cr(h)}r.setRequestHeader=function(h,v){this.A.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function cr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qs(h){let v="";return $e(h,function(_,R){v+=R,v+=":",v+=_,v+=`\r
`}),v}function Ia(h,v,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=qs(_),typeof h=="string"?_!=null&&os(_):De(h,v,_))}function Bt(h){nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Bt,nt);var kr=/^https?$/i,Rl=["POST","PUT"];r=Bt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,v,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){ja(this,J);return}if(h=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)_.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())_.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Rl,v,void 0)>=0)||R||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,Ee]of _)this.g.setRequestHeader(J,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){ja(this,J)}};function ja(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Al(h),Qr(h)}function Al(h){h.A||(h.A=!0,Ze(h,"complete"),Ze(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ze(this,"complete"),Ze(this,"abort"),Qr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Bt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},r.Xa=function(){Da(this)};function Da(h){if(h.h&&typeof u<"u"){if(h.v&&ur(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ze(h,"readystatechange"),ur(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var R;if(R=J===0){let Ee=String(h.D).match(V)[1]||null;!Ee&&d.self&&d.self.location&&(Ee=d.self.location.protocol.slice(0,-1)),R=!kr.test(Ee?Ee.toLowerCase():"")}_=R}if(_)Ze(h,"complete"),Ze(h,"success");else{h.o=6;try{var $=ur(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Al(h)}}finally{Qr(h)}}}}function Qr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,v||Ze(h,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ur(h){return h.g?h.g.readyState:0}r.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ge(v)}};function Gn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xr(h){const v={};h=(h.g&&ur(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(j(h[R]))continue;var _=Er(h[R]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=v[$]||[];v[$]=J,J.push(_)}Ke(v,function(R){return R.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Di(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rr("baseRetryDelayMs",5e3,h),this.Za=Rr("retryDelaySeedMs",1e4,h),this.Ta=Rr("forwardChannelMaxRetries",2,h),this.va=Rr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new re(h&&h.concurrentRequestLimit),this.Ba=new Ii,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Di.prototype,r.ka=8,r.I=1,r.connect=function(h,v,_,R){Ut(0),this.W=h,this.H=v||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.J=pu(this,null,this.W),Ar(this)};function Cl(h){if(yo(h),h.I==3){var v=h.V++,_=pe(h.J);if(De(_,"SID",h.M),De(_,"RID",v),De(_,"TYPE","terminate"),Ma(h,_),v=new zn(h,h.j,v),v.M=2,v.A=mt(pe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.A,_=!0),_||(v.g=gu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),vs(v)}mu(h)}function Mi(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function yo(h){Mi(h),h.v&&(d.clearTimeout(h.v),h.v=null),bo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Ar(h){if(!ae(h.h)&&!h.m){h.m=!0;var v=h.Ea;Ie||S(),Ae||(Ie(),Ae=!0),N.add(v,h),h.D=0}}function vo(h,v){return ze(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=In(y(h.Ea,h,v),fu(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new zn(this,this.j,h);let J=this.o;if(this.U&&(J?(J=P(J),he(J,this.U)):J=this.U),this.u!==null||this.R||($.J=J,J=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=cu(this,$,v),_=pe(this.J),De(_,"RID",h),De(_,"CVER",22),this.G&&De(_,"X-HTTP-Session-Id",this.G),Ma(this,_),J&&(this.R?v="headers="+os(qs(J))+"&"+v:this.u&&Ia(_,this.u,J)),qe(this.h,$),this.Ra&&De(_,"TYPE","init"),this.S?(De(_,"$req",v),De(_,"SID","null"),$.U=!0,ys($,_,null)):ys($,_,v),this.I=2}}else this.I==3&&(h?Nl(this,h):this.i.length==0||ae(this.h)||Nl(this))};function Nl(h,v){var _;v?_=v.l:_=h.V++;const R=pe(h.J);De(R,"SID",h.M),De(R,"RID",_),De(R,"AID",h.K),Ma(h,R),h.u&&h.o&&Ia(R,h.u,h.o),_=new zn(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),v&&(h.i=v.G.concat(h.i)),v=cu(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),qe(h.h,_),ys(_,R,v)}function Ma(h,v){h.H&&$e(h.H,function(_,R){De(v,R,_)}),h.l&&$e({},function(_,R){De(v,R,_)})}function cu(h,v,_){_=Math.min(h.i.length,_);const R=h.l?y(h.l.Ka,h.l,h):null;e:{var $=h.i;let lt=-1;for(;;){const gn=["count="+_];lt==-1?_>0?(lt=$[0].g,gn.push("ofs="+lt)):lt=0:gn.push("ofs="+lt);let Ct=!0;for(let tn=0;tn<_;tn++){var J=$[tn].g;const Hs=$[tn].map;if(J-=lt,J<0)lt=Math.max(0,$[tn].g-100),Ct=!1;else try{J="req"+J+"_"||"";try{var Ee=Hs instanceof Map?Hs:Object.entries(Hs);for(const[Nr,hr]of Ee){let dr=hr;p(hr)&&(dr=le(hr)),gn.push(J+Nr+"="+encodeURIComponent(dr))}}catch(Nr){throw gn.push(J+"type="+encodeURIComponent("_badmap")),Nr}}catch{R&&R(Hs)}}if(Ct){Ee=gn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,_),v.G=h,Ee}function uu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;Ie||S(),Ae||(Ie(),Ae=!0),N.add(v,h),h.A=0}}function Pa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=In(y(h.Da,h),fu(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=In(y(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Mi(this),hu(this))};function Il(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function hu(h){h.g=new zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=pe(h.na);De(v,"RID","rpc"),De(v,"SID",h.M),De(v,"AID",h.K),De(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&De(v,"TO",h.ia),De(v,"TYPE","xmlhttp"),Ma(h,v),h.u&&h.o&&Ia(v,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=mt(pe(v)),_.u=null,_.R=!0,ks(_,h)}r.Va=function(){this.C!=null&&(this.C=null,Mi(this),Pa(this),Ut(19))};function bo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function du(h,v){var _=null;if(h.g==v){bo(h),Il(h),h.g=null;var R=2}else if(Le(h.h,v))_=v.G,Dt(h.h,v),R=1;else return;if(h.I!=0){if(v.o)if(R==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var $=h.D;R=Wt(),Ze(R,new Bn(R,_)),Ar(h)}else uu(h);else if($=v.m,$==3||$==0&&v.X>0||!(R==1&&vo(h,v)||R==2&&Pa(h)))switch(_&&_.length>0&&(v=h.h,v.i=v.i.concat(_)),$){case 1:Cr(h,5);break;case 4:Cr(h,10);break;case 3:Cr(h,6);break;default:Cr(h,2)}}}function fu(h,v){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*v}function Cr(h,v){if(h.j.info("Error code "+v),v==2){var _=y(h.bb,h),R=h.Ua;const $=!R;R=new X(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ve(R,"https"),mt(R),$?us(R.toString(),_):kl(R.toString(),_)}else Ut(2);h.I=0,h.l&&h.l.pa(v),mu(h),yo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function mu(h){if(h.I=0,h.ja=[],h.l){const v=at(h.h);(v.length!=0||h.i.length!=0)&&(H(h.ja,v),H(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function pu(h,v,_){var R=_ instanceof X?pe(_):new X(_);if(R.g!="")v&&(R.g=v+"."+R.g),je(R,R.u);else{var $=d.location;R=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const J=new X(null);R&&ve(J,R),v&&(J.g=v),$&&je(J,$),_&&(J.h=_),R=J}return _=h.G,v=h.wa,_&&v&&De(R,_,v),De(R,"VER",h.ka),Ma(h,R),R}function gu(h,v,_){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Bt(new Sr({ab:_})):new Bt(h.ma),v.Fa(h.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pi(){}Pi.prototype.g=function(h,v){return new hs(h,v)};function hs(h,v){nt.call(this),this.g=new Di(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Jr(this)}x(hs,nt),hs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hs.prototype.close=function(){Cl(this.g)},hs.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=le(h),h=_);v.i.push(new U(v.Ya++,h)),v.I==3&&Ar(v)},hs.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,hs.Z.N.call(this)};function vu(h){Pe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(vu,Pe);function bu(){Oe.call(this),this.status=1}x(bu,Oe);function Jr(h){this.g=h}x(Jr,yu),Jr.prototype.ra=function(){Ze(this.g,"a")},Jr.prototype.qa=function(h){Ze(this.g,new vu(h))},Jr.prototype.pa=function(h){Ze(this.g,new bu)},Jr.prototype.oa=function(){Ze(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,hs.prototype.send=hs.prototype.o,hs.prototype.open=hs.prototype.m,hs.prototype.close=hs.prototype.close,Iw=function(){return new Pi},Nw=function(){return Wt()},Cw=He,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Bh=zs,ki.COMPLETE="complete",Aw=ki,Ce.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",nt.prototype.listen=nt.prototype.J,Ec=Ce,Bt.prototype.listenOnce=Bt.prototype.K,Bt.prototype.getLastError=Bt.prototype.Ha,Bt.prototype.getLastErrorCode=Bt.prototype.ya,Bt.prototype.getStatus=Bt.prototype.ca,Bt.prototype.getResponseJson=Bt.prototype.La,Bt.prototype.getResponseText=Bt.prototype.la,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Fa,Rw=Bt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});class rs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");let bl="12.8.0";function FC(r){bl=r}const ao=new Qp("@firebase/firestore");function Xo(){return ao.logLevel}function Ne(r,...e){if(ao.logLevel<=yt.DEBUG){const n=e.map(cg);ao.debug(`Firestore (${bl}): ${r}`,...n)}}function xi(r,...e){if(ao.logLevel<=yt.ERROR){const n=e.map(cg);ao.error(`Firestore (${bl}): ${r}`,...n)}}function cl(r,...e){if(ao.logLevel<=yt.WARN){const n=e.map(cg);ao.warn(`Firestore (${bl}): ${r}`,...n)}}function cg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Xe(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,jw(r,i,n)}function jw(r,e,n){let i=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw xi(i),new Error(i)}function Mt(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||jw(e,o,i)}function it(r,e){return r}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Dw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rs.UNAUTHENTICATED)))}shutdown(){}}class HC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt(typeof i.accessToken=="string",31837,{l:i}),new Dw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new rs(e)}}class WC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $C{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const i=u=>{u.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=YC(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function vt(r,e){return r<e?-1:r>e?1:0}function wp(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return Km(o)===Km(u)?vt(o,u):Km(o)?1:-1}return vt(r.length,e.length)}const QC=55296,XC=57343;function Km(r){const e=r.charCodeAt(0);return e>=QC&&e<=XC}function ul(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const l_="__name__";class Pr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return vt(e.length,n.length)}static compareSegments(e,n){const i=Pr.isNumericId(e),o=Pr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):wp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class Yt extends Pr{construct(e,n,i){return new Yt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Yt(n)}static emptyPath(){return new Yt([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Pr{construct(e,n,i){return new Xn(e,n,i)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new Xn([l_])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new Re(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Re(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Re(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(u(),o++)}if(u(),d)throw new Re(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(Yt.fromString(e))}static fromName(e){return new We(Yt.fromString(e).popFirst(5))}static empty(){return new We(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Yt(e.slice()))}}function Mw(r,e,n){if(!n)throw new Re(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZC(r,e,n,i){if(e===!0&&i===!0)throw new Re(ce.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function c_(r){if(!We.isDocumentKey(r))throw new Re(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u_(r){if(We.isDocumentKey(r))throw new Re(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Pw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Xe(12329,{type:typeof r})}function br(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Re(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(r);throw new Re(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Cn(r,e){const n={typeString:r};return e&&(n.value=e),n}function nu(r,e){if(!Pw(r))throw new Re(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new Re(ce.INVALID_ARGUMENT,n);return!0}const h_=-62135596800,d_=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*d_);return new ot(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h_)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d_}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Cn("string",ot._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new ot(0,0))}static max(){return new st(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uc=-1;function eN(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=st.fromTimestamp(i===1e9?new ot(n+1,0):new ot(n,i));return new va(o,We.empty(),e)}function tN(r){return new va(r.readTime,r.key,Uc)}class va{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new va(st.min(),We.empty(),Uc)}static max(){return new va(st.max(),We.empty(),Uc)}}function nN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(r.documentKey,e.documentKey),n!==0?n:vt(r.largestBatchId,e.largestBatchId))}const sN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _l(r){if(r.code!==ce.FAILED_PRECONDITION||r.message!==sN)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,i)=>{n(e)}))}static reject(e){return new me(((n,i)=>{i(e)}))}static waitFor(e){return new me(((n,i)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(g=>i(g)))})),d=!0,u===o&&n()}))}static or(e){let n=me.resolve(!1);for(const i of e)n=n.next((o=>o?me.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new me(((i,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((w=>{d[y]=w,++p,p===u&&i(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new me(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function iN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(r){return r.name==="IndexedDbTransactionError"}class xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xd.ce=-1;const hg=-1;function Ed(r){return r==null}function sd(r){return r===0&&1/r==-1/0}function aN(r){return typeof r=="number"&&Number.isInteger(r)&&!sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Ow="";function oN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=f_(e)),e=lN(r.get(n),e);return f_(e)}function lN(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Ow:n+="";break;default:n+=u}}return n}function f_(r){return r+Ow+""}function m_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ka(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Lw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class cn{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Qn.RED,this.left=o??Qn.EMPTY,this.right=u??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Qn(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Os{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Os([])}unionWith(e){let n=new Mn(Xn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vw("Invalid base64 string: "+u):u}})(e);return new Jn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const cN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(r){if(Mt(!!r,39018),typeof r=="string"){let e=0;const n=cN.exec(r);if(Mt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_n(r.seconds),nanos:_n(r.nanos)}}function _n(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _a(r){return typeof r=="string"?Jn.fromBase64String(r):Jn.fromUint8Array(r)}const Uw="server_timestamp",Bw="__type__",zw="__previous_value__",Fw="__local_write_time__";function dg(r){return(r?.mapValue?.fields||{})[Bw]?.stringValue===Uw}function Td(r){const e=r.mapValue.fields[zw];return dg(e)?Td(e):e}function Bc(r){const e=ba(r.mapValue.fields[Fw].timestampValue);return new ot(e.seconds,e.nanos)}class uN{constructor(e,n,i,o,u,d,p,g,y,w,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w,this.apiKey=x}}const rd="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}function hN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(r.options.projectId,e)}const qw="__type__",dN="__max__",Rh={mapValue:{}},Hw="__vector__",id="value";function wa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dg(r)?4:mN(r)?9007199254740991:fN(r)?10:11:Xe(28295,{value:r})}function qr(r,e){if(r===e)return!0;const n=wa(r);if(n!==wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ba(o.timestampValue),p=ba(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _a(o.bytesValue).isEqual(_a(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _n(o.geoPointValue.latitude)===_n(u.geoPointValue.latitude)&&_n(o.geoPointValue.longitude)===_n(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _n(o.integerValue)===_n(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_n(o.doubleValue),p=_n(u.doubleValue);return d===p?sd(d)===sd(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return ul(r.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(m_(d)!==m_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!qr(d[g],p[g])))return!1;return!0})(r,e);default:return Xe(52216,{left:r})}}function Fc(r,e){return(r.values||[]).find((n=>qr(n,e)))!==void 0}function hl(r,e){if(r===e)return 0;const n=wa(r),i=wa(e);if(n!==i)return vt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=_n(u.integerValue||u.doubleValue),g=_n(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return g_(r.timestampValue,e.timestampValue);case 4:return g_(Bc(r),Bc(e));case 5:return wp(r.stringValue,e.stringValue);case 6:return(function(u,d){const p=_a(u),g=_a(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=vt(p[y],g[y]);if(w!==0)return w}return vt(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=vt(_n(u.latitude),_n(d.latitude));return p!==0?p:vt(_n(u.longitude),_n(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return y_(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[id]?.arrayValue,w=g[id]?.arrayValue,x=vt(y?.values?.length||0,w?.values?.length||0);return x!==0?x:y_(y,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Rh.mapValue&&d===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(d===Rh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let x=0;x<g.length&&x<w.length;++x){const T=wp(g[x],w[x]);if(T!==0)return T;const O=hl(p[g[x]],y[w[x]]);if(O!==0)return O}return vt(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function g_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return vt(r,e);const n=ba(r),i=ba(e),o=vt(n.seconds,i.seconds);return o!==0?o:vt(n.nanos,i.nanos)}function y_(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=hl(n[o],i[o]);if(u)return u}return vt(n.length,i.length)}function dl(r){return xp(r)}function xp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=ba(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _a(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return We.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=xp(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${xp(n.fields[d])}`;return o+"}"})(r.mapValue):Xe(61005,{value:r})}function zh(r){switch(wa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(r);return e?16+zh(e):16;case 5:return 2*r.stringValue.length;case 6:return _a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+zh(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return ka(i.fields,((u,d)=>{o+=u.length+zh(d)})),o})(r.mapValue);default:throw Xe(13486,{value:r})}}function v_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ep(r){return!!r&&"integerValue"in r}function fg(r){return!!r&&"arrayValue"in r}function b_(r){return!!r&&"nullValue"in r}function __(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fh(r){return!!r&&"mapValue"in r}function fN(r){return(r?.mapValue?.fields||{})[qw]?.stringValue===Hw}function Ic(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ka(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ic(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(r.arrayValue.values[n]);return e}return{...r}}function mN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dN}class Ss{constructor(e){this.value=e}static empty(){return new Ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=Xn.emptyPath(),i={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=Ic(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ka(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Ss(Ic(this.value))}}function Gw(r){const e=[];return ka(r.fields,((n,i)=>{const o=new Xn([n]);if(Fh(i)){const u=Gw(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Os(e)}class is{constructor(e,n,i,o,u,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new is(e,0,st.min(),st.min(),st.min(),Ss.empty(),0)}static newFoundDocument(e,n,i,o){return new is(e,1,n,st.min(),i,o,0)}static newNoDocument(e,n){return new is(e,2,n,st.min(),st.min(),Ss.empty(),0)}static newUnknownDocument(e,n){return new is(e,3,n,st.min(),st.min(),Ss.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ad{constructor(e,n){this.position=e,this.inclusive=n}}function w_(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?i=We.comparator(We.fromName(d.referenceValue),n.key):i=hl(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function x_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qr(r.position[n],e.position[n]))return!1;return!0}class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function pN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Ww{}class An extends Ww{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new yN(e,n,i):n==="array-contains"?new _N(e,i):n==="in"?new wN(e,i):n==="not-in"?new xN(e,i):n==="array-contains-any"?new EN(e,i):new An(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new vN(e,i):new bN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&wa(this.value)===wa(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Ww{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return $w(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $w(r){return r.op==="and"}function Kw(r){return gN(r)&&$w(r)}function gN(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function Tp(r){if(r instanceof An)return r.field.canonicalString()+r.op.toString()+dl(r.value);if(Kw(r))return r.filters.map((e=>Tp(e))).join(",");{const e=r.filters.map((n=>Tp(n))).join(",");return`${r.op}(${e})`}}function Yw(r,e){return r instanceof An?(function(i,o){return o instanceof An&&i.op===o.op&&i.field.isEqual(o.field)&&qr(i.value,o.value)})(r,e):r instanceof _r?(function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,p)=>u&&Yw(d,o.filters[p])),!0):!1})(r,e):void Xe(19439)}function Qw(r){return r instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`})(r):r instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(Qw).join(" ,")+"}"})(r):"Filter"}class yN extends An{constructor(e,n,i){super(e,n,i),this.key=We.fromName(i.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class vN extends An{constructor(e,n){super(e,"in",n),this.keys=Xw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bN extends An{constructor(e,n){super(e,"not-in",n),this.keys=Xw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Xw(r,e){return(e.arrayValue?.values||[]).map((n=>We.fromName(n.referenceValue)))}class _N extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&Fc(n.arrayValue,this.value)}}class wN extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class xN extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class EN extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Fc(this.value.arrayValue,i)))}}class TN{constructor(e,n=null,i=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function E_(r,e=null,n=[],i=[],o=null,u=null,d=null){return new TN(r,e,n,i,o,u,d)}function mg(r){const e=it(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Tp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>dl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>dl(i))).join(",")),e.Te=n}return e.Te}function pg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!pN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Yw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!x_(r.startAt,e.startAt)&&x_(r.endAt,e.endAt)}function Sp(r){return We.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class xl{constructor(e,n=null,i=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function SN(r,e,n,i,o,u,d,p){return new xl(r,e,n,i,o,u,d,p)}function gg(r){return new xl(r)}function T_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kN(r){return We.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Jw(r){return r.collectionGroup!==null}function jc(r){const e=it(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Mn(Xn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qc(u,i))})),n.has(Xn.keyField().canonicalString())||e.Ie.push(new qc(Xn.keyField(),i))}return e.Ie}function Br(r){const e=it(r);return e.Ee||(e.Ee=RN(e,jc(r))),e.Ee}function RN(r,e){if(r.limitType==="F")return E_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qc(o.field,u)}));const n=r.endAt?new ad(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ad(r.startAt.position,r.startAt.inclusive):null;return E_(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function kp(r,e){const n=r.filters.concat([e]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function AN(r,e){const n=r.explicitOrderBy.concat([e]);return new xl(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Rp(r,e,n){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sd(r,e){return pg(Br(r),Br(e))&&r.limitType===e.limitType}function Zw(r){return`${mg(Br(r))}|lt:${r.limitType}`}function Jo(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>Qw(o))).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>dl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>dl(o))).join(",")),`Target(${i})`})(Br(r))}; limitType=${r.limitType})`}function kd(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):We.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of jc(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,p,g){const y=w_(d,p,g);return d.inclusive?y<=0:y<0})(i.startAt,jc(i),o)||i.endAt&&!(function(d,p,g){const y=w_(d,p,g);return d.inclusive?y>=0:y>0})(i.endAt,jc(i),o))})(r,e)}function CN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function e2(r){return(e,n)=>{let i=!1;for(const o of jc(r)){const u=NN(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function NN(r,e,n){const i=r.field.isKeyField()?We.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?hl(g,y):Xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Xe(19790,{direction:r.dir})}}class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return Lw(this.inner)}size(){return this.innerSize}}const IN=new cn(We.comparator);function Ei(){return IN}const t2=new cn(We.comparator);function Tc(...r){let e=t2;for(const n of r)e=e.insert(n.key,n);return e}function n2(r){let e=t2;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Za(){return Dc()}function s2(){return Dc()}function Dc(){return new ho((r=>r.toString()),((r,e)=>r.isEqual(e)))}const jN=new cn(We.comparator),DN=new Mn(We.comparator);function bt(...r){let e=DN;for(const n of r)e=e.add(n);return e}const MN=new Mn(vt);function PN(){return MN}function yg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function r2(r){return{integerValue:""+r}}function ON(r,e){return aN(e)?r2(e):yg(r,e)}class Rd{constructor(){this._=void 0}}function LN(r,e,n){return r instanceof od?(function(o,u){const d={fields:{[Bw]:{stringValue:Uw},[Fw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dg(u)&&(u=Td(u)),u&&(d.fields[zw]=u),{mapValue:d}})(n,e):r instanceof Hc?a2(r,e):r instanceof Gc?o2(r,e):(function(o,u){const d=i2(o,u),p=S_(d)+S_(o.Ae);return Ep(d)&&Ep(o.Ae)?r2(p):yg(o.serializer,p)})(r,e)}function VN(r,e,n){return r instanceof Hc?a2(r,e):r instanceof Gc?o2(r,e):n}function i2(r,e){return r instanceof ld?(function(i){return Ep(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class od extends Rd{}class Hc extends Rd{constructor(e){super(),this.elements=e}}function a2(r,e){const n=l2(e);for(const i of r.elements)n.some((o=>qr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Gc extends Rd{constructor(e){super(),this.elements=e}}function o2(r,e){let n=l2(e);for(const i of r.elements)n=n.filter((o=>!qr(o,i)));return{arrayValue:{values:n}}}class ld extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function S_(r){return _n(r.integerValue||r.doubleValue)}function l2(r){return fg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UN(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Hc&&o instanceof Hc||i instanceof Gc&&o instanceof Gc?ul(i.elements,o.elements,qr):i instanceof ld&&o instanceof ld?qr(i.Ae,o.Ae):i instanceof od&&o instanceof od})(r.transform,e.transform)}class BN{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ad{}function c2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vg(r.key,er.none()):new su(r.key,r.data,er.none());{const n=r.data,i=Ss.empty();let o=new Mn(Xn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Ra(r.key,i,new Os(o.toArray()),er.none())}}function zN(r,e,n){r instanceof su?(function(o,u,d){const p=o.value.clone(),g=R_(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ra?(function(o,u,d){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=R_(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(u2(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Mc(r,e,n,i){return r instanceof su?(function(u,d,p,g){if(!qh(u.precondition,d))return p;const y=u.value.clone(),w=A_(u.fieldTransforms,g,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Ra?(function(u,d,p,g){if(!qh(u.precondition,d))return p;const y=A_(u.fieldTransforms,g,d),w=d.data;return w.setAll(u2(u)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(r,e,n,i):(function(u,d,p){return qh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function FN(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=i2(i.transform,o||null);u!=null&&(n===null&&(n=Ss.empty()),n.set(i.field,u))}return n||null}function k_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ul(i,o,((u,d)=>UN(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Ad{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ra extends Ad{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function u2(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function R_(r,e,n){const i=new Map;Mt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);i.set(u.field,VN(d,p,n[o]))}return i}function A_(r,e,n){const i=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);i.set(o.field,LN(u,d,e))}return i}class vg extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qN extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class HN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zN(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=s2();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const g=c2(d,p);g!==null&&i.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(st.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),bt())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((n,i)=>k_(n,i)))&&ul(this.baseMutations,e.baseMutations,((n,i)=>k_(n,i)))}}class bg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Mt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return jN})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new bg(e,n,i,o)}}class GN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rn,Et;function $N(r){switch(r){case ce.OK:return Xe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Xe(15467,{code:r})}}function h2(r){if(r===void 0)return xi("GRPC error has no .code"),ce.UNKNOWN;switch(r){case Rn.OK:return ce.OK;case Rn.CANCELLED:return ce.CANCELLED;case Rn.UNKNOWN:return ce.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ce.INTERNAL;case Rn.UNAVAILABLE:return ce.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ce.NOT_FOUND;case Rn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Rn.ABORTED:return ce.ABORTED;case Rn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Rn.DATA_LOSS:return ce.DATA_LOSS;default:return Xe(39323,{code:r})}}(Et=Rn||(Rn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";function KN(){return new TextEncoder}const YN=new ma([4294967295,4294967295],0);function C_(r){const e=KN().encode(r),n=new kw;return n.update(e),new Uint8Array(n.digest())}function N_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ma([n,i],0),new ma([o,u],0)]}class _g{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(ma.fromNumber(i)));return o.compare(YN)===1&&(o=new ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C_(e),[i,o]=N_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new _g(u,o,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=C_(e),[i,o]=N_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cd(st.min(),o,new cn(vt),Ei(),bt())}}class ru{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ru(i,n,bt(),bt(),bt())}}class Hh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class d2{constructor(e,n){this.targetId=e,this.Ce=n}}class f2{constructor(e,n,i=Jn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class I_{constructor(){this.ve=0,this.Fe=j_(),this.Me=Jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),n=bt(),i=bt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Xe(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=j_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class QN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.He=Ah(),this.Je=Ah(),this.Ze=new cn(vt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sp(u))if(i===0){const d=new We(u.path);this.et(n,d,is.newNoDocument(d,st.min()))}else Mt(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=_a(i).toUint8Array()}catch(g){if(g instanceof Vw)return cl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new _g(d,o,u)}catch(g){return cl(g instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Sp(p.target)){const g=new We(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,is.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=bt();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Cd(e,n,this.Ze,this.je,i);return this.je=Ei(),this.He=Ah(),this.Je=Ah(),this.Ze=new cn(vt),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new I_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Mn(vt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Mn(vt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ah(){return new cn(We.comparator)}function j_(){return new cn(We.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class e4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ap(r,e){return r.useProto3Json||Ed(e)?e:{value:e}}function cd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function t4(r,e){return cd(r,e.toTimestamp())}function zr(r){return Mt(!!r,49232),st.fromTimestamp((function(n){const i=ba(n);return new ot(i.seconds,i.nanos)})(r))}function wg(r,e){return Cp(r,e).canonicalString()}function Cp(r,e){const n=(function(o){return new Yt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function p2(r){const e=Yt.fromString(r);return Mt(_2(e),10190,{key:e.toString()}),e}function Np(r,e){return wg(r.databaseId,e.path)}function Ym(r,e){const n=p2(e);if(n.get(1)!==r.databaseId.projectId)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new We(y2(n))}function g2(r,e){return wg(r.databaseId,e)}function n4(r){const e=p2(r);return e.length===4?Yt.emptyPath():y2(e)}function Ip(r){return new Yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function y2(r){return Mt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D_(r,e,n){return{name:Np(r,e),fields:n.value.mapValue.fields}}function s4(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(Mt(w===void 0||typeof w=="string",58123),Jn.fromBase64String(w||"")):(Mt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Jn.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const w=y.code===void 0?ce.UNKNOWN:h2(y.code);return new Re(w,y.message||"")})(d);n=new f2(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ym(r,i.document.name),u=zr(i.document.updateTime),d=i.document.createTime?zr(i.document.createTime):st.min(),p=new Ss({mapValue:{fields:i.document.fields}}),g=is.newFoundDocument(o,u,d,p),y=i.targetIds||[],w=i.removedTargetIds||[];n=new Hh(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ym(r,i.document),u=i.readTime?zr(i.readTime):st.min(),d=is.newNoDocument(o,u),p=i.removedTargetIds||[];n=new Hh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ym(r,i.document),u=i.removedTargetIds||[];n=new Hh([],u,o,null)}else{if(!("filter"in e))return Xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new WN(o,u),p=i.targetId;n=new d2(p,d)}}return n}function r4(r,e){let n;if(e instanceof su)n={update:D_(r,e.key,e.value)};else if(e instanceof vg)n={delete:Np(r,e.key)};else if(e instanceof Ra)n={update:D_(r,e.key,e.data),updateMask:f4(e.fieldMask)};else{if(!(e instanceof qN))return Xe(16599,{dt:e.type});n={verify:Np(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const p=d.transform;if(p instanceof od)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ld)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Xe(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:t4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Xe(27497)})(r,e.precondition)),n}function i4(r,e){return r&&r.length>0?(Mt(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?zr(o.updateTime):zr(u);return d.isEqual(st.min())&&(d=zr(u)),new BN(d,o.transformResults||[])})(n,e)))):[]}function a4(r,e){return{documents:[g2(r,e.path)]}}function o4(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=g2(r,o);const u=(function(y){if(y.length!==0)return b2(_r.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((w=>(function(T){return{field:Zo(T.field),direction:u4(T.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Ap(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function l4(r){let e=n4(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Mt(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(x){const T=v2(x);return T instanceof _r&&Kw(T)?T.getFilters():[T]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((T=>(function(H){return new qc(el(H.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(x){let T;return T=typeof x=="object"?x.value:x,Ed(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(x){const T=!!x.before,O=x.values||[];return new ad(O,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const T=!x.before,O=x.values||[];return new ad(O,T)})(n.endAt)),SN(e,o,d,u,p,"F",g,y)}function c4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return An.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=el(n.unaryFilter.field);return An.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=el(n.unaryFilter.field);return An.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(n.unaryFilter.field);return An.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return An.create(el(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((i=>v2(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(r):Xe(30097,{filter:r})}function u4(r){return XN[r]}function h4(r){return JN[r]}function d4(r){return ZN[r]}function Zo(r){return{fieldPath:r.canonicalString()}}function el(r){return Xn.fromServerFormat(r.fieldPath)}function b2(r){return r instanceof An?(function(n){if(n.op==="=="){if(__(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:h4(n.op),value:n.value}}})(r):r instanceof _r?(function(n){const i=n.getFilters().map((o=>b2(o)));return i.length===1?i[0]:{compositeFilter:{op:d4(n.op),filters:i}}})(r):Xe(54877,{filter:r})}function f4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function w2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ha{constructor(e,n,i,o,u=st.min(),d=st.min(),p=Jn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class m4{constructor(e){this.yt=e}}function p4(r){const e=l4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rp(e,e.limit,"L"):e}class g4{constructor(){this.Sn=new y4}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(va.min())}updateCollectionGroup(e,n,i){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class y4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mn(Yt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mn(Yt.comparator)).toArray()}}const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x2=41943040;class Ts{static withCacheSize(e){return new Ts(e,Ts.DEFAULT_COLLECTION_PERCENTILE,Ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Ts.DEFAULT_COLLECTION_PERCENTILE=10,Ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ts.DEFAULT=new Ts(x2,Ts.DEFAULT_COLLECTION_PERCENTILE,Ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ts.DISABLED=new Ts(-1,0,0);class fl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fl(0)}static ar(){return new fl(-1)}}const P_="LruGarbageCollector",v4=1048576;function O_([r,e],[n,i]){const o=vt(r,n);return o===0?vt(e,i):o}class b4{constructor(e){this.Pr=e,this.buffer=new Mn(O_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();O_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ne(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?Ne(P_,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Ar(3e5)}))}}class w4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(xd.ce);const i=new b4(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(M_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(i=x,p=Date.now(),this.removeTargets(e,i,n)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(y=Date.now(),Xo()<=yt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function x4(r,e){return new w4(r,e)}class E4{constructor(){this.changes=new ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class T4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class S4{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Mc(i.mutation,o,Os.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,bt()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=bt()){const o=Za();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=Tc();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=Za();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,bt())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,o){let u=Ei();const d=Dc(),p=(function(){return Dc()})();return n.forEach(((g,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ra)?u=u.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Mc(w.mutation,y,w.mutation.getFieldMask(),ot.now())):d.set(y.key,Os.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,w)=>d.set(y,w))),n.forEach(((y,w)=>p.set(y,new T4(w,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Dc();let o=new cn(((d,p)=>d-p)),u=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let w=i.get(g)||Os.empty();w=p.applyToLocalView(y,w),i.set(g,w);const x=(o.get(p.batchId)||bt()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,x=s2();w.forEach((T=>{if(!u.has(T)){const O=c2(n.get(T),i.get(T));O!==null&&x.set(T,O),u=u.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return me.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return kN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):me.resolve(Za());let p=Uc,g=u;return d.next((y=>me.forEach(y,((w,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(w)?me.resolve():this.remoteDocumentCache.getEntry(e,w).next((T=>{g=g.insert(w,T)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,bt()))).next((w=>({batchId:p,changes:n2(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((i=>{let o=Tc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=Tc();return this.indexManager.getCollectionParents(e,u).next((p=>me.forEach(p,(g=>{const y=(function(x,T){return new xl(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((x,T)=>{d=d.insert(x,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((g,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,is.newInvalidDocument(w)))}));let p=Tc();return d.forEach(((g,y)=>{const w=u.get(g);w!==void 0&&Mc(w.mutation,y,Os.empty(),ot.now()),kd(n,y)&&(p=p.insert(g,y))})),p}))}}class k4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:p4(o.bundledQuery),readTime:zr(o.readTime)}})(n)),me.resolve()}}class R4{constructor(){this.overlays=new cn(We.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Za();return me.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),me.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),me.resolve()}getOverlaysForCollection(e,n,i){const o=Za(),u=n.length+1,d=new We(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return me.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new cn(((y,w)=>y-w));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let w=u.get(y.largestBatchId);w===null&&(w=Za(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Za(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return me.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new GN(n,i));let u=this.Lr.get(n);u===void 0&&(u=bt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class A4{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class xg{constructor(){this.kr=new Mn(Ln.Kr),this.qr=new Mn(Ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Ln(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Ln(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new We(new Yt([])),i=new Ln(n,e),o=new Ln(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new We(new Yt([])),i=new Ln(n,e),o=new Ln(n,e+1);let u=bt();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ln(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ln{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return We.comparator(e.key,n.key)||vt(e.Hr,n.Hr)}static Ur(e,n){return vt(e.Hr,n.Hr)||We.comparator(e.key,n.key)}}class C4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(Ln.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HN(u,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ln(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return me.resolve(d)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return me.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?hg:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ln(n,0),o=new Ln(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),me.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mn(vt);return n.forEach((o=>{const u=new Ln(o,0),d=new Ln(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{i=i.add(p.Hr)}))})),me.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;We.isDocumentKey(u)||(u=u.child(""));const d=new Ln(new We(u),0);let p=new Mn(vt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),d),me.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Mt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return me.forEach(n.mutations,(o=>{const u=new Ln(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Ln(n,0),o=this.Jr.firstAfterOrEqual(i);return me.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class N4{constructor(e){this.ti=e,this.docs=(function(){return new cn(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return me.resolve(i?i.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let i=Ei();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():is.newInvalidDocument(o))})),me.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Ei();const d=n.path,p=new We(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||nN(tN(w),i)<=0||(o.has(w.key)||kd(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return me.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Xe(9500)}ni(e,n){return me.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new I4(this)}getSize(e){return me.resolve(this.size)}}class I4 extends E4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class j4{constructor(e){this.persistence=e,this.ri=new ho((n=>mg(n)),pg),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.ii=0,this.si=new xg,this.targetCount=0,this.oi=fl._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),me.waitFor(u).next((()=>o))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return me.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),me.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),me.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return me.resolve(i)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class E2{constructor(e,n){this._i={},this.overlays={},this.ai=new xd(0),this.ui=!1,this.ui=!0,this.ci=new A4,this.referenceDelegate=e(this),this.li=new j4(this),this.indexManager=new g4,this.remoteDocumentCache=(function(o){return new N4(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new m4(n),this.Pi=new k4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new C4(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){Ne("MemoryPersistence","Starting transaction:",e);const o=new D4(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return me.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class D4 extends rN{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new xg,this.Ai=null}static Vi(e){return new Eg(e)}get di(){if(this.Ai)return this.Ai;throw Xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),me.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(i=>{const o=We.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,st.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ud{constructor(e,n){this.persistence=e,this.fi=new ho((i=>oN(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=x4(this,n)}static Vi(e,n){return new ud(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?me.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(i++,u.removeEntry(d,st.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),me.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}wr(e,n,i){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return me.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=bt(),o=bt();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,i,o)}}class M4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class P4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lk()?8:iN(as())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new M4;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Xo()<=yt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(Xo()<=yt.DEBUG&&Ne("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Xo()<=yt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):me.resolve())}gs(e,n){if(T_(n))return me.resolve(null);let i=Br(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),i=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=bt(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,d,g.readTime)?this.gs(e,Rp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return T_(n)||o.isEqual(st.min())?me.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?me.resolve(null):(Xo()<=yt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(n)),this.Ds(e,d,n,eN(o,Uc)).next((p=>p)))}))}bs(e,n){let i=new Mn(e2(e));return n.forEach(((o,u)=>{kd(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return Xo()<=yt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.fs.getDocumentsMatchingQuery(e,n,va.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Sg="LocalStore",O4=3e8;class L4{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new cn(vt),this.Fs=new ho((u=>mg(u)),pg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function V4(r,e,n,i){return new L4(r,e,n,i)}async function T2(r,e){const n=it(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],p=[];let g=bt();for(const y of o){d.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function U4(r,e){const n=it(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const x=y.batch,T=x.keys();let O=me.resolve();return T.forEach((H=>{O=O.next((()=>w.getEntry(g,H))).next((W=>{const z=y.docVersions.get(H);Mt(z!==null,48541),W.version.compareTo(z)<0&&(x.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),w.addEntry(W)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=bt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function S2(r){const e=it(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function B4(r,e){const n=it(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((w,x)=>{const T=o.get(x);if(!T)return;p.push(n.li.removeMatchingKeys(u,w.removedDocuments,x).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,x))));let O=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(Jn.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),o=o.insert(x,O),(function(W,z,ie){return W.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=O4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(T,O,w)&&p.push(n.li.updateTargetData(u,O))}));let g=Ei(),y=bt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(z4(u,d,e.documentUpdates).next((w=>{g=w.Bs,y=w.Ls}))),!i.isEqual(st.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((x=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(w)}return me.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function z4(r,e,n){let i=bt(),o=bt();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let d=Ei();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(st.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):Ne(Sg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function F4(r,e){const n=it(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=hg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function q4(r,e){const n=it(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,me.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new ha(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function jp(r,e,n){const i=it(r),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wl(d))throw d;Ne(Sg,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function L_(r,e,n){const i=it(r);let o=st.min(),u=bt();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,w){const x=it(g),T=x.Fs.get(w);return T!==void 0?me.resolve(x.vs.get(T)):x.li.getTargetData(y,w)})(i,d,Br(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:st.min(),n?u:bt()))).next((p=>(H4(i,CN(e),p),{documents:p,ks:u})))))}function H4(r,e,n){let i=r.Ms.get(e)||st.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(e,i)}class V_{constructor(){this.activeTargetIds=PN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G4{constructor(){this.vo=new V_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new V_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class W4{Mo(e){}shutdown(){}}const U_="ConnectivityMonitor";class B_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ne(U_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ne(U_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function Dp(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const Qm="RestConnection",$4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class K4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===rd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=Dp(),p=this.Qo(e,n.toUriEncodedString());Ne(Qm,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),w=Ta(y);return this.zo(e,p,g,i,w).then((x=>(Ne(Qm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw cl(Qm,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",i),x}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=$4[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Y4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ss="WebChannelConnection",yc=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class il extends K4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!il.c_){const e=Nw();yc(e,Cw.STAT_EVENT,(n=>{n.stat===_p.PROXY?Ne(ss,"STAT_EVENT: detected buffering proxy"):n.stat===_p.NOPROXY&&Ne(ss,"STAT_EVENT: detected no buffering proxy")})),il.c_=!0}}zo(e,n,i,o,u){const d=Dp();return new Promise(((p,g)=>{const y=new Rw;y.setWithCredentials(!0),y.listenOnce(Aw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bh.NO_ERROR:const x=y.getResponseJson();Ne(ss,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Bh.TIMEOUT:Ne(ss,`RPC '${e}' ${d} timed out`),g(new Re(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const T=y.getStatus();if(Ne(ss,`RPC '${e}' ${d} failed with status:`,T,"response text:",y.getResponseText()),T>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const H=O?.error;if(H&&H.status&&H.message){const W=(function(ie){const Z=ie.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Z)>=0?Z:ce.UNKNOWN})(H.status);g(new Re(W,H.message))}else g(new Re(ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Re(ce.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Ne(ss,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Ne(ss,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",w,i,15)}))}T_(e,n,i){const o=Dp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=u.join("");Ne(ss,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=d.createWebChannel(y,p);this.I_(w);let x=!1,T=!1;const O=new Y4({Ho:H=>{T?Ne(ss,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(x||(Ne(ss,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),Ne(ss,`RPC '${e}' stream ${o} sending:`,H),w.send(H))},Jo:()=>w.close()});return yc(w,Ec.EventType.OPEN,(()=>{T||(Ne(ss,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),yc(w,Ec.EventType.CLOSE,(()=>{T||(T=!0,Ne(ss,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(w))})),yc(w,Ec.EventType.ERROR,(H=>{T||(T=!0,cl(ss,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),O.o_(new Re(ce.UNAVAILABLE,"The operation could not be completed")))})),yc(w,Ec.EventType.MESSAGE,(H=>{if(!T){const W=H.data[0];Mt(!!W,16349);const z=W,ie=z?.error||z[0]?.error;if(ie){Ne(ss,`RPC '${e}' stream ${o} received error:`,ie);const Z=ie.status;let de=(function(Ae){const N=Rn[Ae];if(N!==void 0)return h2(N)})(Z),xe=ie.message;de===void 0&&(de=ce.INTERNAL,xe="Unknown error status: "+Z+" with message "+ie.message),T=!0,O.o_(new Re(de,xe)),w.close()}else Ne(ss,`RPC '${e}' stream ${o} received:`,W),O.__(W)}})),il.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Iw()}}function Q4(r){return new il(r)}function Xm(){return typeof document<"u"?document:null}function Nd(r){return new e4(r,!0)}il.c_=!1;class k2{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const z_="PersistentStream";class R2{constructor(e,n,i,o,u,d,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Re(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ne(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X4 extends R2{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s4(this.serializer,e),i=(function(u){if(!("targetChange"in u))return st.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?st.min():d.readTime?zr(d.readTime):st.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Ip(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=Sp(g)?{documents:a4(u,g)}:{query:o4(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=m2(u,d.resumeToken);const y=Ap(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(st.min())>0){p.readTime=cd(u,d.snapshotVersion.toTimestamp());const y=Ap(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=c4(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Ip(this.serializer),n.removeTarget=e,this.K_(n)}}class J4 extends R2{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i4(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Ip(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>r4(this.serializer,i)))};this.K_(n)}}class Z4{}class eI extends Z4{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Cp(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(ce.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Cp(n,i),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Re(ce.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tI(r,e,n,i){return new eI(r,e,n,i)}class nI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oo="RemoteStore";class sI{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{fo(this)&&(Ne(oo,"Restarting streams for network reachability change."),await(async function(g){const y=it(g);y.Ea.add(4),await iu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Id(y)})(this))}))})),this.Va=new nI(i,o)}}async function Id(r){if(fo(r))for(const e of r.Ra)await e(!0)}async function iu(r){for(const e of r.Ra)await e(!1)}function A2(r,e){const n=it(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cg(n)?Ag(n):El(n).O_()&&Rg(n,e))}function kg(r,e){const n=it(r),i=El(n);n.Ia.delete(e),i.O_()&&C2(n,e),n.Ia.size===0&&(i.O_()?i.L_():fo(n)&&n.Va.set("Unknown"))}function Rg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(r).Z_(e)}function C2(r,e){r.da.$e(e),El(r).X_(e)}function Ag(r){r.da=new QN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),El(r).start(),r.Va.ua()}function Cg(r){return fo(r)&&!El(r).x_()&&r.Ia.size>0}function fo(r){return it(r).Ea.size===0}function N2(r){r.da=void 0}async function rI(r){r.Va.set("Online")}async function iI(r){r.Ia.forEach(((e,n)=>{Rg(r,e)}))}async function aI(r,e){N2(r),Cg(r)?(r.Va.ha(e),Ag(r)):r.Va.set("Unknown")}async function oI(r,e,n){if(r.Va.set("Online"),e instanceof f2&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(i){Ne(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hd(r,i)}else if(e instanceof Hh?r.da.Xe(e):e instanceof d2?r.da.st(e):r.da.tt(e),!n.isEqual(st.min()))try{const i=await S2(r.localStore);n.compareTo(i)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(Jn.EMPTY_BYTE_STRING,w.snapshotVersion)),C2(u,g);const x=new ha(w.target,g,y,w.sequenceNumber);Rg(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){Ne(oo,"Failed to raise snapshot:",i),await hd(r,i)}}async function hd(r,e,n){if(!wl(e))throw e;r.Ea.add(1),await iu(r),r.Va.set("Offline"),n||(n=()=>S2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ne(oo,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Id(r)}))}function I2(r,e){return e().catch((n=>hd(r,n,e)))}async function jd(r){const e=it(r),n=xa(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hg;for(;lI(e);)try{const o=await F4(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,cI(e,o)}catch(o){await hd(e,o)}j2(e)&&D2(e)}function lI(r){return fo(r)&&r.Ta.length<10}function cI(r,e){r.Ta.push(e);const n=xa(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function j2(r){return fo(r)&&!xa(r).x_()&&r.Ta.length>0}function D2(r){xa(r).start()}async function uI(r){xa(r).ra()}async function hI(r){const e=xa(r);for(const n of r.Ta)e.ea(n.mutations)}async function dI(r,e,n){const i=r.Ta.shift(),o=bg.from(i,e,n);await I2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jd(r)}async function fI(r,e){e&&xa(r).Y_&&await(async function(i,o){if((function(d){return $N(d)&&d!==ce.ABORTED})(o.code)){const u=i.Ta.shift();xa(i).B_(),await I2(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jd(i)}})(r,e),j2(r)&&D2(r)}async function F_(r,e){const n=it(r);n.asyncQueue.verifyOperationInProgress(),Ne(oo,"RemoteStore received new credentials");const i=fo(n);n.Ea.add(3),await iu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function mI(r,e){const n=it(r);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await iu(n),n.Va.set("Unknown"))}function El(r){return r.ma||(r.ma=(function(n,i,o){const u=it(n);return u.sa(),new X4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:rI.bind(null,r),Yo:iI.bind(null,r),t_:aI.bind(null,r),J_:oI.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Cg(r)?Ag(r):r.Va.set("Unknown")):(await r.ma.stop(),N2(r))}))),r.ma}function xa(r){return r.fa||(r.fa=(function(n,i,o){const u=it(n);return u.sa(),new J4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uI.bind(null,r),t_:fI.bind(null,r),ta:hI.bind(null,r),na:dI.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await jd(r)):(await r.fa.stop(),r.Ta.length>0&&(Ne(oo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ng{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,p=new Ng(e,n,d,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(xi("AsyncQueue",`${e}: ${r}`),wl(r))return new Re(ce.UNAVAILABLE,`${e}: ${r}`);throw r}class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||We.comparator(n.key,i.key):(n,i)=>We.comparator(n.key,i.key),this.keyedMap=Tc(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class q_{constructor(){this.ga=new cn(We.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ml{constructor(e,n,i,o,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new ml(e,n,al.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class pI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class gI{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=it(n),u=o.queries;o.queries=H_(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new Re(ce.ABORTED,"Firestore shutting down"))}}function H_(){return new ho((r=>Zw(r)),Sd)}async function M2(r,e){const n=it(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new pI,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Ig(d,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&jg(n)}async function P2(r,e){const n=it(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function yI(r,e){const n=it(r);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(i=!0);d.wa=o}}i&&jg(n)}function vI(r,e,n){const i=it(r),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function jg(r){r.Ca.forEach((e=>{e.next()}))}var Mp,G_;(G_=Mp||(Mp={})).Ma="default",G_.Cache="cache";class O2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mp.Cache}}class L2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class bI{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=bt(),this.mutatedKeys=bt(),this.eu=e2(e),this.tu=new al(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new q_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const T=o.get(w),O=kd(this.query,x)?x:null,H=!!T&&this.mutatedKeys.has(T.key),W=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;T&&O?T.data.isEqual(O.data)?H!==W&&(i.track({type:3,doc:O}),z=!0):this.su(T,O)||(i.track({type:2,doc:O}),z=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!T&&O?(i.track({type:0,doc:O}),z=!0):T&&!O&&(i.track({type:1,doc:T}),z=!0,(g||y)&&(p=!0)),z&&(O?(d=d.add(O),u=W?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:d,iu:i,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,x)=>(function(O,H){const W=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Vt:z})}};return W(O)-W(H)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new ml(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=bt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new V2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new L2(i))})),n}cu(e){this.Za=e.ks,this.Ya=bt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dg="SyncEngine";class _I{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class wI{constructor(e){this.key=e,this.hu=!1}}class xI{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ho((p=>Zw(p)),Sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new cn(We.comparator),this.Au=new Map,this.Vu=new xg,this.du={},this.mu=new Map,this.fu=fl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EI(r,e,n=!0){const i=H2(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await U2(i,e,n,!0),o}async function TI(r,e){const n=H2(r);await U2(n,e,!0,!1)}async function U2(r,e,n,i){const o=await q4(r.localStore,Br(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await SI(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&A2(r.remoteStore,o),p}async function SI(r,e,n,i,o){r.pu=(x,T,O)=>(async function(W,z,ie,Z){let de=z.view.ru(ie);de.Ss&&(de=await L_(W.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,de))));const xe=Z&&Z.targetChanges.get(z.targetId),Ie=Z&&Z.targetMismatches.get(z.targetId)!=null,Ae=z.view.applyChanges(de,W.isPrimaryClient,xe,Ie);return $_(W,z.targetId,Ae.au),Ae.snapshot})(r,x,T,O);const u=await L_(r.localStore,e,!0),d=new bI(e,u.ks),p=d.ru(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);$_(r,n,y.au);const w=new _I(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function kI(r,e,n){const i=it(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!Sd(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await jp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&kg(i.remoteStore,o.targetId),Pp(i,o.targetId)})).catch(_l)):(Pp(i,o.targetId),await jp(i.localStore,o.targetId,!0))}async function RI(r,e){const n=it(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),kg(n.remoteStore,i.targetId))}async function AI(r,e,n){const i=PI(r);try{const o=await(function(d,p){const g=it(d),y=ot.now(),w=p.reduce(((O,H)=>O.add(H.key)),bt());let x,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let H=Ei(),W=bt();return g.xs.getEntries(O,w).next((z=>{H=z,H.forEach(((ie,Z)=>{Z.isValidDocument()||(W=W.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,H))).next((z=>{x=z;const ie=[];for(const Z of p){const de=FN(Z,x.get(Z.key).overlayedDocument);de!=null&&ie.push(new Ra(Z.key,de,Gw(de.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,ie,p)})).next((z=>{T=z;const ie=z.applyToLocalDocumentSet(x,W);return g.documentOverlayCache.saveOverlays(O,z.batchId,ie)}))})).then((()=>({batchId:T.batchId,changes:n2(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new cn(vt)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(i,o.batchId,n),await au(i,o.changes),await jd(i.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");n.reject(u)}}async function B2(r,e){const n=it(r);try{const i=await B4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Mt(d.hu,14607):o.removedDocuments.size>0&&(Mt(d.hu,42227),d.hu=!1))})),await au(n,i,e)}catch(i){await _l(i)}}function W_(r,e,n){const i=it(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=it(d);g.onlineState=p;let y=!1;g.queries.forEach(((w,x)=>{for(const T of x.ba)T.va(p)&&(y=!0)})),y&&jg(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function CI(r,e,n){const i=it(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new cn(We.comparator);d=d.insert(u,is.newNoDocument(u,st.min()));const p=bt().add(u),g=new Cd(st.min(),new Map,new cn(vt),d,p);await B2(i,g),i.Ru=i.Ru.remove(u),i.Au.delete(e),Mg(i)}else await jp(i.localStore,e,!1).then((()=>Pp(i,e,n))).catch(_l)}async function NI(r,e){const n=it(r),i=e.batch.batchId;try{const o=await U4(n.localStore,e);F2(n,i,null),z2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await au(n,o)}catch(o){await _l(o)}}async function II(r,e,n){const i=it(r);try{const o=await(function(d,p){const g=it(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Mt(x!==null,37113),w=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);F2(i,e,n),z2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await au(i,o)}catch(o){await _l(o)}}function z2(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function F2(r,e,n){const i=it(r);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||q2(r,i)}))}function q2(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(kg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Mg(r))}function $_(r,e,n){for(const i of n)i instanceof L2?(r.Vu.addReference(i.key,e),jI(r,i)):i instanceof V2?(Ne(Dg,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||q2(r,i.key)):Xe(19791,{wu:i})}function jI(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(Ne(Dg,"New document in limbo: "+n),r.Eu.add(i),Mg(r))}function Mg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new We(Yt.fromString(e)),i=r.fu.next();r.Au.set(i,new wI(n)),r.Ru=r.Ru.insert(n,i),A2(r.remoteStore,new ha(Br(gg(n.path)),i,"TargetPurposeLimboResolution",xd.ce))}}async function au(r,e,n){const i=it(r),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{d.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Tg.Es(g.targetId,y);u.push(w)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(g,y){const w=it(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>me.forEach(y,(T=>me.forEach(T.Ts,(O=>w.persistence.referenceDelegate.addReference(x,T.targetId,O))).next((()=>me.forEach(T.Is,(O=>w.persistence.referenceDelegate.removeReference(x,T.targetId,O)))))))))}catch(x){if(!wl(x))throw x;Ne(Sg,"Failed to update sequence numbers: "+x)}for(const x of y){const T=x.targetId;if(!x.fromCache){const O=w.vs.get(T),H=O.snapshotVersion,W=O.withLastLimboFreeSnapshotVersion(H);w.vs=w.vs.insert(T,W)}}})(i.localStore,u))}async function DI(r,e){const n=it(r);if(!n.currentUser.isEqual(e)){Ne(Dg,"User change. New user:",e.toKey());const i=await T2(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Re(ce.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await au(n,i.Ns)}}function MI(r,e){const n=it(r),i=n.Au.get(e);if(i&&i.hu)return bt().add(i.key);{let o=bt();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function H2(r){const e=it(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=B2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CI.bind(null,e),e.Pu.J_=yI.bind(null,e.eventManager),e.Pu.yu=vI.bind(null,e.eventManager),e}function PI(r){const e=it(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V4(this.persistence,new P4,e.initialUser,this.serializer)}Cu(e){return new E2(Eg.Vi,this.serializer)}Du(e){return new G4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class OI extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Mt(this.persistence.referenceDelegate instanceof ud,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ts.withCacheSize(this.cacheSizeBytes):Ts.DEFAULT;return new E2((i=>ud.Vi(i,n)),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>W_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gI})()}createDatastore(e){const n=Nd(e.databaseInfo.databaseId),i=Q4(e.databaseInfo);return tI(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,p){return new sI(i,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>W_(this.syncEngine,n,0)),(function(){return B_.v()?new B_:new W4})())}createSyncEngine(e,n){return(function(o,u,d,p,g,y,w){const x=new xI(o,u,d,p,g,y);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=it(n);Ne(oo,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class G2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ea="FirestoreClient";class LI{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=rs.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{Ne(Ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(Ne(Ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ig(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jm(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(Ea,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await T2(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function K_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VI(r);Ne(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>F_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>F_(e.remoteStore,o))),r._onlineComponents=e}async function VI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(Ea,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await Jm(r,new dd)}}else Ne(Ea,"Using default OfflineComponentProvider"),await Jm(r,new OI(void 0));return r._offlineComponents}async function W2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(Ea,"Using user provided OnlineComponentProvider"),await K_(r,r._uninitializedComponentsProvider._online)):(Ne(Ea,"Using default OnlineComponentProvider"),await K_(r,new Op))),r._onlineComponents}function UI(r){return W2(r).then((e=>e.syncEngine))}async function $2(r){const e=await W2(r),n=e.eventManager;return n.onListen=EI.bind(null,e.syncEngine),n.onUnlisten=kI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RI.bind(null,e.syncEngine),n}function BI(r,e,n={}){const i=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const w=new G2({next:T=>{w.Nu(),d.enqueueAndForget((()=>P2(u,x)));const O=T.docs.has(p);!O&&T.fromCache?y.reject(new Re(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&g&&g.source==="server"?y.reject(new Re(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new O2(gg(p.path),w,{includeMetadataChanges:!0,Ka:!0});return M2(u,x)})(await $2(r),r.asyncQueue,e,n,i))),i.promise}function zI(r,e,n={}){const i=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const w=new G2({next:T=>{w.Nu(),d.enqueueAndForget((()=>P2(u,x))),T.fromCache&&g.source==="server"?y.reject(new Re(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new O2(p,w,{includeMetadataChanges:!0,Ka:!0});return M2(u,x)})(await $2(r),r.asyncQueue,e,n,i))),i.promise}function FI(r,e){const n=new vi;return r.asyncQueue.enqueueAndForget((async()=>AI(await UI(r),e,n))),n.promise}function K2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const qI="ComponentProvider",Y_=new Map;function HI(r,e,n,i,o){return new uN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,K2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const Y2="firestore.googleapis.com",Q_=!0;class X_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y2,this.ssl=Q_}else this.host=e.host,this.ssl=e.ssl??Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v4)throw new Re(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qC;switch(i.type){case"firstParty":return new $C(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Re(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Y_.get(n);i&&(Ne(qI,"Removing Datastore"),Y_.delete(n),i.terminate())})(this),Promise.resolve()}}function GI(r,e,n,i={}){r=br(r,Dd);const o=Ta(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Kp(`https://${p}`),Yp("Firestore",!0)),u.host!==Y2&&u.host!==p&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!no(g,d)&&(r._setSettings(g),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=rs.MOCK_USER;else{y=B1(i.mockUserToken,r._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new Re(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new rs(x)}r._authCredentials=new HC(new Dw(y,w))}}class mo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class wn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}toJSON(){return{type:wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(nu(n,wn._jsonSchema))return new wn(e,i||null,new We(Yt.fromString(n.referencePath)))}}wn._jsonSchemaVersion="firestore/documentReference/1.0",wn._jsonSchema={type:Cn("string",wn._jsonSchemaVersion),referencePath:Cn("string")};class pa extends mo{constructor(e,n,i){super(e,n,gg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new We(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function ga(r,e,...n){if(r=ln(r),Mw("collection","path",e),r instanceof Dd){const i=Yt.fromString(e,...n);return u_(i),new pa(r,null,i)}{if(!(r instanceof wn||r instanceof pa))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Yt.fromString(e,...n));return u_(i),new pa(r.firestore,null,i)}}function Kt(r,e,...n){if(r=ln(r),arguments.length===1&&(e=ug.newId()),Mw("doc","path",e),r instanceof Dd){const i=Yt.fromString(e,...n);return c_(i),new wn(r,null,new We(i))}{if(!(r instanceof wn||r instanceof pa))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Yt.fromString(e,...n));return c_(i),new wn(r.firestore,r instanceof pa?r.converter:null,new We(i))}}const J_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k2(this,"async_queue_retry"),this._c=()=>{const i=Xm();i&&Ne(J_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;Ne(J_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",e1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ng.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Xe(47125,{Pc:e1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class po extends Dd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Z_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function WI(r,e){const n=typeof r=="object"?r:Zp(),i=typeof r=="string"?r:rd,o=yd(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=L1("firestore");u&&GI(o,...u)}return o}function Pg(r){if(r._terminated)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$I(r),r._firestoreClient}function $I(r){const e=r._freezeSettings(),n=HI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new LI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(Jn.fromBase64String(e))}catch(n){throw new Re(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Zs._jsonSchema))return Zs.fromBase64String(e.bytes)}}Zs._jsonSchemaVersion="firestore/bytes/1.0",Zs._jsonSchema={type:Cn("string",Zs._jsonSchemaVersion),bytes:Cn("string")};class Og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lg{constructor(e){this._methodName=e}}class Fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Cn("string",Fr._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class yr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yr(e.vectorValues);throw new Re(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:Cn("string",yr._jsonSchemaVersion),vectorValues:Cn("object")};const KI=/^__.*__$/;class YI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class Q2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function X2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{dataSource:r})}}class Vg{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return fd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(X2(this.dataSource)&&KI.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nd(e)}createContext(e,n,i,o=!1){return new Vg({dataSource:e,methodName:n,targetDoc:i,path:Xn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(r){const e=r._freezeSettings(),n=Nd(r._databaseId);return new QI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(r,e,n,i,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Ug("Data must be an object, but it was:",d,i);const p=Z2(i,d);let g,y;if(u.merge)g=new Os(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const x of u.mergeFields){const T=lo(e,x,n);if(!d.contains(T))throw new Re(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);nx(w,T)||w.push(T)}g=new Os(w),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new YI(new Ss(p),g,y)}class Pd extends Lg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function XI(r,e,n,i){const o=r.createContext(1,e,n);Ug("Data must be an object, but it was:",o,i);const u=[],d=Ss.empty();ka(i,((g,y)=>{const w=tx(e,g,n);y=ln(y);const x=o.childContextForFieldPath(w);if(y instanceof Pd)u.push(w);else{const T=ou(y,x);T!=null&&(u.push(w),d.set(w,T))}}));const p=new Os(u);return new Q2(d,p,o.fieldTransforms)}function JI(r,e,n,i,o,u){const d=r.createContext(1,e,n),p=[lo(e,i,n)],g=[o];if(u.length%2!=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(lo(e,u[T])),g.push(u[T+1]);const y=[],w=Ss.empty();for(let T=p.length-1;T>=0;--T)if(!nx(y,p[T])){const O=p[T];let H=g[T];H=ln(H);const W=d.childContextForFieldPath(O);if(H instanceof Pd)y.push(O);else{const z=ou(H,W);z!=null&&(y.push(O),w.set(O,z))}}const x=new Os(y);return new Q2(w,x,d.fieldTransforms)}function ZI(r,e,n,i=!1){return ou(n,r.createContext(i?4:3,e))}function ou(r,e){if(ex(r=ln(r)))return Ug("Unsupported field value:",e,r),Z2(r,e);if(r instanceof Lg)return(function(i,o){if(!X2(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const p of i){let g=ou(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=ln(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ON(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ot.fromDate(i);return{timestampValue:cd(o.serializer,u)}}if(i instanceof ot){const u=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(o.serializer,u)}}if(i instanceof Fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zs)return{bytesValue:m2(o.serializer,i._byteString)};if(i instanceof wn){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof yr)return(function(d,p){const g=d instanceof yr?d.toArray():d;return{mapValue:{fields:{[qw]:{stringValue:Hw},[id]:{arrayValue:{values:g.map((w=>{if(typeof w!="number")throw p.createError("VectorValues must only contain numeric values.");return yg(p.serializer,w)}))}}}}}})(i,o);if(w2(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wd(i)}`)})(r,e)}function Z2(r,e){const n={};return Lw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(r,((i,o)=>{const u=ou(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function ex(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof Fr||r instanceof Zs||r instanceof wn||r instanceof Lg||r instanceof yr||w2(r))}function Ug(r,e,n){if(!ex(n)||!Pw(n)){const i=wd(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function lo(r,e,n){if((e=ln(e))instanceof Og)return e._internalPath;if(typeof e=="string")return tx(r,e);throw fd("Field path arguments must be of type string or ",r,!1,void 0,n)}const ej=new RegExp("[~\\*/\\[\\]]");function tx(r,e,n){if(e.search(ej)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Og(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fd(r,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${i}`),d&&(g+=` in document ${o}`),g+=")"),new Re(ce.INVALID_ARGUMENT,p+r+g)}function nx(r,e){return r.some((n=>n.isEqual(e)))}class tj{convertValue(e,n="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ka(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[id].arrayValue?.values?.map((i=>_n(i.doubleValue)));return new yr(n)}convertGeoPoint(e){return new Fr(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=ba(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Yt.fromString(e);Mt(_2(i),9688,{name:e});const o=new zc(i.get(1),i.get(3)),u=new We(i.popFirst(5));return o.isEqual(n)||xi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class sx extends tj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}const t1="@firebase/firestore",n1="4.10.0";class rx{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nj extends rx{data(){return super.data()}}function sj(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Re(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class ix extends Bg{}function Wc(r,e,...n){let i=[];e instanceof Bg&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((g=>g instanceof zg)).length,p=u.filter((g=>g instanceof Od)).length;if(d>1||d>0&&p>0)throw new Re(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Od extends ix{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Od(e,n,i)}_apply(e){const n=this._parse(e);return ax(e._query,n),new mo(e.firestore,e.converter,kp(e._query,n))}_parse(e){const n=Md(e.firestore);return(function(u,d,p,g,y,w,x){let T;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){r1(x,w);const H=[];for(const W of x)H.push(s1(g,u,W));T={arrayValue:{values:H}}}else T=s1(g,u,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||r1(x,w),T=ZI(p,d,x,w==="in"||w==="not-in");return An.create(y,w,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ol(r,e,n){const i=e,o=lo("where",r);return Od._create(o,i,n)}class zg extends Bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)ax(d,g),d=kp(d,g)})(e._query,n),new mo(e.firestore,e.converter,kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fg extends ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fg(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(u,d)})(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,AN(e._query,n))}}function y3(r,e="asc"){const n=e,i=lo("orderBy",r);return Fg._create(i,n)}function s1(r,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new Re(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jw(e)&&n.indexOf("/")!==-1)throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Yt.fromString(n));if(!We.isDocumentKey(i))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return v_(r,new We(i))}if(n instanceof wn)return v_(r,n._key);throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function r1(r,e){if(!Array.isArray(r)||r.length===0)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ax(r,e){const n=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ox(r,e,n){let i;return i=r?r.toFirestore(e):e,i}class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends rx{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Cn("string",eo._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Gh extends eo{data(e={}){return super.data(e)}}class ll{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Gh(this._firestore,this._userDataWriter,i.key,i,new kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:rj(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:r})}}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Cn("string",ll._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};function ms(r){r=br(r,wn);const e=br(r.firestore,po),n=Pg(e);return BI(n,r._key).then((i=>aj(e,r,i)))}function $c(r){r=br(r,mo);const e=br(r.firestore,po),n=Pg(e),i=new sx(e);return sj(r._query),zI(n,r._query).then((o=>new ll(e,i,r,o)))}function Or(r,e,n){r=br(r,wn);const i=br(r.firestore,po),o=ox(r.converter,e),u=Md(i);return Ld(i,[J2(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function v3(r,e,n,...i){r=br(r,wn);const o=br(r.firestore,po),u=Md(o);let d;return d=typeof(e=ln(e))=="string"||e instanceof Og?JI(u,"updateDoc",r._key,e,n,i):XI(u,"updateDoc",r._key,e),Ld(o,[d.toMutation(r._key,er.exists(!0))])}function ij(r){return Ld(br(r.firestore,po),[new vg(r._key,er.none())])}function Lp(r,e){const n=br(r.firestore,po),i=Kt(r),o=ox(r.converter,e),u=Md(r.firestore);return Ld(n,[J2(u,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then((()=>i))}function Ld(r,e){const n=Pg(r);return FI(n,e)}function aj(r,e,n){const i=n.docs.get(e._key),o=new sx(r);return new eo(r,o,e._key,i,new kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){FC(uo),so(new ya("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),p=new po(new GC(i.getProvider("auth-internal")),new KC(d,i.getProvider("app-check-internal")),hN(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Lr(t1,n1,e),Lr(t1,n1,"esm2020")})();var oj="firebase",lj="12.8.0";Lr(oj,lj,"app");const lx="firebasestorage.googleapis.com",cx="storageBucket",cj=120*1e3,uj=600*1e3;class Un extends Gr{constructor(e,n,i=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Un.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vn||(Vn={}));function Zm(r){return"storage/"+r}function ux(){const r="An unknown error occurred, please check the error payload for server response.";return new Un(Vn.UNKNOWN,r)}function hj(r){return new Un(Vn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function dj(r){return new Un(Vn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fj(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Un(Vn.UNAUTHENTICATED,r)}function mj(){return new Un(Vn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pj(r){return new Un(Vn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function gj(){return new Un(Vn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yj(){return new Un(Vn.CANCELED,"User canceled the upload/download.")}function vj(r){return new Un(Vn.INVALID_URL,"Invalid URL '"+r+"'.")}function bj(r){return new Un(Vn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function _j(){return new Un(Vn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cx+"' property when initializing the app?")}function wj(){return new Un(Vn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Vp(r){return new Un(Vn.INVALID_ARGUMENT,r)}function hx(){return new Un(Vn.APP_DELETED,"The Firebase app was deleted.")}function xj(r){return new Un(Vn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(r){throw new Un(Vn.INTERNAL_ERROR,"Internal error: "+r)}class ps{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ps.makeFromUrl(e,n)}catch{return new ps(e,"")}if(i.path==="")return i;throw bj(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(xe){xe.path.charAt(xe.path.length-1)==="/"&&(xe.path_=xe.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(xe){xe.path_=decodeURIComponent(xe.path)}const w="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",O=new RegExp(`^https?://${x}/${w}/b/${o}/o${T}`,"i"),H={bucket:1,path:3},W=n===lx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",ie=new RegExp(`^https?://${W}/${o}/${z}`,"i"),de=[{regex:p,indices:g,postModify:u},{regex:O,indices:H,postModify:y},{regex:ie,indices:{bucket:1,path:2},postModify:y}];for(let xe=0;xe<de.length;xe++){const Ie=de[xe],Ae=Ie.regex.exec(e);if(Ae){const N=Ae[Ie.indices.bucket];let S=Ae[Ie.indices.path];S||(S=""),i=new ps(N,S),Ie.postModify(i);break}}if(i==null)throw vj(e);return i}}class Ej{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Tj(r,e,n){let i=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function w(...z){y||(y=!0,e.apply(null,z))}function x(z){o=setTimeout(()=>{o=null,r(O,g())},z)}function T(){u&&clearTimeout(u)}function O(z,...ie){if(y){T();return}if(z){T(),w.call(null,z,...ie);return}if(g()||d){T(),w.call(null,z,...ie);return}i<64&&(i*=2);let de;p===1?(p=2,de=0):de=(i+Math.random())*1e3,x(de)}let H=!1;function W(z){H||(H=!0,T(),!y&&(o!==null?(z||(p=2),clearTimeout(o),x(0)):z||(p=1)))}return x(0),u=setTimeout(()=>{d=!0,W(!0)},n),W}function Sj(r){r(!1)}function kj(r){return r!==void 0}function Rj(r){return typeof r=="object"&&!Array.isArray(r)}function dx(r){return typeof r=="string"||r instanceof String}function Up(r,e,n,i){if(i<e)throw Vp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw Vp(`Invalid value for '${r}'. Expected ${n} or less.`)}function qg(r,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${r}`}function fx(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var to;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(to||(to={}));function Aj(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class Cj{constructor(e,n,i,o,u,d,p,g,y,w,x,T=!0,O=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,W)=>{this.resolve_=H,this.reject_=W,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===to.NO_ERROR,g=u.getStatus();if(!p||Aj(g,this.additionalRetryCodes_)&&this.retry){const w=u.getErrorCode()===to.ABORT;i(!1,new Nh(!1,null,w));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Nh(y,u))})},n=(i,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());kj(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=ux();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?hx():yj();d(g)}else{const g=gj();d(g)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=Tj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Nj(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Ij(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jj(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Dj(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Mj(r,e,n,i,o,u,d=!0,p=!1){const g=fx(r.urlParams),y=r.url+g,w=Object.assign({},r.headers);return jj(w,e),Nj(w,n),Ij(w,u),Dj(w,i),new Cj(y,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}function Hg(r){let e;try{e=JSON.parse(r)}catch{return null}return Rj(e)?e:null}function Pj(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Oj(r,e){const n=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function mx(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function Lj(r,e){return e}class fs{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||Lj}}let Ih=null;function Vj(r){return!dx(r)||r.length<2?r:mx(r)}function Uj(){if(Ih)return Ih;const r=[];r.push(new fs("bucket")),r.push(new fs("generation")),r.push(new fs("metageneration")),r.push(new fs("name","fullPath",!0));function e(u,d){return Vj(d)}const n=new fs("name");n.xform=e,r.push(n);function i(u,d){return d!==void 0?Number(d):d}const o=new fs("size");return o.xform=i,r.push(o),r.push(new fs("timeCreated")),r.push(new fs("updated")),r.push(new fs("md5Hash",null,!0)),r.push(new fs("cacheControl",null,!0)),r.push(new fs("contentDisposition",null,!0)),r.push(new fs("contentEncoding",null,!0)),r.push(new fs("contentLanguage",null,!0)),r.push(new fs("contentType",null,!0)),r.push(new fs("metadata","customMetadata",!0)),Ih=r,Ih}function Bj(r,e){function n(){const i=r.bucket,o=r.fullPath,u=new ps(i,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function zj(r,e,n){const i={};i.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];i[d.local]=d.xform(i,e[d.server])}return Bj(i,r),i}function Fj(r,e,n){const i=Hg(e);return i===null?null:zj(r,i,n)}function qj(r,e,n,i){const o=Hg(e);if(o===null||!dx(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(y=>{const w=r.bucket,x=r.fullPath,T="/b/"+d(w)+"/o/"+d(x),O=qg(T,n,i),H=fx({alt:"media",token:y});return O+H})[0]}const i1="prefixes",a1="items";function Hj(r,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[i1])for(const o of n[i1]){const u=o.replace(/\/$/,""),d=r._makeStorageReference(new ps(e,u));i.prefixes.push(d)}if(n[a1])for(const o of n[a1]){const u=r._makeStorageReference(new ps(e,o.name));i.items.push(u)}return i}function Gj(r,e,n){const i=Hg(n);return i===null?null:Hj(r,e,i)}class px{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gx(r){if(!r)throw ux()}function Wj(r,e){function n(i,o){const u=Gj(r,e,o);return gx(u!==null),u}return n}function $j(r,e){function n(i,o){const u=Fj(r,o,e);return gx(u!==null),qj(u,o,r.host,r._protocol)}return n}function yx(r){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=mj():o=fj():n.getStatus()===402?o=dj(r.bucket):n.getStatus()===403?o=pj(r.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function Kj(r){const e=yx(r);function n(i,o){let u=e(i,o);return i.getStatus()===404&&(u=hj(r.path)),u.serverResponse=o.serverResponse,u}return n}function Yj(r,e,n,i,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);const d=e.bucketOnlyServerUrl(),p=qg(d,r.host,r._protocol),g="GET",y=r.maxOperationRetryTime,w=new px(p,g,Wj(r,e.bucket),y);return w.urlParams=u,w.errorHandler=yx(e),w}function Qj(r,e,n){const i=e.fullServerUrl(),o=qg(i,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,p=new px(o,u,$j(r,n),d);return p.errorHandler=Kj(e),p}class Xj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=to.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=to.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=to.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,u){if(this.sent_)throw vc("cannot .send() more than once");if(Ta(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jj extends Xj{initXhr(){this.xhr_.responseType="text"}}function vx(){return new Jj}class co{constructor(e,n){this._service=e,n instanceof ps?this._location=n:this._location=ps.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new co(e,n)}get root(){const e=new ps(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mx(this._location.path)}get storage(){return this._service}get parent(){const e=Pj(this._location.path);if(e===null)return null;const n=new ps(this._location.bucket,e);return new co(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xj(e)}}function Zj(r){const e={prefixes:[],items:[]};return bx(r,e).then(()=>e)}async function bx(r,e,n){const o=await eD(r,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await bx(r,e,o.nextPageToken)}function eD(r,e){e!=null&&typeof e.maxResults=="number"&&Up("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=Yj(r.storage,r._location,"/",n.pageToken,n.maxResults);return r.storage.makeRequestWithTokens(i,vx)}function tD(r){r._throwIfRoot("getDownloadURL");const e=Qj(r.storage,r._location,Uj());return r.storage.makeRequestWithTokens(e,vx).then(n=>{if(n===null)throw wj();return n})}function nD(r,e){const n=Oj(r._location.path,e),i=new ps(r._location.bucket,n);return new co(r.storage,i)}function sD(r){return/^[A-Za-z]+:\/\//.test(r)}function rD(r,e){return new co(r,e)}function _x(r,e){if(r instanceof Gg){const n=r;if(n._bucket==null)throw _j();const i=new co(n,n._bucket);return e!=null?_x(i,e):i}else return e!==void 0?nD(r,e):r}function iD(r,e){if(e&&sD(e)){if(r instanceof Gg)return rD(r,e);throw Vp("To use ref(service, url), the first argument must be a Storage instance.")}else return _x(r,e)}function o1(r,e){const n=e?.[cx];return n==null?null:ps.makeFromBucketSpec(n,r)}function aD(r,e,n,i={}){r.host=`${e}:${n}`;const o=Ta(e);o&&(Kp(`https://${r.host}/b`),Yp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(r._overrideAuthToken=typeof u=="string"?u:B1(u,r.app.options.projectId))}class Gg{constructor(e,n,i,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=lx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cj,this._maxUploadRetryTime=uj,this._requests=new Set,o!=null?this._bucket=ps.makeFromBucketSpec(o,this._host):this._bucket=o1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ps.makeFromBucketSpec(this._url,e):this._bucket=o1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Up("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Up("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,n,i,o,u=!0){if(this._deleted)return new Ej(hx());{const d=Mj(e,this._appId,i,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const l1="@firebase/storage",c1="0.14.0";const wx="storage";function u1(r){return r=ln(r),Zj(r)}function Wh(r){return r=ln(r),tD(r)}function Rc(r,e){return r=ln(r),iD(r,e)}function oD(r=Zp(),e){r=ln(r);const i=yd(r,wx).getImmediate({identifier:e}),o=L1("storage");return o&&lD(i,...o),i}function lD(r,e,n,i={}){aD(r,e,n,i)}function cD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Gg(n,i,o,e,uo)}function uD(){so(new ya(wx,cD,"PUBLIC").setMultipleInstances(!0)),Lr(l1,c1,""),Lr(l1,c1,"esm2020")}uD();const xx={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},Wg=Jp(xx),bc=Sw(Wg),Tt=WI(Wg),Ac=oD(Wg),hD=Jp(xx,"secondary"),b3=Sw(hD),dD="EYdciKDOi3UYBLk1u8hHams5tmO2",Ex=k.createContext();function Aa(){return k.useContext(Ex)}function fD({children:r}){const[e,n]=k.useState(null),[i,o]=k.useState(!1),[u,d]=k.useState(!1),[p,g]=k.useState(null),[y,w]=k.useState(!0);k.useEffect(()=>NA(bc,async ie=>{if(n(ie),ie)if(ie.uid===dD)o(!0),d(!1),g(null);else{o(!1);try{const Z=Wc(ga(Tt,"clients"),ol("uid","==",ie.uid)),de=await $c(Z);if(de.empty)d(!1),g(null);else{const xe=de.docs[0];d(!0),g({id:xe.id,...xe.data()})}}catch(Z){console.error("Error fetching client data:",Z),d(!1),g(null)}}else o(!1),d(!1),g(null);w(!1)}),[]);const W={currentUser:e,isAdmin:i,isClient:u,clientData:p,updateClientData:z=>{g(ie=>ie&&{...ie,...z})},login:async(z,ie,Z=!0)=>(await RA(bc,Z?yw:ag),await kA(bc,z,ie)),logout:()=>IA(bc),resetPassword:z=>SA(bc,z),loading:y};return c.jsx(Ex.Provider,{value:W,children:r})}const Tx=k.createContext();function Tl(){return k.useContext(Tx)}function mD({children:r}){const[e,n]=k.useState(()=>{const g=localStorage.getItem("theme");return g?g==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),[i,o]=k.useState(()=>localStorage.getItem("accent")||"red");k.useEffect(()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("theme",e?"dark":"light")},[e]),k.useEffect(()=>{localStorage.setItem("accent",i)},[i]);const p={isDark:e,toggleTheme:()=>{document.documentElement.setAttribute("data-theme-transitioning",""),n(!e),setTimeout(()=>{document.documentElement.removeAttribute("data-theme-transitioning")},350)},accent:i,setAccent:g=>o(g)};return c.jsx(Tx.Provider,{value:p,children:r})}function pD(){const[r,e]=k.useState(""),[n,i]=k.useState(""),[o,u]=k.useState(!0),[d,p]=k.useState(""),[g,y]=k.useState(!1),[w,x]=k.useState(!1),[T,O]=k.useState(!1),{login:H,resetPassword:W,currentUser:z,isAdmin:ie,isClient:Z,clientData:de,loading:xe}=Aa(),Ie=nr();if(k.useEffect(()=>{if(!xe&&z){if(ie)Ie("/dashboard");else if(Z){const S=de?.clientType;Ie(S==="core_buddy"?"/client/core-buddy":S==="circuit_vip"||S==="circuit_dropin"?"/client/circuit":"/client")}}},[xe,z,ie,Z,de,Ie]),xe)return null;const Ae=async S=>{S.preventDefault(),p(""),y(!0);try{await H(r,n,o)}catch(A){p(A.message||"Failed to log in"),y(!1)}},N=async S=>{if(S.preventDefault(),p(""),!r.trim()){p("Please enter your email address");return}y(!0);try{await W(r.trim()),O(!0)}catch(A){A.code==="auth/user-not-found"?p("No account found with this email"):p(A.message||"Failed to send reset email")}y(!1)};return c.jsx("div",{className:"login-container",children:c.jsxs("div",{className:"login-card",children:[c.jsxs("div",{className:"login-header",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"login-logo"}),c.jsx("p",{children:w?"Reset Password":"Client Portal"})]}),d&&c.jsx("div",{className:"error-message",children:d}),T?c.jsxs("div",{className:"reset-sent",children:[c.jsx("div",{className:"reset-sent-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M22 2L11 13",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("p",{children:"Reset email sent!"}),c.jsx("span",{children:"Check your inbox for a password reset link"}),c.jsx("button",{className:"login-btn",style:{marginTop:"20px"},onClick:()=>{x(!1),O(!1),p("")},children:"Back to Log In"})]}):w?c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),placeholder:"Enter your email",required:!0})]}),c.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Sending...":"Send Reset Link"}),c.jsx("button",{type:"button",className:"forgot-link",onClick:()=>{x(!1),p("")},children:"Back to Log In"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Ae,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:n,onChange:S=>i(S.target.value),required:!0})]}),c.jsx("div",{className:"remember-me",children:c.jsxs("label",{children:[c.jsx("input",{type:"checkbox",checked:o,onChange:S=>u(S.target.checked)}),c.jsx("span",{children:"Remember me"})]})}),c.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Logging in...":"Log In"})]}),c.jsx("button",{type:"button",className:"forgot-link",onClick:()=>{x(!0),p("")},children:"Forgot password?"})]}),c.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function Sl({active:r}){const e=nr(),{clientData:n}=Aa(),i=n?.clientType==="block"&&n?.coreBuddyAccess;return c.jsxs("nav",{className:"block-bottom-nav",children:[c.jsxs("button",{className:`block-nav-tab${r==="home"?" active":""}`,onClick:()=>e("/client/core-buddy"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),c.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),c.jsx("span",{children:"Home"})]}),c.jsxs("button",{className:`block-nav-tab${r==="workouts"?" active":""}`,onClick:()=>e("/client/core-buddy/workouts"),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2.71 7 4.14 8.43 7.71 4.86 16.29 13.43 12.71 17 14.14 18.43 15.57 17 17 18.43 14.14 21.29l1.43 1.43 1.43-1.43 1.43 1.43 2.14-2.14 1.43 1.43L22 20.57z"})}),c.jsx("span",{children:"Workouts"})]}),c.jsxs("button",{className:`block-nav-tab${r==="nutrition"?" active":""}`,onClick:()=>e("/client/core-buddy/nutrition"),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"})}),c.jsx("span",{children:"Nutrition"})]}),c.jsxs("button",{className:`block-nav-tab${r==="progress"?" active":""}`,onClick:()=>e("/client/personal-bests?mode=corebuddy"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 20V10"}),c.jsx("path",{d:"M18 20V4"}),c.jsx("path",{d:"M6 20v-4"})]}),c.jsx("span",{children:"Progress"})]}),i&&c.jsxs("button",{className:"block-nav-tab",onClick:()=>e("/client"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),c.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),c.jsx("span",{children:"Block"})]})]})}function lu(r,e,n,i,o){const u=[];for(let d=0;d<r;d++){const p=(d*(360/r)-90)*(Math.PI/180);u.push({x1:e+i*Math.cos(p),y1:n+i*Math.sin(p),x2:e+o*Math.cos(p),y2:n+o*Math.sin(p),thick:d%5===0})}return u}const gD=lu(60,100,100,85,96),ua=lu(60,100,100,78,94),yD=lu(60,100,100,82,94);lu(60,50,50,38,46);const _3=lu(60,40,40,30,37),vD="/login/assets/workouts-DXJtvJtv.jpg",ep=[10,25,50,100,200,500,1e3],bD=5;function _D(r){return r.toISOString().split("T")[0]}function wD(r){let e=0;for(const n of ep){if(r<n)return{prev:e,next:n};e=n}return{prev:ep[ep.length-1],next:r+100}}const xD={fullbody_4wk:{duration:4,daysPerWeek:3},fullbody_8wk:{duration:8,daysPerWeek:3},fullbody_12wk:{duration:12,daysPerWeek:3},core_4wk:{duration:4,daysPerWeek:3},core_8wk:{duration:8,daysPerWeek:3},core_12wk:{duration:12,daysPerWeek:3},upper_4wk:{duration:4,daysPerWeek:3},lower_4wk:{duration:4,daysPerWeek:3}};function ED(){const{currentUser:r,isClient:e,clientData:n,logout:i,loading:o}=Aa(),{isDark:u,toggleTheme:d}=Tl(),p=nr(),[g,y]=k.useState({hours:0,minutes:0,seconds:0}),[w,x]=k.useState(0),[T,O]=k.useState(0),[H,W]=k.useState(""),[z,ie]=k.useState(0),[Z,de]=k.useState(0),[xe,Ie]=k.useState(!1),[Ae,N]=k.useState(null);k.useCallback((be,Be="info")=>{N({message:be,type:Be}),setTimeout(()=>N(null),4e3)},[]),k.useEffect(()=>{!o&&!r&&p("/")},[o,r,p]),k.useEffect(()=>{const be=()=>{const F=new Date,fe=new Date(F);fe.setHours(23,59,59,999);const we=fe-F,$e=Math.floor(we/(1e3*60*60)),Ke=Math.floor(we%(1e3*60*60)/(1e3*60)),P=Math.floor(we%(1e3*60)/1e3);y({hours:$e,minutes:Ke,seconds:P}),x(60-P)};be();const Be=setInterval(be,1e3);return()=>clearInterval(Be)},[]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const Be=await ms(Kt(Tt,"clientProgrammes",n.id));if(Be.exists()){const Te=Be.data(),Se=xD[Te.templateId];if(Se){const Fe=Object.keys(Te.completedSessions||{}).length,et=Se.duration*Se.daysPerWeek;O(et>0?Math.round(Fe/et*100):0);const tt=Te.templateId.replace(/_/g," ").replace(/\b\w/g,Ht=>Ht.toUpperCase());W(tt)}}const F=ga(Tt,"workoutLogs"),fe=Wc(F,ol("clientId","==",n.id)),$e=(await $c(fe)).docs.filter(Te=>Te.data().type!=="programme").length;ie($e);const Ke=_D(new Date),P=ga(Tt,"habitLogs"),G=Wc(P,ol("clientId","==",n.id),ol("date","==",Ke)),he=await $c(G);let ye=0;if(!he.empty){const Te=he.docs[0].data().habits||{};ye=Object.values(Te).filter(Boolean).length}de(Math.round(ye/bD*100))}catch(Be){console.error("Error loading dashboard stats:",Be)}finally{Ie(!0)}})()},[r,n]);const S=be=>{const Be=be.currentTarget,F=Be.querySelector(".ripple");F&&F.remove();const fe=Be.getBoundingClientRect(),we=Math.max(fe.width,fe.height),$e=be.clientX-fe.left-we/2,Ke=be.clientY-fe.top-we/2,P=document.createElement("span");P.className="ripple",P.style.cssText=`width:${we}px;height:${we}px;left:${$e}px;top:${Ke}px;`,Be.appendChild(P),setTimeout(()=>P.remove(),600)},A=n?.name?.split(" ")[0]||"there",{prev:I,next:D}=wD(z),B=D>I?Math.round((z-I)/(D-I)*100):100,j=[{label:"Programme",value:`${T}%`,pct:T,color:"#14b8a6",size:"normal"},{label:"Workouts",value:`${z}`,pct:B,color:"var(--color-primary)",size:"large"},{label:"Habits Today",value:`${Z}%`,pct:Z,color:"#38B6FF",size:"normal"}];return c.jsxs("div",{className:"cb-dashboard","data-theme":u?"dark":"light",children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{onClick:d,"aria-label":"Toggle theme",children:u?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),c.jsx("button",{onClick:i,"aria-label":"Log out",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]})}),c.jsxs("main",{className:"cb-main",children:[c.jsx("div",{className:"cb-greeting",children:c.jsxs("h2",{children:["Hey ",A]})}),c.jsxs("div",{className:"cb-ring-container",children:[c.jsxs("div",{className:"cb-ring",children:[c.jsx("svg",{className:"cb-ring-svg",viewBox:"0 0 200 200",children:gD.map((be,Be)=>{const F=Be<w;return c.jsx("line",{x1:be.x1,y1:be.y1,x2:be.x2,y2:be.y2,className:`ring-tick ${F?"elapsed":"remaining"}`,strokeWidth:be.thick?"3":"2"},Be)})}),c.jsxs("div",{className:"cb-ring-center",children:[c.jsx("div",{className:"cb-ring-logo",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness"})}),c.jsxs("div",{className:"cb-ring-countdown",children:[c.jsx("span",{className:"cb-timer-digit",children:String(g.hours).padStart(2,"0")}),c.jsx("span",{className:"cb-timer-colon",children:":"}),c.jsx("span",{className:"cb-timer-digit",children:String(g.minutes).padStart(2,"0")}),c.jsx("span",{className:"cb-timer-colon",children:":"}),c.jsx("span",{className:"cb-timer-digit cb-timer-seconds",children:String(g.seconds).padStart(2,"0")})]}),c.jsx("div",{className:"cb-ring-label",children:"remaining today"})]})]}),c.jsxs("p",{className:"cb-ring-tagline",children:["You have 24 hours a day... ",c.jsx("strong",{children:"make it count"})," with Core Buddy"]})]}),c.jsx("div",{className:"cb-stats-row",children:j.map(be=>{const Be=(be.size==="large",38),F=2*Math.PI*Be,fe=F-be.pct/100*F;return c.jsxs("div",{className:`cb-stat-item${be.size==="large"?" cb-stat-large":""}`,children:[c.jsxs("div",{className:"cb-stat-ring",children:[c.jsxs("svg",{viewBox:"0 0 100 100",children:[c.jsx("circle",{className:"cb-stat-track",cx:"50",cy:"50",r:Be}),c.jsx("circle",{className:"cb-stat-fill",cx:"50",cy:"50",r:Be,style:{stroke:be.color},strokeDasharray:F,strokeDashoffset:fe})]}),c.jsx("span",{className:"cb-stat-value",style:{color:be.color},children:be.value})]}),c.jsx("span",{className:"cb-stat-label",children:be.label})]},be.label)})}),c.jsxs("div",{className:"cb-features",children:[c.jsxs("button",{className:"cb-feature-card cb-card-nutrition cb-card-has-preview ripple-btn",onClick:be=>{S(be),p("/client/core-buddy/nutrition")},children:[c.jsxs("div",{className:"cb-card-top-row",children:[c.jsx("div",{className:"cb-card-content",children:c.jsx("h3",{children:"Today's Nutrition"})}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsx("div",{className:"cb-card-preview-row",children:c.jsx("div",{className:"cb-mini-rings",children:[{label:"P",pct:25,color:"#14b8a6"},{label:"C",pct:47,color:"var(--color-primary)"},{label:"F",pct:63,color:"#eab308"},{label:"Cal",pct:37,color:"#38B6FF"}].map(be=>{const F=2*Math.PI*38,fe=F-be.pct/100*F;return c.jsxs("div",{className:"cb-mini-ring",children:[c.jsxs("svg",{viewBox:"0 0 100 100",children:[c.jsx("circle",{className:"cb-mini-track",cx:"50",cy:"50",r:38}),c.jsx("circle",{className:"cb-mini-fill",cx:"50",cy:"50",r:38,style:{stroke:be.color},strokeDasharray:F,strokeDashoffset:fe})]}),c.jsx("span",{style:{color:be.color},children:be.label})]},be.label)})})}),c.jsx("p",{className:"cb-card-desc",children:"Track macros, scan barcodes, log water"})]}),c.jsx("button",{className:"cb-feature-card cb-card-workouts cb-card-thumbnail ripple-btn",onClick:be=>{S(be),p("/client/core-buddy/workouts")},children:c.jsx("img",{src:vD,alt:"Workouts",className:"cb-card-thumb-img"})}),c.jsxs("button",{className:"cb-feature-card cb-card-consistency ripple-btn",onClick:be=>{S(be),p("/client/core-buddy/consistency")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"Daily Habits"}),c.jsx("p",{children:"Check off your daily habits and build streaks"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsxs("button",{className:"cb-feature-card cb-card-progress ripple-btn",onClick:be=>{S(be),p("/client/personal-bests?mode=corebuddy")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"My Progress"}),c.jsx("p",{children:"Track personal bests and body metrics"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsxs("button",{className:"cb-feature-card cb-card-leaderboard ripple-btn",onClick:be=>{S(be),p("/client/leaderboard")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"Leaderboard"}),c.jsx("p",{children:"Compete with your Core Buddies"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]})]})]}),c.jsx(Sl,{active:"home"}),Ae&&c.jsxs("div",{className:`toast-notification ${Ae.type}`,children:[Ae.type==="info"&&c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),Ae.message]})]})}const tp=new Map;function ia(){return new Date().toISOString().split("T")[0]}const TD=[{key:"breakfast",label:"Breakfast"},{key:"lunch",label:"Lunch"},{key:"dinner",label:"Dinner"},{key:"snacks",label:"Snacks"}],SD={breakfast:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),c.jsx("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),c.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),c.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),c.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),lunch:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}),dinner:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),snacks:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})};function kD(){const r=new Date().getHours();return r<11?"breakfast":r<14?"lunch":r<17?"snacks":"dinner"}function RD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Aa(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=nr(),[g,y]=k.useState("loading"),[w,x]=k.useState(null),[T,O]=k.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",dailyActivity:"sedentary",trainingFrequency:"moderate",goal:"maintain",deficitLevel:"moderate"}),[H,W]=k.useState(null),[z,ie]=k.useState(ia()),[Z,de]=k.useState({entries:[],water:0}),[xe,Ie]=k.useState({protein:0,carbs:0,fats:0,calories:0}),[Ae,N]=k.useState(!1),[S,A]=k.useState(!1),[I,D]=k.useState(()=>{const C=new Date;return{year:C.getFullYear(),month:C.getMonth()}}),[B,j]=k.useState(kD),[be,Be]=k.useState(null),[F,fe]=k.useState(null),[we,$e]=k.useState(!1),[Ke,P]=k.useState(null),[G,he]=k.useState(""),[ye,Te]=k.useState(!1),[Se,Fe]=k.useState(""),[et,tt]=k.useState([]),[Ht,xn]=k.useState(!1),[It,un]=k.useState({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""}),[ne,rn]=k.useState(null),[Pt,wt]=k.useState("100"),[xt,nt]=k.useState(0),[Ze,Gt]=k.useState("weight"),[Wr,Us]=k.useState(0),[Ot,Pn]=k.useState(null);k.useRef(null);const hn=k.useRef(!1),Nn=k.useRef(null),le=k.useRef(null),ge=k.useRef(null),_e=k.useCallback((C,U="info")=>{Pn({message:C,type:U}),setTimeout(()=>Pn(null),3e3)},[]);k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n?.id)return;(async()=>{try{const U=await ms(Kt(Tt,"nutritionTargets",n.id));U.exists()?(x(U.data()),y("dashboard")):y("setup")}catch(U){console.error("Error loading nutrition data:",U),y("setup")}})()},[n?.id]),k.useEffect(()=>{if(!n?.id)return;(async()=>{try{const U=await ms(Kt(Tt,"nutritionLogs",`${n.id}_${z}`));if(U.exists()){const re=U.data();de({entries:re.entries||[],water:re.water||0})}else de({entries:[],water:0})}catch(U){console.error("Error loading log:",U),de({entries:[],water:0})}})()},[n?.id,z]),k.useEffect(()=>{const C=Z.entries.reduce((U,re)=>({protein:U.protein+(re.protein||0),carbs:U.carbs+(re.carbs||0),fats:U.fats+(re.fats||0),calories:U.calories+(re.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});Ie(C)},[Z.entries]);const Ue=async C=>{try{await Or(Kt(Tt,"nutritionLogs",`${n.id}_${z}`),{clientId:n.id,date:z,entries:C.entries,water:C.water,updatedAt:ot.now()})}catch(U){console.error("Error saving nutrition log:",U)}},Ce=z===ia(),ke=(C,U)=>new Date(C,U+1,0).getDate(),Pe=(C,U)=>new Date(C,U,1).getDay(),Oe=["January","February","March","April","May","June","July","August","September","October","November","December"],He=["Su","Mo","Tu","We","Th","Fr","Sa"],ft=()=>{let C=parseFloat(T.weight);T.weightUnit==="lbs"&&(C*=.453592);let U;T.heightUnit==="cm"?U=parseFloat(T.height):U=(parseFloat(T.heightFeet)||0)*30.48+(parseFloat(T.heightInches)||0)*2.54;const re=parseInt(T.age);let ae=T.gender==="male"?10*C+6.25*U-5*re+5:10*C+6.25*U-5*re-161;const Le=ae*{sedentary:1.2,light:1.3,moderate:1.4,active:1.5}[T.dailyActivity],qe={low:100,moderate:200,high:300,daily:400},Dt=Math.round(Le+qe[T.trainingFrequency]);let at=Dt,V,ee;switch(T.goal){case"lose":at=Dt*(1-{light:.15,moderate:.2,harsh:.25}[T.deficitLevel]),V=2.2,ee=.3;break;case"build":at=Dt*1.1,V=2,ee=.22;break;default:V=1.8,ee=.25}at=Math.max(at,T.gender==="male"?1400:1100);const X=Math.round(C*V),pe=Math.round(at*ee/9),ve=Math.max(0,Math.round((at-X*4-pe*9)/4));W({calories:Math.round(at),protein:X,carbs:ve,fats:pe,bmr:Math.round(ae),neat:Math.round(Le),exerciseAdd:qe[T.trainingFrequency],tdee:Math.round(Dt)})},Wt=async()=>{if(H)try{const C={clientId:n.id,calories:H.calories,protein:H.protein,carbs:H.carbs,fats:H.fats,waterGoal:8,goal:T.goal,updatedAt:ot.now()};await Or(Kt(Tt,"nutritionTargets",n.id),C),x(C),y("dashboard"),_e("Macro targets saved!","success")}catch(C){console.error("Error saving targets:",C),_e("Failed to save targets. Please try again.","error")}},jt=()=>{const C=T.weight&&parseFloat(T.weight)>0,U=T.age&&parseInt(T.age)>0,re=T.heightUnit==="cm"?T.height&&parseFloat(T.height)>0:T.heightFeet&&parseFloat(T.heightFeet)>0||T.heightInches&&parseFloat(T.heightInches)>0;return C&&U&&re},dn="nut_favourite_foods",gs=()=>{try{return JSON.parse(localStorage.getItem(dn)||"[]")}catch{return[]}},Ut=C=>gs().some(U=>U.name.toLowerCase()===(C||"").toLowerCase()),Bn=C=>{const U=gs(),re=U.findIndex(ae=>ae.name.toLowerCase()===C.name.toLowerCase());re>=0?U.splice(re,1):U.unshift({name:C.name,protein:C.protein,carbs:C.carbs,fats:C.fats,calories:C.calories,serving:C.serving,per100g:C.per100g||null,servingUnit:C.servingUnit||"g",portion:C.portion||null}),localStorage.setItem(dn,JSON.stringify(U)),Us(ae=>ae+1)},In=C=>{const U=[...Z.entries,{...C,meal:B,id:Date.now(),addedAt:new Date().toISOString()}],re={...Z,entries:U};de(re),Ue(re),fe(null),rn(null),wt("100"),nt(0),Gt("weight"),un({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""}),_e("Food added!","success")},Zn=C=>{const U=Z.entries.filter(ae=>ae.id!==C),re={...Z,entries:U};de(re),Ue(re)},sr=k.useRef(null),$r=async()=>{$e(!0);const C=document.querySelector("#barcode-reader");if(!C){$e(!1),_e("Scanner container not found.","error");return}if(!sr.current)try{const re=await Ls(()=>import("./quagga.min-BbicSfvA.js").then(ae=>ae.q),[]);sr.current=re.default}catch(re){console.error("Failed to load barcode scanner:",re),$e(!1),_e("Could not load scanner.","error");return}const U=sr.current;U.init({inputStream:{type:"LiveStream",target:C,constraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||2,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader"]},locate:!0},re=>{if(re){console.error("Quagga init error:",re),$e(!1),_e("Could not access camera. Check permissions.","error");return}U.start(),hn.current=!0}),U.onDetected(re=>{const ae=re.codeResult.decodedCodes?.filter(Le=>Le.error!==void 0)?.map(Le=>Le.error)||[];if((ae.length>0?ae.reduce((Le,qe)=>Le+qe,0)/ae.length:1)<.15){const Le=re.codeResult.code;U.offDetected(),P(Le)}})},es=()=>{const C=sr.current;hn.current&&C&&(C.stop(),C.offDetected(),hn.current=!1),$e(!1)},Bs=/\b(milk|semi.skimmed|skimmed|whole milk|oat milk|almond milk|soy milk|juice|smoothie|water|squash|cordial|cola|pepsi|fanta|lemonade|soda|beer|wine|cider|lager|spirit|whisky|vodka|rum|gin|brandy|cream|yoghurt drink|milkshake|coffee|tea|broth|stock|soup|sauce|ketchup|vinegar|oil|syrup|honey|custard|coconut water|kombucha|energy drink|protein shake)\b/i,Kr=C=>/ml|cl|\dl(?!b)|litre|liter|fl\s?oz/i.test((C||"").replace(/\s/g,"")),zs=C=>{if(!C)return{value:100,unit:"g"};const U=C.toLowerCase().replace(/\s/g,""),re=U.match(/([\d.]+)/),ae=re?parseFloat(re[1]):100;return Kr(C)?/cl/.test(U)?{value:ae*10,unit:"ml"}:/(?:^|\d)l(?!i)/.test(U)&&!/ml/.test(U)?{value:ae*1e3,unit:"ml"}:{value:ae,unit:"ml"}:{value:ae,unit:"g"}},ki=C=>{if(Kr(C.serving_size)||Kr(C.quantity))return"ml";const U=C.product_name||C.product_name_en||"";return Bs.test(U)?"ml":"g"},xr=[{pattern:/\b(toast|bread|loaf|brioche|bagel|pitta|wrap|tortilla|crumpet|muffin|waffle|pancake)\b/i,label:"slice",weight:36},{pattern:/\begg\b/i,label:"egg",weight:60},{pattern:/\b(biscuit|cookie|digestive|hobnob|rich tea|oreo)\b/i,label:"biscuit",weight:13},{pattern:/\b(sausage|banger)\b/i,label:"sausage",weight:57},{pattern:/\b(rasher|bacon)\b/i,label:"rasher",weight:25},{pattern:/\b(rice cake)\b/i,label:"cake",weight:9},{pattern:/\b(cracker|ryvita)\b/i,label:"cracker",weight:10}],rr=(C,U)=>{const re=C||"",ae=re.match(/\((\d+\.?\d*)\s*g\)/i),ze=re.match(/(?:^|per\s+)(\d*\s*[a-z][a-z\s]*?)(?:\s*\(|\s*-\s*|\s*$)/i);if(ae&&ze){const Dt=parseFloat(ae[1]);let at=ze[1].replace(/^\d+\s*/,"").trim();if(at&&Dt>0)return{label:at,weight:Dt}}const Le=re.match(/(\d+\.?\d*)\s*g\s*[\/=]\s*(\d*\s*[a-z][a-z\s]*)/i);if(Le){const Dt=parseFloat(Le[1]);let at=Le[2].replace(/^\d+\s*/,"").trim();if(at&&Dt>0)return{label:at,weight:Dt}}const qe=U||"";for(const{pattern:Dt,label:at,weight:V}of xr)if(Dt.test(qe))return{label:at,weight:V};return null},os=C=>{const U=C.nutriments||{},re=ki(C),ae=zs(C.serving_size),ze=re==="ml"?ae.unit==="ml"?ae.value:100:ae.value,Le=C.product_name||C.product_name_en||"Unknown Product",qe=rr(C.serving_size,Le);return{name:Le,brand:C.brands||"",image:C.image_small_url||C.image_url||null,servingSize:C.serving_size||"100g",servingValue:ze,servingUnit:re,portion:qe,protein:Math.round(U.proteins_100g||U.proteins||0),carbs:Math.round(U.carbohydrates_100g||U.carbohydrates||0),fats:Math.round(U.fat_100g||U.fat||0),calories:Math.round(U["energy-kcal_100g"]||U["energy-kcal"]||(U.energy_100g?U.energy_100g/4.184:0)),per100g:!0}},Er=async C=>{Te(!0);try{const U=`https://world.openfoodfacts.org/api/v2/product/${C}?fields=product_name,product_name_en,brands,image_small_url,image_url,serving_size,quantity,nutriments`,re=await fetch(U);if(!re.ok)throw new Error(`HTTP ${re.status}`);const ae=await re.json();if(ae.status==="success"||ae.status===1||ae.product){const ze=os(ae.product);ze.calories===0&&ze.protein===0&&ze.carbs===0?_e("Product found but no nutrition data available.","error"):(rn(ze),ze.portion?(nt(1),wt(String(ze.portion.weight)),Gt("portion")):(nt(0),wt(String(ze.servingValue||100)),Gt("weight")),he(""))}else _e("Product not found. Try search or manual entry.","error")}catch(U){console.error("Barcode lookup error:",U),_e("Failed to look up product. Check your connection.","error")}Te(!1)},zn=(C,U,re)=>{const ae=C.toLowerCase().trim(),ze=U.toLowerCase().trim(),Le=re.toLowerCase().trim();let qe=0;return(ae===Le||ae===Le+"s"||ae+"s"===Le)&&(qe+=100),(ae.endsWith(" "+Le)||ae.endsWith(" "+Le+"s"))&&(qe+=40),(ae.startsWith(Le+" ")||ae.startsWith(Le+"s "))&&(qe+=15),Le.split(/\s+/).some(at=>ze===at||ze.startsWith(at))&&(qe+=30),qe+=Math.max(0,30-ae.length),qe},Fn=async()=>{if(!Se.trim())return;Nn.current&&Nn.current.abort();const C=new AbortController;Nn.current=C;const U=Se.trim().toLowerCase(),re=U.split(/\s+/).filter(Boolean);if(tp.has(U)){tt(tp.get(U));return}xn(!0);try{const ze=`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(Se.trim())}&search_simple=1&action=process&json=1&page_size=10&lc=en&sort_by=unique_scans_n&fields=product_name,product_name_en,brands,image_small_url,image_url,serving_size,quantity,nutriments`,Le=await fetch(ze,{signal:C.signal});if(!Le.ok)throw new Error(`HTTP ${Le.status}`);const Dt=((await Le.json()).products||[]).map(at=>os(at)).filter(at=>at.name!=="Unknown Product"&&(at.calories>0||at.protein>0)).filter(at=>{const V=(at.name+" "+at.brand).toLowerCase();return re.every(ee=>V.includes(ee))}).sort((at,V)=>zn(V.name,V.brand,U)-zn(at.name,at.brand,U)).slice(0,10);tp.set(U,Dt),tt(Dt),Dt.length===0&&_e("No results found. Try a different search.","info")}catch(ae){if(ae.name==="AbortError")return;console.error("Search error:",ae),_e("Search failed. Check your connection.","error")}xn(!1)};k.useEffect(()=>{if(le.current&&clearTimeout(le.current),!(!Se.trim()||F!=="search"||ne))return le.current=setTimeout(()=>{Fn()},700),()=>clearTimeout(le.current)},[Se]);const Zt=()=>{const C={...Z,water:Z.water+1};de(C),Ue(C)},fn=()=>{if(Z.water<=0)return;const C={...Z,water:Z.water-1};de(C),Ue(C)},ys={"ring-protein":"#14b8a6","ring-carbs":"var(--color-primary)","ring-fats":"#eab308","ring-cals":"rgba(150,150,150,0.55)"},ks=80,Yr=2*Math.PI*ks,ls=(C,U,re,ae,ze)=>{const Le=ae>0?Math.min(100,Math.round(re/ae*100)):0,qe=Yr-Le/100*Yr,Dt=ys[ze]||"#14b8a6";return c.jsxs("div",{className:"nut-ring-wrap",children:[c.jsxs("svg",{className:"nut-ring-svg",viewBox:"0 0 200 200",children:[c.jsx("circle",{className:"nut-arc-track",cx:"100",cy:"100",r:ks}),c.jsx("circle",{className:"nut-arc-fill",cx:"100",cy:"100",r:ks,style:{stroke:Dt},strokeDasharray:Yr,strokeDashoffset:qe})]}),c.jsxs("div",{className:"nut-ring-center",children:[c.jsx("span",{className:"nut-ring-value",style:{color:Dt},children:Math.round(re)}),c.jsxs("span",{className:"nut-ring-target",children:["/ ",ae,C==="Calories"?"":"g"]}),c.jsx("span",{className:"nut-ring-label",style:{color:Dt},children:U})]}),c.jsxs("span",{className:"nut-ring-pct",style:{color:Dt},children:[Le,"%"]})]})};if(k.useEffect(()=>{if(!Ke)return;const C=setTimeout(()=>{const U=Ke;es(),P(null),Er(U)},1500);return()=>clearTimeout(C)},[Ke]),k.useEffect(()=>()=>{const C=sr.current;if(hn.current&&C){try{C.stop(),C.offDetected()}catch{}hn.current=!1}},[]),i||g==="loading")return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),c.jsx("div",{className:"nut-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})})]});if(g==="setup")return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"nut-main",children:[c.jsxs("div",{className:"nut-setup-intro",children:[c.jsx("h2",{children:"Set Your Daily Targets"}),c.jsx("p",{children:"Calculate your personalised macros based on your body and goals."})]}),c.jsxs("div",{className:"nut-calc-form",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Gender"}),c.jsxs("div",{className:"nut-toggle-group",children:[c.jsx("button",{className:T.gender==="male"?"active":"",onClick:()=>{O(C=>({...C,gender:"male"})),W(null)},children:"Male"}),c.jsx("button",{className:T.gender==="female"?"active":"",onClick:()=>{O(C=>({...C,gender:"female"})),W(null)},children:"Female"})]})]}),c.jsxs("div",{className:"nut-form-row",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Age"}),c.jsx("input",{type:"number",value:T.age,onChange:C=>{O(U=>({...U,age:C.target.value})),W(null)},placeholder:"Years",min:"15",max:"100"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Weight"}),c.jsxs("div",{className:"nut-input-unit",children:[c.jsx("input",{type:"number",value:T.weight,onChange:C=>{O(U=>({...U,weight:C.target.value})),W(null)},placeholder:T.weightUnit,min:"30",max:"300"}),c.jsxs("div",{className:"nut-unit-toggle",children:[c.jsx("button",{className:T.weightUnit==="kg"?"active":"",onClick:()=>{O(C=>({...C,weightUnit:"kg"})),W(null)},children:"kg"}),c.jsx("button",{className:T.weightUnit==="lbs"?"active":"",onClick:()=>{O(C=>({...C,weightUnit:"lbs"})),W(null)},children:"lbs"})]})]})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Height"}),c.jsxs("div",{className:"nut-input-unit",children:[T.heightUnit==="cm"?c.jsx("input",{type:"number",value:T.height,onChange:C=>{O(U=>({...U,height:C.target.value})),W(null)},placeholder:"cm",min:"100",max:"250"}):c.jsxs("div",{className:"nut-height-imperial",children:[c.jsx("input",{type:"number",value:T.heightFeet,onChange:C=>{O(U=>({...U,heightFeet:C.target.value})),W(null)},placeholder:"ft",min:"4",max:"7"}),c.jsx("input",{type:"number",value:T.heightInches,onChange:C=>{O(U=>({...U,heightInches:C.target.value})),W(null)},placeholder:"in",min:"0",max:"11"})]}),c.jsxs("div",{className:"nut-unit-toggle",children:[c.jsx("button",{className:T.heightUnit==="cm"?"active":"",onClick:()=>{O(C=>({...C,heightUnit:"cm"})),W(null)},children:"cm"}),c.jsx("button",{className:T.heightUnit==="ft"?"active":"",onClick:()=>{O(C=>({...C,heightUnit:"ft"})),W(null)},children:"ft/in"})]})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Daily Activity (outside of training)"}),c.jsxs("select",{value:T.dailyActivity,onChange:C=>{O(U=>({...U,dailyActivity:C.target.value})),W(null)},children:[c.jsx("option",{value:"sedentary",children:"Sedentary  desk job, under 5k steps"}),c.jsx("option",{value:"light",children:"Lightly Active  office + walking, 5-8k steps"}),c.jsx("option",{value:"moderate",children:"Moderately Active  on feet often, 8-12k steps"}),c.jsx("option",{value:"active",children:"Very Active  physical job, 12k+ steps"})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Training Sessions per Week"}),c.jsxs("select",{value:T.trainingFrequency,onChange:C=>{O(U=>({...U,trainingFrequency:C.target.value})),W(null)},children:[c.jsx("option",{value:"low",children:"1-2 sessions"}),c.jsx("option",{value:"moderate",children:"3-4 sessions"}),c.jsx("option",{value:"high",children:"5-6 sessions"}),c.jsx("option",{value:"daily",children:"7+ sessions"})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Fitness Goal"}),c.jsxs("div",{className:"nut-goal-options",children:[c.jsxs("button",{className:T.goal==="lose"?"active":"",onClick:()=>{O(C=>({...C,goal:"lose"})),W(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"-"}),c.jsx("span",{children:"Lose Weight"})]}),c.jsxs("button",{className:T.goal==="maintain"?"active":"",onClick:()=>{O(C=>({...C,goal:"maintain"})),W(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"="}),c.jsx("span",{children:"Maintain"})]}),c.jsxs("button",{className:T.goal==="build"?"active":"",onClick:()=>{O(C=>({...C,goal:"build"})),W(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"+"}),c.jsx("span",{children:"Build Muscle"})]})]})]}),T.goal==="lose"&&c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Deficit Level"}),c.jsxs("div",{className:"nut-deficit-options",children:[c.jsxs("button",{className:T.deficitLevel==="light"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"light"})),W(null)},children:[c.jsx("strong",{children:"Mild"}),c.jsx("span",{children:"15% below TDEE"})]}),c.jsxs("button",{className:T.deficitLevel==="moderate"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"moderate"})),W(null)},children:[c.jsx("strong",{children:"Moderate"}),c.jsx("span",{children:"20% below TDEE"})]}),c.jsxs("button",{className:T.deficitLevel==="harsh"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"harsh"})),W(null)},children:[c.jsx("strong",{children:"Aggressive"}),c.jsx("span",{children:"25% below TDEE"})]})]})]}),c.jsx("button",{className:"nut-calc-btn",onClick:ft,disabled:!jt(),children:"Calculate Macros"})]}),H&&c.jsxs("div",{className:"nut-calc-results",children:[c.jsx("h3",{children:"Your Daily Targets"}),c.jsxs("div",{className:"nut-calc-rings",children:[ls("Protein","Protein",H.protein,H.protein,"ring-protein"),ls("Carbs","Carbs",H.carbs,H.carbs,"ring-carbs"),ls("Fats","Fats",H.fats,H.fats,"ring-fats"),ls("Calories","Calories",H.calories,H.calories,"ring-cals")]}),c.jsxs("div",{className:"nut-calc-info",children:[c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"BMR (body at rest)"}),c.jsxs("span",{children:[H.bmr," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"+ Daily activity (NEAT)"}),c.jsxs("span",{children:[H.neat," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"+ Training sessions"}),c.jsxs("span",{children:["+",H.exerciseAdd," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",style:{fontWeight:600},children:[c.jsx("span",{children:"TDEE (total burn)"}),c.jsxs("span",{children:[H.tdee," cal"]})]})]}),c.jsx("button",{className:"nut-save-targets-btn",onClick:Wt,children:"Set as My Daily Targets"})]})]}),Ot&&c.jsx("div",{className:`toast-notification ${Ot.type}`,children:Ot.message})]});const Ri=C=>{const U=new Date(C+"T12:00:00"),re=U.getDay(),ae=new Date(U);ae.setDate(U.getDate()-(re+6)%7);const ze=[];for(let Le=0;Le<7;Le++){const qe=new Date(ae);qe.setDate(ae.getDate()+Le),ze.push(qe.toISOString().split("T")[0])}return ze},vs=["M","T","W","T","F","S","S"],Rs=(C,U="search")=>{j(C),U==="scan"?(fe("scan"),rn(null)):U==="manual"?(fe("manual"),un({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""})):U==="favourites"?fe("favourites"):(fe("search"),tt([]),Fe(""))},cs=Ri(z),jn=new Date(z+"T12:00:00"),qn=`${Oe[jn.getMonth()]} ${jn.getFullYear()}`;return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"nut-dark-zone",children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{onClick:()=>{y("setup"),W(null)},"aria-label":"Recalculate macros",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"3"}),c.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]})}),c.jsxs("div",{className:"nut-dark-content",children:[c.jsxs("div",{className:"nut-week-strip",children:[c.jsxs("div",{className:"nut-week-header",children:[c.jsx("button",{className:"nut-week-arrow",onClick:()=>{const C=new Date(z+"T12:00:00");C.setDate(C.getDate()-7);const U=C.toISOString().split("T")[0];ie(U)},"aria-label":"Previous week",children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsx("button",{className:"nut-week-month-label",onClick:()=>{N(!Ae),D({year:jn.getFullYear(),month:jn.getMonth()})},children:qn}),c.jsx("button",{className:"nut-week-arrow",onClick:()=>{const C=new Date(z+"T12:00:00");C.setDate(C.getDate()+7);const U=C.toISOString().split("T")[0];U<=ia()&&ie(U)},"aria-label":"Next week",disabled:cs[6]>=ia(),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),c.jsx("div",{className:"nut-week-days",children:cs.map((C,U)=>{const re=new Date(C+"T12:00:00").getDate(),ae=C===z,ze=C>ia(),Le=C===ia();return c.jsxs("button",{className:`nut-week-day${ae?" selected":""}${Le?" today":""}${ze?" future":""}`,disabled:ze,onClick:()=>ie(C),children:[c.jsx("span",{className:"nut-week-day-letter",children:vs[U]}),c.jsx("span",{className:"nut-week-day-num",children:re})]},C)})})]}),Ae&&c.jsxs("div",{className:"nut-calendar nut-calendar-dark",children:[c.jsxs("div",{className:"nut-cal-header",children:[c.jsx("button",{onClick:()=>D(C=>{let U=C.month-1,re=C.year;return U<0&&(U=11,re--),{year:re,month:U}}),children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsxs("span",{children:[Oe[I.month]," ",I.year]}),c.jsx("button",{onClick:()=>D(C=>{let U=C.month+1,re=C.year;return U>11&&(U=0,re++),{year:re,month:U}}),disabled:I.year===new Date().getFullYear()&&I.month>=new Date().getMonth(),children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),c.jsx("div",{className:"nut-cal-days-header",children:He.map(C=>c.jsx("span",{children:C},C))}),c.jsxs("div",{className:"nut-cal-grid",children:[[...Array(Pe(I.year,I.month))].map((C,U)=>c.jsx("span",{},`e${U}`)),[...Array(ke(I.year,I.month))].map((C,U)=>{const re=U+1,ae=`${I.year}-${String(I.month+1).padStart(2,"0")}-${String(re).padStart(2,"0")}`,ze=ae>ia(),Le=ae===z,qe=ae===ia();return c.jsx("button",{className:`nut-cal-day${Le?" selected":""}${qe?" today":""}${ze?" future":""}`,disabled:ze,onClick:()=>{ie(ae),N(!1)},children:re},re)})]})]}),c.jsxs("div",{className:"nut-rings-row",children:[ls("Protein","Protein",xe.protein,w.protein,"ring-protein"),ls("Carbs","Carbs",xe.carbs,w.carbs,"ring-carbs"),ls("Fats","Fats",xe.fats,w.fats,"ring-fats"),ls("Calories","kCal",xe.calories,w.calories,"ring-cals")]})]})]}),c.jsx("div",{className:"nut-light-zone",children:c.jsxs("div",{className:"nut-light-content",children:[Ce&&c.jsxs("button",{className:"nut-water-quick",onClick:()=>A(!0),children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",width:"18",height:"18",children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),c.jsxs("span",{className:"nut-water-quick-count",children:[Z.water," / ",w?.waterGoal||8]}),c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"14",height:"14",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})]}),c.jsx("div",{className:"nut-log-section",children:c.jsx("div",{className:"nut-meals-list",children:TD.map(C=>{const U=Z.entries.filter(ae=>(ae.meal||"snacks")===C.key),re=U.reduce((ae,ze)=>({protein:ae.protein+(ze.protein||0),carbs:ae.carbs+(ze.carbs||0),fats:ae.fats+(ze.fats||0),calories:ae.calories+(ze.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});return c.jsxs("div",{className:"nut-meal-card",children:[c.jsxs("div",{className:"nut-meal-card-header",children:[c.jsx("span",{className:`nut-meal-card-icon nut-meal-icon-${C.key}`,children:SD[C.key]}),c.jsx("span",{className:"nut-meal-card-title",children:C.label}),U.length>0&&c.jsxs("span",{className:"nut-meal-card-cal",children:[re.calories," cal"]}),Ce&&c.jsxs("div",{className:"nut-add-wrapper",children:[c.jsx("button",{className:"nut-meal-add-btn",onClick:()=>Be(be===C.key?null:C.key),"aria-label":`Add to ${C.label}`,children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),be===C.key&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"nut-add-picker-backdrop",onClick:()=>Be(null)}),c.jsxs("div",{className:"nut-add-picker",children:[c.jsxs("button",{onClick:()=>{Be(null),Rs(C.key,"scan")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),c.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),c.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),c.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),c.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),c.jsx("span",{children:"Scan"})]}),c.jsxs("button",{onClick:()=>{Be(null),Rs(C.key,"search")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),c.jsx("span",{children:"Search"})]}),c.jsxs("button",{onClick:()=>{Be(null),Rs(C.key,"manual")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("span",{children:"Manual"})]}),c.jsxs("button",{onClick:()=>{Be(null),Rs(C.key,"favourites")},children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),c.jsx("span",{children:"Favs"})]})]})]})]})]}),U.length>0&&c.jsxs("div",{className:"nut-meal-bars",children:[c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-p",children:"P"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-protein",style:{width:`${Math.min(100,w.protein>0?re.protein/w.protein*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[re.protein,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-c",children:"C"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-carbs",style:{width:`${Math.min(100,w.carbs>0?re.carbs/w.carbs*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[re.carbs,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-f",children:"F"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-fats",style:{width:`${Math.min(100,w.fats>0?re.fats/w.fats*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[re.fats,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-cal",children:"K"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-cals",style:{width:`${Math.min(100,w.calories>0?re.calories/w.calories*100:0)}%`}})}),c.jsx("span",{className:"nut-meal-bar-val",children:re.calories})]})]}),U.length>0&&c.jsx("div",{className:"nut-log-list",children:U.map(ae=>c.jsxs("div",{className:"nut-log-item",children:[c.jsxs("div",{className:"nut-log-item-info",children:[c.jsx("span",{className:"nut-log-item-name",children:ae.name}),ae.serving&&c.jsx("span",{className:"nut-log-item-serving",children:ae.serving})]}),c.jsxs("div",{className:"nut-log-item-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ae.protein,"p"]}),c.jsxs("span",{className:"nut-macro-c",children:[ae.carbs,"c"]}),c.jsxs("span",{className:"nut-macro-f",children:[ae.fats,"f"]}),c.jsx("span",{className:"nut-macro-cal",children:ae.calories})]}),Ce&&c.jsx("button",{className:"nut-log-delete",onClick:()=>Zn(ae.id),"aria-label":"Remove",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},ae.id))}),U.length===0&&c.jsx("div",{className:"nut-meal-empty",children:c.jsx("p",{children:Ce?"Tap + to add food":"No entries"})})]},C.key)})})})]})}),S&&c.jsx("div",{className:"nut-modal-overlay",onClick:()=>A(!1),children:c.jsxs("div",{className:"nut-water-popup",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"nut-water-popup-header",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",width:"20",height:"20",style:{color:"#2196f3"},children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),c.jsx("span",{children:"Water Intake"}),c.jsx("button",{className:"nut-modal-close",onClick:()=>A(!1),children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c.jsxs("div",{className:"nut-water-popup-body",children:[c.jsx("div",{className:"nut-water-glasses",children:[...Array(w?.waterGoal||8)].map((C,U)=>c.jsx("div",{className:`nut-water-glass ${U<Z.water?"filled":""}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:U<Z.water?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})})},U))}),c.jsxs("div",{className:"nut-water-popup-count",children:[Z.water," / ",w?.waterGoal||8," glasses"]}),c.jsxs("div",{className:"nut-water-btns",children:[c.jsx("button",{onClick:fn,disabled:Z.water<=0,children:"-"}),c.jsx("button",{onClick:Zt,children:"+"})]})]})]})}),F&&c.jsx("div",{className:"nut-modal-overlay",onClick:()=>{es(),P(null),fe(null),rn(null)},children:c.jsxs("div",{className:"nut-modal",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"nut-modal-header",children:[c.jsx("h3",{children:F==="scan"?"Scan Barcode":F==="search"?"Search Food":F==="favourites"?"Favourites":"Manual Entry"}),c.jsx("button",{className:"nut-modal-close",onClick:()=>{es(),P(null),fe(null),rn(null)},children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),F==="scan"&&!ne&&c.jsxs("div",{className:"nut-scan-area",children:[c.jsxs("div",{className:"nut-scanner-wrapper",children:[c.jsx("div",{id:"barcode-reader",className:"nut-scanner-view"}),we&&!Ke&&c.jsx("div",{className:"nut-scan-line"}),Ke&&c.jsxs("div",{className:"nut-scan-detected-overlay",children:[c.jsx("svg",{className:"nut-scan-detected-tick",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}),c.jsx("p",{className:"nut-scan-detected-label",children:"Barcode found!"}),c.jsx("p",{className:"nut-scan-detected-code",children:Ke})]})]}),!we&&c.jsxs("button",{className:"nut-scan-start-btn",onClick:$r,children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),c.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),c.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),c.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),c.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),"Open Camera"]}),we&&!Ke&&c.jsx("p",{className:"nut-scan-hint",children:"Align barcode within the frame"}),c.jsx("div",{className:"nut-barcode-divider",children:c.jsx("span",{children:"or enter barcode manually"})}),c.jsxs("div",{className:"nut-barcode-manual",children:[c.jsx("input",{type:"text",inputMode:"numeric",value:G,onChange:C=>he(C.target.value),onKeyDown:C=>C.key==="Enter"&&G.trim()&&Er(G.trim()),placeholder:"Enter barcode number"}),c.jsx("button",{onClick:()=>G.trim()&&Er(G.trim()),disabled:!G.trim()||ye,children:ye?"...":"Look Up"})]})]}),F==="scan"&&ne&&(()=>{const C=ne.servingUnit||"g",U=ne.portion,re=Ze==="portion"&&U?xt*U.weight:parseFloat(Pt)||0,ae=re/100,ze=C==="ml"?[100,200,250,500]:[50,100,150,200],Le=Ze==="portion"&&U?`${xt} ${U.label}${xt!==1?"s":""} (${Math.round(re)}${C})`:`${Math.round(re)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[ne.image&&c.jsx("img",{src:ne.image,alt:ne.name||"Product",className:"nut-product-img",loading:"lazy"}),c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:ne.name}),c.jsx("button",{className:`nut-fav-star confirm${Ut(ne.name)?" active":""}`,onClick:()=>Bn({name:ne.name,protein:ne.protein,carbs:ne.carbs,fats:ne.fats,calories:ne.calories,serving:ne.servingSize,per100g:{protein:ne.protein,carbs:ne.carbs,fats:ne.fats,calories:ne.calories},servingUnit:ne.servingUnit||"g",portion:ne.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ut(ne.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),ne.brand&&c.jsx("p",{className:"nut-product-brand",children:ne.brand}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ne.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[ne.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[ne.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[ne.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:Ze==="portion"?"active":"",onClick:()=>{Gt("portion"),xt<1&&nt(1)},children:"Portions"}),c.jsxs("button",{className:Ze==="weight"?"active":"",onClick:()=>{Gt("weight"),wt(String(Math.round(re)||100))},children:["Custom (",C,")"]})]}),Ze==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>nt(Math.max(1,xt-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:xt}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,xt!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(re),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>nt(xt+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Pt,onChange:qe=>wt(qe.target.value),onFocus:qe=>qe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:ze.map(qe=>c.jsxs("button",{className:`nut-quick-btn${Pt===String(qe)?" active":""}`,onClick:()=>wt(String(qe)),children:[qe,C]},qe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(ne.protein*ae),"p / ",Math.round(ne.carbs*ae),"c / ",Math.round(ne.fats*ae),"f / ",Math.round(ne.calories*ae)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>{rn(null),fe("scan")},children:"Scan Again"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>In({name:ne.name,protein:Math.round(ne.protein*ae),carbs:Math.round(ne.carbs*ae),fats:Math.round(ne.fats*ae),calories:Math.round(ne.calories*ae),serving:Le}),children:"Add"})]})]})})(),F==="search"&&!ne&&c.jsxs("div",{className:"nut-search-area",children:[c.jsxs("div",{className:"nut-search-bar",children:[c.jsx("input",{type:"text",ref:ge,value:Se,onChange:C=>Fe(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(clearTimeout(le.current),Fn())},onFocus:()=>setTimeout(()=>ge.current?.scrollIntoView({behavior:"smooth",block:"center"}),350),placeholder:"Search food or product...",autoFocus:!0}),c.jsx("button",{onClick:Fn,disabled:Ht,children:Ht?"...":"Search"})]}),c.jsxs("div",{className:"nut-search-results",children:[et.map((C,U)=>c.jsxs("button",{className:"nut-search-item",onClick:()=>{rn(C),C.portion?(nt(1),wt(String(C.portion.weight)),Gt("portion")):(nt(0),wt(String(C.servingValue||100)),Gt("weight"))},children:[C.image&&c.jsx("img",{src:C.image,alt:C.name||"Product",loading:"lazy"}),c.jsxs("div",{className:"nut-search-item-info",children:[c.jsx("span",{className:"nut-search-item-name",children:C.name}),C.brand&&c.jsx("span",{className:"nut-search-item-brand",children:C.brand}),c.jsxs("span",{className:"nut-search-item-macros",children:[C.calories," cal  ",C.protein,"p  ",C.carbs,"c  ",C.fats,"f per 100",C.servingUnit||"g"]})]})]},U)),et.length===0&&Se&&!Ht&&c.jsx("p",{className:"nut-search-empty",children:"No results found. Try a different search or use manual entry."})]})]}),F==="search"&&ne&&(()=>{const C=ne.servingUnit||"g",U=ne.portion,re=Ze==="portion"&&U?xt*U.weight:parseFloat(Pt)||0,ae=re/100,ze=C==="ml"?[100,200,250,500]:[50,100,150,200],Le=Ze==="portion"&&U?`${xt} ${U.label}${xt!==1?"s":""} (${Math.round(re)}${C})`:`${Math.round(re)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[ne.image&&c.jsx("img",{src:ne.image,alt:ne.name||"Product",className:"nut-product-img",loading:"lazy"}),c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:ne.name}),c.jsx("button",{className:`nut-fav-star confirm${Ut(ne.name)?" active":""}`,onClick:()=>Bn({name:ne.name,protein:ne.protein,carbs:ne.carbs,fats:ne.fats,calories:ne.calories,serving:ne.servingSize,per100g:{protein:ne.protein,carbs:ne.carbs,fats:ne.fats,calories:ne.calories},servingUnit:ne.servingUnit||"g",portion:ne.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ut(ne.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),ne.brand&&c.jsx("p",{className:"nut-product-brand",children:ne.brand}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ne.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[ne.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[ne.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[ne.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:Ze==="portion"?"active":"",onClick:()=>{Gt("portion"),xt<1&&nt(1)},children:"Portions"}),c.jsxs("button",{className:Ze==="weight"?"active":"",onClick:()=>{Gt("weight"),wt(String(Math.round(re)||100))},children:["Custom (",C,")"]})]}),Ze==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>nt(Math.max(1,xt-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:xt}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,xt!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(re),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>nt(xt+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Pt,onChange:qe=>wt(qe.target.value),onFocus:qe=>qe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:ze.map(qe=>c.jsxs("button",{className:`nut-quick-btn${Pt===String(qe)?" active":""}`,onClick:()=>wt(String(qe)),children:[qe,C]},qe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(ne.protein*ae),"p / ",Math.round(ne.carbs*ae),"c / ",Math.round(ne.fats*ae),"f / ",Math.round(ne.calories*ae)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>rn(null),children:"Back to Search"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>In({name:ne.name,protein:Math.round(ne.protein*ae),carbs:Math.round(ne.carbs*ae),fats:Math.round(ne.fats*ae),calories:Math.round(ne.calories*ae),serving:Le}),children:"Add"})]})]})})(),F==="manual"&&c.jsxs("div",{className:"nut-manual-form",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Food Name"}),c.jsx("input",{type:"text",value:It.name,onChange:C=>un(U=>({...U,name:C.target.value})),placeholder:"e.g. Chicken Breast",autoFocus:!0})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Serving Size (optional)"}),c.jsx("input",{type:"text",value:It.serving,onChange:C=>un(U=>({...U,serving:C.target.value})),placeholder:"e.g. 150g, 1 cup"})]}),c.jsxs("div",{className:"nut-manual-macros",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Protein (g)"}),c.jsx("input",{type:"number",value:It.protein,onChange:C=>un(U=>({...U,protein:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Carbs (g)"}),c.jsx("input",{type:"number",value:It.carbs,onChange:C=>un(U=>({...U,carbs:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Fats (g)"}),c.jsx("input",{type:"number",value:It.fats,onChange:C=>un(U=>({...U,fats:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Calories"}),c.jsx("input",{type:"number",value:It.calories,onChange:C=>un(U=>({...U,calories:C.target.value})),min:"0"})]})]}),c.jsx("button",{className:"nut-btn-primary",disabled:!It.name.trim(),onClick:()=>In({name:It.name,protein:parseFloat(It.protein)||0,carbs:parseFloat(It.carbs)||0,fats:parseFloat(It.fats)||0,calories:parseFloat(It.calories)||0,serving:It.serving||""}),children:"Add Food"})]}),F==="favourites"&&!ne&&(()=>{const C=gs(),U=re=>{if(re.per100g){const ae=re.per100g;rn({name:re.name,brand:"",image:null,servingSize:re.serving||"100g",servingValue:100,servingUnit:re.servingUnit||"g",portion:re.portion||null,protein:ae.protein,carbs:ae.carbs,fats:ae.fats,calories:ae.calories,per100g:!0}),re.portion?(nt(1),wt(String(re.portion.weight)),Gt("portion")):(nt(0),wt("100"),Gt("weight"))}else In({name:re.name,protein:re.protein,carbs:re.carbs,fats:re.fats,calories:re.calories,serving:re.serving||""})};return c.jsx("div",{className:"nut-recent-area",children:C.length===0?c.jsx("p",{className:"nut-search-empty",children:"No favourites yet. Tap the star on any food to save it here."}):c.jsx("div",{className:"nut-recent-list",children:C.map((re,ae)=>c.jsxs("div",{className:"nut-recent-item-row",children:[c.jsx("button",{className:"nut-fav-star active",onClick:ze=>{ze.stopPropagation(),Bn(re)},children:c.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsxs("button",{className:"nut-recent-item",onClick:()=>U(re),children:[c.jsxs("div",{className:"nut-recent-item-info",children:[c.jsx("span",{className:"nut-recent-item-name",children:re.name}),c.jsx("span",{className:"nut-recent-item-serving",children:re.serving||""})]}),c.jsxs("span",{className:"nut-recent-item-macros",children:[re.calories," cal"]})]})]},ae))})})})(),F==="favourites"&&ne&&(()=>{const C=ne.servingUnit||"g",U=ne.portion,re=Ze==="portion"&&U?xt*U.weight:parseFloat(Pt)||0,ae=re/100,ze=C==="ml"?[100,200,250,500]:[50,100,150,200],Le=Ze==="portion"&&U?`${xt} ${U.label}${xt!==1?"s":""} (${Math.round(re)}${C})`:`${Math.round(re)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:ne.name}),c.jsx("button",{className:`nut-fav-star confirm${Ut(ne.name)?" active":""}`,onClick:()=>Bn({name:ne.name,protein:ne.protein,carbs:ne.carbs,fats:ne.fats,calories:ne.calories,serving:ne.servingSize,per100g:{protein:ne.protein,carbs:ne.carbs,fats:ne.fats,calories:ne.calories},servingUnit:ne.servingUnit||"g",portion:ne.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ut(ne.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ne.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[ne.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[ne.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[ne.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:Ze==="portion"?"active":"",onClick:()=>{Gt("portion"),xt<1&&nt(1)},children:"Portions"}),c.jsxs("button",{className:Ze==="weight"?"active":"",onClick:()=>{Gt("weight"),wt(String(Math.round(re)||100))},children:["Custom (",C,")"]})]}),Ze==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>nt(Math.max(1,xt-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:xt}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,xt!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(re),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>nt(xt+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Pt,onChange:qe=>wt(qe.target.value),onFocus:qe=>qe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:ze.map(qe=>c.jsxs("button",{className:`nut-quick-btn${Pt===String(qe)?" active":""}`,onClick:()=>wt(String(qe)),children:[qe,C]},qe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(ne.protein*ae),"p / ",Math.round(ne.carbs*ae),"c / ",Math.round(ne.fats*ae),"f / ",Math.round(ne.calories*ae)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>rn(null),children:"Back to Favourites"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>In({name:ne.name,protein:Math.round(ne.protein*ae),carbs:Math.round(ne.carbs*ae),fats:Math.round(ne.fats*ae),calories:Math.round(ne.calories*ae),serving:Le}),children:"Add"})]})]})})()]})}),c.jsx(Sl,{active:"nutrition"}),Ot&&c.jsx("div",{className:`toast-notification ${Ot.type}`,children:Ot.message})]})}const h1="/login/assets/randomiser-glq9YJkL.jpg",AD="/login/assets/programme-card-workout-CnNzTYkz.webp",CD="/login/assets/prog-fullbody-4wk-r6m9HJys.jpg",ND="/login/assets/mg-arms-BeOQU3wx.jpg",np=60,sp=5,ID=[{threshold:1e3,label:"1 Tonne"},{threshold:5e3,label:"5 Tonne"},{threshold:1e4,label:"10 Tonne"},{threshold:25e3,label:"25 Tonne"},{threshold:5e4,label:"50 Tonne"},{threshold:1e5,label:"100 Tonne"},{threshold:25e4,label:"250 Tonne"},{threshold:5e5,label:"500 Tonne"},{threshold:1e6,label:"1 Million kg"}],jD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Squeeze Press":"push","Incline Dumbbell Press":"push","Dumbbell Fly":"push","Dumbbell Pullover":"push","Tricep Kickback":"push","Dumbbell Shrug":"push","Dumbbell Y-Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Wide Dumbbell Bent Over Row":"pull","Reverse Fly":"pull","Concentration Curl":"pull","Wide Grip Bicep Curl":"pull","Wrist Curl":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core","Kettlebell Bird Dog Drag":"core"},DD={fullbody_4wk:{duration:4,daysPerWeek:3},fullbody_8wk:{duration:8,daysPerWeek:3},fullbody_12wk:{duration:12,daysPerWeek:3},core_4wk:{duration:4,daysPerWeek:3},core_8wk:{duration:8,daysPerWeek:3},core_12wk:{duration:12,daysPerWeek:3},upper_4wk:{duration:4,daysPerWeek:3},lower_4wk:{duration:4,daysPerWeek:3}},MD={fullbody:"linear-gradient(160deg, rgba(153,49,60,0.15) 0%, rgba(153,49,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",core:"linear-gradient(160deg, rgba(30,80,120,0.2) 0%, rgba(30,80,120,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",upper:"linear-gradient(160deg, rgba(100,60,140,0.2) 0%, rgba(100,60,140,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",lower:"linear-gradient(160deg, rgba(40,120,80,0.2) 0%, rgba(40,120,80,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)"},rp={arms:"linear-gradient(160deg, rgba(180,60,60,0.2) 0%, rgba(180,60,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",chest:"linear-gradient(160deg, rgba(50,100,160,0.2) 0%, rgba(50,100,160,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",back:"linear-gradient(160deg, rgba(80,130,60,0.2) 0%, rgba(80,130,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",shoulders:"linear-gradient(160deg, rgba(160,100,40,0.2) 0%, rgba(160,100,40,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",legs:"linear-gradient(160deg, rgba(100,50,140,0.2) 0%, rgba(100,50,140,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",core:"linear-gradient(160deg, rgba(30,80,120,0.2) 0%, rgba(30,80,120,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)"},ip=[{id:"fullbody_4wk",name:"4-Week Full Body",focus:"fullbody",duration:4,level:"All Levels",daysPerWeek:3,image:CD},{id:"fullbody_8wk",name:"8-Week Full Body",focus:"fullbody",duration:8,level:"Intermediate",daysPerWeek:3},{id:"fullbody_12wk",name:"12-Week Full Body",focus:"fullbody",duration:12,level:"Advanced",daysPerWeek:3},{id:"core_4wk",name:"4-Week Core",focus:"core",duration:4,level:"Beginner",daysPerWeek:3},{id:"core_8wk",name:"8-Week Core",focus:"core",duration:8,level:"Intermediate",daysPerWeek:3},{id:"core_12wk",name:"12-Week Core",focus:"core",duration:12,level:"Advanced",daysPerWeek:3},{id:"upper_4wk",name:"4-Week Upper Body",focus:"upper",duration:4,level:"Intermediate",daysPerWeek:3},{id:"lower_4wk",name:"4-Week Lower Body",focus:"lower",duration:4,level:"Intermediate",daysPerWeek:3}],_c=[{key:"arms",label:"Arms",icon:"M7 5h2v14H7V5zm8 0h2v14h-2V5zm-5 4h4v6h-4V9z",image:ND},{key:"chest",label:"Chest",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-2h2v2zm4 0h-2v-2h2v2zm3-6c0 1.1-.36 2.12-.97 2.95l-.87-.87C16.7 12.53 17 11.8 17 11c0-2.76-2.24-5-5-5S7 8.24 7 11c0 .8.3 1.53.84 2.08l-.87.87A4.977 4.977 0 0 1 6 11c0-3.31 2.69-6 6-6s6 2.69 6 6z"},{key:"back",label:"Back",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm4 18H8v-6l-4-4 1.41-1.41L8 11.17V8h8v3.17l2.59-2.58L20 10l-4 4v6z"},{key:"shoulders",label:"Shoulders",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z"},{key:"legs",label:"Legs",icon:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"},{key:"core",label:"Core",icon:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"}],d1={chest:[{id:"chest_strength",name:"Chest Strength",desc:"Heavy pressing for max strength",level:"Intermediate",overview:"A heavy pressing session designed to build raw chest strength. Focus on controlled negatives and powerful pressing movements.",tips:["Go heavy  pick a weight where the last 2 reps are a real challenge","Control the negative (lowering phase) for 2-3 seconds","Keep your shoulder blades squeezed together throughout all pressing movements","Rest 90-120 seconds between sets to allow full recovery"],exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Dumbbell Squeeze Press",type:"weighted",sets:3,reps:10,storagePath:null},{name:"Incline Dumbbell Press",type:"weighted",sets:3,reps:10,storagePath:null},{name:"Dumbbell Pullover",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Dumbbell Fly",type:"weighted",sets:3,reps:12,storagePath:null}]},{id:"chest_hypertrophy",name:"Chest Hypertrophy",desc:"Volume training for muscle growth",level:"Intermediate",overview:"A high-volume chest session focused on time under tension and muscle growth. Lighter weights, more reps, and slow controlled movements.",tips:["Use moderate weight  you should feel the burn by rep 10","Squeeze your chest at the top of every rep for 1 second","Keep rest periods short at 60-90 seconds to keep the pump going","On press ups, go to failure on the final set"],exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Wide Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Dumbbell Fly",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Incline Dumbbell Press",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Press Up",type:"reps",sets:3,reps:20,storagePath:"exercises/bodyweight/upper/press up.mp4"}]},{id:"chest_endurance",name:"Chest Endurance",desc:"Bodyweight pushing to failure",level:"All Levels",overview:"No weights needed. This bodyweight-only session builds chest endurance and muscular stamina through high-rep push up variations.",tips:["Focus on full range of motion  chest to floor on every rep","Keep your core tight and body in a straight line throughout","Scale down to knee press ups if you can't maintain form","Push through the burn  the last 5 reps are where the growth happens"],exercises:[{name:"Press Up",type:"reps",sets:4,reps:20,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Wide Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Diamond Press Up",type:"reps",sets:3,reps:12,storagePath:null},{name:"Decline Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Press Up Hold",type:"timed",sets:3,time:30,storagePath:null}]}],back:[{id:"back_strength",name:"Back Strength",desc:"Heavy rows for a thick back",level:"Intermediate",overview:"Build a thick, powerful back with heavy rowing movements. This session targets your lats, rhomboids, and traps for overall back development.",tips:["Go heavy on rows  use a weight that challenges you by rep 6-8","Drive your elbows back and squeeze your shoulder blades together at the top","Keep a slight bend in your knees and hinge at the hips for bent over movements","Rest 90-120 seconds between sets for full recovery"],exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Pullover",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Dumbbell Shrug",type:"weighted",sets:3,reps:15,storagePath:null}]},{id:"back_hypertrophy",name:"Back Hypertrophy",desc:"Width and thickness volume work",level:"Intermediate",overview:"A volume-focused back session combining rows and isolation moves to build width and thickness. Focus on the mind-muscle connection.",tips:["Use moderate weight  feel the stretch and squeeze on every rep","On renegade rows, keep your hips square to the floor and avoid rotating","For reverse flys, use lighter weight and focus on squeezing your rear delts","Keep rest to 60-90 seconds to maintain intensity"],exercises:[{name:"Renegade Row",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/renegade row.mp4"},{name:"Wide Dumbbell Bent Over Row",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Reverse Fly",type:"weighted",sets:3,reps:15,storagePath:null},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:10,storagePath:null}]},{id:"back_endurance",name:"Back Endurance",desc:"Bodyweight back conditioning",level:"All Levels",overview:"A bodyweight session to strengthen your posterior chain and improve posture. Great for back health, mobility, and muscular endurance.",tips:["On superman holds, lift your arms and legs simultaneously and hold tight","Focus on slow, controlled movements  quality over speed","Breathe steadily throughout timed holds  don't hold your breath","Engage your glutes and lower back together on every movement"],exercises:[{name:"Superman Hold",type:"timed",sets:4,time:30,storagePath:"exercises/bodyweight/upper/Superman Hold.mp4"},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:12,storagePath:null},{name:"Reverse Snow Angel",type:"reps",sets:3,reps:12,storagePath:null},{name:"Bird Dog",type:"reps",sets:3,reps:12,storagePath:"exercises/bodyweight/core/Bird Dog.mp4"},{name:"Back Extension Hold",type:"timed",sets:3,time:30,storagePath:null}]}],shoulders:[{id:"shoulders_strength",name:"Shoulder Strength",desc:"Heavy pressing for boulder shoulders",level:"Intermediate",overview:"A heavy overhead pressing session to build strong, powerful shoulders. Compound movements first, followed by isolation work for all three delt heads.",tips:["Go heavy on presses  pick a weight where you struggle on the last 2 reps","Brace your core and avoid arching your back during overhead movements","Press straight up and control the weight down slowly","Rest 90-120 seconds between pressing sets, 60 seconds for isolation moves"],exercises:[{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Shrug",type:"weighted",sets:3,reps:15,storagePath:null}]},{id:"shoulders_hypertrophy",name:"Shoulder Hypertrophy",desc:"Volume and isolation for 3D delts",level:"Intermediate",overview:"A high-volume session targeting all three heads of the deltoid for that 3D capped shoulder look. Moderate weight, high reps, constant tension.",tips:["Use lighter weight than you think  shoulders respond best to high reps","On lateral raises, lead with your elbows and don't swing the weight","Pause at the top of each raise for a 1-second squeeze","Keep rest periods at 60 seconds to maximise the pump"],exercises:[{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:4,reps:15,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:15,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Y-Raise",type:"weighted",sets:3,reps:12,storagePath:null}]},{id:"shoulders_endurance",name:"Shoulder Endurance",desc:"Bodyweight and high-rep work",level:"All Levels",overview:"A shoulder endurance session combining bodyweight movements with high-rep dumbbell work. Builds stamina, stability, and shoulder resilience.",tips:["On pike push ups, walk your feet close to your hands to increase the angle","For high-rep lateral raises, use a very light weight and focus on form","Wall walks are advanced  scale to pike push ups if needed","Keep your core braced throughout to protect your lower back"],exercises:[{name:"Pike Push Ups",type:"reps",sets:4,reps:12,storagePath:"exercises/bodyweight/upper/pike push ups.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:3,reps:20,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Wall Walks",type:"reps",sets:3,reps:6,storagePath:null},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:10,storagePath:null},{name:"Shoulder Tap Hold",type:"timed",sets:3,time:30,storagePath:null}]}],arms:[{id:"arms_bicep",name:"Bicep Focus",desc:"Curl variations for peak biceps",level:"All Levels",overview:"An arm session dedicated entirely to biceps. Multiple curl variations target different parts of the bicep for maximum peak and thickness.",tips:["Keep your elbows pinned to your sides  no swinging","Control the negative (lowering) for 2-3 seconds on every rep","Start with your heaviest weight and decrease as you fatigue","Squeeze hard at the top of each curl for a full contraction"],exercises:[{name:"Bicep Curl",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Concentration Curl",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Wide Grip Bicep Curl",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Isometric Bicep Hold",type:"timed",sets:3,time:20,storagePath:null}]},{id:"arms_tricep",name:"Tricep Focus",desc:"Extensions and dips for horseshoe triceps",level:"All Levels",overview:"All-out tricep training with extensions, dips, and pressing movements. The triceps make up two-thirds of your arm  this session builds serious size.",tips:["On overhead extensions, keep your elbows close to your head","For skullcrushers, lower the weight slowly to just above your forehead","On dips, lean slightly forward to reduce shoulder strain","Full lockout at the top of every extension for maximum tricep contraction"],exercises:[{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Skullcrushers",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/skullcrushers.mp4"},{name:"Tricep Dips",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/upper/tricep dips.mp4"},{name:"Tricep Kickback",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Diamond Press Up",type:"reps",sets:3,reps:12,storagePath:null}]},{id:"arms_full",name:"Full Arms",desc:"Superset biceps and triceps",level:"All Levels",overview:"A balanced arm session alternating between biceps and triceps. Superset style keeps the intensity high and maximises the pump.",tips:["Superset each pair  do biceps then immediately hit triceps","Use moderate weight that lets you maintain strict form for all reps","Rest 60 seconds after each superset pair","Focus on the squeeze at the peak contraction of every rep"],exercises:[{name:"Bicep Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Tricep Kickback",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Hammer Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Wrist Curl",type:"weighted",sets:3,reps:15,storagePath:null}]}],legs:[{id:"legs_quad",name:"Quad Dominant",desc:"Squats and lunges for quad power",level:"All Levels",overview:"A quad-focused leg session built around squats and lunges. Heavy compound movements to build strong, powerful quads and overall leg strength.",tips:["On goblet squats, hold the dumbbell close to your chest and sit deep","Keep your knees tracking over your toes  don't let them cave inward","Drive through your heels on all squatting movements","Rest 90-120 seconds between heavy sets, 60 seconds on bodyweight moves"],exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.mp4"},{name:"Dumbbell Squat Pulses",type:"weighted",sets:3,reps:15,storagePath:"exercises/dumbbells/lower/dumbbell squat pulses.mp4"},{name:"Bulgarian Split Squats",type:"reps",sets:3,reps:12,storagePath:"exercises/bodyweight/lower/bulgarian split squats.mp4"},{name:"Squat And Hold",type:"timed",sets:3,time:30,storagePath:"exercises/bodyweight/lower/squat and hold.mp4"}]},{id:"legs_ham_glute",name:"Hamstring & Glute",desc:"Posterior chain focus",level:"Intermediate",overview:"Target the back of your legs with deadlift and hip hinge variations. This session builds a strong posterior chain  hamstrings, glutes, and lower back.",tips:["On RDLs, push your hips back and feel the stretch in your hamstrings","Keep a slight bend in your knees throughout hip hinge movements","Squeeze your glutes hard at the top of every rep","For single leg work, start with your weaker side first"],exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/lower/romanian deadlifts.mp4"},{name:"1 Legged RDL",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/lower/1 legged rdl.mp4"},{name:"Hip Thrusts",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/hip thrusts.mp4"},{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.mp4"},{name:"Donkey Kicks",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/donkey kicks.mp4"}]},{id:"legs_power",name:"Power & Plyo",desc:"Explosive leg training",level:"Intermediate",overview:"An explosive leg session combining plyometrics with weighted movements. Build power, speed, and athletic performance.",tips:["On jump squats, land softly with bent knees to absorb the impact","Explode up on every rep  power comes from speed, not just weight","Keep rest periods at 60-90 seconds to maintain intensity","Focus on landing mechanics  knees out, chest up, soft landing"],exercises:[{name:"Jump Squats",type:"reps",sets:4,reps:12,storagePath:"exercises/bodyweight/lower/jump squats.mp4"},{name:"Dumbbell Box Step Ups",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell box step ups.mp4"},{name:"Skater Jumps",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/skater jumps.mp4"},{name:"Dumbbell Reverse Lunges",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell reverse lunges.mp4"},{name:"Weighted Calf Raises",type:"weighted",sets:4,reps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.mp4"}]}],core:[{id:"core_lower_abs",name:"Lower Abs Blast",desc:"40s work / 20s rest  3 rounds",level:"Intermediate",overview:"An interval-based core burner targeting the lower abdominals. 40 seconds of work followed by 20 seconds of rest  keep the intensity high and your lower back pressed into the floor throughout.",tips:["Press your lower back firmly into the floor on every rep","Exhale hard as you contract your abs  don't hold your breath","If your lower back lifts off the ground, reduce the range of motion","Focus on slow, controlled movements rather than speed"],interval:!0,rounds:3,work:40,rest:20,exercises:[{name:"Leg Raises",storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Reverse Crunch To Leg Raise",storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Flutter Kicks",storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Dead Bug Single Leg Drop",storagePath:"exercises/bodyweight/core/Dead Bug Single Leg Drop.mp4"},{name:"Hollow Body Hold",storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"Hollow Hold Flutter Kicks",storagePath:"exercises/bodyweight/core/Hollow Hold Flutter Kicks.mp4"}]},{id:"core_obliques",name:"Obliques & Rotation",desc:"35s work / 25s rest  3 rounds",level:"Intermediate",overview:"Target the obliques and rotational core muscles with this interval session. 35 seconds of work with 25 seconds rest  every exercise involves twisting, rotating, or side-bracing movements.",tips:["Rotate from your ribcage, not just your arms","Keep your hips as still as possible during twisting exercises","Brace your core before each movement  think about squeezing a belt","On side planks, stack your hips and push the floor away"],interval:!0,rounds:3,work:35,rest:25,exercises:[{name:"Russian Twist",storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Side Plank Rotation",storagePath:"exercises/bodyweight/core/Side Plank Rotation.mp4"},{name:"Cross Body Mountain Climbers",storagePath:"exercises/bodyweight/core/Cross Body Mountain Climbers.mp4"},{name:"Hip Dips Plank",storagePath:"exercises/bodyweight/core/Hip Dips Plank.mp4"},{name:"Bicycle Crunch",storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Side Plank",storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{id:"core_weighted",name:"Weighted Core",desc:"40s work / 20s rest  3 rounds",level:"Advanced",overview:"Add resistance to your core training with dumbbells and kettlebells. 40 seconds of weighted work followed by 20 seconds rest  this session builds serious core strength and stability.",tips:["Start with a moderate weight  form is more important than load","Brace your entire core before picking up the weight each round","Keep movements controlled  no swinging or using momentum","If grip fails before core does, go slightly lighter next time"],interval:!0,rounds:3,work:40,rest:20,exercises:[{name:"Russian Twists Dumbbell",storagePath:"exercises/dumbbells/core/russian twists dumbbell.mp4"},{name:"Kettlebell Russian Twist",storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Kettlebell Side Bends",storagePath:"exercises/kettlebells/core/kettlebell side bends.mp4"},{name:"Kneeling Kettlebell Halo",storagePath:"exercises/kettlebells/core/kneeling kettlebell halo.mp4"},{name:"Kettlebell Bird Dog Drag",storagePath:"exercises/kettlebells/core/kettlebell bird dog drag.mp4"},{name:"Dumbbell Plank Pull Through",storagePath:null}]}]},f1=[{key:"bodyweight",label:"Bodyweight",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"},{key:"dumbbells",label:"Dumbbells",icon:"M6 5H3v14h3V5zm12 0h-3v14h3V5zm-9 3H7v8h2V8zm7 0h-2v8h2V8zm-5 0h-2v8h2V8z"},{key:"kettlebells",label:"Kettlebells",icon:"M12 2C9.24 2 7 4.24 7 7c0 1.1.36 2.12.97 2.95C6.76 11.08 6 12.96 6 15c0 3.87 2.69 7 6 7s6-3.13 6-7c0-2.04-.76-3.92-1.97-5.05.61-.83.97-1.85.97-2.95 0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}],ap=[{key:"core",label:"Core",icon:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"},{key:"upper",label:"Upper",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z"},{key:"lower",label:"Lower",icon:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"},{key:"fullbody",label:"Full Body",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm-2 8h4l1 4h2l-1 4h-2l-1 4h-2l-1-4H8l-1-4h2l1-4z"},{key:"mix",label:"Mix It Up",icon:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm-.83 9.41l-1.42 1.42L17.96 20.54l1.42-1.42-5.71-5.71z"}],Qo=[{key:"beginner",label:"Beginner",work:30,rest:30,desc:"30s work / 30s rest"},{key:"intermediate",label:"Intermediate",work:40,rest:20,desc:"40s work / 20s rest"},{key:"advanced",label:"Advanced",work:40,rest:15,desc:"40s work / 15s rest"}],PD=[5,10,15,20,30];function OD(r){return r.replace(/\b\w/g,e=>e.toUpperCase())}function LD(r){const e=[...r];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e}function VD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Aa(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=nr(),[g,y]=k.useState("menu"),[w,x]=k.useState(["bodyweight"]),[T,O]=k.useState("core"),[H,W]=k.useState("intermediate"),[z,ie]=k.useState(15),[Z,de]=k.useState([]),[xe,Ie]=k.useState(!1),Ae=k.useRef(!1),N=k.useRef([]),[S,A]=k.useState([]),[I,D]=k.useState(2),[B,j]=k.useState(Qo[1]),[be,Be]=k.useState(1),[F,fe]=k.useState(0),[we,$e]=k.useState("work"),[Ke,P]=k.useState(0),[G,he]=k.useState(!1),[ye,Te]=k.useState(0),[Se,Fe]=k.useState(null),et=k.useRef(null);k.useRef(null),k.useRef(null);const[tt,Ht]=k.useState(null),xn=k.useCallback((V,ee="info")=>{Ht({message:V,type:ee}),setTimeout(()=>Ht(null),3e3)},[]),[It,un]=k.useState(null),[ne,rn]=k.useState(null),[Pt,wt]=k.useState(0),[xt,nt]=k.useState(0),[Ze,Gt]=k.useState([]),[Wr,Us]=k.useState(""),[Ot,Pn]=k.useState(""),[hn,Nn]=k.useState(!1),[le,ge]=k.useState(0),[_e,Ue]=k.useState(!1),[Ce,ke]=k.useState({}),Pe=k.useRef(null),Oe=k.useRef(null),[He,ft]=k.useState([]),[Wt,jt]=k.useState(null),[dn,gs]=k.useState(0),[Ut,Bn]=k.useState(0),[In,Zn]=k.useState(0),[sr,$r]=k.useState(0),[es,Bs]=k.useState(0),[Kr,zs]=k.useState(0),[ki,xr]=k.useState({beginner:0,intermediate:0,advanced:0}),[rr,os]=k.useState(null),[Er,zn]=k.useState(""),[Fn,Zt]=k.useState(!1);k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const ee=ga(Tt,"workoutLogs"),X=Wc(ee,ol("clientId","==",n.id)),ve=(await $c(X)).docs.map(St=>St.data()),je=ve.filter(St=>St.type!=="programme");$r(je.length);const Je=je.reduce((St,an)=>St+(an.duration||0),0);Bs(Je);const De={beginner:0,intermediate:0,advanced:0};je.forEach(St=>{St.level&&De[St.level]!==void 0&&De[St.level]++}),xr(De);const mt=new Date,en=mt.getDay(),kt=en===0?-6:1-en,Qt=new Date(mt);Qt.setDate(mt.getDate()+kt),Qt.setHours(0,0,0,0);const Ai=Qt.getTime(),Ca=ve.filter(St=>{const an=St.completedAt;return an?(an.toDate?an.toDate().getTime():new Date(an).getTime())>=Ai:!1});gs(Ca.filter(St=>St.type!=="programme").length);let Ci=0;if(n)try{const St=await ms(Kt(Tt,"clientProgrammes",n.id));if(St.exists()){const an=St.data(),on=an.templateId;Ci=Ca.filter(Hn=>Hn.type==="programme"&&Hn.programmeId===on).length,os(on);const ar=ip.find(Hn=>Hn.id===on);ar&&zn(ar.name);const or=DD[on];if(or){const Hn=Object.keys(an.completedSessions||{}).length,ts=or.duration*or.daysPerWeek;Zn(ts>0?Math.round(Hn/ts*100):0)}}else os(null),zn(""),Zn(0)}catch{}Bn(Ci);const ir=je.map(St=>St.completedAt).filter(Boolean).map(St=>St.toDate?St.toDate().getTime():new Date(St).getTime()).sort((St,an)=>an-St);if(ir.length===0)zs(0);else{const St=new Set;ir.forEach(ts=>{const Tr=new Date(ts),lr=Tr.getDay(),Ni=lr===0?-6:1-lr,us=new Date(Tr);us.setDate(Tr.getDate()+Ni),us.setHours(0,0,0,0),St.add(us.getTime())});const an=[...St].sort((ts,Tr)=>Tr-ts);let on=0;const ar=new Date(mt),or=mt.getDay()===0?-6:1-mt.getDay();ar.setDate(mt.getDate()+or),ar.setHours(0,0,0,0);let Hn=ar.getTime();an.includes(Hn)||(Hn-=10080*60*1e3);for(let ts=0;ts<200&&an.includes(Hn);ts++)on++,Hn-=10080*60*1e3;zs(on)}}catch(ee){console.error("Error loading workout stats:",ee)}finally{Zt(!0)}})()},[r,n,g]);const fn=()=>{const V=[];let ee;T==="mix"?ee=["core","upper","lower"]:T==="fullbody"?ee=["upper","lower"]:ee=[T];for(const X of w)for(const pe of ee)V.push(`exercises/${X}/${pe}`);return V},ys=async()=>{if(Ae.current){for(;Ae.current;)await new Promise(V=>setTimeout(V,200));return N.current}Ae.current=!0,Ie(!0);try{const V=fn(),ee=[];for(const je of V)try{const Je=Rc(Ac,je),De=await u1(Je);ee.push(...De.items)}catch{console.warn(`Folder ${je} not found, skipping.`)}if(ee.length===0&&w.includes("bodyweight")&&T==="core")try{const je=Rc(Ac,"core"),Je=await u1(je);ee.push(...Je.items)}catch{console.warn("Legacy core/ folder not found either.")}if(ee.length===0){const je=w.map(De=>f1.find(mt=>mt.key===De)?.label).join(" + "),Je=ap.find(De=>De.key===T)?.label;return xn(`No exercises found for ${je} / ${Je}. Upload videos to Firebase Storage.`,"error"),Ae.current=!1,Ie(!1),[]}const X=new Set,pe=ee.filter(je=>{const Je=je.name.replace(/\.(mp4|gif)$/i,"");return X.has(Je)?!1:(X.add(Je),!0)}),ve=await Promise.all(pe.map(async je=>{const Je=await Wh(je),De=OD(je.name.replace(/\.(mp4|gif)$/i,"")),mt=/\.gif$/i.test(je.name);return{name:De,videoUrl:Je,isGif:mt}}));return N.current=ve,de(ve),Ae.current=!1,Ie(!1),ve}catch(V){console.error("Error loading exercises:",V);const ee=V.code==="storage/unauthorized"?"Storage access denied. Check Firebase Storage rules allow read access.":`Failed to load exercises: ${V.message||V.code||"Unknown error"}`;return xn(ee,"error"),Ae.current=!1,Ie(!1),[]}},ks=async()=>{y("spinning"),N.current=[];const V=await ys();if(V.length===0){y("setup");return}const ee=Qo.find(en=>en.key===H);j(ee);const X=ee.work+ee.rest,pe=z*60,ve=Math.floor(pe/X);let je,Je;ve<=6?(je=Math.max(3,Math.floor(ve/2)),Je=Math.floor(ve/je)):ve<=12?(je=Math.min(6,Math.floor(ve/2)),Je=Math.floor(ve/je)):(je=Math.min(10,Math.floor(ve/2)),Je=Math.floor(ve/je)),Je=Math.max(2,Je);const De=LD(V),mt=De.slice(0,Math.min(je,De.length));A(mt),D(Je),setTimeout(()=>y("preview"),2e3)},Yr=()=>{y("countdown"),Te(3)};k.useEffect(()=>{if(g!=="countdown")return;if(ye<=0){y("workout"),Be(1),fe(0),$e("work"),P(B.work),he(!1),Le();return}ze();const V=setTimeout(()=>Te(ee=>ee-1),1e3);return()=>clearTimeout(V)},[ye,g]),k.useEffect(()=>{if(g!=="workout"||G)return;if(Ke<=0){ls();return}Ke<=3&&ze();const V=setTimeout(()=>P(ee=>ee-1),1e3);return()=>clearTimeout(V)},[Ke,g,G]);const ls=()=>{if(we==="work")$e("rest"),P(B.rest);else{const V=F+1;if(V>=S.length){const ee=be+1;if(ee>I){y("complete"),Ri();return}Be(ee),fe(0)}else fe(V);$e("work"),P(B.work),Le()}},Ri=async()=>{if(r)try{await Lp(ga(Tt,"workoutLogs"),{clientId:n.id,level:H,duration:z,equipment:w,focus:T,exerciseCount:S.length,rounds:I,exercises:S.map(V=>V.name),completedAt:ot.now()}),gs(V=>V+1),$r(V=>V+1),Bs(V=>V+z),xr(V=>({...V,[H]:(V[H]||0)+1}))}catch(V){console.error("Error saving workout log:",V)}},vs=async(V,ee,X)=>{if(!(!n||!ee))try{const pe=n.id,ve=await ms(Kt(Tt,"coreBuddyPBs",pe)),Je=(ve.exists()?ve.data():null)?.exercises||{},De=Je[V];let mt=!1;if(De?(ee>(De.weight||0)||ee===(De.weight||0)&&X>(De.reps||0))&&(mt=!0):mt=!0,mt){const en={...Je,[V]:{weight:ee,reps:X,achievedAt:ot.now()}};await Or(Kt(Tt,"coreBuddyPBs",pe),{clientId:n.id,exercises:en,updatedAt:ot.now()}),xn(`New PB! ${ee}kg  ${X} reps`,"success"),ze(),await Rs(V,ee)}}catch(pe){console.error("Error checking PB:",pe)}},Rs=async(V,ee)=>{if(n)try{const X=await ms(Kt(Tt,"coreBuddyTargets",n.id));if(!X.exists())return;const ve=(X.data().targets||{})[V];if(!ve||ee<ve.targetWeight)return;const je=await ms(Kt(Tt,"coreBuddyAchievements",n.id)),Je=je.exists()?je.data():{clientId:n.id,badges:[],totalVolume:0};if(Je.badges.some(kt=>kt.type==="pb_target"&&kt.exercise===V&&kt.targetWeight===ve.targetWeight))return;const mt={type:"pb_target",exercise:V,group:jD[V]||"push",targetWeight:ve.targetWeight,achievedAt:ot.now()},en=[...Je.badges,mt];await Or(Kt(Tt,"coreBuddyAchievements",n.id),{...Je,badges:en,updatedAt:ot.now()}),ft(kt=>[...kt,mt])}catch(X){console.error("Error checking target badge:",X)}},cs=async V=>{if(!(!n||V<=0))try{const ee=await ms(Kt(Tt,"coreBuddyAchievements",n.id)),X=ee.exists()?ee.data():{clientId:n.id,badges:[],totalVolume:0},pe=X.totalVolume||0,ve=pe+V,je=[];ID.forEach(De=>{ve>=De.threshold&&pe<De.threshold&&(X.badges.some(en=>en.type==="volume_milestone"&&en.milestone===De.threshold)||je.push({type:"volume_milestone",milestone:De.threshold,label:De.label,achievedAt:ot.now()}))});const Je=[...X.badges,...je];await Or(Kt(Tt,"coreBuddyAchievements",n.id),{clientId:n.id,badges:Je,totalVolume:Math.round(ve),updatedAt:ot.now()}),je.length>0&&ft(De=>[...De,...je])}catch(ee){console.error("Error updating volume:",ee)}},jn=async V=>{if(rn(V),V.interval){const pe=[];for(const ve of V.exercises){let je=null,Je=!1;if(ve.storagePath)try{const De=Rc(Ac,ve.storagePath);je=await Wh(De),Je=/\.gif$/i.test(ve.storagePath)}catch{}pe.push({name:ve.name,videoUrl:je,isGif:Je})}A(pe),D(V.rounds),j({work:V.work,rest:V.rest}),y("preview");return}const ee={};for(const pe of V.exercises)if(pe.storagePath)try{const ve=Rc(Ac,pe.storagePath);ee[pe.name]={url:await Wh(ve),isGif:/\.gif$/i.test(pe.storagePath)}}catch{}ke(ee);const X=V.exercises.map(pe=>({name:pe.name,type:pe.type,targetSets:pe.sets,targetReps:pe.reps||0,targetTime:pe.time||0,sets:[]}));Gt(X),wt(0),nt(0),Us(""),Pn(""),Ue(!1),Nn(!1),ge(0),ft([]),jt(null),y("muscle_workout")},qn=()=>{const V=Pe.current;V&&(V.paused?(V.play(),Ue(!0)):(V.pause(),Ue(!1)))};k.useEffect(()=>{if(g!=="muscle_workout"||!hn||le<=0){g==="muscle_workout"&&hn&&le<=0&&(Nn(!1),ze());return}return Oe.current=setTimeout(()=>ge(V=>V-1),1e3),()=>clearTimeout(Oe.current)},[g,hn,le]);const C=async()=>{const V=Ze[Pt];let ee={};if(V.type==="weighted"){const ve=parseFloat(Wr)||0,je=parseInt(Ot)||0;if(je===0){xn("Enter your reps","error");return}ee={weight:ve,reps:je}}else if(V.type==="reps"){const ve=parseInt(Ot)||0;if(ve===0){xn("Enter your reps","error");return}ee={reps:ve}}else if(V.type==="timed"){const ve=V.targetTime-le;ee={time:Math.max(ve,1)}}const X=[...Ze];X[Pt]={...V,sets:[...V.sets,ee]},Gt(X),V.type==="weighted"&&ee.weight>0&&await vs(V.name,ee.weight,ee.reps);const pe=V.sets.length+1;if(pe<V.targetSets)nt(pe),Pn(""),Nn(!1),ge(0);else if(Pt+1<Ze.length){const ve=Pt+1;wt(ve),nt(0),Us(""),Pn(""),Ue(!1),Nn(!1),ge(0)}else await U(X),y("muscle_complete")},U=async V=>{if(!(!r||!n))try{const ee=V.reduce((pe,ve)=>pe+ve.sets.reduce((je,Je)=>je+(Je.weight||0)*(Je.reps||0),0),0),X=V.reduce((pe,ve)=>pe+ve.sets.length,0);await Lp(ga(Tt,"workoutLogs"),{clientId:n.id,type:"muscle_group",muscleGroup:It,sessionId:ne?.id,sessionName:ne?.name,exerciseCount:V.length,totalSets:X,duration:Math.round(X*1.5),volume:Math.round(ee),exercises:V.map(pe=>({name:pe.name,type:pe.type,sets:pe.sets})),completedAt:ot.now()}),ee>0&&await cs(ee),He.length>0&&jt({badges:[...He]})}catch(ee){console.error("Error saving muscle group workout log:",ee)}},re=k.useRef(null),ae=()=>(re.current||(re.current=new(window.AudioContext||window.webkitAudioContext)),re.current),ze=()=>{try{const V=ae(),ee=V.createOscillator(),X=V.createGain();ee.connect(X),X.connect(V.destination),ee.frequency.value=880,X.gain.value=.3,ee.start(V.currentTime),ee.stop(V.currentTime+.15)}catch{}},Le=()=>{try{const V=ae(),ee=V.createOscillator(),X=V.createGain();ee.connect(X),X.connect(V.destination),ee.frequency.value=1200,X.gain.value=.4,ee.start(V.currentTime),ee.stop(V.currentTime+.3)}catch{}};k.useEffect(()=>{if(g!=="workout"||we!=="work"||!S[F]?.isGif)return;const ee=setInterval(()=>{const X=et.current;if(!X)return;const pe=X.getAttribute("src");X.removeAttribute("src"),setTimeout(()=>{et.current&&et.current.setAttribute("src",pe)},0)},4e3);return()=>clearInterval(ee)},[g,we,F,be,S]);const qe=(V,ee,X)=>{const pe=Math.round(V/ee*np);return c.jsx("svg",{className:"wk-ring-svg",viewBox:"0 0 200 200",children:yD.map((ve,je)=>c.jsx("line",{x1:ve.x1,y1:ve.y1,x2:ve.x2,y2:ve.y2,className:je<pe?`wk-tick-filled ${X}`:"wk-tick-empty",strokeWidth:ve.thick?"3":"2"},je))})},Dt=()=>{const V=S.length*I;return((be-1)*S.length+F+(we==="rest"?.5:0))/V},at=tt&&c.jsx("div",{className:`toast-notification ${tt.type}`,children:tt.message});if(i)return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),c.jsx("div",{className:"wk-loading-inline",children:c.jsx("div",{className:"wk-loading-spinner"})})]});if(g==="menu")return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[Fn?rr?c.jsxs("button",{className:"wk-active-prog",onClick:()=>p("/client/core-buddy/programmes"),children:[c.jsxs("div",{className:"wk-active-prog-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:ua.map((V,ee)=>{const X=Math.round(In/100*np);return c.jsx("line",{x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,className:ee<X?"wk-ap-tick-filled":"wk-ap-tick-empty",strokeWidth:V.thick?"3":"2"},ee)})}),c.jsxs("span",{className:"wk-ap-pct",children:[In,"%"]})]}),c.jsxs("div",{className:"wk-active-prog-info",children:[c.jsx("span",{className:"wk-ap-label",children:"CURRENT PROGRAMME"}),c.jsx("span",{className:"wk-ap-name",children:Er}),c.jsx("span",{className:"wk-ap-cta",children:"Continue "})]})]}):null:c.jsx("div",{className:"wk-active-prog-placeholder"}),c.jsxs("div",{className:"wk-menu-heading",children:[c.jsx("h2",{children:"Choose Your Workout"}),c.jsx("p",{children:"No excuses. Just results."})]}),c.jsx("button",{className:"wk-hero-card",onClick:()=>y("setup"),children:c.jsx("img",{src:h1,alt:"Randomise Workout",className:"wk-hero-bg"})}),c.jsxs("div",{className:"wk-section-header",children:[c.jsx("h2",{children:"Programmes"}),c.jsxs("span",{className:"wk-section-count",children:[ip.length," available"]})]}),c.jsx("div",{className:"wk-prog-scroll-wrap",children:c.jsx("div",{className:"wk-prog-scroll",children:ip.map((V,ee)=>V.image?c.jsxs("button",{className:"wk-prog-img-card",onClick:()=>p("/client/core-buddy/programmes",{state:{templateId:V.id}}),style:{animationDelay:`${ee*.06}s`},children:[c.jsx("img",{src:V.image,alt:V.name,className:"wk-prog-img"}),ee===0&&c.jsx("div",{className:"wk-swipe-arrow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},V.id):c.jsxs("button",{className:"wk-prog-hero-card",onClick:()=>p("/client/core-buddy/programmes",{state:{templateId:V.id}}),style:{animationDelay:`${ee*.06}s`},children:[c.jsx("img",{src:AD,alt:"Programme",className:"wk-prog-hero-bg",loading:"lazy"}),c.jsx("div",{className:"wk-prog-hero-overlay",style:{background:MD[V.focus]}}),c.jsxs("div",{className:"wk-prog-hero-content",children:[c.jsxs("div",{className:"wk-prog-hero-top",children:[c.jsxs("span",{className:"wk-prog-hero-badge",children:[V.duration," WEEKS"]}),c.jsx("span",{className:"wk-prog-hero-level",children:V.level})]}),c.jsxs("div",{className:"wk-prog-hero-bottom",children:[c.jsx("h3",{children:V.name.toUpperCase()}),c.jsxs("p",{children:[V.daysPerWeek,"x per week  ",V.focus==="fullbody"?"Full Body":V.focus.charAt(0).toUpperCase()+V.focus.slice(1)," Focus"]}),c.jsx("span",{className:"wk-prog-hero-go",children:"VIEW PROGRAMME "})]})]}),ee===0&&c.jsx("div",{className:"wk-swipe-arrow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},V.id))})}),c.jsxs("div",{className:"wk-section-header",children:[c.jsx("h2",{children:"Muscle Groups"}),c.jsxs("span",{className:"wk-section-count",children:[_c.length," groups"]})]}),c.jsx("div",{className:"wk-muscle-grid",children:_c.map((V,ee)=>c.jsx("button",{className:`wk-muscle-hero-card${V.image?" wk-muscle-thumb":""}`,onClick:()=>{un(V.key),y("muscle_sessions")},style:{animationDelay:`${ee*.05}s`},children:V.image?c.jsx("img",{src:V.image,alt:V.label,className:"wk-muscle-thumb-img"}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:h1,alt:"Muscle group",className:"wk-muscle-hero-bg",loading:"lazy"}),c.jsx("div",{className:"wk-muscle-hero-overlay",style:{background:rp[V.key]}}),c.jsxs("div",{className:"wk-muscle-hero-content",children:[c.jsx("div",{className:"wk-muscle-hero-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:V.icon})})}),c.jsxs("div",{className:"wk-muscle-hero-text",children:[c.jsx("span",{className:"wk-muscle-hero-name",children:V.label}),c.jsxs("span",{className:"wk-muscle-hero-count",children:[d1[V.key]?.length||0," sessions"]})]})]})]})},V.key))})]}),c.jsx(Sl,{active:"workouts"}),at]});if(g==="setup"){const V=ap.find(X=>X.key===T)?.label||T,ee=Qo.find(X=>X.key===H)?.label||H;return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("menu"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main wk-setup-main",children:[c.jsxs("div",{className:"wk-stats-strip",children:[c.jsxs("div",{className:"wk-stats-strip-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:ua.map((X,pe)=>{const ve=Math.round(Math.min(dn,sp)/sp*np);return c.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,className:pe<ve?"wk-stats-tick-filled":"wk-stats-tick-empty",strokeWidth:X.thick?"3":"2"},pe)})}),c.jsxs("span",{className:"wk-stats-strip-ring-num",children:[dn,c.jsxs("small",{children:["/",sp]})]})]}),c.jsxs("div",{className:"wk-stats-strip-items",children:[c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:sr}),c.jsx("span",{className:"wk-stats-strip-label",children:"Workouts"})]}),c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:es}),c.jsx("span",{className:"wk-stats-strip-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:Kr}),c.jsx("span",{className:"wk-stats-strip-label",children:"Wk Streak"})]})]})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Focus Area"}),c.jsx("div",{className:"wk-focus-grid",children:ap.map(X=>c.jsxs("button",{className:`wk-equip-btn${T===X.key?" active":""}${X.key==="mix"?" wk-mix-btn":""}`,onClick:()=>O(X.key),children:[c.jsx("svg",{className:"wk-equip-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:X.icon})}),c.jsx("span",{children:X.label})]},X.key))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Level"}),c.jsx("div",{className:"wk-level-cards",children:Qo.map(X=>c.jsxs("button",{className:`wk-level-card wk-level-${X.key}${H===X.key?" active":""}`,onClick:()=>W(X.key),children:[c.jsx("span",{className:"wk-level-name",children:X.label}),c.jsx("span",{className:"wk-level-desc",children:X.desc})]},X.key))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Time"}),c.jsx("div",{className:"wk-time-options",children:PD.map(X=>c.jsxs("button",{className:`wk-time-btn${z===X?" active":""}`,onClick:()=>ie(X),children:[c.jsx("span",{className:"wk-time-num",children:X}),c.jsx("span",{className:"wk-time-unit",children:"min"})]},X))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Equipment"}),c.jsx("div",{className:"wk-equip-options",children:f1.map(X=>{const pe=w.includes(X.key);return c.jsxs("button",{className:`wk-equip-btn${pe?" active":""}`,onClick:()=>{x(ve=>pe&&ve.length===1?ve:pe?ve.filter(je=>je!==X.key):[...ve,X.key])},children:[c.jsx("svg",{className:"wk-equip-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:X.icon})}),c.jsx("span",{children:X.label})]},X.key)})})]}),c.jsx("div",{className:"wk-setup-summary",children:c.jsxs("span",{children:[V,"  ",ee,"  ",z," min"]})})]}),c.jsx("div",{className:"wk-go-sticky",children:c.jsx("button",{className:"wk-randomise-btn",onClick:ks,disabled:xe,children:xe?"Loading exercises...":"Randomise Workout"})}),at]})}if(g==="spinning")return c.jsxs("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"wk-spin-container",children:[c.jsxs("div",{className:"wk-spin-ring",children:[c.jsx("svg",{className:"wk-spin-svg",viewBox:"0 0 200 200",children:ua.map((V,ee)=>c.jsx("line",{x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,className:"wk-spin-tick",strokeWidth:V.thick?"3.5":"2",style:{animationDelay:`${ee*.03}s`}},ee))}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"wk-spin-logo",width:"50",height:"50"})]}),c.jsx("p",{className:"wk-spin-text",children:"Generating workout..."})]}),at]});if(g==="preview"){const V=ne?.interval?{work:ne.work,rest:ne.rest}:Qo.find(X=>X.key===H),ee=S.length*I*(V.work+V.rest);return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y(ne?.interval?"muscle_sessions":"setup"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[ne?.interval&&c.jsx("h2",{className:"mg-preview-title",children:ne.name}),c.jsxs("div",{className:"wk-preview-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:S.length}),c.jsx("span",{className:"wk-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:I}),c.jsx("span",{className:"wk-stat-label",children:"Rounds"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.ceil(ee/60)}),c.jsx("span",{className:"wk-stat-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsxs("span",{className:"wk-stat-val",children:[V.work,"/",V.rest]}),c.jsx("span",{className:"wk-stat-label",children:"Work/Rest"})]})]}),c.jsx("div",{className:"wk-preview-list",children:S.map((X,pe)=>c.jsxs("div",{className:"wk-preview-item",style:{animationDelay:`${pe*.06}s`},onClick:()=>Fe(X),children:[c.jsx("span",{className:"wk-preview-num",children:pe+1}),c.jsx("div",{className:"wk-preview-thumb",children:X.isGif?c.jsx("img",{src:X.videoUrl,alt:X.name,loading:"lazy"}):c.jsx("video",{src:`${X.videoUrl}#t=0.1`,muted:!0,playsInline:!0,preload:"auto"})}),c.jsx("span",{className:"wk-preview-name",children:X.name}),c.jsx("svg",{className:"wk-preview-play",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})]},pe))}),Se&&c.jsx("div",{className:"wk-preview-modal-backdrop",onClick:()=>Fe(null),children:c.jsxs("div",{className:"wk-preview-modal",onClick:X=>X.stopPropagation(),children:[c.jsx("button",{className:"wk-preview-modal-close",onClick:()=>Fe(null),"aria-label":"Close preview",children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),c.jsx("div",{className:"wk-preview-modal-video",children:Se.isGif?c.jsx("img",{src:Se.videoUrl,alt:Se.name}):c.jsx("video",{src:Se.videoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}),c.jsx("h3",{className:"wk-preview-modal-title",children:Se.name})]})}),c.jsxs("div",{className:"wk-preview-actions",children:[!ne?.interval&&c.jsxs("button",{className:"wk-btn-secondary",onClick:()=>ks(),children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("polyline",{points:"1 4 1 10 7 10"}),c.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),"Reshuffle"]}),c.jsx("button",{className:"wk-btn-primary",onClick:Yr,children:"Start Workout"})]})]})]})}if(g==="countdown")return c.jsx("div",{className:"wk-page wk-page-center wk-page-dark","data-theme":o?"dark":"light","data-accent":d,children:c.jsxs("div",{className:"wk-countdown-big",children:[c.jsx("span",{className:"wk-countdown-num",children:ye}),c.jsx("span",{className:"wk-countdown-label",children:"GET READY"})]})});if(g==="workout"){const V=S[F],ee=we==="work"?B.work:B.rest,X=we==="rest"?F+1<S.length?S[F+1]:be<I?S[0]:null:null;return c.jsxs("div",{className:"wk-page wk-page-workout","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"wk-video-container",children:we==="work"?V.isGif?c.jsx("img",{ref:et,className:"wk-video",src:V.videoUrl,alt:V.name},V.videoUrl):c.jsx("video",{className:"wk-video",src:V.videoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0},V.videoUrl):c.jsxs("div",{className:"wk-rest-screen",children:[c.jsx("span",{className:"wk-rest-label",children:"REST"}),X&&c.jsxs("span",{className:"wk-next-label",children:["Next: ",X.name]})]})}),c.jsx("div",{className:"wk-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"wk-exercise-info",children:[c.jsxs("span",{className:"wk-exercise-counter",children:[F+1," / ",S.length]}),c.jsx("h2",{className:"wk-exercise-name",children:V.name}),c.jsxs("span",{className:"wk-round-label",children:["Round ",be," of ",I]})]}),c.jsx("div",{className:"wk-timer-section",children:c.jsxs("div",{className:"wk-timer-ring-wrap",children:[qe(Ke,ee,we==="work"?"wk-tick-work":"wk-tick-rest"),c.jsxs("div",{className:"wk-timer-center",children:[c.jsx("span",{className:"wk-timer-time",children:Ke}),c.jsx("span",{className:`wk-timer-phase ${we}`,children:we==="work"?"WORK":"REST"})]})]})}),c.jsxs("div",{className:"wk-controls",children:[c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-stop",onClick:()=>{confirm("End workout early?")&&y("menu")},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})})}),c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-pause",onClick:()=>he(!G),children:G?c.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}):c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),c.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}),c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-skip",onClick:()=>{P(0)},children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),c.jsx("rect",{x:"15",y:"4",width:"4",height:"16"})]})})]}),c.jsx("div",{className:"wk-progress-bar",children:c.jsx("div",{className:"wk-progress-fill",style:{width:`${Dt()*100}%`}})})]})}if(g==="complete"){const V=Qo.find(X=>X.key===H),ee=S.length*I*(V.work+V.rest);return c.jsx("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:c.jsxs("div",{className:"wk-complete",children:[c.jsxs("div",{className:"wk-complete-ring",children:[c.jsx("svg",{className:"wk-complete-svg",viewBox:"0 0 200 200",children:ua.map((X,pe)=>c.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,className:"wk-tick-complete",strokeWidth:X.thick?"3.5":"2",style:{animationDelay:`${pe*.02}s`}},pe))}),c.jsx("div",{className:"wk-complete-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsx("h2",{className:"wk-complete-title",children:"Workout Complete!"}),c.jsxs("div",{className:"wk-complete-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.ceil(ee/60)}),c.jsx("span",{className:"wk-stat-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:S.length*I}),c.jsx("span",{className:"wk-stat-label",children:"Intervals"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:I}),c.jsx("span",{className:"wk-stat-label",children:"Rounds"})]})]}),c.jsx("div",{className:"wk-complete-actions",children:c.jsx("button",{className:"wk-btn-primary",onClick:()=>{rn(null),un(null),y("menu")},children:"Done"})})]})})}if(g==="muscle_sessions"){const V=_c.find(X=>X.key===It),ee=d1[It]||[];return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("menu"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[c.jsxs("div",{className:"mg-sessions-header",children:[c.jsx("div",{className:"mg-sessions-icon",style:{background:rp[It]},children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:V?.icon})})}),c.jsxs("h2",{children:[V?.label," Workouts"]}),c.jsxs("p",{children:[ee.length," sessions available"]})]}),c.jsx("div",{className:"mg-sessions-list",children:ee.map((X,pe)=>c.jsxs("button",{className:"mg-session-card",onClick:()=>{rn(X),y("muscle_overview")},style:{animationDelay:`${pe*.08}s`},children:[c.jsxs("div",{className:"mg-session-info",children:[c.jsx("h3",{children:X.name}),c.jsx("p",{children:X.desc}),c.jsx("div",{className:"mg-session-meta",children:X.interval?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mg-session-tag mg-tag-interval",children:"Interval"}),c.jsxs("span",{className:"mg-session-tag",children:[X.exercises.length," exercises"]}),c.jsxs("span",{className:"mg-session-tag",children:[X.rounds," rounds"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mg-session-tag mg-tag-strength",children:"Strength"}),c.jsxs("span",{className:"mg-session-tag",children:[X.exercises.length," exercises"]}),c.jsx("span",{className:"mg-session-tag",children:(()=>{const ve=X.exercises.map(De=>De.sets||0),je=Math.min(...ve),Je=Math.max(...ve);return je===Je?`${je} sets each`:`${je}-${Je} sets each`})()})]})})]}),c.jsx("div",{className:"mg-session-arrow",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},X.id))})]}),at]})}if(g==="muscle_overview"){const V=ne;if(!V)return null;const ee=_c.find(X=>X.key===It);return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("muscle_sessions"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main mg-overview-main",children:[c.jsx("div",{className:"mg-overview-hero",style:{background:rp[It]},children:c.jsx("div",{className:"mg-overview-hero-content",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"mg-overview-hero-icon",children:c.jsx("path",{d:ee?.icon})})})}),c.jsxs("div",{className:"mg-overview-header",children:[c.jsxs("div",{className:"mg-overview-title-row",children:[c.jsx("h2",{children:V.name}),V.level&&c.jsx("span",{className:"mg-overview-level",children:V.level})]}),c.jsx("p",{className:"mg-overview-desc",children:V.desc})]}),V.overview&&c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),"About This Workout"]}),c.jsx("p",{children:V.overview})]}),V.tips&&V.tips.length>0&&c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 1 1 7.072 0l-.548.547A3.374 3.374 0 0 0 14 18.469V19a2 2 0 1 1-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Tips & Form"]}),c.jsx("ul",{className:"mg-overview-tips",children:V.tips.map((X,pe)=>c.jsx("li",{children:X},pe))})]}),c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"}),c.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),c.jsx("path",{d:"M9 14l2 2 4-4"})]}),"Exercises (",V.exercises.length,")"]}),c.jsx("div",{className:"mg-overview-exercises",children:V.exercises.map((X,pe)=>c.jsxs("div",{className:"mg-overview-exercise",children:[c.jsx("span",{className:"mg-overview-ex-num",children:pe+1}),c.jsxs("div",{className:"mg-overview-ex-info",children:[c.jsx("span",{className:"mg-overview-ex-name",children:X.name}),V.interval?c.jsxs("span",{className:"mg-overview-ex-detail",children:[V.work,"s work / ",V.rest,"s rest"]}):c.jsxs("span",{className:"mg-overview-ex-detail",children:[X.sets," sets  ",X.reps?`${X.reps} reps`:`${X.time}s`,X.type==="weighted"&&"  weighted"]})]})]},pe))})]}),c.jsxs("button",{className:"mg-overview-start-btn",onClick:()=>jn(V),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M8 5v14l11-7z"})}),"Start Workout"]})]}),at]})}if(g==="muscle_workout"){const V=ne;if(!V)return null;const ee=V.exercises[Pt],X=Ze[Pt];if(!ee||!X)return null;const pe=X.sets.length,ve=V.exercises.length,je=V.exercises.reduce((kt,Qt)=>kt+(Qt.sets||0),0),De=Ze.reduce((kt,Qt)=>kt+Qt.sets.length,0)/je*100,mt=Ce[ee.name];ee.type==="timed"&&le===0&&!hn&&pe===xt&&setTimeout(()=>ge(ee.time),0);const en=pe+1<ee.sets?"Log Set":Pt+1<ve?"Log Set  Next Exercise":"Log Set  Complete";return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"mg-session-progress",children:c.jsx("div",{className:"mg-session-progress-fill",style:{width:`${De}%`}})}),c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>{confirm("End workout early?")&&y("muscle_overview")},"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("span",{className:"mg-header-info",children:["Exercise ",Pt+1,"/",ve]}),c.jsx("div",{style:{width:22}})]})}),c.jsxs("main",{className:"wk-main",children:[mt?c.jsxs("div",{className:"mg-video-container",onClick:qn,children:[mt.isGif?c.jsx("img",{className:"mg-video",src:mt.url,alt:ee.name}):c.jsx("video",{ref:Pe,className:"mg-video",src:mt.url,loop:!0,muted:!0,playsInline:!0},ee.name),!_e&&!mt.isGif&&c.jsxs("div",{className:"mg-video-overlay",children:[c.jsx("svg",{className:"mg-play-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"rgba(255,255,255,0.9)",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),c.jsx("span",{className:"mg-video-hint",children:"Tap for demo"})]})]}):c.jsxs("div",{className:"mg-video-placeholder",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.4",children:[c.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),c.jsx("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),c.jsx("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),c.jsx("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),c.jsx("line",{x1:"17",y1:"7",x2:"22",y2:"7"}),c.jsx("line",{x1:"17",y1:"17",x2:"22",y2:"17"})]}),c.jsx("span",{children:"Video coming soon"})]}),c.jsx("div",{className:"wk-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"mg-exercise-card",children:[c.jsx("h2",{className:"mg-ex-name",children:ee.name}),c.jsx("span",{className:`mg-ex-type-badge ${ee.type}`,children:ee.type==="weighted"?"Weight + Reps":ee.type==="reps"?"Reps Only":"Timed"}),c.jsxs("div",{className:"mg-ex-set-info",children:[c.jsxs("span",{className:"mg-ex-set-num",children:["Set ",pe+1," of ",ee.sets]}),ee.type!=="timed"&&c.jsxs("span",{className:"mg-ex-target",children:["Target: ",ee.reps," reps"]}),ee.type==="timed"&&c.jsxs("span",{className:"mg-ex-target",children:["Target: ",ee.time,"s"]})]}),ee.type==="weighted"&&c.jsxs("div",{className:"mg-input-area",children:[c.jsxs("div",{className:"mg-input-group",children:[c.jsx("label",{children:"Weight (kg)"}),c.jsx("input",{type:"number",inputMode:"decimal",className:"mg-input",value:Wr,onChange:kt=>Us(kt.target.value),placeholder:"0"})]}),c.jsxs("div",{className:"mg-input-group",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",className:"mg-input",value:Ot,onChange:kt=>Pn(kt.target.value),placeholder:"0"})]})]}),ee.type==="reps"&&c.jsx("div",{className:"mg-input-area",children:c.jsxs("div",{className:"mg-input-group mg-input-single",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",className:"mg-input",value:Ot,onChange:kt=>Pn(kt.target.value),placeholder:"0"})]})}),ee.type==="timed"&&c.jsxs("div",{className:"mg-timer-area",children:[c.jsx("div",{className:"mg-timer-display",children:c.jsxs("span",{className:"mg-timer-value",children:[le,"s"]})}),hn?c.jsx("button",{className:"mg-timer-btn mg-timer-stop",onClick:()=>Nn(!1),children:"Stop"}):c.jsx("button",{className:"mg-timer-btn",onClick:()=>{le===0&&ge(ee.time),Nn(!0)},children:le<ee.time&&le>0?"Resume":"Start Timer"})]}),c.jsx("button",{className:"mg-log-set-btn",onClick:C,children:en}),X.sets.length>0&&c.jsx("div",{className:"mg-completed-sets",children:X.sets.map((kt,Qt)=>c.jsxs("div",{className:"mg-completed-set",children:[c.jsx("span",{className:"mg-completed-set-check",children:""}),c.jsxs("span",{children:["Set ",Qt+1,": ",kt.weight!=null?`${kt.weight}kg  ${kt.reps}`:kt.reps!=null?`${kt.reps} reps`:`${kt.time}s`]})]},Qt))})]})]}),at]})}if(g==="muscle_complete"){const V=Ze.reduce((pe,ve)=>pe+ve.sets.length,0),ee=Ze.reduce((pe,ve)=>pe+ve.sets.reduce((je,Je)=>je+(Je.weight||0)*(Je.reps||0),0),0),X=_c.find(pe=>pe.key===It)?.label||"";return c.jsxs("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"wk-complete",children:[c.jsxs("div",{className:"wk-complete-ring",children:[c.jsx("svg",{className:"wk-complete-svg",viewBox:"0 0 200 200",children:ua.map((pe,ve)=>c.jsx("line",{x1:pe.x1,y1:pe.y1,x2:pe.x2,y2:pe.y2,className:"wk-tick-complete",strokeWidth:pe.thick?"3.5":"2",style:{animationDelay:`${ve*.02}s`}},ve))}),c.jsx("div",{className:"wk-complete-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsxs("h2",{className:"wk-complete-title",children:[X," Complete!"]}),c.jsx("p",{className:"mg-complete-session-name",children:ne?.name}),c.jsxs("div",{className:"wk-complete-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Ze.length}),c.jsx("span",{className:"wk-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:V}),c.jsx("span",{className:"wk-stat-label",children:"Sets"})]}),ee>0&&c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.round(ee).toLocaleString()}),c.jsx("span",{className:"wk-stat-label",children:"Volume (kg)"})]})]}),c.jsx("div",{className:"wk-complete-actions",children:c.jsx("button",{className:"wk-btn-primary",onClick:()=>{rn(null),un(null),jt(null),y("menu")},children:"Done"})})]}),Wt&&c.jsx("div",{className:"mg-badge-celebration",onClick:()=>jt(null),children:c.jsxs("div",{className:"mg-badge-celebration-card",children:[c.jsx("div",{className:"mg-badge-celebration-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"#ffc107",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),c.jsx("h3",{className:"mg-badge-celebration-title",children:Wt.badges.length===1?"Badge Earned!":`${Wt.badges.length} Badges Earned!`}),c.jsx("div",{className:"mg-badge-celebration-list",children:Wt.badges.map((pe,ve)=>c.jsx("div",{className:"mg-badge-celebration-item",children:pe.type==="pb_target"?`${pe.exercise}  ${pe.targetWeight}kg`:pe.label},ve))}),c.jsx("button",{className:"mg-badge-celebration-dismiss",children:"Tap to dismiss"})]})})]})}return null}const UD=60,BD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core"},zD=[{threshold:1e3,label:"1 Tonne"},{threshold:5e3,label:"5 Tonne"},{threshold:1e4,label:"10 Tonne"},{threshold:25e3,label:"25 Tonne"},{threshold:5e4,label:"50 Tonne"},{threshold:1e5,label:"100 Tonne"},{threshold:25e4,label:"250 Tonne"},{threshold:5e5,label:"500 Tonne"},{threshold:1e6,label:"1 Million kg"}],m1=[{id:"fullbody_4wk",name:"4-Week Full Body",focus:"fullbody",duration:4,daysPerWeek:3,level:"All Levels",description:"Build total body strength with compound dumbbell movements and bodyweight finishers",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Push Focus",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:3,baseReps:10,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Dumbbell Goblet Squats",type:"weighted",sets:3,baseReps:10,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Pull Focus",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:3,baseReps:10,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Romanian Deadlifts",type:"weighted",sets:3,baseReps:10,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Reverse Lunge",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/reverse lunge.GIF"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{name:"Day 3",label:"Legs & Core",exercises:[{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Box Step Ups",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/box step ups.GIF"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"fullbody_8wk",name:"8-Week Full Body",focus:"fullbody",duration:8,daysPerWeek:3,level:"Intermediate",description:"Two-phase programme building strength and endurance across your full body",repProg:1,timeProg:3,days:[{name:"Day 1",label:"Strength",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:8,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:8,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:8,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Power",exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Single Arm Bent Over Row",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Bulgarian Split Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/bulgarian split squats.GIF"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"}]},{name:"Day 3",label:"Endurance",exercises:[{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:40,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"fullbody_12wk",name:"12-Week Full Body",focus:"fullbody",duration:12,daysPerWeek:3,level:"Advanced",description:"Complete transformation programme: push, pull, and legs over three phases",repProg:1,timeProg:2,days:[{name:"Day 1",label:"Upper Push",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:8,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Skullcrushers",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/skullcrushers.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Lower Body",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:8,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Jump Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/jump squats.GIF"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"}]},{name:"Day 3",label:"Upper Pull",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:8,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]}]},{id:"core_4wk",name:"4-Week Core",focus:"core",duration:4,daysPerWeek:3,level:"Beginner",description:"Build a solid core foundation with targeted ab and stability work",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Abs",exercises:[{name:"Crunch",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Leg Raises",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Stability",exercises:[{name:"Dead Bug",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Dead Bug.mp4"},{name:"Bird Dog",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Bird Dog.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:20,storagePath:"exercises/bodyweight/core/Side Plank.mp4"},{name:"Flutter Kicks",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:20,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"High Plank Shoulder Taps",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/High Plank Shoulder Taps.mp4"}]},{name:"Day 3",label:"Power Core",exercises:[{name:"Single Leg V-Up",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Single Leg V-Up.mp4"},{name:"Toe Reaches",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/toe reaches.GIF"},{name:"Russian Twists Dumbbell",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/core/russian twists dumbbell.GIF"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Fast Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Fast Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"core_8wk",name:"8-Week Core",focus:"core",duration:8,daysPerWeek:3,level:"Intermediate",description:"Develop deep core strength and rotational power over two phases",repProg:1,timeProg:3,days:[{name:"Day 1",label:"Anti-Extension",exercises:[{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"},{name:"Dead Bug",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Dead Bug.mp4"},{name:"Plank Walkout",type:"reps",sets:3,baseReps:8,storagePath:"exercises/bodyweight/core/Plank Walkout.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:25,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"Leg Raises",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"}]},{name:"Day 2",label:"Rotation",exercises:[{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Kettlebell Russian Twist",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Side Plank Rotation",type:"reps",sets:2,baseReps:10,storagePath:"exercises/bodyweight/core/Side Plank Rotation.mp4"},{name:"High Plank Shoulder Taps",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/High Plank Shoulder Taps.mp4"},{name:"Hollow Hold To V-Sit",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Hollow Hold To V-sit.mp4"}]},{name:"Day 3",label:"Power",exercises:[{name:"Crunch",type:"reps",sets:4,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Flutter Kicks",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Reverse Crunch To Leg Raise",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Kettlebell Bird Dog Drag",type:"reps",sets:3,baseReps:10,storagePath:"exercises/kettlebells/core/kettlebell bird dog drag.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:40,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"core_12wk",name:"12-Week Core",focus:"core",duration:12,daysPerWeek:3,level:"Advanced",description:"Ultimate core transformation: stability, strength, and power across three phases",repProg:1,timeProg:2,days:[{name:"Day 1",label:"Strength",exercises:[{name:"Forearm Plank",type:"timed",sets:4,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"},{name:"Plank Walkout",type:"reps",sets:4,baseReps:8,storagePath:"exercises/bodyweight/core/Plank Walkout.mp4"},{name:"Leg Raises",type:"reps",sets:4,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Kettlebell Side Bends",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kettlebell side bends.mp4"},{name:"Dead Bug Single Leg Drop",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Dead Bug Single Leg Drop.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:25,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"}]},{name:"Day 2",label:"Endurance",exercises:[{name:"Crunch",type:"reps",sets:4,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Kettlebell Russian Twist",type:"weighted",sets:4,baseReps:15,storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Hollow Hold Flutter Kicks",type:"reps",sets:3,baseReps:25,storagePath:"exercises/bodyweight/core/Hollow Hold Flutter Kicks.mp4"},{name:"Cross Body Mountain Climbers",type:"reps",sets:3,baseReps:25,storagePath:"exercises/bodyweight/core/Cross Body Mountain Climbers.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{name:"Day 3",label:"Power",exercises:[{name:"Hollow Hold To V-Sit",type:"reps",sets:4,baseReps:10,storagePath:"exercises/bodyweight/core/Hollow Hold To V-sit.mp4"},{name:"Reverse Crunch To Leg Raise",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Hip Dips Plank",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/Hip Dips Plank.mp4"},{name:"Kneeling Kettlebell Halo",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kneeling kettlebell halo.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"upper_4wk",name:"4-Week Upper Body",focus:"upper",duration:4,daysPerWeek:3,level:"Intermediate",description:"Sculpt and strengthen your chest, back, shoulders, and arms",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Push",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:10,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Tricep Dips",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/upper/tricep dips.mp4"},{name:"Pike Push Ups",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/upper/pike push ups.GIF"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Pull",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:10,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Reverse Plank",type:"timed",sets:3,baseTime:20,storagePath:"exercises/bodyweight/upper/reverse plank.GIF"}]},{name:"Day 3",label:"Mixed",exercises:[{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Renegade Row",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/renegade row.mp4"},{name:"Superman Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/core/Superman Hold.mp4"}]}]},{id:"lower_4wk",name:"4-Week Lower Body",focus:"lower",duration:4,daysPerWeek:3,level:"Intermediate",description:"Build powerful legs and glutes with squats, deadlifts, and plyometrics",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Quad Dominant",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:10,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Dumbbell Box Step Ups",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell box step ups.mp4"},{name:"Dumbbell Squat Pulses",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell squat pulses.GIF"},{name:"Jump Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/jump squats.GIF"},{name:"Squat And Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/lower/squat and hold.GIF"}]},{name:"Day 2",label:"Hamstring & Glute",exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"1 Legged RDL",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/1 legged rdl.GIF"},{name:"Hip Thrusts",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/hip thrusts.GIF"},{name:"Dumbbell Reverse Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell reverse lunges.GIF"},{name:"Donkey Kicks",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/lower/donkey kicks.GIF"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 3",label:"Power & Stability",exercises:[{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Kettlebell Romanian Deadlift",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/kettlebells/lower/kettlebell romanian deadlift.mp4"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Bulgarian Split Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/bulgarian split squats.GIF"},{name:"Skater Jumps",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/skater jumps.GIF"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]}]}];function jh(r,e,n){const i=r.baseReps?r.baseReps+(e-1)*(n.repProg||0):void 0,o=r.baseTime?r.baseTime+(e-1)*(n.timeProg||0):void 0;return{sets:r.sets,reps:i,time:o}}const FD={fullbody:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm-2 8h4l1 4h2l-1 4h-2l-1 4h-2l-1-4H8l-1-4h2l1-4z",core:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z",upper:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z",lower:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"};function qD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Aa(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=nr(),g=wr(),[y,w]=k.useState("loading"),[x,T]=k.useState(null),O=k.useRef(!1),[H,W]=k.useState(null),[z,ie]=k.useState(1),[Z,de]=k.useState(0),[xe,Ie]=k.useState(0),[Ae,N]=k.useState(0),[S,A]=k.useState([]),[I,D]=k.useState(""),[B,j]=k.useState(""),[be,Be]=k.useState(!1),[F,fe]=k.useState(0),we=k.useRef(null),[$e,Ke]=k.useState({}),[P,G]=k.useState(!1),he=k.useRef(null),[ye,Te]=k.useState(null),[Se,Fe]=k.useState([]);k.useEffect(()=>{window.scrollTo(0,0)},[y]);const[et,tt]=k.useState(null),Ht=k.useCallback((le,ge="info")=>{tt({message:le,type:ge}),setTimeout(()=>tt(null),4e3)},[]),xn=k.useRef(null),It=()=>(xn.current||(xn.current=new(window.AudioContext||window.webkitAudioContext)),xn.current),un=()=>{try{const le=It(),ge=le.createOscillator(),_e=le.createGain();ge.connect(_e),_e.connect(le.destination),ge.frequency.value=1200,_e.gain.value=.4,ge.start(le.currentTime),ge.stop(le.currentTime+.3)}catch{}};k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n)return;(async()=>{try{const ge=Kt(Tt,"clientProgrammes",n.id),_e=await ms(ge);_e.exists()?(W(_e.data()),w("dashboard")):g.state?.templateId?w("browse"):p("/client/core-buddy/workouts",{replace:!0})}catch(ge){console.error("Error loading programme:",ge),p("/client/core-buddy/workouts",{replace:!0})}})()},[n]),k.useEffect(()=>{if(O.current||y==="loading")return;const le=g.state?.templateId;if(!le)return;const ge=m1.find(_e=>_e.id===le);ge&&(O.current=!0,T(ge),w("overview"))},[y,g.state]),k.useEffect(()=>{if(!be||F<=0){be&&F<=0&&(Be(!1),un());return}return we.current=setTimeout(()=>fe(le=>le-1),1e3),()=>clearTimeout(we.current)},[be,F]);const ne=async le=>{if(n)try{await Or(Kt(Tt,"clientProgrammes",n.id),le),W(le)}catch(ge){console.error("Error saving programme:",ge),Ht("Failed to save. Check Firestore rules for clientProgrammes.","error")}},rn=async le=>{const ge={templateId:le.id,startDate:ot.now(),completedSessions:{}};await ne(ge),w("dashboard")},Pt=async()=>{if(n)try{await ij(Kt(Tt,"clientProgrammes",n.id)),W(null),w("browse")}catch(le){console.error("Error quitting programme:",le)}},wt=()=>H?m1.find(le=>le.id===H.templateId):null,xt=()=>{if(!H)return{currentWeek:1,completedThisWeek:0,nextDay:0,totalCompleted:0};const le=H.completedSessions||{},ge=Object.keys(le).length,_e=wt();if(!_e)return{currentWeek:1,completedThisWeek:0,nextDay:0,totalCompleted:0};const Ue=_e.duration*_e.daysPerWeek,Ce=Math.min(Math.floor(ge/_e.daysPerWeek)+1,_e.duration),ke=ge-(Ce-1)*_e.daysPerWeek;for(let Pe=1;Pe<=_e.duration;Pe++)for(let Oe=0;Oe<_e.daysPerWeek;Oe++){const He=`w${Pe}d${Oe}`;if(!le[He])return{currentWeek:Pe,completedThisWeek:ke,nextDay:Oe,nextWeek:Pe,totalCompleted:ge,totalSessions:Ue}}return{currentWeek:_e.duration,completedThisWeek:_e.daysPerWeek,nextDay:-1,totalCompleted:ge,totalSessions:Ue,complete:!0}},nt=(le,ge,_e)=>{if(!H||le<=1)return null;const Ue=`w${le-1}d${ge}`,Ce=H.completedSessions?.[Ue];if(!Ce)return null;const ke=Ce.exercises?.find(Pe=>Pe.name===_e);return ke?.sets?.length?ke.sets[ke.sets.length-1]:null},Ze=(le,ge)=>{const _e=wt();if(!_e)return;ie(le),de(ge),Ie(0),N(0),A([]),j(""),Be(!1),fe(0),G(!1),Ke({});const Ue=_e.days[ge],Ce=Ue.exercises.map(He=>{const ft=jh(He,le,_e);return{name:He.name,type:He.type,pbKey:He.pbKey,targetSets:ft.sets,targetReps:ft.reps,targetTime:ft.time,sets:[]}});A(Ce);const ke=Ue.exercises[0],Pe=nt(le,ge,ke.name);Pe?.weight&&ke.type==="weighted"?D(String(Pe.weight)):D(""),(async()=>{const He={};for(const ft of Ue.exercises)if(ft.storagePath)try{const Wt=Rc(Ac,ft.storagePath),jt=await Wh(Wt);He[ft.name]={url:jt,isGif:/\.gif$/i.test(ft.storagePath)}}catch(Wt){console.warn(`Video not found for ${ft.name}:`,Wt)}Ke(He)})(),w("session")},Gt=async()=>{wt();const le=S[xe];if(!le)return;let ge={};if(le.type==="weighted"){const Ce=parseFloat(I)||0,ke=parseInt(B)||0;if(ke===0){Ht("Enter your reps","error");return}ge={weight:Ce,reps:ke}}else if(le.type==="reps"){const Ce=parseInt(B)||0;if(Ce===0){Ht("Enter your reps","error");return}ge={reps:Ce}}else if(le.type==="timed"){const Ce=le.targetTime-F;ge={time:Math.max(Ce,1)}}const _e=[...S];_e[xe]={...le,sets:[...le.sets,ge]},A(_e),le.type==="weighted"&&ge.weight>0&&await Ot(le.name,ge.weight,ge.reps);const Ue=le.sets.length+1;if(Ue<le.targetSets)N(Ue),D(ge.weight?String(ge.weight):""),j(""),Be(!1),fe(0);else if(xe+1<S.length){const Ce=xe+1;Ie(Ce),N(0),G(!1);const Pe=wt()?.days[Z]?.exercises[Ce],Oe=nt(z,Z,Pe?.name);Oe?.weight&&Pe?.type==="weighted"?D(String(Oe.weight)):D(""),j(""),Be(!1),fe(0)}else await Wr(_e)},Wr=async le=>{if(!H||!n)return;const ge=`w${z}d${Z}`,_e={...H.completedSessions,[ge]:{completedAt:new Date().toISOString(),exercises:le.map(ke=>({name:ke.name,type:ke.type,sets:ke.sets}))}},Ue={...H,completedSessions:_e};await ne(Ue);const Ce=le.reduce((ke,Pe)=>ke+Pe.sets.reduce((Oe,He)=>Oe+(He.weight||0)*(He.reps||0),0),0);Ce>0&&await Us(Ce);try{const ke=wt();await Lp(ga(Tt,"workoutLogs"),{clientId:n.id,type:"programme",programmeId:ke?.id,programmeName:ke?.name,week:z,day:Z+1,exerciseCount:le.length,duration:Math.round(le.reduce((Pe,Oe)=>Pe+Oe.sets.length*1.5,0)),volume:Math.round(Ce),completedAt:ot.now()})}catch(ke){console.error("Error saving workout log:",ke)}Se.length>0&&(Te({badges:[...Se]}),Fe([])),w("sessionComplete")},Us=async le=>{if(n)try{const ge=await ms(Kt(Tt,"coreBuddyAchievements",n.id)),_e=ge.exists()?ge.data():{clientId:n.id,badges:[],totalVolume:0},Ue=_e.totalVolume||0,Ce=Ue+le,ke=[];zD.forEach(Oe=>{Ce>=Oe.threshold&&Ue<Oe.threshold&&(_e.badges.some(ft=>ft.type==="volume_milestone"&&ft.milestone===Oe.threshold)||ke.push({type:"volume_milestone",milestone:Oe.threshold,label:Oe.label,achievedAt:ot.now()}))});const Pe=[..._e.badges,...ke];await Or(Kt(Tt,"coreBuddyAchievements",n.id),{clientId:n.id,badges:Pe,totalVolume:Math.round(Ce),updatedAt:ot.now()}),ke.length>0&&Fe(Oe=>[...Oe,...ke])}catch(ge){console.error("Error updating volume:",ge)}},Ot=async(le,ge,_e)=>{if(n)try{const Ue=n.id,Ce=await ms(Kt(Tt,"coreBuddyPBs",Ue)),Pe=(Ce.exists()?Ce.data():null)?.exercises||{},Oe=Pe[le];let He=!1;if(Oe?(ge>(Oe.weight||0)||ge===(Oe.weight||0)&&_e>(Oe.reps||0))&&(He=!0):He=!0,He){const ft={...Pe,[le]:{weight:ge,reps:_e,achievedAt:ot.now()}};await Or(Kt(Tt,"coreBuddyPBs",Ue),{clientId:n.id,exercises:ft,updatedAt:ot.now()}),Ht(`New PB! ${ge}kg  ${_e} reps`,"success"),un(),await Pn(le,ge)}}catch(Ue){console.error("Error checking PB:",Ue)}},Pn=async(le,ge)=>{if(n)try{const _e=await ms(Kt(Tt,"coreBuddyTargets",n.id));if(!_e.exists())return;const Ce=(_e.data().targets||{})[le];if(!Ce||ge<Ce.targetWeight)return;const ke=await ms(Kt(Tt,"coreBuddyAchievements",n.id)),Pe=ke.exists()?ke.data():{clientId:n.id,badges:[],totalVolume:0};if(Pe.badges.some(Wt=>Wt.type==="pb_target"&&Wt.exercise===le&&Wt.targetWeight===Ce.targetWeight))return;const He={type:"pb_target",exercise:le,group:BD[le]||"push",targetWeight:Ce.targetWeight,achievedAt:ot.now()},ft=[...Pe.badges,He];await Or(Kt(Tt,"coreBuddyAchievements",n.id),{...Pe,badges:ft,updatedAt:ot.now()}),Fe(Wt=>[...Wt,He])}catch(_e){console.error("Error checking target badge:",_e)}},hn=et&&c.jsxs("div",{className:`toast-notification ${et.type}`,children:[et.type==="success"&&c.jsx("span",{children:" "}),et.message]}),Nn=(le,ge)=>c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:ge,"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})});if(i||y==="loading")return c.jsx("div",{className:"cb-loading",children:c.jsx("div",{className:"cb-loading-spinner"})});if(y==="browse")return p("/client/core-buddy/workouts",{replace:!0}),null;if(y==="overview"&&x){const le=x;return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[Nn(le.name,()=>p("/client/core-buddy/workouts")),c.jsxs("main",{className:"pg-main",children:[c.jsxs("div",{className:"pg-overview-hero",children:[c.jsx("svg",{className:"pg-overview-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:FD[le.focus]})}),c.jsx("h2",{className:"pg-overview-name",children:le.name}),c.jsx("p",{className:"pg-overview-desc",children:le.description}),c.jsxs("div",{className:"pg-overview-stats",children:[c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:le.duration}),c.jsx("span",{className:"pg-ov-stat-label",children:"Weeks"})]}),c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:le.daysPerWeek}),c.jsx("span",{className:"pg-ov-stat-label",children:"Days/Week"})]}),c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:le.duration*le.daysPerWeek}),c.jsx("span",{className:"pg-ov-stat-label",children:"Sessions"})]})]})]}),c.jsx("div",{className:"pg-overview-days",children:le.days.map((ge,_e)=>c.jsxs("div",{className:"pg-day-card",children:[c.jsxs("div",{className:"pg-day-header",children:[c.jsx("span",{className:"pg-day-name",children:ge.name}),c.jsx("span",{className:"pg-day-label",children:ge.label})]}),c.jsx("div",{className:"pg-day-exercises",children:ge.exercises.map((Ue,Ce)=>{const ke=jh(Ue,1,le);return c.jsxs("div",{className:"pg-day-ex",children:[c.jsx("span",{className:"pg-day-ex-name",children:Ue.name}),c.jsx("span",{className:"pg-day-ex-target",children:Ue.type==="timed"?`${ke.sets}${ke.time}s`:`${ke.sets}${ke.reps}`}),c.jsx("span",{className:`pg-day-ex-badge pg-badge-${Ue.type}`,children:Ue.type==="weighted"?"WT":Ue.type==="timed"?"TMR":"BW"})]},Ce)})})]},_e))}),c.jsxs("div",{className:"pg-overview-note",children:[c.jsx("strong",{children:"Progressive Overload:"})," +",le.repProg," reps/week",le.timeProg?`, +${le.timeProg}s/week for timed`:""]}),c.jsx("button",{className:"pg-start-btn",onClick:()=>rn(le),children:"Start Programme"})]}),hn]})}if(y==="dashboard"){const le=wt();if(!le)return w("browse"),null;const ge=xt(),_e=H?.completedSessions||{},Ue=ge.totalSessions?Math.round(ge.totalCompleted/ge.totalSessions*100):0,Ce=Math.round(ge.totalCompleted/(ge.totalSessions||1)*UD);return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[Nn("Programme",()=>p("/client/core-buddy/workouts")),c.jsxs("main",{className:"pg-main",children:[c.jsxs("div",{className:"pg-dash-hero",children:[c.jsxs("div",{className:"pg-dash-ring-wrap",children:[c.jsx("svg",{className:"pg-dash-ring-svg",viewBox:"0 0 200 200",children:ua.map((ke,Pe)=>c.jsx("line",{x1:ke.x1,y1:ke.y1,x2:ke.x2,y2:ke.y2,className:Pe<Ce?"pg-tick-filled":"pg-tick-empty",strokeWidth:ke.thick?"3":"2"},Pe))}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"pg-dash-ring-logo",width:"50",height:"50"})]}),c.jsx("h2",{className:"pg-dash-name",children:le.name}),c.jsxs("div",{className:"pg-dash-progress-text",children:[c.jsxs("span",{className:"pg-dash-pct",children:[Ue,"%"]}),c.jsxs("span",{className:"pg-dash-week",children:["Week ",ge.currentWeek," of ",le.duration]})]})]}),c.jsx("div",{className:"pg-weeks",children:Array.from({length:le.duration},(ke,Pe)=>{const Oe=Pe+1;return c.jsxs("div",{className:`pg-week-row${Oe===ge.currentWeek?" pg-week-current":""}`,children:[c.jsxs("span",{className:"pg-week-label",children:["W",Oe]}),c.jsx("div",{className:"pg-week-days",children:le.days.map((He,ft)=>{const Wt=`w${Oe}d${ft}`,jt=!!_e[Wt],dn=!ge.complete&&Oe===ge.nextWeek&&ft===ge.nextDay;return c.jsx("button",{className:`pg-day-dot${jt?" done":""}${dn?" next":""}`,disabled:jt,onClick:()=>{dn&&Ze(Oe,ft)},children:jt?c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}):c.jsx("span",{children:He.name.replace("Day ","")})},ft)})})]},Pe)})}),!ge.complete&&ge.nextDay>=0&&c.jsxs("div",{className:"pg-next-session",children:[c.jsx("h3",{children:"Next Session"}),c.jsxs("p",{className:"pg-next-info",children:["Week ",ge.nextWeek,"  ",le.days[ge.nextDay].name,": ",le.days[ge.nextDay].label]}),c.jsx("div",{className:"pg-next-exercises",children:le.days[ge.nextDay].exercises.map((ke,Pe)=>{const Oe=jh(ke,ge.nextWeek,le);return c.jsxs("div",{className:"pg-next-ex",children:[c.jsx("span",{className:"pg-next-ex-name",children:ke.name}),c.jsx("span",{className:"pg-next-ex-target",children:ke.type==="timed"?`${Oe.sets}${Oe.time}s`:`${Oe.sets}${Oe.reps}`})]},Pe)})}),c.jsx("button",{className:"pg-start-btn",onClick:()=>Ze(ge.nextWeek,ge.nextDay),children:"Start Session"})]}),ge.complete&&c.jsxs("div",{className:"pg-complete-msg",children:[c.jsx("h3",{children:"Programme Complete! "}),c.jsxs("p",{children:["You finished all ",ge.totalSessions," sessions."]}),c.jsx("button",{className:"pg-start-btn",onClick:Pt,children:"Choose New Programme"})]}),c.jsx("button",{className:"pg-quit-btn",onClick:()=>{confirm("Quit this programme? Progress will be lost.")&&Pt()},children:"Quit Programme"})]}),c.jsx(Sl,{active:"workouts"}),hn]})}if(y==="session"){const le=wt();if(!le)return null;const ge=le.days[Z],_e=ge.exercises[xe],Ue=jh(_e,z,le),Ce=S[xe],ke=Ce?.sets?.length||0,Pe=ge.exercises.length,Oe=(xe+ke/Ue.sets)/Pe,He=$e[_e.name],ft=nt(z,Z,_e.name);_e.type==="timed"&&F===0&&!be&&ke===Ae&&setTimeout(()=>fe(Ue.time),0);const Wt=()=>{He?.isGif?G(!P):he.current&&(P?he.current.pause():he.current.play(),G(!P))};return c.jsxs("div",{className:"pg-page pg-page-session","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"pg-session-progress",children:c.jsx("div",{className:"pg-session-progress-fill",style:{width:`${Oe*100}%`}})}),c.jsxs("div",{className:"pg-session-header",children:[c.jsx("button",{className:"pg-session-back",onClick:()=>{confirm("Leave session? Progress will be lost.")&&w("dashboard")},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M19 12H5M12 5l-7 7 7 7"})})}),c.jsxs("div",{className:"pg-session-title",children:[c.jsxs("span",{className:"pg-session-counter",children:[xe+1," / ",Pe]}),c.jsxs("span",{className:"pg-session-week",children:["Week ",z,"  ",ge.name]})]})]}),He&&c.jsxs("div",{className:"pg-video-container",onClick:Wt,children:[He.isGif?c.jsx("img",{className:"pg-video",src:He.url,alt:_e.name}):c.jsx("video",{ref:he,className:"pg-video",src:He.url,loop:!0,muted:!0,playsInline:!0},_e.name),!P&&c.jsxs("div",{className:"pg-video-overlay",children:[c.jsx("svg",{className:"pg-play-icon",viewBox:"0 0 24 24",fill:"white",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),c.jsx("span",{className:"pg-video-hint",children:"Tap for demo"})]})]}),c.jsx("div",{className:"pg-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"pg-exercise-card",children:[c.jsx("h2",{className:"pg-ex-name",children:_e.name}),c.jsx("span",{className:`pg-ex-type-badge pg-badge-${_e.type}`,children:_e.type==="weighted"?"Weight + Reps":_e.type==="timed"?"Timed":"Reps Only"}),_e.type==="weighted"&&ft&&c.jsxs("div",{className:"pg-last-week",children:[c.jsx("span",{className:"pg-last-week-label",children:"Last week:"}),c.jsxs("span",{className:"pg-last-week-value",children:[ft.weight,"kg x ",ft.reps," reps"]})]}),c.jsxs("div",{className:"pg-ex-set-info",children:[c.jsxs("span",{className:"pg-ex-set-num",children:["Set ",ke+1," of ",Ue.sets]}),c.jsxs("span",{className:"pg-ex-target",children:["Target: ",_e.type==="timed"?`${Ue.time}s hold`:`${Ue.reps} reps`]})]}),_e.type==="weighted"&&c.jsxs("div",{className:"pg-input-area",children:[c.jsxs("div",{className:"pg-input-group",children:[c.jsx("label",{children:"Weight (kg)"}),c.jsx("input",{type:"number",inputMode:"decimal",value:I,onChange:jt=>D(jt.target.value),placeholder:"0",className:"pg-input"})]}),c.jsxs("div",{className:"pg-input-group",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",value:B,onChange:jt=>j(jt.target.value),placeholder:String(Ue.reps),className:"pg-input"})]})]}),_e.type==="reps"&&c.jsx("div",{className:"pg-input-area",children:c.jsxs("div",{className:"pg-input-group pg-input-single",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",value:B,onChange:jt=>j(jt.target.value),placeholder:String(Ue.reps),className:"pg-input"})]})}),_e.type==="timed"&&c.jsxs("div",{className:"pg-timer-area",children:[c.jsx("div",{className:"pg-timer-display",children:c.jsxs("span",{className:"pg-timer-value",children:[F,"s"]})}),be?c.jsx("button",{className:"pg-timer-btn pg-timer-stop",onClick:()=>Be(!1),children:"Stop"}):c.jsx("button",{className:"pg-timer-btn",onClick:()=>{F===0&&fe(Ue.time),Be(!0)},children:F<Ue.time&&F>0?"Resume":"Start Timer"})]}),c.jsx("button",{className:"pg-log-set-btn",onClick:Gt,disabled:_e.type==="timed"&&be,children:ke+1<Ue.sets?"Log Set":xe+1<Pe?"Log Set  Next Exercise":"Log Set  Complete"}),Ce?.sets?.length>0&&c.jsx("div",{className:"pg-completed-sets",children:Ce.sets.map((jt,dn)=>c.jsxs("div",{className:"pg-completed-set",children:[c.jsx("span",{className:"pg-completed-set-check",children:""}),c.jsxs("span",{children:["Set ",dn+1,": ",jt.weight!==void 0?`${jt.weight}kg  ${jt.reps}`:jt.time!==void 0?`${jt.time}s`:`${jt.reps} reps`]})]},dn))})]}),hn]})}if(y==="sessionComplete"){const ge=wt()?.days[Z],_e=S.reduce((Ce,ke)=>Ce+ke.sets.length,0),Ue=S.reduce((Ce,ke)=>Ce+ke.sets.reduce((Pe,Oe)=>Pe+(Oe.weight||0)*(Oe.reps||0),0),0);return c.jsxs("div",{className:"pg-page pg-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"pg-session-done",children:[c.jsxs("div",{className:"pg-done-ring",children:[c.jsx("svg",{className:"pg-done-ring-svg",viewBox:"0 0 200 200",children:ua.map((Ce,ke)=>c.jsx("line",{x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,className:"pg-tick-complete",strokeWidth:Ce.thick?"3.5":"2",style:{animationDelay:`${ke*.02}s`}},ke))}),c.jsx("div",{className:"pg-done-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsx("h2",{className:"pg-done-title",children:"Session Complete!"}),c.jsxs("p",{className:"pg-done-subtitle",children:["Week ",z,"  ",ge?.name,": ",ge?.label]}),c.jsxs("div",{className:"pg-done-stats",children:[c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:S.length}),c.jsx("span",{className:"pg-done-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:_e}),c.jsx("span",{className:"pg-done-stat-label",children:"Sets"})]}),Ue>0&&c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:Math.round(Ue).toLocaleString()}),c.jsx("span",{className:"pg-done-stat-label",children:"Volume (kg)"})]})]}),c.jsx("button",{className:"pg-start-btn",onClick:()=>w("dashboard"),children:"Back to Programme"})]}),ye&&c.jsx("div",{className:"pg-badge-celebration",onClick:()=>Te(null),children:c.jsxs("div",{className:"pg-badge-celebration-card",onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("div",{className:"pg-badge-celebration-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsx("h3",{className:"pg-badge-celebration-title",children:ye.badges.length===1?"Badge Earned!":`${ye.badges.length} Badges Earned!`}),c.jsx("div",{className:"pg-badge-celebration-list",children:ye.badges.map((Ce,ke)=>c.jsx("div",{className:"pg-badge-celebration-item",children:Ce.type==="pb_target"?`${Ce.exercise}  ${Ce.targetWeight}kg`:Ce.label},ke))}),c.jsx("button",{className:"pg-badge-celebration-dismiss",onClick:()=>Te(null),children:"Tap to dismiss"})]})}),hn]})}return null}const HD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core"},GD={push:{label:"Push",color:"#c75f6b",icon:"M4 12h3l3-9 4 18 3-9h3"},pull:{label:"Pull",color:"#5f8ac7",icon:"M12 2v10m0 0l-4-4m4 4l4-4M4 20h16"},lower:{label:"Lower",color:"#5fc77a",icon:"M12 2v8m-4 4l4 8 4-8m-8 0h8"},core:{label:"Core",color:"#c7a45f",icon:"M12 2a4 4 0 014 4v1h-2V6a2 2 0 10-4 0v1H8V6a4 4 0 014-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"}},op=[{threshold:1e3,label:"1 Tonne",icon:"1T"},{threshold:5e3,label:"5 Tonne",icon:"5T"},{threshold:1e4,label:"10 Tonne",icon:"10T"},{threshold:25e3,label:"25 Tonne",icon:"25T"},{threshold:5e4,label:"50 Tonne",icon:"50T"},{threshold:1e5,label:"100 Tonne",icon:"100T"},{threshold:25e4,label:"250 Tonne",icon:"250T"},{threshold:5e5,label:"500 Tonne",icon:"500T"},{threshold:1e6,label:"1 Million kg",icon:"1M"}];function WD(r){return HD[r]||"push"}function $D(r){return r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}T`:`${Math.round(r)}`}function KD(r){return r>=1e6?"million kg":r>=1e3?"tonnes":"kg"}function YD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Aa(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=nr(),[g,y]=k.useState(!0),[w,x]=k.useState(null),[T,O]=k.useState({});k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n)return;(async()=>{try{const[A,I]=await Promise.all([ms(Kt(Tt,"coreBuddyAchievements",n.id)),ms(Kt(Tt,"coreBuddyPBs",n.id))]);A.exists()&&x(A.data()),I.exists()&&O(I.data().exercises||{})}catch(A){console.error("Error loading achievements:",A)}y(!1)})()},[n]);const H=w?.badges||[],W=w?.totalVolume||0,z=H.filter(S=>S.type==="pb_target"),ie=H.filter(S=>S.type==="volume_milestone"),Z={push:[],pull:[],lower:[],core:[]};z.forEach(S=>{const A=S.group||WD(S.exercise);Z[A]&&Z[A].push(S)});const de=op.find(S=>W<S.threshold),xe=op.filter(S=>W>=S.threshold).pop()?.threshold||0,Ie=de?(W-xe)/(de.threshold-xe):1;if(i||g)return c.jsxs("div",{className:"ach-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsx("div",{className:"header-content",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})})}),c.jsx("div",{className:"ach-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})})]});const Ae=H.length,N=Ae>0||W>0;return c.jsxs("div",{className:"ach-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"ach-main",children:[c.jsx("button",{className:"nut-back-btn",onClick:()=>p("/client/core-buddy"),children:" Back"}),c.jsxs("div",{className:"ach-stats-banner",children:[c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:Ae}),c.jsx("span",{className:"ach-stat-label",children:Ae===1?"Badge":"Badges"})]}),c.jsx("div",{className:"ach-stat-divider"}),c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:$D(W)}),c.jsxs("span",{className:"ach-stat-label",children:[KD(W)," lifted"]})]}),c.jsx("div",{className:"ach-stat-divider"}),c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:Object.keys(T).length}),c.jsx("span",{className:"ach-stat-label",children:"PBs"})]})]}),!N&&c.jsxs("div",{className:"ach-empty",children:[c.jsx("div",{className:"ach-empty-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M12 15l-3-3h6l-3 3z"}),c.jsx("path",{d:"M5 7h14l-1.5 9h-11L5 7z"}),c.jsx("path",{d:"M8.5 7V5a3.5 3.5 0 017 0v2"})]})}),c.jsx("h4",{children:"No achievements yet"}),c.jsx("p",{children:"Complete workouts to track volume and set PB targets to start earning badges."})]}),c.jsxs("div",{className:"ach-section",children:[c.jsxs("h3",{className:"ach-section-title",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:c.jsx("path",{d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"})}),"Volume Milestones"]}),c.jsxs("div",{className:"ach-volume-hero",children:[c.jsxs("div",{className:"ach-volume-ring",children:[c.jsx("svg",{className:"ach-volume-ring-svg",viewBox:"0 0 200 200",children:ua.map((S,A)=>{const I=A<Math.round(Ie*60);return c.jsx("line",{x1:S.x1,y1:S.y1,x2:S.x2,y2:S.y2,className:I?"ach-tick-filled":"ach-tick-empty",strokeWidth:S.thick?"3":"2"},A)})}),c.jsxs("div",{className:"ach-volume-center",children:[c.jsx("span",{className:"ach-volume-number",children:Math.round(W).toLocaleString()}),c.jsx("span",{className:"ach-volume-unit",children:"kg lifted"})]})]}),de&&c.jsxs("div",{className:"ach-volume-next",children:["Next: ",c.jsx("strong",{children:de.label})," (",(de.threshold-W).toLocaleString(),"kg to go)"]})]}),c.jsx("div",{className:"ach-milestone-shelf",children:op.map((S,A)=>{const I=W>=S.threshold,D=ie.find(B=>B.milestone===S.threshold);return c.jsxs("div",{className:`ach-milestone ${I?"unlocked":"locked"}`,children:[c.jsx("div",{className:"ach-milestone-hex",children:c.jsx("span",{className:"ach-milestone-icon",children:S.icon})}),c.jsx("span",{className:"ach-milestone-label",children:S.label}),D?.achievedAt&&c.jsx("span",{className:"ach-milestone-date",children:(D.achievedAt.toDate?D.achievedAt.toDate():new Date(D.achievedAt)).toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},A)})})]}),c.jsxs("div",{className:"ach-section",children:[c.jsxs("h3",{className:"ach-section-title",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"PB Target Badges"]}),z.length===0?c.jsx("div",{className:"ach-pb-empty",children:c.jsxs("p",{children:["Set targets on your personal bests to start earning badges. Go to ",c.jsx("strong",{children:"My Progress"}),' and tap "Set Target" on any PB.']})}):Object.entries(Z).map(([S,A])=>{if(A.length===0)return null;const I=GD[S];return c.jsxs("div",{className:"ach-group",children:[c.jsxs("div",{className:"ach-group-header",style:{borderLeftColor:I.color},children:[c.jsx("span",{className:"ach-group-label",style:{color:I.color},children:I.label}),c.jsx("span",{className:"ach-group-count",children:A.length})]}),c.jsx("div",{className:"ach-badge-grid",children:A.map((D,B)=>c.jsxs("div",{className:"ach-badge-card",style:{animationDelay:`${B*.06}s`,"--group-color":I.color},children:[c.jsx("div",{className:"ach-badge-hex",style:{borderColor:I.color,boxShadow:`0 0 12px ${I.color}33`},children:c.jsx("svg",{className:"ach-badge-hex-icon",viewBox:"0 0 24 24",fill:"none",stroke:I.color,strokeWidth:"2",strokeLinecap:"round",children:c.jsx("path",{d:I.icon})})}),c.jsxs("div",{className:"ach-badge-info",children:[c.jsx("span",{className:"ach-badge-exercise",children:D.exercise}),c.jsxs("span",{className:"ach-badge-value",style:{color:I.color},children:[D.targetWeight,"kg"]}),D.achievedAt&&c.jsx("span",{className:"ach-badge-date",children:(D.achievedAt.toDate?D.achievedAt.toDate():new Date(D.achievedAt)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})]},B))})]},S)})]})]}),c.jsx(Sl,{active:"home"})]})}const Dh=[{key:"trained",label:"Trained",icon:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2.71 7 4.14 8.43 7.71 4.86 16.29 13.43 12.71 17 14.14 18.43 15.57 17 17 18.43 14.14 21.29l1.43 1.43 1.43-1.43 1.43 1.43 2.14-2.14 1.43 1.43L22 20.57z"},{key:"protein",label:"Hit Protein",icon:"M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},{key:"steps",label:"10k Steps",icon:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"},{key:"sleep",label:"8hrs Sleep",icon:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},{key:"water",label:"2L Water",icon:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}];function QD(r){const e=new Date(r),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e}function lp(r){return r.toISOString().split("T")[0]}function XD(r){return Array.from({length:7},(e,n)=>{const i=new Date(r);return i.setDate(r.getDate()+n),i})}function JD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Aa(),{isDark:o,toggleTheme:u,accent:d}=Tl(),p=nr(),[g,y]=k.useState({}),[w,x]=k.useState(!0),[T,O]=k.useState(!1),[H,W]=k.useState(0),[z,ie]=k.useState(null),[Z,de]=k.useState(null),[xe,Ie]=k.useState(!1),Ae=k.useRef([]),N=k.useRef([]),S=k.useCallback((G,he="info")=>{ie({message:G,type:he}),setTimeout(()=>ie(null),3e3)},[]),A=new Date,I=lp(A),D=QD(A),B=XD(D),j=["M","T","W","T","F","S","S"];k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const he=ga(Tt,"habitLogs"),ye=Wc(he,ol("clientId","==",n.id)),Te=await $c(ye),Se={};Te.docs.forEach(tt=>{const Ht=tt.data();Se[Ht.date]={...Ht,_id:tt.id}}),y(Se);let Fe=0;const et=new Date(A);for(;;){const tt=lp(et),Ht=Se[tt];if(Ht)if(Object.values(Ht.habits||{}).filter(Boolean).length>=3)Fe++,et.setDate(et.getDate()-1);else break;else if(tt===I)et.setDate(et.getDate()-1);else break}W(Fe)}catch(he){console.error("Error loading habit logs:",he)}finally{x(!1)}})()},[r,n]);const be=g[I]||{habits:{}},Be=async G=>{if(!r||T)return;const he=be.habits?.[G]||!1;he||(Ae.current=[...Array(10)].map((ye,Te)=>{const Se=Te/10*2*Math.PI,Fe=18+Math.random()*20;return{tx:Math.cos(Se)*Fe,ty:Math.sin(Se)*Fe,size:3+Math.random()*4,duration:.4+Math.random()*.3}}),de(G),setTimeout(()=>de(null),700)),O(!0);try{const ye=be.habits||{},Te={...ye,[G]:!ye[G]},Se=be._id||`${n.id}_${I}`;await Or(Kt(Tt,"habitLogs",Se),{clientId:n.id,date:I,habits:Te}),y(et=>({...et,[I]:{clientId:n.id,date:I,habits:Te,_id:Se}})),Object.values(Te).filter(Boolean).length===Dh.length&&!he&&(N.current=[...Array(50)].map((et,tt)=>({x:5+Math.random()*90,delay:Math.random()*.6,color:["#4caf50","#ff9800","#2196f3","#e91e63","#ffeb3b","#9c27b0"][tt%6],drift:(Math.random()-.5)*120,spin:Math.random()*720-360,duration:1.5+Math.random()*1.5,width:4+Math.random()*8,height:4+Math.random()*10})),setTimeout(()=>{Ie(!0),setTimeout(()=>Ie(!1),3500)},500))}catch(ye){console.error("Error saving habit:",ye),S("Failed to save. Try again.","error")}finally{O(!1)}},F=B.map(G=>{const he=lp(G),ye=g[he],Te=ye?Object.values(ye.habits||{}).filter(Boolean).length:0;return{date:G,dateStr:he,completed:Te,total:Dh.length}}),fe=F.reduce((G,he)=>G+he.completed,0),we=F.reduce((G,he)=>G+he.total,0),$e=we>0?Math.round(fe/we*100):0,Ke=Object.values(be.habits||{}).filter(Boolean).length,P=Math.round(Ke/Dh.length*100);return c.jsxs("div",{className:"cbc-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),i||w?c.jsx("div",{className:"cbc-loading-inline",children:c.jsx("div",{className:"cbc-loading-spinner"})}):c.jsxs("main",{className:"cbc-main",children:[c.jsxs("div",{className:"cbc-ring-section",children:[c.jsxs("div",{className:"cbc-progress-ring",children:[c.jsxs("svg",{viewBox:"0 0 200 200",children:[c.jsx("circle",{className:"cbc-arc-track",cx:"100",cy:"100",r:"80"}),c.jsx("circle",{className:"cbc-arc-fill",cx:"100",cy:"100",r:"80",strokeDasharray:2*Math.PI*80,strokeDashoffset:2*Math.PI*80-P/100*2*Math.PI*80})]}),c.jsxs("div",{className:"cbc-ring-center",children:[c.jsxs("span",{className:"cbc-ring-pct",children:[P,"%"]}),c.jsx("span",{className:"cbc-ring-label",children:"today"})]})]}),c.jsxs("div",{className:"cbc-streak",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:c.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),c.jsx("span",{className:"cbc-streak-count",children:H}),c.jsx("span",{className:"cbc-streak-label",children:"day streak"})]})]}),c.jsxs("div",{className:"cbc-section",children:[c.jsx("h2",{className:"cbc-section-title",children:"Today's Habits"}),c.jsx("div",{className:"cbc-habits",children:Dh.map(G=>{const he=be.habits?.[G.key]||!1,ye=Z===G.key;return c.jsxs("button",{className:`cbc-habit-btn cbc-habit-${G.key} ${he?"cbc-habit-done":""} ${ye?"cbc-habit-just-checked":""}`,onClick:()=>Be(G.key),disabled:T,children:[c.jsx("div",{className:"cbc-habit-check",children:he?c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("polyline",{points:"20 6 9 17 4 12",className:`cbc-check-path ${ye?"cbc-check-animate":""}`})}):c.jsx("div",{className:"cbc-habit-circle"})}),ye&&c.jsx("div",{className:"cbc-particles",children:Ae.current.map((Te,Se)=>c.jsx("span",{className:"cbc-particle",style:{"--tx":`${Te.tx}px`,"--ty":`${Te.ty}px`,"--size":`${Te.size}px`,animationDuration:`${Te.duration}s`}},Se))}),c.jsx("div",{className:`cbc-habit-icon cbc-icon-${G.key}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:G.icon})})}),c.jsx("span",{className:"cbc-habit-label",children:G.label})]},G.key)})})]}),c.jsxs("div",{className:"cbc-section",children:[c.jsx("h2",{className:"cbc-section-title",children:"This Week"}),c.jsx("div",{className:"cbc-week-grid",children:F.map((G,he)=>{const ye=G.dateStr===I,Te=G.total>0?G.completed/G.total:0,Se=38,Fe=2*Math.PI*Se,et=Fe-Te*Fe;return c.jsxs("div",{className:`cbc-day-ring ${ye?"cbc-day-today":""} ${G.completed>0?"cbc-day-active":""}`,children:[c.jsxs("svg",{viewBox:"0 0 100 100",children:[c.jsx("circle",{className:"cbc-day-track",cx:"50",cy:"50",r:Se}),c.jsx("circle",{className:"cbc-day-fill",cx:"50",cy:"50",r:Se,strokeDasharray:Fe,strokeDashoffset:et})]}),c.jsx("span",{className:"cbc-day-label",children:j[he]}),c.jsxs("span",{className:"cbc-day-count",children:[G.completed,"/",G.total]})]},he)})}),c.jsxs("div",{className:"cbc-week-summary",children:[c.jsx("div",{className:"cbc-week-summary-bar",children:c.jsx("div",{className:"cbc-week-summary-fill",style:{width:`${$e}%`}})}),c.jsxs("span",{className:"cbc-week-summary-text",children:[fe," / ",we," habits this week (",$e,"%)"]})]})]})]}),c.jsx(Sl,{active:"home"}),xe&&c.jsxs("div",{className:"cbc-celebration",onClick:()=>Ie(!1),children:[c.jsx("div",{className:"cbc-confetti-container",children:N.current.map((G,he)=>c.jsx("span",{className:"cbc-confetti-piece",style:{"--x":`${G.x}%`,"--delay":`${G.delay}s`,"--color":G.color,"--drift":`${G.drift}px`,"--spin":`${G.spin}deg`,"--duration":`${G.duration}s`,width:`${G.width}px`,height:`${G.height}px`}},he))}),c.jsxs("div",{className:"cbc-celebration-card",children:[c.jsxs("svg",{className:"cbc-celebration-icon",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),c.jsx("h2",{className:"cbc-celebration-title",children:"Crushed it!"}),c.jsx("p",{className:"cbc-celebration-sub",children:"All habits complete today"})]})]}),z&&c.jsx("div",{className:`toast-notification ${z.type}`,children:z.message})]})}const ZD=k.lazy(()=>Ls(()=>import("./Dashboard-BXFcTLeO.js"),__vite__mapDeps([0,1]))),e3=k.lazy(()=>Ls(()=>import("./AddClient-CvkGL74w.js"),__vite__mapDeps([2,3]))),t3=k.lazy(()=>Ls(()=>import("./ClientDashboard-BzjKgzrf.js"),__vite__mapDeps([4,5]))),n3=k.lazy(()=>Ls(()=>import("./ClientForms-CsVyEO-9.js"),__vite__mapDeps([6,7,5]))),s3=k.lazy(()=>Ls(()=>import("./ClientTools-DdgWmC2d.js"),__vite__mapDeps([8,9,5]))),r3=k.lazy(()=>Ls(()=>import("./MacroCalculator-BvkTgAKQ.js"),__vite__mapDeps([10,9,5]))),i3=k.lazy(()=>Ls(()=>import("./ProteinSnacks-C0z0HzyI.js"),__vite__mapDeps([11,9,5]))),a3=k.lazy(()=>Ls(()=>import("./DailyMotivation-D3G6LdsV.js"),__vite__mapDeps([12,9,5]))),o3=k.lazy(()=>Ls(()=>import("./PersonalBests-DABJ239L.js"),__vite__mapDeps([13,14,5]))),l3=k.lazy(()=>Ls(()=>import("./CircuitDashboard-CDOfoLyT.js"),__vite__mapDeps([15,16]))),c3=k.lazy(()=>Ls(()=>import("./CircuitBooking-ClSQHuIO.js"),__vite__mapDeps([17,18,16]))),u3=k.lazy(()=>Ls(()=>import("./Leaderboard-DYGl9koe.js"),__vite__mapDeps([19,20])));function h3({children:r}){const{pathname:e}=wr();return k.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]),k.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),r}function d3(){const r=nr();return k.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function f3(){return c.jsx(mD,{children:c.jsx(fD,{children:c.jsxs(PS,{basename:"/login",children:[c.jsx(d3,{}),c.jsx(h3,{children:c.jsx(k.Suspense,{fallback:null,children:c.jsxs(uS,{children:[c.jsx(bn,{path:"/",element:c.jsx(pD,{})}),c.jsx(bn,{path:"/dashboard",element:c.jsx(ZD,{})}),c.jsx(bn,{path:"/add-client",element:c.jsx(e3,{})}),c.jsx(bn,{path:"/client",element:c.jsx(t3,{})}),c.jsx(bn,{path:"/client/forms",element:c.jsx(n3,{})}),c.jsx(bn,{path:"/client/tools",element:c.jsx(s3,{})}),c.jsx(bn,{path:"/client/tools/macros",element:c.jsx(r3,{})}),c.jsx(bn,{path:"/client/tools/snacks",element:c.jsx(i3,{})}),c.jsx(bn,{path:"/client/tools/motivation",element:c.jsx(a3,{})}),c.jsx(bn,{path:"/client/personal-bests",element:c.jsx(o3,{})}),c.jsx(bn,{path:"/client/circuit",element:c.jsx(l3,{})}),c.jsx(bn,{path:"/client/circuit/booking",element:c.jsx(c3,{})}),c.jsx(bn,{path:"/client/core-buddy",element:c.jsx(ED,{})}),c.jsx(bn,{path:"/client/core-buddy/nutrition",element:c.jsx(RD,{})}),c.jsx(bn,{path:"/client/core-buddy/workouts",element:c.jsx(VD,{})}),c.jsx(bn,{path:"/client/core-buddy/programmes",element:c.jsx(qD,{})}),c.jsx(bn,{path:"/client/core-buddy/achievements",element:c.jsx(YD,{})}),c.jsx(bn,{path:"/client/core-buddy/consistency",element:c.jsx(JD,{})}),c.jsx(bn,{path:"/client/leaderboard",element:c.jsx(u3,{})}),c.jsx(bn,{path:"*",element:c.jsx(lS,{to:"/",replace:!0})})]})})})]})})})}uT.createRoot(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(f3,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/login/sw.js").catch(()=>{})});export{Sl as C,ot as T,Lp as a,ij as b,ga as c,Tt as d,Kt as e,p3 as f,$c as g,IA as h,ms as i,c as j,Aa as k,Tl as l,nr as m,gD as n,y3 as o,Or as p,Wc as q,k as r,b3 as s,m3 as t,v3 as u,_3 as v,ol as w};
