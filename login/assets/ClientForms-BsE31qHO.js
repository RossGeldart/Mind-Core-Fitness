import{r as t,l as W,n as P,j as e,u as q,e as L,d as A,T as S}from"./index-DbfKrWrI.js";/* empty css                        */function E(){const[k,r]=t.useState(null),[u,m]=t.useState(!1),{currentUser:x,isClient:p,clientData:s,logout:D,loading:j}=W(),i=P(),[a,N]=t.useState({fitnessGoals:"",currentActivityLevel:"",exerciseHistory:"",injuries:"",medicalConditions:"",sleepHours:"",stressLevel:"",dietaryInfo:"",availability:"",additionalInfo:""}),v=["Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?","Do you feel pain in your chest when you do physical activity?","In the past month, have you had chest pain when you were not doing physical activity?","Do you lose your balance because of dizziness or do you ever lose consciousness?","Do you have a bone or joint problem (e.g. back, knee, or hip) that could be made worse by a change in your physical activity?","Is your doctor currently prescribing drugs (e.g. water pills) for your blood pressure or heart condition?","Do you know of any other reason why you should not do physical activity?"],[c,y]=t.useState(v.map(()=>null)),[f,C]=t.useState(!1);t.useEffect(()=>{!j&&(!x||!p)&&i("/")},[x,p,j,i]),t.useEffect(()=>{s?.welcomeForm&&N(s.welcomeForm),s?.parqForm?.answers&&(y(s.parqForm.answers),C(!!s.parqForm.declaration))},[s]);const n=o=>{const{name:l,value:d}=o.target;N(h=>({...h,[l]:d}))},F=async()=>{m(!0);try{await q(L(A,"clients",s.id),{welcomeForm:{...a,completedAt:S.now()}}),alert("Welcome form saved successfully!"),r(null)}catch(o){console.error("Error saving welcome form:",o),alert("Failed to save form. Please try again.")}m(!1)},H=async()=>{if(c.some(o=>o===null)){alert("Please answer all questions before submitting.");return}if(!f){alert("Please confirm the declaration to submit the form.");return}m(!0);try{await q(L(A,"clients",s.id),{parqForm:{questions:v,answers:c,hasYes:c.includes(!0),declaration:!0,completedAt:S.now()}}),alert("PAR-Q form saved successfully!"),r(null)}catch(o){console.error("Error saving PAR-Q form:",o),alert("Failed to save form. Please try again.")}m(!1)};if(j)return e.jsx("div",{className:"client-loading",children:"Loading..."});if(!x||!p||!s)return null;const b=!!s?.welcomeForm?.completedAt,g=!!s?.parqForm?.completedAt;return e.jsxs("div",{className:"client-forms-page",children:[e.jsx("header",{className:"client-header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("button",{className:"header-back-btn",onClick:()=>i("/client"),"aria-label":"Go back",children:e.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M15 18l-6-6 6-6"})})}),e.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),e.jsx("main",{className:"forms-main page-transition-enter",children:k?k==="welcome"?e.jsxs("div",{className:"form-container",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h2",{children:"Welcome Questionnaire"}),e.jsx("button",{className:"close-form",onClick:()=>r(null),children:"×"})]}),e.jsxs("div",{className:"form-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"What are your main fitness goals?"}),e.jsx("textarea",{name:"fitnessGoals",value:a.fitnessGoals,onChange:n,placeholder:"e.g., Lose weight, build muscle, improve endurance, increase flexibility...",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"How would you describe your current activity level?"}),e.jsxs("select",{name:"currentActivityLevel",value:a.currentActivityLevel,onChange:n,children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),e.jsx("option",{value:"light",children:"Lightly Active (1-2 days/week)"}),e.jsx("option",{value:"moderate",children:"Moderately Active (3-4 days/week)"}),e.jsx("option",{value:"active",children:"Very Active (5+ days/week)"}),e.jsx("option",{value:"athlete",children:"Athlete/Highly Active"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"What is your exercise history?"}),e.jsx("textarea",{name:"exerciseHistory",value:a.exerciseHistory,onChange:n,placeholder:"Describe your previous experience with exercise, sports, or training...",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Do you have any current or past injuries?"}),e.jsx("textarea",{name:"injuries",value:a.injuries,onChange:n,placeholder:"List any injuries that may affect your training...",rows:"2"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Do you have any medical conditions we should know about?"}),e.jsx("textarea",{name:"medicalConditions",value:a.medicalConditions,onChange:n,placeholder:"e.g., Diabetes, asthma, heart conditions...",rows:"2"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"How many hours of sleep do you typically get?"}),e.jsxs("select",{name:"sleepHours",value:a.sleepHours,onChange:n,children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"less-5",children:"Less than 5 hours"}),e.jsx("option",{value:"5-6",children:"5-6 hours"}),e.jsx("option",{value:"7-8",children:"7-8 hours"}),e.jsx("option",{value:"more-8",children:"More than 8 hours"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"How would you rate your current stress level?"}),e.jsxs("select",{name:"stressLevel",value:a.stressLevel,onChange:n,children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"very-high",children:"Very High"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tell us about your diet/nutrition"}),e.jsx("textarea",{name:"dietaryInfo",value:a.dietaryInfo,onChange:n,placeholder:"Any dietary restrictions, typical eating habits, nutrition goals...",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"What is your preferred training schedule/availability?"}),e.jsx("textarea",{name:"availability",value:a.availability,onChange:n,placeholder:"Days and times that work best for you...",rows:"2"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Anything else you'd like us to know?"}),e.jsx("textarea",{name:"additionalInfo",value:a.additionalInfo,onChange:n,placeholder:"Any other information that might be helpful...",rows:"3"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"cancel-btn",onClick:()=>r(null),children:"Cancel"}),e.jsx("button",{className:"save-btn",onClick:F,disabled:u,children:u?"Saving...":"Save"})]})]})]}):e.jsxs("div",{className:"form-container",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h2",{children:"PAR-Q Health Screening"}),e.jsx("button",{className:"close-form",onClick:()=>r(null),children:"×"})]}),e.jsxs("div",{className:"form-body",children:[e.jsx("div",{className:"parq-intro",children:e.jsx("p",{children:"Please answer each question honestly. This helps us keep you safe during exercise."})}),e.jsx("div",{className:"parq-questions",children:v.map((o,l)=>e.jsxs("div",{className:"parq-question",children:[e.jsx("p",{className:"parq-question-text",children:o}),e.jsxs("div",{className:"parq-yn-btns",children:[e.jsx("button",{type:"button",className:`parq-yn-btn${c[l]===!0?" yes":""}`,onClick:()=>y(d=>d.map((h,w)=>w===l?!0:h)),children:"Yes"}),e.jsx("button",{type:"button",className:`parq-yn-btn${c[l]===!1?" no":""}`,onClick:()=>y(d=>d.map((h,w)=>w===l?!1:h)),children:"No"})]})]},l))}),c.includes(!0)&&e.jsx("div",{className:"parq-yes-warning",children:"You answered YES to one or more questions. We recommend consulting your doctor before starting an exercise programme."}),e.jsx("div",{className:"parq-declaration",children:e.jsxs("label",{className:"parq-declare-label",onClick:()=>C(o=>!o),children:[e.jsx("span",{className:`parq-declare-box${f?" checked":""}`,children:f&&e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})}),e.jsx("span",{children:"I have read, understood and completed this questionnaire. Any questions I had were answered to my full satisfaction. I confirm that the information provided is accurate to the best of my knowledge."})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"cancel-btn",onClick:()=>r(null),children:"Cancel"}),e.jsx("button",{className:"save-btn",onClick:H,disabled:u,children:u?"Saving...":"Submit"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"forms-intro",children:[e.jsx("h2",{children:"Forms"}),e.jsx("p",{children:"Please complete these forms to help us better understand your fitness journey and ensure your safety."})]}),e.jsxs("div",{className:"forms-list",children:[e.jsxs("div",{className:`form-card ${b?"completed":""}`,children:[e.jsxs("div",{className:"form-card-info",children:[e.jsx("h3",{children:"Welcome Questionnaire"}),e.jsx("p",{children:"Tell us about your fitness goals, experience, and lifestyle."}),b&&e.jsx("span",{className:"completed-badge",children:"Completed"})]}),e.jsx("button",{onClick:()=>r("welcome"),children:b?"View / Edit":"Start"})]}),e.jsxs("div",{className:`form-card ${g?"completed":""}`,children:[e.jsxs("div",{className:"form-card-info",children:[e.jsx("h3",{children:"PAR-Q Health Screening"}),e.jsx("p",{children:"Physical Activity Readiness Questionnaire for your safety."}),g&&e.jsx("span",{className:"completed-badge",children:"Completed"})]}),e.jsx("button",{onClick:()=>r("parq"),children:g?"View / Edit":"Start"})]})]})]})}),e.jsxs("nav",{className:"block-bottom-nav",children:[e.jsxs("button",{className:"block-nav-tab",onClick:()=>i("/client"),children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsx("span",{children:"Home"})]}),e.jsxs("button",{className:"block-nav-tab active",children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),e.jsx("span",{children:"Forms"})]}),e.jsxs("button",{className:"block-nav-tab",onClick:()=>i("/client/tools"),children:[e.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),e.jsx("span",{children:"Tools"})]}),e.jsxs("button",{className:"block-nav-tab",onClick:()=>i("/client/personal-bests"),children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 20V10"}),e.jsx("path",{d:"M18 20V4"}),e.jsx("path",{d:"M6 20v-4"})]}),e.jsx("span",{children:"PBs"})]}),s?.circuitAccess&&e.jsxs("button",{className:"block-nav-tab",onClick:()=>i("/client/circuit"),children:[e.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 6v6l4 2"})]}),e.jsx("span",{children:"Circuit"})]})]})]})}export{E as default};
