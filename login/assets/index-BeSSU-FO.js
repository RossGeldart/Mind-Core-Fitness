(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hm={exports:{}},Hl={};var V_;function rw(){if(V_)return Hl;V_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var j_;function aw(){return j_||(j_=1,hm.exports=rw()),hm.exports}var g=aw(),dm={exports:{}},xe={};var L_;function ow(){if(L_)return xe;L_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function U(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function W(j,ne,Y){this.props=j,this.context=ne,this.refs=z,this.updater=Y||L}W.prototype.isReactComponent={},W.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},W.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function K(){}K.prototype=W.prototype;function le(j,ne,Y){this.props=j,this.context=ne,this.refs=z,this.updater=Y||L}var pe=le.prototype=new K;pe.constructor=le,k(pe,W.prototype),pe.isPureReactComponent=!0;var G=Array.isArray;function te(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(j,ne,Y){var Z=Y.ref;return{$$typeof:s,type:j,key:ne,ref:Z!==void 0?Z:null,props:Y}}function N(j,ne){return R(j.type,ne,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function M(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return ne[Y]})}var D=/\/+/g;function ye(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):ne.toString(36)}function Ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(te,te):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,ne,Y,Z,ce){var fe=typeof j;(fe==="undefined"||fe==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(fe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case s:case e:de=!0;break;case T:return de=j._init,J(de(j._payload),ne,Y,Z,ce)}}if(de)return ce=ce(j),de=Z===""?"."+ye(j,0):Z,G(ce)?(Y="",de!=null&&(Y=de.replace(D,"$&/")+"/"),J(ce,ne,Y,"",function(Xe){return Xe})):ce!=null&&(x(ce)&&(ce=N(ce,Y+(ce.key==null||j&&j.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+de)),ne.push(ce)),1;de=0;var Ce=Z===""?".":Z+":";if(G(j))for(var Ie=0;Ie<j.length;Ie++)Z=j[Ie],fe=Ce+ye(Z,Ie),de+=J(Z,ne,Y,fe,ce);else if(Ie=U(j),typeof Ie=="function")for(j=Ie.call(j),Ie=0;!(Z=j.next()).done;)Z=Z.value,fe=Ce+ye(Z,Ie++),de+=J(Z,ne,Y,fe,ce);else if(fe==="object"){if(typeof j.then=="function")return J(Ue(j),ne,Y,Z,ce);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return de}function ue(j,ne,Y){if(j==null)return j;var Z=[],ce=0;return J(j,Z,"","",function(fe){return ne.call(Y,fe,ce++)}),Z}function _e(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var Ne=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Me={map:ue,forEach:function(j,ne,Y){ue(j,function(){ne.apply(this,arguments)},Y)},count:function(j){var ne=0;return ue(j,function(){ne++}),ne},toArray:function(j){return ue(j,function(ne){return ne})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return xe.Activity=S,xe.Children=Me,xe.Component=W,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=le,xe.StrictMode=r,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},xe.cache=function(j){return function(){return j.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(j,ne,Y){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Z=k({},j.props),ce=j.key;if(ne!=null)for(fe in ne.key!==void 0&&(ce=""+ne.key),ne)!C.call(ne,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ne.ref===void 0||(Z[fe]=ne[fe]);var fe=arguments.length-2;if(fe===1)Z.children=Y;else if(1<fe){for(var de=Array(fe),Ce=0;Ce<fe;Ce++)de[Ce]=arguments[Ce+2];Z.children=de}return R(j.type,ce,Z)},xe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},xe.createElement=function(j,ne,Y){var Z,ce={},fe=null;if(ne!=null)for(Z in ne.key!==void 0&&(fe=""+ne.key),ne)C.call(ne,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=ne[Z]);var de=arguments.length-2;if(de===1)ce.children=Y;else if(1<de){for(var Ce=Array(de),Ie=0;Ie<de;Ie++)Ce[Ie]=arguments[Ie+2];ce.children=Ce}if(j&&j.defaultProps)for(Z in de=j.defaultProps,de)ce[Z]===void 0&&(ce[Z]=de[Z]);return R(j,fe,ce)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(j){return{$$typeof:m,render:j}},xe.isValidElement=x,xe.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:_e}},xe.memo=function(j,ne){return{$$typeof:v,type:j,compare:ne===void 0?null:ne}},xe.startTransition=function(j){var ne=I.T,Y={};I.T=Y;try{var Z=j(),ce=I.S;ce!==null&&ce(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(te,Ne)}catch(fe){Ne(fe)}finally{ne!==null&&Y.types!==null&&(ne.types=Y.types),I.T=ne}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(j){return I.H.use(j)},xe.useActionState=function(j,ne,Y){return I.H.useActionState(j,ne,Y)},xe.useCallback=function(j,ne){return I.H.useCallback(j,ne)},xe.useContext=function(j){return I.H.useContext(j)},xe.useDebugValue=function(){},xe.useDeferredValue=function(j,ne){return I.H.useDeferredValue(j,ne)},xe.useEffect=function(j,ne){return I.H.useEffect(j,ne)},xe.useEffectEvent=function(j){return I.H.useEffectEvent(j)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(j,ne,Y){return I.H.useImperativeHandle(j,ne,Y)},xe.useInsertionEffect=function(j,ne){return I.H.useInsertionEffect(j,ne)},xe.useLayoutEffect=function(j,ne){return I.H.useLayoutEffect(j,ne)},xe.useMemo=function(j,ne){return I.H.useMemo(j,ne)},xe.useOptimistic=function(j,ne){return I.H.useOptimistic(j,ne)},xe.useReducer=function(j,ne,Y){return I.H.useReducer(j,ne,Y)},xe.useRef=function(j){return I.H.useRef(j)},xe.useState=function(j){return I.H.useState(j)},xe.useSyncExternalStore=function(j,ne,Y){return I.H.useSyncExternalStore(j,ne,Y)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.4",xe}var P_;function mp(){return P_||(P_=1,dm.exports=ow()),dm.exports}var V=mp(),fm={exports:{}},Fl={},mm={exports:{}},pm={};var U_;function lw(){return U_||(U_=1,(function(s){function e(J,ue){var _e=J.length;J.push(ue);e:for(;0<_e;){var Ne=_e-1>>>1,Me=J[Ne];if(0<o(Me,ue))J[Ne]=ue,J[_e]=Me,_e=Ne;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ue=J[0],_e=J.pop();if(_e!==ue){J[0]=_e;e:for(var Ne=0,Me=J.length,j=Me>>>1;Ne<j;){var ne=2*(Ne+1)-1,Y=J[ne],Z=ne+1,ce=J[Z];if(0>o(Y,_e))Z<Me&&0>o(ce,Y)?(J[Ne]=ce,J[Z]=_e,Ne=Z):(J[Ne]=Y,J[ne]=_e,Ne=ne);else if(Z<Me&&0>o(ce,_e))J[Ne]=ce,J[Z]=_e,Ne=Z;else break e}}return ue}function o(J,ue){var _e=J.sortIndex-ue.sortIndex;return _e!==0?_e:J.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],v=[],T=1,S=null,A=3,U=!1,L=!1,k=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function pe(J){for(var ue=n(v);ue!==null;){if(ue.callback===null)r(v);else if(ue.startTime<=J)r(v),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(v)}}function G(J){if(k=!1,pe(J),!L)if(n(p)!==null)L=!0,te||(te=!0,M());else{var ue=n(v);ue!==null&&Ue(G,ue.startTime-J)}}var te=!1,I=-1,C=5,R=-1;function N(){return z?!0:!(s.unstable_now()-R<C)}function x(){if(z=!1,te){var J=s.unstable_now();R=J;var ue=!0;try{e:{L=!1,k&&(k=!1,K(I),I=-1),U=!0;var _e=A;try{t:{for(pe(J),S=n(p);S!==null&&!(S.expirationTime>J&&N());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,A=S.priorityLevel;var Me=Ne(S.expirationTime<=J);if(J=s.unstable_now(),typeof Me=="function"){S.callback=Me,pe(J),ue=!0;break t}S===n(p)&&r(p),pe(J)}else r(p);S=n(p)}if(S!==null)ue=!0;else{var j=n(v);j!==null&&Ue(G,j.startTime-J),ue=!1}}break e}finally{S=null,A=_e,U=!1}ue=void 0}}finally{ue?M():te=!1}}}var M;if(typeof le=="function")M=function(){le(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ye=D.port2;D.port1.onmessage=x,M=function(){ye.postMessage(null)}}else M=function(){W(x,0)};function Ue(J,ue){I=W(function(){J(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(J){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var _e=A;A=ue;try{return J()}finally{A=_e}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=A;A=J;try{return ue()}finally{A=_e}},s.unstable_scheduleCallback=function(J,ue,_e){var Ne=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ne+_e:Ne):_e=Ne,J){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=_e+Me,J={id:T++,callback:ue,priorityLevel:J,startTime:_e,expirationTime:Me,sortIndex:-1},_e>Ne?(J.sortIndex=_e,e(v,J),n(p)===null&&J===n(v)&&(k?(K(I),I=-1):k=!0,Ue(G,_e-Ne))):(J.sortIndex=Me,e(p,J),L||U||(L=!0,te||(te=!0,M()))),J},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(J){var ue=A;return function(){var _e=A;A=ue;try{return J.apply(this,arguments)}finally{A=_e}}}})(pm)),pm}var z_;function uw(){return z_||(z_=1,mm.exports=lw()),mm.exports}var gm={exports:{}},dn={};var B_;function cw(){if(B_)return dn;B_=1;var s=mp();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:v,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(p,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(p,v,null,T)},dn.flushSync=function(p){var v=h.T,T=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=v,r.p=T,r.d.f()}},dn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},dn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},dn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var T=v.as,S=m(T,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:U}):T==="script"&&r.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},dn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=m(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},dn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=m(T,v.crossOrigin);r.d.L(p,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},dn.preloadModule=function(p,v){if(typeof p=="string")if(v){var T=m(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},dn.requestFormReset=function(p){r.d.r(p)},dn.unstable_batchedUpdates=function(p,v){return p(v)},dn.useFormState=function(p,v,T){return h.H.useFormState(p,v,T)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.4",dn}var q_;function hw(){if(q_)return gm.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=cw(),gm.exports}var H_;function dw(){if(H_)return Fl;H_=1;var s=uw(),e=mp(),n=hw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),le=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case W:return"Profiler";case z:return"StrictMode";case G:return"Suspense";case te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case le:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}var Ue=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ne=[],Me=-1;function j(t){return{current:t}}function ne(t){0>Me||(t.current=Ne[Me],Ne[Me]=null,Me--)}function Y(t,i){Me++,Ne[Me]=t.current,t.current=i}var Z=j(null),ce=j(null),fe=j(null),de=j(null);function Ce(t,i){switch(Y(fe,i),Y(ce,t),Y(Z,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=r_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(Z),Y(Z,t)}function Ie(){ne(Z),ne(ce),ne(fe)}function Xe(t){t.memoizedState!==null&&Y(de,t);var i=Z.current,a=r_(i,t.type);i!==a&&(Y(ce,t),Y(Z,a))}function ke(t){ce.current===t&&(ne(Z),ne(ce)),de.current===t&&(ne(de),Ul._currentValue=_e)}var It,Dt;function qt(t){if(It===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);It=i&&i[1]||"",Dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+t+Dt}var St=!1;function Zt(t,i){if(!t||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var $=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){$=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){$=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var O=_.split(`
`),F=b.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===F.length)for(l=O.length-1,d=F.length-1;1<=l&&0<=d&&O[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==F[d]){var ee=`
`+O[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=d);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qt(a):""}function en(t,i){switch(t.tag){case 26:case 27:case 5:return qt(t.type);case 16:return qt("Lazy");case 13:return t.child!==i&&i!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return Zt(t.type,!1);case 11:return Zt(t.type.render,!1);case 1:return Zt(t.type,!0);case 31:return qt("Activity");default:return""}}function In(t){try{var i="",a=null;do i+=en(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var oe=Object.prototype.hasOwnProperty,be=s.unstable_scheduleCallback,Nt=s.unstable_cancelCallback,_t=s.unstable_shouldYield,Ti=s.unstable_requestPaint,Ht=s.unstable_now,ni=s.unstable_getCurrentPriorityLevel,ba=s.unstable_ImmediatePriority,Ds=s.unstable_UserBlockingPriority,Si=s.unstable_NormalPriority,Ze=s.unstable_LowPriority,bi=s.unstable_IdlePriority,Ns=s.log,Mu=s.unstable_setDisableYieldValue,ii=null,tn=null;function Bn(t){if(typeof Ns=="function"&&Mu(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ii,t)}catch{}}var bt=Math.clz32?Math.clz32:Vu,ku=Math.log,Aa=Math.LN2;function Vu(t){return t>>>=0,t===0?32:31-(ku(t)/Aa|0)|0}var Ai=256,kr=262144,xt=4194304;function wi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ri(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=wi(l):(_&=b,_!==0?d=wi(_):a||(a=b&~t,a!==0&&(d=wi(a))))):(b=l&~f,b!==0?d=wi(b):_!==0?d=wi(_):a||(a=l&~t,a!==0&&(d=wi(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function si(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function md(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function Ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Vr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pd(t,i,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var ee=31-bt(a),se=1<<ee;b[ee]=0,O[ee]=-1;var $=F[ee];if($!==null)for(F[ee]=null,ee=0;ee<$.length;ee++){var X=$[ee];X!==null&&(X.lane&=-536870913)}a&=~se}l!==0&&jr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function jr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-bt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Go(t,i){var a=i&-i;return a=(a&42)!==0?1:Lr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function ri(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var ai=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ai,Kt="__reactProps$"+ai,Ii="__reactContainer$"+ai,wa="__reactEvents$"+ai,gd="__reactListeners$"+ai,Pu="__reactHandles$"+ai,Uu="__reactResources$"+ai,Di="__reactMarker$"+ai;function Ra(t){delete t[Ot],delete t[Kt],delete t[wa],delete t[gd],delete t[Pu]}function Ni(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=d_(t);t!==null;){if(a=t[Ot])return a;t=d_(t)}return i}t=a,a=t.parentNode}return null}function qn(t){if(t=t[Ot]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function xi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(t){t[Di]=!0}var $o=new Set,Yo={};function Oi(t,i){Mi(t,i),Mi(t+"Capture",i)}function Mi(t,i){for(Yo[t]=i,t=0;t<i.length;t++)$o.add(i[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Xo={};function zu(t){return oe.call(Xo,t)?!0:oe.call(Qo,t)?!1:Ko.test(t)?Xo[t]=!0:(Qo[t]=!0,!1)}function Ca(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Nn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=xs(t)?"checked":"value";t._valueTracker=Wo(t,i,""+t[i])}}function Pr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ur=/[\n"\\]/g;function _n(t){return t.replace(Ur,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ia(t,i,a,l,d,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Jo(t,_,Qt(i)):a!=null?Jo(t,_,Qt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Qt(b):t.removeAttribute("name")}function Bu(t,i,a,l,d,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){it(t);return}a=a!=null?""+Qt(a):"",i=i!=null?""+Qt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),it(t)}function Jo(t,i,a){i==="number"&&ki(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Os(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function qu(t,i,a){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Qt(a):""}function Ms(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),it(t)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function el(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Zo(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&Zo(t,f,i[f])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return ks.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var tl=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Vi=null;function zr(t){var i=qn(t);if(i&&(t=i.stateNode)){var a=t[Kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Kt]||null;if(!d)throw Error(r(90));Ia(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Pr(l)}break e;case"textarea":qu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Os(t,!!a.multiple,i,!1)}}}var xa=!1;function js(t,i,a){if(xa)return t(i,a);xa=!0;try{var l=t(i);return l}finally{if(xa=!1,(Vs!==null||Vi!==null)&&(Lc(),Vs&&(i=Vs,t=Vi,Vi=Vs=null,zr(i),t)))for(i=0;i<t.length;i++)zr(t[i])}}function li(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(Fn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Br=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Br=!1}var ji=null,nl=null,qr=null;function il(){if(qr)return qr;var t,i=nl,a=i.length,l,d="value"in ji?ji.value:ji.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===d[f-l];l++);return qr=d.slice(t,1<l?1-l:void 0)}function Hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function ui(){return!1}function nn(t){function i(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?es:ui,this.isPropagationStopped=ui,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),i}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=nn(ts),Ls=S({},ts,{view:0,detail:0}),sl=nn(Ls),Ps,Oa,Pi,Ma=S({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Ps=t.screenX-Pi.screenX,Oa=t.screenY-Pi.screenY):Oa=Ps=0,Pi=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),rl=nn(Ma),Fr=S({},Ma,{dataTransfer:0}),Gu=nn(Fr),$u=S({},Ls,{relatedTarget:0}),Gr=nn($u),al=S({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=nn(al),ka=S({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=nn(ka),Qu=S({},ts,{data:0}),Ui=nn(Qu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ju[t])?!!i[t]:!1}function Us(){return Zu}var yn=S({},Ls,{key:function(t){if(t.key){var i=Xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=nn(yn),tc=S({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=nn(tc),c=S({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),y=nn(c),E=S({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=nn(E),q=S({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=nn(q),he=S({},ts,{newState:0,oldState:0}),Ve=nn(he),At=[9,13,27,32],et=Fn&&"CompositionEvent"in window,mt=null;Fn&&"documentMode"in document&&(mt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!mt,zi=Fn&&(!et||mt&&8<mt&&11>=mt),ci=" ",hi=!1;function $r(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function Db(t,i){switch(t){case"compositionend":return Va(i);case"keypress":return i.which!==32?null:(hi=!0,ci);case"textInput":return t=i.data,t===ci&&hi?null:t;default:return null}}function Nb(t,i){if(ja)return t==="compositionend"||!et&&$r(t,i)?(t=il(),qr=nl=ji=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xb[t.type]:i==="textarea"}function gg(t,i,a,l){Vs?Vi?Vi.push(l):Vi=[l]:Vs=l,i=Fc(i,"onChange"),0<i.length&&(a=new Li("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ol=null,ll=null;function Ob(t){Jv(t,0)}function nc(t){var i=Dn(t);if(Pr(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(Fn){var yd;if(Fn){var vd="oninput"in document;if(!vd){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),vd=typeof _g.oninput=="function"}yd=vd}else yd=!1;vg=yd&&(!document.documentMode||9<document.documentMode)}function Eg(){ol&&(ol.detachEvent("onpropertychange",Tg),ll=ol=null)}function Tg(t){if(t.propertyName==="value"&&nc(ll)){var i=[];gg(i,ll,t,Hn(t)),js(Ob,i)}}function Mb(t,i,a){t==="focusin"?(Eg(),ol=i,ll=a,ol.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(ll)}function Vb(t,i){if(t==="click")return nc(i)}function jb(t,i){if(t==="input"||t==="change")return nc(i)}function Lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:Lb;function ul(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!oe.call(i,d)||!xn(t[d],i[d]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function Ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ki(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ki(t.document)}return i}function _d(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pb=Fn&&"documentMode"in document&&11>=document.documentMode,La=null,Ed=null,cl=null,Td=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||La==null||La!==ki(l)||(l=La,"selectionStart"in l&&_d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Fc(Ed,"onSelect"),0<l.length&&(i=new Li("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=La)))}function Yr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Pa={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Sd={},Cg={};Fn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Kr(t){if(Sd[t])return Sd[t];if(!Pa[t])return t;var i=Pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Sd[t]=i[a];return t}var Ig=Kr("animationend"),Dg=Kr("animationiteration"),Ng=Kr("animationstart"),Ub=Kr("transitionrun"),zb=Kr("transitionstart"),Bb=Kr("transitioncancel"),xg=Kr("transitionend"),Og=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function di(t,i){Og.set(t,i),Oi(i,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Ua=0,Ad=0;function sc(){for(var t=Ua,i=Ad=Ua=0;i<t;){var a=$n[i];$n[i++]=null;var l=$n[i];$n[i++]=null;var d=$n[i];$n[i++]=null;var f=$n[i];if($n[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Mg(a,d,f)}}function rc(t,i,a,l){$n[Ua++]=t,$n[Ua++]=i,$n[Ua++]=a,$n[Ua++]=l,Ad|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wd(t,i,a,l){return rc(t,i,a,l),ac(t)}function Qr(t,i){return rc(t,null,null,i),ac(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-bt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function ac(t){if(50<Ol)throw Ol=0,Vf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function qb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,a,l){return new qb(t,i,a,l)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,i){var a=t.alternate;return a===null?(a=On(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,d,f){var _=0;if(l=t,typeof t=="function")Rd(t)&&(_=1);else if(typeof t=="string")_=YA(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=On(31,a,i,d),t.elementType=R,t.lanes=f,t;case k:return Xr(a.children,d,f,i);case z:_=8,d|=24;break;case W:return t=On(12,a,i,d|2),t.elementType=W,t.lanes=f,t;case G:return t=On(13,a,i,d),t.elementType=G,t.lanes=f,t;case te:return t=On(19,a,i,d),t.elementType=te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case K:_=9;break e;case pe:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=On(_,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Xr(t,i,a,l){return t=On(7,t,l,i),t.lanes=a,t}function Cd(t,i,a){return t=On(6,t,null,i),t.lanes=a,t}function Vg(t){var i=On(18,null,null,0);return i.stateNode=t,i}function Id(t,i,a){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var jg=new WeakMap;function Yn(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:In(i)},jg.set(t,i),i)}return{value:t,source:i,stack:In(i)}}var Ba=[],qa=0,lc=null,hl=0,Kn=[],Qn=0,zs=null,Bi=1,qi="";function ss(t,i){Ba[qa++]=hl,Ba[qa++]=lc,lc=t,hl=i}function Lg(t,i,a){Kn[Qn++]=Bi,Kn[Qn++]=qi,Kn[Qn++]=zs,zs=t;var l=Bi;t=qi;var d=32-bt(l)-1;l&=~(1<<d),a+=1;var f=32-bt(i)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Bi=1<<32-bt(i)+d|a<<d|l,qi=f+t}else Bi=1<<f|a<<d|l,qi=t}function Dd(t){t.return!==null&&(ss(t,1),Lg(t,1,0))}function Nd(t){for(;t===lc;)lc=Ba[--qa],Ba[qa]=null,hl=Ba[--qa],Ba[qa]=null;for(;t===zs;)zs=Kn[--Qn],Kn[Qn]=null,qi=Kn[--Qn],Kn[Qn]=null,Bi=Kn[--Qn],Kn[Qn]=null}function Pg(t,i){Kn[Qn++]=Bi,Kn[Qn++]=qi,Kn[Qn++]=zs,Bi=i.id,qi=i.overflow,zs=t}var sn=null,dt=null,Ke=!1,Bs=null,Xn=!1,xd=Error(r(519));function qs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Yn(i,t)),xd}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ot]=t,i[Kt]=l,a){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)qe(kl[a],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),Bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),Ms(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),l.onScroll!=null&&qe("scroll",i),l.onScrollEnd!=null&&qe("scrollend",i),l.onClick!=null&&(i.onclick=oi),i=!0):i=!1,i||qs(t,!0)}function zg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:sn=sn.return}}function Ha(t){if(t!==sn)return!1;if(!Ke)return zg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xf(t.type,t.memoizedProps)),a=!a),a&&dt&&qs(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=h_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=h_(t)}else i===27?(i=dt,nr(t.type)?(t=tm,tm=null,dt=t):dt=i):dt=sn?Jn(t.stateNode.nextSibling):null;return!0}function Wr(){dt=sn=null,Ke=!1}function Od(){var t=Bs;return t!==null&&(An===null?An=t:An.push.apply(An,t),Bs=null),t}function dl(t){Bs===null?Bs=[t]:Bs.push(t)}var Md=j(null),Jr=null,rs=null;function Hs(t,i,a){Y(Md,i._currentValue),i._currentValue=a}function as(t){t._currentValue=Md.current,ne(Md)}function kd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Vd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var O=0;O<i.length;O++)if(b.context===i[O]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),kd(f.return,a,t),l||(_=null);break e}f=b.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),kd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Fa(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=d.type;xn(d.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(d===de.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}d=d.return}t!==null&&Vd(i,t,a,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Bg(Jr,t)}function cc(t,i){return Jr===null&&Zr(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},rs===null){if(t===null)throw Error(r(308));rs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else rs=rs.next=i;return a}var Hb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Fb=s.unstable_scheduleCallback,Gb=s.unstable_NormalPriority,Vt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jd(){return{controller:new Hb,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Fb(Gb,function(){t.controller.abort()})}var ml=null,Ld=0,Ga=0,$a=null;function $b(t,i){if(ml===null){var a=ml=[];Ld=0,Ga=Bf(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ld++,i.then(qg,qg),i}function qg(){if(--Ld===0&&ml!==null){$a!==null&&($a.status="fulfilled");var t=ml;ml=null,Ga=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Yb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Hg=J.S;J.S=function(t,i){Rv=Ht(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$b(t,i),Hg!==null&&Hg(t,i)};var ea=j(null);function Pd(){var t=ea.current;return t!==null?t:ct.pooledCache}function hc(t,i){i===null?Y(ea,ea.current):Y(ea,i.pool)}function Fg(){var t=Pd();return t===null?null:{parent:Vt._currentValue,pool:t}}var Ya=Error(r(460)),Ud=Error(r(474)),dc=Error(r(542)),fc={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(oi,oi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(oi,oi);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw na=i,Ya}}function ta(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,Ya):a}}var na=null;function Yg(){if(na===null)throw Error(r(459));var t=na;return na=null,t}function Kg(t){if(t===Ya||t===dc)throw Error(r(483))}var Ka=null,pl=0;function mc(t){var i=pl;return pl+=1,Ka===null&&(Ka=[]),$g(Ka,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pc(t,i){throw i.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(B,P){if(t){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function a(B,P){if(!t)return null;for(;P!==null;)i(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function d(B,P){return B=is(B,P),B.index=0,B.sibling=null,B}function f(B,P,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,P,H,ie){return P===null||P.tag!==6?(P=Cd(H,B.mode,ie),P.return=B,P):(P=d(P,H),P.return=B,P)}function O(B,P,H,ie){var Te=H.type;return Te===k?ee(B,P,H.props.children,ie,H.key):P!==null&&(P.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&ta(Te)===P.type)?(P=d(P,H.props),gl(P,H),P.return=B,P):(P=oc(H.type,H.key,H.props,null,B.mode,ie),gl(P,H),P.return=B,P)}function F(B,P,H,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Id(H,B.mode,ie),P.return=B,P):(P=d(P,H.children||[]),P.return=B,P)}function ee(B,P,H,ie,Te){return P===null||P.tag!==7?(P=Xr(H,B.mode,ie,Te),P.return=B,P):(P=d(P,H),P.return=B,P)}function se(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Cd(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return H=oc(P.type,P.key,P.props,null,B.mode,H),gl(H,P),H.return=B,H;case L:return P=Id(P,B.mode,H),P.return=B,P;case C:return P=ta(P),se(B,P,H)}if(Ue(P)||M(P))return P=Xr(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return se(B,mc(P),H);if(P.$$typeof===le)return se(B,cc(B,P),H);pc(B,P)}return null}function $(B,P,H,ie){var Te=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:b(B,P,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case U:return H.key===Te?O(B,P,H,ie):null;case L:return H.key===Te?F(B,P,H,ie):null;case C:return H=ta(H),$(B,P,H,ie)}if(Ue(H)||M(H))return Te!==null?null:ee(B,P,H,ie,null);if(typeof H.then=="function")return $(B,P,mc(H),ie);if(H.$$typeof===le)return $(B,P,cc(B,H),ie);pc(B,H)}return null}function X(B,P,H,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(H)||null,b(P,B,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return B=B.get(ie.key===null?H:ie.key)||null,O(P,B,ie,Te);case L:return B=B.get(ie.key===null?H:ie.key)||null,F(P,B,ie,Te);case C:return ie=ta(ie),X(B,P,H,ie,Te)}if(Ue(ie)||M(ie))return B=B.get(H)||null,ee(P,B,ie,Te,null);if(typeof ie.then=="function")return X(B,P,H,mc(ie),Te);if(ie.$$typeof===le)return X(B,P,H,cc(P,ie),Te);pc(P,ie)}return null}function ve(B,P,H,ie){for(var Te=null,We=null,Ee=P,Le=P=0,Fe=null;Ee!==null&&Le<H.length;Le++){Ee.index>Le?(Fe=Ee,Ee=null):Fe=Ee.sibling;var Je=$(B,Ee,H[Le],ie);if(Je===null){Ee===null&&(Ee=Fe);break}t&&Ee&&Je.alternate===null&&i(B,Ee),P=f(Je,P,Le),We===null?Te=Je:We.sibling=Je,We=Je,Ee=Fe}if(Le===H.length)return a(B,Ee),Ke&&ss(B,Le),Te;if(Ee===null){for(;Le<H.length;Le++)Ee=se(B,H[Le],ie),Ee!==null&&(P=f(Ee,P,Le),We===null?Te=Ee:We.sibling=Ee,We=Ee);return Ke&&ss(B,Le),Te}for(Ee=l(Ee);Le<H.length;Le++)Fe=X(Ee,B,Le,H[Le],ie),Fe!==null&&(t&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Le:Fe.key),P=f(Fe,P,Le),We===null?Te=Fe:We.sibling=Fe,We=Fe);return t&&Ee.forEach(function(or){return i(B,or)}),Ke&&ss(B,Le),Te}function Ae(B,P,H,ie){if(H==null)throw Error(r(151));for(var Te=null,We=null,Ee=P,Le=P=0,Fe=null,Je=H.next();Ee!==null&&!Je.done;Le++,Je=H.next()){Ee.index>Le?(Fe=Ee,Ee=null):Fe=Ee.sibling;var or=$(B,Ee,Je.value,ie);if(or===null){Ee===null&&(Ee=Fe);break}t&&Ee&&or.alternate===null&&i(B,Ee),P=f(or,P,Le),We===null?Te=or:We.sibling=or,We=or,Ee=Fe}if(Je.done)return a(B,Ee),Ke&&ss(B,Le),Te;if(Ee===null){for(;!Je.done;Le++,Je=H.next())Je=se(B,Je.value,ie),Je!==null&&(P=f(Je,P,Le),We===null?Te=Je:We.sibling=Je,We=Je);return Ke&&ss(B,Le),Te}for(Ee=l(Ee);!Je.done;Le++,Je=H.next())Je=X(Ee,B,Le,Je.value,ie),Je!==null&&(t&&Je.alternate!==null&&Ee.delete(Je.key===null?Le:Je.key),P=f(Je,P,Le),We===null?Te=Je:We.sibling=Je,We=Je);return t&&Ee.forEach(function(sw){return i(B,sw)}),Ke&&ss(B,Le),Te}function ut(B,P,H,ie){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case U:e:{for(var Te=H.key;P!==null;){if(P.key===Te){if(Te=H.type,Te===k){if(P.tag===7){a(B,P.sibling),ie=d(P,H.props.children),ie.return=B,B=ie;break e}}else if(P.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&ta(Te)===P.type){a(B,P.sibling),ie=d(P,H.props),gl(ie,H),ie.return=B,B=ie;break e}a(B,P);break}else i(B,P);P=P.sibling}H.type===k?(ie=Xr(H.props.children,B.mode,ie,H.key),ie.return=B,B=ie):(ie=oc(H.type,H.key,H.props,null,B.mode,ie),gl(ie,H),ie.return=B,B=ie)}return _(B);case L:e:{for(Te=H.key;P!==null;){if(P.key===Te)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(B,P.sibling),ie=d(P,H.children||[]),ie.return=B,B=ie;break e}else{a(B,P);break}else i(B,P);P=P.sibling}ie=Id(H,B.mode,ie),ie.return=B,B=ie}return _(B);case C:return H=ta(H),ut(B,P,H,ie)}if(Ue(H))return ve(B,P,H,ie);if(M(H)){if(Te=M(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ae(B,P,H,ie)}if(typeof H.then=="function")return ut(B,P,mc(H),ie);if(H.$$typeof===le)return ut(B,P,cc(B,H),ie);pc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(B,P.sibling),ie=d(P,H),ie.return=B,B=ie):(a(B,P),ie=Cd(H,B.mode,ie),ie.return=B,B=ie),_(B)):a(B,P)}return function(B,P,H,ie){try{pl=0;var Te=ut(B,P,H,ie);return Ka=null,Te}catch(Ee){if(Ee===Ya||Ee===dc)throw Ee;var We=On(29,Ee,null,B.mode);return We.lanes=ie,We.return=B,We}}}var ia=Qg(!0),Xg=Qg(!1),Fs=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=ac(t),Mg(t,null,a),i}return rc(t,l,i,a),ac(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}function qd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hd=!1;function vl(){if(Hd){var t=$a;if(t!==null)throw t}}function _l(t,i,a,l){Hd=!1;var d=t.updateQueue;Fs=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var O=b,F=O.next;O.next=null,_===null?f=F:_.next=F,_=O;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==_&&(b===null?ee.firstBaseUpdate=F:b.next=F,ee.lastBaseUpdate=O))}if(f!==null){var se=d.baseState;_=0,ee=F=O=null,b=f;do{var $=b.lane&-536870913,X=$!==b.lane;if(X?(He&$)===$:(l&$)===$){$!==0&&$===Ga&&(Hd=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=t,Ae=b;$=i;var ut=a;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){se=ve.call(ut,se,$);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,$=typeof ve=="function"?ve.call(ut,se,$):ve,$==null)break e;se=S({},se,$);break e;case 2:Fs=!0}}$=b.callback,$!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[$]:X.push($))}else X={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(F=ee=X,O=se):ee=ee.next=X,_|=$;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;X=b,b=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);ee===null&&(O=se),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=ee,f===null&&(d.shared.lanes=0),Ws|=_,t.lanes=_,t.memoizedState=se}}function Wg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var Qa=j(null),gc=j(0);function Zg(t,i){t=ps,Y(gc,t),Y(Qa,i),ps=t|i.baseLanes}function Fd(){Y(gc,ps),Y(Qa,Qa.current)}function Gd(){ps=gc.current,ne(Qa),ne(gc)}var Mn=j(null),Wn=null;function Ys(t){var i=t.alternate;Y(wt,wt.current&1),Y(Mn,t),Wn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Wn=t)}function $d(t){Y(wt,wt.current),Y(Mn,t),Wn===null&&(Wn=t)}function ey(t){t.tag===22?(Y(wt,wt.current),Y(Mn,t),Wn===null&&(Wn=t)):Ks()}function Ks(){Y(wt,wt.current),Y(Mn,Mn.current)}function kn(t){ne(Mn),Wn===t&&(Wn=null),ne(wt)}var wt=j(0);function yc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zf(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var os=0,je=null,ot=null,jt=null,vc=!1,Xa=!1,sa=!1,_c=0,El=0,Wa=null,Kb=0;function Et(){throw Error(r(321))}function Yd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Kd(t,i,a,l,d,f){return os=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?Ly:cf,sa=!1,f=a(l,d),sa=!1,Xa&&(f=ny(i,a,l,d)),ty(t),f}function ty(t){J.H=bl;var i=ot!==null&&ot.next!==null;if(os=0,jt=ot=je=null,vc=!1,El=0,Wa=null,i)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&uc(t)&&(Lt=!0))}function ny(t,i,a,l){je=t;var d=0;do{if(Xa&&(Wa=null),El=0,Xa=!1,25<=d)throw Error(r(301));if(d+=1,jt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=Py,f=i(a,l)}while(Xa);return f}function Qb(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?Tl(i):i,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(je.flags|=1024),i}function Qd(){var t=_c!==0;return _c=0,t}function Xd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wd(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}os=0,jt=ot=je=null,Xa=!1,El=_c=0,Wa=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?je.memoizedState=jt=t:jt=jt.next=t,jt}function Rt(){if(ot===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=jt===null?je.memoizedState:jt.next;if(i!==null)jt=i,ot=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},jt===null?je.memoizedState=jt=t:jt=jt.next=t}return jt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var i=El;return El+=1,Wa===null&&(Wa=[]),t=$g(Wa,t,i),i=je,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Ly:cf),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===le)return rn(t)}throw Error(r(438,String(t)))}function Jd(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ec(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function ls(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Rt();return Zd(i,ot,t)}function Zd(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var b=_=null,O=null,F=i,ee=!1;do{var se=F.lane&-536870913;if(se!==F.lane?(He&se)===se:(os&se)===se){var $=F.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),se===Ga&&(ee=!0);else if((os&$)===$){F=F.next,$===Ga&&(ee=!0);continue}else se={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=se,_=f):O=O.next=se,je.lanes|=$,Ws|=$;se=F.action,sa&&a(f,se),f=F.hasEagerState?F.eagerState:a(f,se)}else $={lane:se,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=$,_=f):O=O.next=$,je.lanes|=se,Ws|=se;F=F.next}while(F!==null&&F!==i);if(O===null?_=f:O.next=b,!xn(f,t.memoizedState)&&(Lt=!0,ee&&(a=$a,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var i=Rt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);xn(f,i.memoizedState)||(Lt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function iy(t,i,a){var l=je,d=Rt(),f=Ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!xn((ot||d).memoizedState,a);if(_&&(d.memoizedState=a,Lt=!0),d=d.queue,sf(ay.bind(null,l,d,t),[t]),d.getSnapshot!==i||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),ct===null)throw Error(r(349));f||(os&127)!==0||sy(l,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Ec(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,oy(i)&&ly(t)}function ay(t,i,a){return a(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function ly(t){var i=Qr(t,2);i!==null&&wn(i,t,2)}function tf(t){var i=vn();if(typeof t=="function"){var a=t;if(t=a(),sa){Bn(!0);try{a()}finally{Bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},i}function uy(t,i,a,l){return t.baseState=a,Zd(t,ot,typeof l=="function"?l:ls)}function Xb(t,i,a,l,d){if(wc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,cy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function cy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=J.T,_={};J.T=_;try{var b=a(d,l),O=J.S;O!==null&&O(_,b),hy(t,i,b)}catch(F){nf(t,i,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),J.T=f}}else try{f=a(d,l),hy(t,i,f)}catch(F){nf(t,i,F)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,i,l)},function(l){return nf(t,i,l)}):dy(t,i,a)}function dy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function nf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if(Ke){var a=ct.formState;if(a!==null){e:{var l=je;if(Ke){if(dt){t:{for(var d=dt,f=Xn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){dt=Jn(d.nextSibling),l=d.data==="F!";break e}}qs(l)}l=!1}l&&(i=a[0])}}return a=vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=l,a=ky.bind(null,je,l),l.dispatch=a,l=tf(!1),f=uf.bind(null,je,!1,l.queue),l=vn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=Xb.bind(null,je,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function gy(t){var i=Rt();return yy(i,ot,t)}function yy(t,i,a){if(i=Zd(t,i,my)[0],t=Sc(ls)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(_){throw _===Ya?dc:_}else l=i;i=Rt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(je.flags|=2048,Ja(9,{destroy:void 0},Wb.bind(null,d,a),null)),[l,f,t]}function Wb(t,i){t.action=i}function vy(t){var i=Rt(),a=ot;if(a!==null)return yy(i,a,t);Rt(),i=i.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=Ec(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Rt().memoizedState}function bc(t,i,a,l){var d=vn();je.flags|=t,d.memoizedState=Ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ac(t,i,a,l){var d=Rt();l=l===void 0?null:l;var f=d.memoizedState.inst;ot!==null&&l!==null&&Yd(l,ot.memoizedState.deps)?d.memoizedState=Ja(i,f,a,l):(je.flags|=t,d.memoizedState=Ja(1|i,f,a,l))}function Ey(t,i){bc(8390656,8,t,i)}function sf(t,i){Ac(2048,8,t,i)}function Jb(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Ec(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ty(t){var i=Rt().memoizedState;return Jb({ref:i,nextImpl:t}),function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Sy(t,i){return Ac(4,2,t,i)}function by(t,i){return Ac(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,Ac(4,4,Ay.bind(null,i,t),a)}function rf(){}function Ry(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Cy(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yd(i,l[1]))return l[0];if(l=t(),sa){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,i],l}function af(t,i,a){return a===void 0||(os&1073741824)!==0&&(He&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Iv(),je.lanes|=t,Ws|=t,a)}function Iy(t,i,a,l){return xn(a,i)?a:Qa.current!==null?(t=af(t,a,l),xn(t,i)||(Lt=!0),t):(os&42)===0||(os&1073741824)!==0&&(He&261930)===0?(Lt=!0,t.memoizedState=a):(t=Iv(),je.lanes|=t,Ws|=t,i)}function Dy(t,i,a,l,d){var f=ue.p;ue.p=f!==0&&8>f?f:8;var _=J.T,b={};J.T=b,uf(t,!1,i,a);try{var O=d(),F=J.S;if(F!==null&&F(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=Yb(O,l);Sl(t,i,ee,Ln(t))}else Sl(t,i,l,Ln(t))}catch(se){Sl(t,i,{then:function(){},status:"rejected",reason:se},Ln())}finally{ue.p=f,_!==null&&b.types!==null&&(_.types=b.types),J.T=_}}function Zb(){}function of(t,i,a,l){if(t.tag!==5)throw Error(r(476));var d=Ny(t).queue;Dy(t,d,i,_e,a===null?Zb:function(){return xy(t),a(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Ny(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},Ln())}function lf(){return rn(Ul)}function Oy(){return Rt().memoizedState}function My(){return Rt().memoizedState}function eA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ln();t=Gs(a);var l=$s(i,t,a);l!==null&&(wn(l,i,a),yl(l,i,a)),i={cache:jd()},t.payload=i;return}i=i.return}}function tA(t,i,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?Vy(i,a):(a=wd(t,i,a,l),a!==null&&(wn(a,t,l),jy(a,i,l)))}function ky(t,i,a){var l=Ln();Sl(t,i,a,l)}function Sl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))Vy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,b=f(_,a);if(d.hasEagerState=!0,d.eagerState=b,xn(b,_))return rc(t,i,d,0),ct===null&&sc(),!1}catch{}if(a=wd(t,i,d,l),a!==null)return wn(a,t,l),jy(a,i,l),!0}return!1}function uf(t,i,a,l){if(l={lane:2,revertLane:Bf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(r(479))}else i=wd(t,a,l,2),i!==null&&wn(i,t,2)}function wc(t){var i=t.alternate;return t===je||i!==null&&i===je}function Vy(t,i){Xa=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}var bl={readContext:rn,use:Tc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};bl.useEffectEvent=Et;var Ly={readContext:rn,use:Tc,useCallback:function(t,i){return vn().memoizedState=[t,i===void 0?null:i],t},useContext:rn,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=vn();i=i===void 0?null:i;var l=t();if(sa){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=vn();if(a!==void 0){var d=a(i);if(sa){Bn(!0);try{a(i)}finally{Bn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=tA.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=vn();return t={current:t},i.memoizedState=t},useState:function(t){t=tf(t);var i=t.queue,a=ky.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(t,i){var a=vn();return af(a,t,i)},useTransition:function(){var t=tf(!1);return t=Dy.bind(null,je,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,d=vn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ct===null)throw Error(r(349));(He&127)!==0||sy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Ey(ay.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},ry.bind(null,l,f,a,i),null),a},useId:function(){var t=vn(),i=ct.identifierPrefix;if(Ke){var a=qi,l=Bi;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Kb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:lf,useFormState:py,useActionState:py,useOptimistic:function(t){var i=vn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uf.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:Jd,useCacheRefresh:function(){return vn().memoizedState=eA.bind(null,je)},useEffectEvent:function(t){var i=vn(),a={impl:t};return i.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cf={readContext:rn,use:Tc,useCallback:Ry,useContext:rn,useEffect:sf,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:Sc,useRef:_y,useState:function(){return Sc(ls)},useDebugValue:rf,useDeferredValue:function(t,i){var a=Rt();return Iy(a,ot.memoizedState,t,i)},useTransition:function(){var t=Sc(ls)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:lf,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=Rt();return uy(a,ot,t,i)},useMemoCache:Jd,useCacheRefresh:My};cf.useEffectEvent=Ty;var Py={readContext:rn,use:Tc,useCallback:Ry,useContext:rn,useEffect:sf,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:ef,useRef:_y,useState:function(){return ef(ls)},useDebugValue:rf,useDeferredValue:function(t,i){var a=Rt();return ot===null?af(a,t,i):Iy(a,ot.memoizedState,t,i)},useTransition:function(){var t=ef(ls)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:lf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=Rt();return ot!==null?uy(a,ot,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:My};Py.useEffectEvent=Ty;function hf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var df={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ln(),d=Gs(l);d.payload=i,a!=null&&(d.callback=a),i=$s(t,d,l),i!==null&&(wn(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ln(),d=Gs(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=$s(t,d,l),i!==null&&(wn(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ln(),l=Gs(a);l.tag=2,i!=null&&(l.callback=i),i=$s(t,l,a),i!==null&&(wn(i,t,a),yl(i,t,a))}};function Uy(t,i,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!ul(a,l)||!ul(d,f):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&df.enqueueReplaceState(i,i.state,null)}function ra(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function By(t){ic(t)}function qy(t){console.error(t)}function Hy(t){ic(t)}function Rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ff(t,i,a){return a=Gs(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,i)},a}function Gy(t){return t=Gs(t),t.tag=3,t}function $y(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nA(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fa(i,a,d,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?Pc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pf(t,l,d)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pf(t,l,d)),!1}throw Error(r(435,a.tag))}return Pf(t,l,d),Pc(),!1}if(Ke)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==xd&&(t=Error(r(422),{cause:l}),dl(Yn(t,a)))):(l!==xd&&(i=Error(r(423),{cause:l}),dl(Yn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Yn(l,a),d=ff(t.stateNode,l,d),qd(t,d),Tt!==4&&(Tt=2)),!1;var f=Error(r(520),{cause:l});if(f=Yn(f,a),xl===null?xl=[f]:xl.push(f),Tt!==4&&(Tt=2),i===null)return!0;l=Yn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=ff(a.stateNode,l,t),qd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Js===null||!Js.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gy(d),$y(d,t,a,l),qd(a,d),!1}a=a.return}while(a!==null);return!1}var mf=Error(r(461)),Lt=!1;function an(t,i,a,l){i.child=t===null?Xg(i,null,a,l):ia(i,t.child,a,l)}function Yy(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Zr(i),l=Kd(t,i,a,_,f,d),b=Qd(),t!==null&&!Lt?(Xd(t,i,d),us(t,i,d)):(Ke&&b&&Dd(i),i.flags|=1,an(t,i,l,d),i.child)}function Ky(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Rd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Qy(t,i,f,l,d)):(t=oc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Sf(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&t.ref===i.ref)return us(t,i,d)}return i.flags|=1,t=is(f,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=l=f,Sf(t,d))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,us(t,i,d)}return pf(t,i,a,l,d)}function Xy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Wy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,f!==null?f.cachePool:null),f!==null?Zg(i,f):Fd(),ey(i);else return l=i.lanes=536870912,Wy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(hc(i,f.cachePool),Zg(i,f),Ks(),i.memoizedState=null):(t!==null&&hc(i,null),Fd(),Ks());return an(t,i,d,a),i.child}function Al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wy(t,i,a,l,d){var f=Pd();return f=f===null?null:{parent:Vt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&hc(i,null),Fd(),ey(i),t!==null&&Fa(t,i,l,!0),i.childLanes=d,null}function Cc(t,i){return i=Dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return ia(i,t.child,null,a),t=Cc(i,i.pendingProps),t.flags|=2,kn(i),i.memoizedState=null,t}function iA(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=Cc(i,l),i.lanes=536870912,Al(null,t);if($d(i),(t=dt)?(t=c_(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,sn=i,dt=null)):t=null,t===null)throw qs(i);return i.lanes=536870912,null}return Cc(i,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if($d(i),d)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Lt||Fa(t,i,a,!1),d=(a&t.childLanes)!==0,Lt||d){if(l=ct,l!==null&&(_=Go(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Qr(t,_),wn(l,t,_),mf;Pc(),i=Jy(t,i,a)}else t=f.treeContext,dt=Jn(_.nextSibling),sn=i,Ke=!0,Bs=null,Xn=!1,t!==null&&Pg(i,t),i=Cc(i,l),i.flags|=4096;return i}return t=is(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ic(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pf(t,i,a,l,d){return Zr(i),a=Kd(t,i,a,l,void 0,d),l=Qd(),t!==null&&!Lt?(Xd(t,i,d),us(t,i,d)):(Ke&&l&&Dd(i),i.flags|=1,an(t,i,a,d),i.child)}function Zy(t,i,a,l,d,f){return Zr(i),i.updateQueue=null,a=ny(i,l,a,d),ty(t),l=Qd(),t!==null&&!Lt?(Xd(t,i,f),us(t,i,f)):(Ke&&l&&Dd(i),i.flags|=1,an(t,i,a,f),i.child)}function ev(t,i,a,l,d){if(Zr(i),i.stateNode===null){var f=za,_=a.contextType;typeof _=="object"&&_!==null&&(f=rn(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},zd(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?rn(_):za,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hf(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&df.enqueueReplaceState(f,f.state,null),_l(i,l,f,d),vl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,O=ra(a,b);f.props=O;var F=f.context,ee=a.contextType;_=za,typeof ee=="object"&&ee!==null&&(_=rn(ee));var se=a.getDerivedStateFromProps;ee=typeof se=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==_)&&zy(i,f,l,_),Fs=!1;var $=i.memoizedState;f.state=$,_l(i,l,f,d),vl(),F=i.memoizedState,b||$!==F||Fs?(typeof se=="function"&&(hf(i,a,se,l),F=i.memoizedState),(O=Fs||Uy(i,a,O,l,$,F,_))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=_,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Bd(t,i),_=i.memoizedProps,ee=ra(a,_),f.props=ee,se=i.pendingProps,$=f.context,F=a.contextType,O=za,typeof F=="object"&&F!==null&&(O=rn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==se||$!==O)&&zy(i,f,l,O),Fs=!1,$=i.memoizedState,f.state=$,_l(i,l,f,d),vl();var X=i.memoizedState;_!==se||$!==X||Fs||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof b=="function"&&(hf(i,a,b,l),X=i.memoizedState),(ee=Fs||Uy(i,a,ee,l,$,X,O)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),f.props=l,f.state=X,f.context=O,l=ee):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Ic(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ia(i,t.child,null,d),i.child=ia(i,null,a,d)):an(t,i,a,d),i.memoizedState=f.state,t=i.child):t=us(t,i,d),t}function tv(t,i,a,l){return Wr(),i.flags|=256,an(t,i,a,l),i.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:Fg()}}function vf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function nv(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(d?Ys(i):Ks(),(t=dt)?(t=c_(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:zs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,sn=i,dt=null)):t=null,t===null)throw qs(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,d?(Ks(),d=i.mode,b=Dc({mode:"hidden",children:b},d),l=Xr(l,d,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=yf(a),l.childLanes=vf(t,_,a),i.memoizedState=gf,Al(null,l)):(Ys(i),_f(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)i.flags&256?(Ys(i),i.flags&=-257,i=Ef(t,i,a)):i.memoizedState!==null?(Ks(),i.child=t.child,i.flags|=128,i=null):(Ks(),b=l.fallback,d=i.mode,l=Dc({mode:"visible",children:l.children},d),b=Xr(b,d,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,ia(i,t.child,null,a),l=i.child,l.memoizedState=yf(a),l.childLanes=vf(t,_,a),i.memoizedState=gf,i=Al(null,l));else if(Ys(i),em(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),i=Ef(t,i,a)}else if(Lt||Fa(t,i,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=ct,_!==null&&(l=Go(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Qr(t,l),wn(_,t,l),mf;Zf(b)||Pc(),i=Ef(t,i,a)}else Zf(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,dt=Jn(b.nextSibling),sn=i,Ke=!0,Bs=null,Xn=!1,t!==null&&Pg(i,t),i=_f(i,l.children),i.flags|=4096);return i}return d?(Ks(),b=l.fallback,d=i.mode,O=t.child,F=O.sibling,l=is(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?b=is(F,b):(b=Xr(b,d,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Al(null,l),l=i.child,b=t.child.memoizedState,b===null?b=yf(a):(d=b.cachePool,d!==null?(O=Vt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Fg(),b={baseLanes:b.baseLanes|a,cachePool:d}),l.memoizedState=b,l.childLanes=vf(t,_,a),i.memoizedState=gf,Al(t.child,l)):(Ys(i),a=t.child,t=a.sibling,a=is(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function _f(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=On(22,t,null,i),t.lanes=0,t}function Ef(t,i,a){return ia(i,t.child,null,a),t=_f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kd(t.return,i,a)}function Tf(t,i,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function sv(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=wt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,Y(wt,_),an(t,i,l,a),l=Ke?hl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,a,i);else if(t.tag===19)iv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&yc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Tf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&yc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Tf(i,!0,a,null,f,l);break;case"together":Tf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function us(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ws|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=is(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=is(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function sA(t,i,a){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),Hs(i,Vt,t.memoizedState.cache),Wr();break;case 27:case 5:Xe(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:Hs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$d(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ys(i),i.flags|=128,null):(a&i.child.childLanes)!==0?nv(t,i,a):(Ys(i),t=us(t,i,a),t!==null?t.sibling:null);Ys(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fa(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return sv(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Y(wt,wt.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:Hs(i,Vt,t.memoizedState.cache)}return us(t,i,a)}function rv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Sf(t,a)&&(i.flags&128)===0)return Lt=!1,sA(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ke&&(i.flags&1048576)!==0&&Lg(i,hl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ta(i.elementType),i.type=t,typeof t=="function")Rd(t)?(l=ra(t,l),i.tag=1,i=ev(null,i,t,l,a)):(i.tag=0,i=pf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===pe){i.tag=11,i=Yy(null,i,t,l,a);break e}else if(d===I){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=ye(t)||t,Error(r(306,i,""))}}return i;case 0:return pf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=ra(l,i.pendingProps),ev(t,i,l,d,a);case 3:e:{if(Ce(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Bd(t,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Hs(i,Vt,l),l!==f.cache&&Vd(i,[Vt],a,!0),vl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=tv(t,i,l,a);break e}else if(l!==d){d=Yn(Error(r(424)),i),dl(d),i=tv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,dt=Jn(t.firstChild),sn=i,Ke=!0,Bs=null,Xn=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wr(),l===d){i=us(t,i,a);break e}an(t,i,l,a)}i=i.child}return i;case 26:return Ic(t,i),t===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,l=Gc(fe.current).createElement(a),l[Ot]=i,l[Kt]=t,on(l,a,t),Mt(l),i.stateNode=l):i.memoizedState=g_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Xe(i),t===null&&Ke&&(l=i.stateNode=f_(i.type,i.pendingProps,fe.current),sn=i,Xn=!0,d=dt,nr(i.type)?(tm=d,dt=Jn(l.firstChild)):dt=d),an(t,i,i.pendingProps.children,a),Ic(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((d=l=dt)&&(l=kA(l,i.type,i.pendingProps,Xn),l!==null?(i.stateNode=l,sn=i,dt=Jn(l.firstChild),Xn=!1,d=!0):d=!1),d||qs(i)),Xe(i),d=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Xf(d,f)?l=null:_!==null&&Xf(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=Kd(t,i,Qb,null,null,a),Ul._currentValue=d),Ic(t,i),an(t,i,l,a),i.child;case 6:return t===null&&Ke&&((t=a=dt)&&(a=VA(a,i.pendingProps,Xn),a!==null?(i.stateNode=a,sn=i,dt=null,t=!0):t=!1),t||qs(i)),null;case 13:return nv(t,i,a);case 4:return Ce(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ia(i,null,l,a):an(t,i,l,a),i.child;case 11:return Yy(t,i,i.type,i.pendingProps,a);case 7:return an(t,i,i.pendingProps,a),i.child;case 8:return an(t,i,i.pendingProps.children,a),i.child;case 12:return an(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Hs(i,i.type,l.value),an(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Zr(i),d=rn(d),l=l(d),i.flags|=1,an(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return sv(t,i,a);case 31:return iA(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return Zr(i),l=rn(Vt),t===null?(d=Pd(),d===null&&(d=ct,f=jd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},zd(i),Hs(i,Vt,d)):((t.lanes&a)!==0&&(Bd(t,i),_l(i,null,null,a),vl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Hs(i,Vt,l)):(l=f.cache,Hs(i,Vt,l),l!==d.cache&&Vd(i,[Vt],a,!0))),an(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function cs(t){t.flags|=4}function bf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Ov())t.flags|=8192;else throw na=fc,Ud}else t.flags&=-16777217}function av(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i))if(Ov())t.flags|=8192;else throw na=fc,Ud}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ju():536870912,t.lanes|=i,no|=i)}function wl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rA(t,i,a){var l=i.pendingProps;switch(Nd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),as(Vt),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(i)?cs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Od())),ft(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(cs(i),f!==null?(ft(i),av(i,f)):(ft(i),bf(i,d,null,l,a))):f?f!==t.memoizedState?(cs(i),ft(i),av(i,f)):(ft(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&cs(i),ft(i),bf(i,d,t,l,a)),null;case 27:if(ke(i),a=fe.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ft(i),null}t=Z.current,Ha(i)?Ug(i):(t=f_(d,l,a),i.stateNode=t,cs(i))}return ft(i),null;case 5:if(ke(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ft(i),null}if(f=Z.current,Ha(i))Ug(i);else{var _=Gc(fe.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Ot]=i,f[Kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(on(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&cs(i)}}return ft(i),bf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&cs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=fe.current,Ha(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=sn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||qs(i,!0)}else t=Gc(t).createTextNode(l),t[Ot]=i,i.stateNode=t}return ft(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ot]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),t=!1}else a=Od(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(kn(i),i):(kn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ft(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ha(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ot]=i}else Wr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),d=!1}else d=Od(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(kn(i),i):(kn(i),null)}return kn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),ft(i),null);case 4:return Ie(),t===null&&Gf(i.stateNode.containerInfo),ft(i),null;case 10:return as(i.type),ft(i),null;case 19:if(ne(wt),l=i.memoizedState,l===null)return ft(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)wl(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=yc(t),f!==null){for(i.flags|=128,wl(l,!1),t=f.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)kg(a,t),a=a.sibling;return Y(wt,wt.current&1|2),Ke&&ss(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ht()>Vc&&(i.flags|=128,d=!0,wl(l,!1),i.lanes=4194304)}else{if(!d)if(t=yc(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return ft(i),null}else 2*Ht()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,d=!0,wl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ht(),t.sibling=null,a=wt.current,Y(wt,d?a&1|2:a&1),Ke&&ss(i,l.treeForkCount),t):(ft(i),null);case 22:case 23:return kn(i),Gd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),as(Vt),ft(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function aA(t,i){switch(Nd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return as(Vt),Ie(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ke(i),null;case 31:if(i.memoizedState!==null){if(kn(i),i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(kn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(wt),null;case 4:return Ie(),null;case 10:return as(i.type),null;case 22:case 23:return kn(i),Gd(),t!==null&&ne(ea),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return as(Vt),null;case 25:return null;default:return null}}function ov(t,i){switch(Nd(i),i.tag){case 3:as(Vt),Ie();break;case 26:case 27:case 5:ke(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&kn(i);break;case 13:kn(i);break;case 19:ne(wt);break;case 10:as(i.type);break;case 22:case 23:kn(i),Gd(),t!==null&&ne(ea);break;case 24:as(Vt)}}function Rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(b){rt(i,i.return,b)}}function Qs(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,d=i;var O=a,F=b;try{F()}catch(ee){rt(d,O,ee)}}}l=l.next}while(l!==f)}}catch(ee){rt(i,i.return,ee)}}function lv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){rt(t,t.return,l)}}}function uv(t,i,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){rt(t,i,d)}}function Hi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){rt(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){rt(t,i,d)}else a.current=null}function cv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){rt(t,t.return,d)}}function Af(t,i,a){try{var l=t.stateNode;IA(l,t.type,a,i),l[Kt]=i}catch(d){rt(t,t.return,d)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=oi));else if(l!==4&&(l===27&&nr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rf(t,i,a),t=t.sibling;t!==null;)Rf(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function dv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);on(i,l,a),i[Ot]=t,i[Kt]=a}catch(f){rt(t,t.return,f)}}var hs=!1,Pt=!1,Cf=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function oA(t,i){if(t=t.containerInfo,Kf=Jc,t=wg(t),_d(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,F=0,ee=0,se=t,$=null;t:for(;;){for(var X;se!==a||d!==0&&se.nodeType!==3||(b=_+d),se!==f||l!==0&&se.nodeType!==3||(O=_+l),se.nodeType===3&&(_+=se.nodeValue.length),(X=se.firstChild)!==null;)$=se,se=X;for(;;){if(se===t)break t;if($===a&&++F===d&&(b=_),$===f&&++ee===l&&(O=_),(X=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=X}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qf={focusedElem:t,selectionRange:a},Jc=!1,Xt=i;Xt!==null;)if(i=Xt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Xt=t;else for(;Xt!==null;){switch(i=Xt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ve=ra(a.type,d);t=l.getSnapshotBeforeUpdate(ve,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){rt(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Xt=t;break}Xt=i.return}}function mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fs(t,a),l&4&&Rl(5,a);break;case 1:if(fs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){rt(a,a.return,_)}else{var d=ra(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(a,a.return,_)}}l&64&&lv(a),l&512&&Cl(a,a.return);break;case 3:if(fs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){rt(a,a.return,_)}}break;case 27:i===null&&l&4&&dv(a);case 26:case 5:fs(t,a),i===null&&l&4&&cv(a),l&512&&Cl(a,a.return);break;case 12:fs(t,a);break;case 31:fs(t,a),l&4&&yv(t,a);break;case 13:fs(t,a),l&4&&vv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gA.bind(null,a),jA(t,a))));break;case 22:if(l=a.memoizedState!==null||hs,!l){i=i!==null&&i.memoizedState!==null||Pt,d=hs;var f=Pt;hs=l,(Pt=i)&&!f?ms(t,a,(a.subtreeFlags&8772)!==0):fs(t,a),hs=d,Pt=f}break;case 30:break;default:fs(t,a)}}function pv(t){var i=t.alternate;i!==null&&(t.alternate=null,pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ra(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,Tn=!1;function ds(t,i,a){for(a=a.child;a!==null;)gv(t,i,a),a=a.sibling}function gv(t,i,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:Pt||Hi(a,i),ds(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Hi(a,i);var l=pt,d=Tn;nr(a.type)&&(pt=a.stateNode,Tn=!1),ds(t,i,a),jl(a.stateNode),pt=l,Tn=d;break;case 5:Pt||Hi(a,i);case 6:if(l=pt,d=Tn,pt=null,ds(t,i,a),pt=l,Tn=d,pt!==null)if(Tn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){rt(a,i,f)}else try{pt.removeChild(a.stateNode)}catch(f){rt(a,i,f)}break;case 18:pt!==null&&(Tn?(t=pt,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):l_(pt,a.stateNode));break;case 4:l=pt,d=Tn,pt=a.stateNode.containerInfo,Tn=!0,ds(t,i,a),pt=l,Tn=d;break;case 0:case 11:case 14:case 15:Qs(2,a,i),Pt||Qs(4,a,i),ds(t,i,a);break;case 1:Pt||(Hi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uv(a,i,l)),ds(t,i,a);break;case 21:ds(t,i,a);break;case 22:Pt=(l=Pt)||a.memoizedState!==null,ds(t,i,a),Pt=l;break;default:ds(t,i,a)}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){rt(i,i.return,a)}}}function vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){rt(i,i.return,a)}}function lA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fv),i;default:throw Error(r(435,t.tag))}}function Oc(t,i){var a=lA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=yA.bind(null,t,l);l.then(d,d)}})}function Sn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(nr(b.type)){pt=b.stateNode,Tn=!1;break e}break;case 5:pt=b.stateNode,Tn=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(pt===null)throw Error(r(160));gv(f,_,d),pt=null,Tn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_v(i,t),i=i.sibling}var fi=null;function _v(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),bn(t),l&4&&(Qs(3,t,t.return),Rl(3,t),Qs(5,t,t.return));break;case 1:Sn(i,t),bn(t),l&512&&(Pt||a===null||Hi(a,a.return)),l&64&&hs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=fi;if(Sn(i,t),bn(t),l&512&&(Pt||a===null||Hi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Di]||f[Ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),on(f,l,a),f[Ot]=t,Mt(f),l=f;break e;case"link":var _=__("link","href",d).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=d.createElement(l),on(f,l,a),d.head.appendChild(f);break;case"meta":if(_=__("meta","content",d).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=d.createElement(l),on(f,l,a),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ot]=t,Mt(f),l=f}t.stateNode=l}else E_(d,t.type,t.stateNode);else t.stateNode=v_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?E_(d,t.type,t.stateNode):v_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Af(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,t),bn(t),l&512&&(Pt||a===null||Hi(a,a.return)),a!==null&&l&4&&Af(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,t),bn(t),l&512&&(Pt||a===null||Hi(a,a.return)),t.flags&32){d=t.stateNode;try{En(d,"")}catch(ve){rt(t,t.return,ve)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Af(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Cf=!0);break;case 6:if(Sn(i,t),bn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){rt(t,t.return,ve)}}break;case 3:if(Kc=null,d=fi,fi=$c(i.containerInfo),Sn(i,t),fi=d,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(i.containerInfo)}catch(ve){rt(t,t.return,ve)}Cf&&(Cf=!1,Ev(t));break;case 4:l=fi,fi=$c(t.stateNode.containerInfo),Sn(i,t),bn(t),fi=l;break;case 12:Sn(i,t),bn(t);break;case 31:Sn(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 13:Sn(i,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=Ht()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=hs,ee=Pt;if(hs=F||d,Pt=ee||O,Sn(i,t),Pt=ee,hs=F,bn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||hs||Pt||aa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var se=O.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ve){rt(O,O.return,ve)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(ve){rt(O,O.return,ve)}}}else if(i.tag===18){if(a===null){O=i;try{var X=O.stateNode;d?u_(X,!0):u_(O.stateNode,!1)}catch(ve){rt(O,O.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oc(t,a))));break;case 19:Sn(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),bn(t)}}function bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(hv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=wf(t);xc(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var b=wf(t);xc(t,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=wf(t);Rf(t,F,O);break;default:throw Error(r(161))}}catch(ee){rt(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(t,i.alternate,i),i=i.sibling}function aa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qs(4,i,i.return),aa(i);break;case 1:Hi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&uv(i,i.return,a),aa(i);break;case 27:jl(i.stateNode);case 26:case 5:Hi(i,i.return),aa(i);break;case 22:i.memoizedState===null&&aa(i);break;case 30:aa(i);break;default:aa(i)}t=t.sibling}}function ms(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:ms(d,f,a),Rl(4,f);break;case 1:if(ms(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){rt(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Wg(O[d],b)}catch(F){rt(l,l.return,F)}}a&&_&64&&lv(f),Cl(f,f.return);break;case 27:dv(f);case 26:case 5:ms(d,f,a),a&&l===null&&_&4&&cv(f),Cl(f,f.return);break;case 12:ms(d,f,a);break;case 31:ms(d,f,a),a&&_&4&&yv(d,f);break;case 13:ms(d,f,a),a&&_&4&&vv(d,f);break;case 22:f.memoizedState===null&&ms(d,f,a),Cl(f,f.return);break;case 30:break;default:ms(d,f,a)}i=i.sibling}}function If(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Df(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function mi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(t,i,a,l),i=i.sibling}function Tv(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:mi(t,i,a,l),d&2048&&Rl(9,i);break;case 1:mi(t,i,a,l);break;case 3:mi(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(d&2048){mi(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){rt(i,i.return,O)}}else mi(t,i,a,l);break;case 31:mi(t,i,a,l);break;case 13:mi(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?mi(t,i,a,l):Il(t,i):f._visibility&2?mi(t,i,a,l):(f._visibility|=2,Za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&If(_,i);break;case 24:mi(t,i,a,l),d&2048&&Df(i.alternate,i);break;default:mi(t,i,a,l)}}function Za(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,b=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Za(f,_,b,O,d),Rl(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?Za(f,_,b,O,d):Il(f,_):(ee._visibility|=2,Za(f,_,b,O,d)),d&&F&2048&&If(_.alternate,_);break;case 24:Za(f,_,b,O,d),d&&F&2048&&Df(_.alternate,_);break;default:Za(f,_,b,O,d)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Il(a,l),d&2048&&If(l.alternate,l);break;case 24:Il(a,l),d&2048&&Df(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Dl=8192;function eo(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Sv(t,i,a),t=t.sibling}function Sv(t,i,a){switch(t.tag){case 26:eo(t,i,a),t.flags&Dl&&t.memoizedState!==null&&KA(a,fi,t.memoizedState,t.memoizedProps);break;case 5:eo(t,i,a);break;case 3:case 4:var l=fi;fi=$c(t.stateNode.containerInfo),eo(t,i,a),fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,eo(t,i,a),Dl=l):eo(t,i,a));break;default:eo(t,i,a)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xt=l,wv(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Av(t),t=t.sibling}function Av(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):Nl(t);break;default:Nl(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xt=l,wv(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qs(8,i,i.return),Mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function wv(t,i){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Qs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var d=l.sibling,f=l.return;if(pv(l),l===a){Xt=null;break e}if(d!==null){d.return=f,Xt=d;break e}Xt=f}}}var uA={getCacheForType:function(t){var i=rn(Vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return rn(Vt).controller.signal}},cA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,Be=null,He=0,st=0,Vn=null,Xs=!1,to=!1,Nf=!1,ps=0,Tt=0,Ws=0,oa=0,xf=0,jn=0,no=0,xl=null,An=null,Of=!1,kc=0,Rv=0,Vc=1/0,jc=null,Js=null,Ft=0,Zs=null,io=null,gs=0,Mf=0,kf=null,Cv=null,Ol=0,Vf=null;function Ln(){return(tt&2)!==0&&He!==0?He&-He:J.T!==null?Bf():Lu()}function Iv(){if(jn===0)if((He&536870912)===0||Ke){var t=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),jn=t}else jn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),jn}function wn(t,i,a){(t===ct&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(so(t,0),er(t,He,jn,!1)),Vr(t,a),((tt&2)===0||t!==ct)&&(t===ct&&((tt&2)===0&&(oa|=a),Tt===4&&er(t,He,jn,!1)),Fi(t))}function Dv(t,i,a){if((tt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||si(t,i),d=l?fA(t,i):Lf(t,i,!0),f=l;do{if(d===0){to&&!l&&er(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!hA(a)){d=Lf(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;d=xl;var O=b.current.memoizedState.isDehydrated;if(O&&(so(b,_).flags|=256),_=Lf(b,_,!1),_!==2){if(Nf&&!O){b.errorRecoveryDisabledLanes|=f,oa|=f,d=4;break e}f=An,An=d,f!==null&&(An===null?An=f:An.push.apply(An,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){so(t,0),er(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:er(l,i,jn,!Xs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=kc+300-Ht(),10<d)){if(er(l,i,jn,!Xs),Ri(l,0,!0)!==0)break e;gs=i,l.timeoutHandle=a_(Nv.bind(null,l,a,An,jc,Of,i,jn,oa,no,Xs,f,"Throttled",-0,0),d);break e}Nv(l,a,An,jc,Of,i,jn,oa,no,Xs,f,null,-0,0)}}break}while(!0);Fi(t)}function Nv(t,i,a,l,d,f,_,b,O,F,ee,se,$,X){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Sv(i,f,se);var ve=(f&62914560)===f?kc-Ht():(f&4194048)===f?Rv-Ht():0;if(ve=QA(se,ve),ve!==null){gs=f,t.cancelPendingCommit=ve(Pv.bind(null,t,i,f,a,l,d,_,b,O,ee,se,null,$,X)),er(t,f,_,!F);return}}Pv(t,i,f,a,l,d,_,b,O)}function hA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!xn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function er(t,i,a,l){i&=~xf,i&=~oa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-bt(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&jr(t,a,i)}function Lc(){return(tt&6)===0?(Ml(0),!1):!0}function jf(){if(Be!==null){if(st===0)var t=Be.return;else t=Be,rs=Jr=null,Wd(t),Ka=null,pl=0,t=Be;for(;t!==null;)ov(t.alternate,t),t=t.return;Be=null}}function so(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),gs=0,jf(),ct=t,Be=a=is(t.current,null),He=i,st=0,Vn=null,Xs=!1,to=si(t,i),Nf=!1,no=jn=xf=oa=Ws=Tt=0,An=xl=null,Of=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-bt(l),f=1<<d;i|=t[d],l&=~f}return ps=i,sc(),a}function xv(t,i){je=null,J.H=bl,i===Ya||i===dc?(i=Yg(),st=3):i===Ud?(i=Yg(),st=4):st=i===mf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Be===null&&(Tt=1,Rc(t,Yn(i,t.current)))}function Ov(){var t=Mn.current;return t===null?!0:(He&4194048)===He?Wn===null:(He&62914560)===He||(He&536870912)!==0?t===Wn:!1}function Mv(){var t=J.H;return J.H=bl,t===null?bl:t}function kv(){var t=J.A;return J.A=uA,t}function Pc(){Tt=4,Xs||(He&4194048)!==He&&Mn.current!==null||(to=!0),(Ws&134217727)===0&&(oa&134217727)===0||ct===null||er(ct,He,jn,!1)}function Lf(t,i,a){var l=tt;tt|=2;var d=Mv(),f=kv();(ct!==t||He!==i)&&(jc=null,so(t,i)),i=!1;var _=Tt;e:do try{if(st!==0&&Be!==null){var b=Be,O=Vn;switch(st){case 8:jf(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var F=st;if(st=0,Vn=null,ro(t,b,O,F),a&&to){_=0;break e}break;default:F=st,st=0,Vn=null,ro(t,b,O,F)}}dA(),_=Tt;break}catch(ee){xv(t,ee)}while(!0);return i&&t.shellSuspendCounter++,rs=Jr=null,tt=l,J.H=d,J.A=f,Be===null&&(ct=null,He=0,sc()),_}function dA(){for(;Be!==null;)Vv(Be)}function fA(t,i){var a=tt;tt|=2;var l=Mv(),d=kv();ct!==t||He!==i?(jc=null,Vc=Ht()+500,so(t,i)):to=si(t,i);e:do try{if(st!==0&&Be!==null){i=Be;var f=Vn;t:switch(st){case 1:st=0,Vn=null,ro(t,i,f,1);break;case 2:case 9:if(Gg(f)){st=0,Vn=null,jv(i);break}i=function(){st!==2&&st!==9||ct!==t||(st=7),Fi(t)},f.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Gg(f)?(st=0,Vn=null,jv(i)):(st=0,Vn=null,ro(t,i,f,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var b=Be;if(_?T_(_):b.stateNode.complete){st=0,Vn=null;var O=b.sibling;if(O!==null)Be=O;else{var F=b.return;F!==null?(Be=F,Uc(F)):Be=null}break t}}st=0,Vn=null,ro(t,i,f,5);break;case 6:st=0,Vn=null,ro(t,i,f,6);break;case 8:jf(),Tt=6;break e;default:throw Error(r(462))}}mA();break}catch(ee){xv(t,ee)}while(!0);return rs=Jr=null,J.H=l,J.A=d,tt=a,Be!==null?0:(ct=null,He=0,sc(),Tt)}function mA(){for(;Be!==null&&!_t();)Vv(Be)}function Vv(t){var i=rv(t.alternate,t,ps);t.memoizedProps=t.pendingProps,i===null?Uc(t):Be=i}function jv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Wd(i);default:ov(a,i),i=Be=kg(i,ps),i=rv(a,i,ps)}t.memoizedProps=t.pendingProps,i===null?Uc(t):Be=i}function ro(t,i,a,l){rs=Jr=null,Wd(i),Ka=null,pl=0;var d=i.return;try{if(nA(t,d,i,a,He)){Tt=1,Rc(t,Yn(a,t.current)),Be=null;return}}catch(f){if(d!==null)throw Be=d,f;Tt=1,Rc(t,Yn(a,t.current)),Be=null;return}i.flags&32768?(Ke||l===1?t=!0:to||(He&536870912)!==0?t=!1:(Xs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){Lv(i,Xs);return}t=i.return;var a=rA(i.alternate,i,ps);if(a!==null){Be=a;return}if(i=i.sibling,i!==null){Be=i;return}Be=i=t}while(i!==null);Tt===0&&(Tt=5)}function Lv(t,i){do{var a=aA(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);Tt=6,Be=null}function Pv(t,i,a,l,d,f,_,b,O){t.cancelPendingCommit=null;do zc();while(Ft!==0);if((tt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Ad,pd(t,a,f,_,b,O),t===ct&&(Be=ct=null,He=0),io=i,Zs=t,gs=a,Mf=f,kf=d,Cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vA(Si,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=ue.p,ue.p=2,_=tt,tt|=4;try{oA(t,i,a)}finally{tt=_,ue.p=d,J.T=l}}Ft=1,Uv(),zv(),Bv()}}function Uv(){if(Ft===1){Ft=0;var t=Zs,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ue.p;ue.p=2;var d=tt;tt|=4;try{_v(i,t);var f=Qf,_=wg(t.containerInfo),b=f.focusedElem,O=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&Ag(b.ownerDocument.documentElement,b)){if(O!==null&&_d(b)){var F=O.start,ee=O.end;if(ee===void 0&&(ee=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(ee,b.value.length);else{var se=b.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var X=$.getSelection(),ve=b.textContent.length,Ae=Math.min(O.start,ve),ut=O.end===void 0?Ae:Math.min(O.end,ve);!X.extend&&Ae>ut&&(_=ut,ut=Ae,Ae=_);var B=bg(b,Ae),P=bg(b,ut);if(B&&P&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=se.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),Ae>ut?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(se=[],X=b;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ie=se[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Jc=!!Kf,Qf=Kf=null}finally{tt=d,ue.p=l,J.T=a}}t.current=i,Ft=2}}function zv(){if(Ft===2){Ft=0;var t=Zs,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ue.p;ue.p=2;var d=tt;tt|=4;try{mv(t,i.alternate,i)}finally{tt=d,ue.p=l,J.T=a}}Ft=3}}function Bv(){if(Ft===4||Ft===3){Ft=0,Ti();var t=Zs,i=io,a=gs,l=Cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,io=Zs=null,qv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Js=null),Zi(a),i=i.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ii,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,d=ue.p,ue.p=2,J.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{J.T=i,ue.p=d}}(gs&3)!==0&&zc(),Fi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Vf?Ol++:(Ol=0,Vf=t):Ol=0,Ml(0)}}function qv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function zc(){return Uv(),zv(),Bv(),Hv()}function Hv(){if(Ft!==5)return!1;var t=Zs,i=Mf;Mf=0;var a=Zi(gs),l=J.T,d=ue.p;try{ue.p=32>a?32:a,J.T=null,a=kf,kf=null;var f=Zs,_=gs;if(Ft=0,io=Zs=null,gs=0,(tt&6)!==0)throw Error(r(331));var b=tt;if(tt|=4,Av(f.current),Tv(f,f.current,_,a),tt=b,Ml(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ii,f)}catch{}return!0}finally{ue.p=d,J.T=l,qv(t,i)}}function Fv(t,i,a){i=Yn(a,i),i=ff(t.stateNode,i,2),t=$s(t,i,2),t!==null&&(Vr(t,2),Fi(t))}function rt(t,i,a){if(t.tag===3)Fv(t,t,a);else for(;i!==null;){if(i.tag===3){Fv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Js===null||!Js.has(l))){t=Yn(a,t),a=Gy(2),l=$s(i,a,2),l!==null&&($y(a,l,i,t),Vr(l,2),Fi(l));break}}i=i.return}}function Pf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cA;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Nf=!0,d.add(a),t=pA.bind(null,t,i,a),i.then(t,t))}function pA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(He&a)===a&&(Tt===4||Tt===3&&(He&62914560)===He&&300>Ht()-kc?(tt&2)===0&&so(t,0):xf|=a,no===He&&(no=0)),Fi(t)}function Gv(t,i){i===0&&(i=ju()),t=Qr(t,i),t!==null&&(Vr(t,i),Fi(t))}function gA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gv(t,a)}function yA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Gv(t,a)}function vA(t,i){return be(t,i)}var Bc=null,ao=null,Uf=!1,qc=!1,zf=!1,tr=0;function Fi(t){t!==ao&&t.next===null&&(ao===null?Bc=ao=t:ao=ao.next=t),qc=!0,Uf||(Uf=!0,EA())}function Ml(t,i){if(!zf&&qc){zf=!0;do for(var a=!1,l=Bc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=d&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qv(l,f))}else f=He,f=Ri(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(a=!0,Qv(l,f));l=l.next}while(a);zf=!1}}function _A(){$v()}function $v(){qc=Uf=!1;var t=0;tr!==0&&NA()&&(t=tr);for(var i=Ht(),a=null,l=Bc;l!==null;){var d=l.next,f=Yv(l,i);f===0?(l.next=null,a===null?Bc=d:a.next=d,d===null&&(ao=a)):(a=l,(t!==0||(f&3)!==0)&&(qc=!0)),l=d}Ft!==0&&Ft!==5||Ml(t),tr!==0&&(tr=0)}function Yv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-bt(f),b=1<<_,O=d[_];O===-1?((b&a)===0||(b&l)!==0)&&(d[_]=md(b,i)):O<=i&&(t.expiredLanes|=b),f&=~b}if(i=ct,a=He,a=Ri(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||si(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Nt(l),Zi(a)){case 2:case 8:a=Ds;break;case 32:a=Si;break;case 268435456:a=bi;break;default:a=Si}return l=Kv.bind(null,t),a=be(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Nt(l),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=He;return l=Ri(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dv(t,l,i),Yv(t,Ht()),t.callbackNode!=null&&t.callbackNode===a?Kv.bind(null,t):null)}function Qv(t,i){if(zc())return null;Dv(t,i,!0)}function EA(){OA(function(){(tt&6)!==0?be(ba,_A):$v()})}function Bf(){if(tr===0){var t=Ga;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),tr=t}return tr}function Xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function Wv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function TA(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Xv((d[Kt]||null).action),_=l.submitter;_&&(i=(i=_[Kt]||null)?Xv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var b=new Li("action","action",null,l,d);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(tr!==0){var O=_?Wv(d,_):new FormData(d);of(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=_?Wv(d,_):new FormData(d),of(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var qf=0;qf<bd.length;qf++){var Hf=bd[qf],SA=Hf.toLowerCase(),bA=Hf[0].toUpperCase()+Hf.slice(1);di(SA,"on"+bA)}di(Ig,"onAnimationEnd"),di(Dg,"onAnimationIteration"),di(Ng,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(Ub,"onTransitionRun"),di(zb,"onTransitionStart"),di(Bb,"onTransitionCancel"),di(xg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Jv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,F=b.currentTarget;if(b=b.listener,O!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=F;try{f(d)}catch(ee){ic(ee)}d.currentTarget=null,f=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,F=b.currentTarget,b=b.listener,O!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=F;try{f(d)}catch(ee){ic(ee)}d.currentTarget=null,f=O}}}}function qe(t,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var l=t+"__bubble";a.has(l)||(Zv(i,t,2,!1),a.add(l))}function Ff(t,i,a){var l=0;i&&(l|=4),Zv(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Gf(t){if(!t[Hc]){t[Hc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||Ff(a,!1,t),Ff(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,Ff("selectionchange",!1,i))}}function Zv(t,i,a,l){switch(I_(i)){case 2:var d=JA;break;case 8:d=ZA;break;default:d=am}a=d.bind(null,i,a,t),d=void 0,!Br||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function $f(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===d)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;b!==null;){if(_=Ni(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=f=_;continue e}b=b.parentNode}}l=l.return}js(function(){var F=f,ee=Hn(a),se=[];e:{var $=Og.get(t);if($!==void 0){var X=Li,ve=t;switch(t){case"keypress":if(Hr(a)===0)break e;case"keydown":case"keyup":X=ec;break;case"focusin":ve="focus",X=Gr;break;case"focusout":ve="blur",X=Gr;break;case"beforeblur":case"afterblur":X=Gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Ig:case Dg:case Ng:X=Yu;break;case xg:X=w;break;case"scroll":case"scrollend":X=sl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ns;break;case"toggle":case"beforetoggle":X=Ve}var Ae=(i&4)!==0,ut=!Ae&&(t==="scroll"||t==="scrollend"),B=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var P=F,H;P!==null;){var ie=P;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||B===null||(ie=li(P,B),ie!=null&&Ae.push(Vl(P,ie,H))),ut)break;P=P.return}0<Ae.length&&($=new X($,ve,null,a,ee),se.push({event:$,listeners:Ae}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",$&&a!==tl&&(ve=a.relatedTarget||a.fromElement)&&(Ni(ve)||ve[Ii]))break e;if((X||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,X?(ve=a.relatedTarget||a.toElement,X=F,ve=ve?Ni(ve):null,ve!==null&&(ut=u(ve),Ae=ve.tag,ve!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(X=null,ve=F),X!==ve)){if(Ae=rl,ie="onMouseLeave",B="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=ns,ie="onPointerLeave",B="onPointerEnter",P="pointer"),ut=X==null?$:Dn(X),H=ve==null?$:Dn(ve),$=new Ae(ie,P+"leave",X,a,ee),$.target=ut,$.relatedTarget=H,ie=null,Ni(ee)===F&&(Ae=new Ae(B,P+"enter",ve,a,ee),Ae.target=H,Ae.relatedTarget=ut,ie=Ae),ut=ie,X&&ve)t:{for(Ae=wA,B=X,P=ve,H=0,ie=B;ie;ie=Ae(ie))H++;ie=0;for(var Te=P;Te;Te=Ae(Te))ie++;for(;0<H-ie;)B=Ae(B),H--;for(;0<ie-H;)P=Ae(P),ie--;for(;H--;){if(B===P||P!==null&&B===P.alternate){Ae=B;break t}B=Ae(B),P=Ae(P)}Ae=null}else Ae=null;X!==null&&e_(se,$,X,Ae,!1),ve!==null&&ut!==null&&e_(se,ut,ve,Ae,!0)}}e:{if($=F?Dn(F):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var We=yg;else if(pg($))if(vg)We=jb;else{We=kb;var Ee=Mb}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&Da(F.elementType)&&(We=yg):We=Vb;if(We&&(We=We(t,F))){gg(se,We,a,ee);break e}Ee&&Ee(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Jo($,"number",$.value)}switch(Ee=F?Dn(F):window,t){case"focusin":(pg(Ee)||Ee.contentEditable==="true")&&(La=Ee,Ed=F,cl=null);break;case"focusout":cl=Ed=La=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Rg(se,a,ee);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":Rg(se,a,ee)}var Le;if(et)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ja?$r(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(zi&&a.locale!=="ko"&&(ja||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ja&&(Le=il()):(ji=ee,nl="value"in ji?ji.value:ji.textContent,ja=!0)),Ee=Fc(F,Fe),0<Ee.length&&(Fe=new Ui(Fe,t,null,a,ee),se.push({event:Fe,listeners:Ee}),Le?Fe.data=Le:(Le=Va(a),Le!==null&&(Fe.data=Le)))),(Le=Gn?Db(t,a):Nb(t,a))&&(Fe=Fc(F,"onBeforeInput"),0<Fe.length&&(Ee=new Ui("onBeforeInput","beforeinput",null,a,ee),se.push({event:Ee,listeners:Fe}),Ee.data=Le)),TA(se,t,F,a,ee)}Jv(se,i)})}function Vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Fc(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=li(t,a),d!=null&&l.unshift(Vl(t,d,f)),d=li(t,i),d!=null&&l.push(Vl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function wA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,i,a,l,d){for(var f=i._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,F=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||F===null||(O=F,d?(F=li(a,f),F!=null&&_.unshift(Vl(a,F,O))):d||(F=li(a,f),F!=null&&_.push(Vl(a,F,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var RA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(RA,`
`).replace(CA,"")}function n_(t,i){return i=t_(i),t_(t)===i}function lt(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":el(t,l,f);break;case"data":if(i!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&lt(t,i,"name",d.name,d,null),lt(t,i,"formEncType",d.formEncType,d,null),lt(t,i,"formMethod",d.formMethod,d,null),lt(t,i,"formTarget",d.formTarget,d,null)):(lt(t,i,"encType",d.encType,d,null),lt(t,i,"method",d.method,d,null),lt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Ca(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,Ca(t,a,l))}}function Yf(t,i,a,l,d,f){switch(a){case"style":el(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ca(t,a,l)}}}function on(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,f,_,a,null)}}d&&lt(t,i,"srcSet",a.srcSet,a,null),l&&lt(t,i,"src",a.src,a,null);return;case"input":qe("invalid",t);var b=f=_=d=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":d=ee;break;case"type":_=ee;break;case"checked":O=ee;break;case"defaultChecked":F=ee;break;case"value":f=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:lt(t,i,l,ee,a,null)}}Bu(t,f,b,O,F,_,d,!1);return;case"select":qe("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:lt(t,i,d,b,a,null)}i=f,a=_,t.multiple=!!l,i!=null?Os(t,!!l,i,!1):a!=null&&Os(t,!!l,a,!0);return;case"textarea":qe("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:lt(t,i,_,b,a,null)}Ms(t,l,d,f);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":lt(t,i,O,l,a,null));return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)qe(kl[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:lt(t,i,F,l,a,null)}return;default:if(Da(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Yf(t,i,ee,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&lt(t,i,b,l,a,null))}function IA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,b=null,O=null,F=null,ee=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=se;default:l.hasOwnProperty(X)||lt(t,i,X,null,l,se)}}for(var $ in l){var X=l[$];if(se=a[$],l.hasOwnProperty($)&&(X!=null||se!=null))switch($){case"type":f=X;break;case"name":d=X;break;case"checked":F=X;break;case"defaultChecked":ee=X;break;case"value":_=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:X!==se&&lt(t,i,$,X,l,se)}}Ia(t,_,b,O,F,ee,f,d);return;case"select":X=_=b=$=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(f)||lt(t,i,f,null,l,O)}for(d in l)if(f=l[d],O=a[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":$=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==O&&lt(t,i,d,f,l,O)}i=b,a=_,l=X,$!=null?Os(t,!!a,$,!1):!!l!=!!a&&(i!=null?Os(t,!!a,i,!0):Os(t,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,i,b,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":$=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&lt(t,i,_,d,l,f)}qu(t,$,X);return;case"option":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:lt(t,i,ve,null,l,$));for(O in l)$=l[O],X=a[O],l.hasOwnProperty(O)&&$!==X&&($!=null||X!=null)&&(O==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":lt(t,i,O,$,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)$=a[Ae],a.hasOwnProperty(Ae)&&$!=null&&!l.hasOwnProperty(Ae)&&lt(t,i,Ae,null,l,$);for(F in l)if($=l[F],X=a[F],l.hasOwnProperty(F)&&$!==X&&($!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:lt(t,i,F,$,l,X)}return;default:if(Da(i)){for(var ut in a)$=a[ut],a.hasOwnProperty(ut)&&$!==void 0&&!l.hasOwnProperty(ut)&&Yf(t,i,ut,void 0,l,$);for(ee in l)$=l[ee],X=a[ee],!l.hasOwnProperty(ee)||$===X||$===void 0&&X===void 0||Yf(t,i,ee,$,l,X);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&lt(t,i,B,null,l,$);for(se in l)$=l[se],X=a[se],!l.hasOwnProperty(se)||$===X||$==null&&X==null||lt(t,i,se,$,l,X)}function i_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,b=d.duration;if(f&&b&&i_(_)){for(_=0,b=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>b)break;var ee=O.transferSize,se=O.initiatorType;ee&&i_(se)&&(O=O.responseEnd,_+=ee*(O<b?1:(b-F)/(O-F)))}if(--l,i+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kf=null,Qf=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wf=null;function NA(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(MA)}:a_;function MA(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function l_(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[Di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&jl(t.ownerDocument.body);a=d}while(a);co(i)}function u_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jf(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kA(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function VA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function c_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function Zf(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function h_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function f_(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ra(t)}var Zn=new Map,m_=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ys=ue.d;ue.d={f:LA,r:PA,D:UA,C:zA,L:BA,m:qA,X:FA,S:HA,M:GA};function LA(){var t=ys.f(),i=Lc();return t||i}function PA(t){var i=qn(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):ys.r(t)}var oo=typeof document>"u"?null:document;function p_(t,i,a){var l=oo;if(l&&typeof i=="string"&&i){var d=_n(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),m_.has(d)||(m_.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),on(i,"link",t),Mt(i),l.head.appendChild(i)))}}function UA(t){ys.D(t),p_("dns-prefetch",t,null)}function zA(t,i){ys.C(t,i),p_("preconnect",t,i)}function BA(t,i,a){ys.L(t,i,a);var l=oo;if(l&&t&&i){var d='link[rel="preload"][as="'+_n(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+_n(a.imageSizes)+'"]')):d+='[href="'+_n(t)+'"]';var f=d;switch(i){case"style":f=lo(t);break;case"script":f=uo(t)}Zn.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Zn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Ll(f))||i==="script"&&l.querySelector(Pl(f))||(i=l.createElement("link"),on(i,"link",t),Mt(i),l.head.appendChild(i)))}}function qA(t,i){ys.m(t,i);var a=oo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=uo(t)}if(!Zn.has(f)&&(t=S({rel:"modulepreload",href:t},i),Zn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(f)))return}l=a.createElement("link"),on(l,"link",t),Mt(l),a.head.appendChild(l)}}}function HA(t,i,a){ys.S(t,i,a);var l=oo;if(l&&t){var d=xi(l).hoistableStyles,f=lo(t);i=i||"default";var _=d.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ll(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Zn.get(f))&&nm(t,a);var O=_=l.createElement("link");Mt(O),on(O,"link",t),O._p=new Promise(function(F,ee){O.onload=F,O.onerror=ee}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},d.set(f,_)}}}function FA(t,i){ys.X(t,i);var a=oo;if(a&&t){var l=xi(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Pl(d)),f||(t=S({src:t,async:!0},i),(i=Zn.get(d))&&im(t,i),f=a.createElement("script"),Mt(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function GA(t,i){ys.M(t,i);var a=oo;if(a&&t){var l=xi(a).hoistableScripts,d=uo(t),f=l.get(d);f||(f=a.querySelector(Pl(d)),f||(t=S({src:t,async:!0,type:"module"},i),(i=Zn.get(d))&&im(t,i),f=a.createElement("script"),Mt(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function g_(t,i,a,l){var d=(d=fe.current)?$c(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=xi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=xi(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Ll(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),f||$A(d,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=xi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function lo(t){return'href="'+_n(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function $A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),on(i,"link",a),Mt(i),t.head.appendChild(i))}function uo(t){return'[src="'+_n(t)+'"]'}function Pl(t){return"script[async]"+t}function v_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+_n(a.href)+'"]');if(l)return i.instance=l,Mt(l),l;var d=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),on(l,"style",d),Yc(l,a.precedence,t),i.instance=l;case"stylesheet":d=lo(a.href);var f=t.querySelector(Ll(d));if(f)return i.state.loading|=4,i.instance=f,Mt(f),f;l=y_(a),(d=Zn.get(d))&&nm(l,d),f=(t.ownerDocument||t).createElement("link"),Mt(f);var _=f;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),on(f,"link",l),i.state.loading|=4,Yc(f,a.precedence,t),i.instance=f;case"script":return f=uo(a.src),(d=t.querySelector(Pl(f)))?(i.instance=d,Mt(d),d):(l=a,(d=Zn.get(f))&&(l=S({},a),im(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Mt(d),on(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Yc(l,a.precedence,t));return i.instance}function Yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function __(t,i,a){if(Kc===null){var l=new Map,d=Kc=new Map;d.set(a,l)}else d=Kc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Di]||f[Ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function E_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function YA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=lo(l.href),f=i.querySelector(Ll(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Mt(f);return}f=i.ownerDocument||i,l=y_(l),(d=Zn.get(d))&&nm(l,d),f=f.createElement("link"),Mt(f);var _=f;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),on(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function QA(t,i){return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*DA());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Wc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(XA,t),Xc=null,Qc.call(t))}function XA(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=Qc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:le,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function WA(t,i,a,l,d,f,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function S_(t,i,a,l,d,f,_,b,O,F,ee,se){return t=new WA(t,i,a,_,O,F,ee,se,b),i=1,f===!0&&(i|=24),f=On(3,null,null,i),t.current=f,f.stateNode=t,i=jd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},zd(f),t}function b_(t){return t?(t=za,t):za}function A_(t,i,a,l,d,f){d=b_(d),l.context===null?l.context=d:l.pendingContext=d,l=Gs(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=$s(t,l,i),a!==null&&(wn(a,t,i),yl(a,t,i))}function w_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){w_(t,i),(t=t.alternate)&&w_(t,i)}function R_(t){if(t.tag===13||t.tag===31){var i=Qr(t,67108864);i!==null&&wn(i,t,67108864),rm(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var i=Ln();i=Lr(i);var a=Qr(t,i);a!==null&&wn(a,t,i),rm(t,i)}}var Jc=!0;function JA(t,i,a,l){var d=J.T;J.T=null;var f=ue.p;try{ue.p=2,am(t,i,a,l)}finally{ue.p=f,J.T=d}}function ZA(t,i,a,l){var d=J.T;J.T=null;var f=ue.p;try{ue.p=8,am(t,i,a,l)}finally{ue.p=f,J.T=d}}function am(t,i,a,l){if(Jc){var d=om(l);if(d===null)$f(t,i,l,Zc,a),D_(t,l);else if(tw(d,t,i,a,l))l.stopPropagation();else if(D_(t,l),i&4&&-1<ew.indexOf(t)){for(;d!==null;){var f=qn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=wi(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-bt(_);b.entanglements[1]|=O,_&=~O}Fi(f),(tt&6)===0&&(Vc=Ht()+500,Ml(0))}}break;case 31:case 13:b=Qr(f,2),b!==null&&wn(b,f,2),Lc(),rm(f,2)}if(f=om(l),f===null&&$f(t,i,l,Zc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else $f(t,i,l,null,a)}}function om(t){return t=Hn(t),lm(t)}var Zc=null;function lm(t){if(Zc=null,t=Ni(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zc=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case ba:return 2;case Ds:return 8;case Si:case Ze:return 32;case bi:return 268435456;default:return 32}default:return 32}}var um=!1,ir=null,sr=null,rr=null,zl=new Map,Bl=new Map,ar=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,i){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=qn(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function tw(t,i,a,l,d){switch(i){case"focusin":return ir=ql(ir,t,i,a,l,d),!0;case"dragenter":return sr=ql(sr,t,i,a,l,d),!0;case"mouseover":return rr=ql(rr,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return zl.set(f,ql(zl.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Bl.set(f,ql(Bl.get(f)||null,t,i,a,l,d)),!0}return!1}function N_(t){var i=Ni(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,ri(t.priority,function(){C_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ri(t.priority,function(){C_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return i=qn(a),i!==null&&R_(i),t.blockedOn=a,!1;i.shift()}return!0}function x_(t,i,a){eh(t)&&a.delete(i)}function nw(){um=!1,ir!==null&&eh(ir)&&(ir=null),sr!==null&&eh(sr)&&(sr=null),rr!==null&&eh(rr)&&(rr=null),zl.forEach(x_),Bl.forEach(x_)}function th(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nw)))}var nh=null;function O_(t){nh!==t&&(nh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var f=qn(a);f!==null&&(t.splice(i,3),i-=3,of(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function co(t){function i(O){return th(O,t)}ir!==null&&th(ir,t),sr!==null&&th(sr,t),rr!==null&&th(rr,t),zl.forEach(i),Bl.forEach(i);for(var a=0;a<ar.length;a++){var l=ar[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(a=ar[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&ar.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Kt]||null;if(typeof f=="function")_||O_(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Kt]||null)b=_.formAction;else if(lm(d)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),O_(a)}}}function M_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function cm(t){this._internalRoot=t}ih.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Ln();A_(a,l,t,i,null,null)},ih.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;A_(t.current,2,null,t,null,null),Lc(),i[Ii]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=Lu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ar.length&&i!==0&&i<ar[a].priority;a++);ar.splice(a,0,t),a===0&&N_(t)}};var k_=e.version;if(k_!=="19.2.4")throw Error(r(527,k_,"19.2.4"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{ii=sh.inject(iw),tn=sh}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",d=By,f=qy,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=S_(t,1,!1,null,null,a,l,null,d,f,_,M_),t[Ii]=i.current,Gf(t),new cm(i)},Fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,d="",f=By,_=qy,b=Hy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=S_(t,1,!0,i,a??null,l,d,O,f,_,b,M_),i.context=b_(null),a=i.current,l=Ln(),l=Lr(l),d=Gs(l),d.callback=null,$s(a,d,l),a=l,i.current.lanes=a,Vr(i,a),Fi(i),t[Ii]=i.current,Gf(t),new ih(i)},Fl.version="19.2.4",Fl}var F_;function fw(){if(F_)return fm.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),fm.exports=dw(),fm.exports}var mw=fw();var G_="popstate";function pw(s={}){function e(r,o){let{pathname:u,search:h,hash:m}=r.location;return Om("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ru(o)}return yw(e,n,null,s)}function yt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substring(2,10)}function $_(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:n,key:e&&e.key||r||gw()}}function ru({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Oo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function yw(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",p=null,v=T();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function T(){return(h.state||{idx:null}).idx}function S(){m="POP";let z=T(),W=z==null?null:z-v;v=z,p&&p({action:m,location:k.location,delta:W})}function A(z,W){m="PUSH";let K=Om(k.location,z,W);v=T()+1;let le=$_(K,v),pe=k.createHref(K);try{h.pushState(le,"",pe)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(pe)}u&&p&&p({action:m,location:k.location,delta:1})}function U(z,W){m="REPLACE";let K=Om(k.location,z,W);v=T();let le=$_(K,v),pe=k.createHref(K);h.replaceState(le,"",pe),u&&p&&p({action:m,location:k.location,delta:0})}function L(z){return vw(z)}let k={get action(){return m},get location(){return s(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,S),p=z,()=>{o.removeEventListener(G_,S),p=null}},createHref(z){return e(o,z)},createURL:L,encodeLocation(z){let W=L(z);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:U,go(z){return h.go(z)}};return k}function vw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:ru(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OT(s,e,n="/"){return _w(s,e,n,!1)}function _w(s,e,n,r){let o=typeof e=="string"?Oo(e):e,u=Ss(o.pathname||"/",n);if(u==null)return null;let h=MT(s);Ew(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let v=xw(u);m=Dw(h[p],v,r)}return m}function MT(s,e=[],n=[],r="",o=!1){let u=(h,m,p=o,v)=>{let T={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&p)return;yt(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let S=Es([r,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(yt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),MT(h.children,e,A,S,p)),!(h.path==null&&!h.index)&&e.push({path:S,score:Cw(S,h.index),routesMeta:A})};return s.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of kT(h.path))u(h,m,!0,p)}),e}function kT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=kT(r.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function Ew(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Iw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Tw=/^:[\w-]+$/,Sw=3,bw=2,Aw=1,ww=10,Rw=-2,Y_=s=>s==="*";function Cw(s,e){let n=s.split("/"),r=n.length;return n.some(Y_)&&(r+=Rw),e&&(r+=bw),n.filter(o=>!Y_(o)).reduce((o,u)=>o+(Tw.test(u)?Sw:u===""?Aw:ww),r)}function Iw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function Dw(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],v=m===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},T),A=p.route;if(!S&&v&&n&&!r[r.length-1].route.index&&(S=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Es([u,S.pathname]),pathnameBase:Vw(Es([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Es([u,S.pathnameBase]))}return h}function Rh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Nw(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:T,isOptional:S},A)=>{if(T==="*"){let L=m[A]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const U=m[A];return S&&!U?v[T]=void 0:v[T]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function Nw(s,e=!1,n=!0){vi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function xw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ss(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Mw(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Oo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=K_(n.substring(1),"/"):u=K_(n,e)):u=e,{pathname:u,search:jw(r),hash:Lw(o)}}function K_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(s){let e=kw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gp(s,e,n,r=!1){let o;typeof s=="string"?o=Oo(s):(o={...s},yt(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let S=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let p=Mw(o,m),v=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||T)&&(p.pathname+="/"),p}var Es=s=>s.join("/").replace(/\/\/+/g,"/"),Vw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Lw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Pw=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function zw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jT(s,e){let n=s;if(typeof n!="string"||!Ow.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(VT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Ss(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var Bw=["GET",...LT];new Set(Bw);var Mo=V.createContext(null);Mo.displayName="DataRouter";var Yh=V.createContext(null);Yh.displayName="DataRouterState";var qw=V.createContext(!1),PT=V.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var Hw=V.createContext(new Map);Hw.displayName="Fetchers";var Fw=V.createContext(null);Fw.displayName="Await";var zn=V.createContext(null);zn.displayName="Navigation";var vu=V.createContext(null);vu.displayName="Location";var Ji=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var yp=V.createContext(null);yp.displayName="RouteError";var UT="REACT_ROUTER_ERROR",Gw="REDIRECT",$w="ROUTE_ERROR_RESPONSE";function Yw(s){if(s.startsWith(`${UT}:${Gw}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Kw(s){if(s.startsWith(`${UT}:${$w}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Pw(e.status,e.statusText,e.data)}catch{}}function Qw(s,{relative:e}={}){yt(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(zn),{hash:o,pathname:u,search:h}=_u(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Es([n,u])),r.createHref({pathname:m,search:h,hash:o})}function ko(){return V.useContext(vu)!=null}function Dr(){return yt(ko(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(vu).location}var zT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BT(s){V.useContext(zn).static||V.useLayoutEffect(s)}function Cs(){let{isDataRoute:s}=V.useContext(Ji);return s?l1():Xw()}function Xw(){yt(ko(),"useNavigate() may be used only in the context of a <Router> component.");let s=V.useContext(Mo),{basename:e,navigator:n}=V.useContext(zn),{matches:r}=V.useContext(Ji),{pathname:o}=Dr(),u=JSON.stringify(pp(r)),h=V.useRef(!1);return BT(()=>{h.current=!0}),V.useCallback((p,v={})=>{if(vi(h.current,zT),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=gp(p,JSON.parse(u),o,v.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Es([e,T.pathname])),(v.replace?n.replace:n.push)(T,v.state,v)},[e,n,u,o,s])}V.createContext(null);function _u(s,{relative:e}={}){let{matches:n}=V.useContext(Ji),{pathname:r}=Dr(),o=JSON.stringify(pp(n));return V.useMemo(()=>gp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function Ww(s,e){return qT(s,e)}function qT(s,e,n,r,o){yt(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(zn),{matches:h}=V.useContext(Ji),m=h[h.length-1],p=m?m.params:{},v=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let K=S&&S.path||"";FT(v,!S||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=Dr(),U;if(e){let K=typeof e=="string"?Oo(e):e;yt(T==="/"||K.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),U=K}else U=A;let L=U.pathname||"/",k=L;if(T!=="/"){let K=T.replace(/^\//,"").split("/");k="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=OT(s,{pathname:k});vi(S||z!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),vi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=n1(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Es([T,u.encodeLocation?u.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:Es([T,u.encodeLocation?u.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),h,n,r,o);return e&&W?V.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},W):W}function Jw(){let s=o1(),e=Uw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,h)}var Zw=V.createElement(Jw,null),HT=class extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=Kw(s.digest);n&&(s=n)}let e=s!==void 0?V.createElement(Ji.Provider,{value:this.props.routeContext},V.createElement(yp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?V.createElement(e1,{error:s},e):e}};HT.contextType=qw;var vm=new WeakMap;function e1({children:s,error:e}){let{basename:n}=V.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Yw(e.digest);if(r){let o=vm.get(e);if(o)throw o;let u=jT(r.location,n);if(VT&&!vm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw vm.set(e,h),h}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function t1({routeContext:s,match:e,children:n}){let r=V.useContext(Mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ji.Provider,{value:s},n)}function n1(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let T=u.findIndex(S=>S.route.id&&h?.[S.route.id]!==void 0);yt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=T),S.route.id){let{loaderData:A,errors:U}=n,L=S.route.loader&&!A.hasOwnProperty(S.route.id)&&(!U||U[S.route.id]===void 0);if(S.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let v=n&&r?(T,S)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zw(n.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,A)=>{let U,L=!1,k=null,z=null;n&&(U=h&&S.route.id?h[S.route.id]:void 0,k=S.route.errorElement||Zw,m&&(p<0&&A===0?(FT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,z=null):p===A&&(L=!0,z=S.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,A+1)),K=()=>{let le;return U?le=k:L?le=z:S.route.Component?le=V.createElement(S.route.Component,null):S.route.element?le=S.route.element:le=T,V.createElement(t1,{match:S,routeContext:{outlet:T,matches:W,isDataRoute:n!=null},children:le})};return n&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?V.createElement(HT,{location:n.location,revalidation:n.revalidation,component:k,error:U,children:K(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:v}):K()},null)}function vp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(s){let e=V.useContext(Mo);return yt(e,vp(s)),e}function s1(s){let e=V.useContext(Yh);return yt(e,vp(s)),e}function r1(s){let e=V.useContext(Ji);return yt(e,vp(s)),e}function _p(s){let e=r1(s),n=e.matches[e.matches.length-1];return yt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function a1(){return _p("useRouteId")}function o1(){let s=V.useContext(yp),e=s1("useRouteError"),n=_p("useRouteError");return s!==void 0?s:e.errors?.[n]}function l1(){let{router:s}=i1("useNavigate"),e=_p("useNavigate"),n=V.useRef(!1);return BT(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{vi(n.current,zT),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Q_={};function FT(s,e,n){!e&&!Q_[s]&&(Q_[s]=!0,vi(!1,n))}V.memo(u1);function u1({routes:s,future:e,state:n,onError:r}){return qT(s,void 0,n,r,e)}function c1({to:s,replace:e,state:n,relative:r}){yt(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(zn);vi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(Ji),{pathname:h}=Dr(),m=Cs(),p=gp(s,pp(u),h,r==="path"),v=JSON.stringify(p);return V.useEffect(()=>{m(JSON.parse(v),{replace:e,state:n,relative:r})},[m,v,r,e,n]),null}function ur(s){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){yt(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Oo(n));let{pathname:v="/",search:T="",hash:S="",state:A=null,key:U="default"}=n,L=V.useMemo(()=>{let k=Ss(v,m);return k==null?null:{location:{pathname:k,search:T,hash:S,state:A,key:U},navigationType:r}},[m,v,T,S,A,U,r]);return vi(L!=null,`<Router basename="${m}"> is not able to match the URL "${v}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:V.createElement(zn.Provider,{value:p},V.createElement(vu.Provider,{children:e,value:L}))}function d1({children:s,location:e}){return Ww(Mm(s),e)}function Mm(s,e=[]){let n=[];return V.Children.forEach(s,(r,o)=>{if(!V.isValidElement(r))return;let u=[...e,o];if(r.type===V.Fragment){n.push.apply(n,Mm(r.props.children,u));return}yt(r.type===ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Mm(r.props.children,u)),n.push(h)}),n}var mh="get",ph="application/x-www-form-urlencoded";function Kh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function f1(s){return Kh(s)&&s.tagName.toLowerCase()==="button"}function m1(s){return Kh(s)&&s.tagName.toLowerCase()==="form"}function p1(s){return Kh(s)&&s.tagName.toLowerCase()==="input"}function g1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function y1(s,e){return s.button===0&&(!e||e==="_self")&&!g1(s)}var rh=null;function v1(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(s){return s!=null&&!_1.has(s)?(vi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):s}function E1(s,e){let n,r,o,u,h;if(m1(s)){let m=s.getAttribute("action");r=m?Ss(m,e):null,n=s.getAttribute("method")||mh,o=_m(s.getAttribute("enctype"))||ph,u=new FormData(s)}else if(f1(s)||p1(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?Ss(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||mh,o=_m(s.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||ph,u=new FormData(m,s),!v1()){let{name:v,type:T,value:S}=s;if(T==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(Kh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,r=null,o=ph,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function T1(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ss(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function S1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function A1(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await S1(u,n);return h.links?h.links():[]}return[]}));return I1(r.flat(1).filter(b1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(s,e,n,r,o,u){let h=(p,v)=>n[v]?p.route.id!==n[v].route.id:!0,m=(p,v)=>n[v].pathname!==p.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,v)=>h(p,v)||m(p,v)):u==="data"?e.filter((p,v)=>{let T=r.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,v)||m(p,v))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function w1(s,e,{includeHydrateFallback:n}={}){return R1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function R1(s){return[...new Set(s)]}function C1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function I1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(C1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function GT(){let s=V.useContext(Mo);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function D1(){let s=V.useContext(Yh);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=V.createContext(void 0);Tp.displayName="FrameworkContext";function $T(){let s=V.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function N1(s,e){let n=V.useContext(Tp),[r,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:v,onMouseLeave:T,onTouchStart:S}=e,A=V.useRef(null);V.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let k=W=>{W.forEach(K=>{h(K.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[s]),V.useEffect(()=>{if(r){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[r]);let U=()=>{o(!0)},L=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,A,{}]:[u,A,{onFocus:Gl(m,U),onBlur:Gl(p,L),onMouseEnter:Gl(v,U),onMouseLeave:Gl(T,L),onTouchStart:Gl(S,U)}]:[!1,A,{}]}function Gl(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function x1({page:s,...e}){let{router:n}=GT(),r=V.useMemo(()=>OT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?V.createElement(M1,{page:s,matches:r,...e}):null}function O1(s){let{manifest:e,routeModules:n}=$T(),[r,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return A1(s,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,e,n]),r}function M1({page:s,matches:e,...n}){let r=Dr(),{future:o,manifest:u,routeModules:h}=$T(),{basename:m}=GT(),{loaderData:p,matches:v}=D1(),T=V.useMemo(()=>X_(s,e,v,u,r,"data"),[s,e,v,u,r]),S=V.useMemo(()=>X_(s,e,v,u,r,"assets"),[s,e,v,u,r]),A=V.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let k=new Set,z=!1;if(e.forEach(K=>{let le=u.routes[K.route.id];!le||!le.hasLoader||(!T.some(pe=>pe.route.id===K.route.id)&&K.route.id in p&&h[K.route.id]?.shouldRevalidate||le.hasClientLoader?z=!0:k.add(K.route.id))}),k.size===0)return[];let W=T1(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return z&&k.size>0&&W.searchParams.set("_routes",e.filter(K=>k.has(K.route.id)).map(K=>K.route.id).join(",")),[W.pathname+W.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,u,T,e,s,h]),U=V.useMemo(()=>w1(S,u),[S,u]),L=O1(S);return V.createElement(V.Fragment,null,A.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),U.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),L.map(({key:k,link:z})=>V.createElement("link",{key:k,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function k1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.13.0")}catch{}function j1({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=V.useRef();o.current==null&&(o.current=pw({window:r,v5Compat:!0}));let u=o.current,[h,m]=V.useState({action:u.action,location:u.location}),p=V.useCallback(v=>{n===!1?m(v):V.startTransition(()=>m(v))},[n]);return V.useLayoutEffect(()=>u.listen(p),[u,p]),V.createElement(h1,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:A,...U},L){let{basename:k,unstable_useTransitions:z}=V.useContext(zn),W=typeof v=="string"&&YT.test(v),K=jT(v,k);v=K.to;let le=Qw(v,{relative:o}),[pe,G,te]=N1(r,U),I=z1(v,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:A,unstable_useTransitions:z});function C(N){e&&e(N),N.defaultPrevented||I(N)}let R=V.createElement("a",{...U,...te,href:K.absoluteURL||le,onClick:K.isExternal||u?e:C,ref:k1(L,G),target:p,"data-discover":!W&&n==="render"?"true":void 0});return pe&&!W?V.createElement(V.Fragment,null,R,V.createElement(x1,{page:le})):R});KT.displayName="Link";var L1=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...v},T){let S=_u(h,{relative:v.relative}),A=Dr(),U=V.useContext(Yh),{navigator:L,basename:k}=V.useContext(zn),z=U!=null&&G1(S)&&m===!0,W=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,K=A.pathname,le=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(K=K.toLowerCase(),le=le?le.toLowerCase():null,W=W.toLowerCase()),le&&k&&(le=Ss(le,k)||le);const pe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let G=K===W||!o&&K.startsWith(W)&&K.charAt(pe)==="/",te=le!=null&&(le===W||!o&&le.startsWith(W)&&le.charAt(W.length)==="/"),I={isActive:G,isPending:te,isTransitioning:z},C=G?e:void 0,R;typeof r=="function"?R=r(I):R=[r,G?"active":null,te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(I):u;return V.createElement(KT,{...v,"aria-current":C,className:R,ref:T,style:N,to:h,viewTransition:m},typeof p=="function"?p(I):p)});L1.displayName="NavLink";var P1=V.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=mh,action:m,onSubmit:p,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:A,...U},L)=>{let{unstable_useTransitions:k}=V.useContext(zn),z=H1(),W=F1(m,{relative:v}),K=h.toLowerCase()==="get"?"get":"post",le=typeof m=="string"&&YT.test(m),pe=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,I=te?.getAttribute("formmethod")||h,C=()=>z(te||G.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:A});k&&n!==!1?V.startTransition(()=>C()):C()};return V.createElement("form",{ref:L,method:K,action:W,onSubmit:r?p:pe,...U,"data-discover":!le&&s==="render"?"true":void 0})});P1.displayName="Form";function U1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(s){let e=V.useContext(Mo);return yt(e,U1(s)),e}function z1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let v=Cs(),T=Dr(),S=_u(s,{relative:u});return V.useCallback(A=>{if(y1(A,e)){A.preventDefault();let U=n!==void 0?n:ru(T)===ru(S),L=()=>v(s,{replace:U,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?V.startTransition(()=>L()):L()}},[T,v,S,n,r,e,s,o,u,h,m,p])}var B1=0,q1=()=>`__${String(++B1)}__`;function H1(){let{router:s}=QT("useSubmit"),{basename:e}=V.useContext(zn),n=a1(),r=s.fetch,o=s.navigate;return V.useCallback(async(u,h={})=>{let{action:m,method:p,encType:v,formData:T,body:S}=E1(u,e);if(h.navigate===!1){let A=h.fetcherKey||q1();await r(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:S,formMethod:h.method||p,formEncType:h.encType||v,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:S,formMethod:h.method||p,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function F1(s,{relative:e}={}){let{basename:n}=V.useContext(zn),r=V.useContext(Ji);yt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={..._u(s||".",{relative:e})},h=Dr();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();u.search=T?`?${T}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Es([n,u.pathname])),ru(u)}function G1(s,{relative:e}={}){let n=V.useContext(PT);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QT("useViewTransitionState"),o=_u(s,{relative:e});if(!n.isTransitioning)return!1;let u=Ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=Ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rh(o.pathname,h)!=null||Rh(o.pathname,u)!=null}const $1=()=>{};var W_={};const XT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Y1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],h=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,m=h?s[o+1]:0,p=o+2<s.length,v=p?s[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,U=v&63;p||(U=64,h||(A=64)),r.push(n[T],n[S],n[A],n[U])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(XT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Y1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const v=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||v==null||S==null)throw new K1;const A=u<<2|m>>4;if(r.push(A),v!==64){const U=m<<4&240|v>>2;if(r.push(U),S!==64){const L=v<<6&192|S;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(s){const e=XT(s);return WT.encodeByteArray(e,!0)},Ch=function(s){return Q1(s).replace(/\./g,"")},JT=function(s){try{return WT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const W1=()=>X1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Z1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&JT(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return $1()||W1()||J1()||Z1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ZT=s=>Qh()?.emulatorHosts?.[s],eR=s=>{const e=ZT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e0=()=>Qh()?.config,t0=s=>Qh()?.[`_${s}`];class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(s){return(await fetch(s,{credentials:"include"})).ok}function nR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Zl={};function iR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?s.emulator.push(e):s.prod.push(e);return s}function sR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let J_=!1;function i0(s,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Zl[s]===e||Zl[s]||J_)return;Zl[s]=e;function n(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=iR().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,U){A.setAttribute("width","24"),A.setAttribute("id",U),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{J_=!0,h()},A}function T(A,U){A.setAttribute("id",U),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=sR(r),U=n("text"),L=document.getElementById(U)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),W=n("preprendIcon"),K=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const le=A.element;m(le),T(z,k);const pe=v();p(K,W),le.append(K,L,z,pe),document.body.appendChild(le)}u?(L.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function aR(){const s=Qh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function fR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const mR="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mR,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?pR(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Is(o,m,r)}}function pR(s,e){return s.replace(gR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const gR=/\{\$([^}]+)}/g;function yR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ha(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],h=e[o];if(Z_(u)&&Z_(h)){if(!ha(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Tu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ql(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function vR(s,e){const n=new _R(s,e);return n.subscribe.bind(n)}class _R{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Em(){}function Yt(s){return s&&s._delegate?s._delegate:s}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(s){return s===la?void 0:s}function bR(s){return s.instantiationMode==="EAGER"}class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const wR={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},RR=Ge.INFO,CR={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},IR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=CR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const DR=(s,e)=>e.some(n=>s instanceof n);let eE,tE;function NR(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,km=new WeakMap,r0=new WeakMap,Tm=new WeakMap,bp=new WeakMap;function OR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(pr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,s)}).catch(()=>{}),bp.set(e,s),e}function MR(s){if(km.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});km.set(s,e)}let Vm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return km.get(s);if(e==="objectStoreNames")return s.objectStoreNames||r0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kR(s){Vm=s(Vm)}function VR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Sm(this),e,...n);return r0.set(r,e.sort?e.sort():[e]),pr(r)}:xR().includes(s)?function(...e){return s.apply(Sm(this),e),pr(s0.get(this))}:function(...e){return pr(s.apply(Sm(this),e))}}function jR(s){return typeof s=="function"?VR(s):(s instanceof IDBTransaction&&MR(s),DR(s,NR())?new Proxy(s,Vm):s)}function pr(s){if(s instanceof IDBRequest)return OR(s);if(Tm.has(s))return Tm.get(s);const e=jR(s);return e!==s&&(Tm.set(s,e),bp.set(e,s)),e}const Sm=s=>bp.get(s);function LR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),m=pr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(pr(h.result),p.oldVersion,p.newVersion,pr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],bm=new Map;function nE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=UR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}kR(s=>({...s,get:(e,n,r)=>nE(e,n)||s.get(e,n,r),has:(e,n)=>!!nE(e,n)||s.has(e,n)}));class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BR(s){return s.getComponent()?.type==="VERSION"}const jm="@firebase/app",iE="0.14.7";const bs=new Sp("@firebase/app"),qR="@firebase/app-compat",HR="@firebase/analytics-compat",FR="@firebase/analytics",GR="@firebase/app-check-compat",$R="@firebase/app-check",YR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",XR="@firebase/data-connect",WR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",rC="@firebase/performance-compat",aC="@firebase/remote-config",oC="@firebase/remote-config-compat",lC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",hC="@firebase/ai",dC="@firebase/firestore-compat",fC="firebase",mC="12.8.0";const Lm="[DEFAULT]",pC={[jm]:"fire-core",[qR]:"fire-core-compat",[FR]:"fire-analytics",[HR]:"fire-analytics-compat",[$R]:"fire-app-check",[GR]:"fire-app-check-compat",[YR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[XR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[rC]:"fire-perf-compat",[aC]:"fire-rc",[oC]:"fire-rc-compat",[lC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[dC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};const Ih=new Map,gC=new Map,Pm=new Map;function sE(s,e){try{s.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function wo(s){const e=s.name;if(Pm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,s);for(const n of Ih.values())sE(n,s);for(const n of gC.values())sE(n,s);return!0}function Ap(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ei(s){return s==null?!1:s.settings!==void 0}const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Eu("app","Firebase",yC);class vC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const jo=mC;function wp(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Lm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=e0()),!n)throw gr.create("no-options");const u=Ih.get(o);if(u){if(ha(n,u.options)&&ha(r,u.config))return u;throw gr.create("duplicate-app",{appName:o})}const h=new AR(o);for(const p of Pm.values())h.addComponent(p);const m=new vC(n,r,h);return Ih.set(o,m),m}function a0(s=Lm){const e=Ih.get(s);if(!e&&s===Lm&&e0())return wp();if(!e)throw gr.create("no-app",{appName:s});return e}function yr(s,e,n){let r=pC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(h.join(" "));return}wo(new da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _C="firebase-heartbeat-database",EC=1,au="firebase-heartbeat-store";let Am=null;function o0(){return Am||(Am=LR(_C,EC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Am}async function TC(s){try{const n=(await o0()).transaction(au),r=await n.objectStore(au).get(l0(s));return await n.done,r}catch(e){if(e instanceof Is)bs.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(n.message)}}}async function rE(s,e){try{const r=(await o0()).transaction(au,"readwrite");await r.objectStore(au).put(e,l0(s)),await r.done}catch(n){if(n instanceof Is)bs.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n?.message});bs.warn(r.message)}}}function l0(s){return`${s.name}!${s.options.appId}`}const SC=1024,bC=30;class AC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bC){const o=CC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:r}=wC(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function wC(s,e=SC){const n=[];let r=s.slice();for(const o of s){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),oE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?fR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(s){return Ch(JSON.stringify({version:2,heartbeats:s})).length}function CC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function IC(s){wo(new da("platform-logger",e=>new zR(e),"PRIVATE")),wo(new da("heartbeat",e=>new AC(e),"PRIVATE")),yr(jm,iE,s),yr(jm,iE,"esm2020"),yr("fire-js","")}IC("");function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DC=u0,c0=new Eu("auth","Firebase",u0());const Dh=new Sp("@firebase/auth");function NC(s,...e){Dh.logLevel<=Ge.WARN&&Dh.warn(`Auth (${jo}): ${s}`,...e)}function gh(s,...e){Dh.logLevel<=Ge.ERROR&&Dh.error(`Auth (${jo}): ${s}`,...e)}function _i(s,...e){throw Rp(s,...e)}function $i(s,...e){return Rp(s,...e)}function h0(s,e,n){const r={...DC(),[e]:n};return new Eu("auth","Firebase",r).create(e,{appName:s.name})}function Ts(s){return h0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return c0.create(s,...e)}function we(s,e,...n){if(!s)throw Rp(e,...n)}function vs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw gh(e),new Error(e)}function As(s,e){s||vs(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function xC(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}function OC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||lR()||"connection"in navigator)?navigator.onLine:!0}function MC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,As(n>e,"Short delay should be less than long delay!"),this.isMobile=rR()||uR()}get(){return OC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(s,e){As(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class d0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jC=new Su(3e4,6e4);function Nr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xr(s,e,n,r,o={}){return f0(s,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=Tu({key:s.config.apiKey,...h}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:p,...u};return oR()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Vo(s.emulatorConfig.host)&&(v.credentials="include"),d0.fetch()(await m0(s,s.config.apiHost,n,m),v)})}async function f0(s,e,n){s._canInitEmulator=!1;const r={...kC,...e};try{const o=new PC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,v]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ah(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw ah(s,"user-disabled",h);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw h0(s,T,v);_i(s,T)}}catch(o){if(o instanceof Is)throw o;_i(s,"network-request-failed",{message:String(o)})}}async function bu(s,e,n,r,o={}){const u=await xr(s,e,n,r,o);return"mfaPendingCredential"in u&&_i(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function m0(s,e,n,r){const o=`${e}${n}?${r}`,u=s,h=u.config.emulator?Cp(s.config,o):`${s.config.apiScheme}://${o}`;return VC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function LC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),jC.get())})}}function ah(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$i(s,e,r);return o.customData._tokenResponse=n,o}function uE(s){return s!==void 0&&s.enterprise!==void 0}class UC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zC(s,e){return xr(s,"GET","/v2/recaptchaConfig",Nr(s,e))}async function BC(s,e){return xr(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return xr(s,"POST","/v1/accounts:lookup",e)}function eu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(s,e=!1){const n=Yt(s),r=await n.getIdToken(e),o=Ip(r);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:eu(wm(o.auth_time)),issuedAtTime:eu(wm(o.iat)),expirationTime:eu(wm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(s){return Number(s)*1e3}function Ip(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=JT(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cE(s){const e=Ip(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ou(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&HC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function HC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(s){const e=s.auth,n=await s.getIdToken(),r=await ou(s,Nh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?p0(o.providerUserInfo):[],h=$C(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!h?.length,v=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function GC(s){const e=Yt(s);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function p0(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function YC(s,e){const n=await f0(s,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await m0(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&Vo(s.emulatorConfig.host)&&(p.credentials="include"),d0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KC(s,e){return xr(s,"POST","/v2/accounts:revokeToken",Nr(s,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=cE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await YC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new vo;return r&&(we(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return vs("not implemented")}}function lr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await ou(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,v=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:U,providerData:L,stsTokenManager:k}=n;we(S&&k,e,"internal-error");const z=vo.fromJSON(this.name,k);we(typeof S=="string",e,"internal-error"),lr(r,e.name),lr(o,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof U=="boolean",e,"internal-error"),lr(u,e.name),lr(h,e.name),lr(m,e.name),lr(p,e.name),lr(v,e.name),lr(T,e.name);const W=new pi({uid:S,auth:e,email:o,emailVerified:A,displayName:r,isAnonymous:U,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:v,lastLoginAt:T});return L&&Array.isArray(L)&&(W.providerData=L.map(K=>({...K}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,r=!1){const o=new vo;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?p0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new vo;m.updateFromIdToken(r);const p=new pi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,v),p}}const hE=new Map;function _s(s){As(s instanceof Function,"Expected a class definition");let e=hE.get(s);return e?(As(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,hE.set(s,e),e)}class g0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g0.type="NONE";const dE=g0;function yh(s,e,n){return`firebase:${s}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(_s(dE),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||_s(dE);const h=yh(r,e.config.apiKey,e.name);let m=null;for(const v of n)try{const T=await v._get(h);if(T){let S;if(typeof T=="string"){const A=await Nh(e,{idToken:T}).catch(()=>{});if(!A)break;S=await pi._fromGetAccountInfoResponse(e,A,T)}else S=pi._fromJSON(e,T);v!==u&&(m=S),u=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,r):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new _o(u,e,r))}}function fE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(b0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function y0(s=gn()){return/firefox\//i.test(s)}function v0(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(s=gn()){return/crios\//i.test(s)}function E0(s=gn()){return/iemobile/i.test(s)}function T0(s=gn()){return/android/i.test(s)}function S0(s=gn()){return/blackberry/i.test(s)}function b0(s=gn()){return/webos/i.test(s)}function Dp(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QC(s=gn()){return Dp(s)&&!!window.navigator?.standalone}function XC(){return cR()&&document.documentMode===10}function A0(s=gn()){return Dp(s)||T0(s)||b0(s)||S0(s)||/windows phone/i.test(s)||E0(s)}function w0(s,e=[]){let n;switch(s){case"Browser":n=fE(gn());break;case"Worker":n=`${fE(gn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${r}`}class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JC(s,e={}){return xr(s,"GET","/v2/passwordPolicy",Nr(s,e))}const ZC=6;class eI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Ts(this));const n=e?Yt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),n=new eI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _a(s){return Yt(s)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(s){Xh=s}function R0(s){return Xh.loadJS(s)}function iI(){return Xh.recaptchaEnterpriseScript}function sI(){return Xh.gapiScript}function rI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class aI{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lI="recaptcha-enterprise",C0="NO_RECAPTCHA";class uI{constructor(e){this.type=lI,this.auth=_a(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{zC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new UC(p);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;uE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(C0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&uE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iI();p.length!==0&&(p+=m),R0(p).then(()=>{o(m,u,h)}).catch(v=>{h(v)})}}).catch(m=>{h(m)})})}}async function pE(s,e,n,r=!1,o=!1){const u=new uI(s);let h;if(o)h=C0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await pE(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(u)})}function cI(s,e){const n=Ap(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function hI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_s);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function dI(s,e,n){const r=_a(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=I0(e),{host:h,port:m}=fI(e),p=m===null?"":`:${m}`,v={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(ha(v,r.config.emulator)&&ha(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Vo(h)?(n0(`${u}//${h}${p}`),i0("Auth",!0)):mI()}function I0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function fI(s){const e=I0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:gE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:gE(h)}}}function gE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Np{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function pI(s,e){return xr(s,"POST","/v1/accounts:signUp",e)}async function gI(s,e){return bu(s,"POST","/v1/accounts:signInWithPassword",Nr(s,e))}async function yI(s,e){return bu(s,"POST","/v1/accounts:signInWithEmailLink",Nr(s,e))}async function vI(s,e){return bu(s,"POST","/v1/accounts:signInWithEmailLink",Nr(s,e))}class lu extends Np{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",gI);case"emailLink":return yI(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",pI);case"emailLink":return vI(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eo(s,e){return bu(s,"POST","/v1/accounts:signInWithIdp",Nr(s,e))}const _I="http://localhost";class fa extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new fa(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:_I,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}function EI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TI(s){const e=Kl(Ql(s)).link,n=e?Kl(Ql(e)).deep_link_id:null,r=Kl(Ql(s)).deep_link_id;return(r?Kl(Ql(r)).link:null)||r||n||e||s}class xp{constructor(e){const n=Kl(Ql(e)),r=n.apiKey??null,o=n.oobCode??null,u=EI(n.mode??null);we(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TI(e);try{return new xp(n)}catch{return null}}}class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xp.parseLink(n);return we(r,"argument-error"),lu._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends Au{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class dr extends Au{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class fr extends Au{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";async function SI(s,e){return bu(s,"POST","/v1/accounts:signUp",Nr(s,e))}class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await pi._fromIdTokenResponse(e,r,o),h=yE(r);return new ma({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=yE(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function yE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Oh extends Is{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Oh(e,n,r,o)}}function N0(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(s,u,e,r):u})}async function bI(s,e,n=!1){const r=await ou(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ma._forOperation(s,"link",r)}async function AI(s,e,n=!1){const{auth:r}=s;if(ei(r.app))return Promise.reject(Ts(r));const o="reauthenticate";try{const u=await ou(s,N0(r,o,e,s),n);we(u.idToken,r,"internal-error");const h=Ip(u.idToken);we(h,r,"internal-error");const{sub:m}=h;return we(s.uid===m,r,"user-mismatch"),ma._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_i(r,"user-mismatch"),u}}async function x0(s,e,n=!1){if(ei(s.app))return Promise.reject(Ts(s));const r="signIn",o=await N0(s,r,e),u=await ma._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function wI(s,e){return x0(_a(s),e)}async function O0(s){const e=_a(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RI(s,e,n){if(ei(s.app))return Promise.reject(Ts(s));const r=_a(s),h=await Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&O0(s),p}),m=await ma._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function CI(s,e,n){return ei(s.app)?Promise.reject(Ts(s)):wI(Yt(s),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O0(s),r})}function II(s,e){return Yt(s).setPersistence(e)}function DI(s,e,n,r){return Yt(s).onIdTokenChanged(e,n,r)}function NI(s,e,n){return Yt(s).beforeAuthStateChanged(e,n)}function xI(s,e,n,r){return Yt(s).onAuthStateChanged(e,n,r)}function M0(s){return Yt(s).signOut()}const Mh="__sak";class k0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OI=1e3,MI=10;class V0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);XC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V0.type="LOCAL";const j0=V0;class L0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L0.type="SESSION";const Op=L0;function kI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async v=>v(n.origin,u)),p=await kI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Mp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class VI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const v=Mp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Yi(){return window}function jI(s){Yi().location.href=s}function P0(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function LI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PI(){return navigator?.serviceWorker?.controller||null}function UI(){return P0()?self:null}const U0="firebaseLocalStorageDb",zI=1,kh="firebaseLocalStorage",z0="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(s,e){return s.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function BI(){const s=indexedDB.deleteDatabase(U0);return new wu(s).toPromise()}function qm(){const s=indexedDB.open(U0,zI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(kh,{keyPath:z0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await BI(),e(await qm()))})})}async function vE(s,e,n){const r=Jh(s,!0).put({[z0]:e,value:n});return new wu(r).toPromise()}async function qI(s,e){const n=Jh(s,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function _E(s,e){const n=Jh(s,!0).delete(e);return new wu(n).toPromise()}const HI=800,FI=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(UI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LI(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await vE(e,Mh,"1"),await _E(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const GI=B0;new Su(3e4,6e4);function $I(s,e){return e?_s(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YI(s){return x0(s.auth,new kp(s),s.bypassAuthState)}function KI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),AI(n,new kp(s),s.bypassAuthState)}async function QI(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),bI(n,new kp(s),s.bypassAuthState)}class q0{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return KI;default:_i(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XI=new Su(2e3,1e4);class go extends q0{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}go.currentPopupAction=null;const WI="pendingRedirect",vh=new Map;class JI extends q0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await ZI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(s,e){const n=nD(e),r=tD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function eD(s,e){vh.set(s._key(),e)}function tD(s){return _s(s._redirectPersistence)}function nD(s){return yh(WI,s.config.apiKey,s.name)}async function iD(s,e,n=!1){if(ei(s.app))return Promise.reject(Ts(s));const r=_a(s),o=$I(r,e),h=await new JI(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const sD=600*1e3;class rD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!H0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError($i(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sD&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function H0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(s);default:return!1}}async function oD(s,e={}){return xr(s,"GET","/v1/projects",e)}const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;async function cD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oD(s);for(const n of e)try{if(hD(n))return}catch{}_i(s,"unauthorized-domain")}function hD(s){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!uD.test(n))return!1;if(lD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const dD=new Su(3e4,6e4);function TE(){const s=Yi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fD(s){return new Promise((e,n)=>{function r(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n($i(s,"network-request-failed"))},timeout:dD.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)r();else{const o=rI("iframefcb");return Yi()[o]=()=>{gapi.load?r():n($i(s,"network-request-failed"))},R0(`${sI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw _h=null,e})}let _h=null;function mD(s){return _h=_h||fD(s),_h}const pD=new Su(5e3,15e3),gD="__/auth/iframe",yD="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Cp(e,yD):`https://${s.config.authDomain}/${gD}`,r={apiKey:e.apiKey,appName:s.name,v:jo},o=_D.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Tu(r).slice(1)}`}async function TD(s){const e=await mD(s),n=Yi().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:ED(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=$i(s,"network-request-failed"),m=Yi().setTimeout(()=>{u(h)},pD.get());function p(){Yi().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(h)})}))}const SD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bD=500,AD=600,wD="_blank",RD="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CD(s,e,n,r=bD,o=AD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...SD,width:r.toString(),height:o.toString(),top:u,left:h},v=gn().toLowerCase();n&&(m=_0(v)?wD:n),y0(v)&&(e=e||RD,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[U,L])=>`${A}${U}=${L},`,"");if(QC(v)&&m!=="_self")return ID(e||"",m),new SE(null);const S=window.open(e||"",m,T);we(S,s,"popup-blocked");try{S.focus()}catch{}return new SE(S)}function ID(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const DD="__/auth/handler",ND="emulator/auth/handler",xD=encodeURIComponent("fac");async function bE(s,e,n,r,o,u){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:jo,eventId:o};if(e instanceof D0){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",yR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(e instanceof Au){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await s._getAppCheckToken(),v=p?`#${xD}=${encodeURIComponent(p)}`:"";return`${OD(s)}?${Tu(m).slice(1)}${v}`}function OD({config:s}){return s.emulator?Cp(s,ND):`https://${s.authDomain}/${DD}`}const Rm="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Op,this._completeRedirectFn=iD,this._overrideRedirectResult=eD}async _openPopup(e,n,r,o){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bE(e,n,r,Um(),o);return CD(e,u,Mp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await bE(e,n,r,Um(),o);return jI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(As(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TD(e),r=new rD(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A0()||v0()||Dp()}}const kD=MD;var AE="@firebase/auth",wE="1.12.0";class VD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LD(s){wo(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(s)},v=new tI(r,o,u,p);return hI(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wo(new da("auth-internal",e=>{const n=_a(e.getProvider("auth").getImmediate());return(r=>new VD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(AE,wE,jD(s)),yr(AE,wE,"esm2020")}const PD=300,UD=t0("authIdTokenMaxAge")||PD;let RE=null;const zD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UD)return;const o=n?.token;RE!==o&&(RE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function F0(s=a0()){const e=Ap(s,"auth");if(e.isInitialized())return e.getImmediate();const n=cI(s,{popupRedirectResolver:kD,persistence:[GI,j0,Op]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=zD(u.toString());NI(n,h,()=>h(n.currentUser)),DI(n,m=>h(m))}}const o=ZT("auth");return o&&dI(n,`http://${o}`),n}function BD(){return document.getElementsByTagName("head")?.[0]??document}nI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=$i("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",BD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LD("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,G0;(function(){var s;function e(I,C){function R(){}R.prototype=C.prototype,I.F=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(N,x,M){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return C.prototype[x].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,R){R||(R=0);const N=Array(16);if(typeof C=="string")for(var x=0;x<16;++x)N[x]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(x=0;x<16;++x)N[x]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],x=I.g[2];let M=I.g[3],D;D=C+(M^R&(x^M))+N[0]+3614090360&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(x^C&(R^x))+N[1]+3905402710&4294967295,M=C+(D<<12&4294967295|D>>>20),D=x+(R^M&(C^R))+N[2]+606105819&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(C^x&(M^C))+N[3]+3250441966&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(M^R&(x^M))+N[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(x^C&(R^x))+N[5]+1200080426&4294967295,M=C+(D<<12&4294967295|D>>>20),D=x+(R^M&(C^R))+N[6]+2821735955&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(C^x&(M^C))+N[7]+4249261313&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(M^R&(x^M))+N[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(x^C&(R^x))+N[9]+2336552879&4294967295,M=C+(D<<12&4294967295|D>>>20),D=x+(R^M&(C^R))+N[10]+4294925233&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(C^x&(M^C))+N[11]+2304563134&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(M^R&(x^M))+N[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=M+(x^C&(R^x))+N[13]+4254626195&4294967295,M=C+(D<<12&4294967295|D>>>20),D=x+(R^M&(C^R))+N[14]+2792965006&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(C^x&(M^C))+N[15]+1236535329&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(x^M&(R^x))+N[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(C^R))+N[6]+3225465664&4294967295,M=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(M^C))+N[11]+643717713&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(x^M))+N[0]+3921069994&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^M&(R^x))+N[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(C^R))+N[10]+38016083&4294967295,M=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(M^C))+N[15]+3634488961&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(x^M))+N[4]+3889429448&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^M&(R^x))+N[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(C^R))+N[14]+3275163606&4294967295,M=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(M^C))+N[3]+4107603335&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(x^M))+N[8]+1163531501&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^M&(R^x))+N[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(C^R))+N[2]+4243563512&4294967295,M=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(M^C))+N[7]+1735328473&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^C&(x^M))+N[12]+2368359562&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(R^x^M)+N[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^x)+N[8]+2272392833&4294967295,M=C+(D<<11&4294967295|D>>>21),D=x+(M^C^R)+N[11]+1839030562&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^C)+N[14]+4259657740&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^M)+N[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^x)+N[4]+1272893353&4294967295,M=C+(D<<11&4294967295|D>>>21),D=x+(M^C^R)+N[7]+4139469664&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^C)+N[10]+3200236656&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^M)+N[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^x)+N[0]+3936430074&4294967295,M=C+(D<<11&4294967295|D>>>21),D=x+(M^C^R)+N[3]+3572445317&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^C)+N[6]+76029189&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^M)+N[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=M+(C^R^x)+N[12]+3873151461&4294967295,M=C+(D<<11&4294967295|D>>>21),D=x+(M^C^R)+N[15]+530742520&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^C)+N[2]+3299628645&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(x^(R|~M))+N[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~x))+N[7]+1126891415&4294967295,M=C+(D<<10&4294967295|D>>>22),D=x+(C^(M|~R))+N[14]+2878612391&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~C))+N[5]+4237533241&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~M))+N[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~x))+N[3]+2399980690&4294967295,M=C+(D<<10&4294967295|D>>>22),D=x+(C^(M|~R))+N[10]+4293915773&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~C))+N[1]+2240044497&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~M))+N[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~x))+N[15]+4264355552&4294967295,M=C+(D<<10&4294967295|D>>>22),D=x+(C^(M|~R))+N[6]+2734768916&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~C))+N[13]+1309151649&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~M))+N[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=M+(R^(C|~x))+N[11]+3174756917&4294967295,M=C+(D<<10&4294967295|D>>>22),D=x+(C^(M|~R))+N[2]+718787259&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~C))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const R=C-this.blockSize,N=this.C;let x=this.h,M=0;for(;M<C;){if(x==0)for(;M<=R;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<C;)if(N[x++]=I.charCodeAt(M++),x==this.blockSize){o(this,N),x=0;break}}else for(;M<C;)if(N[x++]=I[M++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)I[C++]=this.g[R]>>>N&255;return I};function u(I,C){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function h(I,C){this.h=C;const R=[];let N=!0;for(let x=I.length-1;x>=0;x--){const M=I[x]|0;N&&M==C||(R[x]=M,N=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(C){return new h([C|0],C<0?-1:0)}):new h([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return z(v(-I));const C=[];let R=1;for(let N=0;I>=R;N++)C[N]=I/R|0,R*=4294967296;return new h(C,0)}function T(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return z(T(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(C,8));let N=S;for(let M=0;M<I.length;M+=8){var x=Math.min(8,I.length-M);const D=parseInt(I.substring(M,M+x),C);x<8?(x=v(Math.pow(C,x)),N=N.j(x).add(v(D))):(N=N.j(R),N=N.add(v(D)))}return N}var S=p(0),A=p(1),U=p(16777216);s=h.prototype,s.m=function(){if(k(this))return-z(this).m();let I=0,C=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);I+=(N>=0?N:4294967296+N)*C,C*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L(this))return"0";if(k(this))return"-"+z(this).toString(I);const C=v(Math.pow(I,6));var R=this;let N="";for(;;){const x=pe(R,C).g;R=W(R,x.j(C));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=x,L(R))return M+N;for(;M.length<6;)M="0"+M;N=M+N}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function L(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function k(I){return I.h==-1}s.l=function(I){return I=W(this,I),k(I)?-1:L(I)?0:1};function z(I){const C=I.g.length,R=[];for(let N=0;N<C;N++)R[N]=~I.g[N];return new h(R,~I.h).add(A)}s.abs=function(){return k(this)?z(this):this},s.add=function(I){const C=Math.max(this.g.length,I.g.length),R=[];let N=0;for(let x=0;x<=C;x++){let M=N+(this.i(x)&65535)+(I.i(x)&65535),D=(M>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);N=D>>>16,M&=65535,D&=65535,R[x]=D<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function W(I,C){return I.add(z(C))}s.j=function(I){if(L(this)||L(I))return S;if(k(this))return k(I)?z(this).j(z(I)):z(z(this).j(I));if(k(I))return z(this.j(z(I)));if(this.l(U)<0&&I.l(U)<0)return v(this.m()*I.m());const C=this.g.length+I.g.length,R=[];for(var N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let x=0;x<I.g.length;x++){const M=this.i(N)>>>16,D=this.i(N)&65535,ye=I.i(x)>>>16,Ue=I.i(x)&65535;R[2*N+2*x]+=D*Ue,K(R,2*N+2*x),R[2*N+2*x+1]+=M*Ue,K(R,2*N+2*x+1),R[2*N+2*x+1]+=D*ye,K(R,2*N+2*x+1),R[2*N+2*x+2]+=M*ye,K(R,2*N+2*x+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new h(R,0)};function K(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function le(I,C){this.g=I,this.h=C}function pe(I,C){if(L(C))throw Error("division by zero");if(L(I))return new le(S,S);if(k(I))return C=pe(z(I),C),new le(z(C.g),z(C.h));if(k(C))return C=pe(I,z(C)),new le(z(C.g),C.h);if(I.g.length>30){if(k(I)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var R=A,N=C;N.l(I)<=0;)R=G(R),N=G(N);var x=te(R,1),M=te(N,1);for(N=te(N,2),R=te(R,2);!L(N);){var D=M.add(N);D.l(I)<=0&&(x=x.add(R),M=D),N=te(N,1),R=te(R,1)}return C=W(I,x.j(C)),new le(x,C)}for(x=S;I.l(C)>=0;){for(R=Math.max(1,Math.floor(I.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),M=v(R),D=M.j(C);k(D)||D.l(I)>0;)R-=N,M=v(R),D=M.j(C);L(M)&&(M=A),x=x.add(M),I=W(I,D)}return new le(x,I)}s.B=function(I){return pe(this,I).h},s.and=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<C;N++)R[N]=this.i(N)&I.i(N);return new h(R,this.h&I.h)},s.or=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<C;N++)R[N]=this.i(N)|I.i(N);return new h(R,this.h|I.h)},s.xor=function(I){const C=Math.max(this.g.length,I.g.length),R=[];for(let N=0;N<C;N++)R[N]=this.i(N)^I.i(N);return new h(R,this.h^I.h)};function G(I){const C=I.g.length+1,R=[];for(let N=0;N<C;N++)R[N]=I.i(N)<<1|I.i(N-1)>>>31;return new h(R,I.h)}function te(I,C){const R=C>>5;C%=32;const N=I.g.length-R,x=[];for(let M=0;M<N;M++)x[M]=C>0?I.i(M+R)>>>C|I.i(M+R+1)<<32-C:I.i(M+R);return new h(x,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=T,vr=h}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $0,Xl,Y0,Eh,Hm,K0,Q0,X0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var E=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in E))break e;E=E[q]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function v(c,y,E){return v=p,v.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,q,Q){for(var he=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)he[Ve-2]=arguments[Ve];return y.prototype[q].apply(w,he)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function L(c,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const Q=q.length||0;c.length=E+Q;for(let he=0;he<Q;he++)c[E+he]=q[he]}else c.push(q)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){h.setTimeout(()=>{throw c},0)}function W(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,E){const w=le.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var le=new k(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let G,te=!1,I=new K,C=()=>{const c=Promise.resolve(void 0);G=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){z(E)}var y=le;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}te=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function ye(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(ye,x),ye.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),J=0;function ue(c,y,E,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=q,this.key=++J,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Me(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function j(c){const y={};for(const E in c)y[E]=c[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(c,y){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)c[E]=w[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function Z(c){this.src=c,this.g={},this.h=0}Z.prototype.add=function(c,y,E,w,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const he=fe(c,y,w,q);return he>-1?(y=c[he],E||(y.fa=!1)):(y=new ue(y,this.src,Q,!!w,q),y.fa=E,c.push(y)),y};function ce(c,y){const E=y.type;if(E in c.g){var w=c.g[E],q=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(w,q,1),Q&&(_e(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function fe(c,y,E,w){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==w)return q}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ce={};function Ie(c,y,E,w,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ie(c,y[Q],E,w,q);return null}return E=In(E),c&&c[Ue]?c.J(y,E,m(w)?!!w.capture:!1,q):Xe(c,y,E,!1,w,q)}function Xe(c,y,E,w,q,Q){if(!y)throw Error("Invalid event type");const he=m(q)?!!q.capture:!!q;let Ve=Zt(c);if(Ve||(c[de]=Ve=new Z(c)),E=Ve.add(y,E,w,he,Q),E.proxy)return E;if(w=ke(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)M||(q=he),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(qt(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ke(){function c(E){return y.call(c.src,c.listener,E)}const y=St;return c}function It(c,y,E,w,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)It(c,y[Q],E,w,q);else w=m(w)?!!w.capture:!!w,E=In(E),c&&c[Ue]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],E=fe(y,E,w,q),E>-1&&(_e(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Zt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fe(y,E,w,q)),(E=c>-1?y[c]:null)&&Dt(E))}function Dt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ue])ce(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(qt(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Zt(y))?(ce(E,c),E.h==0&&(E.src=null,y[de]=null)):_e(c)}}}function qt(c){return c in Ce?Ce[c]:Ce[c]="on"+c}function St(c,y){if(c.da)c=!0;else{y=new ye(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&Dt(c),c=E.call(w,y)}return c}function Zt(c){return c=c[de],c instanceof Z?c:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function In(c){return typeof c=="function"?c:(c[en]||(c[en]=function(y){return c.handleEvent(y)}),c[en])}function oe(){N.call(this),this.i=new Z(this),this.M=this,this.G=null}S(oe,N),oe.prototype[Ue]=!0,oe.prototype.removeEventListener=function(c,y,E,w){It(this,c,y,E,w)};function be(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var q=y;y=new x(w,c),Y(y,q)}q=!0;let Q,he;if(E)for(he=E.length-1;he>=0;he--)Q=y.g=E[he],q=Nt(Q,w,!0,y)&&q;if(Q=y.g=c,q=Nt(Q,w,!0,y)&&q,q=Nt(Q,w,!1,y)&&q,E)for(he=0;he<E.length;he++)Q=y.g=E[he],q=Nt(Q,w,!1,y)&&q}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)_e(E[w]);delete c.g[y],c.h--}}this.G=null},oe.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},oe.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function Nt(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const he=y[Q];if(he&&!he.da&&he.capture==E){const Ve=he.listener,At=he.ha||he.src;he.fa&&ce(c.i,he),q=Ve.call(At,w)!==!1&&q}}return q&&!w.defaultPrevented}function _t(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ti(c){c.g=_t(()=>{c.g=null,c.i&&(c.i=!1,Ti(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ht extends N{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(c){N.call(this),this.h=c,this.g={}}S(ni,N);var ba=[];function Ds(c){Ne(c.g,function(y,E){this.g.hasOwnProperty(E)&&Dt(y)},c),c.g={}}ni.prototype.N=function(){ni.Z.N.call(this),Ds(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=h.JSON.stringify,Ze=h.JSON.parse,bi=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ns(){}function Mu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){x.call(this,"d")}S(tn,x);function Bn(){x.call(this,"c")}S(Bn,x);var bt={},ku=null;function Aa(){return ku=ku||new oe}bt.Ia="serverreachability";function Vu(c){x.call(this,bt.Ia,c)}S(Vu,x);function Ai(c){const y=Aa();be(y,new Vu(y))}bt.STAT_EVENT="statevent";function kr(c,y){x.call(this,bt.STAT_EVENT,c),this.stat=y}S(kr,x);function xt(c){const y=Aa();be(y,new kr(y,c))}bt.Ja="timingevent";function wi(c,y){x.call(this,bt.Ja,c),this.size=y}S(wi,x);function Ri(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function md(c,y,E,w,q,Q){c.info(function(){if(c.g)if(Q){var he="",Ve=Q.split("&");for(let et=0;et<Ve.length;et++){var At=Ve[et].split("=");if(At.length>1){const mt=At[0];At=At[1];const Gn=mt.split("_");he=Gn.length>=2&&Gn[1]=="type"?he+(mt+"="+At+"&"):he+(mt+"=redacted&")}}}else he=null;else he=Q;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+E+`
`+he})}function ju(c,y,E,w,q,Q,he){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+E+`
`+Q+" "+he})}function Ci(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pd(c,E)+(w?" "+w:"")})}function Vr(c,y){c.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function pd(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let he=1;he<w.length;he++)w[he]=""}}}}return Si(Q)}catch{return y}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Lr(){}S(Lr,Ns),Lr.prototype.g=function(){return new XMLHttpRequest},Go=new Lr;function Zi(c){return encodeURIComponent(String(c))}function Lu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function ri(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ot={},Kt={};function Ii(c,y,E){c.M=1,c.A=Pr(kt(y)),c.u=E,c.R=!0,wa(c,null)}function wa(c,y){c.F=Date.now(),Di(c),c.B=kt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Da(E.i,"t",w),c.C=0,E=c.j.L,c.h=new ai,c.g=Ju(c.j,E?y:null,!c.u),c.P>0&&(c.O=new Ht(v(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(ba[0]=q.toString()),q=ba);for(let Q=0;Q<q.length;Q++){const he=Ie(E,q[Q],w||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ai(),md(c.i,c.v,c.B,c.l,c.S,c.u)}ri.prototype.ba=function(c){c=c.target;const y=this.O;y&&ui(c)==3?y.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=ui(this.g),At=this.g.ya(),et=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ve!=4||At==7||(At==8||et<=0?Ai(3):Ai(2)),Ni(this);var y=this.g.ca();this.X=y;var E=gd(this);if(this.o=y==200,ju(this.i,this.v,this.B,this.l,this.S,Ve,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Q=w;break t}}Q=null}if(c=Q)Ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,c);else{this.o=!1,this.m=3,xt(12),Dn(this),qn(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<E.length;)if(mt=Uu(this,E),mt==Kt){Ve==4&&(this.m=4,xt(14),c=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ot){this.m=4,xt(15),Ci(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Ci(this.i,this.l,mt,null),xi(this,mt);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||E.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)Ci(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),al(he),he.P=!0,xt(11))}}else Ci(this.i,this.l,E,null),xi(this,E);Ve==4&&Dn(this),this.o&&!this.K&&(Ve==4?Ku(this.j,this):(this.o=!1,Di(this)))}else ts(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Dn(this),qn(this)}}}catch{}};function gd(c){if(!Pu(c))return c.g.la();const y=nn(c.g);if(y==="")return"";let E="";const w=y.length,q=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Dn(c),qn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<w;Q++)c.h.h=!0,E+=c.h.i.decode(y[Q],{stream:!(q&&Q==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?Kt:(E=Number(y.substring(E,w)),isNaN(E)?Ot:(w+=1,w+E>y.length?Kt:(y=y.slice(w,w+E),c.C=w+E,y)))}ri.prototype.cancel=function(){this.K=!0,Dn(this)};function Di(c){c.T=Date.now()+c.H,Ra(c,c.H)}function Ra(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ri(v(c.aa,c),y)}function Ni(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ri.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(Ai(),xt(17)),Dn(this),this.m=2,qn(this)):Ra(this,this.T-c)};function qn(c){c.j.I==0||c.K||Ku(c.j,c)}function Dn(c){Ni(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ds(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Mi(E.h,c))){if(!c.L&&Mi(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)ka(E),Ps(E);else break e;Gr(E),xt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ri(v(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((c.L||E.g==c)&&ka(E),!D(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let et=q[y];const mt=et[0];if(!(mt<=E.K))if(E.K=mt,et=et[1],E.I==2)if(et[0]=="c"){E.M=et[1],E.ba=et[2];const Gn=et[3];Gn!=null&&(E.ka=Gn,E.j.info("VER="+E.ka));const zi=et[4];zi!=null&&(E.za=zi,E.j.info("SVER="+E.za));const ci=et[5];ci!=null&&typeof ci=="number"&&ci>0&&(w=1.5*ci,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const hi=c.g;if(hi){const $r=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Q=w.h;Q.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ko(Q,Q.h),Q.h=null))}if(w.G){const Va=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(w.wa=Va,it(w.J,w.G,Va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var he=c;if(w.na=Wu(w,w.L?w.ba:null,w.W),he.L){Qo(w.h,he);var Ve=he,At=w.O;At&&(Ve.H=At),Ve.D&&(Ni(Ve),Di(Ve)),w.g=he}else $u(w);E.i.length>0&&Pi(E)}else et[0]!="stop"&&et[0]!="close"||Ui(E,7);else E.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Ui(E,7):sl(E):et[0]!="noop"&&E.l&&E.l.qa(et),E.A=0)}}Ai(4)}catch{}}var Mt=class{constructor(c,y){this.g=c,this.map=y}};function $o(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Oi(c){return c.h?1:c.g?c.g.size:0}function Mi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ko(c,y){c.g?c.g.add(y):c.h=y}function Qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return U(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let q,Q=null;w>=0?(q=c[E].substring(0,w),Q=c[E].substring(w+1)):q=c[E],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Nn?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,xs(this,c.u),this.h=c.h,Wo(this,Fu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,Qt(this,y[1]||"",!0),this.o=ki(y[2]||""),this.g=ki(y[3]||"",!0),xs(this,y[4]),this.h=ki(y[5]||"",!0),Wo(this,y[6]||"",!0),this.m=ki(y[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}Nn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ur(y,Ia,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ur(y,Ia,!0),"@"),c.push(Zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ur(E,E.charAt(0)=="/"?Jo:Bu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ur(E,qu)),c.join("")},Nn.prototype.resolve=function(c){const y=kt(this);let E=!!c.j;E?Qt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)xs(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let he=0;he<q.length;){const Ve=q[he++];Ve=="."?w&&he==q.length&&Q.push(""):Ve==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&he==q.length&&Q.push("")):(Q.push(Ve),w=!0)}w=Q.join("/")}else w=q}return E?y.h=w:E=c.i.toString()!=="",E?Wo(y,Fu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function kt(c){return new Nn(c)}function Qt(c,y,E){c.j=E?ki(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xs(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Wo(c,y,E){y instanceof Ms?(c.i=y,Na(c.i,c.l)):(E||(y=Ur(y,Os)),c.i=new Ms(y,c.l))}function it(c,y,E){c.i.set(y,E)}function Pr(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ki(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ur(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,_n),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _n(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,Bu=/[#\?:]/g,Jo=/[#\?]/g,Os=/[#\?@]/g,qu=/#/g;function Ms(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Ca(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=Ms.prototype,s.add=function(c,y){En(this),this.i=null,c=ks(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Hu(c,y){En(c),y=ks(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zo(c,y){return En(c),y=ks(c,y),c.g.has(y)}s.forEach=function(c,y){En(this),this.g.forEach(function(E,w){E.forEach(function(q){c.call(y,q,w,this)},this)},this)};function el(c,y){En(c);let E=[];if(typeof y=="string")Zo(c,y)&&(E=E.concat(c.g.get(ks(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}s.set=function(c,y){return En(this),this.i=null,c=ks(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=el(this,c),c.length>0?String(c[0]):y):y};function Da(c,y,E){Hu(c,y),E.length>0&&(c.i=null,c.g.set(ks(c,y),U(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const q=Zi(E);E=el(this,E);for(let Q=0;Q<E.length;Q++){let he=q;E[Q]!==""&&(he+="="+Zi(E[Q])),c.push(he)}}return this.i=c.join("&")};function Fu(c){const y=new Ms;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ks(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Na(c,y){y&&!c.j&&(En(c),c.i=null,c.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(Hu(this,w),Da(this,q,E))},c)),c.j=y}function oi(c,y){const E=new si;if(h.Image){const w=new Image;w.onload=T(Hn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Hn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Hn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Hn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function tl(c,y){const E=new si,w=new AbortController,q=setTimeout(()=>{w.abort(),Hn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(q),Q.ok?Hn(E,"TestPingServer: ok",!0,y):Hn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Hn(E,"TestPingServer: error",!1,y)})}function Hn(c,y,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Vs(){this.g=new bi}function Vi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Vi,Ns),Vi.prototype.g=function(){return new zr(this.i,this.h)};function zr(c,y){oe.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(zr,oe),s=zr.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,li(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?js(this):li(this),this.readyState==3&&xa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,js(this))},s.Na=function(c){this.g&&(this.response=c,js(this))},s.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}s.setRequestHeader=function(c,y){this.A.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fn(c){let y="";return Ne(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Br(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Fn(E),typeof c=="string"?E!=null&&Zi(E):it(c,y,E))}function at(c){oe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(at,oe);var ji=/^https?$/i,nl=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=A(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){qr(this,Q);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())E.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of E)this.g.setRequestHeader(Q,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){qr(this,Q)}};function qr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,il(c),es(c)}function il(c){c.A||(c.A=!0,be(c,"complete"),be(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,be(this,"complete"),be(this,"abort"),es(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(be(c,"readystatechange"),ui(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=Q===0){let he=String(c.D).match(zu)[1]||null;!he&&h.self&&h.self.location&&(he=h.self.location.protocol.slice(0,-1)),w=!ji.test(he?he.toLowerCase():"")}E=w}if(E)be(c,"complete"),be(c,"success");else{c.o=6;try{var q=ui(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",il(c)}}finally{es(c)}}}}function es(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||be(c,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ze(y)}};function nn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(c){const y={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(D(c[w]))continue;var E=Lu(c[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[q]||[];y[q]=Q,Q.push(E)}Me(y,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ls(c){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,c),this.Za=Li("retryDelaySeedMs",1e4,c),this.Ta=Li("forwardChannelMaxRetries",2,c),this.va=Li("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(c&&c.concurrentRequestLimit),this.Ba=new Vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ls.prototype,s.ka=8,s.I=1,s.connect=function(c,y,E,w){xt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Wu(this,null,this.W),Pi(this)};function sl(c){if(Oa(c),c.I==3){var y=c.V++,E=kt(c.J);if(it(E,"SID",c.M),it(E,"RID",y),it(E,"TYPE","terminate"),Fr(c,E),y=new ri(c,c.j,y),y.M=2,y.A=Pr(kt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ju(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Di(y)}Xu(c)}function Ps(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function Oa(c){Ps(c),c.v&&(h.clearTimeout(c.v),c.v=null),ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Pi(c){if(!Yo(c.h)&&!c.m){c.m=!0;var y=c.Ea;G||C(),te||(G(),te=!0),I.add(y,c),c.D=0}}function Ma(c,y){return Oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ri(v(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ri(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=j(Q),Y(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Gu(this,q,y),E=kt(this.J),it(E,"RID",c),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Fr(this,E),Q&&(this.R?y="headers="+Zi(Fn(Q))+"&"+y:this.u&&Br(E,this.u,Q)),Ko(this.h,q),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",y),it(E,"SID","null"),q.U=!0,Ii(q,E,null)):Ii(q,E,y),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||Yo(this.h)||rl(this))};function rl(c,y){var E;y?E=y.l:E=c.V++;const w=kt(c.J);it(w,"SID",c.M),it(w,"RID",E),it(w,"AID",c.K),Fr(c,w),c.u&&c.o&&Br(w,c.u,c.o),E=new ri(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Gu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ko(c.h,E),Ii(E,w,y)}function Fr(c,y){c.H&&Ne(c.H,function(E,w){it(y,w,E)}),c.l&&Ne({},function(E,w){it(y,w,E)})}function Gu(c,y,E){E=Math.min(c.i.length,E);const w=c.l?v(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ve=-1;for(;;){const At=["count="+E];Ve==-1?E>0?(Ve=q[0].g,At.push("ofs="+Ve)):Ve=0:At.push("ofs="+Ve);let et=!0;for(let mt=0;mt<E;mt++){var Q=q[mt].g;const Gn=q[mt].map;if(Q-=Ve,Q<0)Ve=Math.max(0,q[mt].g-100),et=!1;else try{Q="req"+Q+"_"||"";try{var he=Gn instanceof Map?Gn:Object.entries(Gn);for(const[zi,ci]of he){let hi=ci;m(ci)&&(hi=Si(ci)),At.push(Q+zi+"="+encodeURIComponent(hi))}}catch(zi){throw At.push(Q+"type="+encodeURIComponent("_badmap")),zi}}catch{w&&w(Gn)}}if(et){he=At.join("&");break e}}he=void 0}return c=c.i.splice(0,E),y.G=c,he}function $u(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;G||C(),te||(G(),te=!0),I.add(y,c),c.A=0}}function Gr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ri(v(c.Da,c),Qu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ri(v(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ps(this),Yu(this))};function al(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new ri(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=kt(c.na);it(y,"RID","rpc"),it(y,"SID",c.M),it(y,"AID",c.K),it(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(y,"TO",c.ia),it(y,"TYPE","xmlhttp"),Fr(c,y),c.u&&c.o&&Br(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Pr(kt(y)),E.u=null,E.R=!0,wa(E,c)}s.Va=function(){this.C!=null&&(this.C=null,Ps(this),Gr(this),xt(19))};function ka(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ku(c,y){var E=null;if(c.g==y){ka(c),al(c),c.g=null;var w=2}else if(Mi(c.h,y))E=y.G,Qo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;w=Aa(),be(w,new wi(w,E)),Pi(c)}else $u(c);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Ma(c,y)||w==2&&Gr(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Qu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var E=v(c.bb,c),w=c.Ua;const q=!w;w=new Nn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qt(w,"https"),Pr(w),q?oi(w.toString(),E):tl(w.toString(),E)}else xt(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Oa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Wu(c,y,E){var w=E instanceof Nn?kt(E):new Nn(E);if(w.g!="")y&&(w.g=y+"."+w.g),xs(w,w.u);else{var q=h.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new Nn(null);w&&Qt(Q,w),y&&(Q.g=y),q&&xs(Q,q),E&&(Q.h=E),w=Q}return E=c.G,y=c.wa,E&&y&&it(w,E,y),it(w,"VER",c.ka),Fr(c,w),w}function Ju(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new at(new Vi({ab:E})):new at(c.ma),y.Fa(c.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}s=Zu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Us(){}Us.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){oe.call(this),this.g=new Ls(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ns(this)}S(yn,oe),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){sl(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Si(c),c=E);y.i.push(new Mt(y.Ya++,c)),y.I==3&&Pi(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,yn.Z.N.call(this)};function ec(c){tn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(ec,tn);function tc(){Bn.call(this),this.status=1}S(tc,Bn);function ns(c){this.g=c}S(ns,Zu),ns.prototype.ra=function(){be(this.g,"a")},ns.prototype.qa=function(c){be(this.g,new ec(c))},ns.prototype.pa=function(c){be(this.g,new tc)},ns.prototype.oa=function(){be(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,X0=function(){return new Us},Q0=function(){return Aa()},K0=bt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Eh=jr,Fo.COMPLETE="complete",Y0=Fo,Mu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",oe.prototype.listen=oe.prototype.J,Xl=Mu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,$0=at}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Po="12.8.0";function qD(s){Po=s}const pa=new Sp("@firebase/firestore");function ho(){return pa.logLevel}function ge(s,...e){if(pa.logLevel<=Ge.DEBUG){const n=e.map(Vp);pa.debug(`Firestore (${Po}): ${s}`,...n)}}function ws(s,...e){if(pa.logLevel<=Ge.ERROR){const n=e.map(Vp);pa.error(`Firestore (${Po}): ${s}`,...n)}}function Ro(s,...e){if(pa.logLevel<=Ge.WARN){const n=e.map(Vp);pa.warn(`Firestore (${Po}): ${s}`,...n)}}function Vp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Re(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W0(s,r,n)}function W0(s,e,n){let r=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ws(r),new Error(r)}function nt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||W0(e,o,r)}function Oe(s,e){return s}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class J0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class FD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new J0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class $D{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $D(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const r=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=QD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function $e(s,e){return s<e?-1:s>e?1:0}function Fm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Cm(o)===Cm(u)?$e(o,u):Cm(o)?1:-1}return $e(s.length,e.length)}const XD=55296,WD=57343;function Cm(s){const e=s.charCodeAt(0);return e>=XD&&e<=WD}function Co(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const DE="__name__";class Gi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Gi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const r=Gi.isNumericId(e),o=Gi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class ht extends Gi{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Gi{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new un([DE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function Z0(s,e,n){if(!n)throw new me(re.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ZD(s,e,n,r){if(e===!0&&r===!0)throw new me(re.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function NE(s){if(!Se.isDocumentKey(s))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xE(s){if(Se.isDocumentKey(s))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Zh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function ga(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(s);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Bt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Ru(s,e){if(!eS(s))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(re.INVALID_ARGUMENT,n);return!0}const OE=-62135596800,ME=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ME);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:Bt("string",Pe._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Pe(0,0))}static max(){return new De(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uu=-1;function eN(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new br(o,Se.empty(),e)}function tN(s){return new br(s.readTime,s.key,uu)}class br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new br(De.min(),Se.empty(),uu)}static max(){return new br(De.max(),Se.empty(),uu)}}function nN(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(s.documentKey,e.documentKey),n!==0?n:$e(s.largestBatchId,e.largestBatchId))}const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uo(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==iN)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>r(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((o=>o?ae.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const v=p;n(e[v]).next((T=>{h[v]=T,++m,m===u&&r(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ae(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function rN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(s){return s.name==="IndexedDbTransactionError"}class ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ed.ce=-1;const Lp=-1;function td(s){return s==null}function Vh(s){return s===0&&1/s==-1/0}function aN(s){return typeof s=="number"&&Number.isInteger(s)&&!Vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tS="";function oN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=kE(e)),e=lN(s.get(n),e);return kE(e)}function lN(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case tS:n+="";break;default:n+=u}}return n}function kE(s){return s+tS+""}function VE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Or(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new ln(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Un([])}unionWith(e){let n=new $t(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const n=uN.exec(s);if(nt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const sS="server_timestamp",rS="__type__",aS="__previous_value__",oS="__local_write_time__";function Pp(s){return(s?.mapValue?.fields||{})[rS]?.stringValue===sS}function nd(s){const e=s.mapValue.fields[aS];return Pp(e)?nd(e):e}function cu(s){const e=Ar(s.mapValue.fields[oS].timestampValue);return new Pe(e.seconds,e.nanos)}class cN{constructor(e,n,r,o,u,h,m,p,v,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const jh="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}function hN(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(s.options.projectId,e)}const lS="__type__",dN="__max__",uh={mapValue:{}},uS="__vector__",Lh="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pp(s)?4:mN(s)?9007199254740991:fN(s)?10:11:Re(28295,{value:s})}function Wi(s,e){if(s===e)return!0;const n=Rr(s);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return cu(s).isEqual(cu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ar(o.timestampValue),m=Ar(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return wr(o.bytesValue).isEqual(wr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ct(o.doubleValue),m=Ct(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return Co(s.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(VE(h)!==VE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Wi(h[p],m[p])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function du(s,e){return(s.values||[]).find((n=>Wi(n,e)))!==void 0}function Io(s,e){if(s===e)return 0;const n=Rr(s),r=Rr(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Ct(u.integerValue||u.doubleValue),p=Ct(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return LE(s.timestampValue,e.timestampValue);case 4:return LE(cu(s),cu(e));case 5:return Fm(s.stringValue,e.stringValue);case 6:return(function(u,h){const m=wr(u),p=wr(h);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let v=0;v<m.length&&v<p.length;v++){const T=$e(m[v],p[v]);if(T!==0)return T}return $e(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=$e(Ct(u.latitude),Ct(h.latitude));return m!==0?m:$e(Ct(u.longitude),Ct(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return PE(s.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},v=m[Lh]?.arrayValue,T=p[Lh]?.arrayValue,S=$e(v?.values?.length||0,T?.values?.length||0);return S!==0?S:PE(v,T)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),v=h.fields||{},T=Object.keys(v);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const A=Fm(p[S],T[S]);if(A!==0)return A;const U=Io(m[p[S]],v[T[S]]);if(U!==0)return U}return $e(p.length,T.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function LE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return $e(s,e);const n=Ar(s),r=Ar(e),o=$e(n.seconds,r.seconds);return o!==0?o:$e(n.nanos,r.nanos)}function PE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Io(n[o],r[o]);if(u)return u}return $e(n.length,r.length)}function Do(s){return Gm(s)}function Gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Ar(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return wr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Se.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Gm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Gm(n.fields[h])}`;return o+"}"})(s.mapValue):Re(61005,{value:s})}function Th(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(s);return e?16+Th(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Th(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Or(r.fields,((u,h)=>{o+=u.length+Th(h)})),o})(s.mapValue);default:throw Re(13486,{value:s})}}function UE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function $m(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function zE(s){return!!s&&"nullValue"in s}function BE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sh(s){return!!s&&"mapValue"in s}function fN(s){return(s?.mapValue?.fields||{})[lS]?.stringValue===uS}function tu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=tu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(s.arrayValue.values[n]);return e}return{...s}}function mN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===dN}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=un.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=tu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Or(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Cn(tu(this.value))}}function cS(s){const e=[];return Or(s.fields,((n,r)=>{const o=new un([n]);if(Sh(r)){const u=cS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Un(e)}class pn{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,o){return new pn(e,1,n,De.min(),r,o,0)}static newNoDocument(e,n){return new pn(e,2,n,De.min(),De.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,De.min(),De.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function qE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?r=Se.comparator(Se.fromName(h.referenceValue),n.key):r=Io(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Wi(s.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function pN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class hS{}class zt extends hS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yN(e,n,r):n==="array-contains"?new EN(e,r):n==="in"?new TN(e,r):n==="not-in"?new SN(e,r):n==="array-contains-any"?new bN(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vN(e,r):new _N(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ei(e,n)}matches(e){return dS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dS(s){return s.op==="and"}function fS(s){return gN(s)&&dS(s)}function gN(s){for(const e of s.filters)if(e instanceof Ei)return!1;return!0}function Ym(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+Do(s.value);if(fS(s))return s.filters.map((e=>Ym(e))).join(",");{const e=s.filters.map((n=>Ym(n))).join(",");return`${s.op}(${e})`}}function mS(s,e){return s instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&Wi(r.value,o.value)})(s,e):s instanceof Ei?(function(r,o){return o instanceof Ei&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&mS(h,o.filters[m])),!0):!1})(s,e):void Re(19439)}function pS(s){return s instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(s):s instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(s):"Filter"}class yN extends zt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class vN extends zt{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _N extends zt{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(s,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class EN extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&du(n.arrayValue,this.value)}}class TN extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class SN extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class bN extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}class AN{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function FE(s,e=null,n=[],r=[],o=null,u=null,h=null){return new AN(s,e,n,r,o,u,h)}function zp(s){const e=Oe(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ym(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Do(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Do(r))).join(",")),e.Te=n}return e.Te}function Bp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!pN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!mS(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!HE(s.startAt,e.startAt)&&HE(s.endAt,e.endAt)}function Km(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Bo{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wN(s,e,n,r,o,u,h,m){return new Bo(s,e,n,r,o,u,h,m)}function yS(s){return new Bo(s)}function GE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RN(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vS(s){return s.collectionGroup!==null}function nu(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new $t(un.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new fu(un.keyField(),r))}return e.Ie}function Ki(s){const e=Oe(s);return e.Ee||(e.Ee=CN(e,nu(s))),e.Ee}function CN(s,e){if(s.limitType==="F")return FE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=s.endAt?new Ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ph(s.startAt.position,s.startAt.inclusive):null;return FE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Qm(s,e){const n=s.filters.concat([e]);return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function IN(s,e){const n=s.explicitOrderBy.concat([e]);return new Bo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Xm(s,e,n){return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function id(s,e){return Bp(Ki(s),Ki(e))&&s.limitType===e.limitType}function _S(s){return`${zp(Ki(s))}|lt:${s.limitType}`}function fo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>pS(o))).join(", ")}]`),td(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${r})`})(Ki(s))}; limitType=${s.limitType})`}function sd(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Se.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of nu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,p){const v=qE(h,m,p);return h.inclusive?v<=0:v<0})(r.startAt,nu(r),o)||r.endAt&&!(function(h,m,p){const v=qE(h,m,p);return h.inclusive?v>=0:v>0})(r.endAt,nu(r),o))})(s,e)}function DN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ES(s){return(e,n)=>{let r=!1;for(const o of nu(s)){const u=NN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function NN(s,e,n){const r=s.field.isKeyField()?Se.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),v=m.data.field(u);return p!==null&&v!==null?Io(p,v):Re(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const xN=new vt(Se.comparator);function Rs(){return xN}const TS=new vt(Se.comparator);function Wl(...s){let e=TS;for(const n of s)e=e.insert(n.key,n);return e}function SS(s){let e=TS;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ca(){return iu()}function bS(){return iu()}function iu(){return new Ea((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ON=new vt(Se.comparator),MN=new $t(Se.comparator);function Ye(...s){let e=MN;for(const n of s)e=e.add(n);return e}const kN=new $t($e);function VN(){return kN}function qp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function AS(s){return{integerValue:""+s}}function jN(s,e){return aN(e)?AS(e):qp(s,e)}class rd{constructor(){this._=void 0}}function LN(s,e,n){return s instanceof Uh?(function(o,u){const h={fields:{[rS]:{stringValue:sS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=nd(u)),u&&(h.fields[aS]=u),{mapValue:h}})(n,e):s instanceof mu?RS(s,e):s instanceof pu?CS(s,e):(function(o,u){const h=wS(o,u),m=$E(h)+$E(o.Ae);return $m(h)&&$m(o.Ae)?AS(m):qp(o.serializer,m)})(s,e)}function PN(s,e,n){return s instanceof mu?RS(s,e):s instanceof pu?CS(s,e):n}function wS(s,e){return s instanceof zh?(function(r){return $m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Uh extends rd{}class mu extends rd{constructor(e){super(),this.elements=e}}function RS(s,e){const n=IS(e);for(const r of s.elements)n.some((o=>Wi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends rd{constructor(e){super(),this.elements=e}}function CS(s,e){let n=IS(e);for(const r of s.elements)n=n.filter((o=>!Wi(o,r)));return{arrayValue:{values:n}}}class zh extends rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(s){return Ct(s.integerValue||s.doubleValue)}function IS(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof mu&&o instanceof mu||r instanceof pu&&o instanceof pu?Co(r.elements,o.elements,Wi):r instanceof zh&&o instanceof zh?Wi(r.Ae,o.Ae):r instanceof Uh&&o instanceof Uh})(s.transform,e.transform)}class zN{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ad{}function DS(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hp(s.key,gi.none()):new Cu(s.key,s.data,gi.none());{const n=s.data,r=Cn.empty();let o=new $t(un.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Mr(s.key,r,new Un(o.toArray()),gi.none())}}function BN(s,e,n){s instanceof Cu?(function(o,u,h){const m=o.value.clone(),p=KE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Mr?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=KE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(NS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function su(s,e,n,r){return s instanceof Cu?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const v=u.value.clone(),T=QE(u.fieldTransforms,p,h);return v.setAll(T),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(s,e,n,r):s instanceof Mr?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const v=QE(u.fieldTransforms,p,h),T=h.data;return T.setAll(NS(u)),T.setAll(v),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,n)}function qN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=wS(r.transform,o||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,u))}return n||null}function YE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Co(r,o,((u,h)=>UN(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Cu extends ad{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends ad{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NS(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function KE(s,e,n){const r=new Map;nt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,PN(h,m,n[o]))}return r}function QE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,h=n.data.field(o.field);r.set(o.field,LN(u,h,e))}return r}class Hp extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HN extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=DS(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,r)=>YE(n,r)))&&Co(this.baseMutations,e.baseMutations,((n,r)=>YE(n,r)))}}class Fp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return ON})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Fp(e,n,r,o)}}class GN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $N{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Qe;function YN(s){switch(s){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function xS(s){if(s===void 0)return ws("GRPC error has no .code"),re.UNKNOWN;switch(s){case Ut.OK:return re.OK;case Ut.CANCELLED:return re.CANCELLED;case Ut.UNKNOWN:return re.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return re.INTERNAL;case Ut.UNAVAILABLE:return re.UNAVAILABLE;case Ut.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ut.NOT_FOUND:return re.NOT_FOUND;case Ut.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ut.ABORTED:return re.ABORTED;case Ut.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ut.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:s})}}(Qe=Ut||(Ut={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function KN(){return new TextEncoder}const QN=new vr([4294967295,4294967295],0);function XE(s){const e=KN().encode(s),n=new G0;return n.update(e),new Uint8Array(n.digest())}function WE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vr([n,r],0),new vr([o,u],0)]}class Gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(vr.fromNumber(r)));return o.compare(QN)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gp(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class od{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new od(De.min(),o,new vt($e),Rs(),Ye())}}class Iu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Ye(),Ye(),Ye())}}class Ah{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class OS{constructor(e,n){this.targetId=e,this.Ce=n}}class MS{constructor(e,n,r=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ZE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.He=ch(),this.Je=ch(),this.Ze=new vt($e)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(r===0){const h=new Se(u.path);this.et(n,h,pn.newNoDocument(h,De.min()))}else nt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=wr(r).toUint8Array()}catch(p){if(p instanceof iS)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(h,o,u)}catch(p){return Ro(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Km(m.target)){const p=new Se(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,pn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let r=Ye();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new od(e,n,this.Ze,this.je,r);return this.je=Rs(),this.He=ch(),this.Je=ch(),this.Ze=new vt($e),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $t($e),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $t($e),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new vt(Se.comparator)}function ZE(){return new vt(Se.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class ex{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(s,e){return s.useProto3Json||td(e)?e:{value:e}}function Bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tx(s,e){return Bh(s,e.toTimestamp())}function Qi(s){return nt(!!s,49232),De.fromTimestamp((function(n){const r=Ar(n);return new Pe(r.seconds,r.nanos)})(s))}function $p(s,e){return Jm(s,e).canonicalString()}function Jm(s,e){const n=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function VS(s){const e=ht.fromString(s);return nt(zS(e),10190,{key:e.toString()}),e}function Zm(s,e){return $p(s.databaseId,e.path)}function Im(s,e){const n=VS(e);if(n.get(1)!==s.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Se(LS(n))}function jS(s,e){return $p(s.databaseId,e)}function nx(s){const e=VS(s);return e.length===4?ht.emptyPath():LS(e)}function ep(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function LS(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function eT(s,e,n){return{name:Zm(s,e),fields:n.value.mapValue.fields}}function ix(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Re(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(nt(T===void 0||typeof T=="string",58123),hn.fromBase64String(T||"")):(nt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),hn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const T=v.code===void 0?re.UNKNOWN:xS(v.code);return new me(T,v.message||"")})(h);n=new MS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Im(s,r.document.name),u=Qi(r.document.updateTime),h=r.document.createTime?Qi(r.document.createTime):De.min(),m=new Cn({mapValue:{fields:r.document.fields}}),p=pn.newFoundDocument(o,u,h,m),v=r.targetIds||[],T=r.removedTargetIds||[];n=new Ah(v,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Im(s,r.document),u=r.readTime?Qi(r.readTime):De.min(),h=pn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Ah([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Im(s,r.document),u=r.removedTargetIds||[];n=new Ah([],u,o,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new $N(o,u),m=r.targetId;n=new OS(m,h)}}return n}function sx(s,e){let n;if(e instanceof Cu)n={update:eT(s,e.key,e.value)};else if(e instanceof Hp)n={delete:Zm(s,e.key)};else if(e instanceof Mr)n={update:eT(s,e.key,e.data),updateMask:fx(e.fieldMask)};else{if(!(e instanceof HN))return Re(16599,{dt:e.type});n={verify:Zm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Re(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(s,e.precondition)),n}function rx(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((n=>(function(o,u){let h=o.updateTime?Qi(o.updateTime):Qi(u);return h.isEqual(De.min())&&(h=Qi(u)),new zN(h,o.transformResults||[])})(n,e)))):[]}function ax(s,e){return{documents:[jS(s,e.path)]}}function ox(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(s,o);const u=(function(v){if(v.length!==0)return US(Ei.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((T=>(function(A){return{field:mo(A.field),direction:cx(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Wm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function lx(s){let e=nx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){nt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const A=PS(S);return A instanceof Ei&&fS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((A=>(function(L){return new fu(po(L.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let A;return A=typeof S=="object"?S.value:S,td(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(S){const A=!!S.before,U=S.values||[];return new Ph(U,A)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const A=!S.before,U=S.values||[];return new Ph(U,A)})(n.endAt)),wN(e,o,h,u,m,"F",p,v)}function ux(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=po(n.unaryFilter.field);return zt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(n){return zt.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((r=>PS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(s):Re(30097,{filter:s})}function cx(s){return WN[s]}function hx(s){return JN[s]}function dx(s){return ZN[s]}function mo(s){return{fieldPath:s.canonicalString()}}function po(s){return un.fromServerFormat(s.fieldPath)}function US(s){return s instanceof zt?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:hx(n.op),value:n.value}}})(s):s instanceof Ei?(function(n){const r=n.getFilters().map((o=>US(o)));return r.length===1?r[0]:{compositeFilter:{op:dx(n.op),filters:r}}})(s):Re(54877,{filter:s})}function fx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function BS(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class mr{constructor(e,n,r,o,u=De.min(),h=De.min(),m=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mx{constructor(e){this.yt=e}}function px(s){const e=lx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xm(e,e.limit,"L"):e}class gx{constructor(){this.Sn=new yx}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(br.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class yx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new $t(ht.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $t(ht.comparator)).toArray()}}const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(qS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}const nT="LruGarbageCollector",vx=1048576;function iT([s,e],[n,r]){const o=$e(s,n);return o===0?$e(e,r):o}class _x{constructor(e){this.Pr=e,this.buffer=new $t(iT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(nT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ge(nT,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Ar(3e5)}))}}class Tx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(ed.ce);const r=new _x(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(tT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,h,m,p,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),ho()<=Ge.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(v-p)+`ms
Total Duration: ${v-T}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function Sx(s,e){return new Tx(s,e)}class bx{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ax{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wx{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&su(r.mutation,o,Un.empty(),Pe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Wl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ca();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=Rs();const h=iu(),m=(function(){return iu()})();return n.forEach(((p,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Mr)?u=u.insert(v.key,v):T!==void 0?(h.set(v.key,T.mutation.getFieldMask()),su(T.mutation,v,T.mutation.getFieldMask(),Pe.now())):h.set(v.key,Un.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((v,T)=>h.set(v,T))),n.forEach(((v,T)=>m.set(v,new Ax(T,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=iu();let o=new vt(((h,m)=>h-m)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const v=n.get(p);if(v===null)return;let T=r.get(p)||Un.empty();T=m.applyToLocalView(v,T),r.set(p,T);const S=(o.get(m.batchId)||Ye()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),v=p.key,T=p.value,S=bS();T.forEach((A=>{if(!u.has(A)){const U=DS(n.get(A),r.get(A));U!==null&&S.set(A,U),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ae.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return RN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ae.resolve(ca());let m=uu,p=u;return h.next((v=>ae.forEach(v,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?ae.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,p,v,Ye()))).next((T=>({batchId:m,changes:SS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,u).next((m=>ae.forEach(m,(p=>{const v=(function(S,A){return new Bo(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,A)=>{h=h.insert(S,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((p,v)=>{const T=v.getKey();h.get(T)===null&&(h=h.insert(T,pn.newInvalidDocument(T)))}));let m=Wl();return h.forEach(((p,v)=>{const T=u.get(p);T!==void 0&&su(T.mutation,v,Un.empty(),Pe.now()),sd(n,v)&&(m=m.insert(p,v))})),m}))}}class Rx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qi(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:px(o.bundledQuery),readTime:Qi(o.readTime)}})(n)),ae.resolve()}}class Cx{constructor(){this.overlays=new vt(Se.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ca();return ae.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const o=ca(),u=n.length+1,h=new Se(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new vt(((v,T)=>v-T));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let T=u.get(v.largestBatchId);T===null&&(T=ca(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,T)=>m.set(v,T))),!(m.size()>=o)););return ae.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new GN(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ye(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class Ix{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Yp{constructor(){this.kr=new $t(Wt.Kr),this.qr=new $t(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Wt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Se(new ht([])),r=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Se(new ht([])),r=new Wt(n,e),o=new Wt(n,e+1);let u=Ye();return this.qr.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Wt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Se.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}class Dx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $t(Wt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new FN(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Lp:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t($e);return n.forEach((o=>{const u=new Wt(o,0),h=new Wt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{r=r.add(m.Hr)}))})),ae.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Se.isDocumentKey(u)||(u=u.child(""));const h=new Wt(new Se(u),0);let m=new $t($e);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(p.Hr)),!0)}),h),ae.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){nt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ae.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Wt(n,0),o=this.Jr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Nx{constructor(e){this.ti=e,this.docs=(function(){return new vt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Rs();const h=n.path,m=new Se(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:v,value:{document:T}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||nN(tN(T),r)<=0||(o.has(T.key)||sd(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Re(9500)}ni(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xx(this)}getSize(e){return ae.resolve(this.size)}}class xx extends bx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Ox{constructor(e){this.persistence=e,this.ri=new Ea((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=No._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new No(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class HS{constructor(e,n){this._i={},this.overlays={},this.ai=new ed(0),this.ui=!1,this.ui=!0,this.ci=new Ix,this.referenceDelegate=e(this),this.li=new Ox(this),this.indexManager=new gx,this.remoteDocumentCache=(function(o){return new Nx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new mx(n),this.Pi=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new Dx(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new Mx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ae.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Mx extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(r=>{const o=Se.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,De.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.fi=new Ea((r=>oN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Sx(this,n)}static Vi(e,n){return new qh(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?ae.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(r++,u.removeEntry(h,De.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}wr(e,n,r){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(e,n.fromCache,r,o)}}class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hR()?8:rN(gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new kx;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(ho()<=Ge.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(ho()<=Ge.DEBUG&&ge("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(ho()<=Ge.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):ae.resolve())}gs(e,n){if(GE(n))return ae.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Ye(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const v=this.bs(n,m);return this.Ss(n,v,h,p.readTime)?this.gs(e,Xm(n,null,"F")):this.Ds(e,v,n,p)}))))})))))}ps(e,n,r,o){return GE(n)||o.isEqual(De.min())?ae.resolve(null):this.fs.getDocuments(e,r).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,r,o)?ae.resolve(null):(ho()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.Ds(e,h,n,eN(o,uu)).next((m=>m)))}))}bs(e,n){let r=new $t(ES(e));return n.forEach(((o,u)=>{sd(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return ho()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",fo(n)),this.fs.getDocumentsMatchingQuery(e,n,br.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Xp="LocalStore",jx=3e8;class Lx{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new vt($e),this.Fs=new Ea((u=>zp(u)),Bp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Px(s,e,n,r){return new Lx(s,e,n,r)}async function FS(s,e){const n=Oe(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let p=Ye();for(const v of o){h.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}for(const v of u){m.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function Ux(s,e){const n=Oe(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,v,T){const S=v.batch,A=S.keys();let U=ae.resolve();return A.forEach((L=>{U=U.next((()=>T.getEntry(p,L))).next((k=>{const z=v.docVersions.get(L);nt(z!==null,48541),k.version.compareTo(z)<0&&(S.applyToRemoteDocument(k,v),k.isValidDocument()&&(k.setReadTime(v.commitVersion),T.addEntry(k)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ye();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(p=p.add(m.batch.mutations[v].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function GS(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zx(s,e){const n=Oe(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,S)=>{const A=o.get(S);if(!A)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let U=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(hn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,r)),o=o.insert(S,U),(function(k,z,W){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=jx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,U,T)&&m.push(n.li.updateTargetData(u,U))}));let p=Rs(),v=Ye();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(Bx(u,h,e.documentUpdates).next((T=>{p=T.Bs,v=T.Ls}))),!r.isEqual(De.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return ae.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(n.vs=o,u)))}function Bx(s,e,n){let r=Ye(),o=Ye();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let h=Rs();return n.forEach(((m,p)=>{const v=u.get(m);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ge(Xp,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function qx(s,e){const n=Oe(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hx(s,e){const n=Oe(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,ae.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new mr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function tp(s,e,n){const r=Oe(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!zo(h))throw h;ge(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function sT(s,e,n){const r=Oe(s);let o=De.min(),u=Ye();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,v,T){const S=Oe(p),A=S.Fs.get(T);return A!==void 0?ae.resolve(S.vs.get(A)):S.li.getTargetData(v,T)})(r,h,Ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:De.min(),n?u:Ye()))).next((m=>(Fx(r,DN(e),m),{documents:m,ks:u})))))}function Fx(s,e,n){let r=s.Ms.get(e)||De.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class rT{constructor(){this.activeTargetIds=VN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gx{constructor(){this.vo=new rT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $x{Mo(e){}shutdown(){}}const aT="ConnectivityMonitor";class oT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(aT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function np(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const Dm="RestConnection",Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const h=np(),m=this.Qo(e,n.toUriEncodedString());ge(Dm,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:v}=new URL(m),T=Vo(v);return this.zo(e,m,p,r,T).then((S=>(ge(Dm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Ro(Dm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(e,n,r,o,u,h){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=Yx[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Qx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const fn="WebChannelConnection",$l=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class To extends Kx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!To.c_){const e=Q0();$l(e,K0.STAT_EVENT,(n=>{n.stat===Hm.PROXY?ge(fn,"STAT_EVENT: detected buffering proxy"):n.stat===Hm.NOPROXY&&ge(fn,"STAT_EVENT: detected no buffering proxy")})),To.c_=!0}}zo(e,n,r,o,u){const h=np();return new Promise(((m,p)=>{const v=new $0;v.setWithCredentials(!0),v.listenOnce(Y0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Eh.NO_ERROR:const S=v.getResponseJson();ge(fn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case Eh.TIMEOUT:ge(fn,`RPC '${e}' ${h} timed out`),p(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const A=v.getStatus();if(ge(fn,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const L=U?.error;if(L&&L.status&&L.message){const k=(function(W){const K=W.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(K)>=0?K:re.UNKNOWN})(L.status);p(new me(k,L.message))}else p(new me(re.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new me(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ge(fn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ge(fn,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=np(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const v=u.join("");ge(fn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=h.createWebChannel(v,m);this.I_(T);let S=!1,A=!1;const U=new Qx({Ho:L=>{A?ge(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ge(fn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ge(fn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Jo:()=>T.close()});return $l(T,Xl.EventType.OPEN,(()=>{A||(ge(fn,`RPC '${e}' stream ${o} transport opened.`),U.i_())})),$l(T,Xl.EventType.CLOSE,(()=>{A||(A=!0,ge(fn,`RPC '${e}' stream ${o} transport closed`),U.o_(),this.E_(T))})),$l(T,Xl.EventType.ERROR,(L=>{A||(A=!0,Ro(fn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),U.o_(new me(re.UNAVAILABLE,"The operation could not be completed")))})),$l(T,Xl.EventType.MESSAGE,(L=>{if(!A){const k=L.data[0];nt(!!k,16349);const z=k,W=z?.error||z[0]?.error;if(W){ge(fn,`RPC '${e}' stream ${o} received error:`,W);const K=W.status;let le=(function(te){const I=Ut[te];if(I!==void 0)return xS(I)})(K),pe=W.message;le===void 0&&(le=re.INTERNAL,pe="Unknown error status: "+K+" with message "+W.message),A=!0,U.o_(new me(le,pe)),T.close()}else ge(fn,`RPC '${e}' stream ${o} received:`,k),U.__(k)}})),To.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return X0()}}function Xx(s){return new To(s)}function Nm(){return typeof document<"u"?document:null}function ld(s){return new ex(s,!0)}To.c_=!1;class $S{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lT="PersistentStream";class YS{constructor(e,n,r,o,u,h,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ge(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wx extends YS{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ix(this.serializer,e),r=(function(u){if(!("targetChange"in u))return De.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?De.min():h.readTime?Qi(h.readTime):De.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Km(p)?{documents:ax(u,p)}:{query:ox(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=kS(u,h.resumeToken);const v=Wm(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(De.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const v=Wm(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const r=ux(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.K_(n)}}class Jx extends YS{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rx(e.writeResults,e.commitTime),r=Qi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ep(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sx(this.serializer,r)))};this.K_(n)}}class Zx{}class e2 extends Zx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Jm(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Jm(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t2(s,e,n,r){return new e2(s,e,n,r)}class n2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class i2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{Ta(this)&&(ge(ya,"Restarting streams for network reachability change."),await(async function(p){const v=Oe(p);v.Ea.add(4),await Du(v),v.Va.set("Unknown"),v.Ea.delete(4),await ud(v)})(this))}))})),this.Va=new n2(r,o)}}async function ud(s){if(Ta(s))for(const e of s.Ra)await e(!0)}async function Du(s){for(const e of s.Ra)await e(!1)}function KS(s,e){const n=Oe(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):qo(n).O_()&&Jp(n,e))}function Wp(s,e){const n=Oe(s),r=qo(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ta(n)&&n.Va.set("Unknown"))}function Jp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(s).Z_(e)}function QS(s,e){s.da.$e(e),qo(s).X_(e)}function Zp(s){s.da=new XN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),qo(s).start(),s.Va.ua()}function eg(s){return Ta(s)&&!qo(s).x_()&&s.Ia.size>0}function Ta(s){return Oe(s).Ea.size===0}function XS(s){s.da=void 0}async function s2(s){s.Va.set("Online")}async function r2(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function a2(s,e){XS(s),eg(s)?(s.Va.ha(e),Zp(s)):s.Va.set("Unknown")}async function o2(s,e,n){if(s.Va.set("Online"),e instanceof MS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){ge(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(s,r)}else if(e instanceof Ah?s.da.Xe(e):e instanceof OS?s.da.st(e):s.da.tt(e),!n.isEqual(De.min()))try{const r=await GS(s.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,v)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(hn.EMPTY_BYTE_STRING,T.snapshotVersion)),QS(u,p);const S=new mr(T.target,p,v,T.sequenceNumber);Jp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ge(ya,"Failed to raise snapshot:",r),await Hh(s,r)}}async function Hh(s,e,n){if(!zo(e))throw e;s.Ea.add(1),await Du(s),s.Va.set("Offline"),n||(n=()=>GS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(ya,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ud(s)}))}function WS(s,e){return e().catch((n=>Hh(s,n,e)))}async function cd(s){const e=Oe(s),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;l2(e);)try{const o=await qx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,u2(e,o)}catch(o){await Hh(e,o)}JS(e)&&ZS(e)}function l2(s){return Ta(s)&&s.Ta.length<10}function u2(s,e){s.Ta.push(e);const n=Cr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function JS(s){return Ta(s)&&!Cr(s).x_()&&s.Ta.length>0}function ZS(s){Cr(s).start()}async function c2(s){Cr(s).ra()}async function h2(s){const e=Cr(s);for(const n of s.Ta)e.ea(n.mutations)}async function d2(s,e,n){const r=s.Ta.shift(),o=Fp.from(r,e,n);await WS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await cd(s)}async function f2(s,e){e&&Cr(s).Y_&&await(async function(r,o){if((function(h){return YN(h)&&h!==re.ABORTED})(o.code)){const u=r.Ta.shift();Cr(r).B_(),await WS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cd(r)}})(s,e),JS(s)&&ZS(s)}async function uT(s,e){const n=Oe(s);n.asyncQueue.verifyOperationInProgress(),ge(ya,"RemoteStore received new credentials");const r=Ta(n);n.Ea.add(3),await Du(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ud(n)}async function m2(s,e){const n=Oe(s);e?(n.Ea.delete(2),await ud(n)):e||(n.Ea.add(2),await Du(n),n.Va.set("Unknown"))}function qo(s){return s.ma||(s.ma=(function(n,r,o){const u=Oe(n);return u.sa(),new Wx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:s2.bind(null,s),Yo:r2.bind(null,s),t_:a2.bind(null,s),J_:o2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),eg(s)?Zp(s):s.Va.set("Unknown")):(await s.ma.stop(),XS(s))}))),s.ma}function Cr(s){return s.fa||(s.fa=(function(n,r,o){const u=Oe(n);return u.sa(),new Jx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:c2.bind(null,s),t_:f2.bind(null,s),ta:h2.bind(null,s),na:d2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await cd(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(ya,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new tg(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,e){if(ws("AsyncQueue",`${e}: ${s}`),zo(s))return new me(re.UNAVAILABLE,`${e}: ${s}`);throw s}class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cT{constructor(){this.ga=new vt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xo{constructor(e,n,r,o,u,h,m,p,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new xo(e,n,So.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class p2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g2{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Oe(n),u=o.queries;o.queries=hT(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new me(re.ABORTED,"Firestore shutting down"))}}function hT(){return new Ea((s=>_S(s)),id)}async function y2(s,e){const n=Oe(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new p2,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ng(h,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ig(n)}async function v2(s,e){const n=Oe(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _2(s,e){const n=Oe(s);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(r=!0);h.wa=o}}r&&ig(n)}function E2(s,e,n){const r=Oe(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function ig(s){s.Ca.forEach((e=>{e.next()}))}var ip,dT;(dT=ip||(ip={})).Ma="default",dT.Cache="cache";class T2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class S2{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=ES(e),this.tu=new So(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const A=o.get(T),U=sd(this.query,S)?S:null,L=!!A&&this.mutatedKeys.has(A.key),k=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let z=!1;A&&U?A.data.isEqual(U.data)?L!==k&&(r.track({type:3,doc:U}),z=!0):this.su(A,U)||(r.track({type:2,doc:U}),z=!0,(p&&this.eu(U,p)>0||v&&this.eu(U,v)<0)&&(m=!0)):!A&&U?(r.track({type:0,doc:U}),z=!0):A&&!U&&(r.track({type:1,doc:A}),z=!0,(p||v)&&(m=!0)),z&&(U?(h=h.add(U),u=k?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:h,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,S)=>(function(U,L){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:z})}};return k(U)-k(L)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,h.length!==0||v?{snapshot:new xo(this.query,e.tu,u,h,e.mutatedKeys,p===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new tb(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new eb(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class b2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A2{constructor(e){this.key=e,this.hu=!1}}class w2{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((m=>_S(m)),id),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(Se.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(s,e,n=!0){const r=ob(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nb(r,e,n,!0),o}async function C2(s,e){const n=ob(s);await nb(n,e,!0,!1)}async function nb(s,e,n,r){const o=await Hx(s.localStore,Ki(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await I2(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&KS(s.remoteStore,o),m}async function I2(s,e,n,r,o){s.pu=(S,A,U)=>(async function(k,z,W,K){let le=z.view.ru(W);le.Ss&&(le=await sT(k.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,le))));const pe=K&&K.targetChanges.get(z.targetId),G=K&&K.targetMismatches.get(z.targetId)!=null,te=z.view.applyChanges(le,k.isPrimaryClient,pe,G);return mT(k,z.targetId,te.au),te.snapshot})(s,S,A,U);const u=await sT(s.localStore,e,!0),h=new S2(e,u.ks),m=h.ru(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),v=h.applyChanges(m,s.isPrimaryClient,p);mT(s,n,v.au);const T=new b2(e,n,h);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),v.snapshot}async function D2(s,e,n){const r=Oe(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!id(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Wp(r.remoteStore,o.targetId),sp(r,o.targetId)})).catch(Uo)):(sp(r,o.targetId),await tp(r.localStore,o.targetId,!0))}async function N2(s,e){const n=Oe(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wp(n.remoteStore,r.targetId))}async function x2(s,e,n){const r=P2(s);try{const o=await(function(h,m){const p=Oe(h),v=Pe.now(),T=m.reduce(((U,L)=>U.add(L.key)),Ye());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let L=Rs(),k=Ye();return p.xs.getEntries(U,T).next((z=>{L=z,L.forEach(((W,K)=>{K.isValidDocument()||(k=k.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,L))).next((z=>{S=z;const W=[];for(const K of m){const le=qN(K,S.get(K.key).overlayedDocument);le!=null&&W.push(new Mr(K.key,le,cS(le.value.mapValue),gi.exists(!0)))}return p.mutationQueue.addMutationBatch(U,v,W,m)})).next((z=>{A=z;const W=z.applyToLocalDocumentSet(S,k);return p.documentOverlayCache.saveOverlays(U,z.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:SS(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let v=h.du[h.currentUser.toKey()];v||(v=new vt($e)),v=v.insert(m,p),h.du[h.currentUser.toKey()]=v})(r,o.batchId,n),await Nu(r,o.changes),await cd(r.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function ib(s,e){const n=Oe(s);try{const r=await zx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?nt(h.hu,14607):o.removedDocuments.size>0&&(nt(h.hu,42227),h.hu=!1))})),await Nu(n,r,e)}catch(r){await Uo(r)}}function fT(s,e,n){const r=Oe(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Oe(h);p.onlineState=m;let v=!1;p.queries.forEach(((T,S)=>{for(const A of S.ba)A.va(m)&&(v=!0)})),v&&ig(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O2(s,e,n){const r=Oe(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new vt(Se.comparator);h=h.insert(u,pn.newNoDocument(u,De.min()));const m=Ye().add(u),p=new od(De.min(),new Map,new vt($e),h,m);await ib(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(e),rg(r)}else await tp(r.localStore,e,!1).then((()=>sp(r,e,n))).catch(Uo)}async function M2(s,e){const n=Oe(s),r=e.batch.batchId;try{const o=await Ux(n.localStore,e);rb(n,r,null),sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,o)}catch(o){await Uo(o)}}async function k2(s,e,n){const r=Oe(s);try{const o=await(function(h,m){const p=Oe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return p.mutationQueue.lookupMutationBatch(v,m).next((S=>(nt(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>p.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);rb(r,e,n),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,o)}catch(o){await Uo(o)}}function sb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rb(s,e,n){const r=Oe(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||ab(s,r)}))}function ab(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Wp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),rg(s))}function mT(s,e,n){for(const r of n)r instanceof eb?(s.Vu.addReference(r.key,e),V2(s,r)):r instanceof tb?(ge(sg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||ab(s,r.key)):Re(19791,{wu:r})}function V2(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ge(sg,"New document in limbo: "+n),s.Eu.add(r),rg(s))}function rg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Se(ht.fromString(e)),r=s.fu.next();s.Au.set(r,new A2(n)),s.Ru=s.Ru.insert(n,r),KS(s.remoteStore,new mr(Ki(yS(n.path)),r,"TargetPurposeLimboResolution",ed.ce))}}async function Nu(s,e,n){const r=Oe(s),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const T=v?!v.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Qp.Es(p.targetId,v);u.push(T)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(p,v){const T=Oe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ae.forEach(v,(A=>ae.forEach(A.Ts,(U=>T.persistence.referenceDelegate.addReference(S,A.targetId,U))).next((()=>ae.forEach(A.Is,(U=>T.persistence.referenceDelegate.removeReference(S,A.targetId,U)))))))))}catch(S){if(!zo(S))throw S;ge(Xp,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const U=T.vs.get(A),L=U.snapshotVersion,k=U.withLastLimboFreeSnapshotVersion(L);T.vs=T.vs.insert(A,k)}}})(r.localStore,u))}async function j2(s,e){const n=Oe(s);if(!n.currentUser.isEqual(e)){ge(sg,"User change. New user:",e.toKey());const r=await FS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(re.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.Ns)}}function L2(s,e){const n=Oe(s),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ob(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O2.bind(null,e),e.Pu.J_=_2.bind(null,e.eventManager),e.Pu.yu=E2.bind(null,e.eventManager),e}function P2(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k2.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Px(this.persistence,new Vx,e.initialUser,this.serializer)}Cu(e){return new HS(Kp.Vi,this.serializer)}Du(e){return new Gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class U2 extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ex(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new HS((r=>qh.Vi(r,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=Xx(e.databaseInfo);return t2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new i2(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return oT.v()?new oT:new $x})())}createSyncEngine(e,n){return(function(o,u,h,m,p,v,T){const S=new w2(o,u,h,m,p,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Oe(n);ge(ya,"RemoteStore shutting down."),r.Ea.add(5),await Du(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ir="FirestoreClient";class B2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ge(Ir,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ge(Ir,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function xm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Ir,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await FS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await q2(s);ge(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>uT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>uT(e.remoteStore,o))),s._onlineComponents=e}async function q2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Ir,"Using user provided OfflineComponentProvider");try{await xm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await xm(s,new Fh)}}else ge(Ir,"Using default OfflineComponentProvider"),await xm(s,new U2(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Ir,"Using user provided OnlineComponentProvider"),await pT(s,s._uninitializedComponentsProvider._online)):(ge(Ir,"Using default OnlineComponentProvider"),await pT(s,new rp))),s._onlineComponents}function H2(s){return lb(s).then((e=>e.syncEngine))}async function F2(s){const e=await lb(s),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=D2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),n}function G2(s,e,n={}){const r=new _r;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,v){const T=new z2({next:A=>{T.Nu(),h.enqueueAndForget((()=>v2(u,S))),A.fromCache&&p.source==="server"?v.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new T2(m,T,{includeMetadataChanges:!0,Ka:!0});return y2(u,S)})(await F2(s),s.asyncQueue,e,n,r))),r.promise}function $2(s,e){const n=new _r;return s.asyncQueue.enqueueAndForget((async()=>x2(await H2(s),e,n))),n.promise}function ub(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Y2="ComponentProvider",gT=new Map;function K2(s,e,n,r,o){return new cN(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ub(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const cb="firestore.googleapis.com",yT=!0;class vT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=yT}else this.host=e.host,this.ssl=e.ssl??yT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vx)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gT.get(n);r&&(ge(Y2,"Removing Datastore"),gT.delete(n),r.terminate())})(this),Promise.resolve()}}function Q2(s,e,n,r={}){s=ga(s,hd);const o=Vo(e),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(n0(`https://${m}`),i0("Firestore",!0)),u.host!==cb&&u.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!ha(p,h)&&(s._setSettings(p),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=mn.MOCK_USER;else{v=nR(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new mn(S)}s._authCredentials=new FD(new J0(v,T))}}class Sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ru(n,Gt._jsonSchema))return new Gt(e,r||null,new Se(ht.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:Bt("string",Gt._jsonSchemaVersion),referencePath:Bt("string")};class Er extends Sa{constructor(e,n,r){super(e,n,yS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Se(e))}withConverter(e){return new Er(this.firestore,e,this._path)}}function gt(s,e,...n){if(s=Yt(s),Z0("collection","path",e),s instanceof hd){const r=ht.fromString(e,...n);return xE(r),new Er(s,null,r)}{if(!(s instanceof Gt||s instanceof Er))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...n));return xE(r),new Er(s.firestore,null,r)}}function cn(s,e,...n){if(s=Yt(s),arguments.length===1&&(e=jp.newId()),Z0("doc","path",e),s instanceof hd){const r=ht.fromString(e,...n);return NE(r),new Gt(s,null,new Se(r))}{if(!(s instanceof Gt||s instanceof Er))throw new me(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...n));return NE(r),new Gt(s.firestore,s instanceof Er?s.converter:null,new Se(r))}}const _T="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $S(this,"async_queue_retry"),this._c=()=>{const r=Nm();r&&ge(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;ge(_T,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class xu extends hd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function X2(s,e){const n=typeof s=="object"?s:a0(),r=typeof s=="string"?s:jh,o=Ap(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=eR("firestore");u&&Q2(o,...u)}return o}function hb(s){if(s._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||W2(s),s._firestoreClient}function W2(s){const e=s._freezeSettings(),n=K2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new B2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(hn.fromBase64String(e))}catch(n){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Bt("string",ti._jsonSchemaVersion),bytes:Bt("string")};class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Bt("string",Xi._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yi(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Bt("string",yi._jsonSchemaVersion),vectorValues:Bt("object")};const J2=/^__.*__$/;class Z2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class db{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:s})}}class lg{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fb(this.dataSource)&&J2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}createContext(e,n,r,o=!1){return new lg({dataSource:e,methodName:n,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(s){const e=s._freezeSettings(),n=ld(s._databaseId);return new eO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tO(s,e,n,r,o,u={}){const h=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);cg("Data must be an object, but it was:",h,r);const m=mb(r,h);let p,v;if(u.merge)p=new Un(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const A=va(e,S,n);if(!h.contains(A))throw new me(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);yb(T,A)||T.push(A)}p=new Un(T),v=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=h.fieldTransforms;return new Z2(new Cn(m),p,v)}class dd extends og{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}function nO(s,e,n,r){const o=s.createContext(1,e,n);cg("Data must be an object, but it was:",o,r);const u=[],h=Cn.empty();Or(r,((p,v)=>{const T=gb(e,p,n);v=Yt(v);const S=o.childContextForFieldPath(T);if(v instanceof dd)u.push(T);else{const A=Ou(v,S);A!=null&&(u.push(T),h.set(T,A))}}));const m=new Un(u);return new db(h,m,o.fieldTransforms)}function iO(s,e,n,r,o,u){const h=s.createContext(1,e,n),m=[va(e,r,n)],p=[o];if(u.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(va(e,u[A])),p.push(u[A+1]);const v=[],T=Cn.empty();for(let A=m.length-1;A>=0;--A)if(!yb(v,m[A])){const U=m[A];let L=p[A];L=Yt(L);const k=h.childContextForFieldPath(U);if(L instanceof dd)v.push(U);else{const z=Ou(L,k);z!=null&&(v.push(U),T.set(U,z))}}const S=new Un(v);return new db(T,S,h.fieldTransforms)}function sO(s,e,n,r=!1){return Ou(n,s.createContext(r?4:3,e))}function Ou(s,e){if(pb(s=Yt(s)))return cg("Unsupported field value:",e,s),mb(s,e);if(s instanceof og)return(function(r,o){if(!fb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let p=Ou(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Pe.fromDate(r);return{timestampValue:Bh(o.serializer,u)}}if(r instanceof Pe){const u=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:kS(o.serializer,r._byteString)};if(r instanceof Gt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yi)return(function(h,m){const p=h instanceof yi?h.toArray():h;return{mapValue:{fields:{[lS]:{stringValue:uS},[Lh]:{arrayValue:{values:p.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return qp(m.serializer,T)}))}}}}}})(r,o);if(BS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Zh(r)}`)})(s,e)}function mb(s,e){const n={};return nS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,((r,o)=>{const u=Ou(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Pe||s instanceof Xi||s instanceof ti||s instanceof Gt||s instanceof og||s instanceof yi||BS(s))}function cg(s,e,n){if(!pb(n)||!eS(n)){const r=Zh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function va(s,e,n){if((e=Yt(e))instanceof ag)return e._internalPath;if(typeof e=="string")return gb(s,e);throw Gh("Field path arguments must be of type string or ",s,!1,void 0,n)}const rO=new RegExp("[~\\*/\\[\\]]");function gb(s,e,n){if(e.search(rO)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Gh(s,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new me(re.INVALID_ARGUMENT,m+s+p)}function yb(s,e){return s.some((n=>n.isEqual(e)))}class aO{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Or(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new yi(n)}convertGeoPoint(e){return new Xi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);nt(zS(r),9688,{name:e});const o=new hu(r.get(1),r.get(3)),u=new Se(r.popFirst(5));return o.isEqual(n)||ws(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class oO extends aO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}const ST="@firebase/firestore",bT="4.10.0";class vb{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(va("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lO extends vb{data(){return super.data()}}function uO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class _b extends hg{}function gu(s,e,...n){let r=[];e instanceof hg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((p=>p instanceof dg)).length,m=u.filter((p=>p instanceof fd)).length;if(h>1||h>0&&m>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class fd extends _b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fd(e,n,r)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new Sa(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(u,h,m,p,v,T,S){let A;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){wT(S,T);const L=[];for(const k of S)L.push(AT(p,u,k));A={arrayValue:{values:L}}}else A=AT(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||wT(S,T),A=sO(m,h,S,T==="in"||T==="not-in");return zt.create(v,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $h(s,e,n){const r=e,o=va("where",s);return fd._create(o,r,n)}class dg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Eb(h,p),h=Qm(h,p)})(e._query,n),new Sa(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends _b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)})(e._query,this._field,this._direction);return new Sa(e.firestore,e.converter,IN(e._query,n))}}function cO(s,e="asc"){const n=e,r=va("orderBy",s);return fg._create(r,n)}function AT(s,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ht.fromString(n));if(!Se.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UE(s,new Se(r))}if(n instanceof Gt)return UE(s,n._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function wT(s,e){if(!Array.isArray(s)||s.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(s,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hO(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bo extends vb{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(va("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",bo._jsonSchema={type:Bt("string",bo._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class wh extends bo{data(e={}){return super.data(e)}}class Ao{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new dh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wh(this._firestore,this._userDataWriter,r.key,r,new dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:dO(m.type),doc:p,oldIndex:v,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Bt("string",Ao._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function Jt(s){s=ga(s,Sa);const e=ga(s.firestore,xu),n=hb(e),r=new oO(e);return uO(s._query),G2(n,s._query).then((o=>new Ao(e,r,s,o)))}function Tr(s,e,n,...r){s=ga(s,Gt);const o=ga(s.firestore,xu),u=ug(o);let h;return h=typeof(e=Yt(e))=="string"||e instanceof ag?iO(u,"updateDoc",s._key,e,n,r):nO(u,"updateDoc",s._key,e),mg(o,[h.toMutation(s._key,gi.exists(!0))])}function Sr(s){return mg(ga(s.firestore,xu),[new Hp(s._key,gi.none())])}function yo(s,e){const n=ga(s.firestore,xu),r=cn(s),o=hO(s.converter,e),u=ug(s.firestore);return mg(n,[tO(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function mg(s,e){const n=hb(s);return $2(n,e)}(function(e,n=!0){qD(jo),wo(new da("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new xu(new GD(r.getProvider("auth-internal")),new KD(h,r.getProvider("app-check-internal")),hN(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),yr(ST,bT,e),yr(ST,bT,"esm2020")})();var fO="firebase",mO="12.8.0";yr(fO,mO,"app");const Tb={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},Sb=wp(Tb),fh=F0(Sb),ze=X2(Sb),pO=wp(Tb,"secondary"),RT=F0(pO),gO="EYdciKDOi3UYBLk1u8hHams5tmO2",bb=V.createContext();function Ho(){return V.useContext(bb)}function yO({children:s}){const[e,n]=V.useState(null),[r,o]=V.useState(!1),[u,h]=V.useState(!1),[m,p]=V.useState(null),[v,T]=V.useState(!0);V.useEffect(()=>xI(fh,async k=>{if(n(k),k)if(k.uid===gO)o(!0),h(!1),p(null);else{o(!1);try{const z=gu(gt(ze,"clients"),$h("uid","==",k.uid)),W=await Jt(z);if(W.empty)h(!1),p(null);else{const K=W.docs[0];h(!0),p({id:K.id,...K.data()})}}catch(z){console.error("Error fetching client data:",z),h(!1),p(null)}}else o(!1),h(!1),p(null);T(!1)}),[]);const U={currentUser:e,isAdmin:r,isClient:u,clientData:m,login:async(L,k,z=!0)=>(await II(fh,z?j0:Op),await CI(fh,L,k)),logout:()=>M0(fh),loading:v};return g.jsx(bb.Provider,{value:U,children:s})}function vO(){const[s,e]=V.useState(""),[n,r]=V.useState(""),[o,u]=V.useState(!0),[h,m]=V.useState(""),[p,v]=V.useState(!1),{login:T,currentUser:S,isAdmin:A,isClient:U,loading:L}=Ho(),k=Cs();if(V.useEffect(()=>{!L&&S&&(A?k("/dashboard"):U&&k("/client"))},[L,S,A,U,k]),L)return g.jsx("div",{className:"login-container",children:g.jsx("div",{className:"login-loading",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"loading-logo"})})});const z=async W=>{W.preventDefault(),m(""),v(!0);try{await T(s,n,o)}catch(K){m(K.message||"Failed to log in"),v(!1)}};return g.jsx("div",{className:"login-container",children:g.jsxs("div",{className:"login-card",children:[g.jsxs("div",{className:"login-header",children:[g.jsx("h1",{children:"Mind Core Fitness"}),g.jsx("p",{children:"Client Portal"})]}),h&&g.jsx("div",{className:"error-message",children:h}),g.jsxs("form",{onSubmit:z,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsx("input",{type:"password",id:"password",value:n,onChange:W=>r(W.target.value),required:!0})]}),g.jsx("div",{className:"remember-me",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:o,onChange:W=>u(W.target.checked)}),g.jsx("span",{children:"Remember me"})]})}),g.jsx("button",{type:"submit",className:"login-btn",disabled:p,children:p?"Logging in...":"Log In"})]}),g.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function _O(){const[s,e]=V.useState([]),[n,r]=V.useState([]),[o,u]=V.useState(!0),[h,m]=V.useState(null),[p,v]=V.useState({});V.useEffect(()=>{T()},[]);const T=async()=>{try{const[G,te]=await Promise.all([Jt(gu(gt(ze,"clients"),cO("createdAt","desc"))),Jt(gt(ze,"sessions"))]),I=G.docs.map(R=>({id:R.id,...R.data()})),C=te.docs.map(R=>({id:R.id,...R.data()}));e(I),r(C)}catch(G){console.error("Error fetching data:",G)}u(!1)},S=G=>{const te=new Date,I=te.getFullYear(),C=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0"),N=`${I}-${C}-${R}`,x=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`;return n.filter(M=>M.clientId!==G?!1:M.date<N||M.date===N&&M.time<x).length},A=G=>{const te=S(G.id);return(G.totalSessions||0)-te},U=G=>{const te=new Date,I=te.getFullYear(),C=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0"),N=`${I}-${C}-${R}`,x=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`;return n.filter(M=>M.clientId!==G?!1:M.date>N||M.date===N&&M.time>=x).length},L=G=>G?(G.toDate?G.toDate():new Date(G)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",k=async(G,te)=>{if(window.confirm(`Are you sure you want to delete ${te}? This will also delete all their booked sessions.`))try{const C=n.filter(R=>R.clientId===G).map(R=>Sr(cn(ze,"sessions",R.id)));await Promise.all(C),await Sr(cn(ze,"clients",G)),e(s.filter(R=>R.id!==G)),r(n.filter(R=>R.clientId!==G))}catch(I){console.error("Error deleting client:",I),alert("Failed to delete client")}},z=G=>{if(!G)return"";const te=G.toDate?G.toDate():new Date(G),I=te.getFullYear(),C=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0");return`${I}-${C}-${R}`},W=G=>{m(G.id),v({name:G.name,email:G.email,password:"",weeksInBlock:G.weeksInBlock,totalSessions:G.totalSessions,sessionsRemaining:G.sessionsRemaining,sessionDuration:G.sessionDuration||45,startDate:z(G.startDate),endDate:z(G.endDate),status:G.status,hasPortalAccess:!!G.uid})},K=G=>{const{name:te,value:I}=G.target;if(v(C=>({...C,[te]:I})),te==="startDate"||te==="weeksInBlock"){const C=te==="startDate"?I:p.startDate,R=parseInt(te==="weeksInBlock"?I:p.weeksInBlock);if(C&&R>0){const N=new Date(C),x=new Date(N);x.setDate(x.getDate()+R*7);const M=x.getFullYear(),D=(x.getMonth()+1).toString().padStart(2,"0"),ye=x.getDate().toString().padStart(2,"0");v(Ue=>({...Ue,[te]:I,endDate:`${M}-${D}-${ye}`}))}}},le=async G=>{try{const te=s.find(R=>R.id===G);let I=te?.uid;if(p.password&&p.password.length>=6&&!te?.uid)try{const R=await RI(RT,p.email.trim().toLowerCase(),p.password);await M0(RT),I=R.user.uid}catch(R){if(console.error("Error creating auth account:",R),R.code==="auth/email-already-in-use")alert("This email already has a portal account. Password not changed.");else if(R.code==="auth/weak-password"){alert("Password must be at least 6 characters.");return}else{alert("Failed to create portal account: "+R.message);return}}const C={name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Pe.fromDate(new Date(p.startDate)),endDate:Pe.fromDate(new Date(p.endDate)),status:p.status};I&&!te?.uid&&(C.uid=I),await Tr(cn(ze,"clients",G),C),e(s.map(R=>R.id===G?{...R,...p,uid:I||R.uid,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Pe.fromDate(new Date(p.startDate)),endDate:Pe.fromDate(new Date(p.endDate))}:R)),m(null),I&&!te?.uid&&alert("Portal access created! Client can now log in.")}catch(te){console.error("Error updating client:",te),alert("Failed to update client")}},pe=async G=>{try{const te=s.find(I=>I.id===G)?.status==="archived"?"active":"archived";await Tr(cn(ze,"clients",G),{status:te}),e(s.map(I=>I.id===G?{...I,status:te}:I))}catch(te){console.error("Error archiving client:",te),alert("Failed to update client status")}};return o?g.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):s.length===0?g.jsxs("div",{className:"client-list-empty",children:[g.jsx("p",{children:"No clients yet"}),g.jsx("span",{children:"Add your first client to get started"})]}):g.jsx("div",{className:"client-list",children:s.map(G=>g.jsx("div",{className:`client-card ${G.status==="archived"?"archived":""}`,children:h===G.id?g.jsxs("div",{className:"edit-form",children:[g.jsxs("div",{className:"edit-row",children:[g.jsx("input",{type:"text",name:"name",value:p.name,onChange:K,placeholder:"Name"}),g.jsx("input",{type:"email",name:"email",value:p.email,onChange:K,placeholder:"Email"})]}),g.jsxs("div",{className:"edit-row",children:[g.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:K,placeholder:"Weeks",min:"1"}),g.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:K,placeholder:"Total Sessions",min:"1"}),g.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:K,children:[g.jsx("option",{value:"30",children:"30 min"}),g.jsx("option",{value:"45",children:"45 min"})]})]}),g.jsxs("div",{className:"edit-row",children:[g.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:K}),g.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:K})]}),g.jsx("div",{className:"edit-row password-row",children:p.hasPortalAccess?g.jsx("div",{className:"portal-status has-access",children:" Has portal access"}):g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"text",name:"password",value:p.password,onChange:K,placeholder:"Set portal password (min 6 chars)"}),g.jsx("span",{className:"password-hint",children:"Set password to enable client portal"})]})}),g.jsxs("div",{className:"edit-actions",children:[g.jsx("button",{className:"save-edit-btn",onClick:()=>le(G.id),children:"Save"}),g.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"client-header",children:[g.jsxs("div",{className:"client-info",children:[g.jsx("h3",{children:G.name}),g.jsx("span",{className:"client-email",children:G.email})]}),g.jsx("div",{className:"client-status",children:g.jsx("span",{className:`status-badge ${G.status}`,children:G.status})})]}),g.jsxs("div",{className:"client-details",children:[g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Block"}),g.jsxs("span",{className:"detail-value",children:[G.weeksInBlock," weeks"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Sessions"}),g.jsxs("span",{className:"detail-value",children:[A(G)," / ",G.totalSessions," remaining"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Booked"}),g.jsxs("span",{className:"detail-value",children:[U(G.id)," sessions"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Duration"}),g.jsxs("span",{className:"detail-value",children:[G.sessionDuration||45," min"]})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"Start"}),g.jsx("span",{className:"detail-value",children:L(G.startDate)})]}),g.jsxs("div",{className:"detail-item",children:[g.jsx("span",{className:"detail-label",children:"End"}),g.jsx("span",{className:"detail-value",children:L(G.endDate)})]})]}),g.jsxs("div",{className:"client-actions",children:[g.jsx("button",{className:"action-btn edit",onClick:()=>W(G),children:"Edit"}),g.jsx("button",{className:"action-btn archive",onClick:()=>pe(G.id),children:G.status==="archived"?"Reactivate":"Archive"}),g.jsx("button",{className:"action-btn delete",onClick:()=>k(G.id,G.name),children:"Delete"})]})]})},G.id))})}const Ab={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},ap=["monday","tuesday","wednesday","thursday","friday"],EO=["Monday","Tuesday","Wednesday","Thursday","Friday"],TO=["Mon","Tue","Wed","Thu","Fri"],CT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},SO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),ap.map((o,u)=>{const h=new Date(e);return h.setDate(e.getDate()+u),h})},Pn=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},op=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},lp=(s,e)=>{const n=op(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},bO=s=>{const e=Ab[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=lp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=lp(r,15)}return n};function AO(){const[s,e]=V.useState(new Date),[n,r]=V.useState([]),[o,u]=V.useState([]),[h,m]=V.useState([]),[p,v]=V.useState([]),[T,S]=V.useState([]),[A,U]=V.useState(null),[L,k]=V.useState(null),[z,W]=V.useState(!1),[K,le]=V.useState(!0);V.useEffect(()=>{r(SO(s))},[s]),V.useEffect(()=>{C()},[]);const pe=Y=>{if(U(Y),W(!1),Y.startDate){const Z=Y.startDate.toDate?Y.startDate.toDate():new Date(Y.startDate);e(Z)}k(null)},G=Y=>{const Z=new Date,ce=Pn(Z),fe=`${Z.getHours().toString().padStart(2,"0")}:${Z.getMinutes().toString().padStart(2,"0")}`;return h.filter(de=>de.clientId!==Y?!1:de.date<ce||de.date===ce&&de.time<fe).length},te=Y=>{const Z=G(Y.id);return(Y.totalSessions||0)-Z},I=Y=>{const Z=new Date,ce=Z.getFullYear(),fe=(Z.getMonth()+1).toString().padStart(2,"0"),de=Z.getDate().toString().padStart(2,"0"),Ce=`${ce}-${fe}-${de}`,Ie=`${Z.getHours().toString().padStart(2,"0")}:${Z.getMinutes().toString().padStart(2,"0")}`;return h.filter(Xe=>Xe.clientId!==Y?!1:Xe.date>Ce||Xe.date===Ce&&Xe.time>=Ie).length},C=async()=>{try{const Z=(await Jt(gt(ze,"clients"))).docs.map(ke=>({id:ke.id,...ke.data()})).filter(ke=>ke.status==="active");u(Z);const fe=(await Jt(gt(ze,"sessions"))).docs.map(ke=>({id:ke.id,...ke.data()}));m(fe);const Ce=(await Jt(gt(ze,"holidays"))).docs.map(ke=>({id:ke.id,...ke.data()}));v(Ce);const Xe=(await Jt(gt(ze,"blockedTimes"))).docs.map(ke=>({id:ke.id,...ke.data()}));S(Xe)}catch(Y){console.error("Error fetching data:",Y)}le(!1)},R=Y=>{const Z=new Date(s);Z.setDate(Z.getDate()+Y*7),e(Z),k(null)},N=()=>{e(new Date),k(null)},x=Y=>{const Z=Pn(Y);return p.some(ce=>ce.date===Z)},M=(Y,Z)=>{const ce=Pn(Y);return T.some(fe=>fe.date===ce&&fe.time===Z)},D=async(Y,Z)=>{const ce=Pn(Y),fe=T.find(de=>de.date===ce&&de.time===Z);try{if(fe)await Sr(cn(ze,"blockedTimes",fe.id)),S(T.filter(de=>de.id!==fe.id));else{const de=await yo(gt(ze,"blockedTimes"),{date:ce,time:Z,createdAt:Pe.now()});S([...T,{id:de.id,date:ce,time:Z}])}}catch(de){console.error("Error toggling blocked time:",de),alert("Failed to update time slot")}},ye=Y=>{const Z=Pn(Y);return h.filter(ce=>ce.date===Z)},Ue=(Y,Z)=>{const ce=Pn(Y);return h.find(fe=>fe.date===ce&&fe.time===Z)},J=(Y,Z,ce)=>{const fe=ap[Y.getDay()-1];if(!fe||x(Y)||M(Y,Z))return!1;const de=Pn(Y);if(h.find(St=>St.date===de&&St.time===Z))return!1;const Ie=lp(Z,ce),Xe=Ab[fe],ke=Xe.morning&&Ie<=Xe.morning.end,It=Xe.afternoon&&Ie<=Xe.afternoon.end,Dt=Xe.morning&&Z>=Xe.morning.start&&Z<Xe.morning.end,qt=Xe.afternoon&&Z>=Xe.afternoon.start&&Z<Xe.afternoon.end;if(Dt&&!ke||qt&&!It)return!1;for(const St of h){if(St.date!==de)continue;const Zt=op(St.time),en=Zt+(St.duration||45),In=op(Z),oe=In+ce;if(In<en&&oe>Zt)return!1}return!0},ue=async(Y,Z)=>{const ce=Ue(Y,Z);if(ce){if(window.confirm(`Cancel ${ce.clientName}'s session at ${CT(Z)}?`))try{await Sr(cn(ze,"sessions",ce.id)),m(h.filter(de=>de.id!==ce.id))}catch(de){console.error("Error cancelling session:",de),alert("Failed to cancel session")}return}if(!A){alert("Please select a client first");return}if(!J(Y,Z,A.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(h.filter(de=>de.clientId===A.id).length>=A.totalSessions){alert(`${A.name} has already booked all ${A.totalSessions} sessions`);return}try{const de=Pn(Y),Ce={clientId:A.id,clientName:A.name,date:de,time:Z,duration:A.sessionDuration||45,createdAt:Pe.now()},Ie=await yo(gt(ze,"sessions"),Ce);m([...h,{id:Ie.id,...Ce}])}catch(de){console.error("Error booking session:",de),alert("Failed to book session")}},_e=async()=>{if(!A)return;const Y=A.startDate?.toDate?A.startDate.toDate():new Date(A.startDate),Z=A.endDate?.toDate?A.endDate.toDate():new Date(A.endDate),ce=h.filter(ke=>ke.clientId!==A.id?!1:n.some(It=>Pn(It)===ke.date));if(ce.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const fe=A.weeksInBlock||Math.ceil((Z-Y)/(10080*60*1e3)),de=ce.map(ke=>({dayOfWeek:new Date(ke.date).getDay(),time:ke.time}));let Ce=[];const Ie=h.filter(ke=>ke.clientId===A.id).length;for(let ke=0;ke<fe;ke++){const It=new Date(Y);It.setDate(It.getDate()+ke*7);const Dt=new Date(It),qt=Dt.getDay(),St=Dt.getDate()-qt+(qt===0?-6:1);Dt.setDate(St);for(const Zt of de){const en=new Date(Dt),In=Zt.dayOfWeek===0?6:Zt.dayOfWeek-1;en.setDate(Dt.getDate()+In);const oe=Pn(en);h.some(be=>be.clientId===A.id&&be.date===oe&&be.time===Zt.time)||en<Y||en>Z||p.some(be=>be.date===oe)||Ce.push({dateKey:oe,time:Zt.time,sessionDate:en})}}const Xe=Ie+Ce.length;if(Xe>A.totalSessions){alert(`This would create ${Ce.length} new sessions (${Xe} total), but client only has ${A.totalSessions} sessions in their package.

You can still book ${A.totalSessions-Ie} more sessions.`);return}if(Ce.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${Ce.length} new sessions across the block.

(${Ie} existing + ${Ce.length} new = ${Xe} total)

Continue?`))try{const ke=[];for(const It of Ce){const Dt={clientId:A.id,clientName:A.name,date:It.dateKey,time:It.time,duration:A.sessionDuration||45,createdAt:Pe.now()},qt=await yo(gt(ze,"sessions"),Dt);ke.push({id:qt.id,...Dt})}m([...h,...ke]),alert(`Created ${ke.length} new sessions!`)}catch(ke){console.error("Error repeating weekly:",ke),alert("Failed to repeat sessions")}},Ne=async Y=>{const Z=Pn(Y),ce=p.find(fe=>fe.date===Z);try{if(ce)await Sr(cn(ze,"holidays",ce.id)),v(p.filter(fe=>fe.id!==ce.id));else{const fe=await yo(gt(ze,"holidays"),{date:Z,createdAt:Pe.now()});v([...p,{id:fe.id,date:Z}])}}catch(fe){console.error("Error toggling day availability:",fe),alert("Failed to update day availability")}};if(K)return g.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const Me=n[0],j=n[4],ne=Me&&j?`${Me.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${j.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return g.jsxs("div",{className:"calendar",children:[g.jsxs("div",{className:"calendar-header",children:[g.jsxs("div",{className:"calendar-nav",children:[g.jsx("button",{onClick:()=>R(-1),children:""}),g.jsx("button",{onClick:N,children:"Today"}),g.jsx("button",{onClick:()=>R(1),children:""})]}),g.jsx("h3",{children:ne})]}),g.jsxs("div",{className:"client-selector",children:[g.jsx("span",{className:"selector-label",children:"Booking for:"}),A?g.jsxs("div",{className:"selected-client",children:[g.jsxs("div",{className:"selected-info",children:[g.jsx("strong",{children:A.name}),g.jsxs("span",{children:[A.sessionDuration||45,"min  ",te(A),"/",A.totalSessions," remaining"]}),g.jsxs("span",{className:"booked-info",children:[I(A.id)," booked"]})]}),g.jsx("button",{onClick:()=>U(null),children:"Change"})]}):g.jsx("button",{className:"select-client-btn",onClick:()=>W(!0),children:"Select Client"})]}),A&&g.jsxs("div",{className:"repeat-weekly-section",children:[g.jsx("button",{className:"repeat-weekly-btn",onClick:_e,children:"Repeat This Week's Schedule For All Weeks"}),g.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),g.jsx("div",{className:"day-cards",children:n.map((Y,Z)=>{const ce=ye(Y),fe=Pn(Y)===Pn(new Date),de=x(Y);return g.jsxs("div",{className:`day-card ${L===Z?"selected":""} ${fe?"today":""} ${de?"holiday":""}`,onClick:()=>k(L===Z?null:Z),children:[g.jsxs("div",{className:"day-card-header",children:[g.jsx("span",{className:"day-name",children:TO[Z]}),g.jsx("span",{className:"day-date",children:Y.getDate()})]}),de?g.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):g.jsxs("div",{className:"day-card-status",children:[ce.length," session",ce.length!==1?"s":""]})]},Z)})}),L!==null&&n[L]&&g.jsxs("div",{className:"time-panel",children:[g.jsxs("div",{className:"time-panel-header",children:[g.jsxs("h4",{children:[EO[L]," ",n[L].getDate()]}),g.jsx("button",{className:"close-panel",onClick:()=>k(null),children:""})]}),g.jsx("div",{className:"availability-toggle",children:g.jsx("button",{className:`toggle-availability-btn ${x(n[L])?"unavailable":"available"}`,onClick:()=>Ne(n[L]),children:x(n[L])?"Mark Day Available":"Mark Day Unavailable"})}),x(n[L])?g.jsxs("div",{className:"day-unavailable-message",children:[g.jsx("p",{children:"This day is marked as unavailable"}),g.jsx("span",{children:"Tap the button above to make it available again"})]}):g.jsx("div",{className:"time-slots",children:bO(ap[L]).map(({time:Y,period:Z},ce,fe)=>{const de=Ue(n[L],Y),Ce=M(n[L],Y),Ie=A&&J(n[L],Y,A.sessionDuration||45),Xe=ce===0||fe[ce-1]?.period!==Z;return g.jsxs("div",{children:[Xe&&g.jsx("div",{className:"period-label",children:Z==="morning"?"Morning":"Afternoon"}),g.jsxs("div",{className:"time-slot-row",children:[g.jsxs("button",{className:`time-slot ${de?"booked":""} ${Ce?"blocked":""} ${Ie?"available":""} ${!de&&!Ce&&!Ie&&A?"unavailable":""}`,onClick:()=>!Ce&&ue(n[L],Y),disabled:Ce,children:[g.jsx("span",{className:"slot-time",children:CT(Y)}),de?g.jsxs("span",{className:"slot-client",children:[de.clientName," (",de.duration,"m)"]}):Ce?g.jsx("span",{className:"slot-blocked",children:"Blocked"}):Ie?g.jsx("span",{className:"slot-available",children:"Available"}):A?g.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):g.jsx("span",{className:"slot-empty",children:"Select client to book"})]}),g.jsx("button",{className:`block-toggle-btn ${Ce?"is-blocked":""}`,onClick:()=>D(n[L],Y),disabled:!!de,title:Ce?"Unblock this time":"Block this time",children:Ce?"":""})]})]},Y)})})]}),z&&g.jsx("div",{className:"modal-overlay",onClick:()=>W(!1),children:g.jsxs("div",{className:"modal-content",onClick:Y=>Y.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h3",{children:"Select Client"}),g.jsx("button",{className:"close-btn",onClick:()=>W(!1),children:""})]}),g.jsx("div",{className:"client-list-picker",children:o.length===0?g.jsx("p",{className:"no-items",children:"No active clients"}):o.map(Y=>{const Z=Y.startDate?.toDate?Y.startDate.toDate():new Date(Y.startDate),ce=Y.endDate?.toDate?Y.endDate.toDate():new Date(Y.endDate),fe=te(Y),de=I(Y.id);return g.jsxs("button",{className:"client-option",onClick:()=>pe(Y),children:[g.jsx("strong",{children:Y.name}),g.jsxs("span",{children:[Y.sessionDuration||45,"min  ",fe,"/",Y.totalSessions," remaining  ",de," booked"]}),g.jsxs("span",{className:"client-dates",children:[Z.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",ce.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},Y.id)})})]})})]})}const IT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},yu=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},wb=s=>s===yu(new Date),wO=s=>{const e=new Date;return e.setDate(e.getDate()+1),s===yu(e)},DT=s=>wb(s)?"Today":wO(s)?"Tomorrow":new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),NT=s=>{const e=new Date,n=yu(e),r=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(s.date<n)return!0;if(s.date===n){const o=xT(s.time)+(s.duration||45);return xT(r)>=o}return!1},xT=s=>{const[e,n]=s.split(":").map(Number);return e*60+n};function RO(){const[s,e]=V.useState([]),[n,r]=V.useState(!0),[o,u]=V.useState(new Date);V.useEffect(()=>{h();const L=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(L)},[]);const h=async()=>{try{const k=(await Jt(gt(ze,"sessions"))).docs.map(K=>({id:K.id,...K.data()})),z=yu(new Date),W=k.filter(K=>K.date>=z).sort((K,le)=>K.date!==le.date?K.date.localeCompare(le.date):K.time.localeCompare(le.time));e(W)}catch(L){console.error("Error fetching sessions:",L)}r(!1)},m=async L=>{if(window.confirm(`Cancel ${L.clientName}'s session at ${IT(L.time)} on ${DT(L.date)}?`))try{await Sr(cn(ze,"sessions",L.id)),e(s.filter(k=>k.id!==L.id))}catch(k){console.error("Error cancelling session:",k),alert("Failed to cancel session")}};if(n)return g.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const p=s.reduce((L,k)=>{const z=k.date;return L[z]||(L[z]=[]),L[z].push(k),L},{}),v=Object.keys(p).sort(),T=yu(new Date),S=p[T]||[],A=S.filter(L=>NT(L)).length,U=S.length-A;return g.jsxs("div",{className:"schedule",children:[g.jsxs("div",{className:"today-summary",children:[g.jsx("h3",{children:"Today's Sessions"}),g.jsx("div",{className:"today-count",children:S.length===0?g.jsx("span",{className:"no-sessions",children:"No sessions today"}):g.jsxs("div",{className:"today-stats",children:[g.jsxs("span",{className:"completed-count",children:[A," completed"]}),g.jsxs("span",{className:"remaining-count",children:[U," remaining"]})]})})]}),v.length===0?g.jsx("div",{className:"no-upcoming",children:g.jsx("p",{children:"No upcoming sessions booked"})}):g.jsx("div",{className:"sessions-list",children:v.map(L=>g.jsxs("div",{className:`date-group ${wb(L)?"today":""}`,children:[g.jsxs("div",{className:"date-header",children:[g.jsx("span",{className:"date-label",children:DT(L)}),g.jsxs("span",{className:"date-count",children:[p[L].length," session",p[L].length!==1?"s":""]})]}),g.jsx("div",{className:"date-sessions",children:p[L].map(k=>{const z=NT(k);return g.jsxs("div",{className:`session-card ${z?"completed":""}`,children:[g.jsx("div",{className:"session-time",children:IT(k.time)}),g.jsxs("div",{className:"session-details",children:[g.jsx("strong",{children:k.clientName}),g.jsxs("span",{children:[k.duration,"min session"]})]}),z?g.jsx("div",{className:"completed-badge",children:""}):g.jsx("button",{className:"cancel-session-btn",onClick:()=>m(k),children:"Cancel"})]},k.id)})})]},L))})]})}const Rb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},up=["monday","tuesday","wednesday","thursday","friday"],CO=["Monday","Tuesday","Wednesday","Thursday","Friday"],IO=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},Yl=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},DO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),up.map((o,u)=>{const h=new Date(e);return h.setDate(e.getDate()+u),h})},cp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},hp=(s,e)=>{const n=cp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},NO=s=>{const e=Rb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=hp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=hp(r,15)}return n};function xO(){const[s,e]=V.useState(new Date),[n,r]=V.useState([]),[o,u]=V.useState([]),[h,m]=V.useState([]),[p,v]=V.useState(!0),[T,S]=V.useState(45);V.useEffect(()=>{r(DO(s))},[s]),V.useEffect(()=>{A()},[]);const A=async()=>{try{const te=(await Jt(gt(ze,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));u(te);const C=(await Jt(gt(ze,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));m(C)}catch(G){console.error("Error fetching data:",G)}v(!1)},U=G=>{const te=new Date(s);te.setDate(te.getDate()+G*7),e(te)},L=()=>{e(new Date)},k=G=>{const te=Yl(G);return h.some(I=>I.date===te)},z=(G,te)=>{const I=up[G.getDay()-1];if(!I||k(G))return!1;const C=Yl(G),R=new Date,N=Yl(R);if(C<N)return!1;if(C===N){const ue=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(te<ue)return!1}const x=hp(te,T),M=Rb[I],D=M.morning&&te>=M.morning.start&&te<M.morning.end,ye=M.afternoon&&te>=M.afternoon.start&&te<M.afternoon.end,Ue=M.morning&&x<=M.morning.end,J=M.afternoon&&x<=M.afternoon.end;if(D&&!Ue||ye&&!J)return!1;for(const ue of o){if(ue.date!==C)continue;const _e=cp(ue.time),Ne=_e+(ue.duration||45),Me=cp(te),j=Me+T;if(Me<Ne&&j>_e)return!1}return!0},W=(G,te)=>{const I=up[te];return NO(I).filter(R=>z(G,R.time))};if(p)return g.jsx("div",{className:"availability-loading",children:"Loading availability..."});const K=n[0],le=n[4],pe=K&&le?`${K.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${le.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return g.jsxs("div",{className:"availability",children:[g.jsxs("div",{className:"availability-header",children:[g.jsxs("div",{className:"availability-nav",children:[g.jsx("button",{onClick:()=>U(-1),children:""}),g.jsx("button",{onClick:L,children:"Today"}),g.jsx("button",{onClick:()=>U(1),children:""})]}),g.jsx("h3",{children:pe}),g.jsxs("div",{className:"duration-selector",children:[g.jsx("label",{children:"Session:"}),g.jsxs("select",{value:T,onChange:G=>S(Number(G.target.value)),children:[g.jsx("option",{value:30,children:"30 min"}),g.jsx("option",{value:45,children:"45 min"}),g.jsx("option",{value:60,children:"60 min"})]})]})]}),g.jsx("div",{className:"availability-grid",children:n.map((G,te)=>{const I=k(G),C=I?[]:W(G,te),R=Yl(G)===Yl(new Date),N=G<new Date&&!R;return g.jsxs("div",{className:`day-column ${R?"today":""} ${N?"past":""}`,children:[g.jsxs("div",{className:"day-header",children:[g.jsx("span",{className:"day-name",children:CO[te]}),g.jsxs("span",{className:"day-date",children:[G.getDate(),"/",G.getMonth()+1]}),I&&g.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),g.jsx("div",{className:"slots-container",children:I?g.jsx("div",{className:"no-slots",children:"Unavailable"}):C.length===0?g.jsx("div",{className:"no-slots",children:"Fully booked"}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"slots-count",children:[C.length," slots"]}),g.jsx("div",{className:"slots-list",children:C.map(x=>g.jsx("div",{className:`slot ${x.period}`,children:IO(x.time)},x.time))})]})})]},te)})})]})}function OO(){const[s,e]=V.useState("schedule"),[n,r]=V.useState(0),[o,u]=V.useState(!1),[h,m]=V.useState([]),[p,v]=V.useState(null),{currentUser:T,logout:S,isAdmin:A,loading:U}=Ho(),L=Cs(),k=V.useRef(0),z=V.useRef(!1);V.useRef(null),V.useEffect(()=>{!U&&(!T||!A)&&L("/")},[T,A,U,L]),V.useEffect(()=>{T&&A&&W()},[T,A]);const W=async()=>{try{const N=gu(gt(ze,"rescheduleRequests"),$h("status","==","pending")),M=(await Jt(N)).docs.map(D=>({id:D.id,...D.data()}));M.sort((D,ye)=>{const Ue=D.createdAt?.toDate?D.createdAt.toDate():new Date(0);return(ye.createdAt?.toDate?ye.createdAt.toDate():new Date(0))-Ue}),m(M)}catch(N){console.error("Error fetching reschedule requests:",N)}};V.useEffect(()=>{(async()=>{if(!(!T||!A))try{const[x,M]=await Promise.all([Jt(gt(ze,"clients")),Jt(gt(ze,"sessions"))]),D=new Set(x.docs.map(Ue=>Ue.id)),ye=M.docs.filter(Ue=>!D.has(Ue.data().clientId));if(ye.length>0){console.log(`Cleaning up ${ye.length} orphaned sessions...`);const Ue=ye.map(J=>Sr(cn(ze,"sessions",J.id)));await Promise.all(Ue),console.log("Orphaned sessions cleaned up successfully")}}catch(x){console.error("Error cleaning up orphaned sessions:",x)}})()},[T,A]),V.useEffect(()=>{const N=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=ye=>{N()<=0&&(k.current=ye.touches[0].clientY,z.current=!0)},M=ye=>{if(!z.current)return;const J=ye.touches[0].clientY-k.current;J>0&&N()<=0&&r(Math.min(J*.5,80))},D=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):r(0),z.current=!1};return document.addEventListener("touchstart",x,{passive:!0}),document.addEventListener("touchmove",M,{passive:!0}),document.addEventListener("touchend",D),()=>{document.removeEventListener("touchstart",x),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",D)}},[n]);const K=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},le=async()=>{try{await S(),L("/")}catch(N){console.error("Failed to log out:",N)}},pe=()=>{L("/add-client")},G=N=>new Date(N).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),te=N=>{const[x,M]=N.split(":"),D=parseInt(x),ye=D>=12?"pm":"am";return`${D>12?D-12:D===0?12:D}:${M}${ye}`},I=async N=>{if(window.confirm(`Approve reschedule for ${N.clientName}?

From: ${G(N.originalDate)} at ${te(N.originalTime)}
To: ${G(N.requestedDate)} at ${te(N.requestedTime)}`)){v(N.id);try{await Tr(cn(ze,"sessions",N.sessionId),{date:N.requestedDate,time:N.requestedTime}),await Tr(cn(ze,"rescheduleRequests",N.id),{status:"approved",respondedAt:Pe.now()}),m(h.filter(x=>x.id!==N.id))}catch(x){console.error("Error approving request:",x),alert("Failed to approve request. Please try again.")}v(null)}},C=async N=>{if(window.confirm(`Reject reschedule request from ${N.clientName}?`)){v(N.id);try{await Tr(cn(ze,"rescheduleRequests",N.id),{status:"rejected",respondedAt:Pe.now()}),m(h.filter(x=>x.id!==N.id))}catch(x){console.error("Error rejecting request:",x),alert("Failed to reject request. Please try again.")}v(null)}};if(U)return g.jsx("div",{className:"loading",children:"Loading..."});if(!T||!A)return null;const R=h.length;return g.jsxs("div",{className:"dashboard",children:[n>0&&g.jsxs("div",{className:"pull-indicator",style:{height:n},children:[g.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),g.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),g.jsxs("header",{className:"dashboard-header",children:[g.jsxs("div",{className:"header-left",children:[g.jsx("h1",{children:"Mind Core Fitness"}),g.jsx("span",{className:"admin-badge",children:"Admin"})]}),g.jsxs("nav",{className:"header-nav",children:[g.jsx("button",{className:`nav-btn ${s==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),g.jsx("button",{className:`nav-btn ${s==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),g.jsx("button",{className:`nav-btn ${s==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),g.jsxs("button",{className:`nav-btn ${s==="requests"?"active":""} ${R>0?"has-badge":""}`,onClick:()=>e("requests"),children:["Requests",R>0&&g.jsx("span",{className:"nav-badge",children:R})]}),g.jsx("button",{className:`nav-btn ${s==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),g.jsxs("div",{className:"header-actions",children:[g.jsx("button",{className:"refresh-btn",onClick:K,disabled:o,children:o?"":""}),g.jsx("button",{className:"logout-btn",onClick:le,children:"Log Out"})]})]}),g.jsxs("main",{className:"dashboard-main",children:[s==="schedule"&&g.jsxs("div",{className:"schedule-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Schedule"})}),g.jsx(RO,{})]}),s==="clients"&&g.jsxs("div",{className:"clients-view",children:[g.jsxs("div",{className:"view-header",children:[g.jsx("h2",{children:"Clients"}),g.jsx("button",{className:"add-btn",onClick:pe,children:"+ Add Client"})]}),g.jsx(_O,{})]}),s==="calendar"&&g.jsxs("div",{className:"calendar-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Calendar"})}),g.jsx(AO,{})]}),s==="requests"&&g.jsxs("div",{className:"requests-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Reschedule Requests"})}),h.length===0?g.jsxs("div",{className:"no-requests",children:[g.jsx("p",{children:"No pending requests"}),g.jsx("span",{children:"When clients request to reschedule, they will appear here"})]}):g.jsx("div",{className:"requests-list",children:h.map(N=>g.jsxs("div",{className:"request-card",children:[g.jsxs("div",{className:"request-header",children:[g.jsx("span",{className:"client-name",children:N.clientName}),g.jsx("span",{className:"request-time",children:N.createdAt?.toDate?N.createdAt.toDate().toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""})]}),g.jsx("div",{className:"request-details",children:g.jsxs("div",{className:"request-change",children:[g.jsxs("div",{className:"from-session",children:[g.jsx("span",{className:"label",children:"From:"}),g.jsxs("span",{className:"value",children:[G(N.originalDate)," at ",te(N.originalTime)]})]}),g.jsx("div",{className:"arrow",children:""}),g.jsxs("div",{className:"to-session",children:[g.jsx("span",{className:"label",children:"To:"}),g.jsxs("span",{className:"value",children:[G(N.requestedDate)," at ",te(N.requestedTime)]})]})]})}),g.jsxs("div",{className:"request-actions",children:[g.jsx("button",{className:"approve-btn",onClick:()=>I(N),disabled:p===N.id,children:p===N.id?"Processing...":"Approve"}),g.jsx("button",{className:"reject-btn",onClick:()=>C(N),disabled:p===N.id,children:"Reject"})]})]},N.id))})]}),s==="availability"&&g.jsxs("div",{className:"availability-view",children:[g.jsx("div",{className:"view-header",children:g.jsx("h2",{children:"Available Slots"})}),g.jsx(xO,{})]})]})]})}function MO(){const[s,e]=V.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,r]=V.useState(!1),[o,u]=V.useState(""),{currentUser:h,isAdmin:m,loading:p}=Ho(),v=Cs();V.useEffect(()=>{!p&&(!h||!m)&&v("/")},[h,m,p,v]),V.useEffect(()=>{if(s.startDate&&s.weeksInBlock){const U=new Date(s.startDate),L=parseInt(s.weeksInBlock);if(!isNaN(L)&&L>0){const k=new Date(U);k.setDate(k.getDate()+L*7),e(z=>({...z,endDate:k.toISOString().split("T")[0]}))}}},[s.startDate,s.weeksInBlock]);const T=U=>{const{name:L,value:k}=U.target;e(z=>({...z,[L]:k}))},S=async U=>{U.preventDefault(),u(""),r(!0);try{const L={name:s.name.trim(),email:s.email.trim().toLowerCase(),weeksInBlock:parseInt(s.weeksInBlock),totalSessions:parseInt(s.numberOfSessions),sessionsRemaining:parseInt(s.numberOfSessions),sessionDuration:parseInt(s.sessionDuration),startDate:Pe.fromDate(new Date(s.startDate)),endDate:Pe.fromDate(new Date(s.endDate)),status:"active",createdAt:Pe.now()};await yo(gt(ze,"clients"),L),v("/dashboard")}catch(L){console.error("Error adding client:",L),u("Failed to add client. Please try again."),r(!1)}},A=()=>{v("/dashboard")};return p?g.jsx("div",{className:"loading",children:"Loading..."}):!h||!m?null:g.jsxs("div",{className:"add-client-page",children:[g.jsxs("header",{className:"page-header",children:[g.jsx("button",{className:"back-btn",onClick:A,children:" Back"}),g.jsx("h1",{children:"Add New Client"})]}),g.jsxs("main",{className:"page-content",children:[o&&g.jsx("div",{className:"form-error",children:o}),g.jsxs("form",{onSubmit:S,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"name",children:"Client Name"}),g.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:T,placeholder:"John Smith",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Client Email"}),g.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:T,placeholder:"john@example.com",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),g.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:s.weeksInBlock,onChange:T,placeholder:"8",min:"1",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),g.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:s.numberOfSessions,onChange:T,placeholder:"16",min:"1",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),g.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:s.sessionDuration,onChange:T,required:!0,children:[g.jsx("option",{value:"30",children:"30 minutes"}),g.jsx("option",{value:"45",children:"45 minutes"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"startDate",children:"Start Date"}),g.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:T,required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),g.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:T,required:!0}),g.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"button",className:"cancel-btn",onClick:A,children:"Cancel"}),g.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}const Cb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},kO=["monday","tuesday","wednesday","thursday","friday"],ua=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},dp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},fp=(s,e)=>{const n=dp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},VO=s=>{const e=Cb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=fp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=fp(r,15)}return n},jO=s=>{const e=s.getDay();return e>=1&&e<=5},Ib=s=>{const e=s.getDay();return e===0||e===6?null:kO[e-1]},LO=(s,e,n,r,o,u=null,h=[])=>{const m=Ib(s);if(!m)return!1;const p=ua(s);if(o.some(W=>W.date===p)||h.some(W=>W.date===p&&W.time===e))return!1;const v=new Date,T=ua(v);if(p<T)return!1;if(p===T){const W=`${v.getHours().toString().padStart(2,"0")}:${v.getMinutes().toString().padStart(2,"0")}`;if(e<W)return!1}const S=fp(e,n),A=Cb[m],U=A.morning&&e>=A.morning.start&&e<A.morning.end,L=A.afternoon&&e>=A.afternoon.start&&e<A.afternoon.end,k=A.morning&&S<=A.morning.end,z=A.afternoon&&S<=A.afternoon.end;if(U&&!k||L&&!z||!U&&!L)return!1;for(const W of r){if(u&&W.id===u||W.date!==p)continue;const K=dp(W.time),le=K+(W.duration||45),pe=dp(e),G=pe+n;if(pe<le&&G>K)return!1}return!0},PO=(s,e,n,r,o=null,u=[])=>{const h=Ib(s);return h?VO(h).filter(p=>LO(s,p.time,e,n,r,o,u)):[]};function UO(){const[s,e]=V.useState([]),[n,r]=V.useState([]),[o,u]=V.useState([]),[h,m]=V.useState([]),[p,v]=V.useState([]),[T,S]=V.useState(!0),[A,U]=V.useState(null),[L,k]=V.useState(!1),[z,W]=V.useState(null),[K,le]=V.useState(null),[pe,G]=V.useState(null),[te,I]=V.useState([]),[C,R]=V.useState(!1),[N,x]=V.useState([]),{currentUser:M,isClient:D,clientData:ye,logout:Ue,loading:J}=Ho(),ue=Cs();V.useEffect(()=>{!J&&(!M||!D)&&ue("/")},[M,D,J,ue]),V.useEffect(()=>{ye&&_e()},[ye]);const _e=async()=>{try{const oe=gu(gt(ze,"sessions"),$h("clientId","==",ye.id)),Nt=(await Jt(oe)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));Nt.sort((Ze,bi)=>Ze.date!==bi.date?Ze.date.localeCompare(bi.date):Ze.time.localeCompare(bi.time)),e(Nt);const _t=await Jt(gt(ze,"sessions"));r(_t.docs.map(Ze=>({id:Ze.id,...Ze.data()})));const Ti=await Jt(gt(ze,"holidays"));u(Ti.docs.map(Ze=>({id:Ze.id,...Ze.data()})));const Ht=await Jt(gt(ze,"blockedTimes"));m(Ht.docs.map(Ze=>({id:Ze.id,...Ze.data()})));const ni=gu(gt(ze,"rescheduleRequests"),$h("clientId","==",ye.id)),Ds=(await Jt(ni)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));x(Ds.filter(Ze=>Ze.status==="pending"));const Si=Ds.filter(Ze=>{if(Ze.status==="pending"||!Ze.respondedAt)return!1;const bi=Ze.respondedAt.toDate?Ze.respondedAt.toDate():new Date(Ze.respondedAt),Ns=new Date;return Ns.setDate(Ns.getDate()-7),bi>Ns&&!Ze.dismissed});v(Si)}catch(oe){console.error("Error fetching data:",oe)}S(!1)},Ne=oe=>new Date(oe).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),Me=oe=>{const[be,Nt]=oe.split(":"),_t=parseInt(be),Ti=_t>=12?"pm":"am";return`${_t>12?_t-12:_t===0?12:_t}:${Nt}${Ti}`},j=oe=>oe?(oe.toDate?oe.toDate():new Date(oe)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",ne=oe=>{const be=new Date,Nt=ua(be),_t=`${be.getHours().toString().padStart(2,"0")}:${be.getMinutes().toString().padStart(2,"0")}`;return oe.date<Nt||oe.date===Nt&&oe.time<_t},Y=()=>s.filter(oe=>ne(oe)).length,Z=()=>s.filter(oe=>!ne(oe)),ce=async oe=>{if(window.confirm(`Cancel your session on ${Ne(oe.date)} at ${Me(oe.time)}?

This cannot be undone.`)){U(oe.id);try{await Sr(cn(ze,"sessions",oe.id)),e(s.filter(be=>be.id!==oe.id))}catch(be){console.error("Error cancelling session:",be),alert("Failed to cancel session. Please try again.")}U(null)}},fe=async()=>{try{await Ue(),ue("/")}catch(oe){console.error("Failed to log out:",oe)}},de=oe=>N.some(be=>be.sessionId===oe),Ce=oe=>{W(oe),le(null),G(null),I([]),k(!0)},Ie=()=>{k(!1),W(null),le(null),G(null),I([])},Xe=()=>ye.endDate?ye.endDate.toDate?ye.endDate.toDate():new Date(ye.endDate):new Date,ke=()=>{const oe=[],be=new Date,Nt=Xe(),_t=new Date(be);for(_t.setDate(_t.getDate()+1);_t<=Nt;){if(jO(_t)){const Ti=ua(_t);o.some(ni=>ni.date===Ti)||oe.push(new Date(_t))}_t.setDate(_t.getDate()+1)}return oe},It=oe=>{le(oe),G(null);const be=z?.duration||ye.sessionDuration||45,Nt=PO(oe,be,n,o,z?.id,h);I(Nt)},Dt=async()=>{if(!(!K||!pe||!z)){R(!0);try{await yo(gt(ze,"rescheduleRequests"),{sessionId:z.id,clientId:ye.id,clientName:ye.name,originalDate:z.date,originalTime:z.time,requestedDate:ua(K),requestedTime:pe,duration:z.duration,status:"pending",createdAt:Pe.now(),respondedAt:null,dismissed:!1}),alert("Reschedule request submitted! You will be notified when your trainer responds."),Ie(),_e()}catch(oe){console.error("Error submitting reschedule request:",oe),alert("Failed to submit request. Please try again.")}R(!1)}},qt=async oe=>{try{await Tr(cn(ze,"rescheduleRequests",oe),{dismissed:!0}),v(p.filter(be=>be.id!==oe))}catch(be){console.error("Error dismissing notification:",be)}};if(J||T)return g.jsx("div",{className:"client-loading",children:"Loading..."});if(!M||!D||!ye)return null;const St=Y(),Zt=ye.totalSessions-St,en=Z(),In=L?ke():[];return g.jsxs("div",{className:"client-dashboard",children:[g.jsx("header",{className:"client-header",children:g.jsx("div",{className:"header-content",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),g.jsxs("main",{className:"client-main",children:[g.jsxs("div",{className:"welcome-section",children:[g.jsxs("h2",{children:["Welcome, ",ye.name.split(" ")[0]]}),g.jsx("button",{className:"logout-btn",onClick:fe,children:"Log Out"})]}),p.length>0&&g.jsx("div",{className:"notifications-section",children:p.map(oe=>g.jsxs("div",{className:`notification ${oe.status}`,children:[g.jsxs("div",{className:"notification-content",children:[g.jsx("span",{className:"notification-icon",children:oe.status==="approved"?"":""}),g.jsxs("div",{className:"notification-text",children:[g.jsx("strong",{children:oe.status==="approved"?"Reschedule Approved!":"Reschedule Declined"}),g.jsx("p",{children:oe.status==="approved"?`Your session has been moved to ${Ne(oe.requestedDate)} at ${Me(oe.requestedTime)}`:`Your request to reschedule from ${Ne(oe.originalDate)} was declined. Please contact your trainer.`})]})]}),g.jsx("button",{className:"dismiss-btn",onClick:()=>qt(oe.id),children:""})]},oe.id))}),g.jsxs("div",{className:"quick-actions",children:[g.jsx("button",{className:"forms-btn",onClick:()=>ue("/client/forms"),children:"Forms & Questionnaires"}),g.jsx("button",{className:"tools-btn",onClick:()=>ue("/client/tools"),children:"Tools & Calculators"})]}),g.jsxs("div",{className:"block-info-card",children:[g.jsx("h3",{children:"Your Training Block"}),g.jsxs("div",{className:"block-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:Zt}),g.jsx("span",{className:"stat-label",children:"Sessions Remaining"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:St}),g.jsx("span",{className:"stat-label",children:"Completed"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:ye.totalSessions}),g.jsx("span",{className:"stat-label",children:"Total Package"})]})]}),g.jsxs("div",{className:"block-dates",children:[g.jsxs("div",{className:"date-item",children:[g.jsx("span",{className:"date-label",children:"Start Date"}),g.jsx("span",{className:"date-value",children:j(ye.startDate)})]}),g.jsxs("div",{className:"date-item",children:[g.jsx("span",{className:"date-label",children:"End Date"}),g.jsx("span",{className:"date-value",children:j(ye.endDate)})]}),g.jsxs("div",{className:"date-item",children:[g.jsx("span",{className:"date-label",children:"Session Duration"}),g.jsxs("span",{className:"date-value",children:[ye.sessionDuration," minutes"]})]})]})]}),g.jsxs("div",{className:"sessions-section",children:[g.jsxs("h3",{children:["Upcoming Sessions (",en.length,")"]}),en.length===0?g.jsxs("div",{className:"no-sessions",children:[g.jsx("p",{children:"No upcoming sessions scheduled"}),g.jsx("span",{children:"Contact your trainer to book sessions"})]}):g.jsx("div",{className:"sessions-list",children:en.map(oe=>g.jsxs("div",{className:"session-card",children:[g.jsxs("div",{className:"session-info",children:[g.jsx("div",{className:"session-date",children:Ne(oe.date)}),g.jsxs("div",{className:"session-time",children:[Me(oe.time)," (",oe.duration," min)"]}),de(oe.id)&&g.jsx("div",{className:"pending-badge",children:"Reschedule pending"})]}),g.jsxs("div",{className:"session-actions",children:[g.jsx("button",{className:"reschedule-btn",onClick:()=>Ce(oe),disabled:de(oe.id),children:"Reschedule"}),g.jsx("button",{className:"cancel-btn",onClick:()=>ce(oe),disabled:A===oe.id,children:A===oe.id?"Cancelling...":"Cancel"})]})]},oe.id))})]}),g.jsxs("div",{className:"completed-section",children:[g.jsxs("h3",{children:["Completed Sessions (",St,")"]}),St===0?g.jsx("div",{className:"no-sessions",children:g.jsx("p",{children:"No completed sessions yet"})}):g.jsxs("div",{className:"sessions-list completed",children:[s.filter(oe=>ne(oe)).slice(-5).reverse().map(oe=>g.jsxs("div",{className:"session-card completed",children:[g.jsxs("div",{className:"session-info",children:[g.jsx("div",{className:"session-date",children:Ne(oe.date)}),g.jsx("div",{className:"session-time",children:Me(oe.time)})]}),g.jsx("span",{className:"completed-badge",children:"Completed"})]},oe.id)),St>5&&g.jsxs("div",{className:"more-sessions",children:["And ",St-5," more completed sessions"]})]})]})]}),L&&z&&g.jsx("div",{className:"modal-overlay",onClick:Ie,children:g.jsxs("div",{className:"reschedule-modal",onClick:oe=>oe.stopPropagation(),children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h3",{children:"Reschedule Session"}),g.jsx("button",{className:"close-modal-btn",onClick:Ie,children:""})]}),g.jsxs("div",{className:"modal-body",children:[g.jsx("div",{className:"current-session-info",children:g.jsxs("p",{children:["Current: ",g.jsx("strong",{children:Ne(z.date)})," at ",g.jsx("strong",{children:Me(z.time)})]})}),g.jsxs("div",{className:"date-selection",children:[g.jsx("h4",{children:"Select New Date"}),In.length===0?g.jsx("p",{className:"no-dates",children:"No available dates within your training block"}):g.jsx("div",{className:"dates-grid",children:In.slice(0,14).map((oe,be)=>g.jsxs("button",{className:`date-btn ${K&&ua(K)===ua(oe)?"selected":""}`,onClick:()=>It(oe),children:[g.jsx("span",{className:"date-day",children:oe.toLocaleDateString("en-GB",{weekday:"short"})}),g.jsx("span",{className:"date-num",children:oe.getDate()}),g.jsx("span",{className:"date-month",children:oe.toLocaleDateString("en-GB",{month:"short"})})]},be))})]}),K&&g.jsxs("div",{className:"time-selection",children:[g.jsx("h4",{children:"Select Time"}),te.length===0?g.jsx("p",{className:"no-slots",children:"No available slots on this date"}):g.jsx("div",{className:"times-grid",children:te.map((oe,be)=>g.jsx("button",{className:`time-btn ${pe===oe.time?"selected":""} ${oe.period}`,onClick:()=>G(oe.time),children:Me(oe.time)},be))})]})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{className:"cancel-modal-btn",onClick:Ie,children:"Cancel"}),g.jsx("button",{className:"submit-reschedule-btn",onClick:Dt,disabled:!K||!pe||C,children:C?"Submitting...":"Request Reschedule"})]})]})})]})}function zO(){const[s,e]=V.useState(null),[n,r]=V.useState(!1),{currentUser:o,isClient:u,clientData:h,logout:m,loading:p}=Ho(),v=Cs(),[T,S]=V.useState({fitnessGoals:"",currentActivityLevel:"",exerciseHistory:"",injuries:"",medicalConditions:"",sleepHours:"",stressLevel:"",dietaryInfo:"",availability:"",additionalInfo:""}),[A,U]=V.useState({q1HeartCondition:!1,q2ChestPain:!1,q3ChestPainLastMonth:!1,q4Balance:!1,q5BoneJoint:!1,q6BloodPressure:!1,q7OtherReason:!1,additionalDetails:"",declaration:!1});V.useEffect(()=>{!p&&(!o||!u)&&v("/")},[o,u,p,v]),V.useEffect(()=>{h?.welcomeForm&&S(h.welcomeForm),h?.parqForm&&U(h.parqForm)},[h]);const L=pe=>{const{name:G,value:te}=pe.target;S(I=>({...I,[G]:te}))},k=pe=>{const{name:G,type:te,checked:I,value:C}=pe.target;U(R=>({...R,[G]:te==="checkbox"?I:C}))},z=async()=>{r(!0);try{await Tr(cn(ze,"clients",h.id),{welcomeForm:{...T,completedAt:Pe.now()}}),alert("Welcome form saved successfully!"),e(null)}catch(pe){console.error("Error saving welcome form:",pe),alert("Failed to save form. Please try again.")}r(!1)},W=async()=>{if(!A.declaration){alert("Please confirm the declaration to submit the form.");return}r(!0);try{await Tr(cn(ze,"clients",h.id),{parqForm:{...A,completedAt:Pe.now()}}),alert("PAR-Q form saved successfully!"),e(null)}catch(pe){console.error("Error saving PAR-Q form:",pe),alert("Failed to save form. Please try again.")}r(!1)};if(p)return g.jsx("div",{className:"client-loading",children:"Loading..."});if(!o||!u||!h)return null;const K=!!h?.welcomeForm?.completedAt,le=!!h?.parqForm?.completedAt;return g.jsxs("div",{className:"client-forms-page",children:[g.jsx("header",{className:"client-header",children:g.jsx("div",{className:"header-content",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),g.jsxs("main",{className:"forms-main",children:[g.jsx("button",{className:"back-btn",onClick:()=>v("/client"),children:" Back"}),s?s==="welcome"?g.jsxs("div",{className:"form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{children:"Welcome Questionnaire"}),g.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),g.jsxs("div",{className:"form-body",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"What are your main fitness goals?"}),g.jsx("textarea",{name:"fitnessGoals",value:T.fitnessGoals,onChange:L,placeholder:"e.g., Lose weight, build muscle, improve endurance, increase flexibility...",rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How would you describe your current activity level?"}),g.jsxs("select",{name:"currentActivityLevel",value:T.currentActivityLevel,onChange:L,children:[g.jsx("option",{value:"",children:"Select..."}),g.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-2 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-4 days/week)"}),g.jsx("option",{value:"active",children:"Very Active (5+ days/week)"}),g.jsx("option",{value:"athlete",children:"Athlete/Highly Active"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"What is your exercise history?"}),g.jsx("textarea",{name:"exerciseHistory",value:T.exerciseHistory,onChange:L,placeholder:"Describe your previous experience with exercise, sports, or training...",rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Do you have any current or past injuries?"}),g.jsx("textarea",{name:"injuries",value:T.injuries,onChange:L,placeholder:"List any injuries that may affect your training...",rows:"2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Do you have any medical conditions we should know about?"}),g.jsx("textarea",{name:"medicalConditions",value:T.medicalConditions,onChange:L,placeholder:"e.g., Diabetes, asthma, heart conditions...",rows:"2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How many hours of sleep do you typically get?"}),g.jsxs("select",{name:"sleepHours",value:T.sleepHours,onChange:L,children:[g.jsx("option",{value:"",children:"Select..."}),g.jsx("option",{value:"less-5",children:"Less than 5 hours"}),g.jsx("option",{value:"5-6",children:"5-6 hours"}),g.jsx("option",{value:"7-8",children:"7-8 hours"}),g.jsx("option",{value:"more-8",children:"More than 8 hours"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How would you rate your current stress level?"}),g.jsxs("select",{name:"stressLevel",value:T.stressLevel,onChange:L,children:[g.jsx("option",{value:"",children:"Select..."}),g.jsx("option",{value:"low",children:"Low"}),g.jsx("option",{value:"moderate",children:"Moderate"}),g.jsx("option",{value:"high",children:"High"}),g.jsx("option",{value:"very-high",children:"Very High"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Tell us about your diet/nutrition"}),g.jsx("textarea",{name:"dietaryInfo",value:T.dietaryInfo,onChange:L,placeholder:"Any dietary restrictions, typical eating habits, nutrition goals...",rows:"3"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"What is your preferred training schedule/availability?"}),g.jsx("textarea",{name:"availability",value:T.availability,onChange:L,placeholder:"Days and times that work best for you...",rows:"2"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Anything else you'd like us to know?"}),g.jsx("textarea",{name:"additionalInfo",value:T.additionalInfo,onChange:L,placeholder:"Any other information that might be helpful...",rows:"3"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),g.jsx("button",{className:"save-btn",onClick:z,disabled:n,children:n?"Saving...":"Save"})]})]})]}):g.jsxs("div",{className:"form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{children:"PAR-Q Health Screening"}),g.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),g.jsxs("div",{className:"form-body",children:[g.jsx("div",{className:"parq-intro",children:g.jsx("p",{children:"The Physical Activity Readiness Questionnaire (PAR-Q) is designed to identify those who should check with a doctor before starting an exercise program."})}),g.jsxs("div",{className:"parq-questions",children:[g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q1HeartCondition",checked:A.q1HeartCondition,onChange:k}),g.jsx("span",{children:"Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q2ChestPain",checked:A.q2ChestPain,onChange:k}),g.jsx("span",{children:"Do you feel pain in your chest when you do physical activity?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q3ChestPainLastMonth",checked:A.q3ChestPainLastMonth,onChange:k}),g.jsx("span",{children:"In the past month, have you had chest pain when you were not doing physical activity?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q4Balance",checked:A.q4Balance,onChange:k}),g.jsx("span",{children:"Do you lose your balance because of dizziness or do you ever lose consciousness?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q5BoneJoint",checked:A.q5BoneJoint,onChange:k}),g.jsx("span",{children:"Do you have a bone or joint problem that could be made worse by a change in your physical activity?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q6BloodPressure",checked:A.q6BloodPressure,onChange:k}),g.jsx("span",{children:"Is your doctor currently prescribing drugs for your blood pressure or heart condition?"})]})}),g.jsx("div",{className:"parq-question",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"q7OtherReason",checked:A.q7OtherReason,onChange:k}),g.jsx("span",{children:"Do you know of any other reason why you should not do physical activity?"})]})})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"If you answered YES to any questions, please provide details:"}),g.jsx("textarea",{name:"additionalDetails",value:A.additionalDetails,onChange:k,placeholder:"Please explain any conditions or concerns...",rows:"4"})]}),g.jsx("div",{className:"parq-declaration",children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"declaration",checked:A.declaration,onChange:k}),g.jsx("span",{children:"I have read, understood and completed this questionnaire. Any questions I had were answered to my full satisfaction. I confirm that the information provided is accurate to the best of my knowledge."})]})}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),g.jsx("button",{className:"save-btn",onClick:W,disabled:n,children:n?"Saving...":"Submit"})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"forms-intro",children:[g.jsx("h2",{children:"Forms"}),g.jsx("p",{children:"Please complete these forms to help us better understand your fitness journey and ensure your safety."})]}),g.jsxs("div",{className:"forms-list",children:[g.jsxs("div",{className:`form-card ${K?"completed":""}`,children:[g.jsxs("div",{className:"form-card-info",children:[g.jsx("h3",{children:"Welcome Questionnaire"}),g.jsx("p",{children:"Tell us about your fitness goals, experience, and lifestyle."}),K&&g.jsx("span",{className:"completed-badge",children:"Completed"})]}),g.jsx("button",{onClick:()=>e("welcome"),children:K?"View / Edit":"Start"})]}),g.jsxs("div",{className:`form-card ${le?"completed":""}`,children:[g.jsxs("div",{className:"form-card-info",children:[g.jsx("h3",{children:"PAR-Q Health Screening"}),g.jsx("p",{children:"Physical Activity Readiness Questionnaire for your safety."}),le&&g.jsx("span",{className:"completed-badge",children:"Completed"})]}),g.jsx("button",{onClick:()=>e("parq"),children:le?"View / Edit":"Start"})]})]})]})]})]})}function BO(){const{currentUser:s,isClient:e,clientData:n,loading:r}=Ho(),o=Cs(),[u,h]=V.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",activityLevel:"moderate",goal:"maintain",deficitLevel:"moderate"}),[m,p]=V.useState(null),[v,T]=V.useState(!1);V.useEffect(()=>{!r&&(!s||!e)&&o("/")},[s,e,r,o]);const S=k=>{const{name:z,value:W}=k.target;h(K=>({...K,[z]:W})),T(!1)},A=()=>{let k=parseFloat(u.weight);u.weightUnit==="lbs"&&(k=k*.453592);let z;if(u.heightUnit==="cm")z=parseFloat(u.height);else{const ye=parseFloat(u.heightFeet)||0,Ue=parseFloat(u.heightInches)||0;z=ye*30.48+Ue*2.54}const W=parseInt(u.age);let K;u.gender==="male"?K=10*k+6.25*z-5*W+5:K=10*k+6.25*z-5*W-161;const pe=K*{sedentary:1.2,light:1.375,moderate:1.55,active:1.725,veryActive:1.9}[u.activityLevel];let G=pe,te;switch(u.goal){case"lose":G=pe-{light:250,moderate:500,harsh:750}[u.deficitLevel],te=2;break;case"build":G=pe+300,te=2;break;default:te=1.8;break}const I=u.gender==="male"?1500:1200;G=Math.max(G,I);const C=Math.round(k*te),R=C*4,N=G*.25,x=Math.round(N/9),M=G-R-N,D=Math.round(M/4);p({bmr:Math.round(K),tdee:Math.round(pe),targetCalories:Math.round(G),protein:C,carbs:D,fats:x,proteinCalories:Math.round(R),carbCalories:Math.round(M),fatCalories:Math.round(N)}),T(!0)},U=()=>{const k=u.weight&&parseFloat(u.weight)>0,z=u.age&&parseInt(u.age)>0;let W;return u.heightUnit==="cm"?W=u.height&&parseFloat(u.height)>0:W=u.heightFeet&&parseFloat(u.heightFeet)>0||u.heightInches&&parseFloat(u.heightInches)>0,k&&z&&W},L=()=>{switch(u.goal){case"lose":return"Weight Loss";case"build":return"Muscle Building";default:return"Maintenance"}};return r?g.jsx("div",{className:"client-loading",children:"Loading..."}):!s||!e||!n?null:g.jsxs("div",{className:"client-tools-page",children:[g.jsx("header",{className:"client-header",children:g.jsx("div",{className:"header-content",children:g.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),g.jsxs("main",{className:"tools-main",children:[g.jsx("button",{className:"back-btn",onClick:()=>o("/client"),children:" Back"}),g.jsxs("div",{className:"tools-intro",children:[g.jsx("h2",{children:"Tools"}),g.jsx("p",{children:"Use these tools to help plan your nutrition and track your progress."})]}),g.jsxs("div",{className:"tool-card",children:[g.jsxs("div",{className:"tool-header",children:[g.jsx("h3",{children:"Macro Calculator"}),g.jsx("p",{children:"Calculate your daily calorie and macro targets based on your goals."})]}),g.jsxs("div",{className:"calculator-form",children:[g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Gender"}),g.jsxs("div",{className:"toggle-group",children:[g.jsx("button",{type:"button",className:u.gender==="male"?"active":"",onClick:()=>{h(k=>({...k,gender:"male"})),T(!1)},children:"Male"}),g.jsx("button",{type:"button",className:u.gender==="female"?"active":"",onClick:()=>{h(k=>({...k,gender:"female"})),T(!1)},children:"Female"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Age"}),g.jsx("input",{type:"number",name:"age",value:u.age,onChange:S,placeholder:"Years",min:"15",max:"100"})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Weight"}),g.jsxs("div",{className:"input-with-unit",children:[g.jsx("input",{type:"number",name:"weight",value:u.weight,onChange:S,placeholder:u.weightUnit==="kg"?"kg":"lbs",min:"30",max:"300"}),g.jsxs("div",{className:"unit-toggle",children:[g.jsx("button",{type:"button",className:u.weightUnit==="kg"?"active":"",onClick:()=>{h(k=>({...k,weightUnit:"kg"})),T(!1)},children:"kg"}),g.jsx("button",{type:"button",className:u.weightUnit==="lbs"?"active":"",onClick:()=>{h(k=>({...k,weightUnit:"lbs"})),T(!1)},children:"lbs"})]})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Height"}),g.jsxs("div",{className:"input-with-unit",children:[u.heightUnit==="cm"?g.jsx("input",{type:"number",name:"height",value:u.height,onChange:S,placeholder:"cm",min:"100",max:"250"}):g.jsxs("div",{className:"height-imperial",children:[g.jsx("input",{type:"number",name:"heightFeet",value:u.heightFeet,onChange:S,placeholder:"ft",min:"4",max:"7"}),g.jsx("input",{type:"number",name:"heightInches",value:u.heightInches,onChange:S,placeholder:"in",min:"0",max:"11"})]}),g.jsxs("div",{className:"unit-toggle",children:[g.jsx("button",{type:"button",className:u.heightUnit==="cm"?"active":"",onClick:()=>{h(k=>({...k,heightUnit:"cm"})),T(!1)},children:"cm"}),g.jsx("button",{type:"button",className:u.heightUnit==="ft"?"active":"",onClick:()=>{h(k=>({...k,heightUnit:"ft"})),T(!1)},children:"ft/in"})]})]})]})]}),g.jsxs("div",{className:"form-group full-width",children:[g.jsx("label",{children:"Activity Level"}),g.jsxs("select",{name:"activityLevel",value:u.activityLevel,onChange:S,children:[g.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),g.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),g.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),g.jsx("option",{value:"active",children:"Very Active (6-7 days/week)"}),g.jsx("option",{value:"veryActive",children:"Extra Active (athlete/physical job)"})]})]}),g.jsxs("div",{className:"form-group full-width",children:[g.jsx("label",{children:"Fitness Goal"}),g.jsxs("div",{className:"goal-options",children:[g.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="lose"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"lose"})),T(!1)},children:[g.jsx("span",{className:"goal-icon",children:"-"}),g.jsx("span",{children:"Lose Weight"})]}),g.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="maintain"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"maintain"})),T(!1)},children:[g.jsx("span",{className:"goal-icon",children:"="}),g.jsx("span",{children:"Maintain"})]}),g.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="build"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"build"})),T(!1)},children:[g.jsx("span",{className:"goal-icon",children:"+"}),g.jsx("span",{children:"Build Muscle"})]})]})]}),u.goal==="lose"&&g.jsxs("div",{className:"form-group full-width deficit-section",children:[g.jsx("label",{children:"Calorie Deficit Level"}),g.jsxs("div",{className:"deficit-options",children:[g.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="light"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"light"})),T(!1)},children:[g.jsx("span",{className:"deficit-name",children:"Light"}),g.jsx("span",{className:"deficit-desc",children:"-250 cal/day"}),g.jsx("span",{className:"deficit-rate",children:"~0.5 lb/week"})]}),g.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="moderate"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"moderate"})),T(!1)},children:[g.jsx("span",{className:"deficit-name",children:"Moderate"}),g.jsx("span",{className:"deficit-desc",children:"-500 cal/day"}),g.jsx("span",{className:"deficit-rate",children:"~1 lb/week"})]}),g.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="harsh"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"harsh"})),T(!1)},children:[g.jsx("span",{className:"deficit-name",children:"Aggressive"}),g.jsx("span",{className:"deficit-desc",children:"-750 cal/day"}),g.jsx("span",{className:"deficit-rate",children:"~1.5 lb/week"})]})]})]}),g.jsx("button",{className:"calculate-btn",onClick:A,disabled:!U(),children:"Calculate Macros"})]}),v&&m&&g.jsxs("div",{className:"results-section",children:[g.jsxs("div",{className:"results-header",children:[g.jsx("h4",{children:"Your Daily Targets"}),g.jsx("span",{className:"goal-badge",children:L()})]}),g.jsxs("div",{className:"calories-display",children:[g.jsx("span",{className:"calories-value",children:m.targetCalories}),g.jsx("span",{className:"calories-label",children:"calories/day"})]}),g.jsxs("div",{className:"macros-grid",children:[g.jsxs("div",{className:"macro-card protein",children:[g.jsxs("div",{className:"macro-value",children:[m.protein,"g"]}),g.jsx("div",{className:"macro-label",children:"Protein"}),g.jsxs("div",{className:"macro-calories",children:[m.proteinCalories," cal"]})]}),g.jsxs("div",{className:"macro-card carbs",children:[g.jsxs("div",{className:"macro-value",children:[m.carbs,"g"]}),g.jsx("div",{className:"macro-label",children:"Carbs"}),g.jsxs("div",{className:"macro-calories",children:[m.carbCalories," cal"]})]}),g.jsxs("div",{className:"macro-card fats",children:[g.jsxs("div",{className:"macro-value",children:[m.fats,"g"]}),g.jsx("div",{className:"macro-label",children:"Fats"}),g.jsxs("div",{className:"macro-calories",children:[m.fatCalories," cal"]})]})]}),g.jsxs("div",{className:"results-info",children:[g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Basal Metabolic Rate (BMR)"}),g.jsxs("span",{children:[m.bmr," cal"]})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{children:"Total Daily Energy Expenditure (TDEE)"}),g.jsxs("span",{children:[m.tdee," cal"]})]})]}),g.jsx("div",{className:"results-note",children:g.jsx("p",{children:"These are estimated values. Individual results may vary based on metabolism, body composition, and other factors. Consult with your trainer for personalized guidance."})})]})]})]})]})}function qO(){const s=Cs();return V.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";s(n,{replace:!0})}},[s]),null}function HO(){return g.jsx(yO,{children:g.jsxs(j1,{basename:"/login",children:[g.jsx(qO,{}),g.jsxs(d1,{children:[g.jsx(ur,{path:"/",element:g.jsx(vO,{})}),g.jsx(ur,{path:"/dashboard",element:g.jsx(OO,{})}),g.jsx(ur,{path:"/add-client",element:g.jsx(MO,{})}),g.jsx(ur,{path:"/client",element:g.jsx(UO,{})}),g.jsx(ur,{path:"/client/forms",element:g.jsx(zO,{})}),g.jsx(ur,{path:"/client/tools",element:g.jsx(BO,{})}),g.jsx(ur,{path:"*",element:g.jsx(c1,{to:"/",replace:!0})})]})]})})}mw.createRoot(document.getElementById("root")).render(g.jsx(V.StrictMode,{children:g.jsx(HO,{})}));
