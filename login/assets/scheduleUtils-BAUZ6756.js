const k={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"12:00",end:"17:00"},defaultBlocked:!0}},H=["monday","tuesday","wednesday","thursday","friday"],b=["Monday","Tuesday","Wednesday","Thursday","Friday"],B=e=>{const[t,o]=e.split(":"),n=parseInt(t),d=n>=12?"pm":"am";return`${n>12?n-12:n===0?12:n}:${o}${d}`},D=e=>{const t=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return`${t}-${o}-${n}`},S=e=>{const[t,o]=e.split(":").map(Number);return t*60+o},u=(e,t)=>{const o=S(e)+t,n=Math.floor(o/60),d=o%60;return`${n.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`},I=e=>{const t=k[e];if(!t)return[];const o=[];if(t.morning){let n=t.morning.start;for(;n<t.morning.end;)o.push({time:n,period:"morning"}),n=u(n,15)}if(t.afternoon){let n=t.afternoon.start;for(;n<t.afternoon.end;)o.push({time:n,period:"afternoon"}),n=u(n,15)}return o},C=e=>{const t=e.getDay();return t>=1&&t<=5},A=e=>{const t=e.getDay();return t===0||t===6?null:H[t-1]},N=(e,t,o,n,d,f=null,g=[],m=[])=>{const y=A(e);if(!y)return!1;const i=D(e),s=k[y];if(d.some(r=>r.date===i))return!1;if(s.defaultBlocked){const r=Math.ceil(o/15);for(let a=0;a<r;a++){const l=u(t,a*15);if(!m.some(c=>c.date===i&&c.time===l))return!1}}else{const r=Math.ceil(o/15);for(let a=0;a<r;a++){const l=u(t,a*15);if(g.some(c=>c.date===i&&c.time===l))return!1}}const h=new Date,p=D(h);if(i<p)return!1;if(i===p){const r=`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}`;if(t<r)return!1}const T=u(t,o),M=s.morning&&t>=s.morning.start&&t<s.morning.end,$=s.afternoon&&t>=s.afternoon.start&&t<s.afternoon.end,E=s.morning&&T<=s.morning.end,w=s.afternoon&&T<=s.afternoon.end;if(M&&!E||$&&!w||!M&&!$)return!1;for(const r of n){if(f&&r.id===f||r.date!==i)continue;const a=S(r.time),l=a+(r.duration||45),c=S(t),F=c+o;if(c<l&&F>a)return!1}return!0},L=(e,t,o,n,d=null,f=[],g=[])=>{const m=A(e);return m?I(m).filter(i=>N(e,i.time,t,o,n,d,f,g)):[]};export{b as D,k as S,B as a,H as b,u as c,L as d,D as f,I as g,C as i,S as t};
