const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-Cji7Fs4W.js","assets/Dashboard-BI21Q1GR.css","assets/AddClient-lYN_K6PM.js","assets/AddClient-DH1OFzHo.css","assets/ClientDashboard-BA7Etxjh.js","assets/ClientDashboard-DWAc5Nzm.css","assets/ClientForms-BOgrgS8k.js","assets/ClientForms-GDNtnrAx.css","assets/ClientTools-CwSjq0op.js","assets/ClientTools-DQRPoST3.css","assets/MacroCalculator-oPgAcKTA.js","assets/ProteinSnacks-DekUtY_q.js","assets/DailyMotivation-CGWl9HMl.js","assets/PersonalBests-C35-R9U1.js","assets/PersonalBests-BorDtzjd.css","assets/CircuitDashboard-BSxJQl0K.js","assets/CircuitDashboard-MPNVarsJ.css","assets/CircuitBooking-BwajeesP.js","assets/CircuitBooking-ruk9Q4Wj.css","assets/Leaderboard-OANi5gEu.js","assets/Leaderboard-DUGNGeOY.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Im={exports:{}},mc={};var gb;function aT(){if(gb)return mc;gb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:d,ref:o!==void 0?o:null,props:u}}return mc.Fragment=e,mc.jsx=n,mc.jsxs=n,mc}var yb;function oT(){return yb||(yb=1,Im.exports=aT()),Im.exports}var c=oT(),Dm={exports:{}},rt={};var vb;function lT(){if(vb)return rt;vb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),T=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,z={};function ce(P,te,Z){this.props=P,this.context=te,this.refs=z,this.updater=Z||q}ce.prototype.isReactComponent={},ce.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},ce.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function J(){}J.prototype=ce.prototype;function me(P,te,Z){this.props=P,this.context=te,this.refs=z,this.updater=Z||q}var we=me.prototype=new J;we.constructor=me,H(we,ce.prototype),we.isPureReactComponent=!0;var je=Array.isArray;function Re(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(P,te,Z){var he=Z.ref;return{$$typeof:r,type:P,key:te,ref:he!==void 0?he:null,props:Z}}function I(P,te){return R(P.type,te,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function B(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Z){return te[Z]})}var j=/\/+/g;function Je(P,te){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):te.toString(36)}function ht(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Re,Re):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,te,Z,he,ke){var Ee=typeof P;(Ee==="undefined"||Ee==="boolean")&&(P=null);var Oe=!1;if(P===null)Oe=!0;else switch(Ee){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(P.$$typeof){case r:case e:Oe=!0;break;case w:return Oe=P._init,W(Oe(P._payload),te,Z,he,ke)}}if(Oe)return ke=ke(P),Oe=he===""?"."+Je(P,0):he,je(ke)?(Z="",Oe!=null&&(Z=Oe.replace(j,"$&/")+"/"),W(ke,te,Z,"",function(Ot){return Ot})):ke!=null&&(D(ke)&&(ke=I(ke,Z+(ke.key==null||P&&P.key===ke.key?"":(""+ke.key).replace(j,"$&/")+"/")+Oe)),te.push(ke)),1;Oe=0;var $e=he===""?".":he+":";if(je(P))for(var Ke=0;Ke<P.length;Ke++)he=P[Ke],Ee=$e+Je(he,Ke),Oe+=W(he,te,Z,Ee,ke);else if(Ke=O(P),typeof Ke=="function")for(P=Ke.call(P),Ke=0;!(he=P.next()).done;)he=he.value,Ee=$e+Je(he,Ke++),Oe+=W(he,te,Z,Ee,ke);else if(Ee==="object"){if(typeof P.then=="function")return W(ht(P),te,Z,he,ke);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function se(P,te,Z){if(P==null)return P;var he=[],ke=0;return W(P,he,"","",function(Ee){return te.call(Z,Ee,ke++)}),he}function ge(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(Z){(P._status===0||P._status===-1)&&(P._status=1,P._result=Z)},function(Z){(P._status===0||P._status===-1)&&(P._status=2,P._result=Z)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var De=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ze={map:se,forEach:function(P,te,Z){se(P,function(){te.apply(this,arguments)},Z)},count:function(P){var te=0;return se(P,function(){te++}),te},toArray:function(P){return se(P,function(te){return te})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return rt.Activity=x,rt.Children=ze,rt.Component=ce,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=me,rt.StrictMode=i,rt.Suspense=g,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,rt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},rt.cache=function(P){return function(){return P.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(P,te,Z){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=H({},P.props),ke=P.key;if(te!=null)for(Ee in te.key!==void 0&&(ke=""+te.key),te)!S.call(te,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&te.ref===void 0||(he[Ee]=te[Ee]);var Ee=arguments.length-2;if(Ee===1)he.children=Z;else if(1<Ee){for(var Oe=Array(Ee),$e=0;$e<Ee;$e++)Oe[$e]=arguments[$e+2];he.children=Oe}return R(P.type,ke,he)},rt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},rt.createElement=function(P,te,Z){var he,ke={},Ee=null;if(te!=null)for(he in te.key!==void 0&&(Ee=""+te.key),te)S.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ke[he]=te[he]);var Oe=arguments.length-2;if(Oe===1)ke.children=Z;else if(1<Oe){for(var $e=Array(Oe),Ke=0;Ke<Oe;Ke++)$e[Ke]=arguments[Ke+2];ke.children=$e}if(P&&P.defaultProps)for(he in Oe=P.defaultProps,Oe)ke[he]===void 0&&(ke[he]=Oe[he]);return R(P,Ee,ke)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(P){return{$$typeof:p,render:P}},rt.isValidElement=D,rt.lazy=function(P){return{$$typeof:w,_payload:{_status:-1,_result:P},_init:ge}},rt.memo=function(P,te){return{$$typeof:y,type:P,compare:te===void 0?null:te}},rt.startTransition=function(P){var te=N.T,Z={};N.T=Z;try{var he=P(),ke=N.S;ke!==null&&ke(Z,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Re,De)}catch(Ee){De(Ee)}finally{te!==null&&Z.types!==null&&(te.types=Z.types),N.T=te}},rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},rt.use=function(P){return N.H.use(P)},rt.useActionState=function(P,te,Z){return N.H.useActionState(P,te,Z)},rt.useCallback=function(P,te){return N.H.useCallback(P,te)},rt.useContext=function(P){return N.H.useContext(P)},rt.useDebugValue=function(){},rt.useDeferredValue=function(P,te){return N.H.useDeferredValue(P,te)},rt.useEffect=function(P,te){return N.H.useEffect(P,te)},rt.useEffectEvent=function(P){return N.H.useEffectEvent(P)},rt.useId=function(){return N.H.useId()},rt.useImperativeHandle=function(P,te,Z){return N.H.useImperativeHandle(P,te,Z)},rt.useInsertionEffect=function(P,te){return N.H.useInsertionEffect(P,te)},rt.useLayoutEffect=function(P,te){return N.H.useLayoutEffect(P,te)},rt.useMemo=function(P,te){return N.H.useMemo(P,te)},rt.useOptimistic=function(P,te){return N.H.useOptimistic(P,te)},rt.useReducer=function(P,te,Z){return N.H.useReducer(P,te,Z)},rt.useRef=function(P){return N.H.useRef(P)},rt.useState=function(P){return N.H.useState(P)},rt.useSyncExternalStore=function(P,te,Z){return N.H.useSyncExternalStore(P,te,Z)},rt.useTransition=function(){return N.H.useTransition()},rt.version="19.2.4",rt}var bb;function qp(){return bb||(bb=1,Dm.exports=lT()),Dm.exports}var k=qp(),Mm={exports:{}},pc={},Pm={exports:{}},Om={};var _b;function cT(){return _b||(_b=1,(function(r){function e(W,se){var ge=W.length;W.push(se);e:for(;0<ge;){var De=ge-1>>>1,ze=W[De];if(0<o(ze,se))W[De]=se,W[ge]=ze,ge=De;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var se=W[0],ge=W.pop();if(ge!==se){W[0]=ge;e:for(var De=0,ze=W.length,P=ze>>>1;De<P;){var te=2*(De+1)-1,Z=W[te],he=te+1,ke=W[he];if(0>o(Z,ge))he<ze&&0>o(ke,Z)?(W[De]=ke,W[he]=ge,De=he):(W[De]=Z,W[te]=ge,De=te);else if(he<ze&&0>o(ke,ge))W[De]=ke,W[he]=ge,De=he;else break e}}return se}function o(W,se){var ge=W.sortIndex-se.sortIndex;return ge!==0?ge:W.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],w=1,x=null,T=3,O=!1,q=!1,H=!1,z=!1,ce=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function we(W){for(var se=n(y);se!==null;){if(se.callback===null)i(y);else if(se.startTime<=W)i(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function je(W){if(H=!1,we(W),!q)if(n(g)!==null)q=!0,Re||(Re=!0,B());else{var se=n(y);se!==null&&ht(je,se.startTime-W)}}var Re=!1,N=-1,S=5,R=-1;function I(){return z?!0:!(r.unstable_now()-R<S)}function D(){if(z=!1,Re){var W=r.unstable_now();R=W;var se=!0;try{e:{q=!1,H&&(H=!1,J(N),N=-1),O=!0;var ge=T;try{t:{for(we(W),x=n(g);x!==null&&!(x.expirationTime>W&&I());){var De=x.callback;if(typeof De=="function"){x.callback=null,T=x.priorityLevel;var ze=De(x.expirationTime<=W);if(W=r.unstable_now(),typeof ze=="function"){x.callback=ze,we(W),se=!0;break t}x===n(g)&&i(g),we(W)}else i(g);x=n(g)}if(x!==null)se=!0;else{var P=n(y);P!==null&&ht(je,P.startTime-W),se=!1}}break e}finally{x=null,T=ge,O=!1}se=void 0}}finally{se?B():Re=!1}}}var B;if(typeof me=="function")B=function(){me(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Je=j.port2;j.port1.onmessage=D,B=function(){Je.postMessage(null)}}else B=function(){ce(D,0)};function ht(W,se){N=ce(function(){W(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(W){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var ge=T;T=se;try{return W()}finally{T=ge}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=T;T=W;try{return se()}finally{T=ge}},r.unstable_scheduleCallback=function(W,se,ge){var De=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,W){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ge+ze,W={id:w++,callback:se,priorityLevel:W,startTime:ge,expirationTime:ze,sortIndex:-1},ge>De?(W.sortIndex=ge,e(y,W),n(g)===null&&W===n(y)&&(H?(J(N),N=-1):H=!0,ht(je,ge-De))):(W.sortIndex=ze,e(g,W),q||O||(q=!0,Re||(Re=!0,B()))),W},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(W){var se=T;return function(){var ge=T;T=se;try{return W.apply(this,arguments)}finally{T=ge}}}})(Om)),Om}var wb;function uT(){return wb||(wb=1,Pm.exports=cT()),Pm.exports}var Lm={exports:{}},ts={};var xb;function hT(){if(xb)return ts;xb=1;var r=qp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ts.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ts.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,w)},ts.flushSync=function(g){var y=d.T,w=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=w,i.d.f()}},ts.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},ts.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},ts.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:O}):w==="script"&&i.d.X(g,{crossOrigin:x,integrity:T,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ts.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},ts.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin);i.d.L(g,w,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ts.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},ts.requestFormReset=function(g){i.d.r(g)},ts.unstable_batchedUpdates=function(g,y){return g(y)},ts.useFormState=function(g,y,w){return d.H.useFormState(g,y,w)},ts.useFormStatus=function(){return d.H.useHostTransitionStatus()},ts.version="19.2.4",ts}var Eb;function dT(){if(Eb)return Lm.exports;Eb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lm.exports=hT(),Lm.exports}var Tb;function fT(){if(Tb)return pc;Tb=1;var r=uT(),e=qp(),n=dT();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===l)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,E=f.child;E;){if(E===a){b=!0,a=f,l=m;break}if(E===l){b=!0,l=f,a=m;break}E=E.sibling}if(!b){for(E=m.child;E;){if(E===a){b=!0,a=m,l=f;break}if(E===l){b=!0,l=m,a=f;break}E=E.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,T=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),me=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case ce:return"Profiler";case z:return"StrictMode";case je:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case me:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case we:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return s=t.displayName||null,s!==null?s:Je(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return Je(t(s))}catch{}}return null}var ht=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],ze=-1;function P(t){return{current:t}}function te(t){0>ze||(t.current=De[ze],De[ze]=null,ze--)}function Z(t,s){ze++,De[ze]=t.current,t.current=s}var he=P(null),ke=P(null),Ee=P(null),Oe=P(null);function $e(t,s){switch(Z(Ee,s),Z(ke,t),Z(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?U0(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=U0(s),t=B0(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),Z(he,t)}function Ke(){te(he),te(ke),te(Ee)}function Ot(t){t.memoizedState!==null&&Z(Oe,t);var s=he.current,a=B0(s,t.type);s!==a&&(Z(ke,t),Z(he,a))}function zt(t){ke.current===t&&(te(he),te(ke)),Oe.current===t&&(te(Oe),uc._currentValue=ge)}var Rt,en;function ie(t){if(Rt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Rt=s&&s[1]||"",en=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+t+en}var an=!1;function Lt(t,s){if(!t||an)return"";an=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ee){var Y=ee}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(ee){Y=ee}t.call(fe.prototype)}}else{try{throw Error()}catch(ee){Y=ee}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ee){if(ee&&Y&&typeof ee.stack=="string")return[ee.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],E=m[1];if(b&&E){var M=b.split(`
`),K=E.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===K.length)for(l=M.length-1,f=K.length-1;1<=l&&0<=f&&M[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==K[f]){var le=`
`+M[l].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=l&&0<=f);break}}}finally{an=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ie(a):""}function xt(t,s){switch(t.tag){case 26:case 27:case 5:return ie(t.type);case 16:return ie("Lazy");case 13:return t.child!==s&&s!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return Lt(t.type,!1);case 11:return Lt(t.type.render,!1);case 1:return Lt(t.type,!0);case 31:return ie("Activity");default:return""}}function Et(t){try{var s="",a=null;do s+=xt(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tt=Object.prototype.hasOwnProperty,et=r.unstable_scheduleCallback,$t=r.unstable_cancelCallback,Gr=r.unstable_shouldYield,Vs=r.unstable_requestPaint,Vt=r.unstable_now,Mn=r.unstable_getCurrentPriorityLevel,on=r.unstable_ImmediatePriority,xn=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ye=r.unstable_LowPriority,_e=r.unstable_IdlePriority,Be=r.log,Ce=r.unstable_setDisableYieldValue,Te=null,Me=null;function Le(t){if(typeof Be=="function"&&Ce(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Te,t)}catch{}}var Fe=Math.clz32?Math.clz32:Mt,mt=Math.log,Kt=Math.LN2;function Mt(t){return t>>>=0,t===0?32:31-(mt(t)/Kt|0)|0}var dn=256,ps=262144,Ft=4194304;function Un(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function jn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?f=Un(l):(b&=E,b!==0?f=Un(b):a||(a=E&~t,a!==0&&(f=Un(a))))):(E=l&~m,E!==0?f=Un(E):b!==0?f=Un(b):a||(a=l&~t,a!==0&&(f=Un(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Jn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function sr(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var t=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),t}function Zn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Us(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $r(t,s,a,l,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,M=t.expirationTimes,K=t.hiddenUpdates;for(a=b&~a;0<a;){var le=31-Fe(a),fe=1<<le;E[le]=0,M[le]=-1;var Y=K[le];if(Y!==null)for(K[le]=null,le=0;le<Y.length;le++){var ee=Y[le];ee!==null&&(ee.lane&=-536870913)}a&=~fe}l!==0&&Bs(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function Bs(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Fe(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ai(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Fe(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function wr(t,s){var a=s&-s;return a=(a&42)!==0?1:rr(a),(a&(t.suspendedLanes|s))!==0?0:a}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function as(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xr(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:cb(t.type))}function Bn(t,s){var a=se.p;try{return se.p=t,s()}finally{se.p=a}}var zn=Math.random().toString(36).slice(2),tn="__reactFiber$"+zn,ln="__reactProps$"+zn,gs="__reactContainer$"+zn,Fn="__reactEvents$"+zn,ka="__reactListeners$"+zn,Ri="__reactHandles$"+zn,ir="__reactResources$"+zn,os="__reactMarker$"+zn;function Ss(t){delete t[tn],delete t[ln],delete t[Fn],delete t[ka],delete t[Ri]}function ys(t){var s=t[tn];if(s)return s;for(var a=t.parentNode;a;){if(s=a[gs]||a[tn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=$0(t);t!==null;){if(a=t[tn])return a;t=$0(t)}return s}t=a,a=t.parentNode}return null}function C(t){if(t=t[tn]||t[gs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function U(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function ae(t){var s=t[ir];return s||(s=t[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function re(t){t[os]=!0}var We=new Set,qe={};function Pe(t,s){pt(t,s),pt(t+"Capture",s)}function pt(t,s){for(qe[t]=s,t=0;t<s.length;t++)We.add(s[t])}var Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L={},ne={};function X(t){return tt.call(ne,t)?!0:tt.call(L,t)?!1:Ze.test(t)?ne[t]=!0:(L[t]=!0,!1)}function ve(t,s,a){if(X(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function be(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Se(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Ve(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function st(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function at(t){if(!t._valueTracker){var s=st(t)?"checked":"value";t._valueTracker=Tt(t,s,""+t[s])}}function Ct(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=st(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function pn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kr=/[\n"\\]/g;function qn(t){return t.replace(Kr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Yr(t,s,a,l,f,m,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ve(s)):t.value!==""+Ve(s)&&(t.value=""+Ve(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?St(t,b,Ve(s)):a!=null?St(t,b,Ve(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ve(E):t.removeAttribute("name")}function Aa(t,s,a,l,f,m,b,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){at(t);return}a=a!=null?""+Ve(a):"",s=s!=null?""+Ve(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),at(t)}function St(t,s,a){s==="number"&&pn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function cn(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ve(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function ks(t,s,a){if(s!=null&&(s=""+Ve(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ve(a):""}function ls(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(ht(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Ve(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),at(t)}function En(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cs(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||es.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ar(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&cs(t,f,l)}else for(var m in s)s.hasOwnProperty(m)&&cs(t,m,s[m])}function Qr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(t){return zs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function or(){}var kl=null;function Fs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Er=null;function Ra(t){var s=C(t);if(s&&(t=s.stateNode)){var a=t[ln]||null;e:switch(t=s.stateNode,s.type){case"input":if(Yr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[ln]||null;if(!f)throw Error(i(90));Yr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Ct(l)}break e;case"textarea":ks(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&cn(t,!!a.multiple,s,!1)}}}var yo=!1;function Ni(t,s,a){if(yo)return t(s,a);yo=!0;try{var l=t(s);return l}finally{if(yo=!1,(Ci!==null||Er!==null)&&(th(),Ci&&(s=Ci,t=Er,Er=Ci=null,Ra(s),t)))for(s=0;s<t.length;s++)Ra(t[s])}}function lr(t,s){var a=t.stateNode;if(a===null)return null;var l=a[ln]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(qs)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{Ca=!1}var Tr=null,Al=null,Na=null;function Rl(){if(Na)return Na;var t,s=Al,a=s.length,l,f="value"in Tr?Tr.value:Tr.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var b=a-t;for(l=1;l<=b&&s[a-l]===f[m-l];l++);return Na=f.slice(t,1<l?1-l:void 0)}function ja(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Xr(){return!0}function cr(){return!1}function Hn(t){function s(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xr:cr,this.isPropagationStopped=cr,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),s}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=Hn(Jr),ji=x({},Jr,{view:0,detail:0}),Cl=Hn(ji),Ii,vo,kr,bo=x({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(Ii=t.screenX-kr.screenX,vo=t.screenY-kr.screenY):vo=Ii=0,kr=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:vo}}),Nl=Hn(bo),Ia=x({},bo,{dataTransfer:0}),cu=Hn(Ia),uu=x({},ji,{relatedTarget:0}),Da=Hn(uu),jl=x({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Hn(jl),_o=x({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),du=Hn(_o),fu=x({},Jr,{data:0}),Ar=Hn(fu),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=gu[t])?!!s[t]:!1}function Di(){return yu}var us=x({},ji,{key:function(t){if(t.key){var s=mu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return t.type==="keypress"?ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vu=Hn(us),bu=x({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=Hn(bu),h=x({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),v=Hn(h),_=x({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Hn(_),G=x({},bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Hn(G),xe=x({},Jr,{newState:0,oldState:0}),lt=Hn(xe),gn=[9,13,27,32],It=qs&&"CompositionEvent"in window,nn=null;qs&&"documentMode"in document&&(nn=document.documentMode);var Hs=qs&&"TextEvent"in window&&!nn,Rr=qs&&(!It||nn&&8<nn&&11>=nn),ur=" ",hr=!1;function Ma(t,s){switch(t){case"keyup":return gn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function Nx(t,s){switch(t){case"compositionend":return wo(s);case"keypress":return s.which!==32?null:(hr=!0,ur);case"textInput":return t=s.data,t===ur&&hr?null:t;default:return null}}function jx(t,s){if(xo)return t==="compositionend"||!It&&Ma(t,s)?(t=Rl(),Na=Al=Tr=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rr&&s.locale!=="ko"?null:s.data;default:return null}}var Ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ix[t.type]:s==="textarea"}function Xg(t,s,a,l){Ci?Er?Er.push(l):Er=[l]:Ci=l,s=lh(s,"onChange"),0<s.length&&(a=new Sr("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Il=null,Dl=null;function Dx(t){D0(t,0)}function _u(t){var s=U(t);if(Ct(s))return t}function Jg(t,s){if(t==="change")return s}var Zg=!1;if(qs){var Vd;if(qs){var Ud="oninput"in document;if(!Ud){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Ud=typeof ey.oninput=="function"}Vd=Ud}else Vd=!1;Zg=Vd&&(!document.documentMode||9<document.documentMode)}function ty(){Il&&(Il.detachEvent("onpropertychange",ny),Dl=Il=null)}function ny(t){if(t.propertyName==="value"&&_u(Dl)){var s=[];Xg(s,Dl,t,Fs(t)),Ni(Dx,s)}}function Mx(t,s,a){t==="focusin"?(ty(),Il=s,Dl=a,Il.attachEvent("onpropertychange",ny)):t==="focusout"&&ty()}function Px(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(Dl)}function Ox(t,s){if(t==="click")return _u(s)}function Lx(t,s){if(t==="input"||t==="change")return _u(s)}function Vx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var As=typeof Object.is=="function"?Object.is:Vx;function Ml(t,s){if(As(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!tt.call(s,f)||!As(t[f],s[f]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ry(t,s){var a=sy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sy(a)}}function iy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?iy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ay(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=pn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=pn(t.document)}return s}function Bd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Ux=qs&&"documentMode"in document&&11>=document.documentMode,Eo=null,zd=null,Pl=null,Fd=!1;function oy(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||Eo==null||Eo!==pn(l)||(l=Eo,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ml(Pl,l)||(Pl=l,l=lh(zd,"onSelect"),0<l.length&&(s=new Sr("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Eo)))}function Pa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var To={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},qd={},ly={};qs&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Oa(t){if(qd[t])return qd[t];if(!To[t])return t;var s=To[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ly)return qd[t]=s[a];return t}var cy=Oa("animationend"),uy=Oa("animationiteration"),hy=Oa("animationstart"),Bx=Oa("transitionrun"),zx=Oa("transitionstart"),Fx=Oa("transitioncancel"),dy=Oa("transitionend"),fy=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function dr(t,s){fy.set(t,s),Pe(s,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gs=[],So=0,Gd=0;function xu(){for(var t=So,s=Gd=So=0;s<t;){var a=Gs[s];Gs[s++]=null;var l=Gs[s];Gs[s++]=null;var f=Gs[s];Gs[s++]=null;var m=Gs[s];if(Gs[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&my(a,f,m)}}function Eu(t,s,a,l){Gs[So++]=t,Gs[So++]=s,Gs[So++]=a,Gs[So++]=l,Gd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wd(t,s,a,l){return Eu(t,s,a,l),Tu(t)}function La(t,s){return Eu(t,null,null,s),Tu(t)}function my(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Fe(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Tu(t){if(50<sc)throw sc=0,nm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ko={};function qx(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(t,s,a,l){return new qx(t,s,a,l)}function $d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,s){var a=t.alternate;return a===null?(a=Rs(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function py(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Su(t,s,a,l,f,m){var b=0;if(l=t,typeof t=="function")$d(t)&&(b=1);else if(typeof t=="string")b=KE(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Rs(31,a,s,f),t.elementType=R,t.lanes=m,t;case H:return Va(a.children,f,m,s);case z:b=8,f|=24;break;case ce:return t=Rs(12,a,s,f|2),t.elementType=ce,t.lanes=m,t;case je:return t=Rs(13,a,s,f),t.elementType=je,t.lanes=m,t;case Re:return t=Rs(19,a,s,f),t.elementType=Re,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:b=10;break e;case J:b=9;break e;case we:b=11;break e;case N:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Rs(b,a,s,f),s.elementType=t,s.type=l,s.lanes=m,s}function Va(t,s,a,l){return t=Rs(7,t,l,s),t.lanes=a,t}function Kd(t,s,a){return t=Rs(6,t,null,s),t.lanes=a,t}function gy(t){var s=Rs(18,null,null,0);return s.stateNode=t,s}function Yd(t,s,a){return s=Rs(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var yy=new WeakMap;function Ws(t,s){if(typeof t=="object"&&t!==null){var a=yy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Et(s)},yy.set(t,s),s)}return{value:t,source:s,stack:Et(s)}}var Ao=[],Ro=0,ku=null,Ol=0,$s=[],Ks=0,Mi=null,Cr=1,Nr="";function ti(t,s){Ao[Ro++]=Ol,Ao[Ro++]=ku,ku=t,Ol=s}function vy(t,s,a){$s[Ks++]=Cr,$s[Ks++]=Nr,$s[Ks++]=Mi,Mi=t;var l=Cr;t=Nr;var f=32-Fe(l)-1;l&=~(1<<f),a+=1;var m=32-Fe(s)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Cr=1<<32-Fe(s)+f|a<<f|l,Nr=m+t}else Cr=1<<m|a<<f|l,Nr=t}function Qd(t){t.return!==null&&(ti(t,1),vy(t,1,0))}function Xd(t){for(;t===ku;)ku=Ao[--Ro],Ao[Ro]=null,Ol=Ao[--Ro],Ao[Ro]=null;for(;t===Mi;)Mi=$s[--Ks],$s[Ks]=null,Nr=$s[--Ks],$s[Ks]=null,Cr=$s[--Ks],$s[Ks]=null}function by(t,s){$s[Ks++]=Cr,$s[Ks++]=Nr,$s[Ks++]=Mi,Cr=s.id,Nr=s.overflow,Mi=t}var Gn=null,Jt=null,wt=!1,Pi=null,Ys=!1,Jd=Error(i(519));function Oi(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Ws(s,t)),Jd}function _y(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[tn]=t,s[ln]=l,a){case"dialog":ft("cancel",s),ft("close",s);break;case"iframe":case"object":case"embed":ft("load",s);break;case"video":case"audio":for(a=0;a<ic.length;a++)ft(ic[a],s);break;case"source":ft("error",s);break;case"img":case"image":case"link":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"input":ft("invalid",s),Aa(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ft("invalid",s);break;case"textarea":ft("invalid",s),ls(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||L0(s.textContent,a)?(l.popover!=null&&(ft("beforetoggle",s),ft("toggle",s)),l.onScroll!=null&&ft("scroll",s),l.onScrollEnd!=null&&ft("scrollend",s),l.onClick!=null&&(s.onclick=or),s=!0):s=!1,s||Oi(t,!0)}function wy(t){for(Gn=t.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:Gn=Gn.return}}function Co(t){if(t!==Gn)return!1;if(!wt)return wy(t),wt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ym(t.type,t.memoizedProps)),a=!a),a&&Jt&&Oi(t),wy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Jt=W0(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Jt=W0(t)}else s===27?(s=Jt,Qi(t.type)?(t=xm,xm=null,Jt=t):Jt=s):Jt=Gn?Xs(t.stateNode.nextSibling):null;return!0}function Ua(){Jt=Gn=null,wt=!1}function Zd(){var t=Pi;return t!==null&&(ws===null?ws=t:ws.push.apply(ws,t),Pi=null),t}function Ll(t){Pi===null?Pi=[t]:Pi.push(t)}var ef=P(null),Ba=null,ni=null;function Li(t,s,a){Z(ef,s._currentValue),s._currentValue=a}function si(t){t._currentValue=ef.current,te(ef)}function tf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function nf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var M=0;M<s.length;M++)if(E.context===s[M]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),tf(m.return,a,t),l||(b=null);break e}m=E.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),tf(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function No(t,s,a,l){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=f.type;As(f.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(f===Oe.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(uc):t=[uc])}f=f.return}t!==null&&nf(s,t,a,l),s.flags|=262144}function Au(t){for(t=t.firstContext;t!==null;){if(!As(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){Ba=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wn(t){return xy(Ba,t)}function Ru(t,s){return Ba===null&&za(t),xy(t,s)}function xy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(i(308));ni=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ni=ni.next=s;return a}var Hx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Gx=r.unstable_scheduleCallback,Wx=r.unstable_NormalPriority,Tn={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new Hx,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&Gx(Wx,function(){t.controller.abort()})}var Ul=null,rf=0,jo=0,Io=null;function $x(t,s){if(Ul===null){var a=Ul=[];rf=0,jo=lm(),Io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,s.then(Ey,Ey),s}function Ey(){if(--rf===0&&Ul!==null){Io!==null&&(Io.status="fulfilled");var t=Ul;Ul=null,jo=0,Io=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Kx(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ty=W.S;W.S=function(t,s){o0=Vt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$x(t,s),Ty!==null&&Ty(t,s)};var Fa=P(null);function af(){var t=Fa.current;return t!==null?t:Yt.pooledCache}function Cu(t,s){s===null?Z(Fa,Fa.current):Z(Fa,s.pool)}function Sy(){var t=af();return t===null?null:{parent:Tn._currentValue,pool:t}}var Do=Error(i(460)),of=Error(i(474)),Nu=Error(i(542)),ju={then:function(){}};function ky(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ay(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(or,or),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Cy(t),t;default:if(typeof s.status=="string")s.then(or,or);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Cy(t),t}throw Ha=s,Do}}function qa(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ha=a,Do):a}}var Ha=null;function Ry(){if(Ha===null)throw Error(i(459));var t=Ha;return Ha=null,t}function Cy(t){if(t===Do||t===Nu)throw Error(i(483))}var Mo=null,Bl=0;function Iu(t){var s=Bl;return Bl+=1,Mo===null&&(Mo=[]),Ay(Mo,t,s)}function zl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Du(t,s){throw s.$$typeof===T?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ny(t){function s(F,V){if(t){var $=F.deletions;$===null?(F.deletions=[V],F.flags|=16):$.push(V)}}function a(F,V){if(!t)return null;for(;V!==null;)s(F,V),V=V.sibling;return null}function l(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function f(F,V){return F=ei(F,V),F.index=0,F.sibling=null,F}function m(F,V,$){return F.index=$,t?($=F.alternate,$!==null?($=$.index,$<V?(F.flags|=67108866,V):$):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function b(F){return t&&F.alternate===null&&(F.flags|=67108866),F}function E(F,V,$,ue){return V===null||V.tag!==6?(V=Kd($,F.mode,ue),V.return=F,V):(V=f(V,$),V.return=F,V)}function M(F,V,$,ue){var He=$.type;return He===H?le(F,V,$.props.children,ue,$.key):V!==null&&(V.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===S&&qa(He)===V.type)?(V=f(V,$.props),zl(V,$),V.return=F,V):(V=Su($.type,$.key,$.props,null,F.mode,ue),zl(V,$),V.return=F,V)}function K(F,V,$,ue){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=Yd($,F.mode,ue),V.return=F,V):(V=f(V,$.children||[]),V.return=F,V)}function le(F,V,$,ue,He){return V===null||V.tag!==7?(V=Va($,F.mode,ue,He),V.return=F,V):(V=f(V,$),V.return=F,V)}function fe(F,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Kd(""+V,F.mode,$),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return $=Su(V.type,V.key,V.props,null,F.mode,$),zl($,V),$.return=F,$;case q:return V=Yd(V,F.mode,$),V.return=F,V;case S:return V=qa(V),fe(F,V,$)}if(ht(V)||B(V))return V=Va(V,F.mode,$,null),V.return=F,V;if(typeof V.then=="function")return fe(F,Iu(V),$);if(V.$$typeof===me)return fe(F,Ru(F,V),$);Du(F,V)}return null}function Y(F,V,$,ue){var He=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return He!==null?null:E(F,V,""+$,ue);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return $.key===He?M(F,V,$,ue):null;case q:return $.key===He?K(F,V,$,ue):null;case S:return $=qa($),Y(F,V,$,ue)}if(ht($)||B($))return He!==null?null:le(F,V,$,ue,null);if(typeof $.then=="function")return Y(F,V,Iu($),ue);if($.$$typeof===me)return Y(F,V,Ru(F,$),ue);Du(F,$)}return null}function ee(F,V,$,ue,He){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get($)||null,E(V,F,""+ue,He);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case O:return F=F.get(ue.key===null?$:ue.key)||null,M(V,F,ue,He);case q:return F=F.get(ue.key===null?$:ue.key)||null,K(V,F,ue,He);case S:return ue=qa(ue),ee(F,V,$,ue,He)}if(ht(ue)||B(ue))return F=F.get($)||null,le(V,F,ue,He,null);if(typeof ue.then=="function")return ee(F,V,$,Iu(ue),He);if(ue.$$typeof===me)return ee(F,V,$,Ru(V,ue),He);Du(V,ue)}return null}function Ie(F,V,$,ue){for(var He=null,Nt=null,Ue=V,ut=V=0,yt=null;Ue!==null&&ut<$.length;ut++){Ue.index>ut?(yt=Ue,Ue=null):yt=Ue.sibling;var jt=Y(F,Ue,$[ut],ue);if(jt===null){Ue===null&&(Ue=yt);break}t&&Ue&&jt.alternate===null&&s(F,Ue),V=m(jt,V,ut),Nt===null?He=jt:Nt.sibling=jt,Nt=jt,Ue=yt}if(ut===$.length)return a(F,Ue),wt&&ti(F,ut),He;if(Ue===null){for(;ut<$.length;ut++)Ue=fe(F,$[ut],ue),Ue!==null&&(V=m(Ue,V,ut),Nt===null?He=Ue:Nt.sibling=Ue,Nt=Ue);return wt&&ti(F,ut),He}for(Ue=l(Ue);ut<$.length;ut++)yt=ee(Ue,F,ut,$[ut],ue),yt!==null&&(t&&yt.alternate!==null&&Ue.delete(yt.key===null?ut:yt.key),V=m(yt,V,ut),Nt===null?He=yt:Nt.sibling=yt,Nt=yt);return t&&Ue.forEach(function(ta){return s(F,ta)}),wt&&ti(F,ut),He}function Ye(F,V,$,ue){if($==null)throw Error(i(151));for(var He=null,Nt=null,Ue=V,ut=V=0,yt=null,jt=$.next();Ue!==null&&!jt.done;ut++,jt=$.next()){Ue.index>ut?(yt=Ue,Ue=null):yt=Ue.sibling;var ta=Y(F,Ue,jt.value,ue);if(ta===null){Ue===null&&(Ue=yt);break}t&&Ue&&ta.alternate===null&&s(F,Ue),V=m(ta,V,ut),Nt===null?He=ta:Nt.sibling=ta,Nt=ta,Ue=yt}if(jt.done)return a(F,Ue),wt&&ti(F,ut),He;if(Ue===null){for(;!jt.done;ut++,jt=$.next())jt=fe(F,jt.value,ue),jt!==null&&(V=m(jt,V,ut),Nt===null?He=jt:Nt.sibling=jt,Nt=jt);return wt&&ti(F,ut),He}for(Ue=l(Ue);!jt.done;ut++,jt=$.next())jt=ee(Ue,F,ut,jt.value,ue),jt!==null&&(t&&jt.alternate!==null&&Ue.delete(jt.key===null?ut:jt.key),V=m(jt,V,ut),Nt===null?He=jt:Nt.sibling=jt,Nt=jt);return t&&Ue.forEach(function(iT){return s(F,iT)}),wt&&ti(F,ut),He}function Wt(F,V,$,ue){if(typeof $=="object"&&$!==null&&$.type===H&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case O:e:{for(var He=$.key;V!==null;){if(V.key===He){if(He=$.type,He===H){if(V.tag===7){a(F,V.sibling),ue=f(V,$.props.children),ue.return=F,F=ue;break e}}else if(V.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===S&&qa(He)===V.type){a(F,V.sibling),ue=f(V,$.props),zl(ue,$),ue.return=F,F=ue;break e}a(F,V);break}else s(F,V);V=V.sibling}$.type===H?(ue=Va($.props.children,F.mode,ue,$.key),ue.return=F,F=ue):(ue=Su($.type,$.key,$.props,null,F.mode,ue),zl(ue,$),ue.return=F,F=ue)}return b(F);case q:e:{for(He=$.key;V!==null;){if(V.key===He)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){a(F,V.sibling),ue=f(V,$.children||[]),ue.return=F,F=ue;break e}else{a(F,V);break}else s(F,V);V=V.sibling}ue=Yd($,F.mode,ue),ue.return=F,F=ue}return b(F);case S:return $=qa($),Wt(F,V,$,ue)}if(ht($))return Ie(F,V,$,ue);if(B($)){if(He=B($),typeof He!="function")throw Error(i(150));return $=He.call($),Ye(F,V,$,ue)}if(typeof $.then=="function")return Wt(F,V,Iu($),ue);if($.$$typeof===me)return Wt(F,V,Ru(F,$),ue);Du(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(a(F,V.sibling),ue=f(V,$),ue.return=F,F=ue):(a(F,V),ue=Kd($,F.mode,ue),ue.return=F,F=ue),b(F)):a(F,V)}return function(F,V,$,ue){try{Bl=0;var He=Wt(F,V,$,ue);return Mo=null,He}catch(Ue){if(Ue===Do||Ue===Nu)throw Ue;var Nt=Rs(29,Ue,null,F.mode);return Nt.lanes=ue,Nt.return=F,Nt}}}var Ga=Ny(!0),jy=Ny(!1),Vi=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Dt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Tu(t),my(t,null,a),s}return Eu(t,l,s,a),Tu(t)}function Fl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ai(t,a)}}function uf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var hf=!1;function ql(){if(hf){var t=Io;if(t!==null)throw t}}function Hl(t,s,a,l){hf=!1;var f=t.updateQueue;Vi=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var M=E,K=M.next;M.next=null,b===null?m=K:b.next=K,b=M;var le=t.alternate;le!==null&&(le=le.updateQueue,E=le.lastBaseUpdate,E!==b&&(E===null?le.firstBaseUpdate=K:E.next=K,le.lastBaseUpdate=M))}if(m!==null){var fe=f.baseState;b=0,le=K=M=null,E=m;do{var Y=E.lane&-536870913,ee=Y!==E.lane;if(ee?(gt&Y)===Y:(l&Y)===Y){Y!==0&&Y===jo&&(hf=!0),le!==null&&(le=le.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ie=t,Ye=E;Y=s;var Wt=a;switch(Ye.tag){case 1:if(Ie=Ye.payload,typeof Ie=="function"){fe=Ie.call(Wt,fe,Y);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ye.payload,Y=typeof Ie=="function"?Ie.call(Wt,fe,Y):Ie,Y==null)break e;fe=x({},fe,Y);break e;case 2:Vi=!0}}Y=E.callback,Y!==null&&(t.flags|=64,ee&&(t.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[Y]:ee.push(Y))}else ee={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},le===null?(K=le=ee,M=fe):le=le.next=ee,b|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;ee=E,E=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);le===null&&(M=fe),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=le,m===null&&(f.shared.lanes=0),Gi|=b,t.lanes=b,t.memoizedState=fe}}function Iy(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Dy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],s)}var Po=P(null),Mu=P(0);function My(t,s){t=di,Z(Mu,t),Z(Po,s),di=t|s.baseLanes}function df(){Z(Mu,di),Z(Po,Po.current)}function ff(){di=Mu.current,te(Po),te(Mu)}var Cs=P(null),Qs=null;function zi(t){var s=t.alternate;Z(yn,yn.current&1),Z(Cs,t),Qs===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Qs=t)}function mf(t){Z(yn,yn.current),Z(Cs,t),Qs===null&&(Qs=t)}function Py(t){t.tag===22?(Z(yn,yn.current),Z(Cs,t),Qs===null&&(Qs=t)):Fi()}function Fi(){Z(yn,yn.current),Z(Cs,Cs.current)}function Ns(t){te(Cs),Qs===t&&(Qs=null),te(yn)}var yn=P(0);function Pu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ri=0,ct=null,Ht=null,Sn=null,Ou=!1,Oo=!1,Wa=!1,Lu=0,Gl=0,Lo=null,Yx=0;function fn(){throw Error(i(321))}function pf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!As(t[a],s[a]))return!1;return!0}function gf(t,s,a,l,f,m){return ri=m,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=t===null||t.memoizedState===null?vv:jf,Wa=!1,m=a(l,f),Wa=!1,Oo&&(m=Ly(s,a,l,f)),Oy(t),m}function Oy(t){W.H=Kl;var s=Ht!==null&&Ht.next!==null;if(ri=0,Sn=Ht=ct=null,Ou=!1,Gl=0,Lo=null,s)throw Error(i(300));t===null||kn||(t=t.dependencies,t!==null&&Au(t)&&(kn=!0))}function Ly(t,s,a,l){ct=t;var f=0;do{if(Oo&&(Lo=null),Gl=0,Oo=!1,25<=f)throw Error(i(301));if(f+=1,Sn=Ht=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=bv,m=s(a,l)}while(Oo);return m}function Qx(){var t=W.H,s=t.useState()[0];return s=typeof s.then=="function"?Wl(s):s,t=t.useState()[0],(Ht!==null?Ht.memoizedState:null)!==t&&(ct.flags|=1024),s}function yf(){var t=Lu!==0;return Lu=0,t}function vf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function bf(t){if(Ou){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ou=!1}ri=0,Sn=Ht=ct=null,Oo=!1,Gl=Lu=0,Lo=null}function hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?ct.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function vn(){if(Ht===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var s=Sn===null?ct.memoizedState:Sn.next;if(s!==null)Sn=s,Ht=t;else{if(t===null)throw ct.alternate===null?Error(i(467)):Error(i(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Sn===null?ct.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var s=Gl;return Gl+=1,Lo===null&&(Lo=[]),t=Ay(Lo,t,s),s=ct,(Sn===null?s.memoizedState:Sn.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?vv:jf),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===me)return Wn(t)}throw Error(i(438,String(t)))}function _f(t){var s=null,a=ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vu(),ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function ii(t,s){return typeof s=="function"?s(t):s}function Bu(t){var s=vn();return wf(s,Ht,t)}function wf(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var E=b=null,M=null,K=s,le=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(gt&fe)===fe:(ri&fe)===fe){var Y=K.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===jo&&(le=!0);else if((ri&Y)===Y){K=K.next,Y===jo&&(le=!0);continue}else fe={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(E=M=fe,b=m):M=M.next=fe,ct.lanes|=Y,Gi|=Y;fe=K.action,Wa&&a(m,fe),m=K.hasEagerState?K.eagerState:a(m,fe)}else Y={lane:fe,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(E=M=Y,b=m):M=M.next=Y,ct.lanes|=fe,Gi|=fe;K=K.next}while(K!==null&&K!==s);if(M===null?b=m:M.next=E,!As(m,t.memoizedState)&&(kn=!0,le&&(a=Io,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=M,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xf(t){var s=vn(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);As(m,s.memoizedState)||(kn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Vy(t,s,a){var l=ct,f=vn(),m=wt;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!As((Ht||f).memoizedState,a);if(b&&(f.memoizedState=a,kn=!0),f=f.queue,Sf(zy.bind(null,l,f,t),[t]),f.getSnapshot!==s||b||Sn!==null&&Sn.memoizedState.tag&1){if(l.flags|=2048,Vo(9,{destroy:void 0},By.bind(null,l,f,a,s),null),Yt===null)throw Error(i(349));m||(ri&127)!==0||Uy(l,s,a)}return a}function Uy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ct.updateQueue,s===null?(s=Vu(),ct.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function By(t,s,a,l){s.value=a,s.getSnapshot=l,Fy(s)&&qy(t)}function zy(t,s,a){return a(function(){Fy(s)&&qy(t)})}function Fy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!As(t,a)}catch{return!0}}function qy(t){var s=La(t,2);s!==null&&xs(s,t,2)}function Ef(t){var s=hs();if(typeof t=="function"){var a=t;if(t=a(),Wa){Le(!0);try{a()}finally{Le(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},s}function Hy(t,s,a,l){return t.baseState=a,wf(t,Ht,typeof l=="function"?l:ii)}function Xx(t,s,a,l,f){if(qu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Gy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Gy(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var m=W.T,b={};W.T=b;try{var E=a(f,l),M=W.S;M!==null&&M(b,E),Wy(t,s,E)}catch(K){Tf(t,s,K)}finally{m!==null&&b.types!==null&&(m.types=b.types),W.T=m}}else try{m=a(f,l),Wy(t,s,m)}catch(K){Tf(t,s,K)}}function Wy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(t,s,l)},function(l){return Tf(t,s,l)}):$y(t,s,a)}function $y(t,s,a){s.status="fulfilled",s.value=a,Ky(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Gy(t,a)))}function Tf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ky(s),s=s.next;while(s!==l)}t.action=null}function Ky(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Yy(t,s){return s}function Qy(t,s){if(wt){var a=Yt.formState;if(a!==null){e:{var l=ct;if(wt){if(Jt){t:{for(var f=Jt,m=Ys;f.nodeType!==8;){if(!m){f=null;break t}if(f=Xs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Jt=Xs(f.nextSibling),l=f.data==="F!";break e}}Oi(l)}l=!1}l&&(s=a[0])}}return a=hs(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:s},a.queue=l,a=pv.bind(null,ct,l),l.dispatch=a,l=Ef(!1),m=Nf.bind(null,ct,!1,l.queue),l=hs(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=Xx.bind(null,ct,f,m,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function Xy(t){var s=vn();return Jy(s,Ht,t)}function Jy(t,s,a){if(s=wf(t,s,Yy)[0],t=Bu(ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Wl(s)}catch(b){throw b===Do?Nu:b}else l=s;s=vn();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(ct.flags|=2048,Vo(9,{destroy:void 0},Jx.bind(null,f,a),null)),[l,m,t]}function Jx(t,s){t.action=s}function Zy(t){var s=vn(),a=Ht;if(a!==null)return Jy(s,a,t);vn(),s=s.memoizedState,a=vn();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Vo(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=ct.updateQueue,s===null&&(s=Vu(),ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function ev(){return vn().memoizedState}function zu(t,s,a,l){var f=hs();ct.flags|=t,f.memoizedState=Vo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fu(t,s,a,l){var f=vn();l=l===void 0?null:l;var m=f.memoizedState.inst;Ht!==null&&l!==null&&pf(l,Ht.memoizedState.deps)?f.memoizedState=Vo(s,m,a,l):(ct.flags|=t,f.memoizedState=Vo(1|s,m,a,l))}function tv(t,s){zu(8390656,8,t,s)}function Sf(t,s){Fu(2048,8,t,s)}function Zx(t){ct.flags|=4;var s=ct.updateQueue;if(s===null)s=Vu(),ct.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function nv(t){var s=vn().memoizedState;return Zx({ref:s,nextImpl:t}),function(){if((Dt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function sv(t,s){return Fu(4,2,t,s)}function rv(t,s){return Fu(4,4,t,s)}function iv(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function av(t,s,a){a=a!=null?a.concat([t]):null,Fu(4,4,iv.bind(null,s,t),a)}function kf(){}function ov(t,s){var a=vn();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&pf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function lv(t,s){var a=vn();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&pf(s,l[1]))return l[0];if(l=t(),Wa){Le(!0);try{t()}finally{Le(!1)}}return a.memoizedState=[l,s],l}function Af(t,s,a){return a===void 0||(ri&1073741824)!==0&&(gt&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=c0(),ct.lanes|=t,Gi|=t,a)}function cv(t,s,a,l){return As(a,s)?a:Po.current!==null?(t=Af(t,a,l),As(t,s)||(kn=!0),t):(ri&42)===0||(ri&1073741824)!==0&&(gt&261930)===0?(kn=!0,t.memoizedState=a):(t=c0(),ct.lanes|=t,Gi|=t,s)}function uv(t,s,a,l,f){var m=se.p;se.p=m!==0&&8>m?m:8;var b=W.T,E={};W.T=E,Nf(t,!1,s,a);try{var M=f(),K=W.S;if(K!==null&&K(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var le=Kx(M,l);$l(t,s,le,Ds(t))}else $l(t,s,l,Ds(t))}catch(fe){$l(t,s,{then:function(){},status:"rejected",reason:fe},Ds())}finally{se.p=m,b!==null&&E.types!==null&&(b.types=E.types),W.T=b}}function eE(){}function Rf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var f=hv(t).queue;uv(t,f,s,ge,a===null?eE:function(){return dv(t),a(l)})}function hv(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function dv(t){var s=hv(t);s.next===null&&(s=t.alternate.memoizedState),$l(t,s.next.queue,{},Ds())}function Cf(){return Wn(uc)}function fv(){return vn().memoizedState}function mv(){return vn().memoizedState}function tE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ds();t=Ui(a);var l=Bi(s,t,a);l!==null&&(xs(l,s,a),Fl(l,s,a)),s={cache:sf()},t.payload=s;return}s=s.return}}function nE(t,s,a){var l=Ds();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qu(t)?gv(s,a):(a=Wd(t,s,a,l),a!==null&&(xs(a,t,l),yv(a,s,l)))}function pv(t,s,a){var l=Ds();$l(t,s,a,l)}function $l(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qu(t))gv(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,E=m(b,a);if(f.hasEagerState=!0,f.eagerState=E,As(E,b))return Eu(t,s,f,0),Yt===null&&xu(),!1}catch{}if(a=Wd(t,s,f,l),a!==null)return xs(a,t,l),yv(a,s,l),!0}return!1}function Nf(t,s,a,l){if(l={lane:2,revertLane:lm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(s)throw Error(i(479))}else s=Wd(t,a,l,2),s!==null&&xs(s,t,2)}function qu(t){var s=t.alternate;return t===ct||s!==null&&s===ct}function gv(t,s){Oo=Ou=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function yv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Ai(t,a)}}var Kl={readContext:Wn,use:Uu,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Kl.useEffectEvent=fn;var vv={readContext:Wn,use:Uu,useCallback:function(t,s){return hs().memoizedState=[t,s===void 0?null:s],t},useContext:Wn,useEffect:tv,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,zu(4194308,4,iv.bind(null,s,t),a)},useLayoutEffect:function(t,s){return zu(4194308,4,t,s)},useInsertionEffect:function(t,s){zu(4,2,t,s)},useMemo:function(t,s){var a=hs();s=s===void 0?null:s;var l=t();if(Wa){Le(!0);try{t()}finally{Le(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=hs();if(a!==void 0){var f=a(s);if(Wa){Le(!0);try{a(s)}finally{Le(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=nE.bind(null,ct,t),[l.memoizedState,t]},useRef:function(t){var s=hs();return t={current:t},s.memoizedState=t},useState:function(t){t=Ef(t);var s=t.queue,a=pv.bind(null,ct,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,s){var a=hs();return Af(a,t,s)},useTransition:function(){var t=Ef(!1);return t=uv.bind(null,ct,t.queue,!0,!1),hs().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=ct,f=hs();if(wt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Yt===null)throw Error(i(349));(gt&127)!==0||Uy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,tv(zy.bind(null,l,m,t),[t]),l.flags|=2048,Vo(9,{destroy:void 0},By.bind(null,l,m,a,s),null),a},useId:function(){var t=hs(),s=Yt.identifierPrefix;if(wt){var a=Nr,l=Cr;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Yx++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Cf,useFormState:Qy,useActionState:Qy,useOptimistic:function(t){var s=hs();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nf.bind(null,ct,!0,a),a.dispatch=s,[t,s]},useMemoCache:_f,useCacheRefresh:function(){return hs().memoizedState=tE.bind(null,ct)},useEffectEvent:function(t){var s=hs(),a={impl:t};return s.memoizedState=a,function(){if((Dt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:Wn,use:Uu,useCallback:ov,useContext:Wn,useEffect:Sf,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:lv,useReducer:Bu,useRef:ev,useState:function(){return Bu(ii)},useDebugValue:kf,useDeferredValue:function(t,s){var a=vn();return cv(a,Ht.memoizedState,t,s)},useTransition:function(){var t=Bu(ii)[0],s=vn().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:Vy,useId:fv,useHostTransitionStatus:Cf,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,s){var a=vn();return Hy(a,Ht,t,s)},useMemoCache:_f,useCacheRefresh:mv};jf.useEffectEvent=nv;var bv={readContext:Wn,use:Uu,useCallback:ov,useContext:Wn,useEffect:Sf,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:lv,useReducer:xf,useRef:ev,useState:function(){return xf(ii)},useDebugValue:kf,useDeferredValue:function(t,s){var a=vn();return Ht===null?Af(a,t,s):cv(a,Ht.memoizedState,t,s)},useTransition:function(){var t=xf(ii)[0],s=vn().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:Vy,useId:fv,useHostTransitionStatus:Cf,useFormState:Zy,useActionState:Zy,useOptimistic:function(t,s){var a=vn();return Ht!==null?Hy(a,Ht,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:mv};bv.useEffectEvent=nv;function If(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Ds(),f=Ui(l);f.payload=s,a!=null&&(f.callback=a),s=Bi(t,f,l),s!==null&&(xs(s,t,l),Fl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Ds(),f=Ui(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Bi(t,f,l),s!==null&&(xs(s,t,l),Fl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ds(),l=Ui(a);l.tag=2,s!=null&&(l.callback=s),s=Bi(t,l,a),s!==null&&(xs(s,t,a),Fl(s,t,a))}};function _v(t,s,a,l,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ml(a,l)||!Ml(f,m):!0}function wv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Df.enqueueReplaceState(s,s.state,null)}function $a(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=x({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function xv(t){wu(t)}function Ev(t){console.error(t)}function Tv(t){wu(t)}function Hu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Sv(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mf(t,s,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(t,s)},a}function kv(t){return t=Ui(t),t.tag=3,t}function Av(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Sv(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Sv(s,a,l),typeof f!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function sE(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&No(s,a,f,!0),a=Cs.current,a!==null){switch(a.tag){case 31:case 13:return Qs===null?nh():a.alternate===null&&mn===0&&(mn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ju?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(i(435,a.tag))}return im(t,l,f),nh(),!1}if(wt)return s=Cs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Jd&&(t=Error(i(422),{cause:l}),Ll(Ws(t,a)))):(l!==Jd&&(s=Error(i(423),{cause:l}),Ll(Ws(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ws(l,a),f=Mf(t.stateNode,l,f),uf(t,f),mn!==4&&(mn=2)),!1;var m=Error(i(520),{cause:l});if(m=Ws(m,a),nc===null?nc=[m]:nc.push(m),mn!==4&&(mn=2),s===null)return!0;l=Ws(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Mf(a.stateNode,l,t),uf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Wi===null||!Wi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=kv(f),Av(f,t,a,l),uf(a,f),!1}a=a.return}while(a!==null);return!1}var Pf=Error(i(461)),kn=!1;function $n(t,s,a,l){s.child=t===null?jy(s,null,a,l):Ga(s,t.child,a,l)}function Rv(t,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var E in l)E!=="ref"&&(b[E]=l[E])}else b=l;return za(s),l=gf(t,s,a,b,m,f),E=yf(),t!==null&&!kn?(vf(t,s,f),ai(t,s,f)):(wt&&E&&Qd(s),s.flags|=1,$n(t,s,l,f),s.child)}function Cv(t,s,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!$d(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Nv(t,s,m,l,f)):(t=Su(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!qf(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(b,l)&&t.ref===s.ref)return ai(t,s,f)}return s.flags|=1,t=ei(m,l),t.ref=s.ref,t.return=s,s.child=t}function Nv(t,s,a,l,f){if(t!==null){var m=t.memoizedProps;if(Ml(m,l)&&t.ref===s.ref)if(kn=!1,s.pendingProps=l=m,qf(t,f))(t.flags&131072)!==0&&(kn=!0);else return s.lanes=t.lanes,ai(t,s,f)}return Of(t,s,a,l,f)}function jv(t,s,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return Iv(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(s,m!==null?m.cachePool:null),m!==null?My(s,m):df(),Py(s);else return l=s.lanes=536870912,Iv(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Cu(s,m.cachePool),My(s,m),Fi(),s.memoizedState=null):(t!==null&&Cu(s,null),df(),Fi());return $n(t,s,f,a),s.child}function Yl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Iv(t,s,a,l,f){var m=af();return m=m===null?null:{parent:Tn._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Cu(s,null),df(),Py(s),t!==null&&No(t,s,l,!0),s.childLanes=f,null}function Gu(t,s){return s=$u({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Dv(t,s,a){return Ga(s,t.child,null,a),t=Gu(s,s.pendingProps),t.flags|=2,Ns(s),s.memoizedState=null,t}function rE(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(wt){if(l.mode==="hidden")return t=Gu(s,l),s.lanes=536870912,Yl(null,t);if(mf(s),(t=Jt)?(t=G0(t,Ys),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Cr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},a=gy(t),a.return=s,s.child=a,Gn=s,Jt=null)):t=null,t===null)throw Oi(s);return s.lanes=536870912,null}return Gu(s,l)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(mf(s),f)if(s.flags&256)s.flags&=-257,s=Dv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(kn||No(t,s,a,!1),f=(a&t.childLanes)!==0,kn||f){if(l=Yt,l!==null&&(b=wr(l,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,La(t,b),xs(l,t,b),Pf;nh(),s=Dv(t,s,a)}else t=m.treeContext,Jt=Xs(b.nextSibling),Gn=s,wt=!0,Pi=null,Ys=!1,t!==null&&by(s,t),s=Gu(s,l),s.flags|=4096;return s}return t=ei(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Wu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Of(t,s,a,l,f){return za(s),a=gf(t,s,a,l,void 0,f),l=yf(),t!==null&&!kn?(vf(t,s,f),ai(t,s,f)):(wt&&l&&Qd(s),s.flags|=1,$n(t,s,a,f),s.child)}function Mv(t,s,a,l,f,m){return za(s),s.updateQueue=null,a=Ly(s,l,a,f),Oy(t),l=yf(),t!==null&&!kn?(vf(t,s,m),ai(t,s,m)):(wt&&l&&Qd(s),s.flags|=1,$n(t,s,a,m),s.child)}function Pv(t,s,a,l,f){if(za(s),s.stateNode===null){var m=ko,b=a.contextType;typeof b=="object"&&b!==null&&(m=Wn(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Df,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},lf(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?Wn(b):ko,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(If(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Df.enqueueReplaceState(m,m.state,null),Hl(s,l,m,f),ql(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,M=$a(a,E);m.props=M;var K=m.context,le=a.contextType;b=ko,typeof le=="object"&&le!==null&&(b=Wn(le));var fe=a.getDerivedStateFromProps;le=typeof fe=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,le||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||K!==b)&&wv(s,m,l,b),Vi=!1;var Y=s.memoizedState;m.state=Y,Hl(s,l,m,f),ql(),K=s.memoizedState,E||Y!==K||Vi?(typeof fe=="function"&&(If(s,a,fe,l),K=s.memoizedState),(M=Vi||_v(s,a,M,l,Y,K,b))?(le||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=K),m.props=l,m.state=K,m.context=b,l=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,cf(t,s),b=s.memoizedProps,le=$a(a,b),m.props=le,fe=s.pendingProps,Y=m.context,K=a.contextType,M=ko,typeof K=="object"&&K!==null&&(M=Wn(K)),E=a.getDerivedStateFromProps,(K=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==fe||Y!==M)&&wv(s,m,l,M),Vi=!1,Y=s.memoizedState,m.state=Y,Hl(s,l,m,f),ql();var ee=s.memoizedState;b!==fe||Y!==ee||Vi||t!==null&&t.dependencies!==null&&Au(t.dependencies)?(typeof E=="function"&&(If(s,a,E,l),ee=s.memoizedState),(le=Vi||_v(s,a,le,l,Y,ee,M)||t!==null&&t.dependencies!==null&&Au(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ee,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ee,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ee),m.props=l,m.state=ee,m.context=M,l=le):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Y===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Wu(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=Ga(s,t.child,null,f),s.child=Ga(s,null,a,f)):$n(t,s,a,f),s.memoizedState=m.state,t=s.child):t=ai(t,s,f),t}function Ov(t,s,a,l){return Ua(),s.flags|=256,$n(t,s,a,l),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:Sy()}}function Uf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Is),t}function Lv(t,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(yn.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(wt){if(f?zi(s):Fi(),(t=Jt)?(t=G0(t,Ys),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Cr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},a=gy(t),a.return=s,s.child=a,Gn=s,Jt=null)):t=null,t===null)throw Oi(s);return wm(t)?s.lanes=32:s.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(Fi(),f=s.mode,E=$u({mode:"hidden",children:E},f),l=Va(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,l=s.child,l.memoizedState=Vf(a),l.childLanes=Uf(t,b,a),s.memoizedState=Lf,Yl(null,l)):(zi(s),Bf(s,E))}var M=t.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(m)s.flags&256?(zi(s),s.flags&=-257,s=zf(t,s,a)):s.memoizedState!==null?(Fi(),s.child=t.child,s.flags|=128,s=null):(Fi(),E=l.fallback,f=s.mode,l=$u({mode:"visible",children:l.children},f),E=Va(E,f,a,null),E.flags|=2,l.return=s,E.return=s,l.sibling=E,s.child=l,Ga(s,t.child,null,a),l=s.child,l.memoizedState=Vf(a),l.childLanes=Uf(t,b,a),s.memoizedState=Lf,s=Yl(null,l));else if(zi(s),wm(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var K=b.dgst;b=K,l=Error(i(419)),l.stack="",l.digest=b,Ll({value:l,source:null,stack:null}),s=zf(t,s,a)}else if(kn||No(t,s,a,!1),b=(a&t.childLanes)!==0,kn||b){if(b=Yt,b!==null&&(l=wr(b,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,La(t,l),xs(b,t,l),Pf;_m(E)||nh(),s=zf(t,s,a)}else _m(E)?(s.flags|=192,s.child=t.child,s=null):(t=M.treeContext,Jt=Xs(E.nextSibling),Gn=s,wt=!0,Pi=null,Ys=!1,t!==null&&by(s,t),s=Bf(s,l.children),s.flags|=4096);return s}return f?(Fi(),E=l.fallback,f=s.mode,M=t.child,K=M.sibling,l=ei(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,K!==null?E=ei(K,E):(E=Va(E,f,a,null),E.flags|=2),E.return=s,l.return=s,l.sibling=E,s.child=l,Yl(null,l),l=s.child,E=t.child.memoizedState,E===null?E=Vf(a):(f=E.cachePool,f!==null?(M=Tn._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Sy(),E={baseLanes:E.baseLanes|a,cachePool:f}),l.memoizedState=E,l.childLanes=Uf(t,b,a),s.memoizedState=Lf,Yl(t.child,l)):(zi(s),a=t.child,t=a.sibling,a=ei(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function Bf(t,s){return s=$u({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function $u(t,s){return t=Rs(22,t,null,s),t.lanes=0,t}function zf(t,s,a){return Ga(s,t.child,null,a),t=Bf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Vv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),tf(t.return,s,a)}function Ff(t,s,a,l,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function Uv(t,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var b=yn.current,E=(b&2)!==0;if(E?(b=b&1|2,s.flags|=128):b&=1,Z(yn,b),$n(t,s,l,a),l=wt?Ol:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vv(t,a,s);else if(t.tag===19)Vv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ff(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Pu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ff(s,!0,a,null,m,l);break;case"together":Ff(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ai(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Gi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(No(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=ei(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ei(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function qf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Au(t)))}function iE(t,s,a){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),Li(s,Tn,t.memoizedState.cache),Ua();break;case 27:case 5:Ot(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:Li(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(zi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Lv(t,s,a):(zi(s),t=ai(t,s,a),t!==null?t.sibling:null);zi(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(No(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Uv(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(yn,yn.current),l)break;return null;case 22:return s.lanes=0,jv(t,s,a,s.pendingProps);case 24:Li(s,Tn,t.memoizedState.cache)}return ai(t,s,a)}function Bv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)kn=!0;else{if(!qf(t,a)&&(s.flags&128)===0)return kn=!1,iE(t,s,a);kn=(t.flags&131072)!==0}else kn=!1,wt&&(s.flags&1048576)!==0&&vy(s,Ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=qa(s.elementType),s.type=t,typeof t=="function")$d(t)?(l=$a(t,l),s.tag=1,s=Pv(null,s,t,l,a)):(s.tag=0,s=Of(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===we){s.tag=11,s=Rv(null,s,t,l,a);break e}else if(f===N){s.tag=14,s=Cv(null,s,t,l,a);break e}}throw s=Je(t)||t,Error(i(306,s,""))}}return s;case 0:return Of(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=$a(l,s.pendingProps),Pv(t,s,l,f,a);case 3:e:{if($e(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,cf(t,s),Hl(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Li(s,Tn,l),l!==m.cache&&nf(s,[Tn],a,!0),ql(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Ov(t,s,l,a);break e}else if(l!==f){f=Ws(Error(i(424)),s),Ll(f),s=Ov(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Jt=Xs(t.firstChild),Gn=s,wt=!0,Pi=null,Ys=!0,a=jy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ua(),l===f){s=ai(t,s,a);break e}$n(t,s,l,a)}s=s.child}return s;case 26:return Wu(t,s),t===null?(a=X0(s.type,null,s.pendingProps,null))?s.memoizedState=a:wt||(a=s.type,t=s.pendingProps,l=ch(Ee.current).createElement(a),l[tn]=s,l[ln]=t,Kn(l,a,t),re(l),s.stateNode=l):s.memoizedState=X0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ot(s),t===null&&wt&&(l=s.stateNode=K0(s.type,s.pendingProps,Ee.current),Gn=s,Ys=!0,f=Jt,Qi(s.type)?(xm=f,Jt=Xs(l.firstChild)):Jt=f),$n(t,s,s.pendingProps.children,a),Wu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&wt&&((f=l=Jt)&&(l=PE(l,s.type,s.pendingProps,Ys),l!==null?(s.stateNode=l,Gn=s,Jt=Xs(l.firstChild),Ys=!1,f=!0):f=!1),f||Oi(s)),Ot(s),f=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,ym(f,m)?l=null:b!==null&&ym(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=gf(t,s,Qx,null,null,a),uc._currentValue=f),Wu(t,s),$n(t,s,l,a),s.child;case 6:return t===null&&wt&&((t=a=Jt)&&(a=OE(a,s.pendingProps,Ys),a!==null?(s.stateNode=a,Gn=s,Jt=null,t=!0):t=!1),t||Oi(s)),null;case 13:return Lv(t,s,a);case 4:return $e(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Ga(s,null,l,a):$n(t,s,l,a),s.child;case 11:return Rv(t,s,s.type,s.pendingProps,a);case 7:return $n(t,s,s.pendingProps,a),s.child;case 8:return $n(t,s,s.pendingProps.children,a),s.child;case 12:return $n(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Li(s,s.type,l.value),$n(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,za(s),f=Wn(f),l=l(f),s.flags|=1,$n(t,s,l,a),s.child;case 14:return Cv(t,s,s.type,s.pendingProps,a);case 15:return Nv(t,s,s.type,s.pendingProps,a);case 19:return Uv(t,s,a);case 31:return rE(t,s,a);case 22:return jv(t,s,a,s.pendingProps);case 24:return za(s),l=Wn(Tn),t===null?(f=af(),f===null&&(f=Yt,m=sf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},lf(s),Li(s,Tn,f)):((t.lanes&a)!==0&&(cf(t,s),Hl(s,null,null,a),ql()),f=t.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Li(s,Tn,l)):(l=m.cache,Li(s,Tn,l),l!==f.cache&&nf(s,[Tn],a,!0))),$n(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function oi(t){t.flags|=4}function Hf(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(f0())t.flags|=8192;else throw Ha=ju,of}else t.flags&=-16777217}function zv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nb(s))if(f0())t.flags|=8192;else throw Ha=ju,of}function Ku(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Wr():536870912,t.lanes|=s,Fo|=s)}function Ql(t,s){if(!wt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Zt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function aE(t,s,a){var l=s.pendingProps;switch(Xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return Zt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),si(Tn),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Co(s)?oi(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zd())),Zt(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(oi(s),m!==null?(Zt(s),zv(s,m)):(Zt(s),Hf(s,f,null,l,a))):m?m!==t.memoizedState?(oi(s),Zt(s),zv(s,m)):(Zt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&oi(s),Zt(s),Hf(s,f,t,l,a)),null;case 27:if(zt(s),a=Ee.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Zt(s),null}t=he.current,Co(s)?_y(s):(t=K0(f,l,a),s.stateNode=t,oi(s))}return Zt(s),null;case 5:if(zt(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Zt(s),null}if(m=he.current,Co(s))_y(s);else{var b=ch(Ee.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}m[tn]=s,m[ln]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(Kn(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&oi(s)}}return Zt(s),Hf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&oi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ee.current,Co(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=Gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[tn]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L0(t.nodeValue,a)),t||Oi(s,!0)}else t=ch(t).createTextNode(l),t[tn]=s,s.stateNode=t}return Zt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Co(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[tn]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),t=!1}else a=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Ns(s),s):(Ns(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Zt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Co(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[tn]=s}else Ua(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),f=!1}else f=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ns(s),s):(Ns(s),null)}return Ns(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Ku(s,s.updateQueue),Zt(s),null);case 4:return Ke(),t===null&&dm(s.stateNode.containerInfo),Zt(s),null;case 10:return si(s.type),Zt(s),null;case 19:if(te(yn),l=s.memoizedState,l===null)return Zt(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)Ql(l,!1);else{if(mn!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Pu(t),m!==null){for(s.flags|=128,Ql(l,!1),t=m.updateQueue,s.updateQueue=t,Ku(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)py(a,t),a=a.sibling;return Z(yn,yn.current&1|2),wt&&ti(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&Vt()>Zu&&(s.flags|=128,f=!0,Ql(l,!1),s.lanes=4194304)}else{if(!f)if(t=Pu(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,Ku(s,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!wt)return Zt(s),null}else 2*Vt()-l.renderingStartTime>Zu&&a!==536870912&&(s.flags|=128,f=!0,Ql(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Vt(),t.sibling=null,a=yn.current,Z(yn,f?a&1|2:a&1),wt&&ti(s,l.treeForkCount),t):(Zt(s),null);case 22:case 23:return Ns(s),ff(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),a=s.updateQueue,a!==null&&Ku(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&te(Fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),si(Tn),Zt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function oE(t,s){switch(Xd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return si(Tn),Ke(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return zt(s),null;case 31:if(s.memoizedState!==null){if(Ns(s),s.alternate===null)throw Error(i(340));Ua()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ns(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ua()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return te(yn),null;case 4:return Ke(),null;case 10:return si(s.type),null;case 22:case 23:return Ns(s),ff(),t!==null&&te(Fa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return si(Tn),null;case 25:return null;default:return null}}function Fv(t,s){switch(Xd(s),s.tag){case 3:si(Tn),Ke();break;case 26:case 27:case 5:zt(s);break;case 4:Ke();break;case 31:s.memoizedState!==null&&Ns(s);break;case 13:Ns(s);break;case 19:te(yn);break;case 10:si(s.type);break;case 22:case 23:Ns(s),ff(),t!==null&&te(Fa);break;case 24:si(Tn)}}function Xl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(E){Bt(s,s.return,E)}}function qi(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var b=l.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,f=s;var M=a,K=E;try{K()}catch(le){Bt(f,M,le)}}}l=l.next}while(l!==m)}}catch(le){Bt(s,s.return,le)}}function qv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Dy(s,a)}catch(l){Bt(t,t.return,l)}}}function Hv(t,s,a){a.props=$a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Bt(t,s,l)}}function Jl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Bt(t,s,f)}}function jr(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Bt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Bt(t,s,f)}else a.current=null}function Gv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Bt(t,t.return,f)}}function Gf(t,s,a){try{var l=t.stateNode;CE(l,t.type,a,s),l[ln]=s}catch(f){Bt(t,t.return,f)}}function Wv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qi(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=or));else if(l!==4&&(l===27&&Qi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for($f(t,s,a),t=t.sibling;t!==null;)$f(t,s,a),t=t.sibling}function Yu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Qi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,s,a),t=t.sibling;t!==null;)Yu(t,s,a),t=t.sibling}function $v(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Kn(s,l,a),s[tn]=t,s[ln]=a}catch(m){Bt(t,t.return,m)}}var li=!1,An=!1,Kf=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function lE(t,s){if(t=t.containerInfo,pm=gh,t=ay(t),Bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,E=-1,M=-1,K=0,le=0,fe=t,Y=null;t:for(;;){for(var ee;fe!==a||f!==0&&fe.nodeType!==3||(E=b+f),fe!==m||l!==0&&fe.nodeType!==3||(M=b+l),fe.nodeType===3&&(b+=fe.nodeValue.length),(ee=fe.firstChild)!==null;)Y=fe,fe=ee;for(;;){if(fe===t)break t;if(Y===a&&++K===f&&(E=b),Y===m&&++le===l&&(M=b),(ee=fe.nextSibling)!==null)break;fe=Y,Y=fe.parentNode}fe=ee}a=E===-1||M===-1?null:{start:E,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:t,selectionRange:a},gh=!1,Pn=s;Pn!==null;)if(s=Pn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Pn=t;else for(;Pn!==null;){switch(s=Pn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ie=$a(a.type,f);t=l.getSnapshotBeforeUpdate(Ie,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ye){Bt(a,a.return,Ye)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Pn=t;break}Pn=s.return}}function Yv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ui(t,a),l&4&&Xl(5,a);break;case 1:if(ui(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){Bt(a,a.return,b)}else{var f=$a(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Bt(a,a.return,b)}}l&64&&qv(a),l&512&&Jl(a,a.return);break;case 3:if(ui(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Dy(t,s)}catch(b){Bt(a,a.return,b)}}break;case 27:s===null&&l&4&&$v(a);case 26:case 5:ui(t,a),s===null&&l&4&&Gv(a),l&512&&Jl(a,a.return);break;case 12:ui(t,a);break;case 31:ui(t,a),l&4&&Jv(t,a);break;case 13:ui(t,a),l&4&&Zv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yE.bind(null,a),LE(t,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){s=s!==null&&s.memoizedState!==null||An,f=li;var m=An;li=l,(An=s)&&!m?hi(t,a,(a.subtreeFlags&8772)!==0):ui(t,a),li=f,An=m}break;case 30:break;default:ui(t,a)}}function Qv(t){var s=t.alternate;s!==null&&(t.alternate=null,Qv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ss(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var sn=null,vs=!1;function ci(t,s,a){for(a=a.child;a!==null;)Xv(t,s,a),a=a.sibling}function Xv(t,s,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Te,a)}catch{}switch(a.tag){case 26:An||jr(a,s),ci(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:An||jr(a,s);var l=sn,f=vs;Qi(a.type)&&(sn=a.stateNode,vs=!1),ci(t,s,a),oc(a.stateNode),sn=l,vs=f;break;case 5:An||jr(a,s);case 6:if(l=sn,f=vs,sn=null,ci(t,s,a),sn=l,vs=f,sn!==null)if(vs)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(a.stateNode)}catch(m){Bt(a,s,m)}else try{sn.removeChild(a.stateNode)}catch(m){Bt(a,s,m)}break;case 18:sn!==null&&(vs?(t=sn,q0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qo(t)):q0(sn,a.stateNode));break;case 4:l=sn,f=vs,sn=a.stateNode.containerInfo,vs=!0,ci(t,s,a),sn=l,vs=f;break;case 0:case 11:case 14:case 15:qi(2,a,s),An||qi(4,a,s),ci(t,s,a);break;case 1:An||(jr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hv(a,s,l)),ci(t,s,a);break;case 21:ci(t,s,a);break;case 22:An=(l=An)||a.memoizedState!==null,ci(t,s,a),An=l;break;default:ci(t,s,a)}}function Jv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qo(t)}catch(a){Bt(s,s.return,a)}}}function Zv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qo(t)}catch(a){Bt(s,s.return,a)}}function cE(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Kv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Kv),s;default:throw Error(i(435,t.tag))}}function Qu(t,s){var a=cE(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=vE.bind(null,t,l);l.then(f,f)}})}function bs(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,b=s,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Qi(E.type)){sn=E.stateNode,vs=!1;break e}break;case 5:sn=E.stateNode,vs=!1;break e;case 3:case 4:sn=E.stateNode.containerInfo,vs=!0;break e}E=E.return}if(sn===null)throw Error(i(160));Xv(m,b,f),sn=null,vs=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)e0(s,t),s=s.sibling}var fr=null;function e0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bs(s,t),_s(t),l&4&&(qi(3,t,t.return),Xl(3,t),qi(5,t,t.return));break;case 1:bs(s,t),_s(t),l&512&&(An||a===null||jr(a,a.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=fr;if(bs(s,t),_s(t),l&512&&(An||a===null||jr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[os]||m[tn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Kn(m,l,a),m[tn]=t,re(m),l=m;break e;case"link":var b=eb("link","href",f).get(l+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(m=b[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}m=f.createElement(l),Kn(m,l,a),f.head.appendChild(m);break;case"meta":if(b=eb("meta","content",f).get(l+(a.content||""))){for(E=0;E<b.length;E++)if(m=b[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}m=f.createElement(l),Kn(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[tn]=t,re(m),l=m}t.stateNode=l}else tb(f,t.type,t.stateNode);else t.stateNode=Z0(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?tb(f,t.type,t.stateNode):Z0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:bs(s,t),_s(t),l&512&&(An||a===null||jr(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bs(s,t),_s(t),l&512&&(An||a===null||jr(a,a.return)),t.flags&32){f=t.stateNode;try{En(f,"")}catch(Ie){Bt(t,t.return,Ie)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Gf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Kf=!0);break;case 6:if(bs(s,t),_s(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Ie){Bt(t,t.return,Ie)}}break;case 3:if(dh=null,f=fr,fr=uh(s.containerInfo),bs(s,t),fr=f,_s(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qo(s.containerInfo)}catch(Ie){Bt(t,t.return,Ie)}Kf&&(Kf=!1,t0(t));break;case 4:l=fr,fr=uh(t.stateNode.containerInfo),bs(s,t),_s(t),fr=l;break;case 12:bs(s,t),_s(t);break;case 31:bs(s,t),_s(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 13:bs(s,t),_s(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ju=Vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,K=li,le=An;if(li=K||f,An=le||M,bs(s,t),An=le,li=K,_s(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||li||An||Ka(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(m=M.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=M.stateNode;var fe=M.memoizedProps.style,Y=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Ie){Bt(M,M.return,Ie)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Ie){Bt(M,M.return,Ie)}}}else if(s.tag===18){if(a===null){M=s;try{var ee=M.stateNode;f?H0(ee,!0):H0(M.stateNode,!1)}catch(Ie){Bt(M,M.return,Ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qu(t,a))));break;case 19:bs(s,t),_s(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 30:break;case 21:break;default:bs(s,t),_s(t)}}function _s(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Wv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Wf(t);Yu(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(En(b,""),a.flags&=-33);var E=Wf(t);Yu(t,E,b);break;case 3:case 4:var M=a.stateNode.containerInfo,K=Wf(t);$f(t,K,M);break;default:throw Error(i(161))}}catch(le){Bt(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function t0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;t0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ui(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Yv(t,s.alternate,s),s=s.sibling}function Ka(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:qi(4,s,s.return),Ka(s);break;case 1:jr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Hv(s,s.return,a),Ka(s);break;case 27:oc(s.stateNode);case 26:case 5:jr(s,s.return),Ka(s);break;case 22:s.memoizedState===null&&Ka(s);break;case 30:Ka(s);break;default:Ka(s)}t=t.sibling}}function hi(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:hi(f,m,a),Xl(4,m);break;case 1:if(hi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Bt(l,l.return,K)}if(l=m,f=l.updateQueue,f!==null){var E=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Iy(M[f],E)}catch(K){Bt(l,l.return,K)}}a&&b&64&&qv(m),Jl(m,m.return);break;case 27:$v(m);case 26:case 5:hi(f,m,a),a&&l===null&&b&4&&Gv(m),Jl(m,m.return);break;case 12:hi(f,m,a);break;case 31:hi(f,m,a),a&&b&4&&Jv(f,m);break;case 13:hi(f,m,a),a&&b&4&&Zv(f,m);break;case 22:m.memoizedState===null&&hi(f,m,a),Jl(m,m.return);break;case 30:break;default:hi(f,m,a)}s=s.sibling}}function Yf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vl(a))}function Qf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t))}function mr(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n0(t,s,a,l),s=s.sibling}function n0(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:mr(t,s,a,l),f&2048&&Xl(9,s);break;case 1:mr(t,s,a,l);break;case 3:mr(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t)));break;case 12:if(f&2048){mr(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,E=m.onPostCommit;typeof E=="function"&&E(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Bt(s,s.return,M)}}else mr(t,s,a,l);break;case 31:mr(t,s,a,l);break;case 13:mr(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?mr(t,s,a,l):Zl(t,s):m._visibility&2?mr(t,s,a,l):(m._visibility|=2,Uo(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Yf(b,s);break;case 24:mr(t,s,a,l),f&2048&&Qf(s.alternate,s);break;default:mr(t,s,a,l)}}function Uo(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,E=a,M=l,K=b.flags;switch(b.tag){case 0:case 11:case 15:Uo(m,b,E,M,f),Xl(8,b);break;case 23:break;case 22:var le=b.stateNode;b.memoizedState!==null?le._visibility&2?Uo(m,b,E,M,f):Zl(m,b):(le._visibility|=2,Uo(m,b,E,M,f)),f&&K&2048&&Yf(b.alternate,b);break;case 24:Uo(m,b,E,M,f),f&&K&2048&&Qf(b.alternate,b);break;default:Uo(m,b,E,M,f)}s=s.sibling}}function Zl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:Zl(a,l),f&2048&&Yf(l.alternate,l);break;case 24:Zl(a,l),f&2048&&Qf(l.alternate,l);break;default:Zl(a,l)}s=s.sibling}}var ec=8192;function Bo(t,s,a){if(t.subtreeFlags&ec)for(t=t.child;t!==null;)s0(t,s,a),t=t.sibling}function s0(t,s,a){switch(t.tag){case 26:Bo(t,s,a),t.flags&ec&&t.memoizedState!==null&&YE(a,fr,t.memoizedState,t.memoizedProps);break;case 5:Bo(t,s,a);break;case 3:case 4:var l=fr;fr=uh(t.stateNode.containerInfo),Bo(t,s,a),fr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ec,ec=16777216,Bo(t,s,a),ec=l):Bo(t,s,a));break;default:Bo(t,s,a)}}function r0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function tc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pn=l,a0(l,t)}r0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i0(t),t=t.sibling}function i0(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&qi(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Xu(t)):tc(t);break;default:tc(t)}}function Xu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pn=l,a0(l,t)}r0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:qi(8,s,s.return),Xu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(s));break;default:Xu(s)}t=t.sibling}}function a0(t,s){for(;Pn!==null;){var a=Pn;switch(a.tag){case 0:case 11:case 15:qi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pn=l;else e:for(a=t;Pn!==null;){l=Pn;var f=l.sibling,m=l.return;if(Qv(l),l===a){Pn=null;break e}if(f!==null){f.return=m,Pn=f;break e}Pn=m}}}var uE={getCacheForType:function(t){var s=Wn(Tn),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Wn(Tn).controller.signal}},hE=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Yt=null,dt=null,gt=0,Ut=0,js=null,Hi=!1,zo=!1,Xf=!1,di=0,mn=0,Gi=0,Ya=0,Jf=0,Is=0,Fo=0,nc=null,ws=null,Zf=!1,Ju=0,o0=0,Zu=1/0,eh=null,Wi=null,In=0,$i=null,qo=null,fi=0,em=0,tm=null,l0=null,sc=0,nm=null;function Ds(){return(Dt&2)!==0&&gt!==0?gt&-gt:W.T!==null?lm():xr()}function c0(){if(Is===0)if((gt&536870912)===0||wt){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Is=t}else Is=536870912;return t=Cs.current,t!==null&&(t.flags|=32),Is}function xs(t,s,a){(t===Yt&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Ki(t,gt,Is,!1)),Us(t,a),((Dt&2)===0||t!==Yt)&&(t===Yt&&((Dt&2)===0&&(Ya|=a),mn===4&&Ki(t,gt,Is,!1)),Ir(t))}function u0(t,s,a){if((Dt&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Jn(t,s),f=l?mE(t,s):rm(t,s,!0),m=l;do{if(f===0){zo&&!l&&Ki(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!dE(a)){f=rm(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var E=t;f=nc;var M=E.current.memoizedState.isDehydrated;if(M&&(Ho(E,b).flags|=256),b=rm(E,b,!1),b!==2){if(Xf&&!M){E.errorRecoveryDisabledLanes|=m,Ya|=m,f=4;break e}m=ws,ws=f,m!==null&&(ws===null?ws=m:ws.push.apply(ws,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Ho(t,0),Ki(t,s,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ki(l,s,Is,!Hi);break e;case 2:ws=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Ju+300-Vt(),10<f)){if(Ki(l,s,Is,!Hi),jn(l,0,!0)!==0)break e;fi=s,l.timeoutHandle=z0(h0.bind(null,l,a,ws,eh,Zf,s,Is,Ya,Fo,Hi,m,"Throttled",-0,0),f);break e}h0(l,a,ws,eh,Zf,s,Is,Ya,Fo,Hi,m,null,-0,0)}}break}while(!0);Ir(t)}function h0(t,s,a,l,f,m,b,E,M,K,le,fe,Y,ee){if(t.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},s0(s,m,fe);var Ie=(m&62914560)===m?Ju-Vt():(m&4194048)===m?o0-Vt():0;if(Ie=QE(fe,Ie),Ie!==null){fi=m,t.cancelPendingCommit=Ie(b0.bind(null,t,s,m,a,l,f,b,E,M,le,fe,null,Y,ee)),Ki(t,m,b,!K);return}}b0(t,s,m,a,l,f,b,E,M)}function dE(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!As(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ki(t,s,a,l){s&=~Jf,s&=~Ya,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var m=31-Fe(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&Bs(t,a,s)}function th(){return(Dt&6)===0?(rc(0),!1):!0}function sm(){if(dt!==null){if(Ut===0)var t=dt.return;else t=dt,ni=Ba=null,bf(t),Mo=null,Bl=0,t=dt;for(;t!==null;)Fv(t.alternate,t),t=t.return;dt=null}}function Ho(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fi=0,sm(),Yt=t,dt=a=ei(t.current,null),gt=s,Ut=0,js=null,Hi=!1,zo=Jn(t,s),Xf=!1,Fo=Is=Jf=Ya=Gi=mn=0,ws=nc=null,Zf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-Fe(l),m=1<<f;s|=t[f],l&=~m}return di=s,xu(),a}function d0(t,s){ct=null,W.H=Kl,s===Do||s===Nu?(s=Ry(),Ut=3):s===of?(s=Ry(),Ut=4):Ut=s===Pf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,js=s,dt===null&&(mn=1,Hu(t,Ws(s,t.current)))}function f0(){var t=Cs.current;return t===null?!0:(gt&4194048)===gt?Qs===null:(gt&62914560)===gt||(gt&536870912)!==0?t===Qs:!1}function m0(){var t=W.H;return W.H=Kl,t===null?Kl:t}function p0(){var t=W.A;return W.A=uE,t}function nh(){mn=4,Hi||(gt&4194048)!==gt&&Cs.current!==null||(zo=!0),(Gi&134217727)===0&&(Ya&134217727)===0||Yt===null||Ki(Yt,gt,Is,!1)}function rm(t,s,a){var l=Dt;Dt|=2;var f=m0(),m=p0();(Yt!==t||gt!==s)&&(eh=null,Ho(t,s)),s=!1;var b=mn;e:do try{if(Ut!==0&&dt!==null){var E=dt,M=js;switch(Ut){case 8:sm(),b=6;break e;case 3:case 2:case 9:case 6:Cs.current===null&&(s=!0);var K=Ut;if(Ut=0,js=null,Go(t,E,M,K),a&&zo){b=0;break e}break;default:K=Ut,Ut=0,js=null,Go(t,E,M,K)}}fE(),b=mn;break}catch(le){d0(t,le)}while(!0);return s&&t.shellSuspendCounter++,ni=Ba=null,Dt=l,W.H=f,W.A=m,dt===null&&(Yt=null,gt=0,xu()),b}function fE(){for(;dt!==null;)g0(dt)}function mE(t,s){var a=Dt;Dt|=2;var l=m0(),f=p0();Yt!==t||gt!==s?(eh=null,Zu=Vt()+500,Ho(t,s)):zo=Jn(t,s);e:do try{if(Ut!==0&&dt!==null){s=dt;var m=js;t:switch(Ut){case 1:Ut=0,js=null,Go(t,s,m,1);break;case 2:case 9:if(ky(m)){Ut=0,js=null,y0(s);break}s=function(){Ut!==2&&Ut!==9||Yt!==t||(Ut=7),Ir(t)},m.then(s,s);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:ky(m)?(Ut=0,js=null,y0(s)):(Ut=0,js=null,Go(t,s,m,7));break;case 5:var b=null;switch(dt.tag){case 26:b=dt.memoizedState;case 5:case 27:var E=dt;if(b?nb(b):E.stateNode.complete){Ut=0,js=null;var M=E.sibling;if(M!==null)dt=M;else{var K=E.return;K!==null?(dt=K,sh(K)):dt=null}break t}}Ut=0,js=null,Go(t,s,m,5);break;case 6:Ut=0,js=null,Go(t,s,m,6);break;case 8:sm(),mn=6;break e;default:throw Error(i(462))}}pE();break}catch(le){d0(t,le)}while(!0);return ni=Ba=null,W.H=l,W.A=f,Dt=a,dt!==null?0:(Yt=null,gt=0,xu(),mn)}function pE(){for(;dt!==null&&!Gr();)g0(dt)}function g0(t){var s=Bv(t.alternate,t,di);t.memoizedProps=t.pendingProps,s===null?sh(t):dt=s}function y0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Mv(a,s,s.pendingProps,s.type,void 0,gt);break;case 11:s=Mv(a,s,s.pendingProps,s.type.render,s.ref,gt);break;case 5:bf(s);default:Fv(a,s),s=dt=py(s,di),s=Bv(a,s,di)}t.memoizedProps=t.pendingProps,s===null?sh(t):dt=s}function Go(t,s,a,l){ni=Ba=null,bf(s),Mo=null,Bl=0;var f=s.return;try{if(sE(t,f,s,a,gt)){mn=1,Hu(t,Ws(a,t.current)),dt=null;return}}catch(m){if(f!==null)throw dt=f,m;mn=1,Hu(t,Ws(a,t.current)),dt=null;return}s.flags&32768?(wt||l===1?t=!0:zo||(gt&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cs.current,l!==null&&l.tag===13&&(l.flags|=16384))),v0(s,t)):sh(s)}function sh(t){var s=t;do{if((s.flags&32768)!==0){v0(s,Hi);return}t=s.return;var a=aE(s.alternate,s,di);if(a!==null){dt=a;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=t}while(s!==null);mn===0&&(mn=5)}function v0(t,s){do{var a=oE(t.alternate,t);if(a!==null){a.flags&=32767,dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){dt=t;return}dt=t=a}while(t!==null);mn=6,dt=null}function b0(t,s,a,l,f,m,b,E,M){t.cancelPendingCommit=null;do rh();while(In!==0);if((Dt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Gd,$r(t,a,m,b,E,M),t===Yt&&(dt=Yt=null,gt=0),qo=s,$i=t,fi=a,em=m,tm=f,l0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bE(oe,function(){return T0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=se.p,se.p=2,b=Dt,Dt|=4;try{lE(t,s,a)}finally{Dt=b,se.p=f,W.T=l}}In=1,_0(),w0(),x0()}}function _0(){if(In===1){In=0;var t=$i,s=qo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var f=Dt;Dt|=4;try{e0(s,t);var m=gm,b=ay(t.containerInfo),E=m.focusedElem,M=m.selectionRange;if(b!==E&&E&&E.ownerDocument&&iy(E.ownerDocument.documentElement,E)){if(M!==null&&Bd(E)){var K=M.start,le=M.end;if(le===void 0&&(le=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(le,E.value.length);else{var fe=E.ownerDocument||document,Y=fe&&fe.defaultView||window;if(Y.getSelection){var ee=Y.getSelection(),Ie=E.textContent.length,Ye=Math.min(M.start,Ie),Wt=M.end===void 0?Ye:Math.min(M.end,Ie);!ee.extend&&Ye>Wt&&(b=Wt,Wt=Ye,Ye=b);var F=ry(E,Ye),V=ry(E,Wt);if(F&&V&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==V.node||ee.focusOffset!==V.offset)){var $=fe.createRange();$.setStart(F.node,F.offset),ee.removeAllRanges(),Ye>Wt?(ee.addRange($),ee.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),ee.addRange($))}}}}for(fe=[],ee=E;ee=ee.parentNode;)ee.nodeType===1&&fe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<fe.length;E++){var ue=fe[E];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}gh=!!pm,gm=pm=null}finally{Dt=f,se.p=l,W.T=a}}t.current=s,In=2}}function w0(){if(In===2){In=0;var t=$i,s=qo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var f=Dt;Dt|=4;try{Yv(t,s.alternate,s)}finally{Dt=f,se.p=l,W.T=a}}In=3}}function x0(){if(In===4||In===3){In=0,Vs();var t=$i,s=qo,a=fi,l=l0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?In=5:(In=0,qo=$i=null,E0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Wi=null),as(a),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Te,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=se.p,se.p=2,W.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var E=l[b];m(E.value,{componentStack:E.stack})}}finally{W.T=s,se.p=f}}(fi&3)!==0&&rh(),Ir(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===nm?sc++:(sc=0,nm=t):sc=0,rc(0)}}function E0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Vl(s)))}function rh(){return _0(),w0(),x0(),T0()}function T0(){if(In!==5)return!1;var t=$i,s=em;em=0;var a=as(fi),l=W.T,f=se.p;try{se.p=32>a?32:a,W.T=null,a=tm,tm=null;var m=$i,b=fi;if(In=0,qo=$i=null,fi=0,(Dt&6)!==0)throw Error(i(331));var E=Dt;if(Dt|=4,i0(m.current),n0(m,m.current,b,a),Dt=E,rc(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Te,m)}catch{}return!0}finally{se.p=f,W.T=l,E0(t,s)}}function S0(t,s,a){s=Ws(a,s),s=Mf(t.stateNode,s,2),t=Bi(t,s,2),t!==null&&(Us(t,2),Ir(t))}function Bt(t,s,a){if(t.tag===3)S0(t,t,a);else for(;s!==null;){if(s.tag===3){S0(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){t=Ws(a,t),a=kv(2),l=Bi(s,a,2),l!==null&&(Av(a,l,s,t),Us(l,2),Ir(l));break}}s=s.return}}function im(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hE;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Xf=!0,f.add(a),t=gE.bind(null,t,s,a),s.then(t,t))}function gE(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Yt===t&&(gt&a)===a&&(mn===4||mn===3&&(gt&62914560)===gt&&300>Vt()-Ju?(Dt&2)===0&&Ho(t,0):Jf|=a,Fo===gt&&(Fo=0)),Ir(t)}function k0(t,s){s===0&&(s=Wr()),t=La(t,s),t!==null&&(Us(t,s),Ir(t))}function yE(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),k0(t,a)}function vE(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),k0(t,a)}function bE(t,s){return et(t,s)}var ih=null,Wo=null,am=!1,ah=!1,om=!1,Yi=0;function Ir(t){t!==Wo&&t.next===null&&(Wo===null?ih=Wo=t:Wo=Wo.next=t),ah=!0,am||(am=!0,wE())}function rc(t,s){if(!om&&ah){om=!0;do for(var a=!1,l=ih;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Fe(42|t)+1)-1,m&=f&~(b&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,N0(l,m))}else m=gt,m=jn(l,l===Yt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Jn(l,m)||(a=!0,N0(l,m));l=l.next}while(a);om=!1}}function _E(){A0()}function A0(){ah=am=!1;var t=0;Yi!==0&&jE()&&(t=Yi);for(var s=Vt(),a=null,l=ih;l!==null;){var f=l.next,m=R0(l,s);m===0?(l.next=null,a===null?ih=f:a.next=f,f===null&&(Wo=a)):(a=l,(t!==0||(m&3)!==0)&&(ah=!0)),l=f}In!==0&&In!==5||rc(t),Yi!==0&&(Yi=0)}function R0(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Fe(m),E=1<<b,M=f[b];M===-1?((E&a)===0||(E&l)!==0)&&(f[b]=sr(E,s)):M<=s&&(t.expiredLanes|=E),m&=~E}if(s=Yt,a=gt,a=jn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$t(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&$t(l),as(a)){case 2:case 8:a=xn;break;case 32:a=oe;break;case 268435456:a=_e;break;default:a=oe}return l=C0.bind(null,t),a=et(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&$t(l),t.callbackPriority=2,t.callbackNode=null,2}function C0(t,s){if(In!==0&&In!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rh()&&t.callbackNode!==a)return null;var l=gt;return l=jn(t,t===Yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(u0(t,l,s),R0(t,Vt()),t.callbackNode!=null&&t.callbackNode===a?C0.bind(null,t):null)}function N0(t,s){if(rh())return null;u0(t,s,!0)}function wE(){DE(function(){(Dt&6)!==0?et(on,_E):A0()})}function lm(){if(Yi===0){var t=jo;t===0&&(t=dn,dn<<=1,(dn&261888)===0&&(dn=256)),Yi=t}return Yi}function j0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:go(""+t)}function I0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function xE(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=j0((f[ln]||null).action),b=l.submitter;b&&(s=(s=b[ln]||null)?j0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var E=new Sr("action","action",null,l,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yi!==0){var M=b?I0(f,b):new FormData(f);Rf(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(E.preventDefault(),M=b?I0(f,b):new FormData(f),Rf(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var cm=0;cm<Hd.length;cm++){var um=Hd[cm],EE=um.toLowerCase(),TE=um[0].toUpperCase()+um.slice(1);dr(EE,"on"+TE)}dr(cy,"onAnimationEnd"),dr(uy,"onAnimationIteration"),dr(hy,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(Bx,"onTransitionRun"),dr(zx,"onTransitionStart"),dr(Fx,"onTransitionCancel"),dr(dy,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),Pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function D0(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var E=l[b],M=E.instance,K=E.currentTarget;if(E=E.listener,M!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=K;try{m(f)}catch(le){wu(le)}f.currentTarget=null,m=M}else for(b=0;b<l.length;b++){if(E=l[b],M=E.instance,K=E.currentTarget,E=E.listener,M!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=K;try{m(f)}catch(le){wu(le)}f.currentTarget=null,m=M}}}}function ft(t,s){var a=s[Fn];a===void 0&&(a=s[Fn]=new Set);var l=t+"__bubble";a.has(l)||(M0(s,t,2,!1),a.add(l))}function hm(t,s,a){var l=0;s&&(l|=4),M0(a,t,l,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function dm(t){if(!t[oh]){t[oh]=!0,We.forEach(function(a){a!=="selectionchange"&&(SE.has(a)||hm(a,!1,t),hm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[oh]||(s[oh]=!0,hm("selectionchange",!1,s))}}function M0(t,s,a,l){switch(cb(s)){case 2:var f=ZE;break;case 8:f=eT;break;default:f=Am}a=f.bind(null,s,a,t),f=void 0,!Ca||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function fm(t,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var E=l.stateNode.containerInfo;if(E===f)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;E!==null;){if(b=ys(E),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=m=b;continue e}E=E.parentNode}}l=l.return}Ni(function(){var K=m,le=Fs(a),fe=[];e:{var Y=fy.get(t);if(Y!==void 0){var ee=Sr,Ie=t;switch(t){case"keypress":if(ja(a)===0)break e;case"keydown":case"keyup":ee=vu;break;case"focusin":Ie="focus",ee=Da;break;case"focusout":Ie="blur",ee=Da;break;case"beforeblur":case"afterblur":ee=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case cy:case uy:case hy:ee=hu;break;case dy:ee=A;break;case"scroll":case"scrollend":ee=Cl;break;case"wheel":ee=Q;break;case"copy":case"cut":case"paste":ee=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Zr;break;case"toggle":case"beforetoggle":ee=lt}var Ye=(s&4)!==0,Wt=!Ye&&(t==="scroll"||t==="scrollend"),F=Ye?Y!==null?Y+"Capture":null:Y;Ye=[];for(var V=K,$;V!==null;){var ue=V;if($=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||$===null||F===null||(ue=lr(V,F),ue!=null&&Ye.push(ac(V,ue,$))),Wt)break;V=V.return}0<Ye.length&&(Y=new ee(Y,Ie,null,a,le),fe.push({event:Y,listeners:Ye}))}}if((s&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",Y&&a!==kl&&(Ie=a.relatedTarget||a.fromElement)&&(ys(Ie)||Ie[gs]))break e;if((ee||Y)&&(Y=le.window===le?le:(Y=le.ownerDocument)?Y.defaultView||Y.parentWindow:window,ee?(Ie=a.relatedTarget||a.toElement,ee=K,Ie=Ie?ys(Ie):null,Ie!==null&&(Wt=u(Ie),Ye=Ie.tag,Ie!==Wt||Ye!==5&&Ye!==27&&Ye!==6)&&(Ie=null)):(ee=null,Ie=K),ee!==Ie)){if(Ye=Nl,ue="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ye=Zr,ue="onPointerLeave",F="onPointerEnter",V="pointer"),Wt=ee==null?Y:U(ee),$=Ie==null?Y:U(Ie),Y=new Ye(ue,V+"leave",ee,a,le),Y.target=Wt,Y.relatedTarget=$,ue=null,ys(le)===K&&(Ye=new Ye(F,V+"enter",Ie,a,le),Ye.target=$,Ye.relatedTarget=Wt,ue=Ye),Wt=ue,ee&&Ie)t:{for(Ye=kE,F=ee,V=Ie,$=0,ue=F;ue;ue=Ye(ue))$++;ue=0;for(var He=V;He;He=Ye(He))ue++;for(;0<$-ue;)F=Ye(F),$--;for(;0<ue-$;)V=Ye(V),ue--;for(;$--;){if(F===V||V!==null&&F===V.alternate){Ye=F;break t}F=Ye(F),V=Ye(V)}Ye=null}else Ye=null;ee!==null&&P0(fe,Y,ee,Ye,!1),Ie!==null&&Wt!==null&&P0(fe,Wt,Ie,Ye,!0)}}e:{if(Y=K?U(K):window,ee=Y.nodeName&&Y.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Y.type==="file")var Nt=Jg;else if(Qg(Y))if(Zg)Nt=Lx;else{Nt=Px;var Ue=Mx}else ee=Y.nodeName,!ee||ee.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Qr(K.elementType)&&(Nt=Jg):Nt=Ox;if(Nt&&(Nt=Nt(t,K))){Xg(fe,Nt,a,le);break e}Ue&&Ue(t,Y,K),t==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&St(Y,"number",Y.value)}switch(Ue=K?U(K):window,t){case"focusin":(Qg(Ue)||Ue.contentEditable==="true")&&(Eo=Ue,zd=K,Pl=null);break;case"focusout":Pl=zd=Eo=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,oy(fe,a,le);break;case"selectionchange":if(Ux)break;case"keydown":case"keyup":oy(fe,a,le)}var ut;if(It)e:{switch(t){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else xo?Ma(t,a)&&(yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(Rr&&a.locale!=="ko"&&(xo||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&xo&&(ut=Rl()):(Tr=le,Al="value"in Tr?Tr.value:Tr.textContent,xo=!0)),Ue=lh(K,yt),0<Ue.length&&(yt=new Ar(yt,t,null,a,le),fe.push({event:yt,listeners:Ue}),ut?yt.data=ut:(ut=wo(a),ut!==null&&(yt.data=ut)))),(ut=Hs?Nx(t,a):jx(t,a))&&(yt=lh(K,"onBeforeInput"),0<yt.length&&(Ue=new Ar("onBeforeInput","beforeinput",null,a,le),fe.push({event:Ue,listeners:yt}),Ue.data=ut)),xE(fe,t,K,a,le)}D0(fe,s)})}function ac(t,s,a){return{instance:t,listener:s,currentTarget:a}}function lh(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=lr(t,a),f!=null&&l.unshift(ac(t,f,m)),f=lr(t,s),f!=null&&l.push(ac(t,f,m))),t.tag===3)return l;t=t.return}return[]}function kE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function P0(t,s,a,l,f){for(var m=s._reactName,b=[];a!==null&&a!==l;){var E=a,M=E.alternate,K=E.stateNode;if(E=E.tag,M!==null&&M===l)break;E!==5&&E!==26&&E!==27||K===null||(M=K,f?(K=lr(a,m),K!=null&&b.unshift(ac(a,K,M))):f||(K=lr(a,m),K!=null&&b.push(ac(a,K,M)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var AE=/\r\n?/g,RE=/\u0000|\uFFFD/g;function O0(t){return(typeof t=="string"?t:""+t).replace(AE,`
`).replace(RE,"")}function L0(t,s){return s=O0(s),O0(t)===s}function Gt(t,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&En(t,""+l);break;case"className":be(t,"class",l);break;case"tabIndex":be(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":be(t,a,l);break;case"style":ar(t,l,m);break;case"data":if(s!=="object"){be(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=go(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Gt(t,s,"name",f.name,f,null),Gt(t,s,"formEncType",f.formEncType,f,null),Gt(t,s,"formMethod",f.formMethod,f,null),Gt(t,s,"formTarget",f.formTarget,f,null)):(Gt(t,s,"encType",f.encType,f,null),Gt(t,s,"method",f.method,f,null),Gt(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=go(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=or);break;case"onScroll":l!=null&&ft("scroll",t);break;case"onScrollEnd":l!=null&&ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=go(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ft("beforetoggle",t),ft("toggle",t),ve(t,"popover",l);break;case"xlinkActuate":Se(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Se(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Se(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Se(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Se(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Se(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Se(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Se(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Se(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ve(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=po.get(a)||a,ve(t,a,l))}}function mm(t,s,a,l,f,m){switch(a){case"style":ar(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&ft("scroll",t);break;case"onScrollEnd":l!=null&&ft("scrollend",t);break;case"onClick":l!=null&&(t.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[ln]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ve(t,a,l)}}}function Kn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",t),ft("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gt(t,s,m,b,a,null)}}f&&Gt(t,s,"srcSet",a.srcSet,a,null),l&&Gt(t,s,"src",a.src,a,null);return;case"input":ft("invalid",t);var E=m=b=f=null,M=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var le=a[l];if(le!=null)switch(l){case"name":f=le;break;case"type":b=le;break;case"checked":M=le;break;case"defaultChecked":K=le;break;case"value":m=le;break;case"defaultValue":E=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:Gt(t,s,l,le,a,null)}}Aa(t,m,E,M,K,b,f,!1);return;case"select":ft("invalid",t),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":b=E;break;case"multiple":l=E;default:Gt(t,s,f,E,a,null)}s=m,a=b,t.multiple=!!l,s!=null?cn(t,!!l,s,!1):a!=null&&cn(t,!!l,a,!0);return;case"textarea":ft("invalid",t),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":l=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Gt(t,s,b,E,a,null)}ls(t,l,f,m);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Gt(t,s,M,l,a,null));return;case"dialog":ft("beforetoggle",t),ft("toggle",t),ft("cancel",t),ft("close",t);break;case"iframe":case"object":ft("load",t);break;case"video":case"audio":for(l=0;l<ic.length;l++)ft(ic[l],t);break;case"image":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"embed":case"source":case"link":ft("error",t),ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gt(t,s,K,l,a,null)}return;default:if(Qr(s)){for(le in a)a.hasOwnProperty(le)&&(l=a[le],l!==void 0&&mm(t,s,le,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Gt(t,s,E,l,a,null))}function CE(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,E=null,M=null,K=null,le=null;for(ee in a){var fe=a[ee];if(a.hasOwnProperty(ee)&&fe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":M=fe;default:l.hasOwnProperty(ee)||Gt(t,s,ee,null,l,fe)}}for(var Y in l){var ee=l[Y];if(fe=a[Y],l.hasOwnProperty(Y)&&(ee!=null||fe!=null))switch(Y){case"type":m=ee;break;case"name":f=ee;break;case"checked":K=ee;break;case"defaultChecked":le=ee;break;case"value":b=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==fe&&Gt(t,s,Y,ee,l,fe)}}Yr(t,b,E,M,K,le,m,f);return;case"select":ee=b=E=Y=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":ee=M;default:l.hasOwnProperty(m)||Gt(t,s,m,null,l,M)}for(f in l)if(m=l[f],M=a[f],l.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":Y=m;break;case"defaultValue":E=m;break;case"multiple":b=m;default:m!==M&&Gt(t,s,f,m,l,M)}s=E,a=b,l=ee,Y!=null?cn(t,!!a,Y,!1):!!l!=!!a&&(s!=null?cn(t,!!a,s,!0):cn(t,!!a,a?[]:"",!1));return;case"textarea":ee=Y=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,s,E,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":Y=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Gt(t,s,b,f,l,m)}ks(t,Y,ee);return;case"option":for(var Ie in a)Y=a[Ie],a.hasOwnProperty(Ie)&&Y!=null&&!l.hasOwnProperty(Ie)&&(Ie==="selected"?t.selected=!1:Gt(t,s,Ie,null,l,Y));for(M in l)Y=l[M],ee=a[M],l.hasOwnProperty(M)&&Y!==ee&&(Y!=null||ee!=null)&&(M==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":Gt(t,s,M,Y,l,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)Y=a[Ye],a.hasOwnProperty(Ye)&&Y!=null&&!l.hasOwnProperty(Ye)&&Gt(t,s,Ye,null,l,Y);for(K in l)if(Y=l[K],ee=a[K],l.hasOwnProperty(K)&&Y!==ee&&(Y!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Gt(t,s,K,Y,l,ee)}return;default:if(Qr(s)){for(var Wt in a)Y=a[Wt],a.hasOwnProperty(Wt)&&Y!==void 0&&!l.hasOwnProperty(Wt)&&mm(t,s,Wt,void 0,l,Y);for(le in l)Y=l[le],ee=a[le],!l.hasOwnProperty(le)||Y===ee||Y===void 0&&ee===void 0||mm(t,s,le,Y,l,ee);return}}for(var F in a)Y=a[F],a.hasOwnProperty(F)&&Y!=null&&!l.hasOwnProperty(F)&&Gt(t,s,F,null,l,Y);for(fe in l)Y=l[fe],ee=a[fe],!l.hasOwnProperty(fe)||Y===ee||Y==null&&ee==null||Gt(t,s,fe,Y,l,ee)}function V0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,b=f.initiatorType,E=f.duration;if(m&&E&&V0(b)){for(b=0,E=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],K=M.startTime;if(K>E)break;var le=M.transferSize,fe=M.initiatorType;le&&V0(fe)&&(M=M.responseEnd,b+=le*(M<E?1:(E-K)/(M-K)))}if(--l,s+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function ch(t){return t.nodeType===9?t:t.ownerDocument}function U0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function ym(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vm=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===vm?!1:(vm=t,!0):(vm=null,!1)}var z0=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(t){return F0.resolve(null).then(t).catch(ME)}:z0;function ME(t){setTimeout(function(){throw t})}function Qi(t){return t==="head"}function q0(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Qo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")oc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oc(a);for(var m=a.firstChild;m;){var b=m.nextSibling,E=m.nodeName;m[os]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&oc(t.ownerDocument.body);a=f}while(a);Qo(s)}function H0(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PE(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[os])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Xs(t.nextSibling),t===null)break}return null}function OE(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xs(t.nextSibling),t===null))return null;return t}function G0(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xs(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LE(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var xm=null;function W0(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Xs(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function $0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function K0(t,s,a){switch(s=ch(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function oc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ss(t)}var Js=new Map,Y0=new Set;function uh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mi=se.d;se.d={f:VE,r:UE,D:BE,C:zE,L:FE,m:qE,X:GE,S:HE,M:WE};function VE(){var t=mi.f(),s=th();return t||s}function UE(t){var s=C(t);s!==null&&s.tag===5&&s.type==="form"?dv(s):mi.r(t)}var $o=typeof document>"u"?null:document;function Q0(t,s,a){var l=$o;if(l&&typeof s=="string"&&s){var f=qn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Y0.has(f)||(Y0.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Kn(s,"link",t),re(s),l.head.appendChild(s)))}}function BE(t){mi.D(t),Q0("dns-prefetch",t,null)}function zE(t,s){mi.C(t,s),Q0("preconnect",t,s)}function FE(t,s,a){mi.L(t,s,a);var l=$o;if(l&&t&&s){var f='link[rel="preload"][as="'+qn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+qn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+qn(a.imageSizes)+'"]')):f+='[href="'+qn(t)+'"]';var m=f;switch(s){case"style":m=Ko(t);break;case"script":m=Yo(t)}Js.has(m)||(t=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Js.set(m,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(lc(m))||s==="script"&&l.querySelector(cc(m))||(s=l.createElement("link"),Kn(s,"link",t),re(s),l.head.appendChild(s)))}}function qE(t,s){mi.m(t,s);var a=$o;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+qn(l)+'"][href="'+qn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Yo(t)}if(!Js.has(m)&&(t=x({rel:"modulepreload",href:t},s),Js.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cc(m)))return}l=a.createElement("link"),Kn(l,"link",t),re(l),a.head.appendChild(l)}}}function HE(t,s,a){mi.S(t,s,a);var l=$o;if(l&&t){var f=ae(l).hoistableStyles,m=Ko(t);s=s||"default";var b=f.get(m);if(!b){var E={loading:0,preload:null};if(b=l.querySelector(lc(m)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Js.get(m))&&Em(t,a);var M=b=l.createElement("link");re(M),Kn(M,"link",t),M._p=new Promise(function(K,le){M.onload=K,M.onerror=le}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hh(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:E},f.set(m,b)}}}function GE(t,s){mi.X(t,s);var a=$o;if(a&&t){var l=ae(a).hoistableScripts,f=Yo(t),m=l.get(f);m||(m=a.querySelector(cc(f)),m||(t=x({src:t,async:!0},s),(s=Js.get(f))&&Tm(t,s),m=a.createElement("script"),re(m),Kn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function WE(t,s){mi.M(t,s);var a=$o;if(a&&t){var l=ae(a).hoistableScripts,f=Yo(t),m=l.get(f);m||(m=a.querySelector(cc(f)),m||(t=x({src:t,async:!0,type:"module"},s),(s=Js.get(f))&&Tm(t,s),m=a.createElement("script"),re(m),Kn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function X0(t,s,a,l){var f=(f=Ee.current)?uh(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ko(a.href),a=ae(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ko(a.href);var m=ae(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(lc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Js.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Js.set(t,a),m||$E(f,t,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yo(a),a=ae(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ko(t){return'href="'+qn(t)+'"'}function lc(t){return'link[rel="stylesheet"]['+t+"]"}function J0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function $E(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Kn(s,"link",a),re(s),t.head.appendChild(s))}function Yo(t){return'[src="'+qn(t)+'"]'}function cc(t){return"script[async]"+t}function Z0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+qn(a.href)+'"]');if(l)return s.instance=l,re(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),re(l),Kn(l,"style",f),hh(l,a.precedence,t),s.instance=l;case"stylesheet":f=Ko(a.href);var m=t.querySelector(lc(f));if(m)return s.state.loading|=4,s.instance=m,re(m),m;l=J0(a),(f=Js.get(f))&&Em(l,f),m=(t.ownerDocument||t).createElement("link"),re(m);var b=m;return b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),Kn(m,"link",l),s.state.loading|=4,hh(m,a.precedence,t),s.instance=m;case"script":return m=Yo(a.src),(f=t.querySelector(cc(m)))?(s.instance=f,re(f),f):(l=a,(f=Js.get(m))&&(l=x({},a),Tm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),re(f),Kn(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hh(l,a.precedence,t));return s.instance}function hh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var E=l[b];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Em(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var dh=null;function eb(t,s,a){if(dh===null){var l=new Map,f=dh=new Map;f.set(a,l)}else f=dh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[os]||m[tn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var E=l.get(b);E?E.push(m):l.set(b,[m])}}return l}function tb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function KE(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YE(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ko(l.href),m=s.querySelector(lc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=fh.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,re(m);return}m=s.ownerDocument||s,l=J0(l),(f=Js.get(f))&&Em(l,f),m=m.createElement("link"),re(m);var b=m;b._p=new Promise(function(E,M){b.onload=E,b.onerror=M}),Kn(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fh.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sm=0;function QE(t,s){return t.stylesheets&&t.count===0&&ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Sm===0&&(Sm=62500*NE());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mh=null;function ph(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mh=new Map,s.forEach(XE,t),mh=null,fh.call(t))}function XE(t,s){if(!(s.state.loading&4)){var a=mh.get(t);if(a)var l=a.get(null);else{a=new Map,mh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var uc={$$typeof:me,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function JE(t,s,a,l,f,m,b,E,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function sb(t,s,a,l,f,m,b,E,M,K,le,fe){return t=new JE(t,s,a,b,M,K,le,fe,E),s=1,m===!0&&(s|=24),m=Rs(3,null,null,s),t.current=m,m.stateNode=t,s=sf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},lf(m),t}function rb(t){return t?(t=ko,t):ko}function ib(t,s,a,l,f,m){f=rb(f),l.context===null?l.context=f:l.pendingContext=f,l=Ui(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Bi(t,l,s),a!==null&&(xs(a,t,s),Fl(a,t,s))}function ab(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function km(t,s){ab(t,s),(t=t.alternate)&&ab(t,s)}function ob(t){if(t.tag===13||t.tag===31){var s=La(t,67108864);s!==null&&xs(s,t,67108864),km(t,67108864)}}function lb(t){if(t.tag===13||t.tag===31){var s=Ds();s=rr(s);var a=La(t,s);a!==null&&xs(a,t,s),km(t,s)}}var gh=!0;function ZE(t,s,a,l){var f=W.T;W.T=null;var m=se.p;try{se.p=2,Am(t,s,a,l)}finally{se.p=m,W.T=f}}function eT(t,s,a,l){var f=W.T;W.T=null;var m=se.p;try{se.p=8,Am(t,s,a,l)}finally{se.p=m,W.T=f}}function Am(t,s,a,l){if(gh){var f=Rm(l);if(f===null)fm(t,s,l,yh,a),ub(t,l);else if(nT(f,t,s,a,l))l.stopPropagation();else if(ub(t,l),s&4&&-1<tT.indexOf(t)){for(;f!==null;){var m=C(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Un(m.pendingLanes);if(b!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var M=1<<31-Fe(b);E.entanglements[1]|=M,b&=~M}Ir(m),(Dt&6)===0&&(Zu=Vt()+500,rc(0))}}break;case 31:case 13:E=La(m,2),E!==null&&xs(E,m,2),th(),km(m,2)}if(m=Rm(l),m===null&&fm(t,s,l,yh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else fm(t,s,l,null,a)}}function Rm(t){return t=Fs(t),Cm(t)}var yh=null;function Cm(t){if(yh=null,t=ys(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return yh=t,null}function cb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case on:return 2;case xn:return 8;case oe:case ye:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Nm=!1,Xi=null,Ji=null,Zi=null,hc=new Map,dc=new Map,ea=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ub(t,s){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":hc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(t,s,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=C(s),s!==null&&ob(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function nT(t,s,a,l,f){switch(s){case"focusin":return Xi=fc(Xi,t,s,a,l,f),!0;case"dragenter":return Ji=fc(Ji,t,s,a,l,f),!0;case"mouseover":return Zi=fc(Zi,t,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return hc.set(m,fc(hc.get(m)||null,t,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,dc.set(m,fc(dc.get(m)||null,t,s,a,l,f)),!0}return!1}function hb(t){var s=ys(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Bn(t.priority,function(){lb(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Bn(t.priority,function(){lb(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kl=l,a.target.dispatchEvent(l),kl=null}else return s=C(a),s!==null&&ob(s),t.blockedOn=a,!1;s.shift()}return!0}function db(t,s,a){vh(t)&&a.delete(s)}function sT(){Nm=!1,Xi!==null&&vh(Xi)&&(Xi=null),Ji!==null&&vh(Ji)&&(Ji=null),Zi!==null&&vh(Zi)&&(Zi=null),hc.forEach(db),dc.forEach(db)}function bh(t,s){t.blockedOn===s&&(t.blockedOn=null,Nm||(Nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sT)))}var _h=null;function fb(t){_h!==t&&(_h=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var m=C(a);m!==null&&(t.splice(s,3),s-=3,Rf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Qo(t){function s(M){return bh(M,t)}Xi!==null&&bh(Xi,t),Ji!==null&&bh(Ji,t),Zi!==null&&bh(Zi,t),hc.forEach(s),dc.forEach(s);for(var a=0;a<ea.length;a++){var l=ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ea.length&&(a=ea[0],a.blockedOn===null);)hb(a),a.blockedOn===null&&ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[ln]||null;if(typeof m=="function")b||fb(a);else if(b){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[ln]||null)E=b.formAction;else if(Cm(f)!==null)continue}else E=b.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fb(a)}}}function mb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function jm(t){this._internalRoot=t}wh.prototype.render=jm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Ds();ib(a,l,t,s,null,null)},wh.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ib(t.current,2,null,t,null,null),th(),s[gs]=null}};function wh(t){this._internalRoot=t}wh.prototype.unstable_scheduleHydration=function(t){if(t){var s=xr();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ea.length&&s!==0&&s<ea[a].priority;a++);ea.splice(a,0,t),a===0&&hb(t)}};var pb=e.version;if(pb!=="19.2.4")throw Error(i(527,pb,"19.2.4"));se.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var rT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Te=xh.inject(rT),Me=xh}catch{}}return pc.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",f=xv,m=Ev,b=Tv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=sb(t,1,!1,null,null,a,l,null,f,m,b,mb),t[gs]=s.current,dm(t),new jm(s)},pc.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,f="",m=xv,b=Ev,E=Tv,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=sb(t,1,!0,s,a??null,l,f,M,m,b,E,mb),s.context=rb(null),a=s.current,l=Ds(),l=rr(l),f=Ui(l),f.callback=null,Bi(a,f,l),a=l,s.current.lanes=a,Us(s,a),Ir(s),t[gs]=s.current,dm(t),new wh(s)},pc.version="19.2.4",pc}var Sb;function mT(){if(Sb)return Mm.exports;Sb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=fT(),Mm.exports}var pT=mT();const gT="modulepreload",yT=function(r){return"/login/"+r},kb={},Os=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let g=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=g(n.map(y=>{if(y=yT(y),y in kb)return;kb[y]=!0;const w=y.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const T=document.createElement("link");if(T.rel=w?"stylesheet":gT,w||(T.as="script"),T.crossOrigin="",T.href=y,p&&T.setAttribute("nonce",p),document.head.appendChild(T),w)return new Promise((O,q)=>{T.addEventListener("load",O),T.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})};var Ab="popstate";function vT(r={}){function e(i,o){let{pathname:u,search:d,hash:p}=i.location;return hp("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Pc(o)}return _T(e,n,null,r)}function rn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bT(){return Math.random().toString(36).substring(2,10)}function Rb(r,e){return{usr:r.state,key:r.key,idx:e}}function hp(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||i||bT()}}function Pc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function gl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function _T(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,p="POP",g=null,y=w();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function w(){return(d.state||{idx:null}).idx}function x(){p="POP";let z=w(),ce=z==null?null:z-y;y=z,g&&g({action:p,location:H.location,delta:ce})}function T(z,ce){p="PUSH";let J=hp(H.location,z,ce);y=w()+1;let me=Rb(J,y),we=H.createHref(J);try{d.pushState(me,"",we)}catch(je){if(je instanceof DOMException&&je.name==="DataCloneError")throw je;o.location.assign(we)}u&&g&&g({action:p,location:H.location,delta:1})}function O(z,ce){p="REPLACE";let J=hp(H.location,z,ce);y=w();let me=Rb(J,y),we=H.createHref(J);d.replaceState(me,"",we),u&&g&&g({action:p,location:H.location,delta:0})}function q(z){return wT(z)}let H={get action(){return p},get location(){return r(o,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Ab,x),g=z,()=>{o.removeEventListener(Ab,x),g=null}},createHref(z){return e(o,z)},createURL:q,encodeLocation(z){let ce=q(z);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:T,replace:O,go(z){return d.go(z)}};return H}function wT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Pc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function _1(r,e,n="/"){return xT(r,e,n,!1)}function xT(r,e,n,i){let o=typeof e=="string"?gl(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let d=w1(r);ET(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=MT(u);p=IT(d[g],y,i)}return p}function w1(r,e=[],n=[],i="",o=!1){let u=(d,p,g=o,y)=>{let w={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&g)return;rn(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let x=yi([i,w.relativePath]),T=n.concat(w);d.children&&d.children.length>0&&(rn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),w1(d.children,e,T,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:NT(x,d.index),routesMeta:T})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of x1(d.path))u(d,p,!0,g)}),e}function x1(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=x1(i.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function ET(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:jT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var TT=/^:[\w-]+$/,ST=3,kT=2,AT=1,RT=10,CT=-2,Cb=r=>r==="*";function NT(r,e){let n=r.split("/"),i=n.length;return n.some(Cb)&&(i+=CT),e&&(i+=kT),n.filter(o=>!Cb(o)).reduce((o,u)=>o+(TT.test(u)?ST:u===""?AT:RT),i)}function jT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function IT(r,e,n=!1){let{routesMeta:i}=r,o={},u="/",d=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,w=u==="/"?e:e.slice(u.length)||"/",x=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),T=g.route;if(!x&&y&&n&&!i[i.length-1].route.index&&(x=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:yi([u,x.pathname]),pathnameBase:VT(yi([u,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(u=yi([u,x.pathnameBase]))}return d}function $h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=DT(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:x},T)=>{if(w==="*"){let q=p[T]||"";d=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const O=p[T];return x&&!O?y[w]=void 0:y[w]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:r}}function DT(r,e=!1,n=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function MT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OT(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?gl(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Nb(n.substring(1),"/"):u=Nb(n,e)):u=e,{pathname:u,search:UT(i),hash:BT(o)}}function Nb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(r){let e=LT(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Gp(r,e,n,i=!1){let o;typeof r=="string"?o=gl(r):(o={...r},rn(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),rn(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),rn(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!i&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),x-=1;o.pathname=T.join("/")}p=x>=0?e[x]:"/"}let g=OT(o,p),y=d&&d!=="/"&&d.endsWith("/"),w=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var yi=r=>r.join("/").replace(/\/\/+/g,"/"),VT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,zT=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function FT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function qT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var E1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function T1(r,e){let n=r;if(typeof n!="string"||!PT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(E1)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=_i(d.pathname,e);d.origin===u.origin&&p!=null?n=p+d.search+d.hash:o=!0}catch{tr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var S1=["POST","PUT","PATCH","DELETE"];new Set(S1);var HT=["GET",...S1];new Set(HT);var yl=k.createContext(null);yl.displayName="DataRouter";var md=k.createContext(null);md.displayName="DataRouterState";var GT=k.createContext(!1),k1=k.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var WT=k.createContext(new Map);WT.displayName="Fetchers";var $T=k.createContext(null);$T.displayName="Await";var Ls=k.createContext(null);Ls.displayName="Navigation";var Kc=k.createContext(null);Kc.displayName="Location";var qr=k.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var Wp=k.createContext(null);Wp.displayName="RouteError";var A1="REACT_ROUTER_ERROR",KT="REDIRECT",YT="ROUTE_ERROR_RESPONSE";function QT(r){if(r.startsWith(`${A1}:${KT}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function XT(r){if(r.startsWith(`${A1}:${YT}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zT(e.status,e.statusText,e.data)}catch{}}function JT(r,{relative:e}={}){rn(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Ls),{hash:o,pathname:u,search:d}=Yc(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:yi([n,u])),i.createHref({pathname:p,search:d,hash:o})}function vl(){return k.useContext(Kc)!=null}function _r(){return rn(vl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Kc).location}var R1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C1(r){k.useContext(Ls).static||k.useLayoutEffect(r)}function nr(){let{isDataRoute:r}=k.useContext(qr);return r?hS():ZT()}function ZT(){rn(vl(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(yl),{basename:e,navigator:n}=k.useContext(Ls),{matches:i}=k.useContext(qr),{pathname:o}=_r(),u=JSON.stringify(Hp(i)),d=k.useRef(!1);return C1(()=>{d.current=!0}),k.useCallback((g,y={})=>{if(tr(d.current,R1),!d.current)return;if(typeof g=="number"){n.go(g);return}let w=Gp(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:yi([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,u,o,r])}k.createContext(null);function Yc(r,{relative:e}={}){let{matches:n}=k.useContext(qr),{pathname:i}=_r(),o=JSON.stringify(Hp(n));return k.useMemo(()=>Gp(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function eS(r,e){return N1(r,e)}function N1(r,e,n,i,o){rn(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(Ls),{matches:d}=k.useContext(qr),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",x=p&&p.route;{let J=x&&x.path||"";I1(y,!x||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let T=_r(),O;if(e){let J=typeof e=="string"?gl(e):e;rn(w==="/"||J.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),O=J}else O=T;let q=O.pathname||"/",H=q;if(w!=="/"){let J=w.replace(/^\//,"").split("/");H="/"+q.replace(/^\//,"").split("/").slice(J.length).join("/")}let z=_1(r,{pathname:H});tr(x||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),tr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=iS(z&&z.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:yi([w,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:yi([w,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),d,n,i,o);return e&&ce?k.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ce):ce}function tS(){let r=uS(),e=FT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,d)}var nS=k.createElement(tS,null),j1=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=XT(r.digest);n&&(r=n)}let e=r!==void 0?k.createElement(qr.Provider,{value:this.props.routeContext},k.createElement(Wp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(sS,{error:r},e):e}};j1.contextType=GT;var Um=new WeakMap;function sS({children:r,error:e}){let{basename:n}=k.useContext(Ls);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=QT(e.digest);if(i){let o=Um.get(e);if(o)throw o;let u=T1(i.location,n);if(E1&&!Um.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Um.set(e,d),d}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function rS({routeContext:r,match:e,children:n}){let i=k.useContext(yl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(qr.Provider,{value:r},n)}function iS(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=n?.errors;if(d!=null){let w=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);rn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,g=-1;if(n)for(let w=0;w<u.length;w++){let x=u[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=w),x.route.id){let{loaderData:T,errors:O}=n,q=x.route.loader&&!T.hasOwnProperty(x.route.id)&&(!O||O[x.route.id]===void 0);if(x.route.lazy||q){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(w,x)=>{i(w,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:qT(n.matches),errorInfo:x})}:void 0;return u.reduceRight((w,x,T)=>{let O,q=!1,H=null,z=null;n&&(O=d&&x.route.id?d[x.route.id]:void 0,H=x.route.errorElement||nS,p&&(g<0&&T===0?(I1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,z=null):g===T&&(q=!0,z=x.route.hydrateFallbackElement||null)));let ce=e.concat(u.slice(0,T+1)),J=()=>{let me;return O?me=H:q?me=z:x.route.Component?me=k.createElement(x.route.Component,null):x.route.element?me=x.route.element:me=w,k.createElement(rS,{match:x,routeContext:{outlet:w,matches:ce,isDataRoute:n!=null},children:me})};return n&&(x.route.ErrorBoundary||x.route.errorElement||T===0)?k.createElement(j1,{location:n.location,revalidation:n.revalidation,component:H,error:O,children:J(),routeContext:{outlet:null,matches:ce,isDataRoute:!0},onError:y}):J()},null)}function $p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(r){let e=k.useContext(yl);return rn(e,$p(r)),e}function oS(r){let e=k.useContext(md);return rn(e,$p(r)),e}function lS(r){let e=k.useContext(qr);return rn(e,$p(r)),e}function Kp(r){let e=lS(r),n=e.matches[e.matches.length-1];return rn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cS(){return Kp("useRouteId")}function uS(){let r=k.useContext(Wp),e=oS("useRouteError"),n=Kp("useRouteError");return r!==void 0?r:e.errors?.[n]}function hS(){let{router:r}=aS("useNavigate"),e=Kp("useNavigate"),n=k.useRef(!1);return C1(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{tr(n.current,R1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var jb={};function I1(r,e,n){!e&&!jb[r]&&(jb[r]=!0,tr(!1,n))}k.memo(dS);function dS({routes:r,future:e,state:n,onError:i}){return N1(r,void 0,n,i,e)}function fS({to:r,replace:e,state:n,relative:i}){rn(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Ls);tr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(qr),{pathname:d}=_r(),p=nr(),g=Gp(r,Hp(u),d,i==="path"),y=JSON.stringify(g);return k.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function bn(r){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mS({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){rn(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[p,o,u,d]);typeof n=="string"&&(n=gl(n));let{pathname:y="/",search:w="",hash:x="",state:T=null,key:O="default"}=n,q=k.useMemo(()=>{let H=_i(y,p);return H==null?null:{location:{pathname:H,search:w,hash:x,state:T,key:O},navigationType:i}},[p,y,w,x,T,O,i]);return tr(q!=null,`<Router basename="${p}"> is not able to match the URL "${y}${w}${x}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:k.createElement(Ls.Provider,{value:g},k.createElement(Kc.Provider,{children:e,value:q}))}function pS({children:r,location:e}){return eS(dp(r),e)}function dp(r,e=[]){let n=[];return k.Children.forEach(r,(i,o)=>{if(!k.isValidElement(i))return;let u=[...e,o];if(i.type===k.Fragment){n.push.apply(n,dp(i.props.children,u));return}rn(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=dp(i.props.children,u)),n.push(d)}),n}var Mh="get",Ph="application/x-www-form-urlencoded";function pd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function gS(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function yS(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function vS(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function bS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _S(r,e){return r.button===0&&(!e||e==="_self")&&!bS(r)}function fp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let i=r[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function wS(r,e){let n=fp(r);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Eh=null;function xS(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var ES=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!ES.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):r}function TS(r,e){let n,i,o,u,d;if(yS(r)){let p=r.getAttribute("action");i=p?_i(p,e):null,n=r.getAttribute("method")||Mh,o=Bm(r.getAttribute("enctype"))||Ph,u=new FormData(r)}else if(gS(r)||vS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?_i(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Mh,o=Bm(r.getAttribute("formenctype"))||Bm(p.getAttribute("enctype"))||Ph,u=new FormData(p,r),!xS()){let{name:y,type:w,value:x}=r;if(w==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,x)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mh,i=null,o=Ph,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function SS(r,e,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function kS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RS(r,e,n){let i=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await kS(u,n);return d.links?d.links():[]}return[]}));return IS(i.flat(1).filter(AS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ib(r,e,n,i,o,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let w=i.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function CS(r,e,{includeHydrateFallback:n}={}){return NS(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NS(r){return[...new Set(r)]}function jS(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function IS(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let u=JSON.stringify(jS(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function D1(){let r=k.useContext(yl);return Yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function DS(){let r=k.useContext(md);return Yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qp=k.createContext(void 0);Qp.displayName="FrameworkContext";function M1(){let r=k.useContext(Qp);return Yp(r,"You must render this element inside a <HydratedRouter> element"),r}function MS(r,e){let n=k.useContext(Qp),[i,o]=k.useState(!1),[u,d]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:x}=e,T=k.useRef(null);k.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let H=ce=>{ce.forEach(J=>{d(J.isIntersecting)})},z=new IntersectionObserver(H,{threshold:.5});return T.current&&z.observe(T.current),()=>{z.disconnect()}}},[r]),k.useEffect(()=>{if(i){let H=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(H)}}},[i]);let O=()=>{o(!0)},q=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:gc(p,O),onBlur:gc(g,q),onMouseEnter:gc(y,O),onMouseLeave:gc(w,q),onTouchStart:gc(x,O)}]:[!1,T,{}]}function gc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function PS({page:r,...e}){let{router:n}=D1(),i=k.useMemo(()=>_1(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?k.createElement(LS,{page:r,matches:i,...e}):null}function OS(r){let{manifest:e,routeModules:n}=M1(),[i,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return RS(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),i}function LS({page:r,matches:e,...n}){let i=_r(),{future:o,manifest:u,routeModules:d}=M1(),{basename:p}=D1(),{loaderData:g,matches:y}=DS(),w=k.useMemo(()=>Ib(r,e,y,u,i,"data"),[r,e,y,u,i]),x=k.useMemo(()=>Ib(r,e,y,u,i,"assets"),[r,e,y,u,i]),T=k.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let H=new Set,z=!1;if(e.forEach(J=>{let me=u.routes[J.route.id];!me||!me.hasLoader||(!w.some(we=>we.route.id===J.route.id)&&J.route.id in g&&d[J.route.id]?.shouldRevalidate||me.hasClientLoader?z=!0:H.add(J.route.id))}),H.size===0)return[];let ce=SS(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return z&&H.size>0&&ce.searchParams.set("_routes",e.filter(J=>H.has(J.route.id)).map(J=>J.route.id).join(",")),[ce.pathname+ce.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,u,w,e,r,d]),O=k.useMemo(()=>CS(x,u),[x,u]),q=OS(x);return k.createElement(k.Fragment,null,T.map(H=>k.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),O.map(H=>k.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),q.map(({key:H,link:z})=>k.createElement("link",{key:H,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function VS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var US=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{US&&(window.__reactRouterVersion="7.13.0")}catch{}function BS({basename:r,children:e,unstable_useTransitions:n,window:i}){let o=k.useRef();o.current==null&&(o.current=vT({window:i,v5Compat:!0}));let u=o.current,[d,p]=k.useState({action:u.action,location:u.location}),g=k.useCallback(y=>{n===!1?p(y):k.startTransition(()=>p(y))},[n]);return k.useLayoutEffect(()=>u.listen(g),[u,g]),k.createElement(mS,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O1=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T,...O},q){let{basename:H,unstable_useTransitions:z}=k.useContext(Ls),ce=typeof y=="string"&&P1.test(y),J=T1(y,H);y=J.to;let me=JT(y,{relative:o}),[we,je,Re]=MS(i,O),N=HS(y,{replace:d,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:T,unstable_useTransitions:z});function S(I){e&&e(I),I.defaultPrevented||N(I)}let R=k.createElement("a",{...O,...Re,href:J.absoluteURL||me,onClick:J.isExternal||u?e:S,ref:VS(q,je),target:g,"data-discover":!ce&&n==="render"?"true":void 0});return we&&!ce?k.createElement(k.Fragment,null,R,k.createElement(PS,{page:me})):R});O1.displayName="Link";var zS=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:p,children:g,...y},w){let x=Yc(d,{relative:y.relative}),T=_r(),O=k.useContext(md),{navigator:q,basename:H}=k.useContext(Ls),z=O!=null&&YS(x)&&p===!0,ce=q.encodeLocation?q.encodeLocation(x).pathname:x.pathname,J=T.pathname,me=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(J=J.toLowerCase(),me=me?me.toLowerCase():null,ce=ce.toLowerCase()),me&&H&&(me=_i(me,H)||me);const we=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let je=J===ce||!o&&J.startsWith(ce)&&J.charAt(we)==="/",Re=me!=null&&(me===ce||!o&&me.startsWith(ce)&&me.charAt(ce.length)==="/"),N={isActive:je,isPending:Re,isTransitioning:z},S=je?e:void 0,R;typeof i=="function"?R=i(N):R=[i,je?"active":null,Re?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return k.createElement(O1,{...y,"aria-current":S,className:R,ref:w,style:I,to:d,viewTransition:p},typeof g=="function"?g(N):g)});zS.displayName="NavLink";var FS=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:d=Mh,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T,...O},q)=>{let{unstable_useTransitions:H}=k.useContext(Ls),z=$S(),ce=KS(p,{relative:y}),J=d.toLowerCase()==="get"?"get":"post",me=typeof p=="string"&&P1.test(p),we=je=>{if(g&&g(je),je.defaultPrevented)return;je.preventDefault();let Re=je.nativeEvent.submitter,N=Re?.getAttribute("formmethod")||d,S=()=>z(Re||je.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:T});H&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:q,method:J,action:ce,onSubmit:i?g:we,...O,"data-discover":!me&&r==="render"?"true":void 0})});FS.displayName="Form";function qS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(r){let e=k.useContext(yl);return rn(e,qS(r)),e}function HS(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=nr(),w=_r(),x=Yc(r,{relative:u});return k.useCallback(T=>{if(_S(T,e)){T.preventDefault();let O=n!==void 0?n:Pc(w)===Pc(x),q=()=>y(r,{replace:O,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});g?k.startTransition(()=>q()):q()}},[w,y,x,n,i,e,r,o,u,d,p,g])}function v3(r){tr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(fp(r)),n=k.useRef(!1),i=_r(),o=k.useMemo(()=>wS(i.search,n.current?null:e.current),[i.search]),u=nr(),d=k.useCallback((p,g)=>{const y=fp(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+y,g)},[u,o]);return[o,d]}var GS=0,WS=()=>`__${String(++GS)}__`;function $S(){let{router:r}=L1("useSubmit"),{basename:e}=k.useContext(Ls),n=cS(),i=r.fetch,o=r.navigate;return k.useCallback(async(u,d={})=>{let{action:p,method:g,encType:y,formData:w,body:x}=TS(u,e);if(d.navigate===!1){let T=d.fetcherKey||WS();await i(T,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:x,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:x,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,e,n])}function KS(r,{relative:e}={}){let{basename:n}=k.useContext(Ls),i=k.useContext(qr);rn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Yc(r||".",{relative:e})},d=_r();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let w=p.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yi([n,u.pathname])),Pc(u)}function YS(r,{relative:e}={}){let n=k.useContext(k1);rn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=L1("useViewTransitionState"),o=Yc(r,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,i)||n.currentLocation.pathname,d=_i(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $h(o.pathname,d)!=null||$h(o.pathname,u)!=null}const QS=()=>{};var Db={};const V1=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XS=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],d=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},U1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,x=(u&3)<<4|p>>4;let T=(p&15)<<2|y>>6,O=y&63;g||(O=64,d||(T=64)),i.push(n[w],n[x],n[T],n[O])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(V1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const x=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||x==null)throw new JS;const T=u<<2|p>>4;if(i.push(T),y!==64){const O=p<<4&240|y>>2;if(i.push(O),x!==64){const q=y<<6&192|x;i.push(q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZS=function(r){const e=V1(r);return U1.encodeByteArray(e,!0)},Kh=function(r){return ZS(r).replace(/\./g,"")},B1=function(r){try{return U1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof Db>"u")return;const r=Db.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sk=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&B1(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return QS()||tk()||nk()||sk()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},z1=r=>gd()?.emulatorHosts?.[r],F1=r=>{const e=z1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},q1=()=>gd()?.config,H1=r=>gd()?.[`_${r}`];class rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function wa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xp(r){return(await fetch(r,{credentials:"include"})).ok}function G1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(d)),""].join(".")}const Cc={};function ik(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?r.emulator.push(e):r.prod.push(e);return r}function ak(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Mb=!1;function Jp(r,e){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||Cc[r]===e||Cc[r]||Mb)return;Cc[r]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",u=ik().prod.length>0;function d(){const T=document.getElementById(i);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,O){T.setAttribute("width","24"),T.setAttribute("id",O),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Mb=!0,d()},T}function w(T,O){T.setAttribute("id",O),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=ak(i),O=n("text"),q=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),z=document.getElementById(H)||document.createElement("a"),ce=n("preprendIcon"),J=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const me=T.element;p(me),w(z,H);const we=y();g(J,ce),me.append(J,q,z,we),document.body.appendChild(me)}u?(q.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function lk(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ck(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uk(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const r=is();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const gk="FirebaseError";class Hr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gk,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?yk(u,i):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,p,i)}}function yk(r,e){return r.replace(vk,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const vk=/\{\$([^}]+)}/g;function bk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function eo(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],d=e[o];if(Pb(u)&&Pb(d)){if(!eo(u,d))return!1}else if(u!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Pb(r){return r!==null&&typeof r=="object"}function Xc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function xc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function _k(r,e){const n=new wk(r,e);return n.subscribe.bind(n)}class wk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");xk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xk(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function zm(){}function un(r){return r&&r._delegate?r._delegate:r}class ma{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qa="[DEFAULT]";class Ek{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sk(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tk(r){return r===Qa?void 0:r}function Sk(r){return r.instantiationMode==="EAGER"}class kk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ek(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(vt||(vt={}));const Ak={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},Rk=vt.INFO,Ck={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},Nk=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=Ck[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=Rk,this._logHandler=Nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const jk=(r,e)=>e.some(n=>r instanceof n);let Ob,Lb;function Ik(){return Ob||(Ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dk(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W1=new WeakMap,mp=new WeakMap,$1=new WeakMap,Fm=new WeakMap,eg=new WeakMap;function Mk(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(ca(r.result)),o()},d=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&W1.set(n,r)}).catch(()=>{}),eg.set(e,r),e}function Pk(r){if(mp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});mp.set(r,e)}let pp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ca(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ok(r){pp=r(pp)}function Lk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(qm(this),e,...n);return $1.set(i,e.sort?e.sort():[e]),ca(i)}:Dk().includes(r)?function(...e){return r.apply(qm(this),e),ca(W1.get(this))}:function(...e){return ca(r.apply(qm(this),e))}}function Vk(r){return typeof r=="function"?Lk(r):(r instanceof IDBTransaction&&Pk(r),jk(r,Ik())?new Proxy(r,pp):r)}function ca(r){if(r instanceof IDBRequest)return Mk(r);if(Fm.has(r))return Fm.get(r);const e=Vk(r);return e!==r&&(Fm.set(r,e),eg.set(e,r)),e}const qm=r=>eg.get(r);function Uk(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=ca(d);return i&&d.addEventListener("upgradeneeded",g=>{i(ca(d.result),g.oldVersion,g.newVersion,ca(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Bk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],Hm=new Map;function Vb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=zk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Bk.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Hm.set(e,u),u}Ok(r=>({...r,get:(e,n,i)=>Vb(e,n)||r.get(e,n,i),has:(e,n)=>!!Vb(e,n)||r.has(e,n)}));class Fk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function qk(r){return r.getComponent()?.type==="VERSION"}const gp="@firebase/app",Ub="0.14.7";const wi=new Zp("@firebase/app"),Hk="@firebase/app-compat",Gk="@firebase/analytics-compat",Wk="@firebase/analytics",$k="@firebase/app-check-compat",Kk="@firebase/app-check",Yk="@firebase/auth",Qk="@firebase/auth-compat",Xk="@firebase/database",Jk="@firebase/data-connect",Zk="@firebase/database-compat",eA="@firebase/functions",tA="@firebase/functions-compat",nA="@firebase/installations",sA="@firebase/installations-compat",rA="@firebase/messaging",iA="@firebase/messaging-compat",aA="@firebase/performance",oA="@firebase/performance-compat",lA="@firebase/remote-config",cA="@firebase/remote-config-compat",uA="@firebase/storage",hA="@firebase/storage-compat",dA="@firebase/firestore",fA="@firebase/ai",mA="@firebase/firestore-compat",pA="firebase",gA="12.8.0";const yp="[DEFAULT]",yA={[gp]:"fire-core",[Hk]:"fire-core-compat",[Wk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Kk]:"fire-app-check",[$k]:"fire-app-check-compat",[Yk]:"fire-auth",[Qk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Jk]:"fire-data-connect",[Zk]:"fire-rtdb-compat",[eA]:"fire-fn",[tA]:"fire-fn-compat",[nA]:"fire-iid",[sA]:"fire-iid-compat",[rA]:"fire-fcm",[iA]:"fire-fcm-compat",[aA]:"fire-perf",[oA]:"fire-perf-compat",[lA]:"fire-rc",[cA]:"fire-rc-compat",[uA]:"fire-gcs",[hA]:"fire-gcs-compat",[dA]:"fire-fst",[mA]:"fire-fst-compat",[fA]:"fire-vertex","fire-js":"fire-js",[pA]:"fire-js-all"};const Yh=new Map,vA=new Map,vp=new Map;function Bb(r,e){try{r.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(vp.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,r);for(const n of Yh.values())Bb(n,r);for(const n of vA.values())Bb(n,r);return!0}function yd(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ms(r){return r==null?!1:r.settings!==void 0}const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Qc("app","Firebase",bA);class _A{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}const co=gA;function tg(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:yp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(n||(n=q1()),!n)throw ua.create("no-options");const u=Yh.get(o);if(u){if(eo(n,u.options)&&eo(i,u.config))return u;throw ua.create("duplicate-app",{appName:o})}const d=new kk(o);for(const g of vp.values())d.addComponent(g);const p=new _A(n,i,d);return Yh.set(o,p),p}function ng(r=yp){const e=Yh.get(r);if(!e&&r===yp&&q1())return tg();if(!e)throw ua.create("no-app",{appName:r});return e}function Or(r,e,n){let i=yA[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(d.join(" "));return}to(new ma(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const wA="firebase-heartbeat-database",xA=1,Oc="firebase-heartbeat-store";let Gm=null;function K1(){return Gm||(Gm=Uk(wA,xA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(r=>{throw ua.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function EA(r){try{const n=(await K1()).transaction(Oc),i=await n.objectStore(Oc).get(Y1(r));return await n.done,i}catch(e){if(e instanceof Hr)wi.warn(e.message);else{const n=ua.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}}async function zb(r,e){try{const i=(await K1()).transaction(Oc,"readwrite");await i.objectStore(Oc).put(e,Y1(r)),await i.done}catch(n){if(n instanceof Hr)wi.warn(n.message);else{const i=ua.create("idb-set",{originalErrorMessage:n?.message});wi.warn(i.message)}}}function Y1(r){return`${r.name}!${r.options.appId}`}const TA=1024,SA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>SA){const o=CA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fb(),{heartbeatsToSend:n,unsentEntries:i}=AA(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return wi.warn(e),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function AA(r,e=TA){const n=[];let i=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),qb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),qb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class RA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return zb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return zb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qb(r){return Kh(JSON.stringify({version:2,heartbeats:r})).length}function CA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function NA(r){to(new ma("platform-logger",e=>new Fk(e),"PRIVATE")),to(new ma("heartbeat",e=>new kA(e),"PRIVATE")),Or(gp,Ub,r),Or(gp,Ub,"esm2020"),Or("fire-js","")}NA("");function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jA=Q1,X1=new Qc("auth","Firebase",Q1());const Qh=new Zp("@firebase/auth");function IA(r,...e){Qh.logLevel<=vt.WARN&&Qh.warn(`Auth (${co}): ${r}`,...e)}function Oh(r,...e){Qh.logLevel<=vt.ERROR&&Qh.error(`Auth (${co}): ${r}`,...e)}function yr(r,...e){throw sg(r,...e)}function Lr(r,...e){return sg(r,...e)}function J1(r,e,n){const i={...jA(),[e]:n};return new Qc("auth","Firebase",i).create(e,{appName:r.name})}function vi(r){return J1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return X1.create(r,...e)}function Qe(r,e,...n){if(!r)throw sg(e,...n)}function pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oh(e),new Error(e)}function xi(r,e){r||pi(e)}function bp(){return typeof self<"u"&&self.location?.href||""}function DA(){return Hb()==="http:"||Hb()==="https:"}function Hb(){return typeof self<"u"&&self.location?.protocol||null}function MA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DA()||uk()||"connection"in navigator)?navigator.onLine:!0}function PA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=ok()||hk()}get(){return MA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,e){xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Z1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VA=new Jc(3e4,6e4);function Si(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ki(r,e,n,i,o={}){return ew(r,o,async()=>{let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});const p=Xc({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return ck()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&wa(r.emulatorConfig.host)&&(y.credentials="include"),Z1.fetch()(await tw(r,r.config.apiHost,n,p),y)})}async function ew(r,e,n){r._canInitEmulator=!1;const i={...OA,...e};try{const o=new BA(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Th(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Th(r,"user-disabled",d);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw J1(r,w,y);yr(r,w)}}catch(o){if(o instanceof Hr)throw o;yr(r,"network-request-failed",{message:String(o)})}}async function Zc(r,e,n,i,o={}){const u=await ki(r,e,n,i,o);return"mfaPendingCredential"in u&&yr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tw(r,e,n,i){const o=`${e}${n}?${i}`,u=r,d=u.config.emulator?rg(r.config,o):`${r.config.apiScheme}://${o}`;return LA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function UA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Lr(this.auth,"network-request-failed")),VA.get())})}}function Th(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Lr(r,e,i);return o.customData._tokenResponse=n,o}function Gb(r){return r!==void 0&&r.enterprise!==void 0}class zA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FA(r,e){return ki(r,"GET","/v2/recaptchaConfig",Si(r,e))}async function qA(r,e){return ki(r,"POST","/v1/accounts:delete",e)}async function Xh(r,e){return ki(r,"POST","/v1/accounts:lookup",e)}function Nc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(r,e=!1){const n=un(r),i=await n.getIdToken(e),o=ig(i);Qe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:i,authTime:Nc(Wm(o.auth_time)),issuedAtTime:Nc(Wm(o.iat)),expirationTime:Nc(Wm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wm(r){return Number(r)*1e3}function ig(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=B1(n);return o?JSON.parse(o):(Oh("Failed to decode base64 JWT payload"),null)}catch(o){return Oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Wb(r){const e=ig(r);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hr&&GA(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function GA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jh(r){const e=r.auth,n=await r.getIdToken(),i=await Lc(r,Xh(e,{idToken:n}));Qe(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?nw(o.providerUserInfo):[],d=KA(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!d?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function $A(r){const e=un(r);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KA(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function nw(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function YA(r,e){const n=await ew(r,{},async()=>{const i=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await tw(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&wa(r.emulatorConfig.host)&&(g.credentials="include"),Z1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QA(r,e){return ki(r,"POST","/v2/accounts:revokeToken",Si(r,e))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=Wb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await YA(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,d=new sl;return i&&(Qe(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(Qe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Qe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return pi("not implemented")}}function na(r,e){Qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pr{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _p(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HA(this,e)}reload(){return $A(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await Lc(this,qA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:O,providerData:q,stsTokenManager:H}=n;Qe(x&&H,e,"internal-error");const z=sl.fromJSON(this.name,H);Qe(typeof x=="string",e,"internal-error"),na(i,e.name),na(o,e.name),Qe(typeof T=="boolean",e,"internal-error"),Qe(typeof O=="boolean",e,"internal-error"),na(u,e.name),na(d,e.name),na(p,e.name),na(g,e.name),na(y,e.name),na(w,e.name);const ce=new pr({uid:x,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:O,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:y,lastLoginAt:w});return q&&Array.isArray(q)&&(ce.providerData=q.map(J=>({...J}))),g&&(ce._redirectEventId=g),ce}static async _fromIdTokenResponse(e,n,i=!1){const o=new sl;o.updateFromServerResponse(n);const u=new pr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Qe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nw(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new sl;p.updateFromIdToken(i);const g=new pr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const $b=new Map;function gi(r){xi(r instanceof Function,"Expected a class definition");let e=$b.get(r);return e?(xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$b.set(r,e),e)}class sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sw.type="NONE";const Kb=sw;function Lh(r,e,n){return`firebase:${r}:${e}:${n}`}class rl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?pr._fromGetAccountInfoResponse(this.auth,n,e):null}return pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new rl(gi(Kb),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||gi(Kb);const d=Lh(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const w=await y._get(d);if(w){let x;if(typeof w=="string"){const T=await Xh(e,{idToken:w}).catch(()=>{});if(!T)break;x=await pr._fromGetAccountInfoResponse(e,T,w)}else x=pr._fromJSON(e,w);y!==u&&(p=x),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new rl(u,e,i):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new rl(u,e,i))}}function Yb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cw(e))return"Blackberry";if(uw(e))return"Webos";if(iw(e))return"Safari";if((e.includes("chrome/")||aw(e))&&!e.includes("edge/"))return"Chrome";if(lw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function rw(r=is()){return/firefox\//i.test(r)}function iw(r=is()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aw(r=is()){return/crios\//i.test(r)}function ow(r=is()){return/iemobile/i.test(r)}function lw(r=is()){return/android/i.test(r)}function cw(r=is()){return/blackberry/i.test(r)}function uw(r=is()){return/webos/i.test(r)}function ag(r=is()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XA(r=is()){return ag(r)&&!!window.navigator?.standalone}function JA(){return dk()&&document.documentMode===10}function hw(r=is()){return ag(r)||lw(r)||uw(r)||cw(r)||/windows phone/i.test(r)||ow(r)}function dw(r,e=[]){let n;switch(r){case"Browser":n=Yb(is());break;case"Worker":n=`${Yb(is())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${i}`}class ZA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function eR(r,e={}){return ki(r,"GET","/v2/passwordPolicy",Si(r,e))}const tR=6;class nR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sR{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qb(this),this.idTokenSubscription=new Qb(this),this.beforeStateQueue=new ZA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),i=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ms(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ms(this.app))return Promise.reject(vi(this));const n=e?un(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ms(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eR(this),n=new nR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await QA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xa(r){return un(r)}class Qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=_k(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(r){vd=r}function fw(r){return vd.loadJS(r)}function iR(){return vd.recaptchaEnterpriseScript}function aR(){return vd.gapiScript}function oR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lR{constructor(){this.enterprise=new cR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uR="recaptcha-enterprise",mw="NO_RECAPTCHA";class hR{constructor(e){this.type=uR,this.auth=xa(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{FA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new zA(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;Gb(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(mw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{i(this.auth).then(p=>{if(!n&&Gb(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iR();g.length!==0&&(g+=p),fw(g).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Xb(r,e,n,i=!1,o=!1){const u=new hR(r);let d;if(o)d=mw;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Zh(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Xb(r,e,n,n==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Xb(r,e,n,n==="getOobCode");return i(r,d)}else return Promise.reject(u)})}function dR(r,e){const n=yd(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(eo(u,e??{}))return o;yr(o,"already-initialized")}return n.initialize({options:e})}function fR(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function mR(r,e,n){const i=xa(r);Qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=pw(e),{host:d,port:p}=pR(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},w=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Qe(eo(y,i.config.emulator)&&eo(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,wa(d)?(Xp(`${u}//${d}${g}`),Jp("Auth",!0)):gR()}function pw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pR(r){const e=pw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Jb(i.substr(u.length+1))}}else{const[u,d]=i.split(":");return{host:u,port:Jb(d)}}}function Jb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function yR(r,e){return ki(r,"POST","/v1/accounts:signUp",e)}async function vR(r,e){return Zc(r,"POST","/v1/accounts:signInWithPassword",Si(r,e))}async function bR(r,e){return ki(r,"POST","/v1/accounts:sendOobCode",Si(r,e))}async function _R(r,e){return bR(r,e)}async function wR(r,e){return Zc(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}async function xR(r,e){return Zc(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}class Vc extends og{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,n,"signInWithPassword",vR);case"emailLink":return wR(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zh(e,i,"signUpPassword",yR);case"emailLink":return xR(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function il(r,e){return Zc(r,"POST","/v1/accounts:signInWithIdp",Si(r,e))}const ER="http://localhost";class no extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const d=new no(i,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,il(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:ER,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}function TR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(r){const e=wc(xc(r)).link,n=e?wc(xc(e)).deep_link_id:null,i=wc(xc(r)).deep_link_id;return(i?wc(xc(i)).link:null)||i||n||e||r}class lg{constructor(e){const n=wc(xc(e)),i=n.apiKey??null,o=n.oobCode??null,u=TR(n.mode??null);Qe(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SR(e);try{return new lg(n)}catch{return null}}}class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=lg.parseLink(n);return Qe(i,"argument-error"),Vc._fromEmailAndCode(e,i.code,i.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ra extends eu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";class ia extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ia.credential(n,i)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";class aa extends eu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";class oa extends eu{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return oa.credential(n,i)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function kR(r,e){return Zc(r,"POST","/v1/accounts:signUp",Si(r,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await pr._fromIdTokenResponse(e,i,o),d=Zb(i);return new so({user:u,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Zb(i);return new so({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Zb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ed extends Hr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new ed(e,n,i,o)}}function yw(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(r,u,e,i):u})}async function AR(r,e,n=!1){const i=await Lc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return so._forOperation(r,"link",i)}async function RR(r,e,n=!1){const{auth:i}=r;if(Ms(i.app))return Promise.reject(vi(i));const o="reauthenticate";try{const u=await Lc(r,yw(i,o,e,r),n);Qe(u.idToken,i,"internal-error");const d=ig(u.idToken);Qe(d,i,"internal-error");const{sub:p}=d;return Qe(r.uid===p,i,"user-mismatch"),so._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&yr(i,"user-mismatch"),u}}async function vw(r,e,n=!1){if(Ms(r.app))return Promise.reject(vi(r));const i="signIn",o=await yw(r,i,e),u=await so._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}async function CR(r,e){return vw(xa(r),e)}async function bw(r){const e=xa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NR(r,e,n){const i=xa(r);await Zh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_R)}async function b3(r,e,n){if(Ms(r.app))return Promise.reject(vi(r));const i=xa(r),d=await Zh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&bw(r),g}),p=await so._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(p.user),p}function jR(r,e,n){return Ms(r.app)?Promise.reject(vi(r)):CR(un(r),bl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bw(r),i})}function IR(r,e){return un(r).setPersistence(e)}function DR(r,e,n,i){return un(r).onIdTokenChanged(e,n,i)}function MR(r,e,n){return un(r).beforeAuthStateChanged(e,n)}function PR(r,e,n,i){return un(r).onAuthStateChanged(e,n,i)}function OR(r){return un(r).signOut()}const td="__sak";class _w{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LR=1e3,VR=10;class ww extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},u=this.storage.getItem(i);JA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VR):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},LR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ww.type="LOCAL";const xw=ww;class Ew extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ew.type="SESSION";const cg=Ew;function UR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new bd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await UR(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];function ug(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class BR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=ug("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(x){const T=x;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Vr(){return window}function zR(r){Vr().location.href=r}function Tw(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function FR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qR(){return navigator?.serviceWorker?.controller||null}function HR(){return Tw()?self:null}const Sw="firebaseLocalStorageDb",GR=1,nd="firebaseLocalStorage",kw="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(r,e){return r.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function WR(){const r=indexedDB.deleteDatabase(Sw);return new tu(r).toPromise()}function wp(){const r=indexedDB.open(Sw,GR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(nd,{keyPath:kw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(nd)?e(i):(i.close(),await WR(),e(await wp()))})})}async function e_(r,e,n){const i=_d(r,!0).put({[kw]:e,value:n});return new tu(i).toPromise()}async function $R(r,e){const n=_d(r,!1).get(e),i=await new tu(n).toPromise();return i===void 0?null:i.value}function t_(r,e){const n=_d(r,!0).delete(e);return new tu(n).toPromise()}const KR=800,YR=3;class Aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(HR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new BR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await e_(e,td,"1"),await t_(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>e_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$R(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_d(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Aw.type="LOCAL";const QR=Aw;new Jc(3e4,6e4);function XR(r,e){return e?gi(e):(Qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JR(r){return vw(r.auth,new hg(r),r.bypassAuthState)}function ZR(r){const{auth:e,user:n}=r;return Qe(n,e,"internal-error"),RR(n,new hg(r),r.bypassAuthState)}async function eC(r){const{auth:e,user:n}=r;return Qe(n,e,"internal-error"),AR(n,new hg(r),r.bypassAuthState)}class Rw{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return ZR;default:yr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tC=new Jc(2e3,1e4);class nl extends Rw{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}nl.currentPopupAction=null;const nC="pendingRedirect",Vh=new Map;class sC extends Rw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const i=await rC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(r,e){const n=oC(e),i=aC(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function iC(r,e){Vh.set(r._key(),e)}function aC(r){return gi(r._redirectPersistence)}function oC(r){return Lh(nC,r.config.apiKey,r.name)}async function lC(r,e,n=!1){if(Ms(r.app))return Promise.reject(vi(r));const i=xa(r),o=XR(i,e),d=await new sC(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}const cC=600*1e3;class uC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Cw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Cw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function hC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(r);default:return!1}}async function dC(r,e={}){return ki(r,"GET","/v1/projects",e)}const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function pC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dC(r);for(const n of e)try{if(gC(n))return}catch{}yr(r,"unauthorized-domain")}function gC(r){const e=bp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!mC.test(n))return!1;if(fC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const yC=new Jc(3e4,6e4);function s_(){const r=Vr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function vC(r){return new Promise((e,n)=>{function i(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),n(Lr(r,"network-request-failed"))},timeout:yC.get()})}if(Vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vr().gapi?.load)i();else{const o=oR("iframefcb");return Vr()[o]=()=>{gapi.load?i():n(Lr(r,"network-request-failed"))},fw(`${aR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function bC(r){return Uh=Uh||vC(r),Uh}const _C=new Jc(5e3,15e3),wC="__/auth/iframe",xC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(r){const e=r.config;Qe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rg(e,xC):`https://${r.config.authDomain}/${wC}`,i={apiKey:e.apiKey,appName:r.name,v:co},o=TC.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Xc(i).slice(1)}`}async function kC(r){const e=await bC(r),n=Vr().gapi;return Qe(n,r,"internal-error"),e.open({where:document.body,url:SC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const d=Lr(r,"network-request-failed"),p=Vr().setTimeout(()=>{u(d)},_C.get());function g(){Vr().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(d)})}))}const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,CC=600,NC="_blank",jC="http://localhost";class r_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IC(r,e,n,i=RC,o=CC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...AC,width:i.toString(),height:o.toString(),top:u,left:d},y=is().toLowerCase();n&&(p=aw(y)?NC:n),rw(y)&&(e=e||jC,g.scrollbars="yes");const w=Object.entries(g).reduce((T,[O,q])=>`${T}${O}=${q},`,"");if(XA(y)&&p!=="_self")return DC(e||"",p),new r_(null);const x=window.open(e||"",p,w);Qe(x,r,"popup-blocked");try{x.focus()}catch{}return new r_(x)}function DC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const MC="__/auth/handler",PC="emulator/auth/handler",OC=encodeURIComponent("fac");async function i_(r,e,n,i,o,u){Qe(r.config.authDomain,r,"auth-domain-config-required"),Qe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:co,eventId:o};if(e instanceof gw){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",bk(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))d[w]=x}if(e instanceof eu){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await r._getAppCheckToken(),y=g?`#${OC}=${encodeURIComponent(g)}`:"";return`${LC(r)}?${Xc(p).slice(1)}${y}`}function LC({config:r}){return r.emulator?rg(r,PC):`https://${r.authDomain}/${MC}`}const $m="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cg,this._completeRedirectFn=lC,this._overrideRedirectResult=iC}async _openPopup(e,n,i,o){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await i_(e,n,i,bp(),o);return IC(e,u,ug())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await i_(e,n,i,bp(),o);return zR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await kC(e),i=new uC(e);return n.register("authEvent",o=>(Qe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},o=>{const u=o?.[0]?.[$m];u!==void 0&&n(!!u),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hw()||iw()||ag()}}const UC=VC;var a_="@firebase/auth",o_="1.12.0";class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(r){to(new ma("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Qe(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dw(r)},y=new sR(i,o,u,g);return fR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),to(new ma("auth-internal",e=>{const n=xa(e.getProvider("auth").getImmediate());return(i=>new BC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(a_,o_,zC(r)),Or(a_,o_,"esm2020")}const qC=300,HC=H1("authIdTokenMaxAge")||qC;let l_=null;const GC=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>HC)return;const o=n?.token;l_!==o&&(l_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Nw(r=ng()){const e=yd(r,"auth");if(e.isInitialized())return e.getImmediate();const n=dR(r,{popupRedirectResolver:UC,persistence:[QR,xw,cg]}),i=H1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const d=GC(u.toString());MR(n,d,()=>d(n.currentUser)),DR(n,p=>d(p))}}const o=z1("auth");return o&&mR(n,`http://${o}`),n}function WC(){return document.getElementsByTagName("head")?.[0]??document}rR({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=Lr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",WC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ha,jw;(function(){var r;function e(N,S){function R(){}R.prototype=S.prototype,N.F=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(I,D,B){for(var j=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)j[Je-2]=arguments[Je];return S.prototype[D].apply(I,j)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);const I=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)I[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],D=N.g[2];let B=N.g[3],j;j=S+(B^R&(D^B))+I[0]+3614090360&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[1]+3905402710&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[2]+606105819&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[3]+3250441966&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(B^R&(D^B))+I[4]+4118548399&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[5]+1200080426&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[6]+2821735955&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[7]+4249261313&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(B^R&(D^B))+I[8]+1770035416&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[9]+2336552879&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[10]+4294925233&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[11]+2304563134&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(B^R&(D^B))+I[12]+1804603682&4294967295,S=R+(j<<7&4294967295|j>>>25),j=B+(D^S&(R^D))+I[13]+4254626195&4294967295,B=S+(j<<12&4294967295|j>>>20),j=D+(R^B&(S^R))+I[14]+2792965006&4294967295,D=B+(j<<17&4294967295|j>>>15),j=R+(S^D&(B^S))+I[15]+1236535329&4294967295,R=D+(j<<22&4294967295|j>>>10),j=S+(D^B&(R^D))+I[1]+4129170786&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[6]+3225465664&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[11]+643717713&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[0]+3921069994&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(R^D))+I[5]+3593408605&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[10]+38016083&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[15]+3634488961&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[4]+3889429448&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(R^D))+I[9]+568446438&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[14]+3275163606&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[3]+4107603335&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[8]+1163531501&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(D^B&(R^D))+I[13]+2850285829&4294967295,S=R+(j<<5&4294967295|j>>>27),j=B+(R^D&(S^R))+I[2]+4243563512&4294967295,B=S+(j<<9&4294967295|j>>>23),j=D+(S^R&(B^S))+I[7]+1735328473&4294967295,D=B+(j<<14&4294967295|j>>>18),j=R+(B^S&(D^B))+I[12]+2368359562&4294967295,R=D+(j<<20&4294967295|j>>>12),j=S+(R^D^B)+I[5]+4294588738&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[8]+2272392833&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[11]+1839030562&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[14]+4259657740&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(R^D^B)+I[1]+2763975236&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[4]+1272893353&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[7]+4139469664&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[10]+3200236656&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(R^D^B)+I[13]+681279174&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[0]+3936430074&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[3]+3572445317&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[6]+76029189&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(R^D^B)+I[9]+3654602809&4294967295,S=R+(j<<4&4294967295|j>>>28),j=B+(S^R^D)+I[12]+3873151461&4294967295,B=S+(j<<11&4294967295|j>>>21),j=D+(B^S^R)+I[15]+530742520&4294967295,D=B+(j<<16&4294967295|j>>>16),j=R+(D^B^S)+I[2]+3299628645&4294967295,R=D+(j<<23&4294967295|j>>>9),j=S+(D^(R|~B))+I[0]+4096336452&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[7]+1126891415&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[14]+2878612391&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[5]+4237533241&4294967295,R=D+(j<<21&4294967295|j>>>11),j=S+(D^(R|~B))+I[12]+1700485571&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[3]+2399980690&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[10]+4293915773&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[1]+2240044497&4294967295,R=D+(j<<21&4294967295|j>>>11),j=S+(D^(R|~B))+I[8]+1873313359&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[15]+4264355552&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[6]+2734768916&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[13]+1309151649&4294967295,R=D+(j<<21&4294967295|j>>>11),j=S+(D^(R|~B))+I[4]+4149444226&4294967295,S=R+(j<<6&4294967295|j>>>26),j=B+(R^(S|~D))+I[11]+3174756917&4294967295,B=S+(j<<10&4294967295|j>>>22),j=D+(S^(B|~R))+I[2]+718787259&4294967295,D=B+(j<<15&4294967295|j>>>17),j=R+(B^(D|~S))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.v=function(N,S){S===void 0&&(S=N.length);const R=S-this.blockSize,I=this.C;let D=this.h,B=0;for(;B<S;){if(D==0)for(;B<=R;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(I[D++]=N.charCodeAt(B++),D==this.blockSize){o(this,I),D=0;break}}else for(;B<S;)if(I[D++]=N[B++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=S},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)N[S++]=this.g[R]>>>I&255;return N};function u(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;const R=[];let I=!0;for(let D=N.length-1;D>=0;D--){const B=N[D]|0;I&&B==S||(R[D]=B,I=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return z(y(-N));const S=[];let R=1;for(let I=0;N>=R;I++)S[I]=N/R|0,R*=4294967296;return new d(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return z(w(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let I=x;for(let B=0;B<N.length;B+=8){var D=Math.min(8,N.length-B);const j=parseInt(N.substring(B,B+D),S);D<8?(D=y(Math.pow(S,D)),I=I.j(D).add(y(j))):(I=I.j(R),I=I.add(y(j)))}return I}var x=g(0),T=g(1),O=g(16777216);r=d.prototype,r.m=function(){if(H(this))return-z(this).m();let N=0,S=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);N+=(I>=0?I:4294967296+I)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(H(this))return"-"+z(this).toString(N);const S=y(Math.pow(N,6));var R=this;let I="";for(;;){const D=we(R,S).g;R=ce(R,D.j(S));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,q(R))return B+I;for(;B.length<6;)B="0"+B;I=B+I}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function H(N){return N.h==-1}r.l=function(N){return N=ce(this,N),H(N)?-1:q(N)?0:1};function z(N){const S=N.g.length,R=[];for(let I=0;I<S;I++)R[I]=~N.g[I];return new d(R,~N.h).add(T)}r.abs=function(){return H(this)?z(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),R=[];let I=0;for(let D=0;D<=S;D++){let B=I+(this.i(D)&65535)+(N.i(D)&65535),j=(B>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);I=j>>>16,B&=65535,j&=65535,R[D]=j<<16|B}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ce(N,S){return N.add(z(S))}r.j=function(N){if(q(this)||q(N))return x;if(H(this))return H(N)?z(this).j(z(N)):z(z(this).j(N));if(H(N))return z(this.j(z(N)));if(this.l(O)<0&&N.l(O)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,R=[];for(var I=0;I<2*S;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<N.g.length;D++){const B=this.i(I)>>>16,j=this.i(I)&65535,Je=N.i(D)>>>16,ht=N.i(D)&65535;R[2*I+2*D]+=j*ht,J(R,2*I+2*D),R[2*I+2*D+1]+=B*ht,J(R,2*I+2*D+1),R[2*I+2*D+1]+=j*Je,J(R,2*I+2*D+1),R[2*I+2*D+2]+=B*Je,J(R,2*I+2*D+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function J(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function me(N,S){this.g=N,this.h=S}function we(N,S){if(q(S))throw Error("division by zero");if(q(N))return new me(x,x);if(H(N))return S=we(z(N),S),new me(z(S.g),z(S.h));if(H(S))return S=we(N,z(S)),new me(z(S.g),S.h);if(N.g.length>30){if(H(N)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,I=S;I.l(N)<=0;)R=je(R),I=je(I);var D=Re(R,1),B=Re(I,1);for(I=Re(I,2),R=Re(R,2);!q(I);){var j=B.add(I);j.l(N)<=0&&(D=D.add(R),B=j),I=Re(I,1),R=Re(R,1)}return S=ce(N,D.j(S)),new me(D,S)}for(D=x;N.l(S)>=0;){for(R=Math.max(1,Math.floor(N.m()/S.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),B=y(R),j=B.j(S);H(j)||j.l(N)>0;)R-=I,B=y(R),j=B.j(S);q(B)&&(B=T),D=D.add(B),N=ce(N,j)}return new me(D,N)}r.B=function(N){return we(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)&N.i(I);return new d(R,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)|N.i(I);return new d(R,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<S;I++)R[I]=this.i(I)^N.i(I);return new d(R,this.h^N.h)};function je(N){const S=N.g.length+1,R=[];for(let I=0;I<S;I++)R[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(R,N.h)}function Re(N,S){const R=S>>5;S%=32;const I=N.g.length-R,D=[];for(let B=0;B<I;B++)D[B]=S>0?N.i(B+R)>>>S|N.i(B+R+1)<<32-S:N.i(B+R);return new d(D,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,jw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,ha=d}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Iw,Ec,Dw,Bh,xp,Mw,Pw,Ow;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(h,v){if(v)e:{var _=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in _))break e;_=_[G]}h=h[h.length-1],A=_[h],v=v(A),v!=A&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var _=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&_.push([A,v[A]]);return _}});var u=u||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,_){return h.call.apply(h.bind,arguments)}function y(h,v,_){return y=g,y.apply(null,arguments)}function w(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function x(h,v){function _(){}_.prototype=v.prototype,h.Z=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(A,G,Q){for(var xe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)xe[lt-2]=arguments[lt];return v.prototype[G].apply(A,xe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const v=h.length;if(v>0){const _=Array(v);for(let A=0;A<v;A++)_[A]=h[A];return _}return[]}function q(h,v){for(let A=1;A<arguments.length;A++){const G=arguments[A];var _=typeof G;if(_=_!="object"?_:G?Array.isArray(G)?"array":_:"null",_=="array"||_=="object"&&typeof G.length=="number"){_=h.length||0;const Q=G.length||0;h.length=_+Q;for(let xe=0;xe<Q;xe++)h[_+xe]=G[xe]}else h.push(G)}}class H{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){d.setTimeout(()=>{throw h},0)}function ce(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,_){const A=me.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var me=new H(()=>new we,h=>h.reset());class we{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let je,Re=!1,N=new J,S=()=>{const h=Promise.resolve(void 0);je=()=>{h.then(R)}};function R(){for(var h;h=ce();){try{h.h.call(h.g)}catch(_){z(_)}var v=me;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}Re=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function Je(h,v){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}x(Je,D),Je.prototype.init=function(h,v){const _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(_=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),W=0;function se(h,v,_,A,G){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=G,this.key=++W,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,v,_){for(const A in h)v.call(_,h[A],A,h)}function ze(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function P(h){const v={};for(const _ in h)v[_]=h[_];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(h,v){let _,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(_ in A)h[_]=A[_];for(let Q=0;Q<te.length;Q++)_=te[Q],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,v,_,A,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const xe=Ee(h,v,A,G);return xe>-1?(v=h[xe],_||(v.fa=!1)):(v=new se(v,this.src,Q,!!A,G),v.fa=_,h.push(v)),v};function ke(h,v){const _=v.type;if(_ in h.g){var A=h.g[_],G=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(A,G,1),Q&&(ge(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ee(h,v,_,A){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==v&&Q.capture==!!_&&Q.ha==A)return G}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),$e={};function Ke(h,v,_,A,G){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)Ke(h,v[Q],_,A,G);return null}return _=Et(_),h&&h[ht]?h.J(v,_,p(A)?!!A.capture:!1,G):Ot(h,v,_,!1,A,G)}function Ot(h,v,_,A,G,Q){if(!v)throw Error("Invalid event type");const xe=p(G)?!!G.capture:!!G;let lt=Lt(h);if(lt||(h[Oe]=lt=new he(h)),_=lt.add(v,_,A,xe,Q),_.proxy)return _;if(A=zt(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)B||(G=xe),G===void 0&&(G=!1),h.addEventListener(v.toString(),A,G);else if(h.attachEvent)h.attachEvent(ie(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zt(){function h(_){return v.call(h.src,h.listener,_)}const v=an;return h}function Rt(h,v,_,A,G){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Rt(h,v[Q],_,A,G);else A=p(A)?!!A.capture:!!A,_=Et(_),h&&h[ht]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],_=Ee(v,_,A,G),_>-1&&(ge(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Lt(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ee(v,_,A,G)),(_=h>-1?v[h]:null)&&en(_))}function en(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ht])ke(v.i,h);else{var _=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(_,A,h.capture):v.detachEvent?v.detachEvent(ie(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=Lt(v))?(ke(_,h),_.h==0&&(_.src=null,v[Oe]=null)):ge(h)}}}function ie(h){return h in $e?$e[h]:$e[h]="on"+h}function an(h,v){if(h.da)h=!0;else{v=new Je(v,this);const _=h.listener,A=h.ha||h.src;h.fa&&en(h),h=_.call(A,v)}return h}function Lt(h){return h=h[Oe],h instanceof he?h:null}var xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Et(h){return typeof h=="function"?h:(h[xt]||(h[xt]=function(v){return h.handleEvent(v)}),h[xt])}function tt(){I.call(this),this.i=new he(this),this.M=this,this.G=null}x(tt,I),tt.prototype[ht]=!0,tt.prototype.removeEventListener=function(h,v,_,A){Rt(this,h,v,_,A)};function et(h,v){var _,A=h.G;if(A)for(_=[];A;A=A.G)_.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new D(v,h);else if(v instanceof D)v.target=v.target||h;else{var G=v;v=new D(A,h),Z(v,G)}G=!0;let Q,xe;if(_)for(xe=_.length-1;xe>=0;xe--)Q=v.g=_[xe],G=$t(Q,A,!0,v)&&G;if(Q=v.g=h,G=$t(Q,A,!0,v)&&G,G=$t(Q,A,!1,v)&&G,_)for(xe=0;xe<_.length;xe++)Q=v.g=_[xe],G=$t(Q,A,!1,v)&&G}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const _=h.g[v];for(let A=0;A<_.length;A++)ge(_[A]);delete h.g[v],h.h--}}this.G=null},tt.prototype.J=function(h,v,_,A){return this.i.add(String(h),v,!1,_,A)},tt.prototype.K=function(h,v,_,A){return this.i.add(String(h),v,!0,_,A)};function $t(h,v,_,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let Q=0;Q<v.length;++Q){const xe=v[Q];if(xe&&!xe.da&&xe.capture==_){const lt=xe.listener,gn=xe.ha||xe.src;xe.fa&&ke(h.i,xe),G=lt.call(gn,A)!==!1&&G}}return G&&!A.defaultPrevented}function Gr(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function Vs(h){h.g=Gr(()=>{h.g=null,h.i&&(h.i=!1,Vs(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Vt extends I{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(h){I.call(this),this.h=h,this.g={}}x(Mn,I);var on=[];function xn(h){De(h.g,function(v,_){this.g.hasOwnProperty(_)&&en(v)},h),h.g={}}Mn.prototype.N=function(){Mn.Z.N.call(this),xn(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=d.JSON.stringify,ye=d.JSON.parse,_e=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Be(){}function Ce(){}var Te={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){D.call(this,"d")}x(Me,D);function Le(){D.call(this,"c")}x(Le,D);var Fe={},mt=null;function Kt(){return mt=mt||new tt}Fe.Ia="serverreachability";function Mt(h){D.call(this,Fe.Ia,h)}x(Mt,D);function dn(h){const v=Kt();et(v,new Mt(v))}Fe.STAT_EVENT="statevent";function ps(h,v){D.call(this,Fe.STAT_EVENT,h),this.stat=v}x(ps,D);function Ft(h){const v=Kt();et(v,new ps(v,h))}Fe.Ja="timingevent";function Un(h,v){D.call(this,Fe.Ja,h),this.size=v}x(Un,D);function jn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function sr(h,v,_,A,G,Q){h.info(function(){if(h.g)if(Q){var xe="",lt=Q.split("&");for(let It=0;It<lt.length;It++){var gn=lt[It].split("=");if(gn.length>1){const nn=gn[0];gn=gn[1];const Hs=nn.split("_");xe=Hs.length>=2&&Hs[1]=="type"?xe+(nn+"="+gn+"&"):xe+(nn+"=redacted&")}}}else xe=null;else xe=Q;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+_+`
`+xe})}function Wr(h,v,_,A,G,Q,xe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+_+`
`+Q+" "+xe})}function Zn(h,v,_,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+$r(h,_)+(A?" "+A:"")})}function Us(h,v){h.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function $r(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var _=Q[h];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let xe=1;xe<A.length;xe++)A[xe]=""}}}}return oe(Q)}catch{return v}}var Bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ai={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wr;function rr(){}x(rr,Be),rr.prototype.g=function(){return new XMLHttpRequest},wr=new rr;function as(h){return encodeURIComponent(String(h))}function xr(h){var v=1;h=h.split(":");const _=[];for(;v>0&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function Bn(h,v,_,A){this.j=h,this.i=v,this.l=_,this.S=A||1,this.V=new Mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var tn={},ln={};function gs(h,v,_){h.M=1,h.A=Ct(Se(v)),h.u=_,h.R=!0,Fn(h,null)}function Fn(h,v){h.F=Date.now(),os(h),h.B=Se(h.A);var _=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Qr(_.i,"t",A),h.C=0,_=h.j.L,h.h=new zn,h.g=gu(h.j,_?v:null,!h.u),h.P>0&&(h.O=new Vt(y(h.Y,h,h.g),h.P)),v=h.V,_=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(on[0]=G.toString()),G=on);for(let Q=0;Q<G.length;Q++){const xe=Ke(_,G[Q],A||v.handleEvent,!1,v.h||v);if(!xe)break;v.g[xe.key]=xe}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),dn(),sr(h.i,h.v,h.B,h.l,h.S,h.u)}Bn.prototype.ba=function(h){h=h.target;const v=this.O;v&&cr(h)==3?v.j():this.Y(h)},Bn.prototype.Y=function(h){try{if(h==this.g)e:{const lt=cr(this.g),gn=this.g.ya(),It=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||lt!=4||gn==7||(gn==8||It<=0?dn(3):dn(2)),ys(this);var v=this.g.ca();this.X=v;var _=ka(this);if(this.o=v==200,Wr(this.i,this.v,this.B,this.l,this.S,lt,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(A)){var Q=A;break t}}Q=null}if(h=Q)Zn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ae(this,h);else{this.o=!1,this.m=3,Ft(12),U(this),C(this);break e}}if(this.R){h=!0;let nn;for(;!this.K&&this.C<_.length;)if(nn=ir(this,_),nn==ln){lt==4&&(this.m=4,Ft(14),h=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==tn){this.m=4,Ft(15),Zn(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else Zn(this.i,this.l,nn,null),ae(this,nn);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||_.length!=0||this.h.h||(this.m=1,Ft(16),h=!1),this.o=this.o&&h,!h)Zn(this.i,this.l,_,"[Invalid Chunked Response]"),U(this),C(this);else if(_.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jl(xe),xe.P=!0,Ft(11))}}else Zn(this.i,this.l,_,null),ae(this,_);lt==4&&U(this),this.o&&!this.K&&(lt==4?du(this.j,this):(this.o=!1,os(this)))}else Jr(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),U(this),C(this)}}}catch{}};function ka(h){if(!Ri(h))return h.g.la();const v=Hn(h.g);if(v==="")return"";let _="";const A=v.length,G=cr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return U(h),C(h),"";h.h.i=new d.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,_+=h.h.i.decode(v[Q],{stream:!(G&&Q==A-1)});return v.length=0,h.h.g+=_,h.C=0,h.h.g}function Ri(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ir(h,v){var _=h.C,A=v.indexOf(`
`,_);return A==-1?ln:(_=Number(v.substring(_,A)),isNaN(_)?tn:(A+=1,A+_>v.length?ln:(v=v.slice(A,A+_),h.C=A+_,v)))}Bn.prototype.cancel=function(){this.K=!0,U(this)};function os(h){h.T=Date.now()+h.H,Ss(h,h.H)}function Ss(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=jn(y(h.aa,h),v)}function ys(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Bn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Us(this.i,this.B),this.M!=2&&(dn(),Ft(17)),U(this),this.m=2,C(this)):Ss(this,this.T-h)};function C(h){h.j.I==0||h.K||du(h.j,h)}function U(h){ys(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,xn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function ae(h,v){try{var _=h.j;if(_.I!=0&&(_.g==h||pt(_.h,h))){if(!h.L&&pt(_.h,h)&&_.I==3){try{var A=_.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)_o(_),Ii(_);else break e;Da(_),Ft(18)}}else _.xa=G[1],0<_.xa-_.K&&G[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=jn(y(_.Va,_),6e3));Pe(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ar(_,11)}else if((h.L||_.g==h)&&_o(_),!j(v))for(G=_.Ba.g.parse(v),v=0;v<G.length;v++){let It=G[v];const nn=It[0];if(!(nn<=_.K))if(_.K=nn,It=It[1],_.I==2)if(It[0]=="c"){_.M=It[1],_.ba=It[2];const Hs=It[3];Hs!=null&&(_.ka=Hs,_.j.info("VER="+_.ka));const Rr=It[4];Rr!=null&&(_.za=Rr,_.j.info("SVER="+_.za));const ur=It[5];ur!=null&&typeof ur=="number"&&ur>0&&(A=1.5*ur,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const hr=h.g;if(hr){const Ma=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var Q=A.h;Q.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ze(Q,Q.h),Q.h=null))}if(A.G){const wo=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(A.wa=wo,at(A.J,A.G,wo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var xe=h;if(A.na=pu(A,A.L?A.ba:null,A.W),xe.L){L(A.h,xe);var lt=xe,gn=A.O;gn&&(lt.H=gn),lt.D&&(ys(lt),os(lt)),A.g=xe}else uu(A);_.i.length>0&&kr(_)}else It[0]!="stop"&&It[0]!="close"||Ar(_,7);else _.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Ar(_,7):Cl(_):It[0]!="noop"&&_.l&&_.l.qa(It),_.A=0)}}dn(4)}catch{}}var re=class{constructor(h,v){this.g=h,this.map=v}};function We(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qe(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pe(h){return h.h?1:h.g?h.g.size:0}function pt(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ze(h,v){h.g?h.g.add(v):h.h=v}function L(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}We.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ne(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.G);return v}return O(h.i)}var X=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ve(h,v){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const A=h[_].indexOf("=");let G,Q=null;A>=0?(G=h[_].substring(0,A),Q=h[_].substring(A+1)):G=h[_],v(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function be(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof be?(this.l=h.l,Ve(this,h.j),this.o=h.o,this.g=h.g,st(this,h.u),this.h=h.h,Tt(this,po(h.i)),this.m=h.m):h&&(v=String(h).match(X))?(this.l=!1,Ve(this,v[1]||"",!0),this.o=pn(v[2]||""),this.g=pn(v[3]||"",!0),st(this,v[4]),this.h=pn(v[5]||"",!0),Tt(this,v[6]||"",!0),this.m=pn(v[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}be.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Kr(v,Yr,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Kr(v,Yr,!0),"@"),h.push(as(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Kr(_,_.charAt(0)=="/"?St:Aa,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Kr(_,ks)),h.join("")},be.prototype.resolve=function(h){const v=Se(this);let _=!!h.j;_?Ve(v,h.j):_=!!h.o,_?v.o=h.o:_=!!h.g,_?v.g=h.g:_=h.u!=null;var A=h.h;if(_)st(v,h.u);else if(_=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=v.h.lastIndexOf("/");G!=-1&&(A=v.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let xe=0;xe<G.length;){const lt=G[xe++];lt=="."?A&&xe==G.length&&Q.push(""):lt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&xe==G.length&&Q.push("")):(Q.push(lt),A=!0)}A=Q.join("/")}else A=G}return _?v.h=A:_=h.i.toString()!=="",_?Tt(v,po(h.i)):_=!!h.m,_&&(v.m=h.m),v};function Se(h){return new be(h)}function Ve(h,v,_){h.j=_?pn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function st(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Tt(h,v,_){v instanceof ls?(h.i=v,go(h.i,h.l)):(_||(v=Kr(v,cn)),h.i=new ls(v,h.l))}function at(h,v,_){h.i.set(v,_)}function Ct(h){return at(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function pn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kr(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,qn),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Yr=/[#\/\?@]/g,Aa=/[#\?:]/g,St=/[#\?]/g,cn=/[#\?@]/g,ks=/#/g;function ls(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&ve(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=ls.prototype,r.add=function(h,v){En(this),this.i=null,h=zs(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function es(h,v){En(h),v=zs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function cs(h,v){return En(h),v=zs(h,v),h.g.has(v)}r.forEach=function(h,v){En(this),this.g.forEach(function(_,A){_.forEach(function(G){h.call(v,G,A,this)},this)},this)};function ar(h,v){En(h);let _=[];if(typeof v=="string")cs(h,v)&&(_=_.concat(h.g.get(zs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)_=_.concat(h[v]);return _}r.set=function(h,v){return En(this),this.i=null,h=zs(this,h),cs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=ar(this,h),h.length>0?String(h[0]):v):v};function Qr(h,v,_){es(h,v),_.length>0&&(h.i=null,h.g.set(zs(h,v),O(_)),h.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var _=v[A];const G=as(_);_=ar(this,_);for(let Q=0;Q<_.length;Q++){let xe=G;_[Q]!==""&&(xe+="="+as(_[Q])),h.push(xe)}}return this.i=h.join("&")};function po(h){const v=new ls;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function zs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function go(h,v){v&&!h.j&&(En(h),h.i=null,h.g.forEach(function(_,A){const G=A.toLowerCase();A!=G&&(es(this,A),Qr(this,G,_))},h)),h.j=v}function or(h,v){const _=new Jn;if(d.Image){const A=new Image;A.onload=w(Fs,_,"TestLoadImage: loaded",!0,v,A),A.onerror=w(Fs,_,"TestLoadImage: error",!1,v,A),A.onabort=w(Fs,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=w(Fs,_,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function kl(h,v){const _=new Jn,A=new AbortController,G=setTimeout(()=>{A.abort(),Fs(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(G),Q.ok?Fs(_,"TestPingServer: ok",!0,v):Fs(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Fs(_,"TestPingServer: error",!1,v)})}function Fs(h,v,_,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(_)}catch{}}function Ci(){this.g=new _e}function Er(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Er,Be),Er.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(h,v){tt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ra,tt),r=Ra.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,lr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function yo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ni(this):lr(this),this.readyState==3&&yo(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Ni(this))},r.Na=function(h){this.g&&(this.response=h,Ni(this))},r.ga=function(){this.g&&Ni(this)};function Ni(h){h.readyState=4,h.l=null,h.j=null,h.B=null,lr(h)}r.setRequestHeader=function(h,v){this.A.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function lr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qs(h){let v="";return De(h,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function Ca(h,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=qs(_),typeof h=="string"?_!=null&&as(_):at(h,v,_))}function qt(h){tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(qt,tt);var Tr=/^https?$/i,Al=["POST","PUT"];r=qt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wr.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Na(this,Q);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)_.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Al,v,void 0)>=0)||A||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,xe]of _)this.g.setRequestHeader(Q,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Na(this,Q)}};function Na(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Rl(h),Xr(h)}function Rl(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,et(this,"complete"),et(this,"abort"),Xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ja(this):this.Xa())},r.Xa=function(){ja(this)};function ja(h){if(h.h&&typeof u<"u"){if(h.v&&cr(h)==4)setTimeout(h.Ca.bind(h),0);else if(et(h,"readystatechange"),cr(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=Q===0){let xe=String(h.D).match(X)[1]||null;!xe&&d.self&&d.self.location&&(xe=d.self.location.protocol.slice(0,-1)),A=!Tr.test(xe?xe.toLowerCase():"")}_=A}if(_)et(h,"complete"),et(h,"success");else{h.o=6;try{var G=cr(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Rl(h)}}finally{Xr(h)}}}}function Xr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,v||et(h,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function cr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return cr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ye(v)}};function Hn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Jr(h){const v={};h=(h.g&&cr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(j(h[A]))continue;var _=xr(h[A]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=v[G]||[];v[G]=Q,Q.push(_)}ze(v,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function ji(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sr("baseRetryDelayMs",5e3,h),this.Za=Sr("retryDelaySeedMs",1e4,h),this.Ta=Sr("forwardChannelMaxRetries",2,h),this.va=Sr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new We(h&&h.concurrentRequestLimit),this.Ba=new Ci,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ji.prototype,r.ka=8,r.I=1,r.connect=function(h,v,_,A){Ft(0),this.W=h,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=pu(this,null,this.W),kr(this)};function Cl(h){if(vo(h),h.I==3){var v=h.V++,_=Se(h.J);if(at(_,"SID",h.M),at(_,"RID",v),at(_,"TYPE","terminate"),Ia(h,_),v=new Bn(h,h.j,v),v.M=2,v.A=Ct(Se(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.A,_=!0),_||(v.g=gu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),os(v)}mu(h)}function Ii(h){h.g&&(jl(h),h.g.cancel(),h.g=null)}function vo(h){Ii(h),h.v&&(d.clearTimeout(h.v),h.v=null),_o(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function kr(h){if(!qe(h.h)&&!h.m){h.m=!0;var v=h.Ea;je||S(),Re||(je(),Re=!0),N.add(v,h),h.D=0}}function bo(h,v){return Pe(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=jn(y(h.Ea,h,v),fu(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Bn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=P(Q),Z(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=cu(this,G,v),_=Se(this.J),at(_,"RID",h),at(_,"CVER",22),this.G&&at(_,"X-HTTP-Session-Id",this.G),Ia(this,_),Q&&(this.R?v="headers="+as(qs(Q))+"&"+v:this.u&&Ca(_,this.u,Q)),Ze(this.h,G),this.Ra&&at(_,"TYPE","init"),this.S?(at(_,"$req",v),at(_,"SID","null"),G.U=!0,gs(G,_,null)):gs(G,_,v),this.I=2}}else this.I==3&&(h?Nl(this,h):this.i.length==0||qe(this.h)||Nl(this))};function Nl(h,v){var _;v?_=v.l:_=h.V++;const A=Se(h.J);at(A,"SID",h.M),at(A,"RID",_),at(A,"AID",h.K),Ia(h,A),h.u&&h.o&&Ca(A,h.u,h.o),_=new Bn(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),v&&(h.i=v.G.concat(h.i)),v=cu(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ze(h.h,_),gs(_,A,v)}function Ia(h,v){h.H&&De(h.H,function(_,A){at(v,A,_)}),h.l&&De({},function(_,A){at(v,A,_)})}function cu(h,v,_){_=Math.min(h.i.length,_);const A=h.l?y(h.l.Ka,h.l,h):null;e:{var G=h.i;let lt=-1;for(;;){const gn=["count="+_];lt==-1?_>0?(lt=G[0].g,gn.push("ofs="+lt)):lt=0:gn.push("ofs="+lt);let It=!0;for(let nn=0;nn<_;nn++){var Q=G[nn].g;const Hs=G[nn].map;if(Q-=lt,Q<0)lt=Math.max(0,G[nn].g-100),It=!1;else try{Q="req"+Q+"_"||"";try{var xe=Hs instanceof Map?Hs:Object.entries(Hs);for(const[Rr,ur]of xe){let hr=ur;p(ur)&&(hr=oe(ur)),gn.push(Q+Rr+"="+encodeURIComponent(hr))}}catch(Rr){throw gn.push(Q+"type="+encodeURIComponent("_badmap")),Rr}}catch{A&&A(Hs)}}if(It){xe=gn.join("&");break e}}xe=void 0}return h=h.i.splice(0,_),v.G=h,xe}function uu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;je||S(),Re||(je(),Re=!0),N.add(v,h),h.A=0}}function Da(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=jn(y(h.Da,h),fu(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=jn(y(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Ii(this),hu(this))};function jl(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function hu(h){h.g=new Bn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Se(h.na);at(v,"RID","rpc"),at(v,"SID",h.M),at(v,"AID",h.K),at(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&at(v,"TO",h.ia),at(v,"TYPE","xmlhttp"),Ia(h,v),h.u&&h.o&&Ca(v,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=Ct(Se(v)),_.u=null,_.R=!0,Fn(_,h)}r.Va=function(){this.C!=null&&(this.C=null,Ii(this),Da(this),Ft(19))};function _o(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function du(h,v){var _=null;if(h.g==v){_o(h),jl(h),h.g=null;var A=2}else if(pt(h.h,v))_=v.G,L(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;A=Kt(),et(A,new Un(A,_)),kr(h)}else uu(h);else if(G=v.m,G==3||G==0&&v.X>0||!(A==1&&bo(h,v)||A==2&&Da(h)))switch(_&&_.length>0&&(v=h.h,v.i=v.i.concat(_)),G){case 1:Ar(h,5);break;case 4:Ar(h,10);break;case 3:Ar(h,6);break;default:Ar(h,2)}}}function fu(h,v){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*v}function Ar(h,v){if(h.j.info("Error code "+v),v==2){var _=y(h.bb,h),A=h.Ua;const G=!A;A=new be(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(A,"https"),Ct(A),G?or(A.toString(),_):kl(A.toString(),_)}else Ft(2);h.I=0,h.l&&h.l.pa(v),mu(h),vo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function mu(h){if(h.I=0,h.ja=[],h.l){const v=ne(h.h);(v.length!=0||h.i.length!=0)&&(q(h.ja,v),q(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function pu(h,v,_){var A=_ instanceof be?Se(_):new be(_);if(A.g!="")v&&(A.g=v+"."+A.g),st(A,A.u);else{var G=d.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const Q=new be(null);A&&Ve(Q,A),v&&(Q.g=v),G&&st(Q,G),_&&(Q.h=_),A=Q}return _=h.G,v=h.wa,_&&v&&at(A,_,v),at(A,"VER",h.ka),Ia(h,A),A}function gu(h,v,_){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new qt(new Er({ab:_})):new qt(h.ma),v.Fa(h.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Di(){}Di.prototype.g=function(h,v){return new us(h,v)};function us(h,v){tt.call(this),this.g=new ji(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Zr(this)}x(us,tt),us.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},us.prototype.close=function(){Cl(this.g)},us.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=oe(h),h=_);v.i.push(new re(v.Ya++,h)),v.I==3&&kr(v)},us.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,us.Z.N.call(this)};function vu(h){Me.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(vu,Me);function bu(){Le.call(this),this.status=1}x(bu,Le);function Zr(h){this.g=h}x(Zr,yu),Zr.prototype.ra=function(){et(this.g,"a")},Zr.prototype.qa=function(h){et(this.g,new vu(h))},Zr.prototype.pa=function(h){et(this.g,new bu)},Zr.prototype.oa=function(){et(this.g,"b")},Di.prototype.createWebChannel=Di.prototype.g,us.prototype.send=us.prototype.o,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,Ow=function(){return new Di},Pw=function(){return Kt()},Mw=Fe,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,Bh=Bs,Ai.COMPLETE="complete",Dw=Ai,Ce.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Ec=Ce,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,Iw=qt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});class ss{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ss.UNAUTHENTICATED=new ss(null),ss.GOOGLE_CREDENTIALS=new ss("google-credentials-uid"),ss.FIRST_PARTY=new ss("first-party-uid"),ss.MOCK_USER=new ss("mock-user");let _l="12.8.0";function $C(r){_l=r}const ro=new Zp("@firebase/firestore");function Jo(){return ro.logLevel}function Ne(r,...e){if(ro.logLevel<=vt.DEBUG){const n=e.map(dg);ro.debug(`Firestore (${_l}): ${r}`,...n)}}function Ei(r,...e){if(ro.logLevel<=vt.ERROR){const n=e.map(dg);ro.error(`Firestore (${_l}): ${r}`,...n)}}function ul(r,...e){if(ro.logLevel<=vt.WARN){const n=e.map(dg);ro.warn(`Firestore (${_l}): ${r}`,...n)}}function dg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Xe(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Lw(r,i,n)}function Lw(r,e,n){let i=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ei(i),new Error(i)}function Pt(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Lw(e,o,i)}function it(r,e){return r}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Vw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ss.UNAUTHENTICATED)))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pt(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new bi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new bi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt(typeof i.accessToken=="string",31837,{l:i}),new Vw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new ss(e)}}class XC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=ss.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ss.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pt(this.o===void 0,3512);const i=u=>{u.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=eN(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function bt(r,e){return r<e?-1:r>e?1:0}function Ep(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return Km(o)===Km(u)?bt(o,u):Km(o)?1:-1}return bt(r.length,e.length)}const tN=55296,nN=57343;function Km(r){const e=r.charCodeAt(0);return e>=tN&&e<=nN}function hl(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const h_="__name__";class Dr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Xe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Dr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return bt(e.length,n.length)}static compareSegments(e,n){const i=Dr.isNumericId(e),o=Dr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Dr.extractNumericId(e).compare(Dr.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class Xt extends Dr{construct(e,n,i){return new Xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const sN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Dr{construct(e,n,i){return new Qn(e,n,i)}static isValidIdentifier(e){return sN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new Qn([h_])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(i+=p,o++):(u(),o++)}if(u(),d)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Xt.fromString(e))}static fromName(e){return new Ge(Xt.fromString(e).popFirst(5))}static empty(){return new Ge(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Xt(e.slice()))}}function Uw(r,e,n){if(!n)throw new Ae(de.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rN(r,e,n,i){if(e===!0&&i===!0)throw new Ae(de.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function d_(r){if(!Ge.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f_(r){if(Ge.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Xe(12329,{type:typeof r})}function vr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wd(r);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nn(r,e){const n={typeString:r};return e&&(n.value=e),n}function nu(r,e){if(!Bw(r))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const d=r[i];if(o&&typeof d!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new Ae(de.INVALID_ARGUMENT,n);return!0}const m_=-62135596800,p_=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*p_);return new ot(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Nn("string",ot._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new ot(0,0))}static max(){return new nt(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uc=-1;function iN(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(i===1e9?new ot(n+1,0):new ot(n,i));return new pa(o,Ge.empty(),e)}function aN(r){return new pa(r.readTime,r.key,Uc)}class pa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pa(nt.min(),Ge.empty(),Uc)}static max(){return new pa(nt.max(),Ge.empty(),Uc)}}function oN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(r.documentKey,e.documentKey),n!==0?n:bt(r.largestBatchId,e.largestBatchId))}const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wl(r){if(r.code!==de.FAILED_PRECONDITION||r.message!==lN)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,i)=>{n(e)}))}static reject(e){return new pe(((n,i)=>{i(e)}))}static waitFor(e){return new pe(((n,i)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(g=>i(g)))})),d=!0,u===o&&n()}))}static or(e){let n=pe.resolve(!1);for(const i of e)n=n.next((o=>o?pe.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new pe(((i,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((w=>{d[y]=w,++p,p===u&&i(d)}),(w=>o(w)))}}))}static doWhile(e,n){return new pe(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function uN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(r){return r.name==="IndexedDbTransactionError"}class xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xd.ce=-1;const mg=-1;function Ed(r){return r==null}function sd(r){return r===0&&1/r==-1/0}function hN(r){return typeof r=="number"&&Number.isInteger(r)&&!sd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const zw="";function dN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=g_(e)),e=fN(r.get(n),e);return g_(e)}function fN(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case zw:n+="";break;default:n+=u}}return n}function g_(r){return r+zw+""}function y_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ea(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Fw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class hn{constructor(e,n){this.comparator=e,this.root=n||Yn.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Yn.RED,this.left=o??Yn.EMPTY,this.right=u??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Yn(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ps{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Ps([])}unionWith(e){let n=new Dn(Qn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ps(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qw("Invalid base64 string: "+u):u}})(e);return new Xn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const mN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const n=mN.exec(r);if(Pt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_n(r.seconds),nanos:_n(r.nanos)}}function _n(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ya(r){return typeof r=="string"?Xn.fromBase64String(r):Xn.fromUint8Array(r)}const Hw="server_timestamp",Gw="__type__",Ww="__previous_value__",$w="__local_write_time__";function pg(r){return(r?.mapValue?.fields||{})[Gw]?.stringValue===Hw}function Td(r){const e=r.mapValue.fields[Ww];return pg(e)?Td(e):e}function Bc(r){const e=ga(r.mapValue.fields[$w].timestampValue);return new ot(e.seconds,e.nanos)}class pN{constructor(e,n,i,o,u,d,p,g,y,w,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w,this.apiKey=x}}const rd="(default)";class zc{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}function gN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(r.options.projectId,e)}const Kw="__type__",yN="__max__",Ah={mapValue:{}},Yw="__vector__",id="value";function va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pg(r)?4:bN(r)?9007199254740991:vN(r)?10:11:Xe(28295,{value:r})}function Fr(r,e){if(r===e)return!0;const n=va(r);if(n!==va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ga(o.timestampValue),p=ga(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ya(o.bytesValue).isEqual(ya(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _n(o.geoPointValue.latitude)===_n(u.geoPointValue.latitude)&&_n(o.geoPointValue.longitude)===_n(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _n(o.integerValue)===_n(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_n(o.doubleValue),p=_n(u.doubleValue);return d===p?sd(d)===sd(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return hl(r.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(y_(d)!==y_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Fr(d[g],p[g])))return!1;return!0})(r,e);default:return Xe(52216,{left:r})}}function Fc(r,e){return(r.values||[]).find((n=>Fr(n,e)))!==void 0}function dl(r,e){if(r===e)return 0;const n=va(r),i=va(e);if(n!==i)return bt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=_n(u.integerValue||u.doubleValue),g=_n(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return b_(r.timestampValue,e.timestampValue);case 4:return b_(Bc(r),Bc(e));case 5:return Ep(r.stringValue,e.stringValue);case 6:return(function(u,d){const p=ya(u),g=ya(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=bt(p[y],g[y]);if(w!==0)return w}return bt(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=bt(_n(u.latitude),_n(d.latitude));return p!==0?p:bt(_n(u.longitude),_n(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return __(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[id]?.arrayValue,w=g[id]?.arrayValue,x=bt(y?.values?.length||0,w?.values?.length||0);return x!==0?x:__(y,w)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Ah.mapValue&&d===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(d===Ah.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let x=0;x<g.length&&x<w.length;++x){const T=Ep(g[x],w[x]);if(T!==0)return T;const O=dl(p[g[x]],y[w[x]]);if(O!==0)return O}return bt(g.length,w.length)})(r.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function b_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return bt(r,e);const n=ga(r),i=ga(e),o=bt(n.seconds,i.seconds);return o!==0?o:bt(n.nanos,i.nanos)}function __(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=dl(n[o],i[o]);if(u)return u}return bt(n.length,i.length)}function fl(r){return Tp(r)}function Tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=ga(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ya(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Tp(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of i)u?u=!1:o+=",",o+=`${d}:${Tp(n.fields[d])}`;return o+"}"})(r.mapValue):Xe(61005,{value:r})}function zh(r){switch(va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(r);return e?16+zh(e):16;case 5:return 2*r.stringValue.length;case 6:return ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+zh(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ea(i.fields,((u,d)=>{o+=u.length+zh(d)})),o})(r.mapValue);default:throw Xe(13486,{value:r})}}function w_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sp(r){return!!r&&"integerValue"in r}function gg(r){return!!r&&"arrayValue"in r}function x_(r){return!!r&&"nullValue"in r}function E_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fh(r){return!!r&&"mapValue"in r}function vN(r){return(r?.mapValue?.fields||{})[Kw]?.stringValue===Yw}function jc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ea(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=jc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(r.arrayValue.values[n]);return e}return{...r}}function bN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yN}class Ts{constructor(e){this.value=e}static empty(){return new Ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=Qn.emptyPath(),i={},o=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}d?i[p.lastSegment()]=jc(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ea(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Ts(jc(this.value))}}function Qw(r){const e=[];return Ea(r.fields,((n,i)=>{const o=new Qn([n]);if(Fh(i)){const u=Qw(i.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Ps(e)}class rs{constructor(e,n,i,o,u,d,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new rs(e,0,nt.min(),nt.min(),nt.min(),Ts.empty(),0)}static newFoundDocument(e,n,i,o){return new rs(e,1,n,nt.min(),i,o,0)}static newNoDocument(e,n){return new rs(e,2,n,nt.min(),nt.min(),Ts.empty(),0)}static newUnknownDocument(e,n){return new rs(e,3,n,nt.min(),nt.min(),Ts.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ad{constructor(e,n){this.position=e,this.inclusive=n}}function T_(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?i=Ge.comparator(Ge.fromName(d.referenceValue),n.key):i=dl(d,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function S_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Fr(r.position[n],e.position[n]))return!1;return!0}class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _N(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Xw{}class Cn extends Xw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xN(e,n,i):n==="array-contains"?new SN(e,i):n==="in"?new kN(e,i):n==="not-in"?new AN(e,i):n==="array-contains-any"?new RN(e,i):new Cn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new EN(e,i):new TN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&va(this.value)===va(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Xw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new br(e,n)}matches(e){return Jw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jw(r){return r.op==="and"}function Zw(r){return wN(r)&&Jw(r)}function wN(r){for(const e of r.filters)if(e instanceof br)return!1;return!0}function kp(r){if(r instanceof Cn)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(Zw(r))return r.filters.map((e=>kp(e))).join(",");{const e=r.filters.map((n=>kp(n))).join(",");return`${r.op}(${e})`}}function e2(r,e){return r instanceof Cn?(function(i,o){return o instanceof Cn&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)})(r,e):r instanceof br?(function(i,o){return o instanceof br&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,d,p)=>u&&e2(d,o.filters[p])),!0):!1})(r,e):void Xe(19439)}function t2(r){return r instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`})(r):r instanceof br?(function(n){return n.op.toString()+" {"+n.getFilters().map(t2).join(" ,")+"}"})(r):"Filter"}class xN extends Cn{constructor(e,n,i){super(e,n,i),this.key=Ge.fromName(i.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class EN extends Cn{constructor(e,n){super(e,"in",n),this.keys=n2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TN extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=n2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function n2(r,e){return(e.arrayValue?.values||[]).map((n=>Ge.fromName(n.referenceValue)))}class SN extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&Fc(n.arrayValue,this.value)}}class kN extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class AN extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class RN extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Fc(this.value.arrayValue,i)))}}class CN{constructor(e,n=null,i=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function k_(r,e=null,n=[],i=[],o=null,u=null,d=null){return new CN(r,e,n,i,o,u,d)}function yg(r){const e=it(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>kp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>fl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>fl(i))).join(",")),e.Te=n}return e.Te}function vg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_N(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!e2(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!S_(r.startAt,e.startAt)&&S_(r.endAt,e.endAt)}function Ap(r){return Ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class El{constructor(e,n=null,i=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NN(r,e,n,i,o,u,d,p){return new El(r,e,n,i,o,u,d,p)}function bg(r){return new El(r)}function A_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jN(r){return Ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function s2(r){return r.collectionGroup!==null}function Ic(r){const e=it(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Dn(Qn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qc(u,i))})),n.has(Qn.keyField().canonicalString())||e.Ie.push(new qc(Qn.keyField(),i))}return e.Ie}function Ur(r){const e=it(r);return e.Ee||(e.Ee=IN(e,Ic(r))),e.Ee}function IN(r,e){if(r.limitType==="F")return k_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qc(o.field,u)}));const n=r.endAt?new ad(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ad(r.startAt.position,r.startAt.inclusive):null;return k_(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Rp(r,e){const n=r.filters.concat([e]);return new El(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function DN(r,e){const n=r.explicitOrderBy.concat([e]);return new El(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Cp(r,e,n){return new El(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sd(r,e){return vg(Ur(r),Ur(e))&&r.limitType===e.limitType}function r2(r){return`${yg(Ur(r))}|lt:${r.limitType}`}function Zo(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>t2(o))).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>fl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>fl(o))).join(",")),`Target(${i})`})(Ur(r))}; limitType=${r.limitType})`}function kd(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Ge.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of Ic(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(d,p,g){const y=T_(d,p,g);return d.inclusive?y<=0:y<0})(i.startAt,Ic(i),o)||i.endAt&&!(function(d,p,g){const y=T_(d,p,g);return d.inclusive?y>=0:y>0})(i.endAt,Ic(i),o))})(r,e)}function MN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function i2(r){return(e,n)=>{let i=!1;for(const o of Ic(r)){const u=PN(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function PN(r,e,n){const i=r.field.isKeyField()?Ge.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?dl(g,y):Xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Xe(19790,{direction:r.dir})}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return Fw(this.inner)}size(){return this.innerSize}}const ON=new hn(Ge.comparator);function Ti(){return ON}const a2=new hn(Ge.comparator);function Tc(...r){let e=a2;for(const n of r)e=e.insert(n.key,n);return e}function o2(r){let e=a2;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Xa(){return Dc()}function l2(){return Dc()}function Dc(){return new uo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const LN=new hn(Ge.comparator),VN=new Dn(Ge.comparator);function _t(...r){let e=VN;for(const n of r)e=e.add(n);return e}const UN=new Dn(bt);function BN(){return UN}function _g(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function c2(r){return{integerValue:""+r}}function zN(r,e){return hN(e)?c2(e):_g(r,e)}class Ad{constructor(){this._=void 0}}function FN(r,e,n){return r instanceof od?(function(o,u){const d={fields:{[Gw]:{stringValue:Hw},[$w]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pg(u)&&(u=Td(u)),u&&(d.fields[Ww]=u),{mapValue:d}})(n,e):r instanceof Hc?h2(r,e):r instanceof Gc?d2(r,e):(function(o,u){const d=u2(o,u),p=R_(d)+R_(o.Ae);return Sp(d)&&Sp(o.Ae)?c2(p):_g(o.serializer,p)})(r,e)}function qN(r,e,n){return r instanceof Hc?h2(r,e):r instanceof Gc?d2(r,e):n}function u2(r,e){return r instanceof ld?(function(i){return Sp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class od extends Ad{}class Hc extends Ad{constructor(e){super(),this.elements=e}}function h2(r,e){const n=f2(e);for(const i of r.elements)n.some((o=>Fr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Gc extends Ad{constructor(e){super(),this.elements=e}}function d2(r,e){let n=f2(e);for(const i of r.elements)n=n.filter((o=>!Fr(o,i)));return{arrayValue:{values:n}}}class ld extends Ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function R_(r){return _n(r.integerValue||r.doubleValue)}function f2(r){return gg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function HN(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Hc&&o instanceof Hc||i instanceof Gc&&o instanceof Gc?hl(i.elements,o.elements,Fr):i instanceof ld&&o instanceof ld?Fr(i.Ae,o.Ae):i instanceof od&&o instanceof od})(r.transform,e.transform)}class GN{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rd{}function m2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wg(r.key,er.none()):new su(r.key,r.data,er.none());{const n=r.data,i=Ts.empty();let o=new Dn(Qn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?i.delete(u):i.set(u,d),o=o.add(u)}return new Ta(r.key,i,new Ps(o.toArray()),er.none())}}function WN(r,e,n){r instanceof su?(function(o,u,d){const p=o.value.clone(),g=N_(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ta?(function(o,u,d){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=N_(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(p2(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Mc(r,e,n,i){return r instanceof su?(function(u,d,p,g){if(!qh(u.precondition,d))return p;const y=u.value.clone(),w=j_(u.fieldTransforms,g,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Ta?(function(u,d,p,g){if(!qh(u.precondition,d))return p;const y=j_(u.fieldTransforms,g,d),w=d.data;return w.setAll(p2(u)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(r,e,n,i):(function(u,d,p){return qh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function $N(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=u2(i.transform,o||null);u!=null&&(n===null&&(n=Ts.empty()),n.set(i.field,u))}return n||null}function C_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&hl(i,o,((u,d)=>HN(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Rd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends Rd{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p2(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function N_(r,e,n){const i=new Map;Pt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);i.set(u.field,qN(d,p,n[o]))}return i}function j_(r,e,n){const i=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);i.set(o.field,FN(u,d,e))}return i}class wg extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&WN(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=l2();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const g=m2(d,p);g!==null&&i.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(nt.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),_t())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,i)=>C_(n,i)))&&hl(this.baseMutations,e.baseMutations,((n,i)=>C_(n,i)))}}class xg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Pt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return LN})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new xg(e,n,i,o)}}class QN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rn,kt;function JN(r){switch(r){case de.OK:return Xe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Xe(15467,{code:r})}}function g2(r){if(r===void 0)return Ei("GRPC error has no .code"),de.UNKNOWN;switch(r){case Rn.OK:return de.OK;case Rn.CANCELLED:return de.CANCELLED;case Rn.UNKNOWN:return de.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return de.INTERNAL;case Rn.UNAVAILABLE:return de.UNAVAILABLE;case Rn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Rn.NOT_FOUND:return de.NOT_FOUND;case Rn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Rn.ABORTED:return de.ABORTED;case Rn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Rn.DATA_LOSS:return de.DATA_LOSS;default:return Xe(39323,{code:r})}}(kt=Rn||(Rn={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function ZN(){return new TextEncoder}const e4=new ha([4294967295,4294967295],0);function I_(r){const e=ZN().encode(r),n=new jw;return n.update(e),new Uint8Array(n.digest())}function D_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ha([n,i],0),new ha([o,u],0)]}class Eg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ha.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(ha.fromNumber(i)));return o.compare(e4)===1&&(o=new ha([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=I_(e),[i,o]=D_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);if(!this.we(d))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Eg(u,o,n);return i.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=I_(e),[i,o]=D_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(i,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cd(nt.min(),o,new hn(bt),Ti(),_t())}}class ru{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ru(i,n,_t(),_t(),_t())}}class Hh{constructor(e,n,i,o){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=o}}class y2{constructor(e,n){this.targetId=e,this.Ce=n}}class v2{constructor(e,n,i=Xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class M_{constructor(){this.ve=0,this.Fe=P_(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_t(),n=_t(),i=_t();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Xe(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=P_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class t4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=Rh(),this.Je=Rh(),this.Ze=new hn(bt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ap(u))if(i===0){const d=new Ge(u.path);this.et(n,d,rs.newNoDocument(d,nt.min()))}else Pt(i===1,20013,{expectedCount:i});else{const d=this._t(n);if(d!==i){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=ya(i).toUint8Array()}catch(g){if(g instanceof qw)return ul("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Eg(d,o,u)}catch(g){return ul(g instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Ap(p.target)){const g=new Ge(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,rs.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let i=_t();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Cd(e,n,this.Ze,this.je,i);return this.je=Ti(),this.He=Rh(),this.Je=Rh(),this.Ze=new hn(bt),o}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new M_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Dn(bt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Dn(bt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new hn(Ge.comparator)}function P_(){return new hn(Ge.comparator)}const n4={asc:"ASCENDING",desc:"DESCENDING"},s4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class i4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(r,e){return r.useProto3Json||Ed(e)?e:{value:e}}function cd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function a4(r,e){return cd(r,e.toTimestamp())}function Br(r){return Pt(!!r,49232),nt.fromTimestamp((function(n){const i=ga(n);return new ot(i.seconds,i.nanos)})(r))}function Tg(r,e){return jp(r,e).canonicalString()}function jp(r,e){const n=(function(o){return new Xt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function _2(r){const e=Xt.fromString(r);return Pt(S2(e),10190,{key:e.toString()}),e}function Ip(r,e){return Tg(r.databaseId,e.path)}function Ym(r,e){const n=_2(e);if(n.get(1)!==r.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ge(x2(n))}function w2(r,e){return Tg(r.databaseId,e)}function o4(r){const e=_2(r);return e.length===4?Xt.emptyPath():x2(e)}function Dp(r){return new Xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x2(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function O_(r,e,n){return{name:Ip(r,e),fields:n.value.mapValue.fields}}function l4(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(Pt(w===void 0||typeof w=="string",58123),Xn.fromBase64String(w||"")):(Pt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Xn.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const w=y.code===void 0?de.UNKNOWN:g2(y.code);return new Ae(w,y.message||"")})(d);n=new v2(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ym(r,i.document.name),u=Br(i.document.updateTime),d=i.document.createTime?Br(i.document.createTime):nt.min(),p=new Ts({mapValue:{fields:i.document.fields}}),g=rs.newFoundDocument(o,u,d,p),y=i.targetIds||[],w=i.removedTargetIds||[];n=new Hh(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ym(r,i.document),u=i.readTime?Br(i.readTime):nt.min(),d=rs.newNoDocument(o,u),p=i.removedTargetIds||[];n=new Hh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ym(r,i.document),u=i.removedTargetIds||[];n=new Hh([],u,o,null)}else{if(!("filter"in e))return Xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,d=new XN(o,u),p=i.targetId;n=new y2(p,d)}}return n}function c4(r,e){let n;if(e instanceof su)n={update:O_(r,e.key,e.value)};else if(e instanceof wg)n={delete:Ip(r,e.key)};else if(e instanceof Ta)n={update:O_(r,e.key,e.data),updateMask:v4(e.fieldMask)};else{if(!(e instanceof KN))return Xe(16599,{dt:e.type});n={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,d){const p=d.transform;if(p instanceof od)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ld)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Xe(20930,{transform:d.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:a4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Xe(27497)})(r,e.precondition)),n}function u4(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Br(o.updateTime):Br(u);return d.isEqual(nt.min())&&(d=Br(u)),new GN(d,o.transformResults||[])})(n,e)))):[]}function h4(r,e){return{documents:[w2(r,e.path)]}}function d4(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=w2(r,o);const u=(function(y){if(y.length!==0)return T2(br.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((w=>(function(T){return{field:el(T.field),direction:p4(T.dir)}})(w)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Np(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function f4(r){let e=o4(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Pt(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(x){const T=E2(x);return T instanceof br&&Zw(T)?T.getFilters():[T]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((T=>(function(q){return new qc(tl(q.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(x){let T;return T=typeof x=="object"?x.value:x,Ed(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(x){const T=!!x.before,O=x.values||[];return new ad(O,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const T=!x.before,O=x.values||[];return new ad(O,T)})(n.endAt)),NN(e,o,d,u,p,"F",g,y)}function m4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=tl(n.unaryFilter.field);return Cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(n.unaryFilter.field);return Cn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tl(n.unaryFilter.field);return Cn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(n.unaryFilter.field);return Cn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Cn.create(tl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return br.create(n.compositeFilter.filters.map((i=>E2(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(r):Xe(30097,{filter:r})}function p4(r){return n4[r]}function g4(r){return s4[r]}function y4(r){return r4[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return Qn.fromServerFormat(r.fieldPath)}function T2(r){return r instanceof Cn?(function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:g4(n.op),value:n.value}}})(r):r instanceof br?(function(n){const i=n.getFilters().map((o=>T2(o)));return i.length===1?i[0]:{compositeFilter:{op:y4(n.op),filters:i}}})(r):Xe(54877,{filter:r})}function v4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function S2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function k2(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class la{constructor(e,n,i,o,u=nt.min(),d=nt.min(),p=Xn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class b4{constructor(e){this.yt=e}}function _4(r){const e=f4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Cp(e,e.limit,"L"):e}class w4{constructor(){this.Sn=new x4}addToCollectionParentIndex(e,n){return this.Sn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(pa.min())}updateCollectionGroup(e,n,i){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class x4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Dn(Xt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Dn(Xt.comparator)).toArray()}}const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A2=41943040;class Es{static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(A2,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class ml{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ml(0)}static ar(){return new ml(-1)}}const V_="LruGarbageCollector",E4=1048576;function U_([r,e],[n,i]){const o=bt(r,n);return o===0?bt(e,i):o}class T4{constructor(e){this.Pr=e,this.buffer=new Dn(U_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();U_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ne(V_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?Ne(V_,"Ignoring IndexedDB error during garbage collection: ",n):await wl(n)}await this.Ar(3e5)}))}}class k4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(xd.ce);const i=new T4(n);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(L_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,o,u,d,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(i=x,p=Date.now(),this.removeTargets(e,i,n)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(y=Date.now(),Jo()<=vt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function A4(r,e){return new k4(r,e)}class R4{constructor(){this.changes=new uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?pe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class N4{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Mc(i.mutation,o,Ps.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,_t()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=_t()){const o=Xa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let d=Tc();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const i=Xa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,_t())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,i,o){let u=Ti();const d=Dc(),p=(function(){return Dc()})();return n.forEach(((g,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ta)?u=u.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Mc(w.mutation,y,w.mutation.getFieldMask(),ot.now())):d.set(y.key,Ps.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,w)=>d.set(y,w))),n.forEach(((y,w)=>p.set(y,new C4(w,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Dc();let o=new hn(((d,p)=>d-p)),u=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let w=i.get(g)||Ps.empty();w=p.applyToLocalView(y,w),i.set(g,w);const x=(o.get(p.batchId)||_t()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,x=l2();w.forEach((T=>{if(!u.has(T)){const O=m2(n.get(T),i.get(T));O!==null&&x.set(T,O),u=u.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return pe.waitFor(d)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return jN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):pe.resolve(Xa());let p=Uc,g=u;return d.next((y=>pe.forEach(y,((w,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(w)?pe.resolve():this.remoteDocumentCache.getEntry(e,w).next((T=>{g=g.insert(w,T)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,_t()))).next((w=>({batchId:p,changes:o2(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((i=>{let o=Tc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let d=Tc();return this.indexManager.getCollectionParents(e,u).next((p=>pe.forEach(p,(g=>{const y=(function(x,T){return new El(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((x,T)=>{d=d.insert(x,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((d=>{u.forEach(((g,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,rs.newInvalidDocument(w)))}));let p=Tc();return d.forEach(((g,y)=>{const w=u.get(g);w!==void 0&&Mc(w.mutation,y,Ps.empty(),ot.now()),kd(n,y)&&(p=p.insert(g,y))})),p}))}}class j4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Br(o.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:_4(o.bundledQuery),readTime:Br(o.readTime)}})(n)),pe.resolve()}}class I4{constructor(){this.overlays=new hn(Ge.comparator),this.Lr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Xa();return pe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.bt(e,n,u)})),pe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Lr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(i)),pe.resolve()}getOverlaysForCollection(e,n,i){const o=Xa(),u=n.length+1,d=new Ge(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new hn(((y,w)=>y-w));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let w=u.get(y.largestBatchId);w===null&&(w=Xa(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Xa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return pe.resolve(p)}bt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(i.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new QN(n,i));let u=this.Lr.get(n);u===void 0&&(u=_t(),this.Lr.set(n,u)),this.Lr.set(n,u.add(i.key))}}class D4{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}class Sg{constructor(){this.kr=new Dn(On.Kr),this.qr=new Dn(On.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new On(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new On(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Ge(new Xt([])),i=new On(n,e),o=new On(n,e+1),u=[];return this.qr.forEachInRange([i,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ge(new Xt([])),i=new On(n,e),o=new On(n,e+1);let u=_t();return this.qr.forEachInRange([i,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new On(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class On{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ge.comparator(e.key,n.key)||bt(e.Hr,n.Hr)}static Ur(e,n){return bt(e.Hr,n.Hr)||Ge.comparator(e.key,n.key)}}class M4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Dn(On.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YN(u,n,i,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new On(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return pe.resolve(d)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Xr(i),u=o<0?0:o;return pe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?mg:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new On(n,0),o=new On(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([i,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Dn(bt);return n.forEach((o=>{const u=new On(o,0),d=new On(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{i=i.add(p.Hr)}))})),pe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;Ge.isDocumentKey(u)||(u=u.child(""));const d=new On(new Ge(u),0);let p=new Dn(bt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),d),pe.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Pt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return pe.forEach(n.mutations,(o=>{const u=new On(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new On(n,0),o=this.Jr.firstAfterOrEqual(i);return pe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class P4{constructor(e){this.ti=e,this.docs=(function(){return new hn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return pe.resolve(i?i.document.mutableCopy():rs.newInvalidDocument(n))}getEntries(e,n){let i=Ti();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():rs.newInvalidDocument(o))})),pe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Ti();const d=n.path,p=new Ge(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||oN(aN(w),i)<=0||(o.has(w.key)||kd(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return pe.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Xe(9500)}ni(e,n){return pe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new O4(this)}getSize(e){return pe.resolve(this.size)}}class O4 extends R4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(i)})),pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class L4{constructor(e){this.persistence=e,this.ri=new uo((n=>yg(n)),vg),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.ii=0,this.si=new Sg,this.targetCount=0,this.oi=ml._r()}forEachTarget(e,n){return this.ri.forEach(((i,o)=>n(o))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.lr(n),pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),pe.waitFor(u).next((()=>o))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return pe.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),pe.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),pe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return pe.resolve(i)}containsKey(e,n){return pe.resolve(this.si.containsKey(n))}}class R2{constructor(e,n){this._i={},this.overlays={},this.ai=new xd(0),this.ui=!1,this.ui=!0,this.ci=new D4,this.referenceDelegate=e(this),this.li=new L4(this),this.indexManager=new w4,this.remoteDocumentCache=(function(o){return new P4(o)})((i=>this.referenceDelegate.hi(i))),this.serializer=new b4(n),this.Pi=new j4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new M4(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){Ne("MemoryPersistence","Starting transaction:",e);const o=new V4(this.ai.next());return this.referenceDelegate.Ti(),i(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return pe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class V4 extends cN{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.Ri=new Sg,this.Ai=null}static Vi(e){return new kg(e)}get di(){if(this.Ai)return this.Ai;throw Xe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),pe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,(i=>{const o=Ge.fromPath(i);return this.mi(e,o).next((u=>{u||n.removeEntry(o,nt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ud{constructor(e,n){this.persistence=e,this.fi=new uo((i=>dN(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=A4(this,n)}static Vi(e,n){return new ud(e,n)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return pe.forEach(this.fi,((i,o)=>this.wr(e,i,o).next((u=>u?pe.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((p=>{p||(i++,u.removeEntry(d,nt.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}wr(e,n,i){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return pe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ag{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=o}static Es(e,n){let i=_t(),o=_t();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(e,n.fromCache,i,o)}}class U4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class B4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fk()?8:uN(is())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,i).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new U4;return this.ys(e,n,d).next((p=>{if(u.result=p,this.As)return this.ws(e,n,d,p.size)}))})).next((()=>u.result))}ws(e,n,i,o){return i.documentReadCount<this.Vs?(Jo()<=vt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(Jo()<=vt.DEBUG&&Ne("QueryEngine","Query:",Zo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Jo()<=vt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):pe.resolve())}gs(e,n){if(A_(n))return pe.resolve(null);let i=Ur(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Cp(n,null,"F"),i=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const d=_t(...u);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,d,g.readTime)?this.gs(e,Cp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,i,o){return A_(n)||o.isEqual(nt.min())?pe.resolve(null):this.fs.getDocuments(e,i).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,i,o)?pe.resolve(null):(Jo()<=vt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(n)),this.Ds(e,d,n,iN(o,Uc)).next((p=>p)))}))}bs(e,n){let i=new Dn(i2(e));return n.forEach(((o,u)=>{kd(e,u)&&(i=i.add(u))})),i}Ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,i){return Jo()<=vt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.fs.getDocumentsMatchingQuery(e,n,pa.min(),i)}Ds(e,n,i,o){return this.fs.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Rg="LocalStore",z4=3e8;class F4{constructor(e,n,i,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new hn(bt),this.Fs=new uo((u=>yg(u)),vg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function q4(r,e,n,i){return new F4(r,e,n,i)}async function C2(r,e){const n=it(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const d=[],p=[];let g=_t();for(const y of o){d.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function H4(r,e){const n=it(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const x=y.batch,T=x.keys();let O=pe.resolve();return T.forEach((q=>{O=O.next((()=>w.getEntry(g,q))).next((H=>{const z=y.docVersions.get(q);Pt(z!==null,48541),H.version.compareTo(z)<0&&(x.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),w.addEntry(H)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=_t();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function N2(r){const e=it(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function G4(r,e){const n=it(r),i=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((w,x)=>{const T=o.get(x);if(!T)return;p.push(n.li.removeMatchingKeys(u,w.removedDocuments,x).next((()=>n.li.addMatchingKeys(u,w.addedDocuments,x))));let O=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?O=O.withResumeToken(Xn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),o=o.insert(x,O),(function(H,z,ce){return H.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=z4?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(T,O,w)&&p.push(n.li.updateTargetData(u,O))}));let g=Ti(),y=_t();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(W4(u,d,e.documentUpdates).next((w=>{g=w.Bs,y=w.Ls}))),!i.isEqual(nt.min())){const w=n.li.getLastRemoteSnapshotVersion(u).next((x=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(w)}return pe.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function W4(r,e,n){let i=_t(),o=_t();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let d=Ti();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(nt.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):Ne(Rg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function $4(r,e){const n=it(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function K4(r,e){const n=it(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.li.getTargetData(i,e).next((u=>u?(o=u,pe.resolve(o)):n.li.allocateTargetId(i).next((d=>(o=new la(e,d,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.vs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Mp(r,e,n){const i=it(r),o=i.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xl(d))throw d;Ne(Rg,`Failed to update sequence numbers for target ${e}: ${d}`)}i.vs=i.vs.remove(e),i.Fs.delete(o.target)}function B_(r,e,n){const i=it(r);let o=nt.min(),u=_t();return i.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,w){const x=it(g),T=x.Fs.get(w);return T!==void 0?pe.resolve(x.vs.get(T)):x.li.getTargetData(y,w)})(i,d,Ur(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(d,e,n?o:nt.min(),n?u:_t()))).next((p=>(Y4(i,MN(e),p),{documents:p,ks:u})))))}function Y4(r,e,n){let i=r.Ms.get(e)||nt.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Ms.set(e,i)}class z_{constructor(){this.activeTargetIds=BN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q4{constructor(){this.vo=new z_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new z_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X4{Mo(e){}shutdown(){}}const F_="ConnectivityMonitor";class q_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ne(F_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ne(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ch=null;function Pp(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}const Qm="RestConnection",J4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Z4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.$o=this.databaseId.database===rd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,n,i,o,u){const d=Pp(),p=this.Qo(e,n.toUriEncodedString());Ne(Qm,`Sending RPC '${e}' ${d}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),w=wa(y);return this.zo(e,p,g,i,w).then((x=>(Ne(Qm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw ul(Qm,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",i),x}))}jo(e,n,i,o,u,d){return this.Wo(e,n,i,o,u)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const i=J4[e];let o=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class ej{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ns="WebChannelConnection",yc=(r,e,n)=>{r.listen(e,(i=>{try{n(i)}catch(o){setTimeout((()=>{throw o}),0)}}))};class al extends Z4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!al.c_){const e=Pw();yc(e,Mw.STAT_EVENT,(n=>{n.stat===xp.PROXY?Ne(ns,"STAT_EVENT: detected buffering proxy"):n.stat===xp.NOPROXY&&Ne(ns,"STAT_EVENT: detected no buffering proxy")})),al.c_=!0}}zo(e,n,i,o,u){const d=Pp();return new Promise(((p,g)=>{const y=new Iw;y.setWithCredentials(!0),y.listenOnce(Dw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bh.NO_ERROR:const x=y.getResponseJson();Ne(ns,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Bh.TIMEOUT:Ne(ns,`RPC '${e}' ${d} timed out`),g(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const T=y.getStatus();if(Ne(ns,`RPC '${e}' ${d} failed with status:`,T,"response text:",y.getResponseText()),T>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const q=O?.error;if(q&&q.status&&q.message){const H=(function(ce){const J=ce.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(J)>=0?J:de.UNKNOWN})(q.status);g(new Ae(H,q.message))}else g(new Ae(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Ne(ns,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Ne(ns,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",w,i,15)}))}T_(e,n,i){const o=Pp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=u.join("");Ne(ns,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=d.createWebChannel(y,p);this.I_(w);let x=!1,T=!1;const O=new ej({Ho:q=>{T?Ne(ns,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(x||(Ne(ns,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),Ne(ns,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Jo:()=>w.close()});return yc(w,Ec.EventType.OPEN,(()=>{T||(Ne(ns,`RPC '${e}' stream ${o} transport opened.`),O.i_())})),yc(w,Ec.EventType.CLOSE,(()=>{T||(T=!0,Ne(ns,`RPC '${e}' stream ${o} transport closed`),O.o_(),this.E_(w))})),yc(w,Ec.EventType.ERROR,(q=>{T||(T=!0,ul(ns,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),O.o_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),yc(w,Ec.EventType.MESSAGE,(q=>{if(!T){const H=q.data[0];Pt(!!H,16349);const z=H,ce=z?.error||z[0]?.error;if(ce){Ne(ns,`RPC '${e}' stream ${o} received error:`,ce);const J=ce.status;let me=(function(Re){const N=Rn[Re];if(N!==void 0)return g2(N)})(J),we=ce.message;me===void 0&&(me=de.INTERNAL,we="Unknown error status: "+J+" with message "+ce.message),T=!0,O.o_(new Ae(me,we)),w.close()}else Ne(ns,`RPC '${e}' stream ${o} received:`,H),O.__(H)}})),al.u_(),setTimeout((()=>{O.s_()}),0),O}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ow()}}function tj(r){return new al(r)}function Xm(){return typeof document<"u"?document:null}function Nd(r){return new i4(r,!0)}al.c_=!1;class j2{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const H_="PersistentStream";class I2{constructor(e,n,i,o,u,d,p,g){this.Ci=e,this.b_=i,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Ae(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ne(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nj extends I2{constructor(e,n,i,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l4(this.serializer,e),i=(function(u){if(!("targetChange"in u))return nt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?nt.min():d.readTime?Br(d.readTime):nt.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=Ap(g)?{documents:h4(u,g)}:{query:d4(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=b2(u,d.resumeToken);const y=Np(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(nt.min())>0){p.readTime=cd(u,d.snapshotVersion.toTimestamp());const y=Np(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=m4(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.K_(n)}}class sj extends I2{constructor(e,n,i,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=u4(e.writeResults,e.commitTime),i=Br(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Dp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>c4(this.serializer,i)))};this.K_(n)}}class rj{}class ij extends rj{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,jp(n,i),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(de.UNKNOWN,u.toString())}))}jo(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,jp(n,i),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ae(de.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aj(r,e,n,i){return new ij(r,e,n,i)}class oj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const io="RemoteStore";class lj{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{i.enqueueAndForget((async()=>{ho(this)&&(Ne(io,"Restarting streams for network reachability change."),await(async function(g){const y=it(g);y.Ea.add(4),await iu(y),y.Va.set("Unknown"),y.Ea.delete(4),await jd(y)})(this))}))})),this.Va=new oj(i,o)}}async function jd(r){if(ho(r))for(const e of r.Ra)await e(!0)}async function iu(r){for(const e of r.Ra)await e(!1)}function D2(r,e){const n=it(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ig(n)?jg(n):Tl(n).O_()&&Ng(n,e))}function Cg(r,e){const n=it(r),i=Tl(n);n.Ia.delete(e),i.O_()&&M2(n,e),n.Ia.size===0&&(i.O_()?i.L_():ho(n)&&n.Va.set("Unknown"))}function Ng(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(r).Z_(e)}function M2(r,e){r.da.$e(e),Tl(r).X_(e)}function jg(r){r.da=new t4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Tl(r).start(),r.Va.ua()}function Ig(r){return ho(r)&&!Tl(r).x_()&&r.Ia.size>0}function ho(r){return it(r).Ea.size===0}function P2(r){r.da=void 0}async function cj(r){r.Va.set("Online")}async function uj(r){r.Ia.forEach(((e,n)=>{Ng(r,e)}))}async function hj(r,e){P2(r),Ig(r)?(r.Va.ha(e),jg(r)):r.Va.set("Unknown")}async function dj(r,e,n){if(r.Va.set("Online"),e instanceof v2&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(i){Ne(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hd(r,i)}else if(e instanceof Hh?r.da.Xe(e):e instanceof y2?r.da.st(e):r.da.tt(e),!n.isEqual(nt.min()))try{const i=await N2(r.localStore);n.compareTo(i)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(Xn.EMPTY_BYTE_STRING,w.snapshotVersion)),M2(u,g);const x=new la(w.target,g,y,w.sequenceNumber);Ng(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){Ne(io,"Failed to raise snapshot:",i),await hd(r,i)}}async function hd(r,e,n){if(!xl(e))throw e;r.Ea.add(1),await iu(r),r.Va.set("Offline"),n||(n=()=>N2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ne(io,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await jd(r)}))}function O2(r,e){return e().catch((n=>hd(r,n,e)))}async function Id(r){const e=it(r),n=ba(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mg;for(;fj(e);)try{const o=await $4(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,mj(e,o)}catch(o){await hd(e,o)}L2(e)&&V2(e)}function fj(r){return ho(r)&&r.Ta.length<10}function mj(r,e){r.Ta.push(e);const n=ba(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function L2(r){return ho(r)&&!ba(r).x_()&&r.Ta.length>0}function V2(r){ba(r).start()}async function pj(r){ba(r).ra()}async function gj(r){const e=ba(r);for(const n of r.Ta)e.ea(n.mutations)}async function yj(r,e,n){const i=r.Ta.shift(),o=xg.from(i,e,n);await O2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Id(r)}async function vj(r,e){e&&ba(r).Y_&&await(async function(i,o){if((function(d){return JN(d)&&d!==de.ABORTED})(o.code)){const u=i.Ta.shift();ba(i).B_(),await O2(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Id(i)}})(r,e),L2(r)&&V2(r)}async function G_(r,e){const n=it(r);n.asyncQueue.verifyOperationInProgress(),Ne(io,"RemoteStore received new credentials");const i=ho(n);n.Ea.add(3),await iu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jd(n)}async function bj(r,e){const n=it(r);e?(n.Ea.delete(2),await jd(n)):e||(n.Ea.add(2),await iu(n),n.Va.set("Unknown"))}function Tl(r){return r.ma||(r.ma=(function(n,i,o){const u=it(n);return u.sa(),new nj(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:cj.bind(null,r),Yo:uj.bind(null,r),t_:hj.bind(null,r),J_:dj.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ig(r)?jg(r):r.Va.set("Unknown")):(await r.ma.stop(),P2(r))}))),r.ma}function ba(r){return r.fa||(r.fa=(function(n,i,o){const u=it(n);return u.sa(),new sj(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:pj.bind(null,r),t_:vj.bind(null,r),ta:gj.bind(null,r),na:yj.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Id(r)):(await r.fa.stop(),r.Ta.length>0&&(Ne(io,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Dg{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const d=Date.now()+i,p=new Dg(e,n,d,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),xl(r))return new Ae(de.UNAVAILABLE,`${e}: ${r}`);throw r}class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ge.comparator(n.key,i.key):(n,i)=>Ge.comparator(n.key,i.key),this.keyedMap=Tc(),this.sortedSet=new hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class W_{constructor(){this.ga=new hn(Ge.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class pl{constructor(e,n,i,o,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new pl(e,n,ol.emptySet(n),d,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class _j{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class wj{constructor(){this.queries=$_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=it(n),u=o.queries;o.queries=$_(),u.forEach(((d,p)=>{for(const g of p.ba)g.onError(i)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function $_(){return new uo((r=>r2(r)),Sd)}async function U2(r,e){const n=it(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(i=2):(u=new _j,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Mg(d,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Pg(n)}async function B2(r,e){const n=it(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xj(r,e){const n=it(r);let i=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(i=!0);d.wa=o}}i&&Pg(n)}function Ej(r,e,n){const i=it(r),o=i.queries.get(e);if(o)for(const u of o.ba)u.onError(n);i.queries.delete(e)}function Pg(r){r.Ca.forEach((e=>{e.next()}))}var Op,K_;(K_=Op||(Op={})).Ma="default",K_.Cache="cache";class z2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new pl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class F2{constructor(e){this.key=e}}class q2{constructor(e){this.key=e}}class Tj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=_t(),this.mutatedKeys=_t(),this.eu=i2(e),this.tu=new ol(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new W_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const T=o.get(w),O=kd(this.query,x)?x:null,q=!!T&&this.mutatedKeys.has(T.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;T&&O?T.data.isEqual(O.data)?q!==H&&(i.track({type:3,doc:O}),z=!0):this.su(T,O)||(i.track({type:2,doc:O}),z=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!T&&O?(i.track({type:0,doc:O}),z=!0):T&&!O&&(i.track({type:1,doc:T}),z=!0,(g||y)&&(p=!0)),z&&(O?(d=d.add(O),u=H?u.add(w):u.delete(w)):(d=d.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:d,iu:i,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,x)=>(function(O,q){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Vt:z})}};return H(O)-H(q)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new pl(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=_t(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new q2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new F2(i))})),n}cu(e){this.Za=e.ks,this.Ya=_t();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Og="SyncEngine";class Sj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class kj{constructor(e){this.key=e,this.hu=!1}}class Aj{constructor(e,n,i,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new uo((p=>r2(p)),Sd),this.Iu=new Map,this.Eu=new Set,this.Ru=new hn(Ge.comparator),this.Au=new Map,this.Vu=new Sg,this.du={},this.mu=new Map,this.fu=ml.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rj(r,e,n=!0){const i=Y2(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await H2(i,e,n,!0),o}async function Cj(r,e){const n=Y2(r);await H2(n,e,!0,!1)}async function H2(r,e,n,i){const o=await K4(r.localStore,Ur(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await Nj(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&D2(r.remoteStore,o),p}async function Nj(r,e,n,i,o){r.pu=(x,T,O)=>(async function(H,z,ce,J){let me=z.view.ru(ce);me.Ss&&(me=await B_(H.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,me))));const we=J&&J.targetChanges.get(z.targetId),je=J&&J.targetMismatches.get(z.targetId)!=null,Re=z.view.applyChanges(me,H.isPrimaryClient,we,je);return Q_(H,z.targetId,Re.au),Re.snapshot})(r,x,T,O);const u=await B_(r.localStore,e,!0),d=new Tj(e,u.ks),p=d.ru(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);Q_(r,n,y.au);const w=new Sj(e,n,d);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function jj(r,e,n){const i=it(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((d=>!Sd(d,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Mp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Cg(i.remoteStore,o.targetId),Lp(i,o.targetId)})).catch(wl)):(Lp(i,o.targetId),await Mp(i.localStore,o.targetId,!0))}async function Ij(r,e){const n=it(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Cg(n.remoteStore,i.targetId))}async function Dj(r,e,n){const i=Bj(r);try{const o=await(function(d,p){const g=it(d),y=ot.now(),w=p.reduce(((O,q)=>O.add(q.key)),_t());let x,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let q=Ti(),H=_t();return g.xs.getEntries(O,w).next((z=>{q=z,q.forEach(((ce,J)=>{J.isValidDocument()||(H=H.add(ce))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,q))).next((z=>{x=z;const ce=[];for(const J of p){const me=$N(J,x.get(J.key).overlayedDocument);me!=null&&ce.push(new Ta(J.key,me,Qw(me.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,ce,p)})).next((z=>{T=z;const ce=z.applyToLocalDocumentSet(x,H);return g.documentOverlayCache.saveOverlays(O,z.batchId,ce)}))})).then((()=>({batchId:T.batchId,changes:o2(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.du[d.currentUser.toKey()];y||(y=new hn(bt)),y=y.insert(p,g),d.du[d.currentUser.toKey()]=y})(i,o.batchId,n),await au(i,o.changes),await Id(i.remoteStore)}catch(o){const u=Mg(o,"Failed to persist write");n.reject(u)}}async function G2(r,e){const n=it(r);try{const i=await G4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await au(n,i,e)}catch(i){await wl(i)}}function Y_(r,e,n){const i=it(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=it(d);g.onlineState=p;let y=!1;g.queries.forEach(((w,x)=>{for(const T of x.ba)T.va(p)&&(y=!0)})),y&&Pg(g)})(i.eventManager,e),o.length&&i.Pu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Mj(r,e,n){const i=it(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let d=new hn(Ge.comparator);d=d.insert(u,rs.newNoDocument(u,nt.min()));const p=_t().add(u),g=new Cd(nt.min(),new Map,new hn(bt),d,p);await G2(i,g),i.Ru=i.Ru.remove(u),i.Au.delete(e),Lg(i)}else await Mp(i.localStore,e,!1).then((()=>Lp(i,e,n))).catch(wl)}async function Pj(r,e){const n=it(r),i=e.batch.batchId;try{const o=await H4(n.localStore,e);$2(n,i,null),W2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await au(n,o)}catch(o){await wl(o)}}async function Oj(r,e,n){const i=it(r);try{const o=await(function(d,p){const g=it(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Pt(x!==null,37113),w=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);$2(i,e,n),W2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await au(i,o)}catch(o){await wl(o)}}function W2(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function $2(r,e,n){const i=it(r);let o=i.du[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.du[i.currentUser.toKey()]=o}}function Lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||K2(r,i)}))}function K2(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Cg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Lg(r))}function Q_(r,e,n){for(const i of n)i instanceof F2?(r.Vu.addReference(i.key,e),Lj(r,i)):i instanceof q2?(Ne(Og,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||K2(r,i.key)):Xe(19791,{wu:i})}function Lj(r,e){const n=e.key,i=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(i)||(Ne(Og,"New document in limbo: "+n),r.Eu.add(i),Lg(r))}function Lg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ge(Xt.fromString(e)),i=r.fu.next();r.Au.set(i,new kj(n)),r.Ru=r.Ru.insert(n,i),D2(r.remoteStore,new la(Ur(bg(n.path)),i,"TargetPurposeLimboResolution",xd.ce))}}async function au(r,e,n){const i=it(r),o=[],u=[],d=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{d.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const w=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Ag.Es(g.targetId,y);u.push(w)}})))})),await Promise.all(d),i.Pu.J_(o),await(async function(g,y){const w=it(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>pe.forEach(y,(T=>pe.forEach(T.Ts,(O=>w.persistence.referenceDelegate.addReference(x,T.targetId,O))).next((()=>pe.forEach(T.Is,(O=>w.persistence.referenceDelegate.removeReference(x,T.targetId,O)))))))))}catch(x){if(!xl(x))throw x;Ne(Rg,"Failed to update sequence numbers: "+x)}for(const x of y){const T=x.targetId;if(!x.fromCache){const O=w.vs.get(T),q=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(q);w.vs=w.vs.insert(T,H)}}})(i.localStore,u))}async function Vj(r,e){const n=it(r);if(!n.currentUser.isEqual(e)){Ne(Og,"User change. New user:",e.toKey());const i=await C2(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ae(de.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await au(n,i.Ns)}}function Uj(r,e){const n=it(r),i=n.Au.get(e);if(i&&i.hu)return _t().add(i.key);{let o=_t();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Y2(r){const e=it(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=G2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mj.bind(null,e),e.Pu.J_=xj.bind(null,e.eventManager),e.Pu.yu=Ej.bind(null,e.eventManager),e}function Bj(r){const e=it(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oj.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return q4(this.persistence,new B4,e.initialUser,this.serializer)}Cu(e){return new R2(kg.Vi,this.serializer)}Du(e){return new Q4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class zj extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pt(this.persistence.referenceDelegate instanceof ud,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new S4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new R2((i=>ud.Vi(i,n)),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Y_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vj.bind(null,this.syncEngine),await bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wj})()}createDatastore(e){const n=Nd(e.databaseInfo.databaseId),i=tj(e.databaseInfo);return aj(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,d,p){return new lj(i,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Y_(this.syncEngine,n,0)),(function(){return q_.v()?new q_:new X4})())}createSyncEngine(e,n){return(function(o,u,d,p,g,y,w){const x=new Aj(o,u,d,p,g,y);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=it(n);Ne(io,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vp.provider={build:()=>new Vp};class Q2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _a="FirestoreClient";class Fj{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=o,this.user=ss.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async d=>{Ne(_a,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(i,(d=>(Ne(_a,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Mg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jm(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(_a,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await C2(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function X_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await qj(r);Ne(_a,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>G_(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>G_(e.remoteStore,o))),r._onlineComponents=e}async function qj(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(_a,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===de.FAILED_PRECONDITION||o.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Jm(r,new dd)}}else Ne(_a,"Using default OfflineComponentProvider"),await Jm(r,new zj(void 0));return r._offlineComponents}async function X2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(_a,"Using user provided OnlineComponentProvider"),await X_(r,r._uninitializedComponentsProvider._online)):(Ne(_a,"Using default OnlineComponentProvider"),await X_(r,new Vp))),r._onlineComponents}function Hj(r){return X2(r).then((e=>e.syncEngine))}async function J2(r){const e=await X2(r),n=e.eventManager;return n.onListen=Rj.bind(null,e.syncEngine),n.onUnlisten=jj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ij.bind(null,e.syncEngine),n}function Gj(r,e,n={}){const i=new bi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const w=new Q2({next:T=>{w.Nu(),d.enqueueAndForget((()=>B2(u,x)));const O=T.docs.has(p);!O&&T.fromCache?y.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&T.fromCache&&g&&g.source==="server"?y.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new z2(bg(p.path),w,{includeMetadataChanges:!0,Ka:!0});return U2(u,x)})(await J2(r),r.asyncQueue,e,n,i))),i.promise}function Wj(r,e,n={}){const i=new bi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const w=new Q2({next:T=>{w.Nu(),d.enqueueAndForget((()=>B2(u,x))),T.fromCache&&g.source==="server"?y.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new z2(p,w,{includeMetadataChanges:!0,Ka:!0});return U2(u,x)})(await J2(r),r.asyncQueue,e,n,i))),i.promise}function $j(r,e){const n=new bi;return r.asyncQueue.enqueueAndForget((async()=>Dj(await Hj(r),e,n))),n.promise}function Z2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Kj="ComponentProvider",J_=new Map;function Yj(r,e,n,i,o){return new pN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Z2(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i)}const ex="firestore.googleapis.com",Z_=!0;class e1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ex,this.ssl=Z_}else this.host=e.host,this.ssl=e.ssl??Z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E4)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new KC;switch(i.type){case"firstParty":return new JC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=J_.get(n);i&&(Ne(Kj,"Removing Datastore"),J_.delete(n),i.terminate())})(this),Promise.resolve()}}function Qj(r,e,n,i={}){r=vr(r,Dd);const o=wa(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Xp(`https://${p}`),Jp("Firestore",!0)),u.host!==ex&&u.host!==p&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!eo(g,d)&&(r._setSettings(g),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=ss.MOCK_USER;else{y=G1(i.mockUserToken,r._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ss(x)}r._authCredentials=new YC(new Vw(y,w))}}class fo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class wn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}toJSON(){return{type:wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(nu(n,wn._jsonSchema))return new wn(e,i||null,new Ge(Xt.fromString(n.referencePath)))}}wn._jsonSchemaVersion="firestore/documentReference/1.0",wn._jsonSchema={type:Nn("string",wn._jsonSchemaVersion),referencePath:Nn("string")};class da extends fo{constructor(e,n,i){super(e,n,bg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Ge(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function fa(r,e,...n){if(r=un(r),Uw("collection","path",e),r instanceof Dd){const i=Xt.fromString(e,...n);return f_(i),new da(r,null,i)}{if(!(r instanceof wn||r instanceof da))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Xt.fromString(e,...n));return f_(i),new da(r.firestore,null,i)}}function Qt(r,e,...n){if(r=un(r),arguments.length===1&&(e=fg.newId()),Uw("doc","path",e),r instanceof Dd){const i=Xt.fromString(e,...n);return d_(i),new wn(r,null,new Ge(i))}{if(!(r instanceof wn||r instanceof da))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Xt.fromString(e,...n));return d_(i),new wn(r.firestore,r instanceof da?r.converter:null,new Ge(i))}}const t1="AsyncQueue";class n1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j2(this,"async_queue_retry"),this._c=()=>{const i=Xm();i&&Ne(t1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;Ne(t1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",s1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dg.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Xe(47125,{Pc:s1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function s1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class mo extends Dd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new n1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n1(e),this._firestoreClient=void 0,await e}}}function Xj(r,e){const n=typeof r=="object"?r:ng(),i=typeof r=="string"?r:rd,o=yd(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=F1("firestore");u&&Qj(o,...u)}return o}function Vg(r){if(r._terminated)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jj(r),r._firestoreClient}function Jj(r){const e=r._freezeSettings(),n=Yj(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Fj(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(Xn.fromBase64String(e))}catch(n){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Zs._jsonSchema))return Zs.fromBase64String(e.bytes)}}Zs._jsonSchemaVersion="firestore/bytes/1.0",Zs._jsonSchema={type:Nn("string",Zs._jsonSchemaVersion),bytes:Nn("string")};class Ug{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bg{constructor(e){this._methodName=e}}class zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:Nn("string",zr._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Nn("string",gr._jsonSchemaVersion),vectorValues:Nn("object")};const Zj=/^__.*__$/;class eI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class tx{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{dataSource:r})}}class zg{constructor(e,n,i,o,u,d){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return fd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nx(this.dataSource)&&Zj.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Nd(e)}createContext(e,n,i,o=!1){return new zg({dataSource:e,methodName:n,targetDoc:i,path:Qn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(r){const e=r._freezeSettings(),n=Nd(r._databaseId);return new tI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sx(r,e,n,i,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Fg("Data must be an object, but it was:",d,i);const p=rx(i,d);let g,y;if(u.merge)g=new Ps(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const w=[];for(const x of u.mergeFields){const T=ao(e,x,n);if(!d.contains(T))throw new Ae(de.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ox(w,T)||w.push(T)}g=new Ps(w),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new eI(new Ts(p),g,y)}class Pd extends Bg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function nI(r,e,n,i){const o=r.createContext(1,e,n);Fg("Data must be an object, but it was:",o,i);const u=[],d=Ts.empty();Ea(i,((g,y)=>{const w=ax(e,g,n);y=un(y);const x=o.childContextForFieldPath(w);if(y instanceof Pd)u.push(w);else{const T=ou(y,x);T!=null&&(u.push(w),d.set(w,T))}}));const p=new Ps(u);return new tx(d,p,o.fieldTransforms)}function sI(r,e,n,i,o,u){const d=r.createContext(1,e,n),p=[ao(e,i,n)],g=[o];if(u.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(ao(e,u[T])),g.push(u[T+1]);const y=[],w=Ts.empty();for(let T=p.length-1;T>=0;--T)if(!ox(y,p[T])){const O=p[T];let q=g[T];q=un(q);const H=d.childContextForFieldPath(O);if(q instanceof Pd)y.push(O);else{const z=ou(q,H);z!=null&&(y.push(O),w.set(O,z))}}const x=new Ps(y);return new tx(w,x,d.fieldTransforms)}function rI(r,e,n,i=!1){return ou(n,r.createContext(i?4:3,e))}function ou(r,e){if(ix(r=un(r)))return Fg("Unsupported field value:",e,r),rx(r,e);if(r instanceof Bg)return(function(i,o){if(!nx(o.dataSource))throw o.createError(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,o){const u=[];let d=0;for(const p of i){let g=ou(p,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ot.fromDate(i);return{timestampValue:cd(o.serializer,u)}}if(i instanceof ot){const u=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(o.serializer,u)}}if(i instanceof zr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zs)return{bytesValue:b2(o.serializer,i._byteString)};if(i instanceof wn){const u=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof gr)return(function(d,p){const g=d instanceof gr?d.toArray():d;return{mapValue:{fields:{[Kw]:{stringValue:Yw},[id]:{arrayValue:{values:g.map((w=>{if(typeof w!="number")throw p.createError("VectorValues must only contain numeric values.");return _g(p.serializer,w)}))}}}}}})(i,o);if(k2(i))return i._toProto(o.serializer);throw o.createError(`Unsupported field value: ${wd(i)}`)})(r,e)}function rx(r,e){const n={};return Fw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(r,((i,o)=>{const u=ou(o,e.childContextForField(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function ix(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof zr||r instanceof Zs||r instanceof wn||r instanceof Bg||r instanceof gr||k2(r))}function Fg(r,e,n){if(!ix(n)||!Bw(n)){const i=wd(n);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function ao(r,e,n){if((e=un(e))instanceof Ug)return e._internalPath;if(typeof e=="string")return ax(r,e);throw fd("Field path arguments must be of type string or ",r,!1,void 0,n)}const iI=new RegExp("[~\\*/\\[\\]]");function ax(r,e,n){if(e.search(iI)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ug(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fd(r,e,n,i,o){const u=i&&!i.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${i}`),d&&(g+=` in document ${o}`),g+=")"),new Ae(de.INVALID_ARGUMENT,p+r+g)}function ox(r,e){return r.some((n=>n.isEqual(e)))}class aI{convertValue(e,n="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ea(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[id].arrayValue?.values?.map((i=>_n(i.doubleValue)));return new gr(n)}convertGeoPoint(e){return new zr(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=ga(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Xt.fromString(e);Pt(S2(i),9688,{name:e});const o=new zc(i.get(1),i.get(3)),u=new Ge(i.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class lx extends aI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}const r1="@firebase/firestore",i1="4.10.0";class cx{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ao("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oI extends cx{data(){return super.data()}}function lI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class ux extends qg{}function Wc(r,e,...n){let i=[];e instanceof qg&&i.push(e),i=i.concat(n),(function(u){const d=u.filter((g=>g instanceof Hg)).length,p=u.filter((g=>g instanceof Od)).length;if(d>1||d>0&&p>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Od extends ux{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Od(e,n,i)}_apply(e){const n=this._parse(e);return hx(e._query,n),new fo(e.firestore,e.converter,Rp(e._query,n))}_parse(e){const n=Md(e.firestore);return(function(u,d,p,g,y,w,x){let T;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){o1(x,w);const q=[];for(const H of x)q.push(a1(g,u,H));T={arrayValue:{values:q}}}else T=a1(g,u,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||o1(x,w),T=rI(p,d,x,w==="in"||w==="not-in");return Cn.create(y,w,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ll(r,e,n){const i=e,o=ao("where",r);return Od._create(o,i,n)}class Hg extends qg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)hx(d,g),d=Rp(d,g)})(e._query,n),new fo(e.firestore,e.converter,Rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends ux{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gg(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(u,d)})(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,DN(e._query,n))}}function w3(r,e="asc"){const n=e,i=ao("orderBy",r);return Gg._create(i,n)}function a1(r,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s2(e)&&n.indexOf("/")!==-1)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Xt.fromString(n));if(!Ge.isDocumentKey(i))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return w_(r,new Ge(i))}if(n instanceof wn)return w_(r,n._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wd(n)}.`)}function o1(r,e){if(!Array.isArray(r)||r.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hx(r,e){const n=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dx(r,e,n){let i;return i=r?r.toFirestore(e):e,i}class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends cx{constructor(e,n,i,o,u,d){super(e,n,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ao("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:Nn("string",Ja._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class Gh extends Ja{data(e={}){return super.data(e)}}class cl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Gh(this._firestore,this._userDataWriter,i.key,i,new kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:cI(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:r})}}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:Nn("string",cl._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};function fs(r){r=vr(r,wn);const e=vr(r.firestore,mo),n=Vg(e);return Gj(n,r._key).then((i=>hI(e,r,i)))}function $c(r){r=vr(r,fo);const e=vr(r.firestore,mo),n=Vg(e),i=new lx(e);return lI(r._query),Wj(n,r._query).then((o=>new cl(e,i,r,o)))}function Pr(r,e,n){r=vr(r,wn);const i=vr(r.firestore,mo),o=dx(r.converter,e),u=Md(i);return Ld(i,[sx(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function x3(r,e,n,...i){r=vr(r,wn);const o=vr(r.firestore,mo),u=Md(o);let d;return d=typeof(e=un(e))=="string"||e instanceof Ug?sI(u,"updateDoc",r._key,e,n,i):nI(u,"updateDoc",r._key,e),Ld(o,[d.toMutation(r._key,er.exists(!0))])}function uI(r){return Ld(vr(r.firestore,mo),[new wg(r._key,er.none())])}function Up(r,e){const n=vr(r.firestore,mo),i=Qt(r),o=dx(r.converter,e),u=Md(r.firestore);return Ld(n,[sx(u,"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then((()=>i))}function Ld(r,e){const n=Vg(r);return $j(n,e)}function hI(r,e,n){const i=n.docs.get(e._key),o=new lx(r);return new Ja(r,o,e._key,i,new kc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){$C(co),to(new ma("firestore",((i,{instanceIdentifier:o,options:u})=>{const d=i.getProvider("app").getImmediate(),p=new mo(new QC(i.getProvider("auth-internal")),new ZC(d,i.getProvider("app-check-internal")),gN(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Or(r1,i1,e),Or(r1,i1,"esm2020")})();var dI="firebase",fI="12.8.0";Or(dI,fI,"app");const fx="firebasestorage.googleapis.com",mx="storageBucket",mI=120*1e3,pI=600*1e3;class Vn extends Hr{constructor(e,n,i=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ln;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ln||(Ln={}));function Zm(r){return"storage/"+r}function px(){const r="An unknown error occurred, please check the error payload for server response.";return new Vn(Ln.UNKNOWN,r)}function gI(r){return new Vn(Ln.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function yI(r){return new Vn(Ln.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vn(Ln.UNAUTHENTICATED,r)}function bI(){return new Vn(Ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _I(r){return new Vn(Ln.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function wI(){return new Vn(Ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xI(){return new Vn(Ln.CANCELED,"User canceled the upload/download.")}function EI(r){return new Vn(Ln.INVALID_URL,"Invalid URL '"+r+"'.")}function TI(r){return new Vn(Ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function SI(){return new Vn(Ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mx+"' property when initializing the app?")}function kI(){return new Vn(Ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bp(r){return new Vn(Ln.INVALID_ARGUMENT,r)}function gx(){return new Vn(Ln.APP_DELETED,"The Firebase app was deleted.")}function AI(r){return new Vn(Ln.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(r){throw new Vn(Ln.INTERNAL_ERROR,"Internal error: "+r)}class ms{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ms.makeFromUrl(e,n)}catch{return new ms(e,"")}if(i.path==="")return i;throw TI(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(we){we.path_=decodeURIComponent(we.path)}const w="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",O=new RegExp(`^https?://${x}/${w}/b/${o}/o${T}`,"i"),q={bucket:1,path:3},H=n===fx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",ce=new RegExp(`^https?://${H}/${o}/${z}`,"i"),me=[{regex:p,indices:g,postModify:u},{regex:O,indices:q,postModify:y},{regex:ce,indices:{bucket:1,path:2},postModify:y}];for(let we=0;we<me.length;we++){const je=me[we],Re=je.regex.exec(e);if(Re){const N=Re[je.indices.bucket];let S=Re[je.indices.path];S||(S=""),i=new ms(N,S),je.postModify(i);break}}if(i==null)throw EI(e);return i}}class RI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function CI(r,e,n){let i=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function w(...z){y||(y=!0,e.apply(null,z))}function x(z){o=setTimeout(()=>{o=null,r(O,g())},z)}function T(){u&&clearTimeout(u)}function O(z,...ce){if(y){T();return}if(z){T(),w.call(null,z,...ce);return}if(g()||d){T(),w.call(null,z,...ce);return}i<64&&(i*=2);let me;p===1?(p=2,me=0):me=(i+Math.random())*1e3,x(me)}let q=!1;function H(z){q||(q=!0,T(),!y&&(o!==null?(z||(p=2),clearTimeout(o),x(0)):z||(p=1)))}return x(0),u=setTimeout(()=>{d=!0,H(!0)},n),H}function NI(r){r(!1)}function jI(r){return r!==void 0}function II(r){return typeof r=="object"&&!Array.isArray(r)}function yx(r){return typeof r=="string"||r instanceof String}function zp(r,e,n,i){if(i<e)throw Bp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw Bp(`Invalid value for '${r}'. Expected ${n} or less.`)}function Wg(r,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${r}`}function vx(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var Za;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Za||(Za={}));function DI(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class MI{constructor(e,n,i,o,u,d,p,g,y,w,x,T=!0,O=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,H)=>{this.resolve_=q,this.reject_=H,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Za.NO_ERROR,g=u.getStatus();if(!p||DI(g,this.additionalRetryCodes_)&&this.retry){const w=u.getErrorCode()===Za.ABORT;i(!1,new Nh(!1,null,w));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Nh(y,u))})},n=(i,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());jI(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=px();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?gx():xI();d(g)}else{const g=wI();d(g)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=CI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function PI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function OI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LI(r,e){e&&(r["X-Firebase-GMPID"]=e)}function VI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function UI(r,e,n,i,o,u,d=!0,p=!1){const g=vx(r.urlParams),y=r.url+g,w=Object.assign({},r.headers);return LI(w,e),PI(w,n),OI(w,u),VI(w,i),new MI(y,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}function $g(r){let e;try{e=JSON.parse(r)}catch{return null}return II(e)?e:null}function BI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function zI(r,e){const n=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function bx(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function FI(r,e){return e}class ds{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||FI}}let jh=null;function qI(r){return!yx(r)||r.length<2?r:bx(r)}function HI(){if(jh)return jh;const r=[];r.push(new ds("bucket")),r.push(new ds("generation")),r.push(new ds("metageneration")),r.push(new ds("name","fullPath",!0));function e(u,d){return qI(d)}const n=new ds("name");n.xform=e,r.push(n);function i(u,d){return d!==void 0?Number(d):d}const o=new ds("size");return o.xform=i,r.push(o),r.push(new ds("timeCreated")),r.push(new ds("updated")),r.push(new ds("md5Hash",null,!0)),r.push(new ds("cacheControl",null,!0)),r.push(new ds("contentDisposition",null,!0)),r.push(new ds("contentEncoding",null,!0)),r.push(new ds("contentLanguage",null,!0)),r.push(new ds("contentType",null,!0)),r.push(new ds("metadata","customMetadata",!0)),jh=r,jh}function GI(r,e){function n(){const i=r.bucket,o=r.fullPath,u=new ms(i,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function WI(r,e,n){const i={};i.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];i[d.local]=d.xform(i,e[d.server])}return GI(i,r),i}function $I(r,e,n){const i=$g(e);return i===null?null:WI(r,i,n)}function KI(r,e,n,i){const o=$g(e);if(o===null||!yx(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(y=>{const w=r.bucket,x=r.fullPath,T="/b/"+d(w)+"/o/"+d(x),O=Wg(T,n,i),q=vx({alt:"media",token:y});return O+q})[0]}const l1="prefixes",c1="items";function YI(r,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[l1])for(const o of n[l1]){const u=o.replace(/\/$/,""),d=r._makeStorageReference(new ms(e,u));i.prefixes.push(d)}if(n[c1])for(const o of n[c1]){const u=r._makeStorageReference(new ms(e,o.name));i.items.push(u)}return i}function QI(r,e,n){const i=$g(n);return i===null?null:YI(r,e,i)}class _x{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wx(r){if(!r)throw px()}function XI(r,e){function n(i,o){const u=QI(r,e,o);return wx(u!==null),u}return n}function JI(r,e){function n(i,o){const u=$I(r,o,e);return wx(u!==null),KI(u,o,r.host,r._protocol)}return n}function xx(r){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=bI():o=vI():n.getStatus()===402?o=yI(r.bucket):n.getStatus()===403?o=_I(r.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function ZI(r){const e=xx(r);function n(i,o){let u=e(i,o);return i.getStatus()===404&&(u=gI(r.path)),u.serverResponse=o.serverResponse,u}return n}function eD(r,e,n,i,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);const d=e.bucketOnlyServerUrl(),p=Wg(d,r.host,r._protocol),g="GET",y=r.maxOperationRetryTime,w=new _x(p,g,XI(r,e.bucket),y);return w.urlParams=u,w.errorHandler=xx(e),w}function tD(r,e,n){const i=e.fullServerUrl(),o=Wg(i,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,p=new _x(o,u,JI(r,n),d);return p.errorHandler=ZI(e),p}class nD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,u){if(this.sent_)throw vc("cannot .send() more than once");if(wa(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sD extends nD{initXhr(){this.xhr_.responseType="text"}}function Ex(){return new sD}class oo{constructor(e,n){this._service=e,n instanceof ms?this._location=n:this._location=ms.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oo(e,n)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bx(this._location.path)}get storage(){return this._service}get parent(){const e=BI(this._location.path);if(e===null)return null;const n=new ms(this._location.bucket,e);return new oo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AI(e)}}function rD(r){const e={prefixes:[],items:[]};return Tx(r,e).then(()=>e)}async function Tx(r,e,n){const o=await iD(r,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Tx(r,e,o.nextPageToken)}function iD(r,e){e!=null&&typeof e.maxResults=="number"&&zp("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=eD(r.storage,r._location,"/",n.pageToken,n.maxResults);return r.storage.makeRequestWithTokens(i,Ex)}function aD(r){r._throwIfRoot("getDownloadURL");const e=tD(r.storage,r._location,HI());return r.storage.makeRequestWithTokens(e,Ex).then(n=>{if(n===null)throw kI();return n})}function oD(r,e){const n=zI(r._location.path,e),i=new ms(r._location.bucket,n);return new oo(r.storage,i)}function lD(r){return/^[A-Za-z]+:\/\//.test(r)}function cD(r,e){return new oo(r,e)}function Sx(r,e){if(r instanceof Kg){const n=r;if(n._bucket==null)throw SI();const i=new oo(n,n._bucket);return e!=null?Sx(i,e):i}else return e!==void 0?oD(r,e):r}function uD(r,e){if(e&&lD(e)){if(r instanceof Kg)return cD(r,e);throw Bp("To use ref(service, url), the first argument must be a Storage instance.")}else return Sx(r,e)}function u1(r,e){const n=e?.[mx];return n==null?null:ms.makeFromBucketSpec(n,r)}function hD(r,e,n,i={}){r.host=`${e}:${n}`;const o=wa(e);o&&(Xp(`https://${r.host}/b`),Jp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(r._overrideAuthToken=typeof u=="string"?u:G1(u,r.app.options.projectId))}class Kg{constructor(e,n,i,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=fx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mI,this._maxUploadRetryTime=pI,this._requests=new Set,o!=null?this._bucket=ms.makeFromBucketSpec(o,this._host):this._bucket=u1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ms.makeFromBucketSpec(this._url,e):this._bucket=u1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oo(this,e)}_makeRequest(e,n,i,o,u=!0){if(this._deleted)return new RI(gx());{const d=UI(e,this._appId,i,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const h1="@firebase/storage",d1="0.14.0";const kx="storage";function f1(r){return r=un(r),rD(r)}function Wh(r){return r=un(r),aD(r)}function Ac(r,e){return r=un(r),uD(r,e)}function dD(r=ng(),e){r=un(r);const i=yd(r,kx).getImmediate({identifier:e}),o=F1("storage");return o&&fD(i,...o),i}function fD(r,e,n,i={}){hD(r,e,n,i)}function mD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Kg(n,i,o,e,co)}function pD(){to(new ma(kx,mD,"PUBLIC").setMultipleInstances(!0)),Or(h1,d1,""),Or(h1,d1,"esm2020")}pD();const Ax={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},Yg=tg(Ax),bc=Nw(Yg),At=Xj(Yg),Rc=dD(Yg),gD=tg(Ax,"secondary"),E3=Nw(gD),yD="EYdciKDOi3UYBLk1u8hHams5tmO2",Rx=k.createContext();function Sa(){return k.useContext(Rx)}function vD({children:r}){const[e,n]=k.useState(null),[i,o]=k.useState(!1),[u,d]=k.useState(!1),[p,g]=k.useState(null),[y,w]=k.useState(!0);k.useEffect(()=>PR(bc,async ce=>{if(n(ce),ce)if(ce.uid===yD)o(!0),d(!1),g(null);else{o(!1);try{const J=Wc(fa(At,"clients"),ll("uid","==",ce.uid)),me=await $c(J);if(me.empty)d(!1),g(null);else{const we=me.docs[0];d(!0),g({id:we.id,...we.data()})}}catch(J){console.error("Error fetching client data:",J),d(!1),g(null)}}else o(!1),d(!1),g(null);w(!1)}),[]);const H={currentUser:e,isAdmin:i,isClient:u,clientData:p,updateClientData:z=>{g(ce=>ce&&{...ce,...z})},login:async(z,ce,J=!0)=>(await IR(bc,J?xw:cg),await jR(bc,z,ce)),logout:()=>OR(bc),resetPassword:z=>NR(bc,z),loading:y};return c.jsx(Rx.Provider,{value:H,children:r})}const Cx=k.createContext();function Sl(){return k.useContext(Cx)}function bD({children:r}){const[e,n]=k.useState(()=>{const g=localStorage.getItem("theme");return g?g==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),[i,o]=k.useState(()=>localStorage.getItem("accent")||"red");k.useEffect(()=>{document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("theme",e?"dark":"light")},[e]),k.useEffect(()=>{localStorage.setItem("accent",i)},[i]);const p={isDark:e,toggleTheme:()=>{document.documentElement.setAttribute("data-theme-transitioning",""),n(!e),setTimeout(()=>{document.documentElement.removeAttribute("data-theme-transitioning")},350)},accent:i,setAccent:g=>o(g)};return c.jsx(Cx.Provider,{value:p,children:r})}function _D(){const[r,e]=k.useState(""),[n,i]=k.useState(""),[o,u]=k.useState(!0),[d,p]=k.useState(""),[g,y]=k.useState(!1),[w,x]=k.useState(!1),[T,O]=k.useState(!1),{login:q,resetPassword:H,currentUser:z,isAdmin:ce,isClient:J,clientData:me,loading:we}=Sa(),je=nr();if(k.useEffect(()=>{if(!we&&z){if(ce)je("/dashboard");else if(J){const S=me?.clientType;je(S==="core_buddy"?"/client/core-buddy":S==="circuit_vip"||S==="circuit_dropin"?"/client/circuit":"/client")}}},[we,z,ce,J,me,je]),we)return c.jsx("div",{className:"login-container",children:c.jsx("div",{className:"login-loading",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"loading-logo"})})});const Re=async S=>{S.preventDefault(),p(""),y(!0);try{await q(r,n,o)}catch(R){p(R.message||"Failed to log in"),y(!1)}},N=async S=>{if(S.preventDefault(),p(""),!r.trim()){p("Please enter your email address");return}y(!0);try{await H(r.trim()),O(!0)}catch(R){R.code==="auth/user-not-found"?p("No account found with this email"):p(R.message||"Failed to send reset email")}y(!1)};return c.jsx("div",{className:"login-container",children:c.jsxs("div",{className:"login-card",children:[c.jsxs("div",{className:"login-header",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"login-logo"}),c.jsx("p",{children:w?"Reset Password":"Client Portal"})]}),d&&c.jsx("div",{className:"error-message",children:d}),T?c.jsxs("div",{className:"reset-sent",children:[c.jsx("div",{className:"reset-sent-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M22 2L11 13",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("p",{children:"Reset email sent!"}),c.jsx("span",{children:"Check your inbox for a password reset link"}),c.jsx("button",{className:"login-btn",style:{marginTop:"20px"},onClick:()=>{x(!1),O(!1),p("")},children:"Back to Log In"})]}):w?c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),placeholder:"Enter your email",required:!0})]}),c.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Sending...":"Send Reset Link"}),c.jsx("button",{type:"button",className:"forgot-link",onClick:()=>{x(!1),p("")},children:"Back to Log In"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("form",{onSubmit:Re,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:n,onChange:S=>i(S.target.value),required:!0})]}),c.jsx("div",{className:"remember-me",children:c.jsxs("label",{children:[c.jsx("input",{type:"checkbox",checked:o,onChange:S=>u(S.target.checked)}),c.jsx("span",{children:"Remember me"})]})}),c.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Logging in...":"Log In"})]}),c.jsx("button",{type:"button",className:"forgot-link",onClick:()=>{x(!0),p("")},children:"Forgot password?"})]}),c.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function lo({active:r}){const e=nr(),{clientData:n}=Sa(),i=n?.clientType==="block"&&n?.coreBuddyAccess;return c.jsxs("nav",{className:"block-bottom-nav",children:[c.jsxs("button",{className:`block-nav-tab${r==="home"?" active":""}`,onClick:()=>e("/client/core-buddy"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),c.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),c.jsx("span",{children:"Home"})]}),c.jsxs("button",{className:`block-nav-tab${r==="workouts"?" active":""}`,onClick:()=>e("/client/core-buddy/workouts"),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2.71 7 4.14 8.43 7.71 4.86 16.29 13.43 12.71 17 14.14 18.43 15.57 17 17 18.43 14.14 21.29l1.43 1.43 1.43-1.43 1.43 1.43 2.14-2.14 1.43 1.43L22 20.57z"})}),c.jsx("span",{children:"Workouts"})]}),c.jsxs("button",{className:`block-nav-tab${r==="nutrition"?" active":""}`,onClick:()=>e("/client/core-buddy/nutrition"),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"})}),c.jsx("span",{children:"Nutrition"})]}),c.jsxs("button",{className:`block-nav-tab${r==="progress"?" active":""}`,onClick:()=>e("/client/personal-bests?mode=corebuddy"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12 20V10"}),c.jsx("path",{d:"M18 20V4"}),c.jsx("path",{d:"M6 20v-4"})]}),c.jsx("span",{children:"Progress"})]}),i&&c.jsxs("button",{className:"block-nav-tab",onClick:()=>e("/client"),children:[c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),c.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),c.jsx("span",{children:"Block"})]})]})}function lu(r,e,n,i,o){const u=[];for(let d=0;d<r;d++){const p=(d*(360/r)-90)*(Math.PI/180);u.push({x1:e+i*Math.cos(p),y1:n+i*Math.sin(p),x2:e+o*Math.cos(p),y2:n+o*Math.sin(p),thick:d%5===0})}return u}const wD=lu(60,100,100,85,96),Mr=lu(60,100,100,78,94),xD=lu(60,100,100,82,94),Fp=lu(60,50,50,38,46),T3=lu(60,40,40,30,37),ED="/login/assets/workouts-DXJtvJtv.jpg",ep=60,tp=[10,25,50,100,200,500,1e3],TD=5;function SD(r){return r.toISOString().split("T")[0]}function kD(r){let e=0;for(const n of tp){if(r<n)return{prev:e,next:n};e=n}return{prev:tp[tp.length-1],next:r+100}}const AD={fullbody_4wk:{duration:4,daysPerWeek:3},fullbody_8wk:{duration:8,daysPerWeek:3},fullbody_12wk:{duration:12,daysPerWeek:3},core_4wk:{duration:4,daysPerWeek:3},core_8wk:{duration:8,daysPerWeek:3},core_12wk:{duration:12,daysPerWeek:3},upper_4wk:{duration:4,daysPerWeek:3},lower_4wk:{duration:4,daysPerWeek:3}};function RD(){const{currentUser:r,isClient:e,clientData:n,logout:i,loading:o}=Sa(),{isDark:u,toggleTheme:d}=Sl(),p=nr(),[g,y]=k.useState({hours:0,minutes:0,seconds:0}),[w,x]=k.useState(0),[T,O]=k.useState(0),[q,H]=k.useState(""),[z,ce]=k.useState(0),[J,me]=k.useState(0),[we,je]=k.useState(!1),[Re,N]=k.useState(null);k.useCallback((se,ge="info")=>{N({message:se,type:ge}),setTimeout(()=>N(null),4e3)},[]),k.useEffect(()=>{!o&&!r&&p("/")},[o,r,p]),k.useEffect(()=>{const se=()=>{const De=new Date,ze=new Date(De);ze.setHours(23,59,59,999);const P=ze-De,te=Math.floor(P/(1e3*60*60)),Z=Math.floor(P%(1e3*60*60)/(1e3*60)),he=Math.floor(P%(1e3*60)/1e3);y({hours:te,minutes:Z,seconds:he}),x(60-he)};se();const ge=setInterval(se,1e3);return()=>clearInterval(ge)},[]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const ge=await fs(Qt(At,"clientProgrammes",n.id));if(ge.exists()){const $e=ge.data(),Ke=AD[$e.templateId];if(Ke){const Ot=Object.keys($e.completedSessions||{}).length,zt=Ke.duration*Ke.daysPerWeek;O(zt>0?Math.round(Ot/zt*100):0);const Rt=$e.templateId.replace(/_/g," ").replace(/\b\w/g,en=>en.toUpperCase());H(Rt)}}const De=fa(At,"workoutLogs"),ze=Wc(De,ll("clientId","==",n.id)),te=(await $c(ze)).docs.filter($e=>$e.data().type!=="programme").length;ce(te);const Z=SD(new Date),he=fa(At,"habitLogs"),ke=Wc(he,ll("clientId","==",n.id),ll("date","==",Z)),Ee=await $c(ke);let Oe=0;if(!Ee.empty){const $e=Ee.docs[0].data().habits||{};Oe=Object.values($e).filter(Boolean).length}me(Math.round(Oe/TD*100))}catch(ge){console.error("Error loading dashboard stats:",ge)}finally{je(!0)}})()},[r,n]);const S=se=>{const ge=se.currentTarget,De=ge.querySelector(".ripple");De&&De.remove();const ze=ge.getBoundingClientRect(),P=Math.max(ze.width,ze.height),te=se.clientX-ze.left-P/2,Z=se.clientY-ze.top-P/2,he=document.createElement("span");he.className="ripple",he.style.cssText=`width:${P}px;height:${P}px;left:${te}px;top:${Z}px;`,ge.appendChild(he),setTimeout(()=>he.remove(),600)},R=n?.name?.split(" ")[0]||"there",I=Math.round(T/100*ep),{prev:D,next:B}=kD(z),j=B>D?Math.round((z-D)/(B-D)*100):100,Je=Math.round(j/100*ep),ht=Math.round(J/100*ep),W=[{label:"Programme",value:`${T}%`,ticks:I,cls:"cb-stat-programme"},{label:"Workouts",value:`${z}`,ticks:Je,cls:"cb-stat-workouts"},{label:"Habits Today",value:`${J}%`,ticks:ht,cls:"cb-stat-habits"}];return c.jsxs("div",{className:"cb-dashboard","data-theme":u?"dark":"light",children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{onClick:d,"aria-label":"Toggle theme",children:u?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),c.jsx("button",{onClick:i,"aria-label":"Log out",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]})}),o?c.jsx("div",{className:"cb-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})}):c.jsxs("main",{className:"cb-main",children:[c.jsx("div",{className:"cb-greeting",children:c.jsxs("h2",{children:["Hey ",R]})}),c.jsxs("div",{className:"cb-ring-container",children:[c.jsxs("div",{className:"cb-ring",children:[c.jsx("svg",{className:"cb-ring-svg",viewBox:"0 0 200 200",children:wD.map((se,ge)=>{const De=ge<w;return c.jsx("line",{x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,className:`ring-tick ${De?"elapsed":"remaining"}`,strokeWidth:se.thick?"3":"2"},ge)})}),c.jsxs("div",{className:"cb-ring-center",children:[c.jsx("div",{className:"cb-ring-logo",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness"})}),c.jsxs("div",{className:"cb-ring-countdown",children:[c.jsx("span",{className:"cb-timer-digit",children:String(g.hours).padStart(2,"0")}),c.jsx("span",{className:"cb-timer-colon",children:":"}),c.jsx("span",{className:"cb-timer-digit",children:String(g.minutes).padStart(2,"0")}),c.jsx("span",{className:"cb-timer-colon",children:":"}),c.jsx("span",{className:"cb-timer-digit cb-timer-seconds",children:String(g.seconds).padStart(2,"0")})]}),c.jsx("div",{className:"cb-ring-label",children:"remaining today"})]})]}),c.jsxs("p",{className:"cb-ring-tagline",children:["You have 24 hours a day... ",c.jsx("strong",{children:"make it count"})," with Core Buddy"]})]}),c.jsx("div",{className:"cb-stats-row",children:W.map(se=>c.jsxs("div",{className:"cb-stat-item",children:[c.jsxs("div",{className:`cb-stat-ring ${se.cls}`,children:[c.jsx("svg",{viewBox:"0 0 100 100",children:Fp.map((ge,De)=>c.jsx("line",{x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,className:De<se.ticks?"cb-stat-filled":"cb-stat-empty",strokeWidth:ge.thick?"3":"2"},De))}),c.jsx("span",{className:"cb-stat-value",children:we?se.value:""})]}),c.jsx("span",{className:"cb-stat-label",children:se.label})]},se.cls))}),c.jsxs("div",{className:"cb-features",children:[c.jsxs("button",{className:"cb-feature-card cb-card-nutrition cb-card-has-preview ripple-btn",onClick:se=>{S(se),p("/client/core-buddy/nutrition")},children:[c.jsxs("div",{className:"cb-card-top-row",children:[c.jsx("div",{className:"cb-card-content",children:c.jsx("h3",{children:"Today's Nutrition"})}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsx("div",{className:"cb-card-preview-row",children:c.jsx("div",{className:"cb-mini-rings",children:[{cls:"cb-ring-protein",label:"P",filled:15},{cls:"cb-ring-carbs",label:"C",filled:28},{cls:"cb-ring-fats",label:"F",filled:38},{cls:"cb-ring-cals",label:"Cal",filled:22}].map(se=>c.jsxs("div",{className:`cb-mini-ring ${se.cls}`,children:[c.jsx("svg",{viewBox:"0 0 100 100",children:Fp.map((ge,De)=>c.jsx("line",{x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,className:De<se.filled?"cb-tick-filled":"cb-tick-empty",strokeWidth:ge.thick?"3":"2"},De))}),c.jsx("span",{children:se.label})]},se.cls))})}),c.jsx("p",{className:"cb-card-desc",children:"Track macros, scan barcodes, log water"})]}),c.jsx("button",{className:"cb-feature-card cb-card-workouts cb-card-thumbnail ripple-btn",onClick:se=>{S(se),p("/client/core-buddy/workouts")},children:c.jsx("img",{src:ED,alt:"Workouts",className:"cb-card-thumb-img"})}),c.jsxs("button",{className:"cb-feature-card cb-card-consistency ripple-btn",onClick:se=>{S(se),p("/client/core-buddy/consistency")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"Daily Habits"}),c.jsx("p",{children:"Check off your daily habits and build streaks"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsxs("button",{className:"cb-feature-card cb-card-progress ripple-btn",onClick:se=>{S(se),p("/client/personal-bests?mode=corebuddy")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"My Progress"}),c.jsx("p",{children:"Track personal bests and body metrics"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]}),c.jsxs("button",{className:"cb-feature-card cb-card-leaderboard ripple-btn",onClick:se=>{S(se),p("/client/leaderboard")},children:[c.jsxs("div",{className:"cb-card-content",children:[c.jsx("h3",{children:"Leaderboard"}),c.jsx("p",{children:"Compete with your Core Buddies"})]}),c.jsx("svg",{className:"cb-card-arrow",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})]})]})]}),c.jsx(lo,{active:"home"}),Re&&c.jsxs("div",{className:`toast-notification ${Re.type}`,children:[Re.type==="info"&&c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),Re.message]})]})}const m1=60,np=new Map;function sa(){return new Date().toISOString().split("T")[0]}const CD=[{key:"breakfast",label:"Breakfast"},{key:"lunch",label:"Lunch"},{key:"dinner",label:"Dinner"},{key:"snacks",label:"Snacks"}],ND={breakfast:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),c.jsx("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),c.jsx("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),c.jsx("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),c.jsx("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),lunch:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}),dinner:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),snacks:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})};function jD(){const r=new Date().getHours();return r<11?"breakfast":r<14?"lunch":r<17?"snacks":"dinner"}function ID(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Sa(),{isDark:o,toggleTheme:u,accent:d}=Sl(),p=nr(),[g,y]=k.useState("loading"),[w,x]=k.useState(null),[T,O]=k.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",dailyActivity:"sedentary",trainingFrequency:"moderate",goal:"maintain",deficitLevel:"moderate"}),[q,H]=k.useState(null),[z,ce]=k.useState(sa()),[J,me]=k.useState({entries:[],water:0}),[we,je]=k.useState({protein:0,carbs:0,fats:0,calories:0}),[Re,N]=k.useState(!1),[S,R]=k.useState(!1),[I,D]=k.useState(()=>{const C=new Date;return{year:C.getFullYear(),month:C.getMonth()}}),[B,j]=k.useState(jD),[Je,ht]=k.useState(null),[W,se]=k.useState(null),[ge,De]=k.useState(!1),[ze,P]=k.useState(null),[te,Z]=k.useState(""),[he,ke]=k.useState(!1),[Ee,Oe]=k.useState(""),[$e,Ke]=k.useState([]),[Ot,zt]=k.useState(!1),[Rt,en]=k.useState({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""}),[ie,an]=k.useState(null),[Lt,xt]=k.useState("100"),[Et,tt]=k.useState(0),[et,$t]=k.useState("weight"),[Gr,Vs]=k.useState(0),[Vt,Mn]=k.useState(null);k.useRef(null);const on=k.useRef(!1),xn=k.useRef(null),oe=k.useRef(null),ye=k.useRef(null),_e=k.useCallback((C,U="info")=>{Mn({message:C,type:U}),setTimeout(()=>Mn(null),3e3)},[]);k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n?.id)return;(async()=>{try{const U=await fs(Qt(At,"nutritionTargets",n.id));U.exists()?(x(U.data()),y("dashboard")):y("setup")}catch(U){console.error("Error loading nutrition data:",U),y("setup")}})()},[n?.id]),k.useEffect(()=>{if(!n?.id)return;(async()=>{try{const U=await fs(Qt(At,"nutritionLogs",`${n.id}_${z}`));if(U.exists()){const ae=U.data();me({entries:ae.entries||[],water:ae.water||0})}else me({entries:[],water:0})}catch(U){console.error("Error loading log:",U),me({entries:[],water:0})}})()},[n?.id,z]),k.useEffect(()=>{const C=J.entries.reduce((U,ae)=>({protein:U.protein+(ae.protein||0),carbs:U.carbs+(ae.carbs||0),fats:U.fats+(ae.fats||0),calories:U.calories+(ae.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});je(C)},[J.entries]);const Be=async C=>{try{await Pr(Qt(At,"nutritionLogs",`${n.id}_${z}`),{clientId:n.id,date:z,entries:C.entries,water:C.water,updatedAt:ot.now()})}catch(U){console.error("Error saving nutrition log:",U)}},Ce=z===sa(),Te=(C,U)=>new Date(C,U+1,0).getDate(),Me=(C,U)=>new Date(C,U,1).getDay(),Le=["January","February","March","April","May","June","July","August","September","October","November","December"],Fe=["Su","Mo","Tu","We","Th","Fr","Sa"],mt=()=>{let C=parseFloat(T.weight);T.weightUnit==="lbs"&&(C*=.453592);let U;T.heightUnit==="cm"?U=parseFloat(T.height):U=(parseFloat(T.heightFeet)||0)*30.48+(parseFloat(T.heightInches)||0)*2.54;const ae=parseInt(T.age);let re=T.gender==="male"?10*C+6.25*U-5*ae+5:10*C+6.25*U-5*ae-161;const qe=re*{sedentary:1.2,light:1.3,moderate:1.4,active:1.5}[T.dailyActivity],Pe={low:100,moderate:200,high:300,daily:400},pt=Math.round(qe+Pe[T.trainingFrequency]);let Ze=pt,L,ne;switch(T.goal){case"lose":Ze=pt*(1-{light:.15,moderate:.2,harsh:.25}[T.deficitLevel]),L=2.2,ne=.3;break;case"build":Ze=pt*1.1,L=2,ne=.22;break;default:L=1.8,ne=.25}Ze=Math.max(Ze,T.gender==="male"?1400:1100);const X=Math.round(C*L),ve=Math.round(Ze*ne/9),be=Math.max(0,Math.round((Ze-X*4-ve*9)/4));H({calories:Math.round(Ze),protein:X,carbs:be,fats:ve,bmr:Math.round(re),neat:Math.round(qe),exerciseAdd:Pe[T.trainingFrequency],tdee:Math.round(pt)})},Kt=async()=>{if(q)try{const C={clientId:n.id,calories:q.calories,protein:q.protein,carbs:q.carbs,fats:q.fats,waterGoal:8,goal:T.goal,updatedAt:ot.now()};await Pr(Qt(At,"nutritionTargets",n.id),C),x(C),y("dashboard"),_e("Macro targets saved!","success")}catch(C){console.error("Error saving targets:",C),_e("Failed to save targets. Please try again.","error")}},Mt=()=>{const C=T.weight&&parseFloat(T.weight)>0,U=T.age&&parseInt(T.age)>0,ae=T.heightUnit==="cm"?T.height&&parseFloat(T.height)>0:T.heightFeet&&parseFloat(T.heightFeet)>0||T.heightInches&&parseFloat(T.heightInches)>0;return C&&U&&ae},dn="nut_favourite_foods",ps=()=>{try{return JSON.parse(localStorage.getItem(dn)||"[]")}catch{return[]}},Ft=C=>ps().some(U=>U.name.toLowerCase()===(C||"").toLowerCase()),Un=C=>{const U=ps(),ae=U.findIndex(re=>re.name.toLowerCase()===C.name.toLowerCase());ae>=0?U.splice(ae,1):U.unshift({name:C.name,protein:C.protein,carbs:C.carbs,fats:C.fats,calories:C.calories,serving:C.serving,per100g:C.per100g||null,servingUnit:C.servingUnit||"g",portion:C.portion||null}),localStorage.setItem(dn,JSON.stringify(U)),Vs(re=>re+1)},jn=C=>{const U=[...J.entries,{...C,meal:B,id:Date.now(),addedAt:new Date().toISOString()}],ae={...J,entries:U};me(ae),Be(ae),se(null),an(null),xt("100"),tt(0),$t("weight"),en({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""}),_e("Food added!","success")},Jn=C=>{const U=J.entries.filter(re=>re.id!==C),ae={...J,entries:U};me(ae),Be(ae)},sr=k.useRef(null),Wr=async()=>{De(!0);const C=document.querySelector("#barcode-reader");if(!C){De(!1),_e("Scanner container not found.","error");return}if(!sr.current)try{const ae=await Os(()=>import("./quagga.min-BbicSfvA.js").then(re=>re.q),[]);sr.current=ae.default}catch(ae){console.error("Failed to load barcode scanner:",ae),De(!1),_e("Could not load scanner.","error");return}const U=sr.current;U.init({inputStream:{type:"LiveStream",target:C,constraints:{facingMode:"environment",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||2,decoder:{readers:["ean_reader","ean_8_reader","upc_reader","upc_e_reader","code_128_reader","code_39_reader"]},locate:!0},ae=>{if(ae){console.error("Quagga init error:",ae),De(!1),_e("Could not access camera. Check permissions.","error");return}U.start(),on.current=!0}),U.onDetected(ae=>{const re=ae.codeResult.decodedCodes?.filter(qe=>qe.error!==void 0)?.map(qe=>qe.error)||[];if((re.length>0?re.reduce((qe,Pe)=>qe+Pe,0)/re.length:1)<.15){const qe=ae.codeResult.code;U.offDetected(),P(qe)}})},Zn=()=>{const C=sr.current;on.current&&C&&(C.stop(),C.offDetected(),on.current=!1),De(!1)},Us=/\b(milk|semi.skimmed|skimmed|whole milk|oat milk|almond milk|soy milk|juice|smoothie|water|squash|cordial|cola|pepsi|fanta|lemonade|soda|beer|wine|cider|lager|spirit|whisky|vodka|rum|gin|brandy|cream|yoghurt drink|milkshake|coffee|tea|broth|stock|soup|sauce|ketchup|vinegar|oil|syrup|honey|custard|coconut water|kombucha|energy drink|protein shake)\b/i,$r=C=>/ml|cl|\dl(?!b)|litre|liter|fl\s?oz/i.test((C||"").replace(/\s/g,"")),Bs=C=>{if(!C)return{value:100,unit:"g"};const U=C.toLowerCase().replace(/\s/g,""),ae=U.match(/([\d.]+)/),re=ae?parseFloat(ae[1]):100;return $r(C)?/cl/.test(U)?{value:re*10,unit:"ml"}:/(?:^|\d)l(?!i)/.test(U)&&!/ml/.test(U)?{value:re*1e3,unit:"ml"}:{value:re,unit:"ml"}:{value:re,unit:"g"}},Ai=C=>{if($r(C.serving_size)||$r(C.quantity))return"ml";const U=C.product_name||C.product_name_en||"";return Us.test(U)?"ml":"g"},wr=[{pattern:/\b(toast|bread|loaf|brioche|bagel|pitta|wrap|tortilla|crumpet|muffin|waffle|pancake)\b/i,label:"slice",weight:36},{pattern:/\begg\b/i,label:"egg",weight:60},{pattern:/\b(biscuit|cookie|digestive|hobnob|rich tea|oreo)\b/i,label:"biscuit",weight:13},{pattern:/\b(sausage|banger)\b/i,label:"sausage",weight:57},{pattern:/\b(rasher|bacon)\b/i,label:"rasher",weight:25},{pattern:/\b(rice cake)\b/i,label:"cake",weight:9},{pattern:/\b(cracker|ryvita)\b/i,label:"cracker",weight:10}],rr=(C,U)=>{const ae=C||"",re=ae.match(/\((\d+\.?\d*)\s*g\)/i),We=ae.match(/(?:^|per\s+)(\d*\s*[a-z][a-z\s]*?)(?:\s*\(|\s*-\s*|\s*$)/i);if(re&&We){const pt=parseFloat(re[1]);let Ze=We[1].replace(/^\d+\s*/,"").trim();if(Ze&&pt>0)return{label:Ze,weight:pt}}const qe=ae.match(/(\d+\.?\d*)\s*g\s*[\/=]\s*(\d*\s*[a-z][a-z\s]*)/i);if(qe){const pt=parseFloat(qe[1]);let Ze=qe[2].replace(/^\d+\s*/,"").trim();if(Ze&&pt>0)return{label:Ze,weight:pt}}const Pe=U||"";for(const{pattern:pt,label:Ze,weight:L}of wr)if(pt.test(Pe))return{label:Ze,weight:L};return null},as=C=>{const U=C.nutriments||{},ae=Ai(C),re=Bs(C.serving_size),We=ae==="ml"?re.unit==="ml"?re.value:100:re.value,qe=C.product_name||C.product_name_en||"Unknown Product",Pe=rr(C.serving_size,qe);return{name:qe,brand:C.brands||"",image:C.image_small_url||C.image_url||null,servingSize:C.serving_size||"100g",servingValue:We,servingUnit:ae,portion:Pe,protein:Math.round(U.proteins_100g||U.proteins||0),carbs:Math.round(U.carbohydrates_100g||U.carbohydrates||0),fats:Math.round(U.fat_100g||U.fat||0),calories:Math.round(U["energy-kcal_100g"]||U["energy-kcal"]||(U.energy_100g?U.energy_100g/4.184:0)),per100g:!0}},xr=async C=>{ke(!0);try{const U=`https://world.openfoodfacts.org/api/v2/product/${C}?fields=product_name,product_name_en,brands,image_small_url,image_url,serving_size,quantity,nutriments`,ae=await fetch(U);if(!ae.ok)throw new Error(`HTTP ${ae.status}`);const re=await ae.json();if(re.status==="success"||re.status===1||re.product){const We=as(re.product);We.calories===0&&We.protein===0&&We.carbs===0?_e("Product found but no nutrition data available.","error"):(an(We),We.portion?(tt(1),xt(String(We.portion.weight)),$t("portion")):(tt(0),xt(String(We.servingValue||100)),$t("weight")),Z(""))}else _e("Product not found. Try search or manual entry.","error")}catch(U){console.error("Barcode lookup error:",U),_e("Failed to look up product. Check your connection.","error")}ke(!1)},Bn=(C,U,ae)=>{const re=C.toLowerCase().trim(),We=U.toLowerCase().trim(),qe=ae.toLowerCase().trim();let Pe=0;return(re===qe||re===qe+"s"||re+"s"===qe)&&(Pe+=100),(re.endsWith(" "+qe)||re.endsWith(" "+qe+"s"))&&(Pe+=40),(re.startsWith(qe+" ")||re.startsWith(qe+"s "))&&(Pe+=15),qe.split(/\s+/).some(Ze=>We===Ze||We.startsWith(Ze))&&(Pe+=30),Pe+=Math.max(0,30-re.length),Pe},zn=async()=>{if(!Ee.trim())return;xn.current&&xn.current.abort();const C=new AbortController;xn.current=C;const U=Ee.trim().toLowerCase(),ae=U.split(/\s+/).filter(Boolean);if(np.has(U)){Ke(np.get(U));return}zt(!0);try{const We=`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(Ee.trim())}&search_simple=1&action=process&json=1&page_size=10&lc=en&sort_by=unique_scans_n&fields=product_name,product_name_en,brands,image_small_url,image_url,serving_size,quantity,nutriments`,qe=await fetch(We,{signal:C.signal});if(!qe.ok)throw new Error(`HTTP ${qe.status}`);const pt=((await qe.json()).products||[]).map(Ze=>as(Ze)).filter(Ze=>Ze.name!=="Unknown Product"&&(Ze.calories>0||Ze.protein>0)).filter(Ze=>{const L=(Ze.name+" "+Ze.brand).toLowerCase();return ae.every(ne=>L.includes(ne))}).sort((Ze,L)=>Bn(L.name,L.brand,U)-Bn(Ze.name,Ze.brand,U)).slice(0,10);np.set(U,pt),Ke(pt),pt.length===0&&_e("No results found. Try a different search.","info")}catch(re){if(re.name==="AbortError")return;console.error("Search error:",re),_e("Search failed. Check your connection.","error")}zt(!1)};k.useEffect(()=>{if(oe.current&&clearTimeout(oe.current),!(!Ee.trim()||W!=="search"||ie))return oe.current=setTimeout(()=>{zn()},700),()=>clearTimeout(oe.current)},[Ee]);const tn=()=>{const C={...J,water:J.water+1};me(C),Be(C)},ln=()=>{if(J.water<=0)return;const C={...J,water:J.water-1};me(C),Be(C)},gs=(C,U)=>!U||U<=0?0:Math.min(m1,Math.round(C/U*m1)),Fn=(C,U,ae,re,We)=>{const qe=gs(ae,re),Pe=re>0?Math.min(100,Math.round(ae/re*100)):0;return c.jsxs("div",{className:`nut-ring-wrap ${We}`,children:[c.jsx("svg",{className:"nut-ring-svg",viewBox:"0 0 200 200",children:Mr.map((pt,Ze)=>c.jsx("line",{x1:pt.x1,y1:pt.y1,x2:pt.x2,y2:pt.y2,className:Ze<qe?"nut-tick-filled":"nut-tick-empty",strokeWidth:pt.thick?"4.5":"3",strokeLinecap:"round",style:Ze<qe?{animationDelay:`${Ze*50}ms`}:void 0},Ze))}),c.jsxs("div",{className:"nut-ring-center",children:[c.jsx("span",{className:"nut-ring-value",children:Math.round(ae)}),c.jsxs("span",{className:"nut-ring-target",children:["/ ",re,C==="Calories"?"":"g"]}),c.jsx("span",{className:"nut-ring-label",children:U})]}),c.jsxs("span",{className:"nut-ring-pct",children:[Pe,"%"]})]})};if(k.useEffect(()=>{if(!ze)return;const C=setTimeout(()=>{const U=ze;Zn(),P(null),xr(U)},1500);return()=>clearTimeout(C)},[ze]),k.useEffect(()=>()=>{const C=sr.current;if(on.current&&C){try{C.stop(),C.offDetected()}catch{}on.current=!1}},[]),i||g==="loading")return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),c.jsx("div",{className:"nut-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})})]});if(g==="setup")return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"nut-main",children:[c.jsxs("div",{className:"nut-setup-intro",children:[c.jsx("h2",{children:"Set Your Daily Targets"}),c.jsx("p",{children:"Calculate your personalised macros based on your body and goals."})]}),c.jsxs("div",{className:"nut-calc-form",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Gender"}),c.jsxs("div",{className:"nut-toggle-group",children:[c.jsx("button",{className:T.gender==="male"?"active":"",onClick:()=>{O(C=>({...C,gender:"male"})),H(null)},children:"Male"}),c.jsx("button",{className:T.gender==="female"?"active":"",onClick:()=>{O(C=>({...C,gender:"female"})),H(null)},children:"Female"})]})]}),c.jsxs("div",{className:"nut-form-row",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Age"}),c.jsx("input",{type:"number",value:T.age,onChange:C=>{O(U=>({...U,age:C.target.value})),H(null)},placeholder:"Years",min:"15",max:"100"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Weight"}),c.jsxs("div",{className:"nut-input-unit",children:[c.jsx("input",{type:"number",value:T.weight,onChange:C=>{O(U=>({...U,weight:C.target.value})),H(null)},placeholder:T.weightUnit,min:"30",max:"300"}),c.jsxs("div",{className:"nut-unit-toggle",children:[c.jsx("button",{className:T.weightUnit==="kg"?"active":"",onClick:()=>{O(C=>({...C,weightUnit:"kg"})),H(null)},children:"kg"}),c.jsx("button",{className:T.weightUnit==="lbs"?"active":"",onClick:()=>{O(C=>({...C,weightUnit:"lbs"})),H(null)},children:"lbs"})]})]})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Height"}),c.jsxs("div",{className:"nut-input-unit",children:[T.heightUnit==="cm"?c.jsx("input",{type:"number",value:T.height,onChange:C=>{O(U=>({...U,height:C.target.value})),H(null)},placeholder:"cm",min:"100",max:"250"}):c.jsxs("div",{className:"nut-height-imperial",children:[c.jsx("input",{type:"number",value:T.heightFeet,onChange:C=>{O(U=>({...U,heightFeet:C.target.value})),H(null)},placeholder:"ft",min:"4",max:"7"}),c.jsx("input",{type:"number",value:T.heightInches,onChange:C=>{O(U=>({...U,heightInches:C.target.value})),H(null)},placeholder:"in",min:"0",max:"11"})]}),c.jsxs("div",{className:"nut-unit-toggle",children:[c.jsx("button",{className:T.heightUnit==="cm"?"active":"",onClick:()=>{O(C=>({...C,heightUnit:"cm"})),H(null)},children:"cm"}),c.jsx("button",{className:T.heightUnit==="ft"?"active":"",onClick:()=>{O(C=>({...C,heightUnit:"ft"})),H(null)},children:"ft/in"})]})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Daily Activity (outside of training)"}),c.jsxs("select",{value:T.dailyActivity,onChange:C=>{O(U=>({...U,dailyActivity:C.target.value})),H(null)},children:[c.jsx("option",{value:"sedentary",children:"Sedentary  desk job, under 5k steps"}),c.jsx("option",{value:"light",children:"Lightly Active  office + walking, 5-8k steps"}),c.jsx("option",{value:"moderate",children:"Moderately Active  on feet often, 8-12k steps"}),c.jsx("option",{value:"active",children:"Very Active  physical job, 12k+ steps"})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Training Sessions per Week"}),c.jsxs("select",{value:T.trainingFrequency,onChange:C=>{O(U=>({...U,trainingFrequency:C.target.value})),H(null)},children:[c.jsx("option",{value:"low",children:"1-2 sessions"}),c.jsx("option",{value:"moderate",children:"3-4 sessions"}),c.jsx("option",{value:"high",children:"5-6 sessions"}),c.jsx("option",{value:"daily",children:"7+ sessions"})]})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Fitness Goal"}),c.jsxs("div",{className:"nut-goal-options",children:[c.jsxs("button",{className:T.goal==="lose"?"active":"",onClick:()=>{O(C=>({...C,goal:"lose"})),H(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"-"}),c.jsx("span",{children:"Lose Weight"})]}),c.jsxs("button",{className:T.goal==="maintain"?"active":"",onClick:()=>{O(C=>({...C,goal:"maintain"})),H(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"="}),c.jsx("span",{children:"Maintain"})]}),c.jsxs("button",{className:T.goal==="build"?"active":"",onClick:()=>{O(C=>({...C,goal:"build"})),H(null)},children:[c.jsx("span",{className:"nut-goal-icon",children:"+"}),c.jsx("span",{children:"Build Muscle"})]})]})]}),T.goal==="lose"&&c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Deficit Level"}),c.jsxs("div",{className:"nut-deficit-options",children:[c.jsxs("button",{className:T.deficitLevel==="light"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"light"})),H(null)},children:[c.jsx("strong",{children:"Mild"}),c.jsx("span",{children:"15% below TDEE"})]}),c.jsxs("button",{className:T.deficitLevel==="moderate"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"moderate"})),H(null)},children:[c.jsx("strong",{children:"Moderate"}),c.jsx("span",{children:"20% below TDEE"})]}),c.jsxs("button",{className:T.deficitLevel==="harsh"?"active":"",onClick:()=>{O(C=>({...C,deficitLevel:"harsh"})),H(null)},children:[c.jsx("strong",{children:"Aggressive"}),c.jsx("span",{children:"25% below TDEE"})]})]})]}),c.jsx("button",{className:"nut-calc-btn",onClick:mt,disabled:!Mt(),children:"Calculate Macros"})]}),q&&c.jsxs("div",{className:"nut-calc-results",children:[c.jsx("h3",{children:"Your Daily Targets"}),c.jsxs("div",{className:"nut-calc-rings",children:[Fn("Protein","Protein",q.protein,q.protein,"ring-protein"),Fn("Carbs","Carbs",q.carbs,q.carbs,"ring-carbs"),Fn("Fats","Fats",q.fats,q.fats,"ring-fats"),Fn("Calories","Calories",q.calories,q.calories,"ring-cals")]}),c.jsxs("div",{className:"nut-calc-info",children:[c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"BMR (body at rest)"}),c.jsxs("span",{children:[q.bmr," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"+ Daily activity (NEAT)"}),c.jsxs("span",{children:[q.neat," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",children:[c.jsx("span",{children:"+ Training sessions"}),c.jsxs("span",{children:["+",q.exerciseAdd," cal"]})]}),c.jsxs("div",{className:"nut-calc-info-row",style:{fontWeight:600},children:[c.jsx("span",{children:"TDEE (total burn)"}),c.jsxs("span",{children:[q.tdee," cal"]})]})]}),c.jsx("button",{className:"nut-save-targets-btn",onClick:Kt,children:"Set as My Daily Targets"})]})]}),Vt&&c.jsx("div",{className:`toast-notification ${Vt.type}`,children:Vt.message})]});const ka=C=>{const U=new Date(C+"T12:00:00"),ae=U.getDay(),re=new Date(U);re.setDate(U.getDate()-(ae+6)%7);const We=[];for(let qe=0;qe<7;qe++){const Pe=new Date(re);Pe.setDate(re.getDate()+qe),We.push(Pe.toISOString().split("T")[0])}return We},Ri=["M","T","W","T","F","S","S"],ir=(C,U="search")=>{j(C),U==="scan"?(se("scan"),an(null)):U==="manual"?(se("manual"),en({name:"",protein:"",carbs:"",fats:"",calories:"",serving:""})):U==="favourites"?se("favourites"):(se("search"),Ke([]),Oe(""))},os=ka(z),Ss=new Date(z+"T12:00:00"),ys=`${Le[Ss.getMonth()]} ${Ss.getFullYear()}`;return c.jsxs("div",{className:"nut-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"nut-dark-zone",children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsxs("div",{className:"header-actions",children:[c.jsx("button",{onClick:()=>{y("setup"),H(null)},"aria-label":"Recalculate macros",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"3"}),c.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]})}),c.jsxs("div",{className:"nut-dark-content",children:[c.jsxs("div",{className:"nut-week-strip",children:[c.jsxs("div",{className:"nut-week-header",children:[c.jsx("button",{className:"nut-week-arrow",onClick:()=>{const C=new Date(z+"T12:00:00");C.setDate(C.getDate()-7);const U=C.toISOString().split("T")[0];ce(U)},"aria-label":"Previous week",children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsx("button",{className:"nut-week-month-label",onClick:()=>{N(!Re),D({year:Ss.getFullYear(),month:Ss.getMonth()})},children:ys}),c.jsx("button",{className:"nut-week-arrow",onClick:()=>{const C=new Date(z+"T12:00:00");C.setDate(C.getDate()+7);const U=C.toISOString().split("T")[0];U<=sa()&&ce(U)},"aria-label":"Next week",disabled:os[6]>=sa(),children:c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),c.jsx("div",{className:"nut-week-days",children:os.map((C,U)=>{const ae=new Date(C+"T12:00:00").getDate(),re=C===z,We=C>sa(),qe=C===sa();return c.jsxs("button",{className:`nut-week-day${re?" selected":""}${qe?" today":""}${We?" future":""}`,disabled:We,onClick:()=>ce(C),children:[c.jsx("span",{className:"nut-week-day-letter",children:Ri[U]}),c.jsx("span",{className:"nut-week-day-num",children:ae})]},C)})})]}),Re&&c.jsxs("div",{className:"nut-calendar nut-calendar-dark",children:[c.jsxs("div",{className:"nut-cal-header",children:[c.jsx("button",{onClick:()=>D(C=>{let U=C.month-1,ae=C.year;return U<0&&(U=11,ae--),{year:ae,month:U}}),children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"15 18 9 12 15 6"})})}),c.jsxs("span",{children:[Le[I.month]," ",I.year]}),c.jsx("button",{onClick:()=>D(C=>{let U=C.month+1,ae=C.year;return U>11&&(U=0,ae++),{year:ae,month:U}}),disabled:I.year===new Date().getFullYear()&&I.month>=new Date().getMonth(),children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),c.jsx("div",{className:"nut-cal-days-header",children:Fe.map(C=>c.jsx("span",{children:C},C))}),c.jsxs("div",{className:"nut-cal-grid",children:[[...Array(Me(I.year,I.month))].map((C,U)=>c.jsx("span",{},`e${U}`)),[...Array(Te(I.year,I.month))].map((C,U)=>{const ae=U+1,re=`${I.year}-${String(I.month+1).padStart(2,"0")}-${String(ae).padStart(2,"0")}`,We=re>sa(),qe=re===z,Pe=re===sa();return c.jsx("button",{className:`nut-cal-day${qe?" selected":""}${Pe?" today":""}${We?" future":""}`,disabled:We,onClick:()=>{ce(re),N(!1)},children:ae},ae)})]})]}),c.jsxs("div",{className:"nut-rings-row",children:[Fn("Protein","Protein",we.protein,w.protein,"ring-protein"),Fn("Carbs","Carbs",we.carbs,w.carbs,"ring-carbs"),Fn("Fats","Fats",we.fats,w.fats,"ring-fats"),Fn("Calories","kCal",we.calories,w.calories,"ring-cals")]})]})]}),c.jsx("div",{className:"nut-light-zone",children:c.jsxs("div",{className:"nut-light-content",children:[Ce&&c.jsxs("button",{className:"nut-water-quick",onClick:()=>R(!0),children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",width:"18",height:"18",children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),c.jsxs("span",{className:"nut-water-quick-count",children:[J.water," / ",w?.waterGoal||8]}),c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",width:"14",height:"14",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})]}),c.jsx("div",{className:"nut-log-section",children:c.jsx("div",{className:"nut-meals-list",children:CD.map(C=>{const U=J.entries.filter(re=>(re.meal||"snacks")===C.key),ae=U.reduce((re,We)=>({protein:re.protein+(We.protein||0),carbs:re.carbs+(We.carbs||0),fats:re.fats+(We.fats||0),calories:re.calories+(We.calories||0)}),{protein:0,carbs:0,fats:0,calories:0});return c.jsxs("div",{className:"nut-meal-card",children:[c.jsxs("div",{className:"nut-meal-card-header",children:[c.jsx("span",{className:`nut-meal-card-icon nut-meal-icon-${C.key}`,children:ND[C.key]}),c.jsx("span",{className:"nut-meal-card-title",children:C.label}),U.length>0&&c.jsxs("span",{className:"nut-meal-card-cal",children:[ae.calories," cal"]}),Ce&&c.jsxs("div",{className:"nut-add-wrapper",children:[c.jsx("button",{className:"nut-meal-add-btn",onClick:()=>ht(Je===C.key?null:C.key),"aria-label":`Add to ${C.label}`,children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),Je===C.key&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"nut-add-picker-backdrop",onClick:()=>ht(null)}),c.jsxs("div",{className:"nut-add-picker",children:[c.jsxs("button",{onClick:()=>{ht(null),ir(C.key,"scan")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),c.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),c.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),c.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),c.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),c.jsx("span",{children:"Scan"})]}),c.jsxs("button",{onClick:()=>{ht(null),ir(C.key,"search")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),c.jsx("span",{children:"Search"})]}),c.jsxs("button",{onClick:()=>{ht(null),ir(C.key,"manual")},children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("span",{children:"Manual"})]}),c.jsxs("button",{onClick:()=>{ht(null),ir(C.key,"favourites")},children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),c.jsx("span",{children:"Favs"})]})]})]})]})]}),U.length>0&&c.jsxs("div",{className:"nut-meal-bars",children:[c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-p",children:"P"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-protein",style:{width:`${Math.min(100,w.protein>0?ae.protein/w.protein*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[ae.protein,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-c",children:"C"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-carbs",style:{width:`${Math.min(100,w.carbs>0?ae.carbs/w.carbs*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[ae.carbs,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-f",children:"F"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-fats",style:{width:`${Math.min(100,w.fats>0?ae.fats/w.fats*100:0)}%`}})}),c.jsxs("span",{className:"nut-meal-bar-val",children:[ae.fats,"g"]})]}),c.jsxs("div",{className:"nut-meal-bar-row",children:[c.jsx("span",{className:"nut-meal-bar-label nut-macro-cal",children:"K"}),c.jsx("div",{className:"nut-meal-bar-track",children:c.jsx("div",{className:"nut-meal-bar-fill bar-cals",style:{width:`${Math.min(100,w.calories>0?ae.calories/w.calories*100:0)}%`}})}),c.jsx("span",{className:"nut-meal-bar-val",children:ae.calories})]})]}),U.length>0&&c.jsx("div",{className:"nut-log-list",children:U.map(re=>c.jsxs("div",{className:"nut-log-item",children:[c.jsxs("div",{className:"nut-log-item-info",children:[c.jsx("span",{className:"nut-log-item-name",children:re.name}),re.serving&&c.jsx("span",{className:"nut-log-item-serving",children:re.serving})]}),c.jsxs("div",{className:"nut-log-item-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[re.protein,"p"]}),c.jsxs("span",{className:"nut-macro-c",children:[re.carbs,"c"]}),c.jsxs("span",{className:"nut-macro-f",children:[re.fats,"f"]}),c.jsx("span",{className:"nut-macro-cal",children:re.calories})]}),Ce&&c.jsx("button",{className:"nut-log-delete",onClick:()=>Jn(re.id),"aria-label":"Remove",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},re.id))}),U.length===0&&c.jsx("div",{className:"nut-meal-empty",children:c.jsx("p",{children:Ce?"Tap + to add food":"No entries"})})]},C.key)})})})]})}),S&&c.jsx("div",{className:"nut-modal-overlay",onClick:()=>R(!1),children:c.jsxs("div",{className:"nut-water-popup",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"nut-water-popup-header",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",width:"20",height:"20",style:{color:"#2196f3"},children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),c.jsx("span",{children:"Water Intake"}),c.jsx("button",{className:"nut-modal-close",onClick:()=>R(!1),children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c.jsxs("div",{className:"nut-water-popup-body",children:[c.jsx("div",{className:"nut-water-glasses",children:[...Array(w?.waterGoal||8)].map((C,U)=>c.jsx("div",{className:`nut-water-glass ${U<J.water?"filled":""}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:U<J.water?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})})},U))}),c.jsxs("div",{className:"nut-water-popup-count",children:[J.water," / ",w?.waterGoal||8," glasses"]}),c.jsxs("div",{className:"nut-water-btns",children:[c.jsx("button",{onClick:ln,disabled:J.water<=0,children:"-"}),c.jsx("button",{onClick:tn,children:"+"})]})]})]})}),W&&c.jsx("div",{className:"nut-modal-overlay",onClick:()=>{Zn(),P(null),se(null),an(null)},children:c.jsxs("div",{className:"nut-modal",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"nut-modal-header",children:[c.jsx("h3",{children:W==="scan"?"Scan Barcode":W==="search"?"Search Food":W==="favourites"?"Favourites":"Manual Entry"}),c.jsx("button",{className:"nut-modal-close",onClick:()=>{Zn(),P(null),se(null),an(null)},children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),W==="scan"&&!ie&&c.jsxs("div",{className:"nut-scan-area",children:[c.jsxs("div",{className:"nut-scanner-wrapper",children:[c.jsx("div",{id:"barcode-reader",className:"nut-scanner-view"}),ge&&!ze&&c.jsx("div",{className:"nut-scan-line"}),ze&&c.jsxs("div",{className:"nut-scan-detected-overlay",children:[c.jsx("svg",{className:"nut-scan-detected-tick",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}),c.jsx("p",{className:"nut-scan-detected-label",children:"Barcode found!"}),c.jsx("p",{className:"nut-scan-detected-code",children:ze})]})]}),!ge&&c.jsxs("button",{className:"nut-scan-start-btn",onClick:Wr,children:[c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),c.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),c.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),c.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),c.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),"Open Camera"]}),ge&&!ze&&c.jsx("p",{className:"nut-scan-hint",children:"Align barcode within the frame"}),c.jsx("div",{className:"nut-barcode-divider",children:c.jsx("span",{children:"or enter barcode manually"})}),c.jsxs("div",{className:"nut-barcode-manual",children:[c.jsx("input",{type:"text",inputMode:"numeric",value:te,onChange:C=>Z(C.target.value),onKeyDown:C=>C.key==="Enter"&&te.trim()&&xr(te.trim()),placeholder:"Enter barcode number"}),c.jsx("button",{onClick:()=>te.trim()&&xr(te.trim()),disabled:!te.trim()||he,children:he?"...":"Look Up"})]})]}),W==="scan"&&ie&&(()=>{const C=ie.servingUnit||"g",U=ie.portion,ae=et==="portion"&&U?Et*U.weight:parseFloat(Lt)||0,re=ae/100,We=C==="ml"?[100,200,250,500]:[50,100,150,200],qe=et==="portion"&&U?`${Et} ${U.label}${Et!==1?"s":""} (${Math.round(ae)}${C})`:`${Math.round(ae)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[ie.image&&c.jsx("img",{src:ie.image,alt:ie.name||"Product",className:"nut-product-img",loading:"lazy"}),c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:ie.name}),c.jsx("button",{className:`nut-fav-star confirm${Ft(ie.name)?" active":""}`,onClick:()=>Un({name:ie.name,protein:ie.protein,carbs:ie.carbs,fats:ie.fats,calories:ie.calories,serving:ie.servingSize,per100g:{protein:ie.protein,carbs:ie.carbs,fats:ie.fats,calories:ie.calories},servingUnit:ie.servingUnit||"g",portion:ie.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ft(ie.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),ie.brand&&c.jsx("p",{className:"nut-product-brand",children:ie.brand}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ie.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[ie.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[ie.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[ie.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:et==="portion"?"active":"",onClick:()=>{$t("portion"),Et<1&&tt(1)},children:"Portions"}),c.jsxs("button",{className:et==="weight"?"active":"",onClick:()=>{$t("weight"),xt(String(Math.round(ae)||100))},children:["Custom (",C,")"]})]}),et==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>tt(Math.max(1,Et-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:Et}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,Et!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(ae),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>tt(Et+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Lt,onChange:Pe=>xt(Pe.target.value),onFocus:Pe=>Pe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:We.map(Pe=>c.jsxs("button",{className:`nut-quick-btn${Lt===String(Pe)?" active":""}`,onClick:()=>xt(String(Pe)),children:[Pe,C]},Pe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(ie.protein*re),"p / ",Math.round(ie.carbs*re),"c / ",Math.round(ie.fats*re),"f / ",Math.round(ie.calories*re)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>{an(null),se("scan")},children:"Scan Again"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>jn({name:ie.name,protein:Math.round(ie.protein*re),carbs:Math.round(ie.carbs*re),fats:Math.round(ie.fats*re),calories:Math.round(ie.calories*re),serving:qe}),children:"Add"})]})]})})(),W==="search"&&!ie&&c.jsxs("div",{className:"nut-search-area",children:[c.jsxs("div",{className:"nut-search-bar",children:[c.jsx("input",{type:"text",ref:ye,value:Ee,onChange:C=>Oe(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(clearTimeout(oe.current),zn())},onFocus:()=>setTimeout(()=>ye.current?.scrollIntoView({behavior:"smooth",block:"center"}),350),placeholder:"Search food or product...",autoFocus:!0}),c.jsx("button",{onClick:zn,disabled:Ot,children:Ot?"...":"Search"})]}),c.jsxs("div",{className:"nut-search-results",children:[$e.map((C,U)=>c.jsxs("button",{className:"nut-search-item",onClick:()=>{an(C),C.portion?(tt(1),xt(String(C.portion.weight)),$t("portion")):(tt(0),xt(String(C.servingValue||100)),$t("weight"))},children:[C.image&&c.jsx("img",{src:C.image,alt:C.name||"Product",loading:"lazy"}),c.jsxs("div",{className:"nut-search-item-info",children:[c.jsx("span",{className:"nut-search-item-name",children:C.name}),C.brand&&c.jsx("span",{className:"nut-search-item-brand",children:C.brand}),c.jsxs("span",{className:"nut-search-item-macros",children:[C.calories," cal  ",C.protein,"p  ",C.carbs,"c  ",C.fats,"f per 100",C.servingUnit||"g"]})]})]},U)),$e.length===0&&Ee&&!Ot&&c.jsx("p",{className:"nut-search-empty",children:"No results found. Try a different search or use manual entry."})]})]}),W==="search"&&ie&&(()=>{const C=ie.servingUnit||"g",U=ie.portion,ae=et==="portion"&&U?Et*U.weight:parseFloat(Lt)||0,re=ae/100,We=C==="ml"?[100,200,250,500]:[50,100,150,200],qe=et==="portion"&&U?`${Et} ${U.label}${Et!==1?"s":""} (${Math.round(ae)}${C})`:`${Math.round(ae)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[ie.image&&c.jsx("img",{src:ie.image,alt:ie.name||"Product",className:"nut-product-img",loading:"lazy"}),c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:ie.name}),c.jsx("button",{className:`nut-fav-star confirm${Ft(ie.name)?" active":""}`,onClick:()=>Un({name:ie.name,protein:ie.protein,carbs:ie.carbs,fats:ie.fats,calories:ie.calories,serving:ie.servingSize,per100g:{protein:ie.protein,carbs:ie.carbs,fats:ie.fats,calories:ie.calories},servingUnit:ie.servingUnit||"g",portion:ie.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ft(ie.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),ie.brand&&c.jsx("p",{className:"nut-product-brand",children:ie.brand}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ie.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[ie.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[ie.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[ie.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:et==="portion"?"active":"",onClick:()=>{$t("portion"),Et<1&&tt(1)},children:"Portions"}),c.jsxs("button",{className:et==="weight"?"active":"",onClick:()=>{$t("weight"),xt(String(Math.round(ae)||100))},children:["Custom (",C,")"]})]}),et==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>tt(Math.max(1,Et-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:Et}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,Et!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(ae),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>tt(Et+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Lt,onChange:Pe=>xt(Pe.target.value),onFocus:Pe=>Pe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:We.map(Pe=>c.jsxs("button",{className:`nut-quick-btn${Lt===String(Pe)?" active":""}`,onClick:()=>xt(String(Pe)),children:[Pe,C]},Pe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(ie.protein*re),"p / ",Math.round(ie.carbs*re),"c / ",Math.round(ie.fats*re),"f / ",Math.round(ie.calories*re)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>an(null),children:"Back to Search"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>jn({name:ie.name,protein:Math.round(ie.protein*re),carbs:Math.round(ie.carbs*re),fats:Math.round(ie.fats*re),calories:Math.round(ie.calories*re),serving:qe}),children:"Add"})]})]})})(),W==="manual"&&c.jsxs("div",{className:"nut-manual-form",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Food Name"}),c.jsx("input",{type:"text",value:Rt.name,onChange:C=>en(U=>({...U,name:C.target.value})),placeholder:"e.g. Chicken Breast",autoFocus:!0})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Serving Size (optional)"}),c.jsx("input",{type:"text",value:Rt.serving,onChange:C=>en(U=>({...U,serving:C.target.value})),placeholder:"e.g. 150g, 1 cup"})]}),c.jsxs("div",{className:"nut-manual-macros",children:[c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Protein (g)"}),c.jsx("input",{type:"number",value:Rt.protein,onChange:C=>en(U=>({...U,protein:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Carbs (g)"}),c.jsx("input",{type:"number",value:Rt.carbs,onChange:C=>en(U=>({...U,carbs:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Fats (g)"}),c.jsx("input",{type:"number",value:Rt.fats,onChange:C=>en(U=>({...U,fats:C.target.value})),min:"0"})]}),c.jsxs("div",{className:"nut-form-group",children:[c.jsx("label",{children:"Calories"}),c.jsx("input",{type:"number",value:Rt.calories,onChange:C=>en(U=>({...U,calories:C.target.value})),min:"0"})]})]}),c.jsx("button",{className:"nut-btn-primary",disabled:!Rt.name.trim(),onClick:()=>jn({name:Rt.name,protein:parseFloat(Rt.protein)||0,carbs:parseFloat(Rt.carbs)||0,fats:parseFloat(Rt.fats)||0,calories:parseFloat(Rt.calories)||0,serving:Rt.serving||""}),children:"Add Food"})]}),W==="favourites"&&!ie&&(()=>{const C=ps(),U=ae=>{if(ae.per100g){const re=ae.per100g;an({name:ae.name,brand:"",image:null,servingSize:ae.serving||"100g",servingValue:100,servingUnit:ae.servingUnit||"g",portion:ae.portion||null,protein:re.protein,carbs:re.carbs,fats:re.fats,calories:re.calories,per100g:!0}),ae.portion?(tt(1),xt(String(ae.portion.weight)),$t("portion")):(tt(0),xt("100"),$t("weight"))}else jn({name:ae.name,protein:ae.protein,carbs:ae.carbs,fats:ae.fats,calories:ae.calories,serving:ae.serving||""})};return c.jsx("div",{className:"nut-recent-area",children:C.length===0?c.jsx("p",{className:"nut-search-empty",children:"No favourites yet. Tap the star on any food to save it here."}):c.jsx("div",{className:"nut-recent-list",children:C.map((ae,re)=>c.jsxs("div",{className:"nut-recent-item-row",children:[c.jsx("button",{className:"nut-fav-star active",onClick:We=>{We.stopPropagation(),Un(ae)},children:c.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsxs("button",{className:"nut-recent-item",onClick:()=>U(ae),children:[c.jsxs("div",{className:"nut-recent-item-info",children:[c.jsx("span",{className:"nut-recent-item-name",children:ae.name}),c.jsx("span",{className:"nut-recent-item-serving",children:ae.serving||""})]}),c.jsxs("span",{className:"nut-recent-item-macros",children:[ae.calories," cal"]})]})]},re))})})})(),W==="favourites"&&ie&&(()=>{const C=ie.servingUnit||"g",U=ie.portion,ae=et==="portion"&&U?Et*U.weight:parseFloat(Lt)||0,re=ae/100,We=C==="ml"?[100,200,250,500]:[50,100,150,200],qe=et==="portion"&&U?`${Et} ${U.label}${Et!==1?"s":""} (${Math.round(ae)}${C})`:`${Math.round(ae)}${C}`;return c.jsxs("div",{className:"nut-product-result",children:[c.jsxs("div",{className:"nut-product-name-row",children:[c.jsx("h4",{children:ie.name}),c.jsx("button",{className:`nut-fav-star confirm${Ft(ie.name)?" active":""}`,onClick:()=>Un({name:ie.name,protein:ie.protein,carbs:ie.carbs,fats:ie.fats,calories:ie.calories,serving:ie.servingSize,per100g:{protein:ie.protein,carbs:ie.carbs,fats:ie.fats,calories:ie.calories},servingUnit:ie.servingUnit||"g",portion:ie.portion||null}),children:c.jsx("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:Ft(ie.name)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),c.jsxs("p",{className:"nut-product-per",children:["Per 100",C,":"]}),c.jsxs("div",{className:"nut-product-macros",children:[c.jsxs("span",{className:"nut-macro-p",children:[ie.protein,"g P"]}),c.jsxs("span",{className:"nut-macro-c",children:[ie.carbs,"g C"]}),c.jsxs("span",{className:"nut-macro-f",children:[ie.fats,"g F"]}),c.jsxs("span",{className:"nut-macro-cal",children:[ie.calories," cal"]})]}),U&&c.jsxs("div",{className:"nut-mode-toggle",children:[c.jsx("button",{className:et==="portion"?"active":"",onClick:()=>{$t("portion"),Et<1&&tt(1)},children:"Portions"}),c.jsxs("button",{className:et==="weight"?"active":"",onClick:()=>{$t("weight"),xt(String(Math.round(ae)||100))},children:["Custom (",C,")"]})]}),et==="portion"&&U?c.jsxs("div",{className:"nut-portion-stepper",children:[c.jsx("button",{className:"nut-stepper-btn",onClick:()=>tt(Math.max(1,Et-1)),children:"-"}),c.jsxs("div",{className:"nut-stepper-display",children:[c.jsx("span",{className:"nut-stepper-count",children:Et}),c.jsxs("span",{className:"nut-stepper-label",children:[U.label,Et!==1?"s":""]}),c.jsxs("span",{className:"nut-stepper-weight",children:[Math.round(ae),C]})]}),c.jsx("button",{className:"nut-stepper-btn",onClick:()=>tt(Et+1),children:"+"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"nut-serving-adjust",children:[c.jsxs("label",{children:["Serving (",C,")"]}),c.jsx("input",{type:"number",inputMode:"numeric",value:Lt,onChange:Pe=>xt(Pe.target.value),onFocus:Pe=>Pe.target.select(),min:"0"})]}),c.jsx("div",{className:"nut-quick-amounts",children:We.map(Pe=>c.jsxs("button",{className:`nut-quick-btn${Lt===String(Pe)?" active":""}`,onClick:()=>xt(String(Pe)),children:[Pe,C]},Pe))})]}),c.jsx("div",{className:"nut-product-total",children:c.jsxs("span",{children:["Total: ",Math.round(ie.protein*re),"p / ",Math.round(ie.carbs*re),"c / ",Math.round(ie.fats*re),"f / ",Math.round(ie.calories*re)," cal"]})}),c.jsxs("div",{className:"nut-product-actions",children:[c.jsx("button",{className:"nut-btn-secondary",onClick:()=>an(null),children:"Back to Favourites"}),c.jsx("button",{className:"nut-btn-primary",onClick:()=>jn({name:ie.name,protein:Math.round(ie.protein*re),carbs:Math.round(ie.carbs*re),fats:Math.round(ie.fats*re),calories:Math.round(ie.calories*re),serving:qe}),children:"Add"})]})]})})()]})}),c.jsx(lo,{active:"nutrition"}),Vt&&c.jsx("div",{className:`toast-notification ${Vt.type}`,children:Vt.message})]})}const p1="/login/assets/randomiser-glq9YJkL.jpg",DD="/login/assets/programme-card-workout-CnNzTYkz.webp",MD="/login/assets/prog-fullbody-4wk-r6m9HJys.jpg",PD="/login/assets/mg-arms-BeOQU3wx.jpg",sp=60,rp=5,OD=[{threshold:1e3,label:"1 Tonne"},{threshold:5e3,label:"5 Tonne"},{threshold:1e4,label:"10 Tonne"},{threshold:25e3,label:"25 Tonne"},{threshold:5e4,label:"50 Tonne"},{threshold:1e5,label:"100 Tonne"},{threshold:25e4,label:"250 Tonne"},{threshold:5e5,label:"500 Tonne"},{threshold:1e6,label:"1 Million kg"}],LD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Squeeze Press":"push","Incline Dumbbell Press":"push","Dumbbell Fly":"push","Dumbbell Pullover":"push","Tricep Kickback":"push","Dumbbell Shrug":"push","Dumbbell Y-Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Wide Dumbbell Bent Over Row":"pull","Reverse Fly":"pull","Concentration Curl":"pull","Wide Grip Bicep Curl":"pull","Wrist Curl":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core","Kettlebell Bird Dog Drag":"core"},VD={fullbody_4wk:{duration:4,daysPerWeek:3},fullbody_8wk:{duration:8,daysPerWeek:3},fullbody_12wk:{duration:12,daysPerWeek:3},core_4wk:{duration:4,daysPerWeek:3},core_8wk:{duration:8,daysPerWeek:3},core_12wk:{duration:12,daysPerWeek:3},upper_4wk:{duration:4,daysPerWeek:3},lower_4wk:{duration:4,daysPerWeek:3}},UD={fullbody:"linear-gradient(160deg, rgba(153,49,60,0.15) 0%, rgba(153,49,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",core:"linear-gradient(160deg, rgba(30,80,120,0.2) 0%, rgba(30,80,120,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",upper:"linear-gradient(160deg, rgba(100,60,140,0.2) 0%, rgba(100,60,140,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)",lower:"linear-gradient(160deg, rgba(40,120,80,0.2) 0%, rgba(40,120,80,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.88) 80%, rgba(0,0,0,0.95) 100%)"},ip={arms:"linear-gradient(160deg, rgba(180,60,60,0.2) 0%, rgba(180,60,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",chest:"linear-gradient(160deg, rgba(50,100,160,0.2) 0%, rgba(50,100,160,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",back:"linear-gradient(160deg, rgba(80,130,60,0.2) 0%, rgba(80,130,60,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",shoulders:"linear-gradient(160deg, rgba(160,100,40,0.2) 0%, rgba(160,100,40,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",legs:"linear-gradient(160deg, rgba(100,50,140,0.2) 0%, rgba(100,50,140,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)",core:"linear-gradient(160deg, rgba(30,80,120,0.2) 0%, rgba(30,80,120,0.35) 30%, rgba(0,0,0,0.6) 55%, rgba(0,0,0,0.9) 80%, rgba(0,0,0,0.96) 100%)"},ap=[{id:"fullbody_4wk",name:"4-Week Full Body",focus:"fullbody",duration:4,level:"All Levels",daysPerWeek:3,image:MD},{id:"fullbody_8wk",name:"8-Week Full Body",focus:"fullbody",duration:8,level:"Intermediate",daysPerWeek:3},{id:"fullbody_12wk",name:"12-Week Full Body",focus:"fullbody",duration:12,level:"Advanced",daysPerWeek:3},{id:"core_4wk",name:"4-Week Core",focus:"core",duration:4,level:"Beginner",daysPerWeek:3},{id:"core_8wk",name:"8-Week Core",focus:"core",duration:8,level:"Intermediate",daysPerWeek:3},{id:"core_12wk",name:"12-Week Core",focus:"core",duration:12,level:"Advanced",daysPerWeek:3},{id:"upper_4wk",name:"4-Week Upper Body",focus:"upper",duration:4,level:"Intermediate",daysPerWeek:3},{id:"lower_4wk",name:"4-Week Lower Body",focus:"lower",duration:4,level:"Intermediate",daysPerWeek:3}],_c=[{key:"arms",label:"Arms",icon:"M7 5h2v14H7V5zm8 0h2v14h-2V5zm-5 4h4v6h-4V9z",image:PD},{key:"chest",label:"Chest",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-2h2v2zm4 0h-2v-2h2v2zm3-6c0 1.1-.36 2.12-.97 2.95l-.87-.87C16.7 12.53 17 11.8 17 11c0-2.76-2.24-5-5-5S7 8.24 7 11c0 .8.3 1.53.84 2.08l-.87.87A4.977 4.977 0 0 1 6 11c0-3.31 2.69-6 6-6s6 2.69 6 6z"},{key:"back",label:"Back",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm4 18H8v-6l-4-4 1.41-1.41L8 11.17V8h8v3.17l2.59-2.58L20 10l-4 4v6z"},{key:"shoulders",label:"Shoulders",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z"},{key:"legs",label:"Legs",icon:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"},{key:"core",label:"Core",icon:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"}],g1={chest:[{id:"chest_strength",name:"Chest Strength",desc:"Heavy pressing for max strength",level:"Intermediate",overview:"A heavy pressing session designed to build raw chest strength. Focus on controlled negatives and powerful pressing movements.",tips:["Go heavy  pick a weight where the last 2 reps are a real challenge","Control the negative (lowering phase) for 2-3 seconds","Keep your shoulder blades squeezed together throughout all pressing movements","Rest 90-120 seconds between sets to allow full recovery"],exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Dumbbell Squeeze Press",type:"weighted",sets:3,reps:10,storagePath:null},{name:"Incline Dumbbell Press",type:"weighted",sets:3,reps:10,storagePath:null},{name:"Dumbbell Pullover",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Dumbbell Fly",type:"weighted",sets:3,reps:12,storagePath:null}]},{id:"chest_hypertrophy",name:"Chest Hypertrophy",desc:"Volume training for muscle growth",level:"Intermediate",overview:"A high-volume chest session focused on time under tension and muscle growth. Lighter weights, more reps, and slow controlled movements.",tips:["Use moderate weight  you should feel the burn by rep 10","Squeeze your chest at the top of every rep for 1 second","Keep rest periods short at 60-90 seconds to keep the pump going","On press ups, go to failure on the final set"],exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Wide Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Dumbbell Fly",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Incline Dumbbell Press",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Press Up",type:"reps",sets:3,reps:20,storagePath:"exercises/bodyweight/upper/press up.mp4"}]},{id:"chest_endurance",name:"Chest Endurance",desc:"Bodyweight pushing to failure",level:"All Levels",overview:"No weights needed. This bodyweight-only session builds chest endurance and muscular stamina through high-rep push up variations.",tips:["Focus on full range of motion  chest to floor on every rep","Keep your core tight and body in a straight line throughout","Scale down to knee press ups if you can't maintain form","Push through the burn  the last 5 reps are where the growth happens"],exercises:[{name:"Press Up",type:"reps",sets:4,reps:20,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Wide Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Diamond Press Up",type:"reps",sets:3,reps:12,storagePath:null},{name:"Decline Press Up",type:"reps",sets:3,reps:15,storagePath:null},{name:"Press Up Hold",type:"timed",sets:3,time:30,storagePath:null}]}],back:[{id:"back_strength",name:"Back Strength",desc:"Heavy rows for a thick back",level:"Intermediate",overview:"Build a thick, powerful back with heavy rowing movements. This session targets your lats, rhomboids, and traps for overall back development.",tips:["Go heavy on rows  use a weight that challenges you by rep 6-8","Drive your elbows back and squeeze your shoulder blades together at the top","Keep a slight bend in your knees and hinge at the hips for bent over movements","Rest 90-120 seconds between sets for full recovery"],exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Pullover",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Dumbbell Shrug",type:"weighted",sets:3,reps:15,storagePath:null}]},{id:"back_hypertrophy",name:"Back Hypertrophy",desc:"Width and thickness volume work",level:"Intermediate",overview:"A volume-focused back session combining rows and isolation moves to build width and thickness. Focus on the mind-muscle connection.",tips:["Use moderate weight  feel the stretch and squeeze on every rep","On renegade rows, keep your hips square to the floor and avoid rotating","For reverse flys, use lighter weight and focus on squeezing your rear delts","Keep rest to 60-90 seconds to maintain intensity"],exercises:[{name:"Renegade Row",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/renegade row.mp4"},{name:"Wide Dumbbell Bent Over Row",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Reverse Fly",type:"weighted",sets:3,reps:15,storagePath:null},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:10,storagePath:null}]},{id:"back_endurance",name:"Back Endurance",desc:"Bodyweight back conditioning",level:"All Levels",overview:"A bodyweight session to strengthen your posterior chain and improve posture. Great for back health, mobility, and muscular endurance.",tips:["On superman holds, lift your arms and legs simultaneously and hold tight","Focus on slow, controlled movements  quality over speed","Breathe steadily throughout timed holds  don't hold your breath","Engage your glutes and lower back together on every movement"],exercises:[{name:"Superman Hold",type:"timed",sets:4,time:30,storagePath:"exercises/bodyweight/upper/Superman Hold.mp4"},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:12,storagePath:null},{name:"Reverse Snow Angel",type:"reps",sets:3,reps:12,storagePath:null},{name:"Bird Dog",type:"reps",sets:3,reps:12,storagePath:"exercises/bodyweight/core/Bird Dog.mp4"},{name:"Back Extension Hold",type:"timed",sets:3,time:30,storagePath:null}]}],shoulders:[{id:"shoulders_strength",name:"Shoulder Strength",desc:"Heavy pressing for boulder shoulders",level:"Intermediate",overview:"A heavy overhead pressing session to build strong, powerful shoulders. Compound movements first, followed by isolation work for all three delt heads.",tips:["Go heavy on presses  pick a weight where you struggle on the last 2 reps","Brace your core and avoid arching your back during overhead movements","Press straight up and control the weight down slowly","Rest 90-120 seconds between pressing sets, 60 seconds for isolation moves"],exercises:[{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:4,reps:8,storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Shrug",type:"weighted",sets:3,reps:15,storagePath:null}]},{id:"shoulders_hypertrophy",name:"Shoulder Hypertrophy",desc:"Volume and isolation for 3D delts",level:"Intermediate",overview:"A high-volume session targeting all three heads of the deltoid for that 3D capped shoulder look. Moderate weight, high reps, constant tension.",tips:["Use lighter weight than you think  shoulders respond best to high reps","On lateral raises, lead with your elbows and don't swing the weight","Pause at the top of each raise for a 1-second squeeze","Keep rest periods at 60 seconds to maximise the pump"],exercises:[{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:4,reps:15,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,reps:15,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Dumbbell Y-Raise",type:"weighted",sets:3,reps:12,storagePath:null}]},{id:"shoulders_endurance",name:"Shoulder Endurance",desc:"Bodyweight and high-rep work",level:"All Levels",overview:"A shoulder endurance session combining bodyweight movements with high-rep dumbbell work. Builds stamina, stability, and shoulder resilience.",tips:["On pike push ups, walk your feet close to your hands to increase the angle","For high-rep lateral raises, use a very light weight and focus on form","Wall walks are advanced  scale to pike push ups if needed","Keep your core braced throughout to protect your lower back"],exercises:[{name:"Pike Push Ups",type:"reps",sets:4,reps:12,storagePath:"exercises/bodyweight/upper/pike push ups.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:3,reps:20,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Wall Walks",type:"reps",sets:3,reps:6,storagePath:null},{name:"Prone Y-T-W Raises",type:"reps",sets:3,reps:10,storagePath:null},{name:"Shoulder Tap Hold",type:"timed",sets:3,time:30,storagePath:null}]}],arms:[{id:"arms_bicep",name:"Bicep Focus",desc:"Curl variations for peak biceps",level:"All Levels",overview:"An arm session dedicated entirely to biceps. Multiple curl variations target different parts of the bicep for maximum peak and thickness.",tips:["Keep your elbows pinned to your sides  no swinging","Control the negative (lowering) for 2-3 seconds on every rep","Start with your heaviest weight and decrease as you fatigue","Squeeze hard at the top of each curl for a full contraction"],exercises:[{name:"Bicep Curl",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Concentration Curl",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Wide Grip Bicep Curl",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Isometric Bicep Hold",type:"timed",sets:3,time:20,storagePath:null}]},{id:"arms_tricep",name:"Tricep Focus",desc:"Extensions and dips for horseshoe triceps",level:"All Levels",overview:"All-out tricep training with extensions, dips, and pressing movements. The triceps make up two-thirds of your arm  this session builds serious size.",tips:["On overhead extensions, keep your elbows close to your head","For skullcrushers, lower the weight slowly to just above your forehead","On dips, lean slightly forward to reduce shoulder strain","Full lockout at the top of every extension for maximum tricep contraction"],exercises:[{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Skullcrushers",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/skullcrushers.mp4"},{name:"Tricep Dips",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/upper/tricep dips.mp4"},{name:"Tricep Kickback",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Diamond Press Up",type:"reps",sets:3,reps:12,storagePath:null}]},{id:"arms_full",name:"Full Arms",desc:"Superset biceps and triceps",level:"All Levels",overview:"A balanced arm session alternating between biceps and triceps. Superset style keeps the intensity high and maximises the pump.",tips:["Superset each pair  do biceps then immediately hit triceps","Use moderate weight that lets you maintain strict form for all reps","Rest 60 seconds after each superset pair","Focus on the squeeze at the peak contraction of every rep"],exercises:[{name:"Bicep Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Tricep Kickback",type:"weighted",sets:3,reps:12,storagePath:null},{name:"Hammer Curl",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Wrist Curl",type:"weighted",sets:3,reps:15,storagePath:null}]}],legs:[{id:"legs_quad",name:"Quad Dominant",desc:"Squats and lunges for quad power",level:"All Levels",overview:"A quad-focused leg session built around squats and lunges. Heavy compound movements to build strong, powerful quads and overall leg strength.",tips:["On goblet squats, hold the dumbbell close to your chest and sit deep","Keep your knees tracking over your toes  don't let them cave inward","Drive through your heels on all squatting movements","Rest 90-120 seconds between heavy sets, 60 seconds on bodyweight moves"],exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.mp4"},{name:"Dumbbell Squat Pulses",type:"weighted",sets:3,reps:15,storagePath:"exercises/dumbbells/lower/dumbbell squat pulses.mp4"},{name:"Bulgarian Split Squats",type:"reps",sets:3,reps:12,storagePath:"exercises/bodyweight/lower/bulgarian split squats.mp4"},{name:"Squat And Hold",type:"timed",sets:3,time:30,storagePath:"exercises/bodyweight/lower/squat and hold.mp4"}]},{id:"legs_ham_glute",name:"Hamstring & Glute",desc:"Posterior chain focus",level:"Intermediate",overview:"Target the back of your legs with deadlift and hip hinge variations. This session builds a strong posterior chain  hamstrings, glutes, and lower back.",tips:["On RDLs, push your hips back and feel the stretch in your hamstrings","Keep a slight bend in your knees throughout hip hinge movements","Squeeze your glutes hard at the top of every rep","For single leg work, start with your weaker side first"],exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,reps:10,storagePath:"exercises/dumbbells/lower/romanian deadlifts.mp4"},{name:"1 Legged RDL",type:"weighted",sets:3,reps:10,storagePath:"exercises/dumbbells/lower/1 legged rdl.mp4"},{name:"Hip Thrusts",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/hip thrusts.mp4"},{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.mp4"},{name:"Donkey Kicks",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/donkey kicks.mp4"}]},{id:"legs_power",name:"Power & Plyo",desc:"Explosive leg training",level:"Intermediate",overview:"An explosive leg session combining plyometrics with weighted movements. Build power, speed, and athletic performance.",tips:["On jump squats, land softly with bent knees to absorb the impact","Explode up on every rep  power comes from speed, not just weight","Keep rest periods at 60-90 seconds to maintain intensity","Focus on landing mechanics  knees out, chest up, soft landing"],exercises:[{name:"Jump Squats",type:"reps",sets:4,reps:12,storagePath:"exercises/bodyweight/lower/jump squats.mp4"},{name:"Dumbbell Box Step Ups",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell box step ups.mp4"},{name:"Skater Jumps",type:"reps",sets:3,reps:15,storagePath:"exercises/bodyweight/lower/skater jumps.mp4"},{name:"Dumbbell Reverse Lunges",type:"weighted",sets:3,reps:12,storagePath:"exercises/dumbbells/lower/dumbbell reverse lunges.mp4"},{name:"Weighted Calf Raises",type:"weighted",sets:4,reps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.mp4"}]}],core:[{id:"core_lower_abs",name:"Lower Abs Blast",desc:"40s work / 20s rest  3 rounds",level:"Intermediate",overview:"An interval-based core burner targeting the lower abdominals. 40 seconds of work followed by 20 seconds of rest  keep the intensity high and your lower back pressed into the floor throughout.",tips:["Press your lower back firmly into the floor on every rep","Exhale hard as you contract your abs  don't hold your breath","If your lower back lifts off the ground, reduce the range of motion","Focus on slow, controlled movements rather than speed"],interval:!0,rounds:3,work:40,rest:20,exercises:[{name:"Leg Raises",storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Reverse Crunch To Leg Raise",storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Flutter Kicks",storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Dead Bug Single Leg Drop",storagePath:"exercises/bodyweight/core/Dead Bug Single Leg Drop.mp4"},{name:"Hollow Body Hold",storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"Hollow Hold Flutter Kicks",storagePath:"exercises/bodyweight/core/Hollow Hold Flutter Kicks.mp4"}]},{id:"core_obliques",name:"Obliques & Rotation",desc:"35s work / 25s rest  3 rounds",level:"Intermediate",overview:"Target the obliques and rotational core muscles with this interval session. 35 seconds of work with 25 seconds rest  every exercise involves twisting, rotating, or side-bracing movements.",tips:["Rotate from your ribcage, not just your arms","Keep your hips as still as possible during twisting exercises","Brace your core before each movement  think about squeezing a belt","On side planks, stack your hips and push the floor away"],interval:!0,rounds:3,work:35,rest:25,exercises:[{name:"Russian Twist",storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Side Plank Rotation",storagePath:"exercises/bodyweight/core/Side Plank Rotation.mp4"},{name:"Cross Body Mountain Climbers",storagePath:"exercises/bodyweight/core/Cross Body Mountain Climbers.mp4"},{name:"Hip Dips Plank",storagePath:"exercises/bodyweight/core/Hip Dips Plank.mp4"},{name:"Bicycle Crunch",storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Side Plank",storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{id:"core_weighted",name:"Weighted Core",desc:"40s work / 20s rest  3 rounds",level:"Advanced",overview:"Add resistance to your core training with dumbbells and kettlebells. 40 seconds of weighted work followed by 20 seconds rest  this session builds serious core strength and stability.",tips:["Start with a moderate weight  form is more important than load","Brace your entire core before picking up the weight each round","Keep movements controlled  no swinging or using momentum","If grip fails before core does, go slightly lighter next time"],interval:!0,rounds:3,work:40,rest:20,exercises:[{name:"Russian Twists Dumbbell",storagePath:"exercises/dumbbells/core/russian twists dumbbell.mp4"},{name:"Kettlebell Russian Twist",storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Kettlebell Side Bends",storagePath:"exercises/kettlebells/core/kettlebell side bends.mp4"},{name:"Kneeling Kettlebell Halo",storagePath:"exercises/kettlebells/core/kneeling kettlebell halo.mp4"},{name:"Kettlebell Bird Dog Drag",storagePath:"exercises/kettlebells/core/kettlebell bird dog drag.mp4"},{name:"Dumbbell Plank Pull Through",storagePath:null}]}]},y1=[{key:"bodyweight",label:"Bodyweight",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"},{key:"dumbbells",label:"Dumbbells",icon:"M6 5H3v14h3V5zm12 0h-3v14h3V5zm-9 3H7v8h2V8zm7 0h-2v8h2V8zm-5 0h-2v8h2V8z"},{key:"kettlebells",label:"Kettlebells",icon:"M12 2C9.24 2 7 4.24 7 7c0 1.1.36 2.12.97 2.95C6.76 11.08 6 12.96 6 15c0 3.87 2.69 7 6 7s6-3.13 6-7c0-2.04-.76-3.92-1.97-5.05.61-.83.97-1.85.97-2.95 0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}],op=[{key:"core",label:"Core",icon:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"},{key:"upper",label:"Upper",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z"},{key:"lower",label:"Lower",icon:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"},{key:"fullbody",label:"Full Body",icon:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm-2 8h4l1 4h2l-1 4h-2l-1 4h-2l-1-4H8l-1-4h2l1-4z"},{key:"mix",label:"Mix It Up",icon:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm-.83 9.41l-1.42 1.42L17.96 20.54l1.42-1.42-5.71-5.71z"}],Xo=[{key:"beginner",label:"Beginner",work:30,rest:30,desc:"30s work / 30s rest"},{key:"intermediate",label:"Intermediate",work:40,rest:20,desc:"40s work / 20s rest"},{key:"advanced",label:"Advanced",work:40,rest:15,desc:"40s work / 15s rest"}],BD=[5,10,15,20,30];function zD(r){return r.replace(/\b\w/g,e=>e.toUpperCase())}function FD(r){const e=[...r];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e}function qD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Sa(),{isDark:o,toggleTheme:u,accent:d}=Sl(),p=nr(),[g,y]=k.useState("menu"),[w,x]=k.useState(["bodyweight"]),[T,O]=k.useState("core"),[q,H]=k.useState("intermediate"),[z,ce]=k.useState(15),[J,me]=k.useState([]),[we,je]=k.useState(!1),Re=k.useRef(!1),N=k.useRef([]),[S,R]=k.useState([]),[I,D]=k.useState(2),[B,j]=k.useState(Xo[1]),[Je,ht]=k.useState(1),[W,se]=k.useState(0),[ge,De]=k.useState("work"),[ze,P]=k.useState(0),[te,Z]=k.useState(!1),[he,ke]=k.useState(0),[Ee,Oe]=k.useState(null),$e=k.useRef(null);k.useRef(null),k.useRef(null);const[Ke,Ot]=k.useState(null),zt=k.useCallback((L,ne="info")=>{Ot({message:L,type:ne}),setTimeout(()=>Ot(null),3e3)},[]),[Rt,en]=k.useState(null),[ie,an]=k.useState(null),[Lt,xt]=k.useState(0),[Et,tt]=k.useState(0),[et,$t]=k.useState([]),[Gr,Vs]=k.useState(""),[Vt,Mn]=k.useState(""),[on,xn]=k.useState(!1),[oe,ye]=k.useState(0),[_e,Be]=k.useState(!1),[Ce,Te]=k.useState({}),Me=k.useRef(null),Le=k.useRef(null),[Fe,mt]=k.useState([]),[Kt,Mt]=k.useState(null),[dn,ps]=k.useState(0),[Ft,Un]=k.useState(0),[jn,Jn]=k.useState(0),[sr,Wr]=k.useState(0),[Zn,Us]=k.useState(0),[$r,Bs]=k.useState(0),[Ai,wr]=k.useState({beginner:0,intermediate:0,advanced:0}),[rr,as]=k.useState(null),[xr,Bn]=k.useState("");k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const ne=fa(At,"workoutLogs"),X=Wc(ne,ll("clientId","==",n.id)),be=(await $c(X)).docs.map(St=>St.data()),Se=be.filter(St=>St.type!=="programme");Wr(Se.length);const Ve=Se.reduce((St,cn)=>St+(cn.duration||0),0);Us(Ve);const st={beginner:0,intermediate:0,advanced:0};Se.forEach(St=>{St.level&&st[St.level]!==void 0&&st[St.level]++}),wr(st);const Tt=new Date,at=Tt.getDay(),Ct=at===0?-6:1-at,pn=new Date(Tt);pn.setDate(Tt.getDate()+Ct),pn.setHours(0,0,0,0);const Kr=pn.getTime(),qn=be.filter(St=>{const cn=St.completedAt;return cn?(cn.toDate?cn.toDate().getTime():new Date(cn).getTime())>=Kr:!1});ps(qn.filter(St=>St.type!=="programme").length);let Yr=0;if(n)try{const St=await fs(Qt(At,"clientProgrammes",n.id));if(St.exists()){const cn=St.data(),ks=cn.templateId;Yr=qn.filter(es=>es.type==="programme"&&es.programmeId===ks).length,as(ks);const ls=ap.find(es=>es.id===ks);ls&&Bn(ls.name);const En=VD[ks];if(En){const es=Object.keys(cn.completedSessions||{}).length,cs=En.duration*En.daysPerWeek;Jn(cs>0?Math.round(es/cs*100):0)}}else as(null),Bn(""),Jn(0)}catch{}Un(Yr);const Aa=Se.map(St=>St.completedAt).filter(Boolean).map(St=>St.toDate?St.toDate().getTime():new Date(St).getTime()).sort((St,cn)=>cn-St);if(Aa.length===0)Bs(0);else{const St=new Set;Aa.forEach(cs=>{const ar=new Date(cs),Qr=ar.getDay(),po=Qr===0?-6:1-Qr,zs=new Date(ar);zs.setDate(ar.getDate()+po),zs.setHours(0,0,0,0),St.add(zs.getTime())});const cn=[...St].sort((cs,ar)=>ar-cs);let ks=0;const ls=new Date(Tt),En=Tt.getDay()===0?-6:1-Tt.getDay();ls.setDate(Tt.getDate()+En),ls.setHours(0,0,0,0);let es=ls.getTime();cn.includes(es)||(es-=10080*60*1e3);for(let cs=0;cs<200&&cn.includes(es);cs++)ks++,es-=10080*60*1e3;Bs(ks)}}catch(ne){console.error("Error loading workout stats:",ne)}})()},[r,n,g]);const zn=()=>{const L=[];let ne;T==="mix"?ne=["core","upper","lower"]:T==="fullbody"?ne=["upper","lower"]:ne=[T];for(const X of w)for(const ve of ne)L.push(`exercises/${X}/${ve}`);return L},tn=async()=>{if(Re.current){for(;Re.current;)await new Promise(L=>setTimeout(L,200));return N.current}Re.current=!0,je(!0);try{const L=zn(),ne=[];for(const Se of L)try{const Ve=Ac(Rc,Se),st=await f1(Ve);ne.push(...st.items)}catch{console.warn(`Folder ${Se} not found, skipping.`)}if(ne.length===0&&w.includes("bodyweight")&&T==="core")try{const Se=Ac(Rc,"core"),Ve=await f1(Se);ne.push(...Ve.items)}catch{console.warn("Legacy core/ folder not found either.")}if(ne.length===0){const Se=w.map(st=>y1.find(Tt=>Tt.key===st)?.label).join(" + "),Ve=op.find(st=>st.key===T)?.label;return zt(`No exercises found for ${Se} / ${Ve}. Upload videos to Firebase Storage.`,"error"),Re.current=!1,je(!1),[]}const X=new Set,ve=ne.filter(Se=>{const Ve=Se.name.replace(/\.(mp4|gif)$/i,"");return X.has(Ve)?!1:(X.add(Ve),!0)}),be=await Promise.all(ve.map(async Se=>{const Ve=await Wh(Se),st=zD(Se.name.replace(/\.(mp4|gif)$/i,"")),Tt=/\.gif$/i.test(Se.name);return{name:st,videoUrl:Ve,isGif:Tt}}));return N.current=be,me(be),Re.current=!1,je(!1),be}catch(L){console.error("Error loading exercises:",L);const ne=L.code==="storage/unauthorized"?"Storage access denied. Check Firebase Storage rules allow read access.":`Failed to load exercises: ${L.message||L.code||"Unknown error"}`;return zt(ne,"error"),Re.current=!1,je(!1),[]}},ln=async()=>{y("spinning"),N.current=[];const L=await tn();if(L.length===0){y("setup");return}const ne=Xo.find(at=>at.key===q);j(ne);const X=ne.work+ne.rest,ve=z*60,be=Math.floor(ve/X);let Se,Ve;be<=6?(Se=Math.max(3,Math.floor(be/2)),Ve=Math.floor(be/Se)):be<=12?(Se=Math.min(6,Math.floor(be/2)),Ve=Math.floor(be/Se)):(Se=Math.min(10,Math.floor(be/2)),Ve=Math.floor(be/Se)),Ve=Math.max(2,Ve);const st=FD(L),Tt=st.slice(0,Math.min(Se,st.length));R(Tt),D(Ve),setTimeout(()=>y("preview"),2e3)},gs=()=>{y("countdown"),ke(3)};k.useEffect(()=>{if(g!=="countdown")return;if(he<=0){y("workout"),ht(1),se(0),De("work"),P(B.work),Z(!1),qe();return}We();const L=setTimeout(()=>ke(ne=>ne-1),1e3);return()=>clearTimeout(L)},[he,g]),k.useEffect(()=>{if(g!=="workout"||te)return;if(ze<=0){Fn();return}ze<=3&&We();const L=setTimeout(()=>P(ne=>ne-1),1e3);return()=>clearTimeout(L)},[ze,g,te]);const Fn=()=>{if(ge==="work")De("rest"),P(B.rest);else{const L=W+1;if(L>=S.length){const ne=Je+1;if(ne>I){y("complete"),ka();return}ht(ne),se(0)}else se(L);De("work"),P(B.work),qe()}},ka=async()=>{if(r)try{await Up(fa(At,"workoutLogs"),{clientId:n.id,level:q,duration:z,equipment:w,focus:T,exerciseCount:S.length,rounds:I,exercises:S.map(L=>L.name),completedAt:ot.now()}),ps(L=>L+1),Wr(L=>L+1),Us(L=>L+z),wr(L=>({...L,[q]:(L[q]||0)+1}))}catch(L){console.error("Error saving workout log:",L)}},Ri=async(L,ne,X)=>{if(!(!n||!ne))try{const ve=n.id,be=await fs(Qt(At,"coreBuddyPBs",ve)),Ve=(be.exists()?be.data():null)?.exercises||{},st=Ve[L];let Tt=!1;if(st?(ne>(st.weight||0)||ne===(st.weight||0)&&X>(st.reps||0))&&(Tt=!0):Tt=!0,Tt){const at={...Ve,[L]:{weight:ne,reps:X,achievedAt:ot.now()}};await Pr(Qt(At,"coreBuddyPBs",ve),{clientId:n.id,exercises:at,updatedAt:ot.now()}),zt(`New PB! ${ne}kg  ${X} reps`,"success"),We(),await ir(L,ne)}}catch(ve){console.error("Error checking PB:",ve)}},ir=async(L,ne)=>{if(n)try{const X=await fs(Qt(At,"coreBuddyTargets",n.id));if(!X.exists())return;const be=(X.data().targets||{})[L];if(!be||ne<be.targetWeight)return;const Se=await fs(Qt(At,"coreBuddyAchievements",n.id)),Ve=Se.exists()?Se.data():{clientId:n.id,badges:[],totalVolume:0};if(Ve.badges.some(Ct=>Ct.type==="pb_target"&&Ct.exercise===L&&Ct.targetWeight===be.targetWeight))return;const Tt={type:"pb_target",exercise:L,group:LD[L]||"push",targetWeight:be.targetWeight,achievedAt:ot.now()},at=[...Ve.badges,Tt];await Pr(Qt(At,"coreBuddyAchievements",n.id),{...Ve,badges:at,updatedAt:ot.now()}),mt(Ct=>[...Ct,Tt])}catch(X){console.error("Error checking target badge:",X)}},os=async L=>{if(!(!n||L<=0))try{const ne=await fs(Qt(At,"coreBuddyAchievements",n.id)),X=ne.exists()?ne.data():{clientId:n.id,badges:[],totalVolume:0},ve=X.totalVolume||0,be=ve+L,Se=[];OD.forEach(st=>{be>=st.threshold&&ve<st.threshold&&(X.badges.some(at=>at.type==="volume_milestone"&&at.milestone===st.threshold)||Se.push({type:"volume_milestone",milestone:st.threshold,label:st.label,achievedAt:ot.now()}))});const Ve=[...X.badges,...Se];await Pr(Qt(At,"coreBuddyAchievements",n.id),{clientId:n.id,badges:Ve,totalVolume:Math.round(be),updatedAt:ot.now()}),Se.length>0&&mt(st=>[...st,...Se])}catch(ne){console.error("Error updating volume:",ne)}},Ss=async L=>{if(an(L),L.interval){const ve=[];for(const be of L.exercises){let Se=null,Ve=!1;if(be.storagePath)try{const st=Ac(Rc,be.storagePath);Se=await Wh(st),Ve=/\.gif$/i.test(be.storagePath)}catch{}ve.push({name:be.name,videoUrl:Se,isGif:Ve})}R(ve),D(L.rounds),j({work:L.work,rest:L.rest}),y("preview");return}const ne={};for(const ve of L.exercises)if(ve.storagePath)try{const be=Ac(Rc,ve.storagePath);ne[ve.name]={url:await Wh(be),isGif:/\.gif$/i.test(ve.storagePath)}}catch{}Te(ne);const X=L.exercises.map(ve=>({name:ve.name,type:ve.type,targetSets:ve.sets,targetReps:ve.reps||0,targetTime:ve.time||0,sets:[]}));$t(X),xt(0),tt(0),Vs(""),Mn(""),Be(!1),xn(!1),ye(0),mt([]),Mt(null),y("muscle_workout")},ys=()=>{const L=Me.current;L&&(L.paused?(L.play(),Be(!0)):(L.pause(),Be(!1)))};k.useEffect(()=>{if(g!=="muscle_workout"||!on||oe<=0){g==="muscle_workout"&&on&&oe<=0&&(xn(!1),We());return}return Le.current=setTimeout(()=>ye(L=>L-1),1e3),()=>clearTimeout(Le.current)},[g,on,oe]);const C=async()=>{const L=et[Lt];let ne={};if(L.type==="weighted"){const be=parseFloat(Gr)||0,Se=parseInt(Vt)||0;if(Se===0){zt("Enter your reps","error");return}ne={weight:be,reps:Se}}else if(L.type==="reps"){const be=parseInt(Vt)||0;if(be===0){zt("Enter your reps","error");return}ne={reps:be}}else if(L.type==="timed"){const be=L.targetTime-oe;ne={time:Math.max(be,1)}}const X=[...et];X[Lt]={...L,sets:[...L.sets,ne]},$t(X),L.type==="weighted"&&ne.weight>0&&await Ri(L.name,ne.weight,ne.reps);const ve=L.sets.length+1;if(ve<L.targetSets)tt(ve),Mn(""),xn(!1),ye(0);else if(Lt+1<et.length){const be=Lt+1;xt(be),tt(0),Vs(""),Mn(""),Be(!1),xn(!1),ye(0)}else await U(X),y("muscle_complete")},U=async L=>{if(!(!r||!n))try{const ne=L.reduce((ve,be)=>ve+be.sets.reduce((Se,Ve)=>Se+(Ve.weight||0)*(Ve.reps||0),0),0),X=L.reduce((ve,be)=>ve+be.sets.length,0);await Up(fa(At,"workoutLogs"),{clientId:n.id,type:"muscle_group",muscleGroup:Rt,sessionId:ie?.id,sessionName:ie?.name,exerciseCount:L.length,totalSets:X,duration:Math.round(X*1.5),volume:Math.round(ne),exercises:L.map(ve=>({name:ve.name,type:ve.type,sets:ve.sets})),completedAt:ot.now()}),ne>0&&await os(ne),Fe.length>0&&Mt({badges:[...Fe]})}catch(ne){console.error("Error saving muscle group workout log:",ne)}},ae=k.useRef(null),re=()=>(ae.current||(ae.current=new(window.AudioContext||window.webkitAudioContext)),ae.current),We=()=>{try{const L=re(),ne=L.createOscillator(),X=L.createGain();ne.connect(X),X.connect(L.destination),ne.frequency.value=880,X.gain.value=.3,ne.start(L.currentTime),ne.stop(L.currentTime+.15)}catch{}},qe=()=>{try{const L=re(),ne=L.createOscillator(),X=L.createGain();ne.connect(X),X.connect(L.destination),ne.frequency.value=1200,X.gain.value=.4,ne.start(L.currentTime),ne.stop(L.currentTime+.3)}catch{}};k.useEffect(()=>{if(g!=="workout"||ge!=="work"||!S[W]?.isGif)return;const ne=setInterval(()=>{const X=$e.current;if(!X)return;const ve=X.getAttribute("src");X.removeAttribute("src"),setTimeout(()=>{$e.current&&$e.current.setAttribute("src",ve)},0)},4e3);return()=>clearInterval(ne)},[g,ge,W,Je,S]);const Pe=(L,ne,X)=>{const ve=Math.round(L/ne*sp);return c.jsx("svg",{className:"wk-ring-svg",viewBox:"0 0 200 200",children:xD.map((be,Se)=>c.jsx("line",{x1:be.x1,y1:be.y1,x2:be.x2,y2:be.y2,className:Se<ve?`wk-tick-filled ${X}`:"wk-tick-empty",strokeWidth:be.thick?"3":"2"},Se))})},pt=()=>{const L=S.length*I;return((Je-1)*S.length+W+(ge==="rest"?.5:0))/L},Ze=Ke&&c.jsx("div",{className:`toast-notification ${Ke.type}`,children:Ke.message});if(i)return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})]})}),c.jsx("div",{className:"wk-loading-inline",children:c.jsx("div",{className:"wk-loading-spinner"})})]});if(g==="menu")return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[rr&&c.jsxs("button",{className:"wk-active-prog",onClick:()=>p("/client/core-buddy/programmes"),children:[c.jsxs("div",{className:"wk-active-prog-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:Mr.map((L,ne)=>{const X=Math.round(jn/100*sp);return c.jsx("line",{x1:L.x1,y1:L.y1,x2:L.x2,y2:L.y2,className:ne<X?"wk-ap-tick-filled":"wk-ap-tick-empty",strokeWidth:L.thick?"3":"2"},ne)})}),c.jsxs("span",{className:"wk-ap-pct",children:[jn,"%"]})]}),c.jsxs("div",{className:"wk-active-prog-info",children:[c.jsx("span",{className:"wk-ap-label",children:"CURRENT PROGRAMME"}),c.jsx("span",{className:"wk-ap-name",children:xr}),c.jsx("span",{className:"wk-ap-cta",children:"Continue "})]})]}),c.jsxs("div",{className:"wk-menu-heading",children:[c.jsx("h2",{children:"Choose Your Workout"}),c.jsx("p",{children:"No excuses. Just results."})]}),c.jsx("button",{className:"wk-hero-card",onClick:()=>y("setup"),children:c.jsx("img",{src:p1,alt:"Randomise Workout",className:"wk-hero-bg"})}),c.jsxs("div",{className:"wk-section-header",children:[c.jsx("h2",{children:"Programmes"}),c.jsxs("span",{className:"wk-section-count",children:[ap.length," available"]})]}),c.jsx("div",{className:"wk-prog-scroll-wrap",children:c.jsx("div",{className:"wk-prog-scroll",children:ap.map((L,ne)=>L.image?c.jsxs("button",{className:"wk-prog-img-card",onClick:()=>p("/client/core-buddy/programmes",{state:{templateId:L.id}}),style:{animationDelay:`${ne*.06}s`},children:[c.jsx("img",{src:L.image,alt:L.name,className:"wk-prog-img"}),ne===0&&c.jsx("div",{className:"wk-swipe-arrow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},L.id):c.jsxs("button",{className:"wk-prog-hero-card",onClick:()=>p("/client/core-buddy/programmes",{state:{templateId:L.id}}),style:{animationDelay:`${ne*.06}s`},children:[c.jsx("img",{src:DD,alt:"Programme",className:"wk-prog-hero-bg",loading:"lazy"}),c.jsx("div",{className:"wk-prog-hero-overlay",style:{background:UD[L.focus]}}),c.jsxs("div",{className:"wk-prog-hero-content",children:[c.jsxs("div",{className:"wk-prog-hero-top",children:[c.jsxs("span",{className:"wk-prog-hero-badge",children:[L.duration," WEEKS"]}),c.jsx("span",{className:"wk-prog-hero-level",children:L.level})]}),c.jsxs("div",{className:"wk-prog-hero-bottom",children:[c.jsx("h3",{children:L.name.toUpperCase()}),c.jsxs("p",{children:[L.daysPerWeek,"x per week  ",L.focus==="fullbody"?"Full Body":L.focus.charAt(0).toUpperCase()+L.focus.slice(1)," Focus"]}),c.jsx("span",{className:"wk-prog-hero-go",children:"VIEW PROGRAMME "})]})]}),ne===0&&c.jsx("div",{className:"wk-swipe-arrow",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},L.id))})}),c.jsxs("div",{className:"wk-section-header",children:[c.jsx("h2",{children:"Muscle Groups"}),c.jsxs("span",{className:"wk-section-count",children:[_c.length," groups"]})]}),c.jsx("div",{className:"wk-muscle-grid",children:_c.map((L,ne)=>c.jsx("button",{className:`wk-muscle-hero-card${L.image?" wk-muscle-thumb":""}`,onClick:()=>{en(L.key),y("muscle_sessions")},style:{animationDelay:`${ne*.05}s`},children:L.image?c.jsx("img",{src:L.image,alt:L.label,className:"wk-muscle-thumb-img"}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:p1,alt:"Muscle group",className:"wk-muscle-hero-bg",loading:"lazy"}),c.jsx("div",{className:"wk-muscle-hero-overlay",style:{background:ip[L.key]}}),c.jsxs("div",{className:"wk-muscle-hero-content",children:[c.jsx("div",{className:"wk-muscle-hero-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:L.icon})})}),c.jsxs("div",{className:"wk-muscle-hero-text",children:[c.jsx("span",{className:"wk-muscle-hero-name",children:L.label}),c.jsxs("span",{className:"wk-muscle-hero-count",children:[g1[L.key]?.length||0," sessions"]})]})]})]})},L.key))})]}),c.jsx(lo,{active:"workouts"}),Ze]});if(g==="setup"){const L=op.find(X=>X.key===T)?.label||T,ne=Xo.find(X=>X.key===q)?.label||q;return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("menu"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main wk-setup-main",children:[c.jsxs("div",{className:"wk-stats-strip",children:[c.jsxs("div",{className:"wk-stats-strip-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:Mr.map((X,ve)=>{const be=Math.round(Math.min(dn,rp)/rp*sp);return c.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,className:ve<be?"wk-stats-tick-filled":"wk-stats-tick-empty",strokeWidth:X.thick?"3":"2"},ve)})}),c.jsxs("span",{className:"wk-stats-strip-ring-num",children:[dn,c.jsxs("small",{children:["/",rp]})]})]}),c.jsxs("div",{className:"wk-stats-strip-items",children:[c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:sr}),c.jsx("span",{className:"wk-stats-strip-label",children:"Workouts"})]}),c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:Zn}),c.jsx("span",{className:"wk-stats-strip-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stats-strip-item",children:[c.jsx("span",{className:"wk-stats-strip-num",children:$r}),c.jsx("span",{className:"wk-stats-strip-label",children:"Wk Streak"})]})]})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Focus Area"}),c.jsx("div",{className:"wk-focus-grid",children:op.map(X=>c.jsxs("button",{className:`wk-equip-btn${T===X.key?" active":""}${X.key==="mix"?" wk-mix-btn":""}`,onClick:()=>O(X.key),children:[c.jsx("svg",{className:"wk-equip-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:X.icon})}),c.jsx("span",{children:X.label})]},X.key))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Level"}),c.jsx("div",{className:"wk-level-cards",children:Xo.map(X=>c.jsxs("button",{className:`wk-level-card wk-level-${X.key}${q===X.key?" active":""}`,onClick:()=>H(X.key),children:[c.jsx("span",{className:"wk-level-name",children:X.label}),c.jsx("span",{className:"wk-level-desc",children:X.desc})]},X.key))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Time"}),c.jsx("div",{className:"wk-time-options",children:BD.map(X=>c.jsxs("button",{className:`wk-time-btn${z===X?" active":""}`,onClick:()=>ce(X),children:[c.jsx("span",{className:"wk-time-num",children:X}),c.jsx("span",{className:"wk-time-unit",children:"min"})]},X))})]}),c.jsxs("div",{className:"wk-setup-section",children:[c.jsx("h2",{children:"Equipment"}),c.jsx("div",{className:"wk-equip-options",children:y1.map(X=>{const ve=w.includes(X.key);return c.jsxs("button",{className:`wk-equip-btn${ve?" active":""}`,onClick:()=>{x(be=>ve&&be.length===1?be:ve?be.filter(Se=>Se!==X.key):[...be,X.key])},children:[c.jsx("svg",{className:"wk-equip-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:X.icon})}),c.jsx("span",{children:X.label})]},X.key)})})]}),c.jsx("div",{className:"wk-setup-summary",children:c.jsxs("span",{children:[L,"  ",ne,"  ",z," min"]})})]}),c.jsx("div",{className:"wk-go-sticky",children:c.jsx("button",{className:"wk-randomise-btn",onClick:ln,disabled:we,children:we?"Loading exercises...":"Randomise Workout"})}),Ze]})}if(g==="spinning")return c.jsxs("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"wk-spin-container",children:[c.jsxs("div",{className:"wk-spin-ring",children:[c.jsx("svg",{className:"wk-spin-svg",viewBox:"0 0 200 200",children:Mr.map((L,ne)=>c.jsx("line",{x1:L.x1,y1:L.y1,x2:L.x2,y2:L.y2,className:"wk-spin-tick",strokeWidth:L.thick?"3.5":"2",style:{animationDelay:`${ne*.03}s`}},ne))}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"wk-spin-logo",width:"50",height:"50"})]}),c.jsx("p",{className:"wk-spin-text",children:"Generating workout..."})]}),Ze]});if(g==="preview"){const L=ie?.interval?{work:ie.work,rest:ie.rest}:Xo.find(X=>X.key===q),ne=S.length*I*(L.work+L.rest);return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y(ie?.interval?"muscle_sessions":"setup"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[ie?.interval&&c.jsx("h2",{className:"mg-preview-title",children:ie.name}),c.jsxs("div",{className:"wk-preview-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:S.length}),c.jsx("span",{className:"wk-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:I}),c.jsx("span",{className:"wk-stat-label",children:"Rounds"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.ceil(ne/60)}),c.jsx("span",{className:"wk-stat-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsxs("span",{className:"wk-stat-val",children:[L.work,"/",L.rest]}),c.jsx("span",{className:"wk-stat-label",children:"Work/Rest"})]})]}),c.jsx("div",{className:"wk-preview-list",children:S.map((X,ve)=>c.jsxs("div",{className:"wk-preview-item",style:{animationDelay:`${ve*.06}s`},onClick:()=>Oe(X),children:[c.jsx("span",{className:"wk-preview-num",children:ve+1}),c.jsx("div",{className:"wk-preview-thumb",children:X.isGif?c.jsx("img",{src:X.videoUrl,alt:X.name,loading:"lazy"}):c.jsx("video",{src:`${X.videoUrl}#t=0.1`,muted:!0,playsInline:!0,preload:"auto"})}),c.jsx("span",{className:"wk-preview-name",children:X.name}),c.jsx("svg",{className:"wk-preview-play",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})]},ve))}),Ee&&c.jsx("div",{className:"wk-preview-modal-backdrop",onClick:()=>Oe(null),children:c.jsxs("div",{className:"wk-preview-modal",onClick:X=>X.stopPropagation(),children:[c.jsx("button",{className:"wk-preview-modal-close",onClick:()=>Oe(null),"aria-label":"Close preview",children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),c.jsx("div",{className:"wk-preview-modal-video",children:Ee.isGif?c.jsx("img",{src:Ee.videoUrl,alt:Ee.name}):c.jsx("video",{src:Ee.videoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}),c.jsx("h3",{className:"wk-preview-modal-title",children:Ee.name})]})}),c.jsxs("div",{className:"wk-preview-actions",children:[!ie?.interval&&c.jsxs("button",{className:"wk-btn-secondary",onClick:()=>ln(),children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("polyline",{points:"1 4 1 10 7 10"}),c.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),"Reshuffle"]}),c.jsx("button",{className:"wk-btn-primary",onClick:gs,children:"Start Workout"})]})]})]})}if(g==="countdown")return c.jsx("div",{className:"wk-page wk-page-center wk-page-dark","data-theme":o?"dark":"light","data-accent":d,children:c.jsxs("div",{className:"wk-countdown-big",children:[c.jsx("span",{className:"wk-countdown-num",children:he}),c.jsx("span",{className:"wk-countdown-label",children:"GET READY"})]})});if(g==="workout"){const L=S[W],ne=ge==="work"?B.work:B.rest,X=ge==="rest"?W+1<S.length?S[W+1]:Je<I?S[0]:null:null;return c.jsxs("div",{className:"wk-page wk-page-workout","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"wk-video-container",children:ge==="work"?L.isGif?c.jsx("img",{ref:$e,className:"wk-video",src:L.videoUrl,alt:L.name},L.videoUrl):c.jsx("video",{className:"wk-video",src:L.videoUrl,autoPlay:!0,loop:!0,muted:!0,playsInline:!0},L.videoUrl):c.jsxs("div",{className:"wk-rest-screen",children:[c.jsx("span",{className:"wk-rest-label",children:"REST"}),X&&c.jsxs("span",{className:"wk-next-label",children:["Next: ",X.name]})]})}),c.jsx("div",{className:"wk-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"wk-exercise-info",children:[c.jsxs("span",{className:"wk-exercise-counter",children:[W+1," / ",S.length]}),c.jsx("h2",{className:"wk-exercise-name",children:L.name}),c.jsxs("span",{className:"wk-round-label",children:["Round ",Je," of ",I]})]}),c.jsx("div",{className:"wk-timer-section",children:c.jsxs("div",{className:"wk-timer-ring-wrap",children:[Pe(ze,ne,ge==="work"?"wk-tick-work":"wk-tick-rest"),c.jsxs("div",{className:"wk-timer-center",children:[c.jsx("span",{className:"wk-timer-time",children:ze}),c.jsx("span",{className:`wk-timer-phase ${ge}`,children:ge==="work"?"WORK":"REST"})]})]})}),c.jsxs("div",{className:"wk-controls",children:[c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-stop",onClick:()=>{confirm("End workout early?")&&y("menu")},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})})}),c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-pause",onClick:()=>Z(!te),children:te?c.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}):c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),c.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})}),c.jsx("button",{className:"wk-ctrl-btn wk-ctrl-skip",onClick:()=>{P(0)},children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[c.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),c.jsx("rect",{x:"15",y:"4",width:"4",height:"16"})]})})]}),c.jsx("div",{className:"wk-progress-bar",children:c.jsx("div",{className:"wk-progress-fill",style:{width:`${pt()*100}%`}})})]})}if(g==="complete"){const L=Xo.find(X=>X.key===q),ne=S.length*I*(L.work+L.rest);return c.jsx("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:c.jsxs("div",{className:"wk-complete",children:[c.jsxs("div",{className:"wk-complete-ring",children:[c.jsx("svg",{className:"wk-complete-svg",viewBox:"0 0 200 200",children:Mr.map((X,ve)=>c.jsx("line",{x1:X.x1,y1:X.y1,x2:X.x2,y2:X.y2,className:"wk-tick-complete",strokeWidth:X.thick?"3.5":"2",style:{animationDelay:`${ve*.02}s`}},ve))}),c.jsx("div",{className:"wk-complete-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsx("h2",{className:"wk-complete-title",children:"Workout Complete!"}),c.jsxs("div",{className:"wk-complete-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.ceil(ne/60)}),c.jsx("span",{className:"wk-stat-label",children:"Minutes"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:S.length*I}),c.jsx("span",{className:"wk-stat-label",children:"Intervals"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:I}),c.jsx("span",{className:"wk-stat-label",children:"Rounds"})]})]}),c.jsx("div",{className:"wk-complete-actions",children:c.jsx("button",{className:"wk-btn-primary",onClick:()=>{an(null),en(null),y("menu")},children:"Done"})})]})})}if(g==="muscle_sessions"){const L=_c.find(X=>X.key===Rt),ne=g1[Rt]||[];return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("menu"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main",children:[c.jsxs("div",{className:"mg-sessions-header",children:[c.jsx("div",{className:"mg-sessions-icon",style:{background:ip[Rt]},children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:L?.icon})})}),c.jsxs("h2",{children:[L?.label," Workouts"]}),c.jsxs("p",{children:[ne.length," sessions available"]})]}),c.jsx("div",{className:"mg-sessions-list",children:ne.map((X,ve)=>c.jsxs("button",{className:"mg-session-card",onClick:()=>{an(X),y("muscle_overview")},style:{animationDelay:`${ve*.08}s`},children:[c.jsxs("div",{className:"mg-session-info",children:[c.jsx("h3",{children:X.name}),c.jsx("p",{children:X.desc}),c.jsx("div",{className:"mg-session-meta",children:X.interval?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mg-session-tag mg-tag-interval",children:"Interval"}),c.jsxs("span",{className:"mg-session-tag",children:[X.exercises.length," exercises"]}),c.jsxs("span",{className:"mg-session-tag",children:[X.rounds," rounds"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mg-session-tag mg-tag-strength",children:"Strength"}),c.jsxs("span",{className:"mg-session-tag",children:[X.exercises.length," exercises"]}),c.jsx("span",{className:"mg-session-tag",children:(()=>{const be=X.exercises.map(st=>st.sets||0),Se=Math.min(...be),Ve=Math.max(...be);return Se===Ve?`${Se} sets each`:`${Se}-${Ve} sets each`})()})]})})]}),c.jsx("div",{className:"mg-session-arrow",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9 18l6-6-6-6"})})})]},X.id))})]}),Ze]})}if(g==="muscle_overview"){const L=ie;if(!L)return null;const ne=_c.find(X=>X.key===Rt);return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>y("muscle_sessions"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"wk-main mg-overview-main",children:[c.jsx("div",{className:"mg-overview-hero",style:{background:ip[Rt]},children:c.jsx("div",{className:"mg-overview-hero-content",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"mg-overview-hero-icon",children:c.jsx("path",{d:ne?.icon})})})}),c.jsxs("div",{className:"mg-overview-header",children:[c.jsxs("div",{className:"mg-overview-title-row",children:[c.jsx("h2",{children:L.name}),L.level&&c.jsx("span",{className:"mg-overview-level",children:L.level})]}),c.jsx("p",{className:"mg-overview-desc",children:L.desc})]}),L.overview&&c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 16v-4M12 8h.01"})]}),"About This Workout"]}),c.jsx("p",{children:L.overview})]}),L.tips&&L.tips.length>0&&c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 1 1 7.072 0l-.548.547A3.374 3.374 0 0 0 14 18.469V19a2 2 0 1 1-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Tips & Form"]}),c.jsx("ul",{className:"mg-overview-tips",children:L.tips.map((X,ve)=>c.jsx("li",{children:X},ve))})]}),c.jsxs("div",{className:"mg-overview-section",children:[c.jsxs("h3",{children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"}),c.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),c.jsx("path",{d:"M9 14l2 2 4-4"})]}),"Exercises (",L.exercises.length,")"]}),c.jsx("div",{className:"mg-overview-exercises",children:L.exercises.map((X,ve)=>c.jsxs("div",{className:"mg-overview-exercise",children:[c.jsx("span",{className:"mg-overview-ex-num",children:ve+1}),c.jsxs("div",{className:"mg-overview-ex-info",children:[c.jsx("span",{className:"mg-overview-ex-name",children:X.name}),L.interval?c.jsxs("span",{className:"mg-overview-ex-detail",children:[L.work,"s work / ",L.rest,"s rest"]}):c.jsxs("span",{className:"mg-overview-ex-detail",children:[X.sets," sets  ",X.reps?`${X.reps} reps`:`${X.time}s`,X.type==="weighted"&&"  weighted"]})]})]},ve))})]}),c.jsxs("button",{className:"mg-overview-start-btn",onClick:()=>Ss(L),children:[c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M8 5v14l11-7z"})}),"Start Workout"]})]}),Ze]})}if(g==="muscle_workout"){const L=ie;if(!L)return null;const ne=L.exercises[Lt],X=et[Lt];if(!ne||!X)return null;const ve=X.sets.length,be=L.exercises.length,Se=L.exercises.reduce((Ct,pn)=>Ct+(pn.sets||0),0),st=et.reduce((Ct,pn)=>Ct+pn.sets.length,0)/Se*100,Tt=Ce[ne.name];ne.type==="timed"&&oe===0&&!on&&ve===Et&&setTimeout(()=>ye(ne.time),0);const at=ve+1<ne.sets?"Log Set":Lt+1<be?"Log Set  Next Exercise":"Log Set  Complete";return c.jsxs("div",{className:"wk-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"mg-session-progress",children:c.jsx("div",{className:"mg-session-progress-fill",style:{width:`${st}%`}})}),c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>{confirm("End workout early?")&&y("muscle_overview")},"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("span",{className:"mg-header-info",children:["Exercise ",Lt+1,"/",be]}),c.jsx("div",{style:{width:22}})]})}),c.jsxs("main",{className:"wk-main",children:[Tt?c.jsxs("div",{className:"mg-video-container",onClick:ys,children:[Tt.isGif?c.jsx("img",{className:"mg-video",src:Tt.url,alt:ne.name}):c.jsx("video",{ref:Me,className:"mg-video",src:Tt.url,loop:!0,muted:!0,playsInline:!0},ne.name),!_e&&!Tt.isGif&&c.jsxs("div",{className:"mg-video-overlay",children:[c.jsx("svg",{className:"mg-play-icon",width:"48",height:"48",viewBox:"0 0 24 24",fill:"rgba(255,255,255,0.9)",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),c.jsx("span",{className:"mg-video-hint",children:"Tap for demo"})]})]}):c.jsxs("div",{className:"mg-video-placeholder",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.4",children:[c.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"}),c.jsx("line",{x1:"7",y1:"2",x2:"7",y2:"22"}),c.jsx("line",{x1:"17",y1:"2",x2:"17",y2:"22"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("line",{x1:"2",y1:"7",x2:"7",y2:"7"}),c.jsx("line",{x1:"2",y1:"17",x2:"7",y2:"17"}),c.jsx("line",{x1:"17",y1:"7",x2:"22",y2:"7"}),c.jsx("line",{x1:"17",y1:"17",x2:"22",y2:"17"})]}),c.jsx("span",{children:"Video coming soon"})]}),c.jsx("div",{className:"wk-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"mg-exercise-card",children:[c.jsx("h2",{className:"mg-ex-name",children:ne.name}),c.jsx("span",{className:`mg-ex-type-badge ${ne.type}`,children:ne.type==="weighted"?"Weight + Reps":ne.type==="reps"?"Reps Only":"Timed"}),c.jsxs("div",{className:"mg-ex-set-info",children:[c.jsxs("span",{className:"mg-ex-set-num",children:["Set ",ve+1," of ",ne.sets]}),ne.type!=="timed"&&c.jsxs("span",{className:"mg-ex-target",children:["Target: ",ne.reps," reps"]}),ne.type==="timed"&&c.jsxs("span",{className:"mg-ex-target",children:["Target: ",ne.time,"s"]})]}),ne.type==="weighted"&&c.jsxs("div",{className:"mg-input-area",children:[c.jsxs("div",{className:"mg-input-group",children:[c.jsx("label",{children:"Weight (kg)"}),c.jsx("input",{type:"number",inputMode:"decimal",className:"mg-input",value:Gr,onChange:Ct=>Vs(Ct.target.value),placeholder:"0"})]}),c.jsxs("div",{className:"mg-input-group",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",className:"mg-input",value:Vt,onChange:Ct=>Mn(Ct.target.value),placeholder:"0"})]})]}),ne.type==="reps"&&c.jsx("div",{className:"mg-input-area",children:c.jsxs("div",{className:"mg-input-group mg-input-single",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",className:"mg-input",value:Vt,onChange:Ct=>Mn(Ct.target.value),placeholder:"0"})]})}),ne.type==="timed"&&c.jsxs("div",{className:"mg-timer-area",children:[c.jsx("div",{className:"mg-timer-display",children:c.jsxs("span",{className:"mg-timer-value",children:[oe,"s"]})}),on?c.jsx("button",{className:"mg-timer-btn mg-timer-stop",onClick:()=>xn(!1),children:"Stop"}):c.jsx("button",{className:"mg-timer-btn",onClick:()=>{oe===0&&ye(ne.time),xn(!0)},children:oe<ne.time&&oe>0?"Resume":"Start Timer"})]}),c.jsx("button",{className:"mg-log-set-btn",onClick:C,children:at}),X.sets.length>0&&c.jsx("div",{className:"mg-completed-sets",children:X.sets.map((Ct,pn)=>c.jsxs("div",{className:"mg-completed-set",children:[c.jsx("span",{className:"mg-completed-set-check",children:""}),c.jsxs("span",{children:["Set ",pn+1,": ",Ct.weight!=null?`${Ct.weight}kg  ${Ct.reps}`:Ct.reps!=null?`${Ct.reps} reps`:`${Ct.time}s`]})]},pn))})]})]}),Ze]})}if(g==="muscle_complete"){const L=et.reduce((ve,be)=>ve+be.sets.length,0),ne=et.reduce((ve,be)=>ve+be.sets.reduce((Se,Ve)=>Se+(Ve.weight||0)*(Ve.reps||0),0),0),X=_c.find(ve=>ve.key===Rt)?.label||"";return c.jsxs("div",{className:"wk-page wk-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"wk-complete",children:[c.jsxs("div",{className:"wk-complete-ring",children:[c.jsx("svg",{className:"wk-complete-svg",viewBox:"0 0 200 200",children:Mr.map((ve,be)=>c.jsx("line",{x1:ve.x1,y1:ve.y1,x2:ve.x2,y2:ve.y2,className:"wk-tick-complete",strokeWidth:ve.thick?"3.5":"2",style:{animationDelay:`${be*.02}s`}},be))}),c.jsx("div",{className:"wk-complete-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsxs("h2",{className:"wk-complete-title",children:[X," Complete!"]}),c.jsx("p",{className:"mg-complete-session-name",children:ie?.name}),c.jsxs("div",{className:"wk-complete-stats",children:[c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:et.length}),c.jsx("span",{className:"wk-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:L}),c.jsx("span",{className:"wk-stat-label",children:"Sets"})]}),ne>0&&c.jsxs("div",{className:"wk-stat",children:[c.jsx("span",{className:"wk-stat-val",children:Math.round(ne).toLocaleString()}),c.jsx("span",{className:"wk-stat-label",children:"Volume (kg)"})]})]}),c.jsx("div",{className:"wk-complete-actions",children:c.jsx("button",{className:"wk-btn-primary",onClick:()=>{an(null),en(null),Mt(null),y("menu")},children:"Done"})})]}),Kt&&c.jsx("div",{className:"mg-badge-celebration",onClick:()=>Mt(null),children:c.jsxs("div",{className:"mg-badge-celebration-card",children:[c.jsx("div",{className:"mg-badge-celebration-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"#ffc107",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),c.jsx("h3",{className:"mg-badge-celebration-title",children:Kt.badges.length===1?"Badge Earned!":`${Kt.badges.length} Badges Earned!`}),c.jsx("div",{className:"mg-badge-celebration-list",children:Kt.badges.map((ve,be)=>c.jsx("div",{className:"mg-badge-celebration-item",children:ve.type==="pb_target"?`${ve.exercise}  ${ve.targetWeight}kg`:ve.label},be))}),c.jsx("button",{className:"mg-badge-celebration-dismiss",children:"Tap to dismiss"})]})})]})}return null}const HD=60,GD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core"},WD=[{threshold:1e3,label:"1 Tonne"},{threshold:5e3,label:"5 Tonne"},{threshold:1e4,label:"10 Tonne"},{threshold:25e3,label:"25 Tonne"},{threshold:5e4,label:"50 Tonne"},{threshold:1e5,label:"100 Tonne"},{threshold:25e4,label:"250 Tonne"},{threshold:5e5,label:"500 Tonne"},{threshold:1e6,label:"1 Million kg"}],lp=[{id:"fullbody_4wk",name:"4-Week Full Body",focus:"fullbody",duration:4,daysPerWeek:3,level:"All Levels",description:"Build total body strength with compound dumbbell movements and bodyweight finishers",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Push Focus",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:3,baseReps:10,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Dumbbell Goblet Squats",type:"weighted",sets:3,baseReps:10,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Pull Focus",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:3,baseReps:10,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Romanian Deadlifts",type:"weighted",sets:3,baseReps:10,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Reverse Lunge",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/reverse lunge.GIF"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{name:"Day 3",label:"Legs & Core",exercises:[{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Box Step Ups",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/box step ups.GIF"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"fullbody_8wk",name:"8-Week Full Body",focus:"fullbody",duration:8,daysPerWeek:3,level:"Intermediate",description:"Two-phase programme building strength and endurance across your full body",repProg:1,timeProg:3,days:[{name:"Day 1",label:"Strength",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:8,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:8,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:8,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Power",exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Single Arm Bent Over Row",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Bulgarian Split Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/bulgarian split squats.GIF"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"}]},{name:"Day 3",label:"Endurance",exercises:[{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:40,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"fullbody_12wk",name:"12-Week Full Body",focus:"fullbody",duration:12,daysPerWeek:3,level:"Advanced",description:"Complete transformation programme: push, pull, and legs over three phases",repProg:1,timeProg:2,days:[{name:"Day 1",label:"Upper Push",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:8,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Skullcrushers",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/skullcrushers.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Lower Body",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:8,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Jump Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/jump squats.GIF"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"}]},{name:"Day 3",label:"Upper Pull",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:8,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:4,baseReps:8,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]}]},{id:"core_4wk",name:"4-Week Core",focus:"core",duration:4,daysPerWeek:3,level:"Beginner",description:"Build a solid core foundation with targeted ab and stability work",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Abs",exercises:[{name:"Crunch",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Leg Raises",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Stability",exercises:[{name:"Dead Bug",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Dead Bug.mp4"},{name:"Bird Dog",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Bird Dog.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:20,storagePath:"exercises/bodyweight/core/Side Plank.mp4"},{name:"Flutter Kicks",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:20,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"High Plank Shoulder Taps",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/High Plank Shoulder Taps.mp4"}]},{name:"Day 3",label:"Power Core",exercises:[{name:"Single Leg V-Up",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Single Leg V-Up.mp4"},{name:"Toe Reaches",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/toe reaches.GIF"},{name:"Russian Twists Dumbbell",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/core/russian twists dumbbell.GIF"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Fast Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Fast Mountain Climbers.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"core_8wk",name:"8-Week Core",focus:"core",duration:8,daysPerWeek:3,level:"Intermediate",description:"Develop deep core strength and rotational power over two phases",repProg:1,timeProg:3,days:[{name:"Day 1",label:"Anti-Extension",exercises:[{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"},{name:"Dead Bug",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Dead Bug.mp4"},{name:"Plank Walkout",type:"reps",sets:3,baseReps:8,storagePath:"exercises/bodyweight/core/Plank Walkout.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:25,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"},{name:"Leg Raises",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Mountain Climbers",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Mountain Climbers.mp4"}]},{name:"Day 2",label:"Rotation",exercises:[{name:"Russian Twist",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Russian Twist.mp4"},{name:"Kettlebell Russian Twist",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Side Plank Rotation",type:"reps",sets:2,baseReps:10,storagePath:"exercises/bodyweight/core/Side Plank Rotation.mp4"},{name:"High Plank Shoulder Taps",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/High Plank Shoulder Taps.mp4"},{name:"Hollow Hold To V-Sit",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Hollow Hold To V-sit.mp4"}]},{name:"Day 3",label:"Power",exercises:[{name:"Crunch",type:"reps",sets:4,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Flutter Kicks",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Flutter Kicks.mp4"},{name:"Reverse Crunch To Leg Raise",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Kettlebell Bird Dog Drag",type:"reps",sets:3,baseReps:10,storagePath:"exercises/kettlebells/core/kettlebell bird dog drag.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:40,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"core_12wk",name:"12-Week Core",focus:"core",duration:12,daysPerWeek:3,level:"Advanced",description:"Ultimate core transformation: stability, strength, and power across three phases",repProg:1,timeProg:2,days:[{name:"Day 1",label:"Strength",exercises:[{name:"Forearm Plank",type:"timed",sets:4,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"},{name:"Plank Walkout",type:"reps",sets:4,baseReps:8,storagePath:"exercises/bodyweight/core/Plank Walkout.mp4"},{name:"Leg Raises",type:"reps",sets:4,baseReps:12,storagePath:"exercises/bodyweight/core/Leg Raises.mp4"},{name:"Kettlebell Side Bends",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kettlebell side bends.mp4"},{name:"Dead Bug Single Leg Drop",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Dead Bug Single Leg Drop.mp4"},{name:"Hollow Body Hold",type:"timed",sets:3,baseTime:25,storagePath:"exercises/bodyweight/core/Hollow Body Hold.mp4"}]},{name:"Day 2",label:"Endurance",exercises:[{name:"Crunch",type:"reps",sets:4,baseReps:15,storagePath:"exercises/bodyweight/core/Crunch.mp4"},{name:"Kettlebell Russian Twist",type:"weighted",sets:4,baseReps:15,storagePath:"exercises/kettlebells/core/kettlebell russian twist.mp4"},{name:"Bicycle Crunch",type:"reps",sets:3,baseReps:20,storagePath:"exercises/bodyweight/core/Bicycle Crunch.mp4"},{name:"Hollow Hold Flutter Kicks",type:"reps",sets:3,baseReps:25,storagePath:"exercises/bodyweight/core/Hollow Hold Flutter Kicks.mp4"},{name:"Cross Body Mountain Climbers",type:"reps",sets:3,baseReps:25,storagePath:"exercises/bodyweight/core/Cross Body Mountain Climbers.mp4"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]},{name:"Day 3",label:"Power",exercises:[{name:"Hollow Hold To V-Sit",type:"reps",sets:4,baseReps:10,storagePath:"exercises/bodyweight/core/Hollow Hold To V-sit.mp4"},{name:"Reverse Crunch To Leg Raise",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Reverse Crunch To Leg Raise.mp4"},{name:"Burpee",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/core/Burpee.mp4"},{name:"Hip Dips Plank",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/core/Hip Dips Plank.mp4"},{name:"Kneeling Kettlebell Halo",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/kettlebells/core/kneeling kettlebell halo.mp4"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:35,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]}]},{id:"upper_4wk",name:"4-Week Upper Body",focus:"upper",duration:4,daysPerWeek:3,level:"Intermediate",description:"Sculpt and strengthen your chest, back, shoulders, and arms",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Push",exercises:[{name:"Dumbbell Floor Press",type:"weighted",sets:4,baseReps:10,pbKey:"chestPress",storagePath:"exercises/dumbbells/upper/dumbbell floor press.mp4"},{name:"Seated Dumbbell Shoulder Press",type:"weighted",sets:3,baseReps:10,pbKey:"shoulderPress",storagePath:"exercises/dumbbells/upper/seated dumbbell shoulder press.mp4"},{name:"Dumbbell Overhead Tricep Extension",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/dumbbell overhead tricep extension.mp4"},{name:"Tricep Dips",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/upper/tricep dips.mp4"},{name:"Pike Push Ups",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/upper/pike push ups.GIF"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 2",label:"Pull",exercises:[{name:"Dumbbell Bent Over Row",type:"weighted",sets:4,baseReps:10,pbKey:"seatedRow",storagePath:"exercises/dumbbells/upper/dumbbell bent over row.mp4"},{name:"Single Arm Bent Over Row",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/single arm bent over row.mp4"},{name:"Dumbbell Bent Over Rear Delt Fly",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell bent over rear delt fly.mp4"},{name:"Bicep Curl",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/bicep curl.mp4"},{name:"Hammer Curl",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/hammer curl.mp4"},{name:"Reverse Plank",type:"timed",sets:3,baseTime:20,storagePath:"exercises/bodyweight/upper/reverse plank.GIF"}]},{name:"Day 3",label:"Mixed",exercises:[{name:"Seated Dumbbell Arnold Press",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/seated dumbbell arnold press.mp4"},{name:"Dumbbell Lateral Raise",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell lateral raise.mp4"},{name:"Dumbbell Front Raise",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/upper/dumbbell front raise.mp4"},{name:"Press Up",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/upper/press up.mp4"},{name:"Renegade Row",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/upper/renegade row.mp4"},{name:"Superman Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/core/Superman Hold.mp4"}]}]},{id:"lower_4wk",name:"4-Week Lower Body",focus:"lower",duration:4,daysPerWeek:3,level:"Intermediate",description:"Build powerful legs and glutes with squats, deadlifts, and plyometrics",repProg:2,timeProg:5,days:[{name:"Day 1",label:"Quad Dominant",exercises:[{name:"Dumbbell Goblet Squats",type:"weighted",sets:4,baseReps:10,pbKey:"squat",storagePath:"exercises/dumbbells/lower/dumbbell goblet squats.mp4"},{name:"Forward Dumbbell Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/forward dumbbell lunges.GIF"},{name:"Dumbbell Box Step Ups",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell box step ups.mp4"},{name:"Dumbbell Squat Pulses",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell squat pulses.GIF"},{name:"Jump Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/jump squats.GIF"},{name:"Squat And Hold",type:"timed",sets:3,baseTime:30,storagePath:"exercises/bodyweight/lower/squat and hold.GIF"}]},{name:"Day 2",label:"Hamstring & Glute",exercises:[{name:"Romanian Deadlifts",type:"weighted",sets:4,baseReps:8,pbKey:"deadlift",storagePath:"exercises/dumbbells/lower/romanian deadlifts.GIF"},{name:"1 Legged RDL",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/1 legged rdl.GIF"},{name:"Hip Thrusts",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/hip thrusts.GIF"},{name:"Dumbbell Reverse Lunges",type:"weighted",sets:3,baseReps:12,storagePath:"exercises/dumbbells/lower/dumbbell reverse lunges.GIF"},{name:"Donkey Kicks",type:"reps",sets:3,baseReps:15,storagePath:"exercises/bodyweight/lower/donkey kicks.GIF"},{name:"Forearm Plank",type:"timed",sets:3,baseTime:30,pbKey:"plank",storagePath:"exercises/bodyweight/core/Forearm Plank.mp4"}]},{name:"Day 3",label:"Power & Stability",exercises:[{name:"Dumbbell Sumo Squats",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/dumbbells/lower/dumbbell sumo squats.GIF"},{name:"Kettlebell Romanian Deadlift",type:"weighted",sets:3,baseReps:10,storagePath:"exercises/kettlebells/lower/kettlebell romanian deadlift.mp4"},{name:"Weighted Calf Raises",type:"weighted",sets:3,baseReps:15,storagePath:"exercises/dumbbells/lower/weighted calf raises.GIF"},{name:"Bulgarian Split Squats",type:"reps",sets:3,baseReps:10,storagePath:"exercises/bodyweight/lower/bulgarian split squats.GIF"},{name:"Skater Jumps",type:"reps",sets:3,baseReps:12,storagePath:"exercises/bodyweight/lower/skater jumps.GIF"},{name:"Side Plank",type:"timed",sets:2,baseTime:25,storagePath:"exercises/bodyweight/core/Side Plank.mp4"}]}]}];function Ih(r,e,n){const i=r.baseReps?r.baseReps+(e-1)*(n.repProg||0):void 0,o=r.baseTime?r.baseTime+(e-1)*(n.timeProg||0):void 0;return{sets:r.sets,reps:i,time:o}}const v1={fullbody:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm-2 8h4l1 4h2l-1 4h-2l-1 4h-2l-1-4H8l-1-4h2l1-4z",core:"M12 2a4 4 0 0 1 4 4v1h-2V6a2 2 0 1 0-4 0v1H8V6a4 4 0 0 1 4-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z",upper:"M12 2a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3zm8 10l-3-1.5c-.5-.25-1-.5-1.5-.5h-7c-.5 0-1 .25-1.5.5L4 12l-2 6h4l1.5 4h9L18 18h4l-2-6z",lower:"M16.5 3A2.5 2.5 0 0 0 14 5.5 2.5 2.5 0 0 0 16.5 8 2.5 2.5 0 0 0 19 5.5 2.5 2.5 0 0 0 16.5 3zM14 9l-3 7h2l1 6h2l1-6h2l-3-7h-2z"};function $D(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Sa(),{isDark:o,toggleTheme:u,accent:d}=Sl(),p=nr(),g=_r(),[y,w]=k.useState("loading"),[x,T]=k.useState(null),O=k.useRef(!1),[q,H]=k.useState(null),[z,ce]=k.useState(1),[J,me]=k.useState(0),[we,je]=k.useState(0),[Re,N]=k.useState(0),[S,R]=k.useState([]),[I,D]=k.useState(""),[B,j]=k.useState(""),[Je,ht]=k.useState(!1),[W,se]=k.useState(0),ge=k.useRef(null),[De,ze]=k.useState({}),[P,te]=k.useState(!1),Z=k.useRef(null),[he,ke]=k.useState(null),[Ee,Oe]=k.useState([]);k.useEffect(()=>{window.scrollTo(0,0)},[y]);const[$e,Ke]=k.useState(null),Ot=k.useCallback((oe,ye="info")=>{Ke({message:oe,type:ye}),setTimeout(()=>Ke(null),4e3)},[]),zt=k.useRef(null),Rt=()=>(zt.current||(zt.current=new(window.AudioContext||window.webkitAudioContext)),zt.current),en=()=>{try{const oe=Rt(),ye=oe.createOscillator(),_e=oe.createGain();ye.connect(_e),_e.connect(oe.destination),ye.frequency.value=1200,_e.gain.value=.4,ye.start(oe.currentTime),ye.stop(oe.currentTime+.3)}catch{}};k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n)return;(async()=>{try{const ye=Qt(At,"clientProgrammes",n.id),_e=await fs(ye);_e.exists()?(H(_e.data()),w("dashboard")):w("browse")}catch(ye){console.error("Error loading programme:",ye),w("browse")}})()},[n]),k.useEffect(()=>{if(O.current||y==="loading")return;const oe=g.state?.templateId;if(!oe)return;const ye=lp.find(_e=>_e.id===oe);ye&&(O.current=!0,T(ye),w("overview"))},[y,g.state]),k.useEffect(()=>{if(!Je||W<=0){Je&&W<=0&&(ht(!1),en());return}return ge.current=setTimeout(()=>se(oe=>oe-1),1e3),()=>clearTimeout(ge.current)},[Je,W]);const ie=async oe=>{if(n)try{await Pr(Qt(At,"clientProgrammes",n.id),oe),H(oe)}catch(ye){console.error("Error saving programme:",ye),Ot("Failed to save. Check Firestore rules for clientProgrammes.","error")}},an=async oe=>{const ye={templateId:oe.id,startDate:ot.now(),completedSessions:{}};await ie(ye),w("dashboard")},Lt=async()=>{if(n)try{await uI(Qt(At,"clientProgrammes",n.id)),H(null),w("browse")}catch(oe){console.error("Error quitting programme:",oe)}},xt=()=>q?lp.find(oe=>oe.id===q.templateId):null,Et=()=>{if(!q)return{currentWeek:1,completedThisWeek:0,nextDay:0,totalCompleted:0};const oe=q.completedSessions||{},ye=Object.keys(oe).length,_e=xt();if(!_e)return{currentWeek:1,completedThisWeek:0,nextDay:0,totalCompleted:0};const Be=_e.duration*_e.daysPerWeek,Ce=Math.min(Math.floor(ye/_e.daysPerWeek)+1,_e.duration),Te=ye-(Ce-1)*_e.daysPerWeek;for(let Me=1;Me<=_e.duration;Me++)for(let Le=0;Le<_e.daysPerWeek;Le++){const Fe=`w${Me}d${Le}`;if(!oe[Fe])return{currentWeek:Me,completedThisWeek:Te,nextDay:Le,nextWeek:Me,totalCompleted:ye,totalSessions:Be}}return{currentWeek:_e.duration,completedThisWeek:_e.daysPerWeek,nextDay:-1,totalCompleted:ye,totalSessions:Be,complete:!0}},tt=(oe,ye,_e)=>{if(!q||oe<=1)return null;const Be=`w${oe-1}d${ye}`,Ce=q.completedSessions?.[Be];if(!Ce)return null;const Te=Ce.exercises?.find(Me=>Me.name===_e);return Te?.sets?.length?Te.sets[Te.sets.length-1]:null},et=(oe,ye)=>{const _e=xt();if(!_e)return;ce(oe),me(ye),je(0),N(0),R([]),j(""),ht(!1),se(0),te(!1),ze({});const Be=_e.days[ye],Ce=Be.exercises.map(Fe=>{const mt=Ih(Fe,oe,_e);return{name:Fe.name,type:Fe.type,pbKey:Fe.pbKey,targetSets:mt.sets,targetReps:mt.reps,targetTime:mt.time,sets:[]}});R(Ce);const Te=Be.exercises[0],Me=tt(oe,ye,Te.name);Me?.weight&&Te.type==="weighted"?D(String(Me.weight)):D(""),(async()=>{const Fe={};for(const mt of Be.exercises)if(mt.storagePath)try{const Kt=Ac(Rc,mt.storagePath),Mt=await Wh(Kt);Fe[mt.name]={url:Mt,isGif:/\.gif$/i.test(mt.storagePath)}}catch(Kt){console.warn(`Video not found for ${mt.name}:`,Kt)}ze(Fe)})(),w("session")},$t=async()=>{xt();const oe=S[we];if(!oe)return;let ye={};if(oe.type==="weighted"){const Ce=parseFloat(I)||0,Te=parseInt(B)||0;if(Te===0){Ot("Enter your reps","error");return}ye={weight:Ce,reps:Te}}else if(oe.type==="reps"){const Ce=parseInt(B)||0;if(Ce===0){Ot("Enter your reps","error");return}ye={reps:Ce}}else if(oe.type==="timed"){const Ce=oe.targetTime-W;ye={time:Math.max(Ce,1)}}const _e=[...S];_e[we]={...oe,sets:[...oe.sets,ye]},R(_e),oe.type==="weighted"&&ye.weight>0&&await Vt(oe.name,ye.weight,ye.reps);const Be=oe.sets.length+1;if(Be<oe.targetSets)N(Be),D(ye.weight?String(ye.weight):""),j(""),ht(!1),se(0);else if(we+1<S.length){const Ce=we+1;je(Ce),N(0),te(!1);const Me=xt()?.days[J]?.exercises[Ce],Le=tt(z,J,Me?.name);Le?.weight&&Me?.type==="weighted"?D(String(Le.weight)):D(""),j(""),ht(!1),se(0)}else await Gr(_e)},Gr=async oe=>{if(!q||!n)return;const ye=`w${z}d${J}`,_e={...q.completedSessions,[ye]:{completedAt:new Date().toISOString(),exercises:oe.map(Te=>({name:Te.name,type:Te.type,sets:Te.sets}))}},Be={...q,completedSessions:_e};await ie(Be);const Ce=oe.reduce((Te,Me)=>Te+Me.sets.reduce((Le,Fe)=>Le+(Fe.weight||0)*(Fe.reps||0),0),0);Ce>0&&await Vs(Ce);try{const Te=xt();await Up(fa(At,"workoutLogs"),{clientId:n.id,type:"programme",programmeId:Te?.id,programmeName:Te?.name,week:z,day:J+1,exerciseCount:oe.length,duration:Math.round(oe.reduce((Me,Le)=>Me+Le.sets.length*1.5,0)),volume:Math.round(Ce),completedAt:ot.now()})}catch(Te){console.error("Error saving workout log:",Te)}Ee.length>0&&(ke({badges:[...Ee]}),Oe([])),w("sessionComplete")},Vs=async oe=>{if(n)try{const ye=await fs(Qt(At,"coreBuddyAchievements",n.id)),_e=ye.exists()?ye.data():{clientId:n.id,badges:[],totalVolume:0},Be=_e.totalVolume||0,Ce=Be+oe,Te=[];WD.forEach(Le=>{Ce>=Le.threshold&&Be<Le.threshold&&(_e.badges.some(mt=>mt.type==="volume_milestone"&&mt.milestone===Le.threshold)||Te.push({type:"volume_milestone",milestone:Le.threshold,label:Le.label,achievedAt:ot.now()}))});const Me=[..._e.badges,...Te];await Pr(Qt(At,"coreBuddyAchievements",n.id),{clientId:n.id,badges:Me,totalVolume:Math.round(Ce),updatedAt:ot.now()}),Te.length>0&&Oe(Le=>[...Le,...Te])}catch(ye){console.error("Error updating volume:",ye)}},Vt=async(oe,ye,_e)=>{if(n)try{const Be=n.id,Ce=await fs(Qt(At,"coreBuddyPBs",Be)),Me=(Ce.exists()?Ce.data():null)?.exercises||{},Le=Me[oe];let Fe=!1;if(Le?(ye>(Le.weight||0)||ye===(Le.weight||0)&&_e>(Le.reps||0))&&(Fe=!0):Fe=!0,Fe){const mt={...Me,[oe]:{weight:ye,reps:_e,achievedAt:ot.now()}};await Pr(Qt(At,"coreBuddyPBs",Be),{clientId:n.id,exercises:mt,updatedAt:ot.now()}),Ot(`New PB! ${ye}kg  ${_e} reps`,"success"),en(),await Mn(oe,ye)}}catch(Be){console.error("Error checking PB:",Be)}},Mn=async(oe,ye)=>{if(n)try{const _e=await fs(Qt(At,"coreBuddyTargets",n.id));if(!_e.exists())return;const Ce=(_e.data().targets||{})[oe];if(!Ce||ye<Ce.targetWeight)return;const Te=await fs(Qt(At,"coreBuddyAchievements",n.id)),Me=Te.exists()?Te.data():{clientId:n.id,badges:[],totalVolume:0};if(Me.badges.some(Kt=>Kt.type==="pb_target"&&Kt.exercise===oe&&Kt.targetWeight===Ce.targetWeight))return;const Fe={type:"pb_target",exercise:oe,group:GD[oe]||"push",targetWeight:Ce.targetWeight,achievedAt:ot.now()},mt=[...Me.badges,Fe];await Pr(Qt(At,"coreBuddyAchievements",n.id),{...Me,badges:mt,updatedAt:ot.now()}),Oe(Kt=>[...Kt,Fe])}catch(_e){console.error("Error checking target badge:",_e)}},on=$e&&c.jsxs("div",{className:`toast-notification ${$e.type}`,children:[$e.type==="success"&&c.jsx("span",{children:" "}),$e.message]}),xn=oe=>c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})});if(i||y==="loading")return c.jsx("div",{className:"cb-loading",children:c.jsx("div",{className:"cb-loading-spinner"})});if(y==="browse")return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[xn(),c.jsxs("main",{className:"pg-main",children:[c.jsx("button",{className:"nut-back-btn",onClick:()=>p("/client/core-buddy/workouts"),children:" Back"}),c.jsx("p",{className:"pg-browse-intro",children:"Choose a programme and start your journey"}),c.jsx("div",{className:"pg-browse-grid",children:lp.map((oe,ye)=>c.jsxs("button",{className:"pg-browse-card",onClick:()=>{T(oe),w("overview")},style:{animationDelay:`${ye*.06}s`},children:[c.jsxs("div",{className:"pg-browse-card-top",children:[c.jsx("svg",{className:"pg-browse-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:v1[oe.focus]})}),c.jsxs("span",{className:"pg-browse-duration",children:[oe.duration," WK"]})]}),c.jsx("h3",{className:"pg-browse-name",children:oe.name}),c.jsx("span",{className:"pg-browse-level",children:oe.level}),c.jsx("p",{className:"pg-browse-desc",children:oe.description}),c.jsxs("div",{className:"pg-browse-meta",children:[c.jsxs("span",{children:[oe.daysPerWeek," per week"]}),c.jsxs("span",{children:[oe.days[0].exercises.length," exercises"]})]})]},oe.id))})]}),c.jsx(lo,{active:"workouts"}),on]});if(y==="overview"&&x){const oe=x;return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[xn(oe.name),c.jsxs("main",{className:"pg-main",children:[c.jsx("button",{className:"nut-back-btn",onClick:()=>w("browse"),children:" Back"}),c.jsxs("div",{className:"pg-overview-hero",children:[c.jsx("svg",{className:"pg-overview-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:v1[oe.focus]})}),c.jsx("h2",{className:"pg-overview-name",children:oe.name}),c.jsx("p",{className:"pg-overview-desc",children:oe.description}),c.jsxs("div",{className:"pg-overview-stats",children:[c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:oe.duration}),c.jsx("span",{className:"pg-ov-stat-label",children:"Weeks"})]}),c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:oe.daysPerWeek}),c.jsx("span",{className:"pg-ov-stat-label",children:"Days/Week"})]}),c.jsxs("div",{className:"pg-ov-stat",children:[c.jsx("span",{className:"pg-ov-stat-num",children:oe.duration*oe.daysPerWeek}),c.jsx("span",{className:"pg-ov-stat-label",children:"Sessions"})]})]})]}),c.jsx("div",{className:"pg-overview-days",children:oe.days.map((ye,_e)=>c.jsxs("div",{className:"pg-day-card",children:[c.jsxs("div",{className:"pg-day-header",children:[c.jsx("span",{className:"pg-day-name",children:ye.name}),c.jsx("span",{className:"pg-day-label",children:ye.label})]}),c.jsx("div",{className:"pg-day-exercises",children:ye.exercises.map((Be,Ce)=>{const Te=Ih(Be,1,oe);return c.jsxs("div",{className:"pg-day-ex",children:[c.jsx("span",{className:"pg-day-ex-name",children:Be.name}),c.jsx("span",{className:"pg-day-ex-target",children:Be.type==="timed"?`${Te.sets}${Te.time}s`:`${Te.sets}${Te.reps}`}),c.jsx("span",{className:`pg-day-ex-badge pg-badge-${Be.type}`,children:Be.type==="weighted"?"WT":Be.type==="timed"?"TMR":"BW"})]},Ce)})})]},_e))}),c.jsxs("div",{className:"pg-overview-note",children:[c.jsx("strong",{children:"Progressive Overload:"})," +",oe.repProg," reps/week",oe.timeProg?`, +${oe.timeProg}s/week for timed`:""]}),c.jsx("button",{className:"pg-start-btn",onClick:()=>an(oe),children:"Start Programme"})]}),on]})}if(y==="dashboard"){const oe=xt();if(!oe)return w("browse"),null;const ye=Et(),_e=q?.completedSessions||{},Be=ye.totalSessions?Math.round(ye.totalCompleted/ye.totalSessions*100):0,Ce=Math.round(ye.totalCompleted/(ye.totalSessions||1)*HD);return c.jsxs("div",{className:"pg-page","data-theme":o?"dark":"light","data-accent":d,children:[xn(),c.jsxs("main",{className:"pg-main",children:[c.jsx("button",{className:"nut-back-btn",onClick:()=>p("/client/core-buddy/workouts"),children:" Back"}),c.jsxs("div",{className:"pg-dash-hero",children:[c.jsxs("div",{className:"pg-dash-ring-wrap",children:[c.jsx("svg",{className:"pg-dash-ring-svg",viewBox:"0 0 200 200",children:Mr.map((Te,Me)=>c.jsx("line",{x1:Te.x1,y1:Te.y1,x2:Te.x2,y2:Te.y2,className:Me<Ce?"pg-tick-filled":"pg-tick-empty",strokeWidth:Te.thick?"3":"2"},Me))}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"pg-dash-ring-logo",width:"50",height:"50"})]}),c.jsx("h2",{className:"pg-dash-name",children:oe.name}),c.jsxs("div",{className:"pg-dash-progress-text",children:[c.jsxs("span",{className:"pg-dash-pct",children:[Be,"%"]}),c.jsxs("span",{className:"pg-dash-week",children:["Week ",ye.currentWeek," of ",oe.duration]})]})]}),c.jsx("div",{className:"pg-weeks",children:Array.from({length:oe.duration},(Te,Me)=>{const Le=Me+1;return c.jsxs("div",{className:`pg-week-row${Le===ye.currentWeek?" pg-week-current":""}`,children:[c.jsxs("span",{className:"pg-week-label",children:["W",Le]}),c.jsx("div",{className:"pg-week-days",children:oe.days.map((Fe,mt)=>{const Kt=`w${Le}d${mt}`,Mt=!!_e[Kt],dn=!ye.complete&&Le===ye.nextWeek&&mt===ye.nextDay;return c.jsx("button",{className:`pg-day-dot${Mt?" done":""}${dn?" next":""}`,disabled:Mt,onClick:()=>{dn&&et(Le,mt)},children:Mt?c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}):c.jsx("span",{children:Fe.name.replace("Day ","")})},mt)})})]},Me)})}),!ye.complete&&ye.nextDay>=0&&c.jsxs("div",{className:"pg-next-session",children:[c.jsx("h3",{children:"Next Session"}),c.jsxs("p",{className:"pg-next-info",children:["Week ",ye.nextWeek,"  ",oe.days[ye.nextDay].name,": ",oe.days[ye.nextDay].label]}),c.jsx("div",{className:"pg-next-exercises",children:oe.days[ye.nextDay].exercises.map((Te,Me)=>{const Le=Ih(Te,ye.nextWeek,oe);return c.jsxs("div",{className:"pg-next-ex",children:[c.jsx("span",{className:"pg-next-ex-name",children:Te.name}),c.jsx("span",{className:"pg-next-ex-target",children:Te.type==="timed"?`${Le.sets}${Le.time}s`:`${Le.sets}${Le.reps}`})]},Me)})}),c.jsx("button",{className:"pg-start-btn",onClick:()=>et(ye.nextWeek,ye.nextDay),children:"Start Session"})]}),ye.complete&&c.jsxs("div",{className:"pg-complete-msg",children:[c.jsx("h3",{children:"Programme Complete! "}),c.jsxs("p",{children:["You finished all ",ye.totalSessions," sessions."]}),c.jsx("button",{className:"pg-start-btn",onClick:Lt,children:"Choose New Programme"})]}),c.jsx("button",{className:"pg-quit-btn",onClick:()=>{confirm("Quit this programme? Progress will be lost.")&&Lt()},children:"Quit Programme"})]}),c.jsx(lo,{active:"workouts"}),on]})}if(y==="session"){const oe=xt();if(!oe)return null;const ye=oe.days[J],_e=ye.exercises[we],Be=Ih(_e,z,oe),Ce=S[we],Te=Ce?.sets?.length||0,Me=ye.exercises.length,Le=(we+Te/Be.sets)/Me,Fe=De[_e.name],mt=tt(z,J,_e.name);_e.type==="timed"&&W===0&&!Je&&Te===Re&&setTimeout(()=>se(Be.time),0);const Kt=()=>{Fe?.isGif?te(!P):Z.current&&(P?Z.current.pause():Z.current.play(),te(!P))};return c.jsxs("div",{className:"pg-page pg-page-session","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("div",{className:"pg-session-progress",children:c.jsx("div",{className:"pg-session-progress-fill",style:{width:`${Le*100}%`}})}),c.jsxs("div",{className:"pg-session-header",children:[c.jsx("button",{className:"pg-session-back",onClick:()=>{confirm("Leave session? Progress will be lost.")&&w("dashboard")},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M19 12H5M12 5l-7 7 7 7"})})}),c.jsxs("div",{className:"pg-session-title",children:[c.jsxs("span",{className:"pg-session-counter",children:[we+1," / ",Me]}),c.jsxs("span",{className:"pg-session-week",children:["Week ",z,"  ",ye.name]})]})]}),Fe&&c.jsxs("div",{className:"pg-video-container",onClick:Kt,children:[Fe.isGif?c.jsx("img",{className:"pg-video",src:Fe.url,alt:_e.name}):c.jsx("video",{ref:Z,className:"pg-video",src:Fe.url,loop:!0,muted:!0,playsInline:!0},_e.name),!P&&c.jsxs("div",{className:"pg-video-overlay",children:[c.jsx("svg",{className:"pg-play-icon",viewBox:"0 0 24 24",fill:"white",children:c.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),c.jsx("span",{className:"pg-video-hint",children:"Tap for demo"})]})]}),c.jsx("div",{className:"pg-spotify",children:c.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/37i9dQZF1DZ06evO3FJyYF?utm_source=generator&theme=0",width:"100%",height:"80",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:"Spotify Playlist"})}),c.jsxs("div",{className:"pg-exercise-card",children:[c.jsx("h2",{className:"pg-ex-name",children:_e.name}),c.jsx("span",{className:`pg-ex-type-badge pg-badge-${_e.type}`,children:_e.type==="weighted"?"Weight + Reps":_e.type==="timed"?"Timed":"Reps Only"}),_e.type==="weighted"&&mt&&c.jsxs("div",{className:"pg-last-week",children:[c.jsx("span",{className:"pg-last-week-label",children:"Last week:"}),c.jsxs("span",{className:"pg-last-week-value",children:[mt.weight,"kg x ",mt.reps," reps"]})]}),c.jsxs("div",{className:"pg-ex-set-info",children:[c.jsxs("span",{className:"pg-ex-set-num",children:["Set ",Te+1," of ",Be.sets]}),c.jsxs("span",{className:"pg-ex-target",children:["Target: ",_e.type==="timed"?`${Be.time}s hold`:`${Be.reps} reps`]})]}),_e.type==="weighted"&&c.jsxs("div",{className:"pg-input-area",children:[c.jsxs("div",{className:"pg-input-group",children:[c.jsx("label",{children:"Weight (kg)"}),c.jsx("input",{type:"number",inputMode:"decimal",value:I,onChange:Mt=>D(Mt.target.value),placeholder:"0",className:"pg-input"})]}),c.jsxs("div",{className:"pg-input-group",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",value:B,onChange:Mt=>j(Mt.target.value),placeholder:String(Be.reps),className:"pg-input"})]})]}),_e.type==="reps"&&c.jsx("div",{className:"pg-input-area",children:c.jsxs("div",{className:"pg-input-group pg-input-single",children:[c.jsx("label",{children:"Reps"}),c.jsx("input",{type:"number",inputMode:"numeric",value:B,onChange:Mt=>j(Mt.target.value),placeholder:String(Be.reps),className:"pg-input"})]})}),_e.type==="timed"&&c.jsxs("div",{className:"pg-timer-area",children:[c.jsx("div",{className:"pg-timer-display",children:c.jsxs("span",{className:"pg-timer-value",children:[W,"s"]})}),Je?c.jsx("button",{className:"pg-timer-btn pg-timer-stop",onClick:()=>ht(!1),children:"Stop"}):c.jsx("button",{className:"pg-timer-btn",onClick:()=>{W===0&&se(Be.time),ht(!0)},children:W<Be.time&&W>0?"Resume":"Start Timer"})]}),c.jsx("button",{className:"pg-log-set-btn",onClick:$t,disabled:_e.type==="timed"&&Je,children:Te+1<Be.sets?"Log Set":we+1<Me?"Log Set  Next Exercise":"Log Set  Complete"}),Ce?.sets?.length>0&&c.jsx("div",{className:"pg-completed-sets",children:Ce.sets.map((Mt,dn)=>c.jsxs("div",{className:"pg-completed-set",children:[c.jsx("span",{className:"pg-completed-set-check",children:""}),c.jsxs("span",{children:["Set ",dn+1,": ",Mt.weight!==void 0?`${Mt.weight}kg  ${Mt.reps}`:Mt.time!==void 0?`${Mt.time}s`:`${Mt.reps} reps`]})]},dn))})]}),on]})}if(y==="sessionComplete"){const ye=xt()?.days[J],_e=S.reduce((Ce,Te)=>Ce+Te.sets.length,0),Be=S.reduce((Ce,Te)=>Ce+Te.sets.reduce((Me,Le)=>Me+(Le.weight||0)*(Le.reps||0),0),0);return c.jsxs("div",{className:"pg-page pg-page-center","data-theme":o?"dark":"light","data-accent":d,children:[c.jsxs("div",{className:"pg-session-done",children:[c.jsxs("div",{className:"pg-done-ring",children:[c.jsx("svg",{className:"pg-done-ring-svg",viewBox:"0 0 200 200",children:Mr.map((Ce,Te)=>c.jsx("line",{x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,className:"pg-tick-complete",strokeWidth:Ce.thick?"3.5":"2",style:{animationDelay:`${Te*.02}s`}},Te))}),c.jsx("div",{className:"pg-done-center",children:c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#4caf50",strokeWidth:"2.5",strokeLinecap:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsx("h2",{className:"pg-done-title",children:"Session Complete!"}),c.jsxs("p",{className:"pg-done-subtitle",children:["Week ",z,"  ",ye?.name,": ",ye?.label]}),c.jsxs("div",{className:"pg-done-stats",children:[c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:S.length}),c.jsx("span",{className:"pg-done-stat-label",children:"Exercises"})]}),c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:_e}),c.jsx("span",{className:"pg-done-stat-label",children:"Sets"})]}),Be>0&&c.jsxs("div",{className:"pg-done-stat",children:[c.jsx("span",{className:"pg-done-stat-num",children:Math.round(Be).toLocaleString()}),c.jsx("span",{className:"pg-done-stat-label",children:"Volume (kg)"})]})]}),c.jsx("button",{className:"pg-start-btn",onClick:()=>w("dashboard"),children:"Back to Programme"})]}),he&&c.jsx("div",{className:"pg-badge-celebration",onClick:()=>ke(null),children:c.jsxs("div",{className:"pg-badge-celebration-card",onClick:Ce=>Ce.stopPropagation(),children:[c.jsx("div",{className:"pg-badge-celebration-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),c.jsx("h3",{className:"pg-badge-celebration-title",children:he.badges.length===1?"Badge Earned!":`${he.badges.length} Badges Earned!`}),c.jsx("div",{className:"pg-badge-celebration-list",children:he.badges.map((Ce,Te)=>c.jsx("div",{className:"pg-badge-celebration-item",children:Ce.type==="pb_target"?`${Ce.exercise}  ${Ce.targetWeight}kg`:Ce.label},Te))}),c.jsx("button",{className:"pg-badge-celebration-dismiss",onClick:()=>ke(null),children:"Tap to dismiss"})]})}),on]})}return null}const KD={"Dumbbell Floor Press":"push","Seated Dumbbell Shoulder Press":"push","Seated Dumbbell Arnold Press":"push","Dumbbell Overhead Tricep Extension":"push",Skullcrushers:"push","Dumbbell Lateral Raise":"push","Dumbbell Front Raise":"push","Dumbbell Bent Over Row":"pull","Single Arm Bent Over Row":"pull","Bicep Curl":"pull","Hammer Curl":"pull","Dumbbell Bent Over Rear Delt Fly":"pull","Renegade Row":"pull","Dumbbell Goblet Squats":"lower","Romanian Deadlifts":"lower","Forward Dumbbell Lunges":"lower","Dumbbell Sumo Squats":"lower","Weighted Calf Raises":"lower","1 Legged RDL":"lower","Dumbbell Box Step Ups":"lower","Dumbbell Squat Pulses":"lower","Dumbbell Reverse Lunges":"lower","Kettlebell Romanian Deadlift":"lower","Russian Twists Dumbbell":"core","Kettlebell Russian Twist":"core","Kettlebell Side Bends":"core","Kneeling Kettlebell Halo":"core"},YD={push:{label:"Push",color:"#c75f6b",icon:"M4 12h3l3-9 4 18 3-9h3"},pull:{label:"Pull",color:"#5f8ac7",icon:"M12 2v10m0 0l-4-4m4 4l4-4M4 20h16"},lower:{label:"Lower",color:"#5fc77a",icon:"M12 2v8m-4 4l4 8 4-8m-8 0h8"},core:{label:"Core",color:"#c7a45f",icon:"M12 2a4 4 0 014 4v1h-2V6a2 2 0 10-4 0v1H8V6a4 4 0 014-4zM8 9h8v2H8V9zm-1 4h10l-1 9H8l-1-9z"}},cp=[{threshold:1e3,label:"1 Tonne",icon:"1T"},{threshold:5e3,label:"5 Tonne",icon:"5T"},{threshold:1e4,label:"10 Tonne",icon:"10T"},{threshold:25e3,label:"25 Tonne",icon:"25T"},{threshold:5e4,label:"50 Tonne",icon:"50T"},{threshold:1e5,label:"100 Tonne",icon:"100T"},{threshold:25e4,label:"250 Tonne",icon:"250T"},{threshold:5e5,label:"500 Tonne",icon:"500T"},{threshold:1e6,label:"1 Million kg",icon:"1M"}];function QD(r){return KD[r]||"push"}function XD(r){return r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}T`:`${Math.round(r)}`}function JD(r){return r>=1e6?"million kg":r>=1e3?"tonnes":"kg"}function ZD(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Sa(),{isDark:o,toggleTheme:u,accent:d}=Sl(),p=nr(),[g,y]=k.useState(!0),[w,x]=k.useState(null),[T,O]=k.useState({});k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!n)return;(async()=>{try{const[R,I]=await Promise.all([fs(Qt(At,"coreBuddyAchievements",n.id)),fs(Qt(At,"coreBuddyPBs",n.id))]);R.exists()&&x(R.data()),I.exists()&&O(I.data().exercises||{})}catch(R){console.error("Error loading achievements:",R)}y(!1)})()},[n]);const q=w?.badges||[],H=w?.totalVolume||0,z=q.filter(S=>S.type==="pb_target"),ce=q.filter(S=>S.type==="volume_milestone"),J={push:[],pull:[],lower:[],core:[]};z.forEach(S=>{const R=S.group||QD(S.exercise);J[R]&&J[R].push(S)});const me=cp.find(S=>H<S.threshold),we=cp.filter(S=>H>=S.threshold).pop()?.threshold||0,je=me?(H-we)/(me.threshold-we):1;if(i||g)return c.jsxs("div",{className:"ach-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsx("div",{className:"header-content",children:c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"})})}),c.jsx("div",{className:"ach-loading-inline",children:c.jsx("div",{className:"cb-loading-spinner"})})]});const Re=q.length,N=Re>0||H>0;return c.jsxs("div",{className:"ach-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),c.jsxs("main",{className:"ach-main",children:[c.jsx("button",{className:"nut-back-btn",onClick:()=>p("/client/core-buddy"),children:" Back"}),c.jsxs("div",{className:"ach-stats-banner",children:[c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:Re}),c.jsx("span",{className:"ach-stat-label",children:Re===1?"Badge":"Badges"})]}),c.jsx("div",{className:"ach-stat-divider"}),c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:XD(H)}),c.jsxs("span",{className:"ach-stat-label",children:[JD(H)," lifted"]})]}),c.jsx("div",{className:"ach-stat-divider"}),c.jsxs("div",{className:"ach-stat-item",children:[c.jsx("span",{className:"ach-stat-num",children:Object.keys(T).length}),c.jsx("span",{className:"ach-stat-label",children:"PBs"})]})]}),!N&&c.jsxs("div",{className:"ach-empty",children:[c.jsx("div",{className:"ach-empty-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M12 15l-3-3h6l-3 3z"}),c.jsx("path",{d:"M5 7h14l-1.5 9h-11L5 7z"}),c.jsx("path",{d:"M8.5 7V5a3.5 3.5 0 017 0v2"})]})}),c.jsx("h4",{children:"No achievements yet"}),c.jsx("p",{children:"Complete workouts to track volume and set PB targets to start earning badges."})]}),c.jsxs("div",{className:"ach-section",children:[c.jsxs("h3",{className:"ach-section-title",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:c.jsx("path",{d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"})}),"Volume Milestones"]}),c.jsxs("div",{className:"ach-volume-hero",children:[c.jsxs("div",{className:"ach-volume-ring",children:[c.jsx("svg",{className:"ach-volume-ring-svg",viewBox:"0 0 200 200",children:Mr.map((S,R)=>{const I=R<Math.round(je*60);return c.jsx("line",{x1:S.x1,y1:S.y1,x2:S.x2,y2:S.y2,className:I?"ach-tick-filled":"ach-tick-empty",strokeWidth:S.thick?"3":"2"},R)})}),c.jsxs("div",{className:"ach-volume-center",children:[c.jsx("span",{className:"ach-volume-number",children:Math.round(H).toLocaleString()}),c.jsx("span",{className:"ach-volume-unit",children:"kg lifted"})]})]}),me&&c.jsxs("div",{className:"ach-volume-next",children:["Next: ",c.jsx("strong",{children:me.label})," (",(me.threshold-H).toLocaleString(),"kg to go)"]})]}),c.jsx("div",{className:"ach-milestone-shelf",children:cp.map((S,R)=>{const I=H>=S.threshold,D=ce.find(B=>B.milestone===S.threshold);return c.jsxs("div",{className:`ach-milestone ${I?"unlocked":"locked"}`,children:[c.jsx("div",{className:"ach-milestone-hex",children:c.jsx("span",{className:"ach-milestone-icon",children:S.icon})}),c.jsx("span",{className:"ach-milestone-label",children:S.label}),D?.achievedAt&&c.jsx("span",{className:"ach-milestone-date",children:(D.achievedAt.toDate?D.achievedAt.toDate():new Date(D.achievedAt)).toLocaleDateString("en-GB",{day:"numeric",month:"short"})})]},R)})})]}),c.jsxs("div",{className:"ach-section",children:[c.jsxs("h3",{className:"ach-section-title",children:[c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20",children:c.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"PB Target Badges"]}),z.length===0?c.jsx("div",{className:"ach-pb-empty",children:c.jsxs("p",{children:["Set targets on your personal bests to start earning badges. Go to ",c.jsx("strong",{children:"My Progress"}),' and tap "Set Target" on any PB.']})}):Object.entries(J).map(([S,R])=>{if(R.length===0)return null;const I=YD[S];return c.jsxs("div",{className:"ach-group",children:[c.jsxs("div",{className:"ach-group-header",style:{borderLeftColor:I.color},children:[c.jsx("span",{className:"ach-group-label",style:{color:I.color},children:I.label}),c.jsx("span",{className:"ach-group-count",children:R.length})]}),c.jsx("div",{className:"ach-badge-grid",children:R.map((D,B)=>c.jsxs("div",{className:"ach-badge-card",style:{animationDelay:`${B*.06}s`,"--group-color":I.color},children:[c.jsx("div",{className:"ach-badge-hex",style:{borderColor:I.color,boxShadow:`0 0 12px ${I.color}33`},children:c.jsx("svg",{className:"ach-badge-hex-icon",viewBox:"0 0 24 24",fill:"none",stroke:I.color,strokeWidth:"2",strokeLinecap:"round",children:c.jsx("path",{d:I.icon})})}),c.jsxs("div",{className:"ach-badge-info",children:[c.jsx("span",{className:"ach-badge-exercise",children:D.exercise}),c.jsxs("span",{className:"ach-badge-value",style:{color:I.color},children:[D.targetWeight,"kg"]}),D.achievedAt&&c.jsx("span",{className:"ach-badge-date",children:(D.achievedAt.toDate?D.achievedAt.toDate():new Date(D.achievedAt)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})]},B))})]},S)})]})]}),c.jsx(lo,{active:"home"})]})}const b1=60,Dh=[{key:"trained",label:"Trained",icon:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2.71 7 4.14 8.43 7.71 4.86 16.29 13.43 12.71 17 14.14 18.43 15.57 17 17 18.43 14.14 21.29l1.43 1.43 1.43-1.43 1.43 1.43 2.14-2.14 1.43 1.43L22 20.57z"},{key:"protein",label:"Hit Protein",icon:"M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},{key:"steps",label:"10k Steps",icon:"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"},{key:"sleep",label:"8hrs Sleep",icon:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},{key:"water",label:"2L Water",icon:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}];function e3(r){const e=new Date(r),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e}function up(r){return r.toISOString().split("T")[0]}function t3(r){return Array.from({length:7},(e,n)=>{const i=new Date(r);return i.setDate(r.getDate()+n),i})}function n3(){const{currentUser:r,isClient:e,clientData:n,loading:i}=Sa(),{isDark:o,toggleTheme:u,accent:d}=Sl(),p=nr(),[g,y]=k.useState({}),[w,x]=k.useState(!0),[T,O]=k.useState(!1),[q,H]=k.useState(0),[z,ce]=k.useState(null),[J,me]=k.useState(null),[we,je]=k.useState(!1),Re=k.useRef([]),N=k.useRef([]),S=k.useCallback((Z,he="info")=>{ce({message:Z,type:he}),setTimeout(()=>ce(null),3e3)},[]),R=new Date,I=up(R),D=e3(R),B=t3(D),j=["M","T","W","T","F","S","S"];k.useEffect(()=>{!i&&(!r||!e)&&p("/")},[r,e,i,p]),k.useEffect(()=>{if(!r||!n)return;(async()=>{try{const he=fa(At,"habitLogs"),ke=Wc(he,ll("clientId","==",n.id)),Ee=await $c(ke),Oe={};Ee.docs.forEach(Ot=>{const zt=Ot.data();Oe[zt.date]={...zt,_id:Ot.id}}),y(Oe);let $e=0;const Ke=new Date(R);for(;;){const Ot=up(Ke),zt=Oe[Ot];if(zt)if(Object.values(zt.habits||{}).filter(Boolean).length>=3)$e++,Ke.setDate(Ke.getDate()-1);else break;else if(Ot===I)Ke.setDate(Ke.getDate()-1);else break}H($e)}catch(he){console.error("Error loading habit logs:",he)}finally{x(!1)}})()},[r,n]);const Je=g[I]||{habits:{}},ht=async Z=>{if(!r||T)return;const he=Je.habits?.[Z]||!1;he||(Re.current=[...Array(10)].map((ke,Ee)=>{const Oe=Ee/10*2*Math.PI,$e=18+Math.random()*20;return{tx:Math.cos(Oe)*$e,ty:Math.sin(Oe)*$e,size:3+Math.random()*4,duration:.4+Math.random()*.3}}),me(Z),setTimeout(()=>me(null),700)),O(!0);try{const ke=Je.habits||{},Ee={...ke,[Z]:!ke[Z]},Oe=Je._id||`${n.id}_${I}`;await Pr(Qt(At,"habitLogs",Oe),{clientId:n.id,date:I,habits:Ee}),y(Ke=>({...Ke,[I]:{clientId:n.id,date:I,habits:Ee,_id:Oe}})),Object.values(Ee).filter(Boolean).length===Dh.length&&!he&&(N.current=[...Array(50)].map((Ke,Ot)=>({x:5+Math.random()*90,delay:Math.random()*.6,color:["#4caf50","#ff9800","#2196f3","#e91e63","#ffeb3b","#9c27b0"][Ot%6],drift:(Math.random()-.5)*120,spin:Math.random()*720-360,duration:1.5+Math.random()*1.5,width:4+Math.random()*8,height:4+Math.random()*10})),setTimeout(()=>{je(!0),setTimeout(()=>je(!1),3500)},500))}catch(ke){console.error("Error saving habit:",ke),S("Failed to save. Try again.","error")}finally{O(!1)}},W=B.map(Z=>{const he=up(Z),ke=g[he],Ee=ke?Object.values(ke.habits||{}).filter(Boolean).length:0;return{date:Z,dateStr:he,completed:Ee,total:Dh.length}}),se=W.reduce((Z,he)=>Z+he.completed,0),ge=W.reduce((Z,he)=>Z+he.total,0),De=ge>0?Math.round(se/ge*100):0,ze=Object.values(Je.habits||{}).filter(Boolean).length,P=Math.round(ze/Dh.length*100),te=Math.round(P/100*b1);return c.jsxs("div",{className:"cbc-page","data-theme":o?"dark":"light","data-accent":d,children:[c.jsx("header",{className:"client-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("button",{className:"header-back-btn",onClick:()=>p("/client/core-buddy"),"aria-label":"Go back",children:c.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("img",{src:"/Logo.webp",alt:"Mind Core Fitness",className:"header-logo",width:"50",height:"50"}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{onClick:u,"aria-label":"Toggle theme",children:o?c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}):c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})})]})}),i||w?c.jsx("div",{className:"cbc-loading-inline",children:c.jsx("div",{className:"cbc-loading-spinner"})}):c.jsxs("main",{className:"cbc-main",children:[c.jsxs("div",{className:"cbc-ring-section",children:[c.jsxs("div",{className:"cbc-progress-ring",children:[c.jsx("svg",{viewBox:"0 0 200 200",children:Mr.map((Z,he)=>c.jsx("line",{x1:Z.x1,y1:Z.y1,x2:Z.x2,y2:Z.y2,className:he<te?"cbc-tick-filled":"cbc-tick-empty",strokeWidth:Z.thick?"3":"2",style:{transitionDelay:`${he*20}ms`}},he))}),c.jsxs("div",{className:"cbc-ring-center",children:[c.jsxs("span",{className:"cbc-ring-pct",children:[P,"%"]}),c.jsx("span",{className:"cbc-ring-label",children:"today"})]})]}),c.jsxs("div",{className:"cbc-streak",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:c.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),c.jsx("span",{className:"cbc-streak-count",children:q}),c.jsx("span",{className:"cbc-streak-label",children:"day streak"})]})]}),c.jsxs("div",{className:"cbc-section",children:[c.jsx("h2",{className:"cbc-section-title",children:"Today's Habits"}),c.jsx("div",{className:"cbc-habits",children:Dh.map(Z=>{const he=Je.habits?.[Z.key]||!1,ke=J===Z.key;return c.jsxs("button",{className:`cbc-habit-btn cbc-habit-${Z.key} ${he?"cbc-habit-done":""} ${ke?"cbc-habit-just-checked":""}`,onClick:()=>ht(Z.key),disabled:T,children:[c.jsx("div",{className:"cbc-habit-check",children:he?c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:c.jsx("polyline",{points:"20 6 9 17 4 12",className:`cbc-check-path ${ke?"cbc-check-animate":""}`})}):c.jsx("div",{className:"cbc-habit-circle"})}),ke&&c.jsx("div",{className:"cbc-particles",children:Re.current.map((Ee,Oe)=>c.jsx("span",{className:"cbc-particle",style:{"--tx":`${Ee.tx}px`,"--ty":`${Ee.ty}px`,"--size":`${Ee.size}px`,animationDuration:`${Ee.duration}s`}},Oe))}),c.jsx("div",{className:`cbc-habit-icon cbc-icon-${Z.key}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("path",{d:Z.icon})})}),c.jsx("span",{className:"cbc-habit-label",children:Z.label})]},Z.key)})})]}),c.jsxs("div",{className:"cbc-section",children:[c.jsx("h2",{className:"cbc-section-title",children:"This Week"}),c.jsx("div",{className:"cbc-week-grid",children:W.map((Z,he)=>{const ke=Z.dateStr===I,Ee=Z.total>0?Z.completed/Z.total:0,Oe=Math.round(Ee*b1);return c.jsxs("div",{className:`cbc-day-ring ${ke?"cbc-day-today":""} ${Z.completed>0?"cbc-day-active":""}`,children:[c.jsx("svg",{viewBox:"0 0 100 100",children:Fp.map(($e,Ke)=>c.jsx("line",{x1:$e.x1,y1:$e.y1,x2:$e.x2,y2:$e.y2,className:Ke<Oe?"cbc-day-tick-filled":"cbc-day-tick-empty",strokeWidth:$e.thick?"3":"2"},Ke))}),c.jsx("span",{className:"cbc-day-label",children:j[he]}),c.jsxs("span",{className:"cbc-day-count",children:[Z.completed,"/",Z.total]})]},he)})}),c.jsxs("div",{className:"cbc-week-summary",children:[c.jsx("div",{className:"cbc-week-summary-bar",children:c.jsx("div",{className:"cbc-week-summary-fill",style:{width:`${De}%`}})}),c.jsxs("span",{className:"cbc-week-summary-text",children:[se," / ",ge," habits this week (",De,"%)"]})]})]})]}),c.jsx(lo,{active:"home"}),we&&c.jsxs("div",{className:"cbc-celebration",onClick:()=>je(!1),children:[c.jsx("div",{className:"cbc-confetti-container",children:N.current.map((Z,he)=>c.jsx("span",{className:"cbc-confetti-piece",style:{"--x":`${Z.x}%`,"--delay":`${Z.delay}s`,"--color":Z.color,"--drift":`${Z.drift}px`,"--spin":`${Z.spin}deg`,"--duration":`${Z.duration}s`,width:`${Z.width}px`,height:`${Z.height}px`}},he))}),c.jsxs("div",{className:"cbc-celebration-card",children:[c.jsxs("svg",{className:"cbc-celebration-icon",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),c.jsx("h2",{className:"cbc-celebration-title",children:"Crushed it!"}),c.jsx("p",{className:"cbc-celebration-sub",children:"All habits complete today"})]})]}),z&&c.jsx("div",{className:`toast-notification ${z.type}`,children:z.message})]})}const s3=k.lazy(()=>Os(()=>import("./Dashboard-Cji7Fs4W.js"),__vite__mapDeps([0,1]))),r3=k.lazy(()=>Os(()=>import("./AddClient-lYN_K6PM.js"),__vite__mapDeps([2,3]))),i3=k.lazy(()=>Os(()=>import("./ClientDashboard-BA7Etxjh.js"),__vite__mapDeps([4,5]))),a3=k.lazy(()=>Os(()=>import("./ClientForms-BOgrgS8k.js"),__vite__mapDeps([6,7,5]))),o3=k.lazy(()=>Os(()=>import("./ClientTools-CwSjq0op.js"),__vite__mapDeps([8,9,5]))),l3=k.lazy(()=>Os(()=>import("./MacroCalculator-oPgAcKTA.js"),__vite__mapDeps([10,9,5]))),c3=k.lazy(()=>Os(()=>import("./ProteinSnacks-DekUtY_q.js"),__vite__mapDeps([11,9,5]))),u3=k.lazy(()=>Os(()=>import("./DailyMotivation-CGWl9HMl.js"),__vite__mapDeps([12,9,5]))),h3=k.lazy(()=>Os(()=>import("./PersonalBests-C35-R9U1.js"),__vite__mapDeps([13,14,5]))),d3=k.lazy(()=>Os(()=>import("./CircuitDashboard-BSxJQl0K.js"),__vite__mapDeps([15,16]))),f3=k.lazy(()=>Os(()=>import("./CircuitBooking-BwajeesP.js"),__vite__mapDeps([17,18,16]))),m3=k.lazy(()=>Os(()=>import("./Leaderboard-OANi5gEu.js"),__vite__mapDeps([19,20])));function p3({children:r}){const{pathname:e}=_r();return k.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]),k.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),r}function g3(){const r=nr();return k.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function y3(){return c.jsx(bD,{children:c.jsx(vD,{children:c.jsxs(BS,{basename:"/login",children:[c.jsx(g3,{}),c.jsx(p3,{children:c.jsx(k.Suspense,{fallback:null,children:c.jsxs(pS,{children:[c.jsx(bn,{path:"/",element:c.jsx(_D,{})}),c.jsx(bn,{path:"/dashboard",element:c.jsx(s3,{})}),c.jsx(bn,{path:"/add-client",element:c.jsx(r3,{})}),c.jsx(bn,{path:"/client",element:c.jsx(i3,{})}),c.jsx(bn,{path:"/client/forms",element:c.jsx(a3,{})}),c.jsx(bn,{path:"/client/tools",element:c.jsx(o3,{})}),c.jsx(bn,{path:"/client/tools/macros",element:c.jsx(l3,{})}),c.jsx(bn,{path:"/client/tools/snacks",element:c.jsx(c3,{})}),c.jsx(bn,{path:"/client/tools/motivation",element:c.jsx(u3,{})}),c.jsx(bn,{path:"/client/personal-bests",element:c.jsx(h3,{})}),c.jsx(bn,{path:"/client/circuit",element:c.jsx(d3,{})}),c.jsx(bn,{path:"/client/circuit/booking",element:c.jsx(f3,{})}),c.jsx(bn,{path:"/client/core-buddy",element:c.jsx(RD,{})}),c.jsx(bn,{path:"/client/core-buddy/nutrition",element:c.jsx(ID,{})}),c.jsx(bn,{path:"/client/core-buddy/workouts",element:c.jsx(qD,{})}),c.jsx(bn,{path:"/client/core-buddy/programmes",element:c.jsx($D,{})}),c.jsx(bn,{path:"/client/core-buddy/achievements",element:c.jsx(ZD,{})}),c.jsx(bn,{path:"/client/core-buddy/consistency",element:c.jsx(n3,{})}),c.jsx(bn,{path:"/client/leaderboard",element:c.jsx(m3,{})}),c.jsx(bn,{path:"*",element:c.jsx(fS,{to:"/",replace:!0})})]})})})]})})})}pT.createRoot(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(y3,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/login/sw.js").catch(()=>{})});export{lo as C,ot as T,Up as a,uI as b,fa as c,At as d,Qt as e,b3 as f,$c as g,OR as h,fs as i,c as j,Sa as k,Sl as l,nr as m,wD as n,w3 as o,Pr as p,Wc as q,k as r,E3 as s,v3 as t,x3 as u,T3 as v,ll as w};
