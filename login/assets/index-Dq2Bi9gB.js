(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var im={exports:{}},Ml={};var Sv;function Bb(){if(Sv)return Ml;Sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Av;function qb(){return Av||(Av=1,im.exports=Bb()),im.exports}var C=qb(),rm={exports:{}},Re={};var bv;function Hb(){if(bv)return Re;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Q={};function te(x,W,ue){this.props=x,this.context=W,this.refs=Q,this.updater=ue||F}te.prototype.isReactComponent={},te.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},te.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function ae(x,W,ue){this.props=x,this.context=W,this.refs=Q,this.updater=ue||F}var re=ae.prototype=new ie;re.constructor=ae,K(re,te.prototype),re.isPureReactComponent=!0;var ce=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(x,W,ue){var H=ue.ref;return{$$typeof:r,type:x,key:W,ref:H!==void 0?H:null,props:ue}}function V(x,W){return I(x.type,W,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function P(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return W[ue]})}var D=/\/+/g;function rt(x,W){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):W.toString(36)}function pt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(me,me):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function $(x,W,ue,H,se){var fe=typeof x;(fe==="undefined"||fe==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(fe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=x._init,$(Ee(x._payload),W,ue,H,se)}}if(Ee)return se=se(x),Ee=H===""?"."+rt(x,0):H,ce(se)?(ue="",Ee!=null&&(ue=Ee.replace(D,"$&/")+"/"),$(se,W,ue,"",function($e){return $e})):se!=null&&(O(se)&&(se=V(se,ue+(se.key==null||x&&x.key===se.key?"":(""+se.key).replace(D,"$&/")+"/")+Ee)),W.push(se)),1;Ee=0;var Te=H===""?".":H+":";if(ce(x))for(var Ie=0;Ie<x.length;Ie++)H=x[Ie],fe=Te+rt(H,Ie),Ee+=$(H,W,ue,fe,se);else if(Ie=k(x),typeof Ie=="function")for(x=Ie.call(x),Ie=0;!(H=x.next()).done;)H=H.value,fe=Te+rt(H,Ie++),Ee+=$(H,W,ue,fe,se);else if(fe==="object"){if(typeof x.then=="function")return $(pt(x),W,ue,H,se);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function le(x,W,ue){if(x==null)return x;var H=[],se=0;return $(x,H,"","",function(fe){return W.call(ue,fe,se++)}),H}function ye(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var ze=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ge={map:le,forEach:function(x,W,ue){le(x,function(){W.apply(this,arguments)},ue)},count:function(x){var W=0;return le(x,function(){W++}),W},toArray:function(x){return le(x,function(W){return W})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Re.Activity=T,Re.Children=Ge,Re.Component=te,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ae,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(x,W,ue){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var H=K({},x.props),se=x.key;if(W!=null)for(fe in W.key!==void 0&&(se=""+W.key),W)!w.call(W,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&W.ref===void 0||(H[fe]=W[fe]);var fe=arguments.length-2;if(fe===1)H.children=ue;else if(1<fe){for(var Ee=Array(fe),Te=0;Te<fe;Te++)Ee[Te]=arguments[Te+2];H.children=Ee}return I(x.type,se,H)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,W,ue){var H,se={},fe=null;if(W!=null)for(H in W.key!==void 0&&(fe=""+W.key),W)w.call(W,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(se[H]=W[H]);var Ee=arguments.length-2;if(Ee===1)se.children=ue;else if(1<Ee){for(var Te=Array(Ee),Ie=0;Ie<Ee;Ie++)Te[Ie]=arguments[Ie+2];se.children=Te}if(x&&x.defaultProps)for(H in Ee=x.defaultProps,Ee)se[H]===void 0&&(se[H]=Ee[H]);return I(x,fe,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=O,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ye}},Re.memo=function(x,W){return{$$typeof:y,type:x,compare:W===void 0?null:W}},Re.startTransition=function(x){var W=R.T,ue={};R.T=ue;try{var H=x(),se=R.S;se!==null&&se(ue,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(me,ze)}catch(fe){ze(fe)}finally{W!==null&&ue.types!==null&&(W.types=ue.types),R.T=W}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(x){return R.H.use(x)},Re.useActionState=function(x,W,ue){return R.H.useActionState(x,W,ue)},Re.useCallback=function(x,W){return R.H.useCallback(x,W)},Re.useContext=function(x){return R.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,W){return R.H.useDeferredValue(x,W)},Re.useEffect=function(x,W){return R.H.useEffect(x,W)},Re.useEffectEvent=function(x){return R.H.useEffectEvent(x)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(x,W,ue){return R.H.useImperativeHandle(x,W,ue)},Re.useInsertionEffect=function(x,W){return R.H.useInsertionEffect(x,W)},Re.useLayoutEffect=function(x,W){return R.H.useLayoutEffect(x,W)},Re.useMemo=function(x,W){return R.H.useMemo(x,W)},Re.useOptimistic=function(x,W){return R.H.useOptimistic(x,W)},Re.useReducer=function(x,W,ue){return R.H.useReducer(x,W,ue)},Re.useRef=function(x){return R.H.useRef(x)},Re.useState=function(x){return R.H.useState(x)},Re.useSyncExternalStore=function(x,W,ue){return R.H.useSyncExternalStore(x,W,ue)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.4",Re}var wv;function tp(){return wv||(wv=1,rm.exports=Hb()),rm.exports}var U=tp(),sm={exports:{}},xl={},am={exports:{}},om={};var Rv;function Fb(){return Rv||(Rv=1,(function(r){function e($,le){var ye=$.length;$.push(le);e:for(;0<ye;){var ze=ye-1>>>1,Ge=$[ze];if(0<o(Ge,le))$[ze]=le,$[ye]=Ge,ye=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],ye=$.pop();if(ye!==le){$[0]=ye;e:for(var ze=0,Ge=$.length,x=Ge>>>1;ze<x;){var W=2*(ze+1)-1,ue=$[W],H=W+1,se=$[H];if(0>o(ue,ye))H<Ge&&0>o(se,ue)?($[ze]=se,$[H]=ye,ze=H):($[ze]=ue,$[W]=ye,ze=W);else if(H<Ge&&0>o(se,ye))$[ze]=se,$[H]=ye,ze=H;else break e}}return le}function o($,le){var ye=$.sortIndex-le.sortIndex;return ye!==0?ye:$.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,b=3,k=!1,F=!1,K=!1,Q=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function re($){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=$)s(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function ce($){if(K=!1,re($),!F)if(n(p)!==null)F=!0,me||(me=!0,P());else{var le=n(y);le!==null&&pt(ce,le.startTime-$)}}var me=!1,R=-1,w=5,I=-1;function V(){return Q?!0:!(r.unstable_now()-I<w)}function O(){if(Q=!1,me){var $=r.unstable_now();I=$;var le=!0;try{e:{F=!1,K&&(K=!1,ie(R),R=-1),k=!0;var ye=b;try{t:{for(re($),T=n(p);T!==null&&!(T.expirationTime>$&&V());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,b=T.priorityLevel;var Ge=ze(T.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,re($),le=!0;break t}T===n(p)&&s(p),re($)}else s(p);T=n(p)}if(T!==null)le=!0;else{var x=n(y);x!==null&&pt(ce,x.startTime-$),le=!1}}break e}finally{T=null,b=ye,k=!1}le=void 0}}finally{le?P():me=!1}}}var P;if(typeof ae=="function")P=function(){ae(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,rt=D.port2;D.port1.onmessage=O,P=function(){rt.postMessage(null)}}else P=function(){te(O,0)};function pt($,le){R=te(function(){$(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var ye=b;b=le;try{return $()}finally{b=ye}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=b;b=$;try{return le()}finally{b=ye}},r.unstable_scheduleCallback=function($,le,ye){var ze=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ye+Ge,$={id:E++,callback:le,priorityLevel:$,startTime:ye,expirationTime:Ge,sortIndex:-1},ye>ze?($.sortIndex=ye,e(y,$),n(p)===null&&$===n(y)&&(K?(ie(R),R=-1):K=!0,pt(ce,ye-ze))):($.sortIndex=Ge,e(p,$),F||k||(F=!0,me||(me=!0,P()))),$},r.unstable_shouldYield=V,r.unstable_wrapCallback=function($){var le=b;return function(){var ye=b;b=le;try{return $.apply(this,arguments)}finally{b=ye}}}})(om)),om}var Cv;function Gb(){return Cv||(Cv=1,am.exports=Fb()),am.exports}var lm={exports:{}},tn={};var Iv;function Kb(){if(Iv)return tn;Iv=1;var r=tp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},tn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var Dv;function Yb(){if(Dv)return lm.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=Kb(),lm.exports}var Nv;function Qb(){if(Nv)return xl;Nv=1;var r=Gb(),e=tp(),n=Yb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case te:return"Profiler";case Q:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ae:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var pt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function x(t){return{current:t}}function W(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ue(t,i){Ge++,ze[Ge]=t.current,t.current=i}var H=x(null),se=x(null),fe=x(null),Ee=x(null);function Te(t,i){switch(ue(fe,i),ue(se,t),ue(H,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=G_(i),t=K_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(H),ue(H,t)}function Ie(){W(H),W(se),W(fe)}function $e(t){t.memoizedState!==null&&ue(Ee,t);var i=H.current,a=K_(i,t.type);i!==a&&(ue(se,t),ue(H,a))}function vt(t){se.current===t&&(W(H),W(se)),Ee.current===t&&(W(Ee),Il._currentValue=ye)}var st,zt;function gt(t){if(st===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);st=i&&i[1]||"",zt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+t+zt}var Vn=!1;function en(t,i){if(!t||Vn)return"";Vn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var q=Y}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Y){q=Y}t.call(Z.prototype)}}else{try{throw Error()}catch(Y){q=Y}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Vn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gt(a):""}function Tn(t,i){switch(t.tag){case 26:case 27:case 5:return gt(t.type);case 16:return gt("Lazy");case 13:return t.child!==i&&i!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return en(t.type,!1);case 11:return en(t.type.render,!1);case 1:return en(t.type,!0);case 31:return gt("Activity");default:return""}}function Sn(t){try{var i="",a=null;do i+=Tn(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,lt=r.unstable_scheduleCallback,hn=r.unstable_cancelCallback,sf=r.unstable_shouldYield,Eu=r.unstable_requestPaint,on=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,af=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,Su=r.log,Au=r.unstable_setDisableYieldValue,$n=null,Gt=null;function kn(t){if(typeof Su=="function"&&Au(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode($n,t)}catch{}}var Et=Math.clz32?Math.clz32:wu,bu=Math.log,oa=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(bu(t)/oa|0)|0}var mi=256,Ts=262144,wt=4194304;function pi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=pi(l):(_&=S,_!==0?h=pi(_):a||(a=S&~t,a!==0&&(h=pi(a))))):(S=l&~d,S!==0?h=pi(S):_!==0?h=pi(_):a||(a=l&~t,a!==0&&(h=pi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function of(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function yi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Et(a),Z=1<<X;S[X]=0,N[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Y=q[X];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&As(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Et(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Et(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(t.suspendedLanes|i))!==0?0:a}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Jn(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Wn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wn,jt="__reactProps$"+Wn,_i="__reactContainer$"+Wn,la="__reactEvents$"+Wn,uf="__reactListeners$"+Wn,Iu="__reactHandles$"+Wn,Du="__reactResources$"+Wn,vi="__reactMarker$"+Wn;function ua(t){delete t[Rt],delete t[jt],delete t[la],delete t[uf],delete t[Iu]}function Ei(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[Rt])return a;t=Z_(t)}return i}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Rt]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ti(t){var i=t[Du];return i||(i=t[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[vi]=!0}var ko=new Set,Lo={};function Si(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(Lo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},zo={};function Nu(t){return ot.call(zo,t)?!0:ot.call(Uo,t)?!1:Po.test(t)?zo[t]=!0:(Uo[t]=!0,!1)}function ca(t,i,a){if(Nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function fn(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,Bt(i)):a!=null?Bo(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function Ou(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Bo(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function Sr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Fo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,wi=null;function Cs(t){var i=Ln(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ws(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var ma=!1;function wr(t,i,a){if(ma)return t(i,a);ma=!0;try{var l=t(i);return l}finally{if(ma=!1,(br!==null||wi!==null)&&(Cc(),br&&(i=br,t=wi,wi=br=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Un)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Is=!1}var Ri=null,Go=null,Ds=null;function Ko(){if(Ds)return Ds;var t,i=Go,a=i.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ds=h.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ti(){return!1}function Kt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ti,this.isPropagationStopped=ti,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Kt(Yi),Rr=T({},Yi,{view:0,detail:0}),Yo=Kt(Rr),Cr,pa,Ii,ga=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Cr=t.screenX-Ii.screenX,pa=t.screenY-Ii.screenY):pa=Cr=0,Ii=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Qo=Kt(ga),Os=T({},ga,{dataTransfer:0}),ku=Kt(Os),Lu=T({},Rr,{relatedTarget:0}),Ms=Kt(Lu),$o=T({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Kt($o),ya=T({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=Kt(ya),zu=T({},Yi,{data:0}),Di=Kt(zu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function Ir(){return Hu}var ln=T({},Rr,{key:function(t){if(t.key){var i=ju[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=Kt(ln),Gu=T({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Kt(Gu),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),g=Kt(c),v=T({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(v),z=T({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Kt(z),oe=T({},Yi,{newState:0,oldState:0}),De=Kt(oe),Tt=[9,13,27,32],Ke=Un&&"CompositionEvent"in window,ht=null;Un&&"documentMode"in document&&(ht=document.documentMode);var zn=Un&&"TextEvent"in window&&!ht,Ni=Un&&(!Ke||ht&&8<ht&&11>=ht),ni=" ",ii=!1;function xs(t,i){switch(t){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function hA(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return t=i.data,t===ni&&ii?null:t;default:return null}}function fA(t,i){if(va)return t==="compositionend"||!Ke&&xs(t,i)?(t=Ko(),Ds=Go=Ri=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!dA[t.type]:i==="textarea"}function ig(t,i,a,l){br?wi?wi.push(l):wi=[l]:br=l,i=Vc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,Jo=null;function mA(t){z_(t,0)}function Ku(t){var i=An(t);if(ws(i))return t}function rg(t,i){if(t==="change")return i}var sg=!1;if(Un){var cf;if(Un){var hf="oninput"in document;if(!hf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),hf=typeof ag.oninput=="function"}cf=hf}else cf=!1;sg=cf&&(!document.documentMode||9<document.documentMode)}function og(){Xo&&(Xo.detachEvent("onpropertychange",lg),Jo=Xo=null)}function lg(t){if(t.propertyName==="value"&&Ku(Jo)){var i=[];ig(i,Jo,t,Pn(t)),wr(mA,i)}}function pA(t,i,a){t==="focusin"?(og(),Xo=i,Jo=a,Xo.attachEvent("onpropertychange",lg)):t==="focusout"&&og()}function gA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(Jo)}function yA(t,i){if(t==="click")return Ku(i)}function _A(t,i){if(t==="input"||t==="change")return Ku(i)}function vA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:vA;function Wo(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ot.call(i,h)||!wn(t[h],i[h]))return!1}return!0}function ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cg(t,i){var a=ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ug(a)}}function hg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?hg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var EA=Un&&"documentMode"in document&&11>=document.documentMode,Ea=null,df=null,Zo=null,mf=!1;function dg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||Ea==null||Ea!==bi(l)||(l=Ea,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Vc(df,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},pf={},mg={};Un&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ks(t){if(pf[t])return pf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return pf[t]=i[a];return t}var pg=ks("animationend"),gg=ks("animationiteration"),yg=ks("animationstart"),TA=ks("transitionrun"),SA=ks("transitionstart"),AA=ks("transitioncancel"),_g=ks("transitionend"),vg=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function ri(t,i){vg.set(t,i),Si(i,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Sa=0,yf=0;function Qu(){for(var t=Sa,i=yf=Sa=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Eg(a,h,d)}}function $u(t,i,a,l){jn[Sa++]=t,jn[Sa++]=i,jn[Sa++]=a,jn[Sa++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return $u(t,i,a,l),Xu(t)}function Ls(t,i){return $u(t,null,null,i),Xu(t)}function Eg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Et(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(t){if(50<Tl)throw Tl=0,Cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function bA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,l){return new bA(t,i,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ju(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")vf(t)&&(_=1);else if(typeof t=="string")_=Db(t,a,H.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Rn(31,a,i,h),t.elementType=I,t.lanes=d,t;case K:return Ps(a.children,h,d,i);case Q:_=8,h|=24;break;case te:return t=Rn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case ce:return t=Rn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case me:return t=Rn(19,a,i,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ie:_=9;break e;case re:_=11;break e;case R:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Rn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=Rn(7,t,l,i),t.lanes=a,t}function Ef(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function Sg(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function Tf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ag=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Sn(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:Sn(i)}}var ba=[],wa=0,Wu=null,el=0,qn=[],Hn=0,Dr=null,Oi=1,Mi="";function Xi(t,i){ba[wa++]=el,ba[wa++]=Wu,Wu=t,el=i}function bg(t,i,a){qn[Hn++]=Oi,qn[Hn++]=Mi,qn[Hn++]=Dr,Dr=t;var l=Oi;t=Mi;var h=32-Et(l)-1;l&=~(1<<h),a+=1;var d=32-Et(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-Et(i)+h|a<<h|l,Mi=d+t}else Oi=1<<d|a<<h|l,Mi=t}function Sf(t){t.return!==null&&(Xi(t,1),bg(t,1,0))}function Af(t){for(;t===Wu;)Wu=ba[--wa],ba[wa]=null,el=ba[--wa],ba[wa]=null;for(;t===Dr;)Dr=qn[--Hn],qn[Hn]=null,Mi=qn[--Hn],qn[Hn]=null,Oi=qn[--Hn],qn[Hn]=null}function wg(t,i){qn[Hn++]=Oi,qn[Hn++]=Mi,qn[Hn++]=Dr,Oi=i.id,Mi=i.overflow,Dr=t}var Yt=null,ut=null,je=!1,Nr=null,Fn=!1,bf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Bn(i,t)),bf}function Rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[jt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)xe(Al[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Ou(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||H_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Or(t,!0)}function Cg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Yt=Yt.return}}function Ra(t){if(t!==Yt)return!1;if(!je)return Cg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&ut&&Or(t),Cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=W_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=W_(t)}else i===27?(i=ut,Gr(t.type)?(t=Yd,Yd=null,ut=t):ut=i):ut=Yt?Kn(t.stateNode.nextSibling):null;return!0}function Us(){ut=Yt=null,je=!1}function wf(){var t=Nr;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Nr=null),t}function tl(t){Nr===null?Nr=[t]:Nr.push(t)}var Rf=x(null),zs=null,Ji=null;function Mr(t,i,a){ue(Rf,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=Rf.current,W(Rf)}function Cf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Cf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Cf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;wn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ee.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&If(i,t,a,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){zs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Ig(zs,t)}function ec(t,i){return zs===null&&js(t),Ig(t,i)}function Ig(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var wA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},RA=r.unstable_scheduleCallback,CA=r.unstable_NormalPriority,Dt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new wA,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&RA(CA,function(){t.controller.abort()})}var il=null,Nf=0,Ia=0,Da=null;function IA(t,i){if(il===null){var a=il=[];Nf=0,Ia=xd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(Dg,Dg),i}function Dg(){if(--Nf===0&&il!==null){Da!==null&&(Da.status="fulfilled");var t=il;il=null,Ia=0,Da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=$.S;$.S=function(t,i){d_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&IA(t,i),Ng!==null&&Ng(t,i)};var Bs=x(null);function Of(){var t=Bs.current;return t!==null?t:it.pooledCache}function tc(t,i){i===null?ue(Bs,Bs.current):ue(Bs,i.pool)}function Og(){var t=Of();return t===null?null:{parent:Dt._currentValue,pool:t}}var Na=Error(s(460)),Mf=Error(s(474)),nc=Error(s(542)),ic={then:function(){}};function Mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t}throw Hs=i,Na}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Na):a}}var Hs=null;function Vg(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function kg(t){if(t===Na||t===nc)throw Error(s(483))}var Oa=null,rl=0;function rc(t){var i=rl;return rl+=1,Oa===null&&(Oa=[]),xg(Oa,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){function i(L,M){if(t){var j=L.deletions;j===null?(L.deletions=[M],L.flags|=16):j.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=$i(L,M),L.index=0,L.sibling=null,L}function d(L,M,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<M?(L.flags|=67108866,M):j):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,j,J){return M===null||M.tag!==6?(M=Ef(j,L.mode,J),M.return=L,M):(M=h(M,j),M.return=L,M)}function N(L,M,j,J){var _e=j.type;return _e===K?X(L,M,j.props.children,J,j.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&qs(_e)===M.type)?(M=h(M,j.props),sl(M,j),M.return=L,M):(M=Ju(j.type,j.key,j.props,null,L.mode,J),sl(M,j),M.return=L,M)}function B(L,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Tf(j,L.mode,J),M.return=L,M):(M=h(M,j.children||[]),M.return=L,M)}function X(L,M,j,J,_e){return M===null||M.tag!==7?(M=Ps(j,L.mode,J,_e),M.return=L,M):(M=h(M,j),M.return=L,M)}function Z(L,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ef(""+M,L.mode,j),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return j=Ju(M.type,M.key,M.props,null,L.mode,j),sl(j,M),j.return=L,j;case F:return M=Tf(M,L.mode,j),M.return=L,M;case w:return M=qs(M),Z(L,M,j)}if(pt(M)||P(M))return M=Ps(M,L.mode,j,null),M.return=L,M;if(typeof M.then=="function")return Z(L,rc(M),j);if(M.$$typeof===ae)return Z(L,ec(L,M),j);sc(L,M)}return null}function q(L,M,j,J){var _e=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _e!==null?null:S(L,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return j.key===_e?N(L,M,j,J):null;case F:return j.key===_e?B(L,M,j,J):null;case w:return j=qs(j),q(L,M,j,J)}if(pt(j)||P(j))return _e!==null?null:X(L,M,j,J,null);if(typeof j.then=="function")return q(L,M,rc(j),J);if(j.$$typeof===ae)return q(L,M,ec(L,j),J);sc(L,j)}return null}function Y(L,M,j,J,_e){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(j)||null,S(M,L,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return L=L.get(J.key===null?j:J.key)||null,N(M,L,J,_e);case F:return L=L.get(J.key===null?j:J.key)||null,B(M,L,J,_e);case w:return J=qs(J),Y(L,M,j,J,_e)}if(pt(J)||P(J))return L=L.get(j)||null,X(M,L,J,_e,null);if(typeof J.then=="function")return Y(L,M,j,rc(J),_e);if(J.$$typeof===ae)return Y(L,M,j,ec(M,J),_e);sc(M,J)}return null}function pe(L,M,j,J){for(var _e=null,He=null,ge=M,Oe=M=0,ke=null;ge!==null&&Oe<j.length;Oe++){ge.index>Oe?(ke=ge,ge=null):ke=ge.sibling;var Fe=q(L,ge,j[Oe],J);if(Fe===null){ge===null&&(ge=ke);break}t&&ge&&Fe.alternate===null&&i(L,ge),M=d(Fe,M,Oe),He===null?_e=Fe:He.sibling=Fe,He=Fe,ge=ke}if(Oe===j.length)return a(L,ge),je&&Xi(L,Oe),_e;if(ge===null){for(;Oe<j.length;Oe++)ge=Z(L,j[Oe],J),ge!==null&&(M=d(ge,M,Oe),He===null?_e=ge:He.sibling=ge,He=ge);return je&&Xi(L,Oe),_e}for(ge=l(ge);Oe<j.length;Oe++)ke=Y(ge,L,Oe,j[Oe],J),ke!==null&&(t&&ke.alternate!==null&&ge.delete(ke.key===null?Oe:ke.key),M=d(ke,M,Oe),He===null?_e=ke:He.sibling=ke,He=ke);return t&&ge.forEach(function(Xr){return i(L,Xr)}),je&&Xi(L,Oe),_e}function Se(L,M,j,J){if(j==null)throw Error(s(151));for(var _e=null,He=null,ge=M,Oe=M=0,ke=null,Fe=j.next();ge!==null&&!Fe.done;Oe++,Fe=j.next()){ge.index>Oe?(ke=ge,ge=null):ke=ge.sibling;var Xr=q(L,ge,Fe.value,J);if(Xr===null){ge===null&&(ge=ke);break}t&&ge&&Xr.alternate===null&&i(L,ge),M=d(Xr,M,Oe),He===null?_e=Xr:He.sibling=Xr,He=Xr,ge=ke}if(Fe.done)return a(L,ge),je&&Xi(L,Oe),_e;if(ge===null){for(;!Fe.done;Oe++,Fe=j.next())Fe=Z(L,Fe.value,J),Fe!==null&&(M=d(Fe,M,Oe),He===null?_e=Fe:He.sibling=Fe,He=Fe);return je&&Xi(L,Oe),_e}for(ge=l(ge);!Fe.done;Oe++,Fe=j.next())Fe=Y(ge,L,Oe,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&ge.delete(Fe.key===null?Oe:Fe.key),M=d(Fe,M,Oe),He===null?_e=Fe:He.sibling=Fe,He=Fe);return t&&ge.forEach(function(jb){return i(L,jb)}),je&&Xi(L,Oe),_e}function nt(L,M,j,J){if(typeof j=="object"&&j!==null&&j.type===K&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case k:e:{for(var _e=j.key;M!==null;){if(M.key===_e){if(_e=j.type,_e===K){if(M.tag===7){a(L,M.sibling),J=h(M,j.props.children),J.return=L,L=J;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&qs(_e)===M.type){a(L,M.sibling),J=h(M,j.props),sl(J,j),J.return=L,L=J;break e}a(L,M);break}else i(L,M);M=M.sibling}j.type===K?(J=Ps(j.props.children,L.mode,J,j.key),J.return=L,L=J):(J=Ju(j.type,j.key,j.props,null,L.mode,J),sl(J,j),J.return=L,L=J)}return _(L);case F:e:{for(_e=j.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(L,M.sibling),J=h(M,j.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else i(L,M);M=M.sibling}J=Tf(j,L.mode,J),J.return=L,L=J}return _(L);case w:return j=qs(j),nt(L,M,j,J)}if(pt(j))return pe(L,M,j,J);if(P(j)){if(_e=P(j),typeof _e!="function")throw Error(s(150));return j=_e.call(j),Se(L,M,j,J)}if(typeof j.then=="function")return nt(L,M,rc(j),J);if(j.$$typeof===ae)return nt(L,M,ec(L,j),J);sc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(L,M.sibling),J=h(M,j),J.return=L,L=J):(a(L,M),J=Ef(j,L.mode,J),J.return=L,L=J),_(L)):a(L,M)}return function(L,M,j,J){try{rl=0;var _e=nt(L,M,j,J);return Oa=null,_e}catch(ge){if(ge===Na||ge===nc)throw ge;var He=Rn(29,ge,null,L.mode);return He.lanes=J,He.return=L,He}}}var Fs=Lg(!0),Pg=Lg(!1),xr=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(t),Eg(t,null,a),i}return $u(t,l,i,a),Xu(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function ol(){if(Lf){var t=Da;if(t!==null)throw t}}function ll(t,i,a,l){Lf=!1;var h=t.updateQueue;xr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,X=B=N=null,S=d;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(Ve&q)===q:(l&q)===q){q!==0&&q===Ia&&(Lf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,Se=S;q=i;var nt=a;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){Z=pe.call(nt,Z,q);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,q=typeof pe=="function"?pe.call(nt,Z,q):pe,q==null)break e;Z=T({},Z,q);break e;case 2:xr=!0}}q=S.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Y,N=Z):X=X.next=Y,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=Z}}function Ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var Ma=x(null),ac=x(0);function jg(t,i){t=or,ue(ac,t),ue(Ma,i),or=t|i.baseLanes}function Pf(){ue(ac,or),ue(Ma,Ma.current)}function Uf(){or=ac.current,W(Ma),W(ac)}var Cn=x(null),Gn=null;function Lr(t){var i=t.alternate;ue(St,St.current&1),ue(Cn,t),Gn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Gn=t)}function zf(t){ue(St,St.current),ue(Cn,t),Gn===null&&(Gn=t)}function Bg(t){t.tag===22?(ue(St,St.current),ue(Cn,t),Gn===null&&(Gn=t)):Pr()}function Pr(){ue(St,St.current),ue(Cn,Cn.current)}function In(t){W(Cn),Gn===t&&(Gn=null),W(St)}var St=x(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gd(a)||Kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ne=null,et=null,Nt=null,lc=!1,xa=!1,Gs=!1,uc=0,ul=0,Va=null,NA=0;function yt(){throw Error(s(321))}function jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function Bf(t,i,a,l,h,d){return Zi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?by:nd,Gs=!1,d=a(l,h),Gs=!1,xa&&(d=Hg(i,a,l,h)),qg(t),d}function qg(t){$.H=fl;var i=et!==null&&et.next!==null;if(Zi=0,Nt=et=Ne=null,lc=!1,ul=0,Va=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Zu(t)&&(Ot=!0))}function Hg(t,i,a,l){Ne=t;var h=0;do{if(xa&&(Va=null),ul=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,Nt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=wy,d=i(a,l)}while(xa);return d}function OA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ne.flags|=1024),i}function qf(){var t=uc!==0;return uc=0,t}function Hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Ff(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}Zi=0,Nt=et=Ne=null,xa=!1,ul=uc=0,Va=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function At(){if(et===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Nt===null?Ne.memoizedState:Nt.next;if(i!==null)Nt=i,et=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Va===null&&(Va=[]),t=xg(Va,t,i),i=Ne,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?by:nd),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ae)return Qt(t)}throw Error(s(438,String(t)))}function Gf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function er(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=At();return Kf(i,et,t)}function Kf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ve&Z)===Z:(Zi&Z)===Z){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ia&&(X=!0);else if((Zi&q)===q){B=B.next,q===Ia&&(X=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=Z,_=d):N=N.next=Z,Ne.lanes|=q,jr|=q;Z=B.action,Gs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else q={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=q,_=d):N=N.next=q,Ne.lanes|=Z,jr|=Z;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!wn(d,t.memoizedState)&&(Ot=!0,X&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=At(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);wn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Fg(t,i,a){var l=Ne,h=At(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!wn((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Ot=!0),h=h.queue,Xf(Yg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Kg.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Zi&127)!==0||Gg(l,i,a)}return a}function Gg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=cc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Kg(t,i,a,l){i.value=a,i.getSnapshot=l,Qg(i)&&$g(t)}function Yg(t,i,a){return a(function(){Qg(i)&&$g(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function $g(t){var i=Ls(t,2);i!==null&&_n(i,t,2)}function Qf(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Gs){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},i}function Xg(t,i,a,l){return t.baseState=a,Kf(t,et,typeof l=="function"?l:er)}function MA(t,i,a,l,h){if(pc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),N=$.S;N!==null&&N(_,S),Wg(t,i,S)}catch(B){$f(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),Wg(t,i,d)}catch(B){$f(t,i,B)}}function Wg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zg(t,i,l)},function(l){return $f(t,i,l)}):Zg(t,i,a)}function Zg(t,i,a){i.status="fulfilled",i.value=a,ey(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Jg(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ey(i),i=i.next;while(i!==l)}t.action=null}function ey(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ty(t,i){return i}function ny(t,i){if(je){var a=it.formState;if(a!==null){e:{var l=Ne;if(je){if(ut){t:{for(var h=ut,d=Fn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Kn(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:i},a.queue=l,a=Ty.bind(null,Ne,l),l.dispatch=a,l=Qf(!1),d=td.bind(null,Ne,!1,l.queue),l=un(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=MA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function iy(t){var i=At();return ry(i,et,t)}function ry(t,i,a){if(i=Kf(t,i,ty)[0],t=fc(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Na?nc:_}else l=i;i=At();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ka(9,{destroy:void 0},xA.bind(null,h,a),null)),[l,d,t]}function xA(t,i){t.action=i}function sy(t){var i=At(),a=et;if(a!==null)return ry(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=cc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ay(){return At().memoizedState}function dc(t,i,a,l){var h=un();Ne.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function mc(t,i,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&jf(l,et.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ne.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function oy(t,i){dc(8390656,8,t,i)}function Xf(t,i){mc(2048,8,t,i)}function VA(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=cc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ly(t){var i=At().memoizedState;return VA({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function uy(t,i){return mc(4,2,t,i)}function cy(t,i){return mc(4,4,t,i)}function hy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function fy(t,i,a){a=a!=null?a.concat([t]):null,mc(4,4,hy.bind(null,i,t),a)}function Jf(){}function dy(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function my(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&jf(i,l[1]))return l[0];if(l=t(),Gs){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=p_(),Ne.lanes|=t,jr|=t,a)}function py(t,i,a,l){return wn(a,i)?a:Ma.current!==null?(t=Wf(t,a,l),wn(t,i)||(Ot=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ve&261930)===0?(Ot=!0,t.memoizedState=a):(t=p_(),Ne.lanes|=t,jr|=t,i)}function gy(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,td(t,!1,i,a);try{var N=h(),B=$.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=DA(N,l);hl(t,i,X,On(t))}else hl(t,i,l,On(t))}catch(Z){hl(t,i,{then:function(){},status:"rejected",reason:Z},On())}finally{le.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function kA(){}function Zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=yy(t).queue;gy(t,h,i,ye,a===null?kA:function(){return _y(t),a(l)})}function yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _y(t){var i=yy(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},On())}function ed(){return Qt(Il)}function vy(){return At().memoizedState}function Ey(){return At().memoizedState}function LA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=On();t=Vr(a);var l=kr(i,t,a);l!==null&&(_n(l,i,a),al(l,i,a)),i={cache:Df()},t.payload=i;return}i=i.return}}function PA(t,i,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?Sy(i,a):(a=_f(t,i,a,l),a!==null&&(_n(a,t,l),Ay(a,i,l)))}function Ty(t,i,a){var l=On();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Sy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,wn(S,_))return $u(t,i,h,0),it===null&&Qu(),!1}catch{}if(a=_f(t,i,h,l),a!==null)return _n(a,t,l),Ay(a,i,l),!0}return!1}function td(t,i,a,l){if(l={lane:2,revertLane:xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&_n(i,t,2)}function pc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Sy(t,i){xa=lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}var fl={readContext:Qt,use:hc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};fl.useEffectEvent=yt;var by={readContext:Qt,use:hc,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,dc(4194308,4,hy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return dc(4194308,4,t,i)},useInsertionEffect:function(t,i){dc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(Gs){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var h=a(i);if(Gs){kn(!0);try{a(i)}finally{kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=Qf(t);var i=t.queue,a=Ty.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=un();return Wf(a,t,i)},useTransition:function(){var t=Qf(!1);return t=gy.bind(null,Ne,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=un();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Ve&127)!==0||Gg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,oy(Yg.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Kg.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=it.identifierPrefix;if(je){var a=Mi,l=Oi;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=NA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ed,useFormState:ny,useActionState:ny,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gf,useCacheRefresh:function(){return un().memoizedState=LA.bind(null,Ne)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nd={readContext:Qt,use:hc,useCallback:dy,useContext:Qt,useEffect:Xf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:fc,useRef:ay,useState:function(){return fc(er)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=At();return py(a,et.memoizedState,t,i)},useTransition:function(){var t=fc(er)[0],i=At().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:ed,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=At();return Xg(a,et,t,i)},useMemoCache:Gf,useCacheRefresh:Ey};nd.useEffectEvent=ly;var wy={readContext:Qt,use:hc,useCallback:dy,useContext:Qt,useEffect:Xf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:Yf,useRef:ay,useState:function(){return Yf(er)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=At();return et===null?Wf(a,t,i):py(a,et.memoizedState,t,i)},useTransition:function(){var t=Yf(er)[0],i=At().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Fg,useId:vy,useHostTransitionStatus:ed,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=At();return et!==null?Xg(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:Ey};wy.useEffectEvent=ly;function id(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=On(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(_n(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=On(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(_n(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=On(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(_n(i,t,a),al(i,t,a))}};function Ry(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Iy(t){Yu(t)}function Dy(t){console.error(t)}function Ny(t){Yu(t)}function gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,i)},a}function My(t){return t=Vr(t),t.tag=3,t}function xy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function UA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Ic():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Ic(),!1}if(je)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bf&&(t=Error(s(422),{cause:l}),tl(Bn(t,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),tl(Bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,a),h=sd(t.stateNode,l,h),kf(t,h),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),El===null?El=[d]:El.push(d),_t!==4&&(_t=2),i===null)return!0;l=Bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=My(h),xy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ad=Error(s(461)),Ot=!1;function $t(t,i,a,l){i.child=t===null?Pg(i,null,a,l):Fs(i,t.child,a,l)}function Vy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return js(i),l=Bf(t,i,a,_,d,h),S=qf(),t!==null&&!Ot?(Hf(t,i,h),tr(t,i,h)):(je&&S&&Sf(i),i.flags|=1,$t(t,i,l,h),i.child)}function ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(t,i,d,l,h)):(t=Ju(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!md(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return tr(t,i,h)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ly(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,md(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,tr(t,i,h)}return od(t,i,a,l,h)}function Py(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Uy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,d!==null?d.cachePool:null),d!==null?jg(i,d):Pf(),Bg(i);else return l=i.lanes=536870912,Uy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(tc(i,d.cachePool),jg(i,d),Pr(),i.memoizedState=null):(t!==null&&tc(i,null),Pf(),Pr());return $t(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Uy(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&tc(i,null),Pf(),Bg(i),t!==null&&Ca(t,i,l,!0),i.childLanes=h,null}function yc(t,i){return i=vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function zy(t,i,a){return Fs(i,t.child,null,a),t=yc(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function zA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=yc(i,l),i.lanes=536870912,dl(null,t);if(zf(i),(t=ut)?(t=J_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,Yt=i,ut=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return yc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ot||Ca(t,i,a,!1),h=(a&t.childLanes)!==0,Ot||h){if(l=it,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),_n(l,t,_),ad;Ic(),i=zy(t,i,a)}else t=d.treeContext,ut=Kn(_.nextSibling),Yt=i,je=!0,Nr=null,Fn=!1,t!==null&&wg(i,t),i=yc(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _c(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function od(t,i,a,l,h){return js(i),a=Bf(t,i,a,l,void 0,h),l=qf(),t!==null&&!Ot?(Hf(t,i,h),tr(t,i,h)):(je&&l&&Sf(i),i.flags|=1,$t(t,i,a,h),i.child)}function jy(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Hg(i,l,a,h),qg(t),l=qf(),t!==null&&!Ot?(Hf(t,i,d),tr(t,i,d)):(je&&l&&Sf(i),i.flags|=1,$t(t,i,a,d),i.child)}function By(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(id(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&rd.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Ks(a,S);d.props=N;var B=d.context,X=a.contextType;_=Aa,typeof X=="object"&&X!==null&&(_=Qt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Cy(i,d,l,_),xr=!1;var q=i.memoizedState;d.state=q,ll(i,l,d,h),ol(),B=i.memoizedState,S||q!==B||xr?(typeof Z=="function"&&(id(i,a,Z,l),B=i.memoizedState),(N=xr||Ry(i,a,N,l,q,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Vf(t,i),_=i.memoizedProps,X=Ks(a,_),d.props=X,Z=i.pendingProps,q=d.context,B=a.contextType,N=Aa,typeof B=="object"&&B!==null&&(N=Qt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==N)&&Cy(i,d,l,N),xr=!1,q=i.memoizedState,d.state=q,ll(i,l,d,h),ol();var Y=i.memoizedState;_!==Z||q!==Y||xr||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof S=="function"&&(id(i,a,S,l),Y=i.memoizedState),(X=xr||Ry(i,a,X,l,q,Y,N)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,_c(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):$t(t,i,a,h),i.memoizedState=d.state,t=i.child):t=tr(t,i,h),t}function qy(t,i,a,l){return Us(),i.flags|=256,$t(t,i,a,l),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:Og()}}function cd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function Hy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?Lr(i):Pr(),(t=ut)?(t=J_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Sg(t),a.return=i,i.child=a,Yt=i,ut=null)):t=null,t===null)throw Or(i);return Kd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Pr(),h=i.mode,S=vc({mode:"hidden",children:S},h),l=Ps(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=ud(a),l.childLanes=cd(t,_,a),i.memoizedState=ld,dl(null,l)):(Lr(i),hd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=fd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),S=l.fallback,h=i.mode,l=vc({mode:"visible",children:l.children},h),S=Ps(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=ud(a),l.childLanes=cd(t,_,a),i.memoizedState=ld,i=dl(null,l));else if(Lr(i),Kd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=fd(t,i,a)}else if(Ot||Ca(t,i,a,!1),_=(a&t.childLanes)!==0,Ot||_){if(_=it,_!==null&&(l=Vo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ls(t,l),_n(_,t,l),ad;Gd(S)||Ic(),i=fd(t,i,a)}else Gd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ut=Kn(S.nextSibling),Yt=i,je=!0,Nr=null,Fn=!1,t!==null&&wg(i,t),i=hd(i,l.children),i.flags|=4096);return i}return h?(Pr(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=$i(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=$i(B,S):(S=Ps(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=ud(a):(h=S.cachePool,h!==null?(N=Dt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Og(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=cd(t,_,a),i.memoizedState=ld,dl(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function hd(t,i){return i=vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vc(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function fd(t,i,a){return Fs(i,t.child,null,a),t=hd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Cf(t.return,i,a)}function dd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Gy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=St.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ue(St,_),$t(t,i,l,a),l=je?el:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fy(t,a,i);else if(t.tag===19)Fy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),dd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(i,!0,a,null,d,l);break;case"together":dd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function tr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ca(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function md(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function jA(t,i,a){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Mr(i,Dt,t.memoizedState.cache),Us();break;case 27:case 5:$e(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hy(t,i,a):(Lr(i),t=tr(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Gy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(St,St.current),l)break;return null;case 22:return i.lanes=0,Py(t,i,a,i.pendingProps);case 24:Mr(i,Dt,t.memoizedState.cache)}return tr(t,i,a)}function Ky(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!md(t,a)&&(i.flags&128)===0)return Ot=!1,jA(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,je&&(i.flags&1048576)!==0&&bg(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")vf(t)?(l=Ks(t,l),i.tag=1,i=By(null,i,t,l,a)):(i.tag=0,i=od(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===re){i.tag=11,i=Vy(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=ky(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return od(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),By(t,i,l,h,a);case 3:e:{if(Te(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Vf(t,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Mr(i,Dt,l),l!==d.cache&&If(i,[Dt],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=qy(t,i,l,a);break e}else if(l!==h){h=Bn(Error(s(424)),i),tl(h),i=qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Kn(t.firstChild),Yt=i,je=!0,Nr=null,Fn=!0,a=Pg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===h){i=tr(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return _c(t,i),t===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=kc(fe.current).createElement(a),l[Rt]=i,l[jt]=t,Xt(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $e(i),t===null&&je&&(l=i.stateNode=ev(i.type,i.pendingProps,fe.current),Yt=i,Fn=!0,h=ut,Gr(i.type)?(Yd=h,ut=Kn(l.firstChild)):ut=h),$t(t,i,i.pendingProps.children,a),_c(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=ut)&&(l=gb(l,i.type,i.pendingProps,Fn),l!==null?(i.stateNode=l,Yt=i,ut=Kn(l.firstChild),Fn=!1,h=!0):h=!1),h||Or(i)),$e(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:_!==null&&qd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(t,i,OA,null,null,a),Il._currentValue=h),_c(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=ut)&&(a=yb(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,Yt=i,ut=null,t=!0):t=!1),t||Or(i)),null;case 13:return Hy(t,i,a);case 4:return Te(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):$t(t,i,l,a),i.child;case 11:return Vy(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Qt(h),l=l(h),i.flags|=1,$t(t,i,l,a),i.child;case 14:return ky(t,i,i.type,i.pendingProps,a);case 15:return Ly(t,i,i.type,i.pendingProps,a);case 19:return Gy(t,i,a);case 31:return zA(t,i,a);case 22:return Py(t,i,a,i.pendingProps);case 24:return js(i),l=Qt(Dt),t===null?(h=Of(),h===null&&(h=it,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),Mr(i,Dt,h)):((t.lanes&a)!==0&&(Vf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,Dt,l)):(l=d.cache,Mr(i,Dt,l),l!==h.cache&&If(i,[Dt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(t){t.flags|=4}function pd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(v_())t.flags|=8192;else throw Hs=ic,Mf}else t.flags&=-16777217}function Yy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(i))if(v_())t.flags|=8192;else throw Hs=ic,Mf}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,za|=i)}function ml(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function BA(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(Dt),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),ct(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(nr(i),d!==null?(ct(i),Yy(i,d)):(ct(i),pd(i,h,null,l,a))):d?d!==t.memoizedState?(nr(i),ct(i),Yy(i,d)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(i),ct(i),pd(i,h,t,l,a)),null;case 27:if(vt(i),a=fe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=H.current,Ra(i)?Rg(i):(t=ev(h,l,a),i.stateNode=t,nr(i))}return ct(i),null;case 5:if(vt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(d=H.current,Ra(i))Rg(i);else{var _=kc(fe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Rt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Xt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(i)}}return ct(i),pd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=fe.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||H_(t.nodeValue,a)),t||Or(i,!0)}else t=kc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ra(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),ct(i),null);case 4:return Ie(),t===null&&Pd(i.stateNode.containerInfo),ct(i),null;case 10:return Wi(i.type),ct(i),null;case 19:if(W(St),l=i.memoizedState,l===null)return ct(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Tg(a,t),a=a.sibling;return ue(St,St.current&1|2),je&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>wc&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=oc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return ct(i),null}else 2*on()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=St.current,ue(St,h?a&1|2:a&1),je&&Xi(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return In(i),Uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Dt),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qA(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Dt),Ie(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vt(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(St),null;case 4:return Ie(),null;case 10:return Wi(i.type),null;case 22:case 23:return In(i),Uf(),t!==null&&W(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Dt),null;case 25:return null;default:return null}}function Qy(t,i){switch(Af(i),i.tag){case 3:Wi(Dt),Ie();break;case 26:case 27:case 5:vt(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:W(St);break;case 10:Wi(i.type);break;case 22:case 23:In(i),Uf(),t!==null&&W(Bs);break;case 24:Wi(Dt)}}function pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){We(i,i.return,S)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){We(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function $y(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){We(t,t.return,l)}}}function Xy(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function gd(t,i,a){try{var l=t.stateNode;cb(l,t.type,a,i),l[jt]=i}catch(h){We(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(_d(t,i,a),t=t.sibling;t!==null;)_d(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function Zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,l,a),i[Rt]=t,i[jt]=a}catch(d){We(t,t.return,d)}}var ir=!1,Mt=!1,vd=!1,e_=typeof WeakSet=="function"?WeakSet:Set,qt=null;function HA(t,i){if(t=t.containerInfo,jd=qc,t=fg(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,X=0,Z=t,q=null;t:for(;;){for(var Y;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)q=Z,Z=Y;for(;;){if(Z===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++X===l&&(N=_),(Y=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:t,selectionRange:a},qc=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){We(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function t_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&pl(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&$y(a),l&512&&gl(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&Zy(a);case 26:case 5:sr(t,a),i===null&&l&4&&Jy(a),l&512&&gl(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),l&4&&r_(t,a);break;case 13:sr(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WA.bind(null,a),_b(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){i=i!==null&&i.memoizedState!==null||Mt,h=ir;var d=Mt;ir=l,(Mt=i)&&!d?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=h,Mt=d}break;case 30:break;default:sr(t,a)}}function n_(t){var i=t.alternate;i!==null&&(t.alternate=null,n_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,mn=!1;function rr(t,i,a){for(a=a.child;a!==null;)i_(t,i,a),a=a.sibling}function i_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Mt||xi(a,i),rr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||xi(a,i);var l=ft,h=mn;Gr(a.type)&&(ft=a.stateNode,mn=!1),rr(t,i,a),wl(a.stateNode),ft=l,mn=h;break;case 5:Mt||xi(a,i);case 6:if(l=ft,h=mn,ft=null,rr(t,i,a),ft=l,mn=h,ft!==null)if(mn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ft!==null&&(mn?(t=ft,$_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ya(t)):$_(ft,a.stateNode));break;case 4:l=ft,h=mn,ft=a.stateNode.containerInfo,mn=!0,rr(t,i,a),ft=l,mn=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),Mt||Ur(4,a,i),rr(t,i,a);break;case 1:Mt||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xy(a,i,l)),rr(t,i,a);break;case 21:rr(t,i,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,rr(t,i,a),Mt=l;break;default:rr(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(a){We(i,i.return,a)}}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(a){We(i,i.return,a)}}function FA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new e_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new e_),i;default:throw Error(s(435,t.tag))}}function Sc(t,i){var a=FA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ZA.bind(null,t,l);l.then(h,h)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Gr(S.type)){ft=S.stateNode,mn=!1;break e}break;case 5:ft=S.stateNode,mn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(ft===null)throw Error(s(160));i_(d,_,h),ft=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)a_(i,t),i=i.sibling}var si=null;function a_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Ur(3,t,t.return),pl(3,t),Ur(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(Mt||a===null||xi(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=si;if(pn(i,t),gn(t),l&512&&(Mt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vi]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var _=av("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=av("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ov(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(Mt||a===null||xi(a,a.return)),a!==null&&l&4&&gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(Mt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(pe){We(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(vd=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){We(t,t.return,pe)}}break;case 3:if(Uc=null,h=si,si=Lc(i.containerInfo),pn(i,t),si=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(pe){We(t,t.return,pe)}vd&&(vd=!1,o_(t));break;case 4:l=si,si=Lc(t.stateNode.containerInfo),pn(i,t),gn(t),si=l;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=ir,X=Mt;if(ir=B||h,Mt=X||N,pn(i,t),Mt=X,ir=B,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||ir||Mt||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pe){We(N,N.return,pe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(pe){We(N,N.return,pe)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;h?X_(Y,!0):X_(N.stateNode,!1)}catch(pe){We(N,N.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sc(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=yd(t);Tc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var S=yd(t);Tc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=yd(t);_d(t,B,N);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function o_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;o_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t_(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Ys(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xy(i,i.return,a),Ys(i);break;case 27:wl(i.stateNode);case 26:case 5:xi(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ar(h,d,a),pl(4,d);break;case 1:if(ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ug(N[h],S)}catch(B){We(l,l.return,B)}}a&&_&64&&$y(d),gl(d,d.return);break;case 27:Zy(d);case 26:case 5:ar(h,d,a),a&&l===null&&_&4&&Jy(d),gl(d,d.return);break;case 12:ar(h,d,a);break;case 31:ar(h,d,a),a&&_&4&&r_(h,d);break;case 13:ar(h,d,a),a&&_&4&&s_(h,d);break;case 22:d.memoizedState===null&&ar(h,d,a),gl(d,d.return);break;case 30:break;default:ar(h,d,a)}i=i.sibling}}function Ed(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Td(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(t,i,a,l),i=i.sibling}function l_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),h&2048&&pl(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else ai(t,i,a,l);break;case 31:ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,l):yl(t,i):d._visibility&2?ai(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ed(_,i);break;case 24:ai(t,i,a,l),h&2048&&Td(i.alternate,i);break;default:ai(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,S,N,h),pl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?La(d,_,S,N,h):yl(d,_):(X._visibility|=2,La(d,_,S,N,h)),h&&B&2048&&Ed(_.alternate,_);break;case 24:La(d,_,S,N,h),h&&B&2048&&Td(_.alternate,_);break;default:La(d,_,S,N,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Ed(l.alternate,l);break;case 24:yl(a,l),h&2048&&Td(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function Pa(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)u_(t,i,a),t=t.sibling}function u_(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&_l&&t.memoizedState!==null&&Nb(a,si,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var l=si;si=Lc(t.stateNode.containerInfo),Pa(t,i,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,Pa(t,i,a),_l=l):Pa(t,i,a));break;default:Pa(t,i,a)}}function c_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,f_(l,t)}c_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h_(t),t=t.sibling}function h_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ac(t)):vl(t);break;default:vl(t)}}function Ac(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,f_(l,t)}c_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}t=t.sibling}}function f_(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(n_(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var GA={getCacheForType:function(t){var i=Qt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Dt).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Me=null,Ve=0,Je=0,Dn=null,zr=!1,Ua=!1,Sd=!1,or=0,_t=0,jr=0,Qs=0,Ad=0,Nn=0,za=0,El=null,yn=null,bd=!1,bc=0,d_=0,wc=1/0,Rc=null,Br=null,Lt=0,qr=null,ja=null,lr=0,wd=0,Rd=null,m_=null,Tl=0,Cd=null;function On(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:$.T!==null?xd():Cu()}function p_(){if(Nn===0)if((Ve&536870912)===0||je){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Nn=t}else Nn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Nn}function _n(t,i,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Hr(t,Ve,Nn,!1)),Ss(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Qs|=a),_t===4&&Hr(t,Ve,Nn,!1)),Vi(t))}function g_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),h=l?$A(t,i):Dd(t,i,!0),d=l;do{if(h===0){Ua&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!YA(a)){h=Dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=El;var N=S.current.memoizedState.isDehydrated;if(N&&(Ba(S,_).flags|=256),_=Dd(S,_,!1),_!==2){if(Sd&&!N){S.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,Nn,!zr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-on(),10<h)){if(Hr(l,i,Nn,!zr),gi(l,0,!0)!==0)break e;lr=i,l.timeoutHandle=Y_(y_.bind(null,l,a,yn,Rc,bd,i,Nn,Qs,za,zr,d,"Throttled",-0,0),h);break e}y_(l,a,yn,Rc,bd,i,Nn,Qs,za,zr,d,null,-0,0)}}break}while(!0);Vi(t)}function y_(t,i,a,l,h,d,_,S,N,B,X,Z,q,Y){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},u_(i,d,Z);var pe=(d&62914560)===d?bc-on():(d&4194048)===d?d_-on():0;if(pe=Ob(Z,pe),pe!==null){lr=d,t.cancelPendingCommit=pe(w_.bind(null,t,i,d,a,l,h,_,S,N,X,Z,null,q,Y)),Hr(t,d,_,!B);return}}w_(t,i,d,a,l,h,_,S,N)}function YA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~Ad,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Et(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(t,a,i)}function Cc(){return(Ye&6)===0?(Sl(0),!1):!0}function Id(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,Ji=zs=null,Ff(t),Oa=null,rl=0,t=Me;for(;t!==null;)Qy(t.alternate,t),t=t.return;Me=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,db(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,Id(),it=t,Me=a=$i(t.current,null),Ve=i,Je=0,Dn=null,zr=!1,Ua=Xn(t,i),Sd=!1,za=Nn=Ad=Qs=jr=_t=0,yn=El=null,bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Et(l),d=1<<h;i|=t[h],l&=~d}return or=i,Qu(),a}function __(t,i){Ne=null,$.H=fl,i===Na||i===nc?(i=Vg(),Je=3):i===Mf?(i=Vg(),Je=4):Je=i===ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Me===null&&(_t=1,gc(t,Bn(i,t.current)))}function v_(){var t=Cn.current;return t===null?!0:(Ve&4194048)===Ve?Gn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Gn:!1}function E_(){var t=$.H;return $.H=fl,t===null?fl:t}function T_(){var t=$.A;return $.A=GA,t}function Ic(){_t=4,zr||(Ve&4194048)!==Ve&&Cn.current!==null||(Ua=!0),(jr&134217727)===0&&(Qs&134217727)===0||it===null||Hr(it,Ve,Nn,!1)}function Dd(t,i,a){var l=Ye;Ye|=2;var h=E_(),d=T_();(it!==t||Ve!==i)&&(Rc=null,Ba(t,i)),i=!1;var _=_t;e:do try{if(Je!==0&&Me!==null){var S=Me,N=Dn;switch(Je){case 8:Id(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var B=Je;if(Je=0,Dn=null,qa(t,S,N,B),a&&Ua){_=0;break e}break;default:B=Je,Je=0,Dn=null,qa(t,S,N,B)}}QA(),_=_t;break}catch(X){__(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ji=zs=null,Ye=l,$.H=h,$.A=d,Me===null&&(it=null,Ve=0,Qu()),_}function QA(){for(;Me!==null;)S_(Me)}function $A(t,i){var a=Ye;Ye|=2;var l=E_(),h=T_();it!==t||Ve!==i?(Rc=null,wc=on()+500,Ba(t,i)):Ua=Xn(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var d=Dn;t:switch(Je){case 1:Je=0,Dn=null,qa(t,i,d,1);break;case 2:case 9:if(Mg(d)){Je=0,Dn=null,A_(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),Vi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Mg(d)?(Je=0,Dn=null,A_(i)):(Je=0,Dn=null,qa(t,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var S=Me;if(_?lv(_):S.stateNode.complete){Je=0,Dn=null;var N=S.sibling;if(N!==null)Me=N;else{var B=S.return;B!==null?(Me=B,Dc(B)):Me=null}break t}}Je=0,Dn=null,qa(t,i,d,5);break;case 6:Je=0,Dn=null,qa(t,i,d,6);break;case 8:Id(),_t=6;break e;default:throw Error(s(462))}}XA();break}catch(X){__(t,X)}while(!0);return Ji=zs=null,$.H=l,$.A=h,Ye=a,Me!==null?0:(it=null,Ve=0,Qu(),_t)}function XA(){for(;Me!==null&&!sf();)S_(Me)}function S_(t){var i=Ky(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Dc(t):Me=i}function A_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=jy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=jy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Ff(i);default:Qy(a,i),i=Me=Tg(i,or),i=Ky(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Dc(t):Me=i}function qa(t,i,a,l){Ji=zs=null,Ff(i),Oa=null,rl=0;var h=i.return;try{if(UA(t,h,i,a,Ve)){_t=1,gc(t,Bn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;_t=1,gc(t,Bn(a,t.current)),Me=null;return}i.flags&32768?(je||l===1?t=!0:Ua||(Ve&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(i,t)):Dc(i)}function Dc(t){var i=t;do{if((i.flags&32768)!==0){b_(i,zr);return}t=i.return;var a=BA(i.alternate,i,or);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);_t===0&&(_t=5)}function b_(t,i){do{var a=qA(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);_t=6,Me=null}function w_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Nc();while(Lt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=yf,lf(t,a,d,_,S,N),t===it&&(Me=it=null,Ve=0),ja=i,qr=t,lr=a,wd=d,Rd=h,m_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eb(vr,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=le.p,le.p=2,_=Ye,Ye|=4;try{HA(t,i,a)}finally{Ye=_,le.p=h,$.T=l}}Lt=1,R_(),C_(),I_()}}function R_(){if(Lt===1){Lt=0;var t=qr,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=Ye;Ye|=4;try{a_(i,t);var d=Bd,_=fg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&hg(S.ownerDocument.documentElement,S)){if(N!==null&&ff(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Y=q.getSelection(),pe=S.textContent.length,Se=Math.min(N.start,pe),nt=N.end===void 0?Se:Math.min(N.end,pe);!Y.extend&&Se>nt&&(_=nt,nt=Se,Se=_);var L=cg(S,Se),M=cg(S,nt);if(L&&M&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var j=Z.createRange();j.setStart(L.node,L.offset),Y.removeAllRanges(),Se>nt?(Y.addRange(j),Y.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),Y.addRange(j))}}}}for(Z=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qc=!!jd,Bd=jd=null}finally{Ye=h,le.p=l,$.T=a}}t.current=i,Lt=2}}function C_(){if(Lt===2){Lt=0;var t=qr,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=Ye;Ye|=4;try{t_(t,i.alternate,i)}finally{Ye=h,le.p=l,$.T=a}}Lt=3}}function I_(){if(Lt===4||Lt===3){Lt=0,Eu();var t=qr,i=ja,a=lr,l=m_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,ja=qr=null,D_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),Gi(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=le.p,le.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,le.p=h}}(lr&3)!==0&&Nc(),Vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Cd?Tl++:(Tl=0,Cd=t):Tl=0,Sl(0)}}function D_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Nc(){return R_(),C_(),I_(),N_()}function N_(){if(Lt!==5)return!1;var t=qr,i=wd;wd=0;var a=Gi(lr),l=$.T,h=le.p;try{le.p=32>a?32:a,$.T=null,a=Rd,Rd=null;var d=qr,_=lr;if(Lt=0,ja=qr=null,lr=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,h_(d.current),l_(d,d.current,_,a),Ye=S,Sl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{le.p=h,$.T=l,D_(t,i)}}function O_(t,i,a){i=Bn(a,i),i=sd(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(Ss(t,2),Vi(t))}function We(t,i,a){if(t.tag===3)O_(t,t,a);else for(;i!==null;){if(i.tag===3){O_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Bn(a,t),a=My(2),l=kr(i,a,2),l!==null&&(xy(a,l,i,t),Ss(l,2),Vi(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=JA.bind(null,t,i,a),i.then(t,t))}function JA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Ve&a)===a&&(_t===4||_t===3&&(Ve&62914560)===Ve&&300>on()-bc?(Ye&2)===0&&Ba(t,0):Ad|=a,za===Ve&&(za=0)),Vi(t)}function M_(t,i){i===0&&(i=Ru()),t=Ls(t,i),t!==null&&(Ss(t,i),Vi(t))}function WA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),M_(t,a)}function ZA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),M_(t,a)}function eb(t,i){return lt(t,i)}var Oc=null,Ha=null,Od=!1,Mc=!1,Md=!1,Fr=0;function Vi(t){t!==Ha&&t.next===null&&(Ha===null?Oc=Ha=t:Ha=Ha.next=t),Mc=!0,Od||(Od=!0,nb())}function Sl(t,i){if(!Md&&Mc){Md=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Ve,d=gi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Md=!1}}function tb(){x_()}function x_(){Mc=Od=!1;var t=0;Fr!==0&&fb()&&(t=Fr);for(var i=on(),a=null,l=Oc;l!==null;){var h=l.next,d=V_(l,i);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}Lt!==0&&Lt!==5||Sl(t),Fr!==0&&(Fr=0)}function V_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Et(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=of(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=it,a=Ve,a=gi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hn(l),Gi(a)){case 2:case 8:a=Mo;break;case 32:a=vr;break;case 268435456:a=Tu;break;default:a=vr}return l=k_.bind(null,t),a=lt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hn(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=Ve;return l=gi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,i),V_(t,on()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function L_(t,i){if(Nc())return null;g_(t,i,!0)}function nb(){mb(function(){(Ye&6)!==0?lt(Oo,tb):x_()})}function xd(){if(Fr===0){var t=Ia;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Fr=t}return Fr}function P_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function U_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ib(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=P_((h[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?P_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ci("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var N=_?U_(h,_):new FormData(h);Zf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?U_(h,_):new FormData(h),Zf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Vd=0;Vd<gf.length;Vd++){var kd=gf[Vd],rb=kd.toLowerCase(),sb=kd[0].toUpperCase()+kd.slice(1);ri(rb,"on"+sb)}ri(pg,"onAnimationEnd"),ri(gg,"onAnimationIteration"),ri(yg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(TA,"onTransitionRun"),ri(SA,"onTransitionStart"),ri(AA,"onTransitionCancel"),ri(_g,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Yu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Yu(X)}h.currentTarget=null,d=N}}}}function xe(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=t+"__bubble";a.has(l)||(j_(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),j_(a,t,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[xc]){t[xc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(ab.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Ld("selectionchange",!1,i))}}function j_(t,i,a,l){switch(pv(i)){case 2:var h=Vb;break;case 8:h=kb;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ud(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Ei(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}wr(function(){var B=d,X=Pn(a),Z=[];e:{var q=vg.get(t);if(q!==void 0){var Y=Ci,pe=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Y=Fu;break;case"focusin":pe="focus",Y=Ms;break;case"focusout":pe="blur",Y=Ms;break;case"beforeblur":case"afterblur":Y=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case pg:case gg:case yg:Y=Pu;break;case _g:Y=A;break;case"scroll":case"scrollend":Y=Yo;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Qi;break;case"toggle":case"beforetoggle":Y=De}var Se=(i&4)!==0,nt=!Se&&(t==="scroll"||t==="scrollend"),L=Se?q!==null?q+"Capture":null:q;Se=[];for(var M=B,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||L===null||(J=ei(M,L),J!=null&&Se.push(bl(M,J,j))),nt)break;M=M.return}0<Se.length&&(q=new Y(q,pe,null,a,X),Z.push({event:q,listeners:Se}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==Fo&&(pe=a.relatedTarget||a.fromElement)&&(Ei(pe)||pe[_i]))break e;if((Y||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=B,pe=pe?Ei(pe):null,pe!==null&&(nt=u(pe),Se=pe.tag,pe!==nt||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(Y=null,pe=B),Y!==pe)){if(Se=Qo,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Qi,J="onPointerLeave",L="onPointerEnter",M="pointer"),nt=Y==null?q:An(Y),j=pe==null?q:An(pe),q=new Se(J,M+"leave",Y,a,X),q.target=nt,q.relatedTarget=j,J=null,Ei(X)===B&&(Se=new Se(L,M+"enter",pe,a,X),Se.target=j,Se.relatedTarget=nt,J=Se),nt=J,Y&&pe)t:{for(Se=ob,L=Y,M=pe,j=0,J=L;J;J=Se(J))j++;J=0;for(var _e=M;_e;_e=Se(_e))J++;for(;0<j-J;)L=Se(L),j--;for(;0<J-j;)M=Se(M),J--;for(;j--;){if(L===M||M!==null&&L===M.alternate){Se=L;break t}L=Se(L),M=Se(M)}Se=null}else Se=null;Y!==null&&B_(Z,q,Y,Se,!1),pe!==null&&nt!==null&&B_(Z,nt,pe,Se,!0)}}e:{if(q=B?An(B):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var He=rg;else if(ng(q))if(sg)He=_A;else{He=gA;var ge=pA}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&fa(B.elementType)&&(He=rg):He=yA;if(He&&(He=He(t,B))){ig(Z,He,a,X);break e}ge&&ge(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Bo(q,"number",q.value)}switch(ge=B?An(B):window,t){case"focusin":(ng(ge)||ge.contentEditable==="true")&&(Ea=ge,df=B,Zo=null);break;case"focusout":Zo=df=Ea=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,dg(Z,a,X);break;case"selectionchange":if(EA)break;case"keydown":case"keyup":dg(Z,a,X)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else va?xs(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ni&&a.locale!=="ko"&&(va||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&va&&(Oe=Ko()):(Ri=X,Go="value"in Ri?Ri.value:Ri.textContent,va=!0)),ge=Vc(B,ke),0<ge.length&&(ke=new Di(ke,t,null,a,X),Z.push({event:ke,listeners:ge}),Oe?ke.data=Oe:(Oe=_a(a),Oe!==null&&(ke.data=Oe)))),(Oe=zn?hA(t,a):fA(t,a))&&(ke=Vc(B,"onBeforeInput"),0<ke.length&&(ge=new Di("onBeforeInput","beforeinput",null,a,X),Z.push({event:ge,listeners:ke}),ge.data=Oe)),ib(Z,t,B,a,X)}z_(Z,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ei(t,a),h!=null&&l.unshift(bl(t,h,d)),h=ei(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ob(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=ei(a,d),B!=null&&_.unshift(bl(a,B,N))):h||(B=ei(a,d),B!=null&&_.push(bl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var lb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function q_(t){return(typeof t=="string"?t:""+t).replace(lb,`
`).replace(ub,"")}function H_(t,i){return i=q_(i),q_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,ca(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:tt(t,i,l,X,a,null)}}Ou(t,d,S,N,B,_,h,!1);return;case"select":xe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:tt(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(t,i,_,S,a,null)}Sr(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,N,l,a,null));return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)xe(Al[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,B,l,a,null)}return;default:if(fa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(t,i,S,l,a,null))}function cb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Y)||tt(t,i,Y,null,l,Z)}}for(var q in l){var Y=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(Y!=null||Z!=null))switch(q){case"type":d=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==Z&&tt(t,i,q,Y,l,Z)}}ha(t,_,S,N,B,X,d,h);return;case"select":Y=_=S=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&tt(t,i,h,d,l,N)}i=S,a=_,l=Y,q!=null?Tr(t,!!a,q,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Mu(t,q,Y);return;case"option":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:tt(t,i,pe,null,l,q));for(N in l)q=l[N],Y=a[N],l.hasOwnProperty(N)&&q!==Y&&(q!=null||Y!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":tt(t,i,N,q,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)q=a[Se],a.hasOwnProperty(Se)&&q!=null&&!l.hasOwnProperty(Se)&&tt(t,i,Se,null,l,q);for(B in l)if(q=l[B],Y=a[B],l.hasOwnProperty(B)&&q!==Y&&(q!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:tt(t,i,B,q,l,Y)}return;default:if(fa(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&zd(t,i,nt,void 0,l,q);for(X in l)q=l[X],Y=a[X],!l.hasOwnProperty(X)||q===Y||q===void 0&&Y===void 0||zd(t,i,X,q,l,Y);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&tt(t,i,L,null,l,q);for(Z in l)q=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||q===Y||q==null&&Y==null||tt(t,i,Z,q,l,Y)}function F_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&F_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,Z=N.initiatorType;X&&F_(Z)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jd=null,Bd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function fb(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(pb)}:Y_;function pb(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function $_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ya(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);Ya(i)}function X_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function yb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function J_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _b(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yd=null;function W_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ev(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var Yn=new Map,tv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=le.d;le.d={f:vb,r:Eb,D:Tb,C:Sb,L:Ab,m:bb,X:Rb,S:wb,M:Cb};function vb(){var t=ur.f(),i=Cc();return t||i}function Eb(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?_y(i):ur.r(t)}var Fa=typeof document>"u"?null:document;function nv(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=fn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Tb(t){ur.D(t),nv("dns-prefetch",t,null)}function Sb(t,i){ur.C(t,i),nv("preconnect",t,i)}function Ab(t,i,a){ur.L(t,i,a);var l=Fa;if(l&&t&&i){var h='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Ka(t)}Yn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Yn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Xt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function bb(t,i){ur.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Yn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Yn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Xt(l,"link",t),Ct(l),a.head.appendChild(l)}}}function wb(t,i,a){ur.S(t,i,a);var l=Fa;if(l&&t){var h=Ti(l).hoistableStyles,d=Ga(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Rl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Yn.get(d))&&Qd(t,a);var N=_=l.createElement("link");Ct(N),Xt(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Rb(t,i){ur.X(t,i);var a=Fa;if(a&&t){var l=Ti(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0},i),(i=Yn.get(h))&&$d(t,i),d=a.createElement("script"),Ct(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Cb(t,i){ur.M(t,i);var a=Fa;if(a&&t){var l=Ti(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Yn.get(h))&&$d(t,i),d=a.createElement("script"),Ct(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(t,i,a,l){var h=(h=fe.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=Ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=Ti(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),d||Ib(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=Ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+fn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ib(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),Ct(i),t.head.appendChild(i))}function Ka(t){return'[src="'+fn(t)+'"]'}function Cl(t){return"script[async]"+t}function sv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Xt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=rv(a),(h=Yn.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Xt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,Ct(h),h):(l=a,(h=Yn.get(d))&&(l=T({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),Xt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function av(t,i,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vi]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function ov(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Db(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Nb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=rv(l),(h=Yn.get(h))&&Qd(l,h),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function Ob(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Xd===0&&(Xd=62500*hb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,i.forEach(Mb,t),jc=null,zc.call(t))}function Mb(t,i){if(!(i.state.loading&4)){var a=jc.get(t);if(a)var l=a.get(null);else{a=new Map,jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function xb(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function uv(t,i,a,l,h,d,_,S,N,B,X,Z){return t=new xb(t,i,a,_,N,B,X,Z,S),i=1,d===!0&&(i|=24),d=Rn(3,null,null,i),t.current=d,d.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function cv(t){return t?(t=Aa,t):Aa}function hv(t,i,a,l,h,d){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(_n(a,t,i),al(a,t,i))}function fv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){fv(t,i),(t=t.alternate)&&fv(t,i)}function dv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&_n(i,t,67108864),Jd(t,67108864)}}function mv(t){if(t.tag===13||t.tag===31){var i=On();i=bs(i);var a=Ls(t,i);a!==null&&_n(a,t,i),Jd(t,i)}}var qc=!0;function Vb(t,i,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=2,Wd(t,i,a,l)}finally{le.p=d,$.T=h}}function kb(t,i,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=8,Wd(t,i,a,l)}finally{le.p=d,$.T=h}}function Wd(t,i,a,l){if(qc){var h=Zd(l);if(h===null)Ud(t,i,l,Hc,a),gv(t,l);else if(Pb(h,t,i,a,l))l.stopPropagation();else if(gv(t,l),i&4&&-1<Lb.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-Et(_);S.entanglements[1]|=N,_&=~N}Vi(d),(Ye&6)===0&&(wc=on()+500,Sl(0))}}break;case 31:case 13:S=Ls(d,2),S!==null&&_n(S,d,2),Cc(),Jd(d,2)}if(d=Zd(l),d===null&&Ud(t,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ud(t,i,l,null,a)}}function Zd(t){return t=Pn(t),em(t)}var Hc=null;function em(t){if(Hc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Oo:return 2;case Mo:return 8;case vr:case af:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var tm=!1,Kr=null,Yr=null,Qr=null,Dl=new Map,Nl=new Map,$r=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ln(i),i!==null&&dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Pb(t,i,a,l,h){switch(i){case"focusin":return Kr=Ol(Kr,t,i,a,l,h),!0;case"dragenter":return Yr=Ol(Yr,t,i,a,l,h),!0;case"mouseover":return Qr=Ol(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function yv(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){mv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=Ln(a),i!==null&&dv(i),t.blockedOn=a,!1;i.shift()}return!0}function _v(t,i,a){Fc(t)&&a.delete(i)}function Ub(){tm=!1,Kr!==null&&Fc(Kr)&&(Kr=null),Yr!==null&&Fc(Yr)&&(Yr=null),Qr!==null&&Fc(Qr)&&(Qr=null),Dl.forEach(_v),Nl.forEach(_v)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ub)))}var Kc=null;function vv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=Ln(a);d!==null&&(t.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ya(t){function i(N){return Gc(N,t)}Kr!==null&&Gc(Kr,t),Yr!==null&&Gc(Yr,t),Qr!==null&&Gc(Qr,t),Dl.forEach(i),Nl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)yv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[jt]||null;if(typeof d=="function")_||vv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[jt]||null)S=_.formAction;else if(em(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),vv(a)}}}function Ev(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function nm(t){this._internalRoot=t}Yc.prototype.render=nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=On();hv(a,l,t,i,null,null)},Yc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hv(t.current,2,null,t,null,null),Cc(),i[_i]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&yv(t)}};var Tv=e.version;if(Tv!=="19.2.4")throw Error(s(527,Tv,"19.2.4"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{$n=Qc.inject(zb),Gt=Qc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Iy,d=Dy,_=Ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=uv(t,1,!1,null,null,a,l,null,h,d,_,Ev),t[_i]=i.current,Pd(t),new nm(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Iy,_=Dy,S=Ny,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=uv(t,1,!0,i,a??null,l,h,N,d,_,S,Ev),i.context=cv(null),a=i.current,l=On(),l=bs(l),h=Vr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,Ss(i,a),Vi(i),t[_i]=i.current,Pd(t),new Yc(i)},xl.version="19.2.4",xl}var Ov;function $b(){if(Ov)return sm.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=Qb(),sm.exports}var Xb=$b();var Mv="popstate";function Jb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return bm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return Zb(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wb(){return Math.random().toString(36).substring(2,10)}function xv(r,e){return{usr:r.state,key:r.key,idx:e}}function bm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||Wb()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Zb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let Q=E(),te=Q==null?null:Q-y;y=Q,p&&p({action:m,location:K.location,delta:te})}function b(Q,te){m="PUSH";let ie=bm(K.location,Q,te);y=E()+1;let ae=xv(ie,y),re=K.createHref(ie);try{f.pushState(ae,"",re)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(re)}u&&p&&p({action:m,location:K.location,delta:1})}function k(Q,te){m="REPLACE";let ie=bm(K.location,Q,te);y=E();let ae=xv(ie,y),re=K.createHref(ie);f.replaceState(ae,"",re),u&&p&&p({action:m,location:K.location,delta:0})}function F(Q){return ew(Q)}let K={get action(){return m},get location(){return r(o,f)},listen(Q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,T),p=Q,()=>{o.removeEventListener(Mv,T),p=null}},createHref(Q){return e(o,Q)},createURL:F,encodeLocation(Q){let te=F(Q);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:b,replace:k,go(Q){return f.go(Q)}};return K}function ew(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ET(r,e,n="/"){return tw(r,e,n,!1)}function tw(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=TT(r);nw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=dw(u);m=hw(f[p],y,s)}return m}function TT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;dt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=fr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(dt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),TT(f.children,e,b,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:uw(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of ST(f.path))u(f,m,!0,p)}),e}function ST(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=ST(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function nw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:cw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iw=/^:[\w-]+$/,rw=3,sw=2,aw=1,ow=10,lw=-2,Vv=r=>r==="*";function uw(r,e){let n=r.split("/"),s=n.length;return n.some(Vv)&&(s+=lw),e&&(s+=sw),n.filter(o=>!Vv(o)).reduce((o,u)=>o+(iw.test(u)?rw:u===""?aw:ow),s)}function cw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:yw(fr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return f}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=fw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},b)=>{if(E==="*"){let F=m[b]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=m[b];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function fw(r,e=!1,n=!0){hi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function pw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=kv(n.substring(1),"/"):u=kv(n,e)):u=e,{pathname:u,search:_w(s),hash:vw(o)}}function kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=gw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=pw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),yw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_w=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ew=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Sw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bT(r,e){let n=r;if(typeof n!="string"||!mw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(AT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=dr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{hi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var Aw=["GET",...wT];new Set(Aw);var vo=U.createContext(null);vo.displayName="DataRouter";var Ph=U.createContext(null);Ph.displayName="DataRouterState";var bw=U.createContext(!1),RT=U.createContext({isTransitioning:!1});RT.displayName="ViewTransition";var ww=U.createContext(new Map);ww.displayName="Fetchers";var Rw=U.createContext(null);Rw.displayName="Await";var xn=U.createContext(null);xn.displayName="Navigation";var au=U.createContext(null);au.displayName="Location";var Fi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var rp=U.createContext(null);rp.displayName="RouteError";var CT="REACT_ROUTER_ERROR",Cw="REDIRECT",Iw="ROUTE_ERROR_RESPONSE";function Dw(r){if(r.startsWith(`${CT}:${Cw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Nw(r){if(r.startsWith(`${CT}:${Iw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Ew(e.status,e.statusText,e.data)}catch{}}function Ow(r,{relative:e}={}){dt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(xn),{hash:o,pathname:u,search:f}=ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return U.useContext(au)!=null}function gs(){return dt(Eo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(au).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DT(r){U.useContext(xn).static||U.useLayoutEffect(r)}function To(){let{isDataRoute:r}=U.useContext(Fi);return r?Fw():Mw()}function Mw(){dt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(vo),{basename:e,navigator:n}=U.useContext(xn),{matches:s}=U.useContext(Fi),{pathname:o}=gs(),u=JSON.stringify(np(s)),f=U.useRef(!1);return DT(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(hi(f.current,IT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ip(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}U.createContext(null);function ou(r,{relative:e}={}){let{matches:n}=U.useContext(Fi),{pathname:s}=gs(),o=JSON.stringify(np(n));return U.useMemo(()=>ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function xw(r,e){return NT(r,e)}function NT(r,e,n,s,o){dt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(xn),{matches:f}=U.useContext(Fi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";MT(y,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let b=gs(),k;if(e){let ie=typeof e=="string"?_o(e):e;dt(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),k=ie}else k=b;let F=k.pathname||"/",K=F;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");K="/"+F.replace(/^\//,"").split("/").slice(ie.length).join("/")}let Q=ET(r,{pathname:K});hi(T||Q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),hi(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=Uw(Q&&Q.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:fr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:fr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&te?U.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},te):te}function Vw(){let r=Hw(),e=Tw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var kw=U.createElement(Vw,null),OT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Nw(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(Fi.Provider,{value:this.props.routeContext},U.createElement(rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(Lw,{error:r},e):e}};OT.contextType=bw;var cm=new WeakMap;function Lw({children:r,error:e}){let{basename:n}=U.useContext(xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Dw(e.digest);if(s){let o=cm.get(e);if(o)throw o;let u=bT(s.location,n);if(AT&&!cm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw cm.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Pw({routeContext:r,match:e,children:n}){let s=U.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Fi.Provider,{value:r},n)}function Uw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);dt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:k}=n,F=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Sw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let k,F=!1,K=null,Q=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,K=T.route.errorElement||kw,m&&(p<0&&b===0?(MT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,Q=null):p===b&&(F=!0,Q=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,b+1)),ie=()=>{let ae;return k?ae=K:F?ae=Q:T.route.Component?ae=U.createElement(T.route.Component,null):T.route.element?ae=T.route.element:ae=E,U.createElement(Pw,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:ae})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?U.createElement(OT,{location:n.location,revalidation:n.revalidation,component:K,error:k,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:y}):ie()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(r){let e=U.useContext(vo);return dt(e,sp(r)),e}function jw(r){let e=U.useContext(Ph);return dt(e,sp(r)),e}function Bw(r){let e=U.useContext(Fi);return dt(e,sp(r)),e}function ap(r){let e=Bw(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function qw(){return ap("useRouteId")}function Hw(){let r=U.useContext(rp),e=jw("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function Fw(){let{router:r}=zw("useNavigate"),e=ap("useNavigate"),n=U.useRef(!1);return DT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{hi(n.current,IT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Lv={};function MT(r,e,n){!e&&!Lv[r]&&(Lv[r]=!0,hi(!1,n))}U.memo(Gw);function Gw({routes:r,future:e,state:n,onError:s}){return NT(r,void 0,n,s,e)}function Kw({to:r,replace:e,state:n,relative:s}){dt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(xn);hi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Fi),{pathname:f}=gs(),m=To(),p=ip(r,np(u),f,s==="path"),y=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Ll(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){dt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=_o(n));let{pathname:y="/",search:E="",hash:T="",state:b=null,key:k="default"}=n,F=U.useMemo(()=>{let K=dr(y,m);return K==null?null:{location:{pathname:K,search:E,hash:T,state:b,key:k},navigationType:s}},[m,y,E,T,b,k,s]);return hi(F!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:U.createElement(xn.Provider,{value:p},U.createElement(au.Provider,{children:e,value:F}))}function Qw({children:r,location:e}){return xw(wm(r),e)}function wm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,wm(s.props.children,u));return}dt(s.type===Ll,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var rh="get",sh="application/x-www-form-urlencoded";function Uh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function $w(r){return Uh(r)&&r.tagName.toLowerCase()==="button"}function Xw(r){return Uh(r)&&r.tagName.toLowerCase()==="form"}function Jw(r){return Uh(r)&&r.tagName.toLowerCase()==="input"}function Ww(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Zw(r,e){return r.button===0&&(!e||e==="_self")&&!Ww(r)}var $c=null;function e1(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var t1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!t1.has(r)?(hi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):r}function n1(r,e){let n,s,o,u,f;if(Xw(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||rh,o=hm(r.getAttribute("enctype"))||sh,u=new FormData(r)}else if($w(r)||Jw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||rh,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||sh,u=new FormData(m,r),!e1()){let{name:y,type:E,value:T}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,T)}}else{if(Uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=sh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function i1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&dr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function r1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function a1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await r1(u,n);return f.links?f.links():[]}return[]}));return c1(s.flat(1).filter(s1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function o1(r,e,{includeHydrateFallback:n}={}){return l1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function l1(r){return[...new Set(r)]}function u1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function c1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(u1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function xT(){let r=U.useContext(vo);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function h1(){let r=U.useContext(Ph);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=U.createContext(void 0);lp.displayName="FrameworkContext";function VT(){let r=U.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function f1(r,e){let n=U.useContext(lp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=te=>{te.forEach(ie=>{f(ie.isIntersecting)})},Q=new IntersectionObserver(K,{threshold:.5});return b.current&&Q.observe(b.current),()=>{Q.disconnect()}}},[r]),U.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,k),onBlur:Vl(p,F),onMouseEnter:Vl(y,k),onMouseLeave:Vl(E,F),onTouchStart:Vl(T,k)}]:[!1,b,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function d1({page:r,...e}){let{router:n}=xT(),s=U.useMemo(()=>ET(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(p1,{page:r,matches:s,...e}):null}function m1(r){let{manifest:e,routeModules:n}=VT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return a1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function p1({page:r,matches:e,...n}){let s=gs(),{future:o,manifest:u,routeModules:f}=VT(),{basename:m}=xT(),{loaderData:p,matches:y}=h1(),E=U.useMemo(()=>Pv(r,e,y,u,s,"data"),[r,e,y,u,s]),T=U.useMemo(()=>Pv(r,e,y,u,s,"assets"),[r,e,y,u,s]),b=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Q=!1;if(e.forEach(ie=>{let ae=u.routes[ie.route.id];!ae||!ae.hasLoader||(!E.some(re=>re.route.id===ie.route.id)&&ie.route.id in p&&f[ie.route.id]?.shouldRevalidate||ae.hasClientLoader?Q=!0:K.add(ie.route.id))}),K.size===0)return[];let te=i1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Q&&K.size>0&&te.searchParams.set("_routes",e.filter(ie=>K.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),k=U.useMemo(()=>o1(T,u),[T,u]),F=m1(T);return U.createElement(U.Fragment,null,b.map(K=>U.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),k.map(K=>U.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),F.map(({key:K,link:Q})=>U.createElement("link",{key:K,nonce:n.nonce,...Q,crossOrigin:Q.crossOrigin??n.crossOrigin})))}function g1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y1&&(window.__reactRouterVersion="7.13.0")}catch{}function _1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=Jb({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(Yw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LT=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...k},F){let{basename:K,unstable_useTransitions:Q}=U.useContext(xn),te=typeof y=="string"&&kT.test(y),ie=bT(y,K);y=ie.to;let ae=Ow(y,{relative:o}),[re,ce,me]=f1(s,k),R=S1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:Q});function w(V){e&&e(V),V.defaultPrevented||R(V)}let I=U.createElement("a",{...k,...me,href:ie.absoluteURL||ae,onClick:ie.isExternal||u?e:w,ref:g1(F,ce),target:p,"data-discover":!te&&n==="render"?"true":void 0});return re&&!te?U.createElement(U.Fragment,null,I,U.createElement(d1,{page:ae})):I});LT.displayName="Link";var v1=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=ou(f,{relative:y.relative}),b=gs(),k=U.useContext(Ph),{navigator:F,basename:K}=U.useContext(xn),Q=k!=null&&C1(T)&&m===!0,te=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,ie=b.pathname,ae=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ae=ae?ae.toLowerCase():null,te=te.toLowerCase()),ae&&K&&(ae=dr(ae,K)||ae);const re=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ce=ie===te||!o&&ie.startsWith(te)&&ie.charAt(re)==="/",me=ae!=null&&(ae===te||!o&&ae.startsWith(te)&&ae.charAt(te.length)==="/"),R={isActive:ce,isPending:me,isTransitioning:Q},w=ce?e:void 0,I;typeof s=="function"?I=s(R):I=[s,ce?"active":null,me?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(R):u;return U.createElement(LT,{...y,"aria-current":w,className:I,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(R):p)});v1.displayName="NavLink";var E1=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...k},F)=>{let{unstable_useTransitions:K}=U.useContext(xn),Q=w1(),te=R1(m,{relative:y}),ie=f.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&kT.test(m),re=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let me=ce.nativeEvent.submitter,R=me?.getAttribute("formmethod")||f,w=()=>Q(me||ce.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b});K&&n!==!1?U.startTransition(()=>w()):w()};return U.createElement("form",{ref:F,method:ie,action:te,onSubmit:s?p:re,...k,"data-discover":!ae&&r==="render"?"true":void 0})});E1.displayName="Form";function T1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PT(r){let e=U.useContext(vo);return dt(e,T1(r)),e}function S1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=To(),E=gs(),T=ou(r,{relative:u});return U.useCallback(b=>{if(Zw(b,e)){b.preventDefault();let k=n!==void 0?n:Ql(E)===Ql(T),F=()=>y(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>F()):F()}},[E,y,T,n,s,e,r,o,u,f,m,p])}var A1=0,b1=()=>`__${String(++A1)}__`;function w1(){let{router:r}=PT("useSubmit"),{basename:e}=U.useContext(xn),n=qw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=n1(u,e);if(f.navigate===!1){let b=f.fetcherKey||b1();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function R1(r,{relative:e}={}){let{basename:n}=U.useContext(xn),s=U.useContext(Fi);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(r||".",{relative:e})},f=gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),Ql(u)}function C1(r,{relative:e}={}){let n=U.useContext(RT);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=PT("useViewTransitionState"),o=ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}const I1=()=>{};var Uv={};const UT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},D1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(b=64)),s.push(n[E],n[T],n[b],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(UT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):D1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new N1;const b=u<<2|m>>4;if(s.push(b),y!==64){const k=m<<4&240|y>>2;if(s.push(k),T!==64){const F=y<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class N1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(r){const e=UT(r);return zT.encodeByteArray(e,!0)},_h=function(r){return O1(r).replace(/\./g,"")},jT=function(r){try{return zT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const x1=()=>M1().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},k1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jT(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return I1()||x1()||V1()||k1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BT=r=>zh()?.emulatorHosts?.[r],L1=r=>{const e=BT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qT=()=>zh()?.config,HT=r=>zh()?.[`_${r}`];class P1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FT(r){return(await fetch(r,{credentials:"include"})).ok}function U1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const ql={};function z1(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function j1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let zv=!1;function GT(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||ql[r]===e||ql[r]||zv)return;ql[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=z1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{zv=!0,f()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=j1(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),K=n("learnmore"),Q=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ae=b.element;m(ae),E(Q,K);const re=y();p(ie,te),ae.append(ie,F,Q,re),document.body.appendChild(ae)}u?(F.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function q1(){const r=zh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function G1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K1(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Y1(){return!q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q1(){try{return typeof indexedDB=="object"}catch{return!1}}function $1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const X1="FirebaseError";class _r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=X1,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?J1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _r(o,m,s)}}function J1(r,e){return r.replace(W1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const W1=/\{\$([^}]+)}/g;function Z1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(jv(u)&&jv(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function eR(r,e){const n=new tR(r,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}function Ft(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class iR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new P1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(r){return r===$s?void 0:r}function sR(r){return r.instantiationMode==="EAGER"}class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const oR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},lR=Le.INFO,uR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},cR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=uR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const hR=(r,e)=>e.some(n=>r instanceof n);let Bv,qv;function fR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,Rm=new WeakMap,YT=new WeakMap,dm=new WeakMap,cp=new WeakMap;function mR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&KT.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function pR(r){if(Rm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,e)}let Cm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gR(r){Cm=r(Cm)}function yR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return YT.set(s,e.sort?e.sort():[e]),is(s)}:dR().includes(r)?function(...e){return r.apply(mm(this),e),is(KT.get(this))}:function(...e){return is(r.apply(mm(this),e))}}function _R(r){return typeof r=="function"?yR(r):(r instanceof IDBTransaction&&pR(r),hR(r,fR())?new Proxy(r,Cm):r)}function is(r){if(r instanceof IDBRequest)return mR(r);if(dm.has(r))return dm.get(r);const e=_R(r);return e!==r&&(dm.set(r,e),cp.set(e,r)),e}const mm=r=>cp.get(r);function vR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],pm=new Map;function Hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}gR(r=>({...r,get:(e,n,s)=>Hv(e,n)||r.get(e,n,s),has:(e,n)=>!!Hv(e,n)||r.has(e,n)}));class SR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AR(r){return r.getComponent()?.type==="VERSION"}const Im="@firebase/app",Fv="0.14.7";const mr=new up("@firebase/app"),bR="@firebase/app-compat",wR="@firebase/analytics-compat",RR="@firebase/analytics",CR="@firebase/app-check-compat",IR="@firebase/app-check",DR="@firebase/auth",NR="@firebase/auth-compat",OR="@firebase/database",MR="@firebase/data-connect",xR="@firebase/database-compat",VR="@firebase/functions",kR="@firebase/functions-compat",LR="@firebase/installations",PR="@firebase/installations-compat",UR="@firebase/messaging",zR="@firebase/messaging-compat",jR="@firebase/performance",BR="@firebase/performance-compat",qR="@firebase/remote-config",HR="@firebase/remote-config-compat",FR="@firebase/storage",GR="@firebase/storage-compat",KR="@firebase/firestore",YR="@firebase/ai",QR="@firebase/firestore-compat",$R="firebase",XR="12.8.0";const Dm="[DEFAULT]",JR={[Im]:"fire-core",[bR]:"fire-core-compat",[RR]:"fire-analytics",[wR]:"fire-analytics-compat",[IR]:"fire-app-check",[CR]:"fire-app-check-compat",[DR]:"fire-auth",[NR]:"fire-auth-compat",[OR]:"fire-rtdb",[MR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[VR]:"fire-fn",[kR]:"fire-fn-compat",[LR]:"fire-iid",[PR]:"fire-iid-compat",[UR]:"fire-fcm",[zR]:"fire-fcm-compat",[jR]:"fire-perf",[BR]:"fire-perf-compat",[qR]:"fire-rc",[HR]:"fire-rc-compat",[FR]:"fire-gcs",[GR]:"fire-gcs-compat",[KR]:"fire-fst",[QR]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};const vh=new Map,WR=new Map,Nm=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(Nm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of vh.values())Gv(n,r);for(const n of WR.values())Gv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function oi(r){return r==null?!1:r.settings!==void 0}const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new lu("app","Firebase",ZR);class eC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Ao=XR;function QT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=qT()),!n)throw rs.create("no-options");const u=vh.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new aR(o);for(const p of Nm.values())f.addComponent(p);const m=new eC(n,s,f);return vh.set(o,m),m}function $T(r=Dm){const e=vh.get(r);if(!e&&r===Dm&&qT())return QT();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){let s=JR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}lo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tC="firebase-heartbeat-database",nC=1,$l="firebase-heartbeat-store";let gm=null;function XT(){return gm||(gm=vR(tC,nC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),gm}async function iC(r){try{const n=(await XT()).transaction($l),s=await n.objectStore($l).get(JT(r));return await n.done,s}catch(e){if(e instanceof _r)mr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function Kv(r,e){try{const s=(await XT()).transaction($l,"readwrite");await s.objectStore($l).put(e,JT(r)),await s.done}catch(n){if(n instanceof _r)mr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function JT(r){return`${r.name}!${r.options.appId}`}const rC=1024,sC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sC){const o=uC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:n,unsentEntries:s}=oC(this._heartbeatsCache.heartbeats),o=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function oC(r,e=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q1()?$1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function uC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function cC(r){lo(new Ws("platform-logger",e=>new SR(e),"PRIVATE")),lo(new Ws("heartbeat",e=>new aC(e),"PRIVATE")),ss(Im,Fv,r),ss(Im,Fv,"esm2020"),ss("fire-js","")}cC("");function WT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=WT,ZT=new lu("auth","Firebase",WT());const Eh=new up("@firebase/auth");function fC(r,...e){Eh.logLevel<=Le.WARN&&Eh.warn(`Auth (${Ao}): ${r}`,...e)}function ah(r,...e){Eh.logLevel<=Le.ERROR&&Eh.error(`Auth (${Ao}): ${r}`,...e)}function fi(r,...e){throw fp(r,...e)}function Ui(r,...e){return fp(r,...e)}function e0(r,e,n){const s={...hC(),[e]:n};return new lu("auth","Firebase",s).create(e,{appName:r.name})}function as(r){return e0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ZT.create(r,...e)}function Ae(r,e,...n){if(!r)throw fp(e,...n)}function cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function pr(r,e){r||cr(e)}function Om(){return typeof self<"u"&&self.location?.href||""}function dC(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function mC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dC()||F1()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=B1()||G1()}get(){return mC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dp(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class t0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_C=new cu(3e4,6e4);function ia(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ys(r,e,n,s,o={}){return n0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return H1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(y.credentials="include"),t0.fetch()(await i0(r,r.config.apiHost,n,m),y)})}async function n0(r,e,n){r._canInitEmulator=!1;const s={...gC,...e};try{const o=new EC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw e0(r,E,y);fi(r,E)}}catch(o){if(o instanceof _r)throw o;fi(r,"network-request-failed",{message:String(o)})}}async function jh(r,e,n,s,o={}){const u=await ys(r,e,n,s,o);return"mfaPendingCredential"in u&&fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function i0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?dp(r.config,o):`${r.config.apiScheme}://${o}`;return yC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function vC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),_C.get())})}}function Xc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,e,s);return o.customData._tokenResponse=n,o}function Xv(r){return r!==void 0&&r.enterprise!==void 0}class TC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SC(r,e){return ys(r,"GET","/v2/recaptchaConfig",ia(r,e))}async function AC(r,e){return ys(r,"POST","/v1/accounts:delete",e)}async function Th(r,e){return ys(r,"POST","/v1/accounts:lookup",e)}function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bC(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=mp(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(ym(o.auth_time)),issuedAtTime:Hl(ym(o.iat)),expirationTime:Hl(ym(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function mp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=jT(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(r){const e=mp(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _r&&wC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(r){const e=r.auth,n=await r.getIdToken(),s=await Xl(r,Th(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?r0(o.providerUserInfo):[],f=IC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function CC(r){const e=Ft(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function r0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DC(r,e){const n=await n0(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await i0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),t0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NC(r,e){return ys(r,"POST","/v2/accounts:revokeToken",ia(r,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await DC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return cr("not implemented")}}function Jr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bC(this,e)}reload(){return CC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Xl(this,AC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:k,providerData:F,stsTokenManager:K}=n;Ae(T&&K,e,"internal-error");const Q=Za.fromJSON(this.name,K);Ae(typeof T=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),Ae(typeof b=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(y,e.name),Jr(E,e.name);const te=new li({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(te.providerData=F.map(ie=>({...ie}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?r0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const Wv=new Map;function hr(r){pr(r instanceof Function,"Expected a class definition");let e=Wv.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Wv.set(r,e),e)}class s0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s0.type="NONE";const Zv=s0;function oh(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(hr(Zv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||hr(Zv);const f=oh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const b=await Th(e,{idToken:E}).catch(()=>{});if(!b)break;T=await li._fromGetAccountInfoResponse(e,b,E)}else T=li._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new eo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}function eE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h0(e))return"Blackberry";if(f0(e))return"Webos";if(o0(e))return"Safari";if((e.includes("chrome/")||l0(e))&&!e.includes("edge/"))return"Chrome";if(c0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function a0(r=an()){return/firefox\//i.test(r)}function o0(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l0(r=an()){return/crios\//i.test(r)}function u0(r=an()){return/iemobile/i.test(r)}function c0(r=an()){return/android/i.test(r)}function h0(r=an()){return/blackberry/i.test(r)}function f0(r=an()){return/webos/i.test(r)}function pp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OC(r=an()){return pp(r)&&!!window.navigator?.standalone}function MC(){return K1()&&document.documentMode===10}function d0(r=an()){return pp(r)||c0(r)||f0(r)||h0(r)||/windows phone/i.test(r)||u0(r)}function m0(r,e=[]){let n;switch(r){case"Browser":n=eE(an());break;case"Worker":n=`${eE(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class xC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function VC(r,e={}){return ys(r,"GET","/v2/passwordPolicy",ia(r,e))}const kC=6;class LC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class PC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new xC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(as(this));const n=e?Ft(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),n=new LC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(r){return Ft(r)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(r){Bh=r}function p0(r){return Bh.loadJS(r)}function zC(){return Bh.recaptchaEnterpriseScript}function jC(){return Bh.gapiScript}function BC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class qC{constructor(){this.enterprise=new HC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FC="recaptcha-enterprise",g0="NO_RECAPTCHA";class GC{constructor(e){this.type=FC,this.auth=bo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{SC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new TC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(g0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Xv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zC();p.length!==0&&(p+=m),p0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function nE(r,e,n,s=!1,o=!1){const u=new GC(r);let f;if(o)f=g0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function iE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function KC(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;fi(o,"already-initialized")}return n.initialize({options:e})}function YC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function QC(r,e,n){const s=bo(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=y0(e),{host:f,port:m}=$C(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Js(y,s.config.emulator)&&Js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,So(f)?(FT(`${u}//${f}${p}`),GT("Auth",!0)):XC()}function y0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $C(r){const e=y0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:rE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:rE(f)}}}function rE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function XC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function JC(r,e){return ys(r,"POST","/v1/accounts:signUp",e)}async function WC(r,e){return jh(r,"POST","/v1/accounts:signInWithPassword",ia(r,e))}async function ZC(r,e){return jh(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}async function eI(r,e){return jh(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}class Jl extends gp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,n,"signInWithPassword",WC);case"emailLink":return ZC(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,s,"signUpPassword",JC);case"emailLink":return eI(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function to(r,e){return jh(r,"POST","/v1/accounts:signInWithIdp",ia(r,e))}const tI="http://localhost";class Zs extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}function nI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iI(r){const e=Pl(Ul(r)).link,n=e?Pl(Ul(e)).deep_link_id:null,s=Pl(Ul(r)).deep_link_id;return(s?Pl(Ul(s)).link:null)||s||n||e||r}class yp{constructor(e){const n=Pl(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=nI(n.mode??null);Ae(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iI(e);try{return new yp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yp.parseLink(n);return Ae(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hu extends _0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends hu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class Zr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class es extends hu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends hu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await li._fromIdTokenResponse(e,s,o),f=sE(s);return new uo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=sE(s);return new uo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function sE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ah extends _r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ah(e,n,s,o)}}function v0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,s):u})}async function rI(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return uo._forOperation(r,"link",s)}async function sI(r,e,n=!1){const{auth:s}=r;if(oi(s.app))return Promise.reject(as(s));const o="reauthenticate";try{const u=await Xl(r,v0(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const f=mp(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(r.uid===m,s,"user-mismatch"),uo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}async function E0(r,e,n=!1){if(oi(r.app))return Promise.reject(as(r));const s="signIn",o=await v0(r,s,e),u=await uo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function aI(r,e){return E0(bo(r),e)}async function oI(r){const e=bo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lI(r,e,n){return oi(r.app)?Promise.reject(as(r)):aI(Ft(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&oI(r),s})}function uI(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function cI(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function hI(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function aE(r){return Ft(r).signOut()}const bh="__sak";class T0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fI=1e3,dI=10;class S0 extends T0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);MC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}S0.type="LOCAL";const mI=S0;class A0 extends T0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}A0.type="SESSION";const b0=A0;function pI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await pI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function _p(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class gI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=_p("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function zi(){return window}function yI(r){zi().location.href=r}function w0(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function _I(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vI(){return navigator?.serviceWorker?.controller||null}function EI(){return w0()?self:null}const R0="firebaseLocalStorageDb",TI=1,wh="firebaseLocalStorage",C0="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(r,e){return r.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function SI(){const r=indexedDB.deleteDatabase(R0);return new fu(r).toPromise()}function xm(){const r=indexedDB.open(R0,TI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wh,{keyPath:C0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wh)?e(s):(s.close(),await SI(),e(await xm()))})})}async function oE(r,e,n){const s=Hh(r,!0).put({[C0]:e,value:n});return new fu(s).toPromise()}async function AI(r,e){const n=Hh(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function lE(r,e){const n=Hh(r,!0).delete(e);return new fu(n).toPromise()}const bI=800,wI=3;class I0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(EI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _I(),!this.activeServiceWorker)return;this.sender=new gI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await oE(e,bh,"1"),await lE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Hh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I0.type="LOCAL";const RI=I0;new cu(3e4,6e4);function CI(r,e){return e?hr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class vp extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function II(r){return E0(r.auth,new vp(r),r.bypassAuthState)}function DI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),sI(n,new vp(r),r.bypassAuthState)}async function NI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),rI(n,new vp(r),r.bypassAuthState)}class D0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return II;case"linkViaPopup":case"linkViaRedirect":return NI;case"reauthViaPopup":case"reauthViaRedirect":return DI;default:fi(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OI=new cu(2e3,1e4);class Wa extends D0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OI.get())};e()}}Wa.currentPopupAction=null;const MI="pendingRedirect",lh=new Map;class xI extends D0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await VI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VI(r,e){const n=PI(e),s=LI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kI(r,e){lh.set(r._key(),e)}function LI(r){return hr(r._redirectPersistence)}function PI(r){return oh(MI,r.config.apiKey,r.name)}async function UI(r,e,n=!1){if(oi(r.app))return Promise.reject(as(r));const s=bo(r),o=CI(s,e),f=await new xI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const zI=600*1e3;class jI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!N0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zI&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function BI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N0(r);default:return!1}}async function qI(r,e={}){return ys(r,"GET","/v1/projects",e)}const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FI=/^https?/;async function GI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qI(r);for(const n of e)try{if(KI(n))return}catch{}fi(r,"unauthorized-domain")}function KI(r){const e=Om(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!FI.test(n))return!1;if(HI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const YI=new cu(3e4,6e4);function cE(){const r=zi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function QI(r){return new Promise((e,n)=>{function s(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(Ui(r,"network-request-failed"))},timeout:YI.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)s();else{const o=BC("iframefcb");return zi()[o]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},p0(`${jC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw uh=null,e})}let uh=null;function $I(r){return uh=uh||QI(r),uh}const XI=new cu(5e3,15e3),JI="__/auth/iframe",WI="emulator/auth/iframe",ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tD(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?dp(e,WI):`https://${r.config.authDomain}/${JI}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=eD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function nD(r){const e=await $I(r),n=zi().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:tD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ui(r,"network-request-failed"),m=zi().setTimeout(()=>{u(f)},XI.get());function p(){zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const iD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rD=500,sD=600,aD="_blank",oD="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lD(r,e,n,s=rD,o=sD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...iD,width:s.toString(),height:o.toString(),top:u,left:f},y=an().toLowerCase();n&&(m=l0(y)?aD:n),a0(y)&&(e=e||oD,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[k,F])=>`${b}${k}=${F},`,"");if(OC(y)&&m!=="_self")return uD(e||"",m),new hE(null);const T=window.open(e||"",m,E);Ae(T,r,"popup-blocked");try{T.focus()}catch{}return new hE(T)}function uD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const cD="__/auth/handler",hD="emulator/auth/handler",fD=encodeURIComponent("fac");async function fE(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof _0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Z1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof hu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${fD}=${encodeURIComponent(p)}`:"";return`${dD(r)}?${uu(m).slice(1)}${y}`}function dD({config:r}){return r.emulator?dp(r,hD):`https://${r.authDomain}/${cD}`}const _m="webStorageSupport";class mD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b0,this._completeRedirectFn=UI,this._overrideRedirectResult=kI}async _openPopup(e,n,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fE(e,n,s,Om(),o);return lD(e,u,_p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await fE(e,n,s,Om(),o);return yI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nD(e),s=new jI(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{const u=o?.[0]?.[_m];u!==void 0&&n(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return d0()||o0()||pp()}}const pD=mD;var dE="@firebase/auth",mE="1.12.0";class gD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _D(r){lo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m0(r)},y=new PC(s,o,u,p);return YC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new Ws("auth-internal",e=>{const n=bo(e.getProvider("auth").getImmediate());return(s=>new gD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(dE,mE,yD(r)),ss(dE,mE,"esm2020")}const vD=300,ED=HT("authIdTokenMaxAge")||vD;let pE=null;const TD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ED)return;const o=n?.token;pE!==o&&(pE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SD(r=$T()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KC(r,{popupRedirectResolver:pD,persistence:[RI,mI,b0]}),s=HT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=TD(u.toString());cI(n,f,()=>f(n.currentUser)),uI(n,m=>f(m))}}const o=BT("auth");return o&&QC(n,`http://${o}`),n}function AD(){return document.getElementsByTagName("head")?.[0]??document}UC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_D("Browser");var bD="firebase",wD="12.8.0";ss(bD,wD,"app");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,O0;(function(){var r;function e(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,O,P){for(var D=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)D[rt-2]=arguments[rt];return w.prototype[O].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],O=R.g[2];let P=R.g[3],D;D=w+(P^I&(O^P))+V[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=P+(O^w&(I^O))+V[1]+3905402710&4294967295,P=w+(D<<12&4294967295|D>>>20),D=O+(I^P&(w^I))+V[2]+606105819&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(w^O&(P^w))+V[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(P^I&(O^P))+V[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=P+(O^w&(I^O))+V[5]+1200080426&4294967295,P=w+(D<<12&4294967295|D>>>20),D=O+(I^P&(w^I))+V[6]+2821735955&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(w^O&(P^w))+V[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(P^I&(O^P))+V[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=P+(O^w&(I^O))+V[9]+2336552879&4294967295,P=w+(D<<12&4294967295|D>>>20),D=O+(I^P&(w^I))+V[10]+4294925233&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(w^O&(P^w))+V[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(P^I&(O^P))+V[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=P+(O^w&(I^O))+V[13]+4254626195&4294967295,P=w+(D<<12&4294967295|D>>>20),D=O+(I^P&(w^I))+V[14]+2792965006&4294967295,O=P+(D<<17&4294967295|D>>>15),D=I+(w^O&(P^w))+V[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=w+(O^P&(I^O))+V[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(w^I))+V[6]+3225465664&4294967295,P=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(P^w))+V[11]+643717713&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^w&(O^P))+V[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(O^P&(I^O))+V[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(w^I))+V[10]+38016083&4294967295,P=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(P^w))+V[15]+3634488961&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^w&(O^P))+V[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(O^P&(I^O))+V[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(w^I))+V[14]+3275163606&4294967295,P=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(P^w))+V[3]+4107603335&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^w&(O^P))+V[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(O^P&(I^O))+V[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=P+(I^O&(w^I))+V[2]+4243563512&4294967295,P=w+(D<<9&4294967295|D>>>23),D=O+(w^I&(P^w))+V[7]+1735328473&4294967295,O=P+(D<<14&4294967295|D>>>18),D=I+(P^w&(O^P))+V[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=w+(I^O^P)+V[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=P+(w^I^O)+V[8]+2272392833&4294967295,P=w+(D<<11&4294967295|D>>>21),D=O+(P^w^I)+V[11]+1839030562&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^w)+V[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(I^O^P)+V[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=P+(w^I^O)+V[4]+1272893353&4294967295,P=w+(D<<11&4294967295|D>>>21),D=O+(P^w^I)+V[7]+4139469664&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^w)+V[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(I^O^P)+V[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=P+(w^I^O)+V[0]+3936430074&4294967295,P=w+(D<<11&4294967295|D>>>21),D=O+(P^w^I)+V[3]+3572445317&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^w)+V[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(I^O^P)+V[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=P+(w^I^O)+V[12]+3873151461&4294967295,P=w+(D<<11&4294967295|D>>>21),D=O+(P^w^I)+V[15]+530742520&4294967295,O=P+(D<<16&4294967295|D>>>16),D=I+(O^P^w)+V[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=w+(O^(I|~P))+V[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=P+(I^(w|~O))+V[7]+1126891415&4294967295,P=w+(D<<10&4294967295|D>>>22),D=O+(w^(P|~I))+V[14]+2878612391&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~w))+V[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=w+(O^(I|~P))+V[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=P+(I^(w|~O))+V[3]+2399980690&4294967295,P=w+(D<<10&4294967295|D>>>22),D=O+(w^(P|~I))+V[10]+4293915773&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~w))+V[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=w+(O^(I|~P))+V[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=P+(I^(w|~O))+V[15]+4264355552&4294967295,P=w+(D<<10&4294967295|D>>>22),D=O+(w^(P|~I))+V[6]+2734768916&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~w))+V[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=w+(O^(I|~P))+V[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=P+(I^(w|~O))+V[11]+3174756917&4294967295,P=w+(D<<10&4294967295|D>>>22),D=O+(w^(P|~I))+V[2]+718787259&4294967295,O=P+(D<<15&4294967295|D>>>17),D=I+(P^(O|~w))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<w;){if(O==0)for(;P<=I;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<w;)if(V[O++]=R.charCodeAt(P++),O==this.blockSize){o(this,V),O=0;break}}else for(;P<w;)if(V[O++]=R[P++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[w++]=this.g[I]>>>V&255;return R};function u(R,w){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function f(R,w){this.h=w;const I=[];let V=!0;for(let O=R.length-1;O>=0;O--){const P=R[O]|0;V&&P==w||(I[O]=P,V=!1)}this.g=I}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new f([w|0],w<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return Q(y(-R));const w=[];let I=1;for(let V=0;R>=I;V++)w[V]=R/I|0,I*=4294967296;return new f(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return Q(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let V=T;for(let P=0;P<R.length;P+=8){var O=Math.min(8,R.length-P);const D=parseInt(R.substring(P,P+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(D))):(V=V.j(I),V=V.add(y(D)))}return V}var T=p(0),b=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-Q(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(K(this))return"-"+Q(this).toString(R);const w=y(Math.pow(R,6));var I=this;let V="";for(;;){const O=re(I,w).g;I=te(I,O.j(w));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,F(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function K(R){return R.h==-1}r.l=function(R){return R=te(this,R),K(R)?-1:F(R)?0:1};function Q(R){const w=R.g.length,I=[];for(let V=0;V<w;V++)I[V]=~R.g[V];return new f(I,~R.h).add(b)}r.abs=function(){return K(this)?Q(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let O=0;O<=w;O++){let P=V+(this.i(O)&65535)+(R.i(O)&65535),D=(P>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=D>>>16,P&=65535,D&=65535,I[O]=D<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function te(R,w){return R.add(Q(w))}r.j=function(R){if(F(this)||F(R))return T;if(K(this))return K(R)?Q(this).j(Q(R)):Q(Q(this).j(R));if(K(R))return Q(this.j(Q(R)));if(this.l(k)<0&&R.l(k)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const P=this.i(V)>>>16,D=this.i(V)&65535,rt=R.i(O)>>>16,pt=R.i(O)&65535;I[2*V+2*O]+=D*pt,ie(I,2*V+2*O),I[2*V+2*O+1]+=P*pt,ie(I,2*V+2*O+1),I[2*V+2*O+1]+=D*rt,ie(I,2*V+2*O+1),I[2*V+2*O+2]+=P*rt,ie(I,2*V+2*O+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new f(I,0)};function ie(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ae(R,w){this.g=R,this.h=w}function re(R,w){if(F(w))throw Error("division by zero");if(F(R))return new ae(T,T);if(K(R))return w=re(Q(R),w),new ae(Q(w.g),Q(w.h));if(K(w))return w=re(R,Q(w)),new ae(Q(w.g),w.h);if(R.g.length>30){if(K(R)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,V=w;V.l(R)<=0;)I=ce(I),V=ce(V);var O=me(I,1),P=me(V,1);for(V=me(V,2),I=me(I,2);!F(V);){var D=P.add(V);D.l(R)<=0&&(O=O.add(I),P=D),V=me(V,1),I=me(I,1)}return w=te(R,O.j(w)),new ae(O,w)}for(O=T;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(I),D=P.j(w);K(D)||D.l(R)>0;)I-=V,P=y(I),D=P.j(w);F(P)&&(P=b),O=O.add(P),R=te(R,D)}return new ae(O,R)}r.B=function(R){return re(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&R.i(V);return new f(I,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|R.i(V);return new f(I,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^R.i(V);return new f(I,this.h^R.h)};function ce(R){const w=R.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new f(I,R.h)}function me(R,w){const I=w>>5;w%=32;const V=R.g.length-I,O=[];for(let P=0;P<V;P++)O[P]=w>0?R.i(P+I)>>>w|R.i(P+I+1)<<32-w:R.i(P+I);return new f(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,O0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,os=f}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var M0,zl,x0,ch,Vm,V0,k0,L0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var oe=Array(arguments.length-2),De=2;De<arguments.length;De++)oe[De-2]=arguments[De];return g.prototype[z].apply(A,oe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function F(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let oe=0;oe<G;oe++)c[v+oe]=z[oe]}else c.push(z)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){f.setTimeout(()=>{throw c},0)}function te(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,v){const A=ae.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new K(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,me=!1,R=new ie,w=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){Q(v)}var g=ae;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(rt,O),rt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),$=0;function le(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Ge(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<W.length;G++)v=W[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function H(c){this.src=c,this.g={},this.h=0}H.prototype.add=function(c,g,v,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=fe(c,g,A,z);return oe>-1?(g=c[oe],v||(g.fa=!1)):(g=new le(g,this.src,G,!!A,z),g.fa=v,c.push(g)),g};function se(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(ye(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function fe(c,g,v,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return z}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Te={};function Ie(c,g,v,A,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)Ie(c,g[G],v,A,z);return null}return v=Sn(v),c&&c[pt]?c.J(g,v,m(A)?!!A.capture:!1,z):$e(c,g,v,!1,A,z)}function $e(c,g,v,A,z,G){if(!g)throw Error("Invalid event type");const oe=m(z)?!!z.capture:!!z;let De=en(c);if(De||(c[Ee]=De=new H(c)),v=De.add(g,v,A,oe,G),v.proxy)return v;if(A=vt(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(z=oe),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(gt(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vt(){function c(v){return g.call(c.src,c.listener,v)}const g=Vn;return c}function st(c,g,v,A,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)st(c,g[G],v,A,z);else A=m(A)?!!A.capture:!!A,v=Sn(v),c&&c[pt]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=fe(g,v,A,z),v>-1&&(ye(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=en(c))&&(g=c.g[g.toString()],c=-1,g&&(c=fe(g,v,A,z)),(v=c>-1?g[c]:null)&&zt(v))}function zt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[pt])se(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(gt(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=en(g))?(se(v,c),v.h==0&&(v.src=null,g[Ee]=null)):ye(c)}}}function gt(c){return c in Te?Te[c]:Te[c]="on"+c}function Vn(c,g){if(c.da)c=!0;else{g=new rt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&zt(c),c=v.call(A,g)}return c}function en(c){return c=c[Ee],c instanceof H?c:null}var Tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sn(c){return typeof c=="function"?c:(c[Tn]||(c[Tn]=function(g){return c.handleEvent(g)}),c[Tn])}function ot(){V.call(this),this.i=new H(this),this.M=this,this.G=null}T(ot,V),ot.prototype[pt]=!0,ot.prototype.removeEventListener=function(c,g,v,A){st(this,c,g,v,A)};function lt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var z=g;g=new O(A,c),ue(g,z)}z=!0;let G,oe;if(v)for(oe=v.length-1;oe>=0;oe--)G=g.g=v[oe],z=hn(G,A,!0,g)&&z;if(G=g.g=c,z=hn(G,A,!0,g)&&z,z=hn(G,A,!1,g)&&z,v)for(oe=0;oe<v.length;oe++)G=g.g=v[oe],z=hn(G,A,!1,g)&&z}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)ye(v[A]);delete c.g[g],c.h--}}this.G=null},ot.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ot.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function hn(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const oe=g[G];if(oe&&!oe.da&&oe.capture==v){const De=oe.listener,Tt=oe.ha||oe.src;oe.fa&&se(c.i,oe),z=De.call(Tt,A)!==!1&&z}}return z&&!A.defaultPrevented}function sf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Eu(c){c.g=sf(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class on extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){V.call(this),this.h=c,this.g={}}T(Es,V);var Oo=[];function Mo(c){ze(c.g,function(g,v){this.g.hasOwnProperty(v)&&zt(g)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Mo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,af=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Su(){}function Au(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){O.call(this,"d")}T(Gt,O);function kn(){O.call(this,"c")}T(kn,O);var Et={},bu=null;function oa(){return bu=bu||new ot}Et.Ia="serverreachability";function wu(c){O.call(this,Et.Ia,c)}T(wu,O);function mi(c){const g=oa();lt(g,new wu(g))}Et.STAT_EVENT="statevent";function Ts(c,g){O.call(this,Et.STAT_EVENT,c),this.stat=g}T(Ts,O);function wt(c){const g=oa();lt(g,new Ts(g,c))}Et.Ja="timingevent";function pi(c,g){O.call(this,Et.Ja,c),this.size=g}T(pi,O);function gi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function of(c,g,v,A,z,G){c.info(function(){if(c.g)if(G){var oe="",De=G.split("&");for(let Ke=0;Ke<De.length;Ke++){var Tt=De[Ke].split("=");if(Tt.length>1){const ht=Tt[0];Tt=Tt[1];const zn=ht.split("_");oe=zn.length>=2&&zn[1]=="type"?oe+(ht+"="+Tt+"&"):oe+(ht+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+oe})}function Ru(c,g,v,A,z,G,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+G+" "+oe})}function yi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+lf(c,v)+(A?" "+A:"")})}function Ss(c,g){c.info(function(){return"TIMEOUT: "+g})}Xn.prototype.info=function(){};function lf(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return vr(G)}catch{return g}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function bs(){}T(bs,Su),bs.prototype.g=function(){return new XMLHttpRequest},Vo=new bs;function Gi(c){return encodeURIComponent(String(c))}function Cu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Jn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Rt={},jt={};function _i(c,g,v){c.M=1,c.A=ws(It(g)),c.u=v,c.R=!0,la(c,null)}function la(c,g){c.F=Date.now(),vi(c),c.B=It(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Wn,c.g=qu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new on(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(let G=0;G<z.length;G++){const oe=Ie(v,z[G],A||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),mi(),of(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const g=this.O;g&&ti(c)==3?g.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ti(this.g),Tt=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||De!=4||Tt==7||(Tt==8||Ke<=0?mi(3):mi(2)),Ei(this);var g=this.g.ca();this.X=g;var v=uf(this);if(this.o=g==200,Ru(this.i,this.v,this.B,this.l,this.S,De,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var G=A;break t}}G=null}if(c=G)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,wt(12),An(this),Ln(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=Du(this,v),ht==jt){De==4&&(this.m=4,wt(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,wt(15),yi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,ht,null),Ti(this,ht);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(oe),oe.P=!0,wt(11))}}else yi(this.i,this.l,v,null),Ti(this,v);De==4&&An(this),this.o&&!this.K&&(De==4?Uu(this.j,this):(this.o=!1,vi(this)))}else Yi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),An(this),Ln(this)}}}catch{}};function uf(c){if(!Iu(c))return c.g.la();const g=Kt(c.g);if(g==="")return"";let v="";const A=g.length,z=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Ln(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(z&&G==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Du(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?jt:(v=Number(g.substring(v,A)),isNaN(v)?Rt:(A+=1,A+v>g.length?jt:(g=g.slice(A,A+v),c.C=A+v,g)))}Jn.prototype.cancel=function(){this.K=!0,An(this)};function vi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(y(c.aa,c),g)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(mi(),wt(17)),An(this),this.m=2,Ln(this)):ua(this,this.T-c)};function Ln(c){c.j.I==0||c.K||Uu(c.j,c)}function An(c){Ei(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Mo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ti(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ai(v.h,c))){if(!c.L&&Ai(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Cr(v);else break e;Ms(v),wt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((c.L||v.g==c)&&ya(v),!D(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Ke=z[g];const ht=Ke[0];if(!(ht<=v.K))if(v.K=ht,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const zn=Ke[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ni=Ke[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ni=Ke[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ii=c.g;if(ii){const xs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var G=A.h;G.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Po(G,G.h),G.h=null))}if(A.G){const _a=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Xe(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var oe=c;if(A.na=Bu(A,A.L?A.ba:null,A.W),oe.L){Uo(A.h,oe);var De=oe,Tt=A.O;Tt&&(De.H=Tt),De.D&&(Ei(De),vi(De)),A.g=oe}else Lu(A);v.i.length>0&&Ii(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Di(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Di(v,7):Yo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}mi(4)}catch{}}var Ct=class{constructor(c,g){this.g=c,this.map=g}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Po(c,g){c.g?c.g.add(g):c.h=g}function Uo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,G=null;A>=0?(z=c[v].substring(0,A),G=c[v].substring(A+1)):z=c[v],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof bn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,jo(this,Vu(c.i)),this.m=c.m):c&&(g=String(c).match(Nu))?(this.l=!1,Bt(this,g[1]||"",!0),this.o=bi(g[2]||""),this.g=bi(g[3]||"",!0),Er(this,g[4]),this.h=bi(g[5]||"",!0),jo(this,g[6]||"",!0),this.m=bi(g[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}bn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Rs(g,ha,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Rs(g,ha,!0),"@"),c.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Bo:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Mu)),c.join("")},bn.prototype.resolve=function(c){const g=It(this);let v=!!c.j;v?Bt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Er(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let oe=0;oe<z.length;){const De=z[oe++];De=="."?A&&oe==z.length&&G.push(""):De==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&oe==z.length&&G.push("")):(G.push(De),A=!0)}A=G.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?jo(g,Vu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function It(c){return new bn(c)}function Bt(c,g,v){c.j=v?bi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function jo(c,g,v){g instanceof Sr?(c.i=g,da(c.i,c.l)):(v||(g=Rs(g,Tr)),c.i=new Sr(g,c.l))}function Xe(c,g,v){c.i.set(g,v)}function ws(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Ou=/[#\?:]/g,Bo=/[#\?]/g,Tr=/[#\?@]/g,Mu=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,g){dn(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function xu(c,g){dn(c),g=Ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function qo(c,g){return dn(c),g=Ar(c,g),c.g.has(g)}r.forEach=function(c,g){dn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Ho(c,g){dn(c);let v=[];if(typeof g=="string")qo(c,g)&&(v=v.concat(c.g.get(Ar(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return dn(this),this.i=null,c=Ar(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ho(this,c),c.length>0?String(c[0]):g):g};function fa(c,g,v){xu(c,g),v.length>0&&(c.i=null,c.g.set(Ar(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=Gi(v);v=Ho(this,v);for(let G=0;G<v.length;G++){let oe=z;v[G]!==""&&(oe+="="+Gi(v[G])),c.push(oe)}}return this.i=c.join("&")};function Vu(c){const g=new Sr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function da(c,g){g&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(xu(this,A),fa(this,z,v))},c)),c.j=g}function Zn(c,g){const v=new Xn;if(f.Image){const A=new Image;A.onload=E(Pn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Pn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Pn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Pn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Fo(c,g){const v=new Xn,A=new AbortController,z=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Pn(v,"TestPingServer: ok",!0,g):Pn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Pn(v,"TestPingServer: error",!1,g)})}function Pn(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function br(){this.g=new Tu}function wi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(wi,Su),wi.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,g){ot.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Cs,ot),r=Cs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):ei(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Un(c){let g="";return ze(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Is(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Un(v),typeof c=="string"?v!=null&&Gi(v):Xe(c,g,v))}function Ze(c){ot.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,ot);var Ri=/^https?$/i,Go=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ds(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of v)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ds(this,G)}};function Ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ko(c),Ki(c)}function Ko(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),ti(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=G===0){let oe=String(c.D).match(Nu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!Ri.test(oe?oe.toLowerCase():"")}v=A}if(v)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var z=ti(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ko(c)}}finally{Ki(c)}}}}function Ki(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||lt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),af(g)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const g={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=Cu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[z]||[];g[z]=G,G.push(v)}Ge(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Rr(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){wt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Bu(this,null,this.W),Ii(this)};function Yo(c){if(pa(c),c.I==3){var g=c.V++,v=It(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),Os(c,v),g=new Jn(c,c.j,g),g.M=2,g.A=ws(It(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=qu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),vi(g)}ju(c)}function Cr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function pa(c){Cr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!Lo(c.h)&&!c.m){c.m=!0;var g=c.Ea;ce||w(),me||(ce(),me=!0),R.add(g,c),c.D=0}}function ga(c,g){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(y(c.Ea,c,g),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=x(G),ue(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=ku(this,z,g),v=It(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Os(this,v),G&&(this.R?g="headers="+Gi(Un(G))+"&"+g:this.u&&Is(v,this.u,G)),Po(this.h,z),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),z.U=!0,_i(z,v,null)):_i(z,v,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Lo(this.h)||Qo(this))};function Qo(c,g){var v;g?v=g.l:v=c.V++;const A=It(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),Os(c,A),c.u&&c.o&&Is(A,c.u,c.o),v=new Jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=ku(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),_i(v,A,g)}function Os(c,g){c.H&&ze(c.H,function(v,A){Xe(g,A,v)}),c.l&&ze({},function(v,A){Xe(g,A,v)})}function ku(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let De=-1;for(;;){const Tt=["count="+v];De==-1?v>0?(De=z[0].g,Tt.push("ofs="+De)):De=0:Tt.push("ofs="+De);let Ke=!0;for(let ht=0;ht<v;ht++){var G=z[ht].g;const zn=z[ht].map;if(G-=De,G<0)De=Math.max(0,z[ht].g-100),Ke=!1;else try{G="req"+G+"_"||"";try{var oe=zn instanceof Map?zn:Object.entries(zn);for(const[Ni,ni]of oe){let ii=ni;m(ni)&&(ii=vr(ni)),Tt.push(G+Ni+"="+encodeURIComponent(ii))}}catch(Ni){throw Tt.push(G+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(zn)}}if(Ke){oe=Tt.join("&");break e}}oe=void 0}return c=c.i.splice(0,v),g.G=c,oe}function Lu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ce||w(),me||(ce(),me=!0),R.add(g,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(y(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Cr(this),Pu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=It(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),Os(c,g),c.u&&c.o&&Is(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(It(g)),v.u=null,v.R=!0,la(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ms(this),wt(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,g){var v=null;if(c.g==g){ya(c),$o(c),c.g=null;var A=2}else if(Ai(c.h,g))v=g.G,Uo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=oa(),lt(A,new pi(A,v)),Ii(c)}else Lu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&ga(c,g)||A==2&&Ms(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function zu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Di(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(A,"https"),ws(A),z?Zn(A.toString(),v):Fo(A.toString(),v)}else wt(2);c.I=0,c.l&&c.l.pa(g),ju(c),pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const g=zo(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ja,g),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Bu(c,g,v){var A=v instanceof bn?It(v):new bn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Er(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new bn(null);A&&Bt(G,A),g&&(G.g=g),z&&Er(G,z),v&&(G.h=v),A=G}return v=c.G,g=c.wa,v&&g&&Xe(A,v,g),Xe(A,"VER",c.ka),Os(c,A),A}function qu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new wi({ab:v})):new Ze(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){ot.call(this),this.g=new Rr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Qi(this)}T(ln,ot),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Yo(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);g.i.push(new Ct(g.Ya++,c)),g.I==3&&Ii(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,ln.Z.N.call(this)};function Fu(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Fu,Gt);function Gu(){kn.call(this),this.status=1}T(Gu,kn);function Qi(c){this.g=c}T(Qi,Hu),Qi.prototype.ra=function(){lt(this.g,"a")},Qi.prototype.qa=function(c){lt(this.g,new Fu(c))},Qi.prototype.pa=function(c){lt(this.g,new Gu)},Qi.prototype.oa=function(){lt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,L0=function(){return new Ir},k0=function(){return oa()},V0=Et,Vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,ch=As,xo.COMPLETE="complete",x0=xo,Au.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ot.prototype.listen=ot.prototype.J,zl=Au,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,M0=Ze}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Ro="12.8.0";function RD(r){Ro=r}const ea=new up("@firebase/firestore");function Qa(){return ea.logLevel}function de(r,...e){if(ea.logLevel<=Le.DEBUG){const n=e.map(Ep);ea.debug(`Firestore (${Ro}): ${r}`,...n)}}function gr(r,...e){if(ea.logLevel<=Le.ERROR){const n=e.map(Ep);ea.error(`Firestore (${Ro}): ${r}`,...n)}}function co(r,...e){if(ea.logLevel<=Le.WARN){const n=e.map(Ep);ea.warn(`Firestore (${Ro}): ${r}`,...n)}}function Ep(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,P0(r,s,n)}function P0(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||P0(e,o,s)}function Ce(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class U0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class ID{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DD{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ls,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ls)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new U0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class ND{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function km(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return vm(o)===vm(u)?Pe(o,u):vm(o)?1:-1}return Pe(r.length,e.length)}const VD=55296,kD=57343;function vm(r){const e=r.charCodeAt(0);return e>=VD&&e<=kD}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const _E="__name__";class Li{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Li.isNumericId(e),o=Li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Li.extractNumericId(e).compare(Li.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class at extends Li{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const LD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Li{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return LD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Wt([_E])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function z0(r,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PD(r,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vE(r){if(!ve.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){if(ve.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function j0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function ta(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!j0(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}const TE=-62135596800,SE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*SE);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:kt("string",Be._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Be(0,0))}static max(){return new we(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function UD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new cs(o,ve.empty(),e)}function zD(r){return new cs(r.readTime,r.key,Wl)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(we.min(),ve.empty(),Wl)}static max(){return new cs(we.max(),ve.empty(),Wl)}}function jD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const BD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==BD)throw r;de("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function HD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;const Sp=-1;function Kh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function FD(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const B0="";function GD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=AE(e)),e=KD(r.get(n),e);return AE(e)}function KD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case B0:n+="";break;default:n+=u}}return n}function AE(r){return r+B0+""}function bE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function _s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function q0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Ut(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class H0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new H0("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const YD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=YD.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}const F0="server_timestamp",G0="__type__",K0="__previous_value__",Y0="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[G0]?.stringValue===F0}function Yh(r){const e=r.mapValue.fields[K0];return Ap(e)?Yh(e):e}function Zl(r){const e=hs(r.mapValue.fields[Y0].timestampValue);return new Be(e.seconds,e.nanos)}class QD{constructor(e,n,s,o,u,f,m,p,y,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=T}}const Ch="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}function $D(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(r.options.projectId,e)}const Q0="__type__",XD="__max__",Zc={mapValue:{}},$0="__vector__",Ih="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:WD(r)?9007199254740991:JD(r)?10:11:be(28295,{value:r})}function Hi(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bE(f)!==bE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Hi(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function tu(r,e){return(r.values||[]).find((n=>Hi(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(Zl(r),Zl(e));case 5:return km(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Pe(m[y],p[y]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(bt(u.latitude),bt(f.latitude));return m!==0?m:Pe(bt(u.longitude),bt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Ih]?.arrayValue,E=p[Ih]?.arrayValue,T=Pe(y?.values?.length||0,E?.values?.length||0);return T!==0?T:CE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=km(p[T],E[T]);if(b!==0)return b;const k=fo(m[p[T]],y[E[T]]);if(k!==0)return k}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=hs(r),s=hs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function CE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function mo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function hh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(r);return e?16+hh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+hh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,f)=>{o+=u.length+hh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function IE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function bp(r){return!!r&&"arrayValue"in r}function DE(r){return!!r&&"nullValue"in r}function NE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function JD(r){return(r?.mapValue?.fields||{})[Q0]?.stringValue===$0}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return{...r}}function WD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XD}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(Fl(this.value))}}function X0(r){const e=[];return _s(r.fields,((n,s)=>{const o=new Wt([n]);if(fh(s)){const u=X0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Mn(e)}class sn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ME(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hi(r.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class J0{}class Vt extends J0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new t2(e,n,s):n==="array-contains"?new r2(e,s):n==="in"?new s2(e,s):n==="not-in"?new a2(e,s):n==="array-contains-any"?new o2(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new n2(e,s):new i2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends J0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return W0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W0(r){return r.op==="and"}function Z0(r){return e2(r)&&W0(r)}function e2(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function Um(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(Z0(r))return r.filters.map((e=>Um(e))).join(",");{const e=r.filters.map((n=>Um(n))).join(",");return`${r.op}(${e})`}}function eS(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)})(r,e):r instanceof di?(function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&eS(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function tS(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(tS).join(" ,")+"}"})(r):"Filter"}class t2 extends Vt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class n2 extends Vt{constructor(e,n){super(e,"in",n),this.keys=nS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class i2 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=nS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nS(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class r2 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&tu(n.arrayValue,this.value)}}class s2 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class a2 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class o2 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}class l2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function xE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new l2(r,e,n,s,o,u,f)}function wp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=n}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ME(r.startAt,e.startAt)&&ME(r.endAt,e.endAt)}function zm(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function u2(r,e,n,s,o,u,f,m){return new Do(r,e,n,s,o,u,f,m)}function iS(r){return new Do(r)}function VE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function c2(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function rS(r){return r.collectionGroup!==null}function Gl(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Wt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new nu(Wt.keyField(),s))}return e.Ie}function ji(r){const e=Ce(r);return e.Ee||(e.Ee=h2(e,Gl(r))),e.Ee}function h2(r,e){if(r.limitType==="F")return xE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nu(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return xE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function jm(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function f2(r,e){const n=r.explicitOrderBy.concat([e]);return new Do(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Qh(r,e){return Rp(ji(r),ji(e))&&r.limitType===e.limitType}function sS(r){return`${wp(ji(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tS(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(ji(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=OE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const y=OE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Gl(s),o))})(r,e)}function d2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function aS(r){return(e,n)=>{let s=!1;for(const o of Gl(r)){const u=m2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function m2(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?fo(p,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}const p2=new mt(ve.comparator);function yr(){return p2}const oS=new mt(ve.comparator);function jl(...r){let e=oS;for(const n of r)e=e.insert(n.key,n);return e}function lS(r){let e=oS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Kl()}function uS(){return Kl()}function Kl(){return new ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const g2=new mt(ve.comparator),y2=new Ut(ve.comparator);function Ue(...r){let e=y2;for(const n of r)e=e.add(n);return e}const _2=new Ut(Pe);function v2(){return _2}function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function cS(r){return{integerValue:""+r}}function E2(r,e){return FD(e)?cS(e):Cp(r,e)}class Xh{constructor(){this._=void 0}}function T2(r,e,n){return r instanceof Nh?(function(o,u){const f={fields:{[G0]:{stringValue:F0},[Y0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Yh(u)),u&&(f.fields[K0]=u),{mapValue:f}})(n,e):r instanceof iu?fS(r,e):r instanceof ru?dS(r,e):(function(o,u){const f=hS(o,u),m=kE(f)+kE(o.Ae);return Pm(f)&&Pm(o.Ae)?cS(m):Cp(o.serializer,m)})(r,e)}function S2(r,e,n){return r instanceof iu?fS(r,e):r instanceof ru?dS(r,e):n}function hS(r,e){return r instanceof Oh?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Nh extends Xh{}class iu extends Xh{constructor(e){super(),this.elements=e}}function fS(r,e){const n=mS(e);for(const s of r.elements)n.some((o=>Hi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends Xh{constructor(e){super(),this.elements=e}}function dS(r,e){let n=mS(e);for(const s of r.elements)n=n.filter((o=>!Hi(o,s)));return{arrayValue:{values:n}}}class Oh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kE(r){return bt(r.integerValue||r.doubleValue)}function mS(r){return bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function A2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?ho(s.elements,o.elements,Hi):s instanceof Oh&&o instanceof Oh?Hi(s.Ae,o.Ae):s instanceof Nh&&o instanceof Nh})(r.transform,e.transform)}class b2{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jh{}function pS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ip(r.key,ui.none()):new mu(r.key,r.data,ui.none());{const n=r.data,s=En.empty();let o=new Ut(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new Mn(o.toArray()),ui.none())}}function w2(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),p=PE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof vs?(function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=PE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(gS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Yl(r,e,n,s){return r instanceof mu?(function(u,f,m,p){if(!dh(u.precondition,f))return m;const y=u.value.clone(),E=UE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof vs?(function(u,f,m,p){if(!dh(u.precondition,f))return m;const y=UE(u.fieldTransforms,p,f),E=f.data;return E.setAll(gS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function R2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=hS(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function LE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>A2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function PE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,S2(f,m,n[o]))}return s}function UE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,T2(u,f,e))}return s}class Ip extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C2 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&w2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=pS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>LE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>LE(n,s)))}}class Dp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return g2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(e,n,s,o)}}class D2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N2{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,qe;function O2(r){switch(r){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function yS(r){if(r===void 0)return gr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case xt.OK:return ee.OK;case xt.CANCELLED:return ee.CANCELLED;case xt.UNKNOWN:return ee.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ee.INTERNAL;case xt.UNAVAILABLE:return ee.UNAVAILABLE;case xt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case xt.NOT_FOUND:return ee.NOT_FOUND;case xt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case xt.ABORTED:return ee.ABORTED;case xt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case xt.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:r})}}(qe=xt||(xt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function M2(){return new TextEncoder}const x2=new os([4294967295,4294967295],0);function zE(r){const e=M2().encode(r),n=new O0;return n.update(e),new Uint8Array(n.digest())}function jE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Np{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(x2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Np(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=zE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(we.min(),o,new mt(Pe),yr(),Ue())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Ue(),Ue(),Ue())}}class mh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class _S{constructor(e,n){this.targetId=e,this.Ce=n}}class vS{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class BE{constructor(){this.ve=0,this.Fe=qE(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=qE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class V2{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=eh(),this.Je=eh(),this.Ze=new mt(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new ve(u.path);this.et(n,f,sn.newNoDocument(f,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof H0)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Np(f,o,u)}catch(p){return co(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const p=new ve(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,sn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Ue();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Wh(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=eh(),this.Je=eh(),this.Ze=new mt(Pe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new BE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eh(){return new mt(ve.comparator)}function qE(){return new mt(ve.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P2={and:"AND",or:"OR"};class U2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(r,e){return r.useProto3Json||Kh(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ES(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function z2(r,e){return Mh(r,e.toTimestamp())}function Bi(r){return Qe(!!r,49232),we.fromTimestamp((function(n){const s=hs(n);return new Be(s.seconds,s.nanos)})(r))}function Op(r,e){return Hm(r,e).canonicalString()}function Hm(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function TS(r){const e=at.fromString(r);return Qe(RS(e),10190,{key:e.toString()}),e}function Fm(r,e){return Op(r.databaseId,e.path)}function Em(r,e){const n=TS(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(AS(n))}function SS(r,e){return Op(r.databaseId,e)}function j2(r){const e=TS(r);return e.length===4?at.emptyPath():AS(e)}function Gm(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AS(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function HE(r,e,n){return{name:Fm(r,e),fields:n.value.mapValue.fields}}function B2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Zt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Zt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ee.UNKNOWN:yS(y.code);return new he(E,y.message||"")})(f);n=new vS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Em(r,s.document.name),u=Bi(s.document.updateTime),f=s.document.createTime?Bi(s.document.createTime):we.min(),m=new En({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Em(r,s.document),u=s.readTime?Bi(s.readTime):we.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Em(r,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new N2(o,u),m=s.targetId;n=new _S(m,f)}}return n}function q2(r,e){let n;if(e instanceof mu)n={update:HE(r,e.key,e.value)};else if(e instanceof Ip)n={delete:Fm(r,e.key)};else if(e instanceof vs)n={update:HE(r,e.key,e.data),updateMask:J2(e.fieldMask)};else{if(!(e instanceof C2))return be(16599,{dt:e.type});n={verify:Fm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:z2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function H2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Bi(o.updateTime):Bi(u);return f.isEqual(we.min())&&(f=Bi(u)),new b2(f,o.transformResults||[])})(n,e)))):[]}function F2(r,e){return{documents:[SS(r,e.path)]}}function G2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SS(r,o);const u=(function(y){if(y.length!==0)return wS(di.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Xa(b.field),direction:Q2(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function K2(r){let e=j2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=bS(T);return b instanceof di&&Z0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(F){return new nu(Ja(F.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Kh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,k=T.values||[];return new Dh(k,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const b=!T.before,k=T.values||[];return new Dh(k,b)})(n.endAt)),u2(e,o,f,u,m,"F",p,y)}function Y2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((s=>bS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function Q2(r){return k2[r]}function $2(r){return L2[r]}function X2(r){return P2[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Wt.fromServerFormat(r.fieldPath)}function wS(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:$2(n.op),value:n.value}}})(r):r instanceof di?(function(n){const s=n.getFilters().map((o=>wS(o)));return s.length===1?s[0]:{compositeFilter:{op:X2(n.op),filters:s}}})(r):be(54877,{filter:r})}function J2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function RS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function CS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W2{constructor(e){this.yt=e}}function Z2(r){const e=K2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}class eN{constructor(){this.Sn=new tN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(cs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class tN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(at.comparator)).toArray()}}const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IS=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(IS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class po{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new po(0)}static ar(){return new po(-1)}}const GE="LruGarbageCollector",nN=1048576;function KE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class iN{constructor(e){this.Pr=e,this.buffer=new Ut(KE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(GE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?de(GE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class sN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Gh.ce);const s=new iN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(FE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Qa()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function aN(r,e){return new sN(r,e)}class oN{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Yl(s.mutation,o,Mn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=yr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Yl(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new lN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Kl();let o=new mt(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Mn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=uS();E.forEach((b=>{if(!u.has(b)){const k=pS(n.get(b),s.get(b));k!==null&&T.set(b,k),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return c2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Xs());let m=Wl,p=u;return f.next((y=>ne.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ue()))).next((E=>({batchId:m,changes:lS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const y=(function(T,b){return new Do(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))}));let m=jl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Yl(E.mutation,y,Mn.empty(),Be.now()),$h(n,y)&&(m=m.insert(p,y))})),m}))}}class cN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),ne.resolve()}}class hN{constructor(){this.overlays=new mt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Xs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new D2(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class fN{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Mp{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new at([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new at([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Ue();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class dN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new I2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Sp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Pe);return n.forEach((o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new ve(u),0);let m=new Ut(Pe);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mN{constructor(e){this.ti=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||jD(zD(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new pN(this)}getSize(e){return ne.resolve(this.size)}}class pN extends oN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class gN{constructor(e){this.persistence=e,this.ri=new ra((n=>wp(n)),Rp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Mp,this.targetCount=0,this.oi=po._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new po(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class DS{constructor(e,n){this._i={},this.overlays={},this.ai=new Gh(0),this.ui=!1,this.ui=!0,this.ci=new fN,this.referenceDelegate=e(this),this.li=new gN(this),this.indexManager=new eN,this.remoteDocumentCache=(function(o){return new mN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new W2(n),this.Pi=new cN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new dN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new yN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class yN extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Ai=null}static Vi(e){return new xp(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.fi=new ra((s=>GD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aN(this,n)}static Vi(e,n){return new xh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Y1()?8:HD(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new _N;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Qa()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(Qa()<=Le.DEBUG&&de("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Qa()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ne.resolve())}gs(e,n){if(VE(n))return ne.resolve(null);let s=ji(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,Bm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,o){return VE(n)||o.isEqual(we.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ne.resolve(null):(Qa()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.Ds(e,f,n,UD(o,Wl)).next((m=>m)))}))}bs(e,n){let s=new Ut(aS(e));return n.forEach(((o,u)=>{$h(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Qa()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",$a(n)),this.fs.getDocumentsMatchingQuery(e,n,cs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const kp="LocalStore",EN=3e8;class TN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Pe),this.Fs=new ra((u=>wp(u)),Rp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SN(r,e,n,s){return new TN(r,e,n,s)}async function NS(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ue();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function AN(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,b=T.keys();let k=ne.resolve();return b.forEach((F=>{k=k.next((()=>E.getEntry(p,F))).next((K=>{const Q=y.docVersions.get(F);Qe(Q!==null,48541),K.version.compareTo(Q)<0&&(T.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function OS(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function bN(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let k=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(K,Q,te){return K.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=EN?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(b,k,E)&&m.push(n.li.updateTargetData(u,k))}));let p=yr(),y=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(wN(u,f,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(we.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function wN(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=yr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(kp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function RN(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CN(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Km(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;de(kp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function YE(r,e,n){const s=Ce(r);let o=we.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Ce(p),b=T.Fs.get(E);return b!==void 0?ne.resolve(T.vs.get(b)):T.li.getTargetData(y,E)})(s,f,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ue()))).next((m=>(IN(s,d2(e),m),{documents:m,ks:u})))))}function IN(r,e,n){let s=r.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class QE{constructor(){this.activeTargetIds=v2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.vo=new QE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new QE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NN{Mo(e){}shutdown(){}}const $E="ConnectivityMonitor";class XE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de($E,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let th=null;function Ym(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}const Tm="RestConnection",ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class MN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Ym(),m=this.Qo(e,n.toUriEncodedString());de(Tm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=So(y);return this.zo(e,m,p,s,E).then((T=>(de(Tm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw co(Tm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=ON[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class xN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",kl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class no extends MN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=k0();kl(e,V0.STAT_EVENT,(n=>{n.stat===Vm.PROXY?de(nn,"STAT_EVENT: detected buffering proxy"):n.stat===Vm.NOPROXY&&de(nn,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,n,s,o,u){const f=Ym();return new Promise(((m,p)=>{const y=new M0;y.setWithCredentials(!0),y.listenOnce(x0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ch.NO_ERROR:const T=y.getResponseJson();de(nn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case ch.TIMEOUT:de(nn,`RPC '${e}' ${f} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const b=y.getStatus();if(de(nn,`RPC '${e}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const K=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})(F.status);p(new he(K,F.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(nn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);de(nn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Ym(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");de(nn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let T=!1,b=!1;const k=new xN({Ho:F=>{b?de(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(de(nn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),de(nn,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Jo:()=>E.close()});return kl(E,zl.EventType.OPEN,(()=>{b||(de(nn,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),kl(E,zl.EventType.CLOSE,(()=>{b||(b=!0,de(nn,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),kl(E,zl.EventType.ERROR,(F=>{b||(b=!0,co(nn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),k.o_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),kl(E,zl.EventType.MESSAGE,(F=>{if(!b){const K=F.data[0];Qe(!!K,16349);const Q=K,te=Q?.error||Q[0]?.error;if(te){de(nn,`RPC '${e}' stream ${o} received error:`,te);const ie=te.status;let ae=(function(me){const R=xt[me];if(R!==void 0)return yS(R)})(ie),re=te.message;ae===void 0&&(ae=ee.INTERNAL,re="Unknown error status: "+ie+" with message "+te.message),b=!0,k.o_(new he(ae,re)),E.close()}else de(nn,`RPC '${e}' stream ${o} received:`,K),k.__(K)}})),no.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return L0()}}function VN(r){return new no(r)}function Sm(){return typeof document<"u"?document:null}function Zh(r){return new U2(r,!0)}no.c_=!1;class MS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const JE="PersistentStream";class xS{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kN extends xS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Bi(f.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Gm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=zm(p)?{documents:F2(u,p)}:{query:G2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ES(u,f.resumeToken);const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=Y2(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.K_(n)}}class LN extends xS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H2(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Gm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>q2(this.serializer,s)))};this.K_(n)}}class PN{}class UN extends PN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Hm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Hm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zN(r,e,n,s){return new UN(r,e,n,s)}class jN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class BN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(de(na,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ea.add(4),await gu(y),y.Va.set("Unknown"),y.Ea.delete(4),await ef(y)})(this))}))})),this.Va=new jN(s,o)}}async function ef(r){if(sa(r))for(const e of r.Ra)await e(!0)}async function gu(r){for(const e of r.Ra)await e(!1)}function VS(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):No(n).O_()&&Pp(n,e))}function Lp(r,e){const n=Ce(r),s=No(n);n.Ia.delete(e),s.O_()&&kS(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Va.set("Unknown"))}function Pp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Z_(e)}function kS(r,e){r.da.$e(e),No(r).X_(e)}function Up(r){r.da=new V2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Va.ua()}function zp(r){return sa(r)&&!No(r).x_()&&r.Ia.size>0}function sa(r){return Ce(r).Ea.size===0}function LS(r){r.da=void 0}async function qN(r){r.Va.set("Online")}async function HN(r){r.Ia.forEach(((e,n)=>{Pp(r,e)}))}async function FN(r,e){LS(r),zp(r)?(r.Va.ha(e),Up(r)):r.Va.set("Unknown")}async function GN(r,e,n){if(r.Va.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(r,s)}else if(e instanceof mh?r.da.Xe(e):e instanceof _S?r.da.st(e):r.da.tt(e),!n.isEqual(we.min()))try{const s=await OS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),kS(u,p);const T=new ns(E.target,p,y,E.sequenceNumber);Pp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(na,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await gu(r),r.Va.set("Offline"),n||(n=()=>OS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function PS(r,e){return e().catch((n=>Vh(r,n,e)))}async function tf(r){const e=Ce(r),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;KN(e);)try{const o=await RN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,YN(e,o)}catch(o){await Vh(e,o)}US(e)&&zS(e)}function KN(r){return sa(r)&&r.Ta.length<10}function YN(r,e){r.Ta.push(e);const n=ms(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function US(r){return sa(r)&&!ms(r).x_()&&r.Ta.length>0}function zS(r){ms(r).start()}async function QN(r){ms(r).ra()}async function $N(r){const e=ms(r);for(const n of r.Ta)e.ea(n.mutations)}async function XN(r,e,n){const s=r.Ta.shift(),o=Dp.from(s,e,n);await PS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tf(r)}async function JN(r,e){e&&ms(r).Y_&&await(async function(s,o){if((function(f){return O2(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await PS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(s)}})(r,e),US(r)&&zS(r)}async function WE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),de(na,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await gu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function WN(r,e){const n=Ce(r);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await gu(n),n.Va.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new kN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:qN.bind(null,r),Yo:HN.bind(null,r),t_:FN.bind(null,r),J_:GN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Va.set("Unknown")):(await r.ma.stop(),LS(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new LN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QN.bind(null,r),t_:JN.bind(null,r),ta:$N.bind(null,r),na:XN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await tf(r)):(await r.fa.stop(),r.Ta.length>0&&(de(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Io(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ZE{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class ZN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eO{constructor(){this.queries=eT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=eT(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function eT(){return new ra((r=>sS(r)),Qh)}async function tO(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new ZN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&qp(n)}async function nO(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iO(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&qp(n)}function rO(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function qp(r){r.Ca.forEach((e=>{e.next()}))}var Qm,tT;(tT=Qm||(Qm={})).Ma="default",tT.Cache="cache";class sO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class jS{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class aO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=aS(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new ZE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),k=$h(this.query,T)?T:null,F=!!b&&this.mutatedKeys.has(b.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Q=!1;b&&k?b.data.isEqual(k.data)?F!==K&&(s.track({type:3,doc:k}),Q=!0):this.su(b,k)||(s.track({type:2,doc:k}),Q=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!b&&k?(s.track({type:0,doc:k}),Q=!0):b&&!k&&(s.track({type:1,doc:b}),Q=!0,(p||y)&&(m=!0)),Q&&(k?(f=f.add(k),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,F){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:Q})}};return K(k)-K(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new go(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new BS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new jS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hp="SyncEngine";class oO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lO{constructor(e){this.key=e,this.hu=!1}}class uO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra((m=>sS(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ve.comparator),this.Au=new Map,this.Vu=new Mp,this.du={},this.mu=new Map,this.fu=po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(r,e,n=!0){const s=YS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qS(s,e,n,!0),o}async function hO(r,e){const n=YS(r);await qS(n,e,!0,!1)}async function qS(r,e,n,s){const o=await CN(r.localStore,ji(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await fO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&VS(r.remoteStore,o),m}async function fO(r,e,n,s,o){r.pu=(T,b,k)=>(async function(K,Q,te,ie){let ae=Q.view.ru(te);ae.Ss&&(ae=await YE(K.localStore,Q.query,!1).then((({documents:R})=>Q.view.ru(R,ae))));const re=ie&&ie.targetChanges.get(Q.targetId),ce=ie&&ie.targetMismatches.get(Q.targetId)!=null,me=Q.view.applyChanges(ae,K.isPrimaryClient,re,ce);return iT(K,Q.targetId,me.au),me.snapshot})(r,T,b,k);const u=await YE(r.localStore,e,!0),f=new aO(e,u.ks),m=f.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);iT(r,n,y.au);const E=new oO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function dO(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),$m(s,o.targetId)})).catch(Co)):($m(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function mO(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function pO(r,e,n){const s=SO(r);try{const o=await(function(f,m){const p=Ce(f),y=Be.now(),E=m.reduce(((k,F)=>k.add(F.key)),Ue());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=yr(),K=Ue();return p.xs.getEntries(k,E).next((Q=>{F=Q,F.forEach(((te,ie)=>{ie.isValidDocument()||(K=K.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,F))).next((Q=>{T=Q;const te=[];for(const ie of m){const ae=R2(ie,T.get(ie.key).overlayedDocument);ae!=null&&te.push(new vs(ie.key,ae,X0(ae.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,te,m)})).next((Q=>{b=Q;const te=Q.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(k,Q.batchId,te)}))})).then((()=>({batchId:b.batchId,changes:lS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new mt(Pe)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await yu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function HS(r,e){const n=Ce(r);try{const s=await bN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await Co(s)}}function nT(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ce(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const b of T.ba)b.va(m)&&(y=!0)})),y&&qp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new mt(ve.comparator);f=f.insert(u,sn.newNoDocument(u,we.min()));const m=Ue().add(u),p=new Wh(we.min(),new Map,new mt(Pe),f,m);await HS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Fp(s)}else await Km(s.localStore,e,!1).then((()=>$m(s,e,n))).catch(Co)}async function yO(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await AN(n.localStore,e);GS(n,s,null),FS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await Co(o)}}async function _O(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);GS(s,e,n),FS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await Co(o)}}function FS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function GS(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||KS(r,s)}))}function KS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Lp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Fp(r))}function iT(r,e,n){for(const s of n)s instanceof jS?(r.Vu.addReference(s.key,e),vO(r,s)):s instanceof BS?(de(Hp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||KS(r,s.key)):be(19791,{wu:s})}function vO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(Hp,"New document in limbo: "+n),r.Eu.add(s),Fp(r))}function Fp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(at.fromString(e)),s=r.fu.next();r.Au.set(s,new lO(n)),r.Ru=r.Ru.insert(n,s),VS(r.remoteStore,new ns(ji(iS(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function yu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Vp.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(y,(b=>ne.forEach(b.Ts,(k=>E.persistence.referenceDelegate.addReference(T,b.targetId,k))).next((()=>ne.forEach(b.Is,(k=>E.persistence.referenceDelegate.removeReference(T,b.targetId,k)))))))))}catch(T){if(!Io(T))throw T;de(kp,"Failed to update sequence numbers: "+T)}for(const T of y){const b=T.targetId;if(!T.fromCache){const k=E.vs.get(b),F=k.snapshotVersion,K=k.withLastLimboFreeSnapshotVersion(F);E.vs=E.vs.insert(b,K)}}})(s.localStore,u))}async function EO(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){de(Hp,"User change. New user:",e.toKey());const s=await NS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ns)}}function TO(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function YS(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.J_=iO.bind(null,e.eventManager),e.Pu.yu=rO.bind(null,e.eventManager),e}function SO(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SN(this.persistence,new vN,e.initialUser,this.serializer)}Cu(e){return new DS(xp.Vi,this.serializer)}Du(e){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class AO extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new DS((s=>xh.Vi(s,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await WN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eO})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=VN(e.databaseInfo);return zN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new BN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nT(this.syncEngine,n,0)),(function(){return XE.v()?new XE:new NN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new uO(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);de(na,"RemoteStore shutting down."),s.Ea.add(5),await gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class bO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ps="FirestoreClient";class wO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{de(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(de(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Am(r,e){r.asyncQueue.verifyOperationInProgress(),de(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await NS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await RO(r);de(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>WE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>WE(e.remoteStore,o))),r._onlineComponents=e}async function RO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(ps,"Using user provided OfflineComponentProvider");try{await Am(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Am(r,new kh)}}else de(ps,"Using default OfflineComponentProvider"),await Am(r,new AO(void 0));return r._offlineComponents}async function QS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(ps,"Using user provided OnlineComponentProvider"),await rT(r,r._uninitializedComponentsProvider._online)):(de(ps,"Using default OnlineComponentProvider"),await rT(r,new Xm))),r._onlineComponents}function CO(r){return QS(r).then((e=>e.syncEngine))}async function IO(r){const e=await QS(r),n=e.eventManager;return n.onListen=cO.bind(null,e.syncEngine),n.onUnlisten=dO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),n}function DO(r,e,n={}){const s=new ls;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new bO({next:b=>{E.Nu(),f.enqueueAndForget((()=>nO(u,T))),b.fromCache&&p.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new sO(m,E,{includeMetadataChanges:!0,Ka:!0});return tO(u,T)})(await IO(r),r.asyncQueue,e,n,s))),s.promise}function NO(r,e){const n=new ls;return r.asyncQueue.enqueueAndForget((async()=>pO(await CO(r),e,n))),n.promise}function $S(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const OO="ComponentProvider",sT=new Map;function MO(r,e,n,s,o){return new QD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,$S(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const XS="firestore.googleapis.com",aT=!0;class oT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=aT}else this.host=e.host,this.ssl=e.ssl??aT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CD;switch(s.type){case"firstParty":return new OD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sT.get(n);s&&(de(OO,"Removing Datastore"),sT.delete(n),s.terminate())})(this),Promise.resolve()}}function xO(r,e,n,s={}){r=ta(r,nf);const o=So(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(FT(`https://${m}`),GT("Firestore",!0)),u.host!==XS&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=rn.MOCK_USER;else{y=U1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(T)}r._authCredentials=new ID(new U0(y,E))}}class aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,Pt._jsonSchema))return new Pt(e,s||null,new ve(at.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:kt("string",Pt._jsonSchemaVersion),referencePath:kt("string")};class us extends aa{constructor(e,n,s){super(e,n,iS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ve(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Pi(r,e,...n){if(r=Ft(r),z0("collection","path",e),r instanceof nf){const s=at.fromString(e,...n);return EE(s),new us(r,null,s)}{if(!(r instanceof Pt||r instanceof us))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return EE(s),new us(r.firestore,null,s)}}function ro(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=Tp.newId()),z0("doc","path",e),r instanceof nf){const s=at.fromString(e,...n);return vE(s),new Pt(r,null,new ve(s))}{if(!(r instanceof Pt||r instanceof us))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return vE(s),new Pt(r.firestore,r instanceof us?r.converter:null,new ve(s))}}const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MS(this,"async_queue_retry"),this._c=()=>{const s=Sm();s&&de(lT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;de(lT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",cT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _u extends nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function VO(r,e){const n=typeof r=="object"?r:$T(),s=typeof r=="string"?r:Ch,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=L1("firestore");u&&xO(o,...u)}return o}function JS(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kO(r),r._firestoreClient}function kO(r){const e=r._freezeSettings(),n=MO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new wO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Zt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:kt("string",Qn._jsonSchemaVersion),bytes:kt("string")};class Gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._methodName=e}}class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(du(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:kt("string",qi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class ci{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ci(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:kt("string",ci._jsonSchemaVersion),vectorValues:kt("object")};const LO=/^__.*__$/;class PO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class WS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:r})}}class Yp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Lh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ZS(this.dataSource)&&LO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}createContext(e,n,s,o=!1){return new Yp({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qp(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new UO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function zO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);$p("Data must be an object, but it was:",f,s);const m=eA(s,f);let p,y;if(u.merge)p=new Mn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=yo(e,T,n);if(!f.contains(b))throw new he(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);iA(E,b)||E.push(b)}p=new Mn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new PO(new En(m),p,y)}class rf extends Kp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function jO(r,e,n,s){const o=r.createContext(1,e,n);$p("Data must be an object, but it was:",o,s);const u=[],f=En.empty();_s(s,((p,y)=>{const E=nA(e,p,n);y=Ft(y);const T=o.childContextForFieldPath(E);if(y instanceof rf)u.push(E);else{const b=vu(y,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Mn(u);return new WS(f,m,o.fieldTransforms)}function BO(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[yo(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(yo(e,u[b])),p.push(u[b+1]);const y=[],E=En.empty();for(let b=m.length-1;b>=0;--b)if(!iA(y,m[b])){const k=m[b];let F=p[b];F=Ft(F);const K=f.childContextForFieldPath(k);if(F instanceof rf)y.push(k);else{const Q=vu(F,K);Q!=null&&(y.push(k),E.set(k,Q))}}const T=new Mn(y);return new WS(E,T,f.fieldTransforms)}function qO(r,e,n,s=!1){return vu(n,r.createContext(s?4:3,e))}function vu(r,e){if(tA(r=Ft(r)))return $p("Unsupported field value:",e,r),eA(r,e);if(r instanceof Kp)return(function(s,o){if(!ZS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=vu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return E2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:ES(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ci)return(function(f,m){const p=f instanceof ci?f.toArray():f;return{mapValue:{fields:{[Q0]:{stringValue:$0},[Ih]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Cp(m.serializer,E)}))}}}}}})(s,o);if(CS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Fh(s)}`)})(r,e)}function eA(r,e){const n={};return q0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,((s,o)=>{const u=vu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function tA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof qi||r instanceof Qn||r instanceof Pt||r instanceof Kp||r instanceof ci||CS(r))}function $p(r,e,n){if(!tA(n)||!j0(n)){const s=Fh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function yo(r,e,n){if((e=Ft(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return nA(r,e);throw Lh("Field path arguments must be of type string or ",r,!1,void 0,n)}const HO=new RegExp("[~\\*/\\[\\]]");function nA(r,e,n){if(e.search(HO)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gp(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Lh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+r+p)}function iA(r,e){return r.some((n=>n.isEqual(e)))}class FO{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new ci(n)}convertGeoPoint(e){return new qi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Qe(RS(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class GO extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}const hT="@firebase/firestore",fT="4.10.0";class rA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KO extends rA{data(){return super.data()}}function YO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class sA extends Xp{}function QO(r,e,...n){let s=[];e instanceof Xp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Wp)).length,m=u.filter((p=>p instanceof Jp)).length;if(f>1||f>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jp extends sA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jp(e,n,s)}_apply(e){const n=this._parse(e);return aA(e._query,n),new aa(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=Qp(e.firestore);return(function(u,f,m,p,y,E,T){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){mT(T,E);const F=[];for(const K of T)F.push(dT(p,u,K));b={arrayValue:{values:F}}}else b=dT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||mT(T,E),b=qO(m,f,T,E==="in"||E==="not-in");return Vt.create(y,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)aA(f,p),f=jm(f,p)})(e._query,n),new aa(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends sA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,f2(e._query,n))}}function $O(r,e="asc"){const n=e,s=yo("orderBy",r);return Zp._create(s,n)}function dT(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IE(r,new ve(s))}if(n instanceof Pt)return IE(r,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function mT(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class nh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends rA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:kt("string",so._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class ph extends so{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new nh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:JO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:kt("string",ao._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};function oo(r){r=ta(r,aa);const e=ta(r.firestore,_u),n=JS(e),s=new GO(e);return YO(r._query),DO(n,r._query).then((o=>new ao(e,s,r,o)))}function pT(r,e,n,...s){r=ta(r,Pt);const o=ta(r.firestore,_u),u=Qp(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof Gp?BO(u,"updateDoc",r._key,e,n,s):jO(u,"updateDoc",r._key,e),eg(o,[f.toMutation(r._key,ui.exists(!0))])}function Jm(r){return eg(ta(r.firestore,_u),[new Ip(r._key,ui.none())])}function gh(r,e){const n=ta(r.firestore,_u),s=ro(r),o=XO(r.converter,e),u=Qp(r.firestore);return eg(n,[zO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then((()=>s))}function eg(r,e){const n=JS(r);return NO(n,e)}(function(e,n=!0){RD(Ao),lo(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _u(new DD(s.getProvider("auth-internal")),new MD(f,s.getProvider("app-check-internal")),$D(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(hT,fT,e),ss(hT,fT,"esm2020")})();const WO={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},oA=QT(WO),ih=SD(oA),cn=VO(oA),gT="EYdciKDOi3UYBLk1u8hHams5tmO2",lA=U.createContext();function tg(){return U.useContext(lA)}function ZO({children:r}){const[e,n]=U.useState(null),[s,o]=U.useState(!1),[u,f]=U.useState(!0);U.useEffect(()=>hI(ih,T=>{n(T),o(T?.uid===gT),f(!1)}),[]);const y={currentUser:e,isAdmin:s,login:async(E,T)=>{const b=await lI(ih,E,T);if(b.user.uid!==gT)throw await aE(ih),new Error("Access denied. Admin only.");return b},logout:()=>aE(ih),loading:u};return C.jsx(lA.Provider,{value:y,children:r})}function eM(){const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),{login:p}=tg(),y=To(),E=async T=>{T.preventDefault(),u(""),m(!0);try{await p(r,n),y("/dashboard")}catch(b){u(b.message||"Failed to log in")}m(!1)};return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-card",children:[C.jsxs("div",{className:"login-header",children:[C.jsx("h1",{children:"Mind Core Fitness"}),C.jsx("p",{children:"Admin Portal"})]}),o&&C.jsx("div",{className:"error-message",children:o}),C.jsxs("form",{onSubmit:E,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Email"}),C.jsx("input",{type:"email",id:"email",value:r,onChange:T=>e(T.target.value),required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Password"}),C.jsx("input",{type:"password",id:"password",value:n,onChange:T=>s(T.target.value),required:!0})]}),C.jsx("button",{type:"submit",className:"login-btn",disabled:f,children:f?"Logging in...":"Log In"})]}),C.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function tM(){const[r,e]=U.useState([]),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(null),[p,y]=U.useState({});U.useEffect(()=>{E()},[]);const E=async()=>{try{const[re,ce]=await Promise.all([oo(QO(Pi(cn,"clients"),$O("createdAt","desc"))),oo(Pi(cn,"sessions"))]),me=re.docs.map(w=>({id:w.id,...w.data()})),R=ce.docs.map(w=>({id:w.id,...w.data()}));e(me),s(R)}catch(re){console.error("Error fetching data:",re)}u(!1)},T=re=>{const ce=new Date,me=ce.toISOString().split("T")[0],R=`${ce.getHours().toString().padStart(2,"0")}:${ce.getMinutes().toString().padStart(2,"0")}`;return n.filter(w=>w.clientId!==re?!1:w.date<me||w.date===me&&w.time<R).length},b=re=>{const ce=T(re.id);return(re.totalSessions||0)-ce},k=re=>n.filter(ce=>ce.clientId===re).length,F=re=>re?(re.toDate?re.toDate():new Date(re)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",K=async(re,ce)=>{if(window.confirm(`Are you sure you want to delete ${ce}?`))try{await Jm(ro(cn,"clients",re)),e(r.filter(me=>me.id!==re))}catch(me){console.error("Error deleting client:",me),alert("Failed to delete client")}},Q=re=>{m(re.id),y({name:re.name,email:re.email,weeksInBlock:re.weeksInBlock,totalSessions:re.totalSessions,sessionsRemaining:re.sessionsRemaining,sessionDuration:re.sessionDuration||45,startDate:re.startDate?.toDate?.().toISOString().split("T")[0]||"",endDate:re.endDate?.toDate?.().toISOString().split("T")[0]||"",status:re.status})},te=re=>{const{name:ce,value:me}=re.target;if(y(R=>({...R,[ce]:me})),ce==="startDate"||ce==="weeksInBlock"){const R=ce==="startDate"?me:p.startDate,w=parseInt(ce==="weeksInBlock"?me:p.weeksInBlock);if(R&&w>0){const I=new Date(R),V=new Date(I);V.setDate(V.getDate()+w*7),y(O=>({...O,[ce]:me,endDate:V.toISOString().split("T")[0]}))}}},ie=async re=>{try{await pT(ro(cn,"clients",re),{name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate)),status:p.status}),e(r.map(ce=>ce.id===re?{...ce,...p,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate))}:ce)),m(null)}catch(ce){console.error("Error updating client:",ce),alert("Failed to update client")}},ae=async re=>{try{const ce=r.find(me=>me.id===re)?.status==="archived"?"active":"archived";await pT(ro(cn,"clients",re),{status:ce}),e(r.map(me=>me.id===re?{...me,status:ce}:me))}catch(ce){console.error("Error archiving client:",ce),alert("Failed to update client status")}};return o?C.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):r.length===0?C.jsxs("div",{className:"client-list-empty",children:[C.jsx("p",{children:"No clients yet"}),C.jsx("span",{children:"Add your first client to get started"})]}):C.jsx("div",{className:"client-list",children:r.map(re=>C.jsx("div",{className:`client-card ${re.status==="archived"?"archived":""}`,children:f===re.id?C.jsxs("div",{className:"edit-form",children:[C.jsxs("div",{className:"edit-row",children:[C.jsx("input",{type:"text",name:"name",value:p.name,onChange:te,placeholder:"Name"}),C.jsx("input",{type:"email",name:"email",value:p.email,onChange:te,placeholder:"Email"})]}),C.jsxs("div",{className:"edit-row",children:[C.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:te,placeholder:"Weeks",min:"1"}),C.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:te,placeholder:"Total Sessions",min:"1"}),C.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:te,children:[C.jsx("option",{value:"30",children:"30 min"}),C.jsx("option",{value:"45",children:"45 min"})]})]}),C.jsxs("div",{className:"edit-row",children:[C.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:te}),C.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:te})]}),C.jsxs("div",{className:"edit-actions",children:[C.jsx("button",{className:"save-edit-btn",onClick:()=>ie(re.id),children:"Save"}),C.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"client-header",children:[C.jsxs("div",{className:"client-info",children:[C.jsx("h3",{children:re.name}),C.jsx("span",{className:"client-email",children:re.email})]}),C.jsx("div",{className:"client-status",children:C.jsx("span",{className:`status-badge ${re.status}`,children:re.status})})]}),C.jsxs("div",{className:"client-details",children:[C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Block"}),C.jsxs("span",{className:"detail-value",children:[re.weeksInBlock," weeks"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Sessions"}),C.jsxs("span",{className:"detail-value",children:[b(re)," / ",re.totalSessions," remaining"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Booked"}),C.jsxs("span",{className:"detail-value",children:[k(re.id)," sessions"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Duration"}),C.jsxs("span",{className:"detail-value",children:[re.sessionDuration||45," min"]})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"Start"}),C.jsx("span",{className:"detail-value",children:F(re.startDate)})]}),C.jsxs("div",{className:"detail-item",children:[C.jsx("span",{className:"detail-label",children:"End"}),C.jsx("span",{className:"detail-value",children:F(re.endDate)})]})]}),C.jsxs("div",{className:"client-actions",children:[C.jsx("button",{className:"action-btn edit",onClick:()=>Q(re),children:"Edit"}),C.jsx("button",{className:"action-btn archive",onClick:()=>ae(re.id),children:re.status==="archived"?"Reactivate":"Archive"}),C.jsx("button",{className:"action-btn delete",onClick:()=>K(re.id,re.name),children:"Delete"})]})]})},re.id))})}const uA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},Wm=["monday","tuesday","wednesday","thursday","friday"],nM=["Monday","Tuesday","Wednesday","Thursday","Friday"],iM=["Mon","Tue","Wed","Thu","Fri"],yT=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},rM=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),Wm.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},ki=r=>r.toISOString().split("T")[0],Zm=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},ep=(r,e)=>{const n=Zm(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},sM=r=>{const e=uA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=ep(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=ep(s,15)}return n};function aM(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState([]),[E,T]=U.useState(null),[b,k]=U.useState(null),[F,K]=U.useState(!1),[Q,te]=U.useState(!1),[ie,ae]=U.useState(""),[re,ce]=U.useState(!0);U.useEffect(()=>{s(rM(r))},[r]),U.useEffect(()=>{V()},[]);const me=H=>{if(T(H),K(!1),H.startDate){const se=H.startDate.toDate?H.startDate.toDate():new Date(H.startDate);e(se)}k(null)},R=H=>{const se=new Date,fe=ki(se),Ee=`${se.getHours().toString().padStart(2,"0")}:${se.getMinutes().toString().padStart(2,"0")}`;return f.filter(Te=>Te.clientId!==H?!1:Te.date<fe||Te.date===fe&&Te.time<Ee).length},w=H=>{const se=R(H.id);return(H.totalSessions||0)-se},I=H=>f.filter(se=>se.clientId===H).length,V=async()=>{try{const se=(await oo(Pi(cn,"clients"))).docs.map($e=>({id:$e.id,...$e.data()})).filter($e=>$e.status==="active");u(se);const Ee=(await oo(Pi(cn,"sessions"))).docs.map($e=>({id:$e.id,...$e.data()}));m(Ee);const Ie=(await oo(Pi(cn,"holidays"))).docs.map($e=>({id:$e.id,...$e.data()}));y(Ie)}catch(H){console.error("Error fetching data:",H)}ce(!1)},O=H=>{const se=new Date(r);se.setDate(se.getDate()+H*7),e(se),k(null)},P=()=>{e(new Date),k(null)},D=H=>{const se=ki(H);return p.some(fe=>fe.date===se)},rt=H=>{const se=ki(H);return f.filter(fe=>fe.date===se)},pt=(H,se)=>{const fe=ki(H);return f.find(Ee=>Ee.date===fe&&Ee.time===se)},$=(H,se,fe)=>{const Ee=Wm[H.getDay()-1];if(!Ee||D(H))return!1;const Te=ki(H);if(f.find(en=>en.date===Te&&en.time===se))return!1;const $e=ep(se,fe),vt=uA[Ee],st=vt.morning&&$e<=vt.morning.end,zt=vt.afternoon&&$e<=vt.afternoon.end,gt=vt.morning&&se>=vt.morning.start&&se<vt.morning.end,Vn=vt.afternoon&&se>=vt.afternoon.start&&se<vt.afternoon.end;if(gt&&!st||Vn&&!zt)return!1;for(const en of f){if(en.date!==Te)continue;const Tn=Zm(en.time),Sn=Tn+(en.duration||45),ot=Zm(se),lt=ot+fe;if(ot<Sn&&lt>Tn)return!1}return!0},le=async(H,se)=>{const fe=pt(H,se);if(fe){if(window.confirm(`Cancel ${fe.clientName}'s session at ${yT(se)}?`))try{await Jm(ro(cn,"sessions",fe.id)),m(f.filter(Te=>Te.id!==fe.id))}catch(Te){console.error("Error cancelling session:",Te),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!$(H,se,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(f.filter(Te=>Te.clientId===E.id).length>=E.totalSessions){alert(`${E.name} has already booked all ${E.totalSessions} sessions`);return}try{const Te=ki(H),Ie={clientId:E.id,clientName:E.name,date:Te,time:se,duration:E.sessionDuration||45,createdAt:Be.now()},$e=await gh(Pi(cn,"sessions"),Ie);m([...f,{id:$e.id,...Ie}])}catch(Te){console.error("Error booking session:",Te),alert("Failed to book session")}},ye=async()=>{if(!E)return;const H=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),se=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),fe=f.filter(st=>st.clientId!==E.id?!1:n.some(zt=>ki(zt)===st.date));if(fe.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const Ee=E.weeksInBlock||Math.ceil((se-H)/(10080*60*1e3)),Te=fe.map(st=>({dayOfWeek:new Date(st.date).getDay(),time:st.time}));let Ie=[];const $e=f.filter(st=>st.clientId===E.id).length;for(let st=0;st<Ee;st++){const zt=new Date(H);zt.setDate(zt.getDate()+st*7);const gt=new Date(zt),Vn=gt.getDay(),en=gt.getDate()-Vn+(Vn===0?-6:1);gt.setDate(en);for(const Tn of Te){const Sn=new Date(gt),ot=Tn.dayOfWeek===0?6:Tn.dayOfWeek-1;Sn.setDate(gt.getDate()+ot);const lt=ki(Sn);f.some(hn=>hn.clientId===E.id&&hn.date===lt&&hn.time===Tn.time)||Sn<H||Sn>se||p.some(hn=>hn.date===lt)||Ie.push({dateKey:lt,time:Tn.time,sessionDate:Sn})}}const vt=$e+Ie.length;if(vt>E.totalSessions){alert(`This would create ${Ie.length} new sessions (${vt} total), but client only has ${E.totalSessions} sessions in their package.

You can still book ${E.totalSessions-$e} more sessions.`);return}if(Ie.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${Ie.length} new sessions across the block.

(${$e} existing + ${Ie.length} new = ${vt} total)

Continue?`))try{const st=[];for(const zt of Ie){const gt={clientId:E.id,clientName:E.name,date:zt.dateKey,time:zt.time,duration:E.sessionDuration||45,createdAt:Be.now()},Vn=await gh(Pi(cn,"sessions"),gt);st.push({id:Vn.id,...gt})}m([...f,...st]),alert(`Created ${st.length} new sessions!`)}catch(st){console.error("Error repeating weekly:",st),alert("Failed to repeat sessions")}},ze=async()=>{if(ie)try{const H=await gh(Pi(cn,"holidays"),{date:ie,createdAt:Be.now()});y([...p,{id:H.id,date:ie}]),ae(""),te(!1)}catch(H){console.error("Error adding holiday:",H),alert("Failed to add holiday")}},Ge=async H=>{try{await Jm(ro(cn,"holidays",H)),y(p.filter(se=>se.id!==H))}catch(se){console.error("Error removing holiday:",se)}};if(re)return C.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const x=n[0],W=n[4],ue=x&&W?`${x.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${W.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return C.jsxs("div",{className:"calendar",children:[C.jsxs("div",{className:"calendar-header",children:[C.jsxs("div",{className:"calendar-nav",children:[C.jsx("button",{onClick:()=>O(-1),children:""}),C.jsx("button",{onClick:P,children:"Today"}),C.jsx("button",{onClick:()=>O(1),children:""})]}),C.jsx("h3",{children:ue}),C.jsx("button",{className:"holiday-btn",onClick:()=>te(!0),children:"Holidays"})]}),C.jsxs("div",{className:"client-selector",children:[C.jsx("span",{className:"selector-label",children:"Booking for:"}),E?C.jsxs("div",{className:"selected-client",children:[C.jsxs("div",{className:"selected-info",children:[C.jsx("strong",{children:E.name}),C.jsxs("span",{children:[E.sessionDuration||45,"min  ",w(E),"/",E.totalSessions," remaining"]}),C.jsxs("span",{className:"booked-info",children:[I(E.id)," booked"]})]}),C.jsx("button",{onClick:()=>T(null),children:"Change"})]}):C.jsx("button",{className:"select-client-btn",onClick:()=>K(!0),children:"Select Client"})]}),E&&C.jsxs("div",{className:"repeat-weekly-section",children:[C.jsx("button",{className:"repeat-weekly-btn",onClick:ye,children:"Repeat This Week's Schedule For All Weeks"}),C.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),C.jsx("div",{className:"day-cards",children:n.map((H,se)=>{const fe=rt(H),Ee=ki(H)===ki(new Date),Te=D(H);return C.jsxs("div",{className:`day-card ${b===se?"selected":""} ${Ee?"today":""} ${Te?"holiday":""}`,onClick:()=>!Te&&k(b===se?null:se),children:[C.jsxs("div",{className:"day-card-header",children:[C.jsx("span",{className:"day-name",children:iM[se]}),C.jsx("span",{className:"day-date",children:H.getDate()})]}),Te?C.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):C.jsxs("div",{className:"day-card-status",children:[fe.length," session",fe.length!==1?"s":""]})]},se)})}),b!==null&&n[b]&&!D(n[b])&&C.jsxs("div",{className:"time-panel",children:[C.jsxs("div",{className:"time-panel-header",children:[C.jsxs("h4",{children:[nM[b]," ",n[b].getDate()]}),C.jsx("button",{className:"close-panel",onClick:()=>k(null),children:""})]}),C.jsx("div",{className:"time-slots",children:sM(Wm[b]).map(({time:H,period:se},fe,Ee)=>{const Te=pt(n[b],H),Ie=E&&$(n[b],H,E.sessionDuration||45),$e=fe===0||Ee[fe-1]?.period!==se;return C.jsxs("div",{children:[$e&&C.jsx("div",{className:"period-label",children:se==="morning"?"Morning":"Afternoon"}),C.jsxs("button",{className:`time-slot ${Te?"booked":""} ${Ie?"available":""} ${!Te&&!Ie&&E?"unavailable":""}`,onClick:()=>le(n[b],H),children:[C.jsx("span",{className:"slot-time",children:yT(H)}),Te?C.jsxs("span",{className:"slot-client",children:[Te.clientName," (",Te.duration,"m)"]}):Ie?C.jsx("span",{className:"slot-available",children:"Available"}):E?C.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):C.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},H)})})]}),F&&C.jsx("div",{className:"modal-overlay",onClick:()=>K(!1),children:C.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h3",{children:"Select Client"}),C.jsx("button",{className:"close-btn",onClick:()=>K(!1),children:""})]}),C.jsx("div",{className:"client-list-picker",children:o.length===0?C.jsx("p",{className:"no-items",children:"No active clients"}):o.map(H=>{const se=H.startDate?.toDate?H.startDate.toDate():new Date(H.startDate),fe=H.endDate?.toDate?H.endDate.toDate():new Date(H.endDate),Ee=w(H),Te=I(H.id);return C.jsxs("button",{className:"client-option",onClick:()=>me(H),children:[C.jsx("strong",{children:H.name}),C.jsxs("span",{children:[H.sessionDuration||45,"min  ",Ee,"/",H.totalSessions," remaining  ",Te," booked"]}),C.jsxs("span",{className:"client-dates",children:[se.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",fe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},H.id)})})]})}),Q&&C.jsx("div",{className:"modal-overlay",onClick:()=>te(!1),children:C.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h3",{children:"Manage Holidays"}),C.jsx("button",{className:"close-btn",onClick:()=>te(!1),children:""})]}),C.jsxs("div",{className:"holiday-form",children:[C.jsx("input",{type:"date",value:ie,onChange:H=>ae(H.target.value)}),C.jsx("button",{onClick:ze,children:"Add"})]}),C.jsx("div",{className:"holiday-list",children:p.length===0?C.jsx("p",{className:"no-items",children:"No holidays set"}):p.map(H=>C.jsxs("div",{className:"holiday-item",children:[C.jsx("span",{children:new Date(H.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),C.jsx("button",{onClick:()=>Ge(H.id),children:"Remove"})]},H.id))})]})})]})}const oM=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},su=r=>r.toISOString().split("T")[0],cA=r=>r===su(new Date),lM=r=>{const e=new Date;return e.setDate(e.getDate()+1),r===su(e)},uM=r=>cA(r)?"Today":lM(r)?"Tomorrow":new Date(r).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),_T=r=>{const e=new Date,n=su(e),s=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(r.date<n)return!0;if(r.date===n){const o=vT(r.time)+(r.duration||45);return vT(s)>=o}return!1},vT=r=>{const[e,n]=r.split(":").map(Number);return e*60+n};function cM(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(new Date);U.useEffect(()=>{f();const k=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(k)},[]);const f=async()=>{try{const F=(await oo(Pi(cn,"sessions"))).docs.map(te=>({id:te.id,...te.data()})),K=su(new Date),Q=F.filter(te=>te.date>=K).sort((te,ie)=>te.date!==ie.date?te.date.localeCompare(ie.date):te.time.localeCompare(ie.time));e(Q)}catch(k){console.error("Error fetching sessions:",k)}s(!1)};if(n)return C.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const m=r.reduce((k,F)=>{const K=F.date;return k[K]||(k[K]=[]),k[K].push(F),k},{}),p=Object.keys(m).sort(),y=su(new Date),E=m[y]||[],T=E.filter(k=>_T(k)).length,b=E.length-T;return C.jsxs("div",{className:"schedule",children:[C.jsxs("div",{className:"today-summary",children:[C.jsx("h3",{children:"Today's Sessions"}),C.jsx("div",{className:"today-count",children:E.length===0?C.jsx("span",{className:"no-sessions",children:"No sessions today"}):C.jsxs("div",{className:"today-stats",children:[C.jsxs("span",{className:"completed-count",children:[T," completed"]}),C.jsxs("span",{className:"remaining-count",children:[b," remaining"]})]})})]}),p.length===0?C.jsx("div",{className:"no-upcoming",children:C.jsx("p",{children:"No upcoming sessions booked"})}):C.jsx("div",{className:"sessions-list",children:p.map(k=>C.jsxs("div",{className:`date-group ${cA(k)?"today":""}`,children:[C.jsxs("div",{className:"date-header",children:[C.jsx("span",{className:"date-label",children:uM(k)}),C.jsxs("span",{className:"date-count",children:[m[k].length," session",m[k].length!==1?"s":""]})]}),C.jsx("div",{className:"date-sessions",children:m[k].map(F=>{const K=_T(F);return C.jsxs("div",{className:`session-card ${K?"completed":""}`,children:[C.jsx("div",{className:"session-time",children:oM(F.time)}),C.jsxs("div",{className:"session-details",children:[C.jsx("strong",{children:F.clientName}),C.jsxs("span",{children:[F.duration,"min session"]})]}),K&&C.jsx("div",{className:"completed-badge",children:""})]},F.id)})})]},k))})]})}function hM(){const[r,e]=U.useState("schedule"),[n,s]=U.useState(0),[o,u]=U.useState(!1),{currentUser:f,logout:m,isAdmin:p,loading:y}=tg(),E=To(),T=U.useRef(0),b=U.useRef(!1);U.useRef(null),U.useEffect(()=>{!y&&(!f||!p)&&E("/")},[f,p,y,E]),U.useEffect(()=>{const Q=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,te=re=>{Q()<=0&&(T.current=re.touches[0].clientY,b.current=!0)},ie=re=>{if(!b.current)return;const me=re.touches[0].clientY-T.current;me>0&&Q()<=0&&s(Math.min(me*.5,80))},ae=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):s(0),b.current=!1};return document.addEventListener("touchstart",te,{passive:!0}),document.addEventListener("touchmove",ie,{passive:!0}),document.addEventListener("touchend",ae),()=>{document.removeEventListener("touchstart",te),document.removeEventListener("touchmove",ie),document.removeEventListener("touchend",ae)}},[n]);const k=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},F=async()=>{try{await m(),E("/")}catch(Q){console.error("Failed to log out:",Q)}},K=()=>{E("/add-client")};return y?C.jsx("div",{className:"loading",children:"Loading..."}):!f||!p?null:C.jsxs("div",{className:"dashboard",children:[n>0&&C.jsxs("div",{className:"pull-indicator",style:{height:n},children:[C.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),C.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),C.jsxs("header",{className:"dashboard-header",children:[C.jsxs("div",{className:"header-left",children:[C.jsx("h1",{children:"Mind Core Fitness"}),C.jsx("span",{className:"admin-badge",children:"Admin"})]}),C.jsxs("nav",{className:"header-nav",children:[C.jsx("button",{className:`nav-btn ${r==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),C.jsx("button",{className:`nav-btn ${r==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),C.jsx("button",{className:`nav-btn ${r==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"})]}),C.jsxs("div",{className:"header-actions",children:[C.jsx("button",{className:"refresh-btn",onClick:k,disabled:o,children:o?"":""}),C.jsx("button",{className:"logout-btn",onClick:F,children:"Log Out"})]})]}),C.jsxs("main",{className:"dashboard-main",children:[r==="schedule"&&C.jsxs("div",{className:"schedule-view",children:[C.jsx("div",{className:"view-header",children:C.jsx("h2",{children:"Schedule"})}),C.jsx(cM,{})]}),r==="clients"&&C.jsxs("div",{className:"clients-view",children:[C.jsxs("div",{className:"view-header",children:[C.jsx("h2",{children:"Clients"}),C.jsx("button",{className:"add-btn",onClick:K,children:"+ Add Client"})]}),C.jsx(tM,{})]}),r==="calendar"&&C.jsxs("div",{className:"calendar-view",children:[C.jsx("div",{className:"view-header",children:C.jsx("h2",{children:"Calendar"})}),C.jsx(aM,{})]})]})]})}function fM(){const[r,e]=U.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,s]=U.useState(!1),[o,u]=U.useState(""),{currentUser:f,isAdmin:m,loading:p}=tg(),y=To();U.useEffect(()=>{!p&&(!f||!m)&&y("/")},[f,m,p,y]),U.useEffect(()=>{if(r.startDate&&r.weeksInBlock){const k=new Date(r.startDate),F=parseInt(r.weeksInBlock);if(!isNaN(F)&&F>0){const K=new Date(k);K.setDate(K.getDate()+F*7),e(Q=>({...Q,endDate:K.toISOString().split("T")[0]}))}}},[r.startDate,r.weeksInBlock]);const E=k=>{const{name:F,value:K}=k.target;e(Q=>({...Q,[F]:K}))},T=async k=>{k.preventDefault(),u(""),s(!0);try{const F={name:r.name.trim(),email:r.email.trim().toLowerCase(),weeksInBlock:parseInt(r.weeksInBlock),totalSessions:parseInt(r.numberOfSessions),sessionsRemaining:parseInt(r.numberOfSessions),sessionDuration:parseInt(r.sessionDuration),startDate:Be.fromDate(new Date(r.startDate)),endDate:Be.fromDate(new Date(r.endDate)),status:"active",createdAt:Be.now()};await gh(Pi(cn,"clients"),F),y("/dashboard")}catch(F){console.error("Error adding client:",F),u("Failed to add client. Please try again."),s(!1)}},b=()=>{y("/dashboard")};return p?C.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:C.jsxs("div",{className:"add-client-page",children:[C.jsxs("header",{className:"page-header",children:[C.jsx("button",{className:"back-btn",onClick:b,children:" Back"}),C.jsx("h1",{children:"Add New Client"})]}),C.jsxs("main",{className:"page-content",children:[o&&C.jsx("div",{className:"form-error",children:o}),C.jsxs("form",{onSubmit:T,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"name",children:"Client Name"}),C.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:E,placeholder:"John Smith",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Client Email"}),C.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,placeholder:"john@example.com",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),C.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:r.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),C.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:r.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),C.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:r.sessionDuration,onChange:E,required:!0,children:[C.jsx("option",{value:"30",children:"30 minutes"}),C.jsx("option",{value:"45",children:"45 minutes"})]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"startDate",children:"Start Date"}),C.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:E,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),C.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:E,required:!0}),C.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx("button",{type:"button",className:"cancel-btn",onClick:b,children:"Cancel"}),C.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function dM(){const r=To();return U.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function mM(){return C.jsx(ZO,{children:C.jsxs(_1,{basename:"/login",children:[C.jsx(dM,{}),C.jsxs(Qw,{children:[C.jsx(Ll,{path:"/",element:C.jsx(eM,{})}),C.jsx(Ll,{path:"/dashboard",element:C.jsx(hM,{})}),C.jsx(Ll,{path:"/add-client",element:C.jsx(fM,{})}),C.jsx(Ll,{path:"*",element:C.jsx(Kw,{to:"/",replace:!0})})]})]})})}Xb.createRoot(document.getElementById("root")).render(C.jsx(U.StrictMode,{children:C.jsx(mM,{})}));
