(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var lm={exports:{}},Vl={};var xv;function ew(){if(xv)return Vl;xv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Ov;function tw(){return Ov||(Ov=1,lm.exports=ew()),lm.exports}var E=tw(),um={exports:{}},Ce={};var Mv;function nw(){if(Mv)return Ce;Mv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function L(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,B={};function Z(x,K,re){this.props=x,this.context=K,this.refs=B,this.updater=re||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},Z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=Z.prototype;function oe(x,K,re){this.props=x,this.context=K,this.refs=B,this.updater=re||j}var ge=oe.prototype=new X;ge.constructor=oe,z(ge,Z.prototype),ge.isPureReactComponent=!0;var Y=Array.isArray;function te(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,K,re){var ue=re.ref;return{$$typeof:s,type:x,key:K,ref:ue!==void 0?ue:null,props:re}}function M(x,K){return R(x.type,K,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function V(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(re){return K[re]})}var D=/\/+/g;function He(x,K){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):K.toString(36)}function at(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(te,te):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function W(x,K,re,ue,de){var ye=typeof x;(ye==="undefined"||ye==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(ye){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case s:case e:Se=!0;break;case T:return Se=x._init,W(Se(x._payload),K,re,ue,de)}}if(Se)return de=de(x),Se=ue===""?"."+He(x,0):ue,Y(de)?(re="",Se!=null&&(re=Se.replace(D,"$&/")+"/"),W(de,K,re,"",function(ln){return ln})):de!=null&&(N(de)&&(de=M(de,re+(de.key==null||x&&x.key===de.key?"":(""+de.key).replace(D,"$&/")+"/")+Se)),K.push(de)),1;Se=0;var Ye=ue===""?".":ue+":";if(Y(x))for(var ke=0;ke<x.length;ke++)ue=x[ke],ye=Ye+He(ue,ke),Se+=W(ue,K,re,ye,de);else if(ke=L(x),typeof ke=="function")for(x=ke.call(x),ke=0;!(ue=x.next()).done;)ue=ue.value,ye=Ye+He(ue,ke++),Se+=W(ue,K,re,ye,de);else if(ye==="object"){if(typeof x.then=="function")return W(at(x),K,re,ue,de);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ce(x,K,re){if(x==null)return x;var ue=[],de=0;return W(x,ue,"","",function(ye){return K.call(re,ye,de++)}),ue}function ve(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(re){(x._status===0||x._status===-1)&&(x._status=1,x._result=re)},function(re){(x._status===0||x._status===-1)&&(x._status=2,x._result=re)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var ae=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},le={map:ce,forEach:function(x,K,re){ce(x,function(){K.apply(this,arguments)},re)},count:function(x){var K=0;return ce(x,function(){K++}),K},toArray:function(x){return ce(x,function(K){return K})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ce.Activity=S,Ce.Children=le,Ce.Component=Z,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=oe,Ce.StrictMode=r,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(x,K,re){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ue=z({},x.props),de=x.key;if(K!=null)for(ye in K.key!==void 0&&(de=""+K.key),K)!b.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(ue[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)ue.children=re;else if(1<ye){for(var Se=Array(ye),Ye=0;Ye<ye;Ye++)Se[Ye]=arguments[Ye+2];ue.children=Se}return R(x.type,de,ue)},Ce.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ce.createElement=function(x,K,re){var ue,de={},ye=null;if(K!=null)for(ue in K.key!==void 0&&(ye=""+K.key),K)b.call(K,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(de[ue]=K[ue]);var Se=arguments.length-2;if(Se===1)de.children=re;else if(1<Se){for(var Ye=Array(Se),ke=0;ke<Se;ke++)Ye[ke]=arguments[ke+2];de.children=Ye}if(x&&x.defaultProps)for(ue in Se=x.defaultProps,Se)de[ue]===void 0&&(de[ue]=Se[ue]);return R(x,ye,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:p,render:x}},Ce.isValidElement=N,Ce.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ve}},Ce.memo=function(x,K){return{$$typeof:y,type:x,compare:K===void 0?null:K}},Ce.startTransition=function(x){var K=I.T,re={};I.T=re;try{var ue=x(),de=I.S;de!==null&&de(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(te,ae)}catch(ye){ae(ye)}finally{K!==null&&re.types!==null&&(K.types=re.types),I.T=K}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(x){return I.H.use(x)},Ce.useActionState=function(x,K,re){return I.H.useActionState(x,K,re)},Ce.useCallback=function(x,K){return I.H.useCallback(x,K)},Ce.useContext=function(x){return I.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,K){return I.H.useDeferredValue(x,K)},Ce.useEffect=function(x,K){return I.H.useEffect(x,K)},Ce.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(x,K,re){return I.H.useImperativeHandle(x,K,re)},Ce.useInsertionEffect=function(x,K){return I.H.useInsertionEffect(x,K)},Ce.useLayoutEffect=function(x,K){return I.H.useLayoutEffect(x,K)},Ce.useMemo=function(x,K){return I.H.useMemo(x,K)},Ce.useOptimistic=function(x,K){return I.H.useOptimistic(x,K)},Ce.useReducer=function(x,K,re){return I.H.useReducer(x,K,re)},Ce.useRef=function(x){return I.H.useRef(x)},Ce.useState=function(x){return I.H.useState(x)},Ce.useSyncExternalStore=function(x,K,re){return I.H.useSyncExternalStore(x,K,re)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.4",Ce}var Vv;function up(){return Vv||(Vv=1,um.exports=nw()),um.exports}var P=up(),cm={exports:{}},kl={},hm={exports:{}},fm={};var kv;function iw(){return kv||(kv=1,(function(s){function e(W,ce){var ve=W.length;W.push(ce);e:for(;0<ve;){var ae=ve-1>>>1,le=W[ae];if(0<o(le,ce))W[ae]=ce,W[ve]=le,ve=ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ce=W[0],ve=W.pop();if(ve!==ce){W[0]=ve;e:for(var ae=0,le=W.length,x=le>>>1;ae<x;){var K=2*(ae+1)-1,re=W[K],ue=K+1,de=W[ue];if(0>o(re,ve))ue<le&&0>o(de,re)?(W[ae]=de,W[ue]=ve,ae=ue):(W[ae]=re,W[K]=ve,ae=K);else if(ue<le&&0>o(de,ve))W[ae]=de,W[ue]=ve,ae=ue;else break e}}return ce}function o(W,ce){var ve=W.sortIndex-ce.sortIndex;return ve!==0?ve:W.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var m=[],y=[],T=1,S=null,C=3,L=!1,j=!1,z=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ge(W){for(var ce=n(y);ce!==null;){if(ce.callback===null)r(y);else if(ce.startTime<=W)r(y),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(y)}}function Y(W){if(z=!1,ge(W),!j)if(n(m)!==null)j=!0,te||(te=!0,V());else{var ce=n(y);ce!==null&&at(Y,ce.startTime-W)}}var te=!1,I=-1,b=5,R=-1;function M(){return B?!0:!(s.unstable_now()-R<b)}function N(){if(B=!1,te){var W=s.unstable_now();R=W;var ce=!0;try{e:{j=!1,z&&(z=!1,X(I),I=-1),L=!0;var ve=C;try{t:{for(ge(W),S=n(m);S!==null&&!(S.expirationTime>W&&M());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,C=S.priorityLevel;var le=ae(S.expirationTime<=W);if(W=s.unstable_now(),typeof le=="function"){S.callback=le,ge(W),ce=!0;break t}S===n(m)&&r(m),ge(W)}else r(m);S=n(m)}if(S!==null)ce=!0;else{var x=n(y);x!==null&&at(Y,x.startTime-W),ce=!1}}break e}finally{S=null,C=ve,L=!1}ce=void 0}}finally{ce?V():te=!1}}}var V;if(typeof oe=="function")V=function(){oe(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,He=D.port2;D.port1.onmessage=N,V=function(){He.postMessage(null)}}else V=function(){Z(N,0)};function at(W,ce){I=Z(function(){W(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(W){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var ve=C;C=ce;try{return W()}finally{C=ve}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=C;C=W;try{return ce()}finally{C=ve}},s.unstable_scheduleCallback=function(W,ce,ve){var ae=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ae+ve:ae):ve=ae,W){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ve+le,W={id:T++,callback:ce,priorityLevel:W,startTime:ve,expirationTime:le,sortIndex:-1},ve>ae?(W.sortIndex=ve,e(y,W),n(m)===null&&W===n(y)&&(z?(X(I),I=-1):z=!0,at(Y,ve-ae))):(W.sortIndex=le,e(m,W),j||L||(j=!0,te||(te=!0,V()))),W},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(W){var ce=C;return function(){var ve=C;C=ce;try{return W.apply(this,arguments)}finally{C=ve}}}})(fm)),fm}var Lv;function sw(){return Lv||(Lv=1,hm.exports=iw()),hm.exports}var dm={exports:{}},Xt={};var Pv;function rw(){if(Pv)return Xt;Pv=1;var s=up();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(m,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,T)},Xt.flushSync=function(m){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=y,r.p=T,r.d.f()}},Xt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},Xt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Xt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:L}):T==="script"&&r.d.X(m,{crossOrigin:S,integrity:C,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},Xt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(m,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(m,y){if(typeof m=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},Xt.requestFormReset=function(m){r.d.r(m)},Xt.unstable_batchedUpdates=function(m,y){return m(y)},Xt.useFormState=function(m,y,T){return f.H.useFormState(m,y,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var jv;function aw(){if(jv)return dm.exports;jv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=rw(),dm.exports}var Uv;function ow(){if(Uv)return kl;Uv=1;var s=sw(),e=up(),n=aw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,A=h.child;A;){if(A===a){_=!0,a=h,l=d;break}if(A===l){_=!0,l=h,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=h;break}if(A===l){_=!0,l=d,a=h;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function He(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case oe:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:He(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return He(t(i))}catch{}}return null}var at=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ae=[],le=-1;function x(t){return{current:t}}function K(t){0>le||(t.current=ae[le],ae[le]=null,le--)}function re(t,i){le++,ae[le]=t.current,t.current=i}var ue=x(null),de=x(null),ye=x(null),Se=x(null);function Ye(t,i){switch(re(ye,i),re(de,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=ev(i),t=tv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ue),re(ue,t)}function ke(){K(ue),K(de),K(ye)}function ln(t){t.memoizedState!==null&&re(Se,t);var i=ue.current,a=tv(i,t.type);i!==a&&(re(de,t),re(ue,a))}function nn(t){de.current===t&&(K(ue),K(de)),Se.current===t&&(K(Se),Nl._currentValue=ve)}var un,cn;function sn(t){if(un===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);un=i&&i[1]||"",cn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+t+cn}var Qn=!1;function En(t,i){if(!t||Qn)return"";Qn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var G=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){G=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var O=_.split(`
`),F=A.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===F.length)for(l=O.length-1,h=F.length-1;1<=l&&0<=h&&O[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==F[h]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Qn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?sn(a):""}function xo(t,i){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==i&&i!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return En(t.type,!1);case 11:return En(t.type.render,!1);case 1:return En(t.type,!0);case 31:return sn("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=xo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,vs=s.unstable_cancelCallback,cf=s.unstable_shouldYield,bu=s.unstable_requestPaint,rn=s.unstable_now,Sr=s.unstable_getCurrentPriorityLevel,Mo=s.unstable_ImmediatePriority,Vo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,hf=s.unstable_LowPriority,wu=s.unstable_IdlePriority,Ru=s.log,Cu=s.unstable_setDisableYieldValue,Xn=null,Bt=null;function On(t){if(typeof Ru=="function"&&Cu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Xn,t)}catch{}}var pt=Math.clz32?Math.clz32:Du,Iu=Math.log,da=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Iu(t)/da|0)|0}var pi=256,Ar=262144,Tt=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=gi(l):(_&=A,_!==0?h=gi(_):a||(a=A&~t,a!==0&&(h=gi(a))))):(A=l&~d,A!==0?h=gi(A):_!==0?h=gi(_):a||(a=l&~t,a!==0&&(h=gi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ff(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function br(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function df(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-pt(a),ne=1<<J;A[J]=0,O[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var Q=G[J];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&wr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function wr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xu(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:bv(t.type))}function Jn(t,i){var a=ce.p;try{return ce.p=t,i()}finally{ce.p=a}}var Zn=Math.random().toString(36).slice(2),St="__reactFiber$"+Zn,Pt="__reactProps$"+Zn,vi="__reactContainer$"+Zn,ma="__reactEvents$"+Zn,mf="__reactListeners$"+Zn,Ou="__reactHandles$"+Zn,Mu="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function pa(t){delete t[St],delete t[Pt],delete t[ma],delete t[mf],delete t[Ou]}function Ti(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=lv(t);t!==null;){if(a=t[St])return a;t=lv(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[St]||t[vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Si(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[Ei]=!0}var Po=new Set,jo={};function Ai(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(jo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Vu(t){return Et.call(Bo,t)?!0:Et.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ga(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Ts(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function Cr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ts(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function hn(t){return t.replace(Ir,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(t,i,a,l,h,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,_,jt(i)):a!=null?Ho(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+jt(A):t.removeAttribute("name")}function ku(t,i,a,l,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Ho(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function As(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(at(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Yo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,Ri=null;function Dr(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ya(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(r(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cr(l)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ss(t,!!a.multiple,i,!1)}}}var Ea=!1;function Rs(t,i,a){if(Ea)return t(i,a);Ea=!0;try{var l=t(i);return l}finally{if(Ea=!1,(ws!==null||Ri!==null)&&(xc(),ws&&(i=ws,t=Ri,Ri=ws=null,Dr(i),t)))for(i=0;i<t.length;i++)Dr(t[i])}}function ti(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Nr=!1}var Ci=null,Ko=null,xr=null;function $o(){if(xr)return xr;var t,i=Ko,a=i.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return xr=h.slice(t,1<l?1-l:void 0)}function Or(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ni(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=qt(Yi),Cs=S({},Yi,{view:0,detail:0}),Qo=qt(Cs),Is,Ta,Di,Sa=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Is=t.screenX-Di.screenX,Ta=t.screenY-Di.screenY):Ta=Is=0,Di=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Xo=qt(Sa),Mr=S({},Sa,{dataTransfer:0}),Uu=qt(Mr),zu=S({},Cs,{relatedTarget:0}),Vr=qt(zu),Wo=S({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=qt(Wo),Aa=S({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=qt(Aa),Hu=S({},Yi,{data:0}),Ni=qt(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function Ds(){return Ku}var an=S({},Cs,{key:function(t){if(t.key){var i=Fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=qt(an),Qu=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=qt(Qu),c=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),g=qt(c),v=S({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(v),q=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=qt(q),he=S({},Yi,{newState:0,oldState:0}),De=qt(he),gt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,ut=null;kn&&"documentMode"in document&&(ut=document.documentMode);var Ln=kn&&"TextEvent"in window&&!ut,xi=kn&&(!Ke||ut&&8<ut&&11>=ut),ii=" ",si=!1;function kr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function bA(t,i){switch(t){case"compositionend":return ba(i);case"keypress":return i.which!==32?null:(si=!0,ii);case"textInput":return t=i.data,t===ii&&si?null:t;default:return null}}function wA(t,i){if(wa)return t==="compositionend"||!Ke&&kr(t,i)?(t=$o(),xr=Ko=Ci=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var RA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!RA[t.type]:i==="textarea"}function fg(t,i,a,l){ws?Ri?Ri.push(l):Ri=[l]:ws=l,i=jc(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Jo=null,Zo=null;function CA(t){$_(t,0)}function Xu(t){var i=Tn(t);if(Cr(i))return t}function dg(t,i){if(t==="change")return i}var mg=!1;if(kn){var pf;if(kn){var gf="oninput"in document;if(!gf){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),gf=typeof pg.oninput=="function"}pf=gf}else pf=!1;mg=pf&&(!document.documentMode||9<document.documentMode)}function gg(){Jo&&(Jo.detachEvent("onpropertychange",yg),Zo=Jo=null)}function yg(t){if(t.propertyName==="value"&&Xu(Zo)){var i=[];fg(i,Zo,t,Vn(t)),Rs(CA,i)}}function IA(t,i,a){t==="focusin"?(gg(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",yg)):t==="focusout"&&gg()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Zo)}function NA(t,i){if(t==="click")return Xu(i)}function xA(t,i){if(t==="input"||t==="change")return Xu(i)}function OA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:OA;function el(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!An(t[h],i[h]))return!1}return!0}function _g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,i){var a=_g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_g(a)}}function Eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function yf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var MA=kn&&"documentMode"in document&&11>=document.documentMode,Ra=null,_f=null,tl=null,vf=!1;function Sg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Ra==null||Ra!==wi(l)||(l=Ra,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=jc(_f,"onSelect"),0<l.length&&(i=new Ii("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Lr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Ef={},Ag={};kn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Pr(t){if(Ef[t])return Ef[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ag)return Ef[t]=i[a];return t}var bg=Pr("animationend"),wg=Pr("animationiteration"),Rg=Pr("animationstart"),VA=Pr("transitionrun"),kA=Pr("transitionstart"),LA=Pr("transitioncancel"),Cg=Pr("transitionend"),Ig=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function ri(t,i){Ig.set(t,i),Ai(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Ia=0,Sf=0;function Ju(){for(var t=Ia,i=Sf=Ia=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function Zu(t,i,a,l){Pn[Ia++]=t,Pn[Ia++]=i,Pn[Ia++]=a,Pn[Ia++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Af(t,i,a,l){return Zu(t,i,a,l),ec(t)}function jr(t,i){return Zu(t,null,null,i),ec(t)}function Dg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<Al)throw Al=0,Od=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function PA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new PA(t,i,a,l)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")bf(t)&&(_=1);else if(typeof t=="string")_=qb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,i,h),t.elementType=R,t.lanes=d,t;case z:return Ur(a.children,h,d,i);case B:_=8,h|=24;break;case Z:return t=bn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case Y:return t=bn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case te:return t=bn(19,a,i,h),t.elementType=te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case X:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ur(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function wf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function xg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function Rf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Og=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=Og.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Og.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Na=[],xa=0,nc=null,nl=0,Un=[],zn=0,Ns=null,Oi=1,Mi="";function Qi(t,i){Na[xa++]=nl,Na[xa++]=nc,nc=t,nl=i}function Mg(t,i,a){Un[zn++]=Oi,Un[zn++]=Mi,Un[zn++]=Ns,Ns=t;var l=Oi;t=Mi;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-pt(i)+h|a<<h|l,Mi=d+t}else Oi=1<<d|a<<h|l,Mi=t}function Cf(t){t.return!==null&&(Qi(t,1),Mg(t,1,0))}function If(t){for(;t===nc;)nc=Na[--xa],Na[xa]=null,nl=Na[--xa],Na[xa]=null;for(;t===Ns;)Ns=Un[--zn],Un[zn]=null,Mi=Un[--zn],Un[zn]=null,Oi=Un[--zn],Un[zn]=null}function Vg(t,i){Un[zn++]=Oi,Un[zn++]=Mi,Un[zn++]=Ns,Oi=i.id,Mi=i.overflow,Ns=t}var Ht=null,ot=null,Be=!1,xs=null,Bn=!1,Df=Error(r(519));function Os(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(jn(i,t)),Df}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Pt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Me(wl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),As(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||J_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=ei),i=!0):i=!1,i||Os(t,!0)}function Lg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ht=Ht.return}}function Oa(t){if(t!==Ht)return!1;if(!Be)return Lg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&ot&&Os(t),Lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=ov(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=ov(t)}else i===27?(i=ot,Ys(t.type)?(t=Jd,Jd=null,ot=t):ot=i):ot=Ht?Hn(t.stateNode.nextSibling):null;return!0}function zr(){ot=Ht=null,Be=!1}function Nf(){var t=xs;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),xs=null),t}function il(t){xs===null?xs=[t]:xs.push(t)}var xf=x(null),Br=null,Xi=null;function Ms(t,i,a){re(xf,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=xf.current,K(xf)}function Of(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var O=0;O<i.length;O++)if(A.context===i[O]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Of(d.return,a,t),l||(_=null);break e}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Of(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ma(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=h.type;An(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Mf(i,t,a,l),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Br=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Pg(Br,t)}function sc(t,i){return Br===null&&qr(t),Pg(t,i)}function Pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(r(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var jA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},UA=s.unstable_scheduleCallback,zA=s.unstable_NormalPriority,wt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new jA,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&UA(zA,function(){t.controller.abort()})}var rl=null,kf=0,Va=0,ka=null;function BA(t,i){if(rl===null){var a=rl=[];kf=0,Va=jd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(jg,jg),i}function jg(){if(--kf===0&&rl!==null){ka!==null&&(ka.status="fulfilled");var t=rl;rl=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function qA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ug=W.S;W.S=function(t,i){S_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BA(t,i),Ug!==null&&Ug(t,i)};var Hr=x(null);function Lf(){var t=Hr.current;return t!==null?t:it.pooledCache}function rc(t,i){i===null?re(Hr,Hr.current):re(Hr,i.pool)}function zg(){var t=Lf();return t===null?null:{parent:wt._currentValue,pool:t}}var La=Error(r(460)),Pf=Error(r(474)),ac=Error(r(542)),oc={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ei,ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t;default:if(typeof i.status=="string")i.then(ei,ei);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t}throw Gr=i,La}}function Fr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,La):a}}var Gr=null;function Hg(){if(Gr===null)throw Error(r(459));var t=Gr;return Gr=null,t}function Fg(t){if(t===La||t===ac)throw Error(r(483))}var Pa=null,al=0;function lc(t){var i=al;return al+=1,Pa===null&&(Pa=[]),qg(Pa,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gg(t){function i(U,k){if(t){var H=U.deletions;H===null?(U.deletions=[k],U.flags|=16):H.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=$i(U,k),U.index=0,U.sibling=null,U}function d(U,k,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<k?(U.flags|=67108866,k):H):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,k,H,ee){return k===null||k.tag!==6?(k=wf(H,U.mode,ee),k.return=U,k):(k=h(k,H),k.return=U,k)}function O(U,k,H,ee){var Ee=H.type;return Ee===z?J(U,k,H.props.children,ee,H.key):k!==null&&(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Fr(Ee)===k.type)?(k=h(k,H.props),ol(k,H),k.return=U,k):(k=tc(H.type,H.key,H.props,null,U.mode,ee),ol(k,H),k.return=U,k)}function F(U,k,H,ee){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Rf(H,U.mode,ee),k.return=U,k):(k=h(k,H.children||[]),k.return=U,k)}function J(U,k,H,ee,Ee){return k===null||k.tag!==7?(k=Ur(H,U.mode,ee,Ee),k.return=U,k):(k=h(k,H),k.return=U,k)}function ne(U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wf(""+k,U.mode,H),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return H=tc(k.type,k.key,k.props,null,U.mode,H),ol(H,k),H.return=U,H;case j:return k=Rf(k,U.mode,H),k.return=U,k;case b:return k=Fr(k),ne(U,k,H)}if(at(k)||V(k))return k=Ur(k,U.mode,H,null),k.return=U,k;if(typeof k.then=="function")return ne(U,lc(k),H);if(k.$$typeof===oe)return ne(U,sc(U,k),H);uc(U,k)}return null}function G(U,k,H,ee){var Ee=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:A(U,k,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===Ee?O(U,k,H,ee):null;case j:return H.key===Ee?F(U,k,H,ee):null;case b:return H=Fr(H),G(U,k,H,ee)}if(at(H)||V(H))return Ee!==null?null:J(U,k,H,ee,null);if(typeof H.then=="function")return G(U,k,lc(H),ee);if(H.$$typeof===oe)return G(U,k,sc(U,H),ee);uc(U,H)}return null}function Q(U,k,H,ee,Ee){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(H)||null,A(k,U,""+ee,Ee);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return U=U.get(ee.key===null?H:ee.key)||null,O(k,U,ee,Ee);case j:return U=U.get(ee.key===null?H:ee.key)||null,F(k,U,ee,Ee);case b:return ee=Fr(ee),Q(U,k,H,ee,Ee)}if(at(ee)||V(ee))return U=U.get(H)||null,J(k,U,ee,Ee,null);if(typeof ee.then=="function")return Q(U,k,H,lc(ee),Ee);if(ee.$$typeof===oe)return Q(U,k,H,sc(k,ee),Ee);uc(k,ee)}return null}function pe(U,k,H,ee){for(var Ee=null,Fe=null,_e=k,xe=k=0,Pe=null;_e!==null&&xe<H.length;xe++){_e.index>xe?(Pe=_e,_e=null):Pe=_e.sibling;var Ge=G(U,_e,H[xe],ee);if(Ge===null){_e===null&&(_e=Pe);break}t&&_e&&Ge.alternate===null&&i(U,_e),k=d(Ge,k,xe),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge,_e=Pe}if(xe===H.length)return a(U,_e),Be&&Qi(U,xe),Ee;if(_e===null){for(;xe<H.length;xe++)_e=ne(U,H[xe],ee),_e!==null&&(k=d(_e,k,xe),Fe===null?Ee=_e:Fe.sibling=_e,Fe=_e);return Be&&Qi(U,xe),Ee}for(_e=l(_e);xe<H.length;xe++)Pe=Q(_e,U,xe,H[xe],ee),Pe!==null&&(t&&Pe.alternate!==null&&_e.delete(Pe.key===null?xe:Pe.key),k=d(Pe,k,xe),Fe===null?Ee=Pe:Fe.sibling=Pe,Fe=Pe);return t&&_e.forEach(function(Ws){return i(U,Ws)}),Be&&Qi(U,xe),Ee}function Ae(U,k,H,ee){if(H==null)throw Error(r(151));for(var Ee=null,Fe=null,_e=k,xe=k=0,Pe=null,Ge=H.next();_e!==null&&!Ge.done;xe++,Ge=H.next()){_e.index>xe?(Pe=_e,_e=null):Pe=_e.sibling;var Ws=G(U,_e,Ge.value,ee);if(Ws===null){_e===null&&(_e=Pe);break}t&&_e&&Ws.alternate===null&&i(U,_e),k=d(Ws,k,xe),Fe===null?Ee=Ws:Fe.sibling=Ws,Fe=Ws,_e=Pe}if(Ge.done)return a(U,_e),Be&&Qi(U,xe),Ee;if(_e===null){for(;!Ge.done;xe++,Ge=H.next())Ge=ne(U,Ge.value,ee),Ge!==null&&(k=d(Ge,k,xe),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Qi(U,xe),Ee}for(_e=l(_e);!Ge.done;xe++,Ge=H.next())Ge=Q(_e,U,xe,Ge.value,ee),Ge!==null&&(t&&Ge.alternate!==null&&_e.delete(Ge.key===null?xe:Ge.key),k=d(Ge,k,xe),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge);return t&&_e.forEach(function(Zb){return i(U,Zb)}),Be&&Qi(U,xe),Ee}function nt(U,k,H,ee){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var Ee=H.key;k!==null;){if(k.key===Ee){if(Ee=H.type,Ee===z){if(k.tag===7){a(U,k.sibling),ee=h(k,H.props.children),ee.return=U,U=ee;break e}}else if(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Fr(Ee)===k.type){a(U,k.sibling),ee=h(k,H.props),ol(ee,H),ee.return=U,U=ee;break e}a(U,k);break}else i(U,k);k=k.sibling}H.type===z?(ee=Ur(H.props.children,U.mode,ee,H.key),ee.return=U,U=ee):(ee=tc(H.type,H.key,H.props,null,U.mode,ee),ol(ee,H),ee.return=U,U=ee)}return _(U);case j:e:{for(Ee=H.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(U,k.sibling),ee=h(k,H.children||[]),ee.return=U,U=ee;break e}else{a(U,k);break}else i(U,k);k=k.sibling}ee=Rf(H,U.mode,ee),ee.return=U,U=ee}return _(U);case b:return H=Fr(H),nt(U,k,H,ee)}if(at(H))return pe(U,k,H,ee);if(V(H)){if(Ee=V(H),typeof Ee!="function")throw Error(r(150));return H=Ee.call(H),Ae(U,k,H,ee)}if(typeof H.then=="function")return nt(U,k,lc(H),ee);if(H.$$typeof===oe)return nt(U,k,sc(U,H),ee);uc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(U,k.sibling),ee=h(k,H),ee.return=U,U=ee):(a(U,k),ee=wf(H,U.mode,ee),ee.return=U,U=ee),_(U)):a(U,k)}return function(U,k,H,ee){try{al=0;var Ee=nt(U,k,H,ee);return Pa=null,Ee}catch(_e){if(_e===La||_e===ac)throw _e;var Fe=bn(29,_e,null,U.mode);return Fe.lanes=ee,Fe.return=U,Fe}}}var Yr=Gg(!0),Yg=Gg(!1),Vs=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),Dg(t,null,a),i}return Zu(t,l,i,a),ec(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Bf=!1;function ul(){if(Bf){var t=ka;if(t!==null)throw t}}function cl(t,i,a,l){Bf=!1;var h=t.updateQueue;Vs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var O=A,F=O.next;O.next=null,_===null?d=F:_.next=F,_=O;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=F:A.next=F,J.lastBaseUpdate=O))}if(d!==null){var ne=h.baseState;_=0,J=F=O=null,A=d;do{var G=A.lane&-536870913,Q=G!==A.lane;if(Q?(Le&G)===G:(l&G)===G){G!==0&&G===Va&&(Bf=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Ae=A;G=i;var nt=a;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){ne=pe.call(nt,ne,G);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,G=typeof pe=="function"?pe.call(nt,ne,G):pe,G==null)break e;ne=S({},ne,G);break e;case 2:Vs=!0}}G=A.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(F=J=Q,O=ne):J=J.next=Q,_|=G;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(O=ne),h.baseState=O,h.firstBaseUpdate=F,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Bs|=_,t.lanes=_,t.memoizedState=ne}}function Kg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Kg(a[t],i)}var ja=x(null),cc=x(0);function Qg(t,i){t=as,re(cc,t),re(ja,i),as=t|i.baseLanes}function qf(){re(cc,as),re(ja,ja.current)}function Hf(){as=cc.current,K(ja),K(cc)}var wn=x(null),qn=null;function Ps(t){var i=t.alternate;re(yt,yt.current&1),re(wn,t),qn===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(qn=t)}function Ff(t){re(yt,yt.current),re(wn,t),qn===null&&(qn=t)}function Xg(t){t.tag===22?(re(yt,yt.current),re(wn,t),qn===null&&(qn=t)):js()}function js(){re(yt,yt.current),re(wn,wn.current)}function Rn(t){K(wn),qn===t&&(qn=null),K(yt)}var yt=x(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||Wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,Ne=null,et=null,Rt=null,fc=!1,Ua=!1,Kr=!1,dc=0,hl=0,za=null,HA=0;function dt(){throw Error(r(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Yf(t,i,a,l,h,d){return Ji=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?My:od,Kr=!1,d=a(l,h),Kr=!1,Ua&&(d=Jg(i,a,l,h)),Wg(t),d}function Wg(t){W.H=ml;var i=et!==null&&et.next!==null;if(Ji=0,Rt=et=Ne=null,fc=!1,hl=0,za=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&ic(t)&&(Ct=!0))}function Jg(t,i,a,l){Ne=t;var h=0;do{if(Ua&&(za=null),hl=0,Ua=!1,25<=h)throw Error(r(301));if(h+=1,Rt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Vy,d=i(a,l)}while(Ua);return d}function FA(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Kf(){var t=dc!==0;return dc=0,t}function $f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}Ji=0,Rt=et=Ne=null,Ua=!1,hl=dc=0,za=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(et===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Ne.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,za===null&&(za=[]),t=qg(za,t,i),i=Ne,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?My:od),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===oe)return Ft(t)}throw Error(r(438,String(t)))}function Xf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=_t();return Wf(i,et,t)}function Wf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=_=null,O=null,F=i,J=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Le&ne)===ne:(Ji&ne)===ne){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===Va&&(J=!0);else if((Ji&G)===G){F=F.next,G===Va&&(J=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(A=O=ne,_=d):O=O.next=ne,Ne.lanes|=G,Bs|=G;ne=F.action,Kr&&a(d,ne),d=F.hasEagerState?F.eagerState:a(d,ne)}else G={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(A=O=G,_=d):O=O.next=G,Ne.lanes|=ne,Bs|=ne;F=F.next}while(F!==null&&F!==i);if(O===null?_=d:O.next=A,!An(d,t.memoizedState)&&(Ct=!0,J&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);An(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Zg(t,i,a){var l=Ne,h=_t(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!An((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,td(ny.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},ty.bind(null,l,h,a,i),null),it===null)throw Error(r(349));d||(Ji&127)!==0||ey(l,i,a)}return a}function ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=mc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ty(t,i,a,l){i.value=a,i.getSnapshot=l,iy(i)&&sy(t)}function ny(t,i,a){return a(function(){iy(i)&&sy(t)})}function iy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function sy(t){var i=jr(t,2);i!==null&&yn(i,t,2)}function Zf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Kr){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function ry(t,i,a,l){return t.baseState=a,Wf(t,et,typeof l=="function"?l:Zi)}function GA(t,i,a,l,h){if(vc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ay(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var A=a(h,l),O=W.S;O!==null&&O(_,A),oy(t,i,A)}catch(F){ed(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(h,l),oy(t,i,d)}catch(F){ed(t,i,F)}}function oy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(t,i,l)},function(l){return ed(t,i,l)}):ly(t,i,a)}function ly(t,i,a){i.status="fulfilled",i.value=a,uy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ay(t,a)))}function ed(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,uy(i),i=i.next;while(i!==l)}t.action=null}function uy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cy(t,i){return i}function hy(t,i){if(Be){var a=it.formState;if(a!==null){e:{var l=Ne;if(Be){if(ot){t:{for(var h=ot,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Hn(h.nextSibling),l=h.data==="F!";break e}}Os(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:i},a.queue=l,a=Ny.bind(null,Ne,l),l.dispatch=a,l=Zf(!1),d=ad.bind(null,Ne,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=GA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function fy(t){var i=_t();return dy(i,et,t)}function dy(t,i,a){if(i=Wf(t,i,cy)[0],t=gc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===La?ac:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ba(9,{destroy:void 0},YA.bind(null,h,a),null)),[l,d,t]}function YA(t,i){t.action=i}function my(t){var i=_t(),a=et;if(a!==null)return dy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=mc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function py(){return _t().memoizedState}function yc(t,i,a,l){var h=on();Ne.flags|=t,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Gf(l,et.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(Ne.flags|=t,h.memoizedState=Ba(1|i,d,a,l))}function gy(t,i){yc(8390656,8,t,i)}function td(t,i){_c(2048,8,t,i)}function KA(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=mc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function yy(t){var i=_t().memoizedState;return KA({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function _y(t,i){return _c(4,2,t,i)}function vy(t,i){return _c(4,4,t,i)}function Ey(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ty(t,i,a){a=a!=null?a.concat([t]):null,_c(4,4,Ey.bind(null,i,t),a)}function nd(){}function Sy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ay(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=t(),Kr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function id(t,i,a){return a===void 0||(Ji&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=b_(),Ne.lanes|=t,Bs|=t,a)}function by(t,i,a,l){return An(a,i)?a:ja.current!==null?(t=id(t,a,l),An(t,i)||(Ct=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Le&261930)===0?(Ct=!0,t.memoizedState=a):(t=b_(),Ne.lanes|=t,Bs|=t,i)}function wy(t,i,a,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var _=W.T,A={};W.T=A,ad(t,!1,i,a);try{var O=h(),F=W.S;if(F!==null&&F(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=qA(O,l);dl(t,i,J,Dn(t))}else dl(t,i,l,Dn(t))}catch(ne){dl(t,i,{then:function(){},status:"rejected",reason:ne},Dn())}finally{ce.p=d,_!==null&&A.types!==null&&(_.types=A.types),W.T=_}}function $A(){}function sd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Ry(t).queue;wy(t,h,i,ve,a===null?$A:function(){return Cy(t),a(l)})}function Ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ve},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cy(t){var i=Ry(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},Dn())}function rd(){return Ft(Nl)}function Iy(){return _t().memoizedState}function Dy(){return _t().memoizedState}function QA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=ks(a);var l=Ls(i,t,a);l!==null&&(yn(l,i,a),ll(l,i,a)),i={cache:Vf()},t.payload=i;return}i=i.return}}function XA(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?xy(i,a):(a=Af(t,i,a,l),a!==null&&(yn(a,t,l),Oy(a,i,l)))}function Ny(t,i,a){var l=Dn();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(h.hasEagerState=!0,h.eagerState=A,An(A,_))return Zu(t,i,h,0),it===null&&Ju(),!1}catch{}if(a=Af(t,i,h,l),a!==null)return yn(a,t,l),Oy(a,i,l),!0}return!1}function ad(t,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(r(479))}else i=Af(t,a,l,2),i!==null&&yn(i,t,2)}function vc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function xy(t,i){Ua=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Oy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var ml={readContext:Ft,use:pc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ml.useEffectEvent=dt;var My={readContext:Ft,use:pc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:gy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Ey.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Kr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Kr){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Zf(t);var i=t.queue,a=Ny.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,i){var a=on();return id(a,t,i)},useTransition:function(){var t=Zf(!1);return t=wy.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=on();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(Le&127)!==0||ey(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},ty.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(Be){var a=Mi,l=Oi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=HA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:hy,useActionState:hy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return on().memoizedState=QA.bind(null,Ne)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},od={readContext:Ft,use:pc,useCallback:Sy,useContext:Ft,useEffect:td,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Ay,useReducer:gc,useRef:py,useState:function(){return gc(Zi)},useDebugValue:nd,useDeferredValue:function(t,i){var a=_t();return by(a,et.memoizedState,t,i)},useTransition:function(){var t=gc(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Zg,useId:Iy,useHostTransitionStatus:rd,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=_t();return ry(a,et,t,i)},useMemoCache:Xf,useCacheRefresh:Dy};od.useEffectEvent=yy;var Vy={readContext:Ft,use:pc,useCallback:Sy,useContext:Ft,useEffect:td,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Ay,useReducer:Jf,useRef:py,useState:function(){return Jf(Zi)},useDebugValue:nd,useDeferredValue:function(t,i){var a=_t();return et===null?id(a,t,i):by(a,et.memoizedState,t,i)},useTransition:function(){var t=Jf(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Zg,useId:Iy,useHostTransitionStatus:rd,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=_t();return et!==null?ry(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Dy};Vy.useEffectEvent=yy;function ld(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=ks(l);h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(yn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=ks(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ls(t,h,l),i!==null&&(yn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=ks(a);l.tag=2,i!=null&&(l.callback=i),i=Ls(t,l,a),i!==null&&(yn(i,t,a),ll(i,t,a))}};function ky(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Ly(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ud.enqueueReplaceState(i,i.state,null)}function $r(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Py(t){Wu(t)}function jy(t){console.error(t)}function Uy(t){Wu(t)}function Ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function zy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,i,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,i)},a}function By(t){return t=ks(t),t.tag=3,t}function qy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){zy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){zy(i,a,l),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function WA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Oc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(r(435,a.tag))}return kd(t,l,h),Oc(),!1}if(Be)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Df&&(t=Error(r(422),{cause:l}),il(jn(t,a)))):(l!==Df&&(i=Error(r(423),{cause:l}),il(jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=cd(t.stateNode,l,h),zf(t,h),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=jn(d,a),Sl===null?Sl=[d]:Sl.push(d),mt!==4&&(mt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,l,t),zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qs===null||!qs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=By(h),qy(h,t,a,l),zf(a,h),!1}a=a.return}while(a!==null);return!1}var hd=Error(r(461)),Ct=!1;function Gt(t,i,a,l){i.child=t===null?Yg(i,null,a,l):Yr(i,t.child,a,l)}function Hy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return qr(i),l=Yf(t,i,a,_,d,h),A=Kf(),t!==null&&!Ct?($f(t,i,h),es(t,i,h)):(Be&&A&&Cf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Fy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Gy(t,i,d,l,h)):(t=tc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!vd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return es(t,i,h)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function Gy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,es(t,i,h)}return fd(t,i,a,l,h)}function Yy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ky(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):qf(),Xg(i);else return l=i.lanes=536870912,Ky(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),Qg(i,d),js(),i.memoizedState=null):(t!==null&&rc(i,null),qf(),js());return Gt(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ky(t,i,a,l,h){var d=Lf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),qf(),Xg(i),t!==null&&Ma(t,i,l,!0),i.childLanes=h,null}function Tc(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $y(t,i,a){return Yr(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function JA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Tc(i,l),i.lanes=536870912,pl(null,t);if(Ff(i),(t=ot)?(t=av(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ht=i,ot=null)):t=null,t===null)throw Os(i);return i.lanes=536870912,null}return Tc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Ff(i),h)if(i.flags&256)i.flags&=-257,i=$y(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||Ma(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=it,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,jr(t,_),yn(l,t,_),hd;Oc(),i=$y(t,i,a)}else t=d.treeContext,ot=Hn(_.nextSibling),Ht=i,Be=!0,xs=null,Bn=!1,t!==null&&Vg(i,t),i=Tc(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function fd(t,i,a,l,h){return qr(i),a=Yf(t,i,a,l,void 0,h),l=Kf(),t!==null&&!Ct?($f(t,i,h),es(t,i,h)):(Be&&l&&Cf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Qy(t,i,a,l,h,d){return qr(i),i.updateQueue=null,a=Jg(i,l,a,h),Wg(t),l=Kf(),t!==null&&!Ct?($f(t,i,d),es(t,i,d)):(Be&&l&&Cf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Xy(t,i,a,l,h){if(qr(i),i.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Da,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ld(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ud.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,O=$r(a,A);d.props=O;var F=d.context,J=a.contextType;_=Da,typeof J=="object"&&J!==null&&(_=Ft(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==_)&&Ly(i,d,l,_),Vs=!1;var G=i.memoizedState;d.state=G,cl(i,l,d,h),ul(),F=i.memoizedState,A||G!==F||Vs?(typeof ne=="function"&&(ld(i,a,ne,l),F=i.memoizedState),(O=Vs||ky(i,a,O,l,G,F,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),_=i.memoizedProps,J=$r(a,_),d.props=J,ne=i.pendingProps,G=d.context,F=a.contextType,O=Da,typeof F=="object"&&F!==null&&(O=Ft(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||G!==O)&&Ly(i,d,l,O),Vs=!1,G=i.memoizedState,d.state=G,cl(i,l,d,h),ul();var Q=i.memoizedState;_!==ne||G!==Q||Vs||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof A=="function"&&(ld(i,a,A,l),Q=i.memoizedState),(J=Vs||ky(i,a,J,l,G,Q,O)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Yr(i,t.child,null,h),i.child=Yr(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=es(t,i,h),t}function Wy(t,i,a,l){return zr(),i.flags|=256,Gt(t,i,a,l),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:zg()}}function pd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function Jy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Ps(i):js(),(t=ot)?(t=av(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Ht=i,ot=null)):t=null,t===null)throw Os(i);return Wd(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(js(),h=i.mode,A=Ac({mode:"hidden",children:A},h),l=Ur(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=md(a),l.childLanes=pd(t,_,a),i.memoizedState=dd,pl(null,l)):(Ps(i),gd(i,A))}var O=t.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(d)i.flags&256?(Ps(i),i.flags&=-257,i=yd(t,i,a)):i.memoizedState!==null?(js(),i.child=t.child,i.flags|=128,i=null):(js(),A=l.fallback,h=i.mode,l=Ac({mode:"visible",children:l.children},h),A=Ur(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Yr(i,t.child,null,a),l=i.child,l.memoizedState=md(a),l.childLanes=pd(t,_,a),i.memoizedState=dd,i=pl(null,l));else if(Ps(i),Wd(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=yd(t,i,a)}else if(Ct||Ma(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=it,_!==null&&(l=Lo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,jr(t,l),yn(_,t,l),hd;Xd(A)||Oc(),i=yd(t,i,a)}else Xd(A)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,ot=Hn(A.nextSibling),Ht=i,Be=!0,xs=null,Bn=!1,t!==null&&Vg(i,t),i=gd(i,l.children),i.flags|=4096);return i}return h?(js(),A=l.fallback,h=i.mode,O=t.child,F=O.sibling,l=$i(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?A=$i(F,A):(A=Ur(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,pl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=md(a):(h=A.cachePool,h!==null?(O=wt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=zg(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=pd(t,_,a),i.memoizedState=dd,pl(t.child,l)):(Ps(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function gd(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function yd(t,i,a){return Yr(i,t.child,null,a),t=gd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Of(t.return,i,a)}function _d(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function e_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Gt(t,i,l,a),l=Be?nl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,a,i);else if(t.tag===19)Zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),_d(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(i,!0,a,null,d,l);break;case"together":_d(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function es(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Bs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ma(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function ZA(t,i,a){switch(i.tag){case 3:Ye(i,i.stateNode.containerInfo),Ms(i,wt,t.memoizedState.cache),zr();break;case 27:case 5:ln(i);break;case 4:Ye(i,i.stateNode.containerInfo);break;case 10:Ms(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ff(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Jy(t,i,a):(Ps(i),t=es(t,i,a),t!==null?t.sibling:null);Ps(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return e_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Yy(t,i,a,i.pendingProps);case 24:Ms(i,wt,t.memoizedState.cache)}return es(t,i,a)}function t_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!vd(t,a)&&(i.flags&128)===0)return Ct=!1,ZA(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Be&&(i.flags&1048576)!==0&&Mg(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fr(i.elementType),i.type=t,typeof t=="function")bf(t)?(l=$r(t,l),i.tag=1,i=Xy(null,i,t,l,a)):(i.tag=0,i=fd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=Hy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Fy(null,i,t,l,a);break e}}throw i=He(t)||t,Error(r(306,i,""))}}return i;case 0:return fd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=$r(l,i.pendingProps),Xy(t,i,l,h,a);case 3:e:{if(Ye(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ms(i,wt,l),l!==d.cache&&Mf(i,[wt],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Wy(t,i,l,a);break e}else if(l!==h){h=jn(Error(r(424)),i),il(h),i=Wy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Hn(t.firstChild),Ht=i,Be=!0,xs=null,Bn=!0,a=Yg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zr(),l===h){i=es(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Sc(t,i),t===null?(a=fv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Uc(ye.current).createElement(a),l[St]=i,l[Pt]=t,Yt(l,a,t),At(l),i.stateNode=l):i.memoizedState=fv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ln(i),t===null&&Be&&(l=i.stateNode=uv(i.type,i.pendingProps,ye.current),Ht=i,Bn=!0,h=ot,Ys(i.type)?(Jd=h,ot=Hn(l.firstChild)):ot=h),Gt(t,i,i.pendingProps.children,a),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=Db(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Ht=i,ot=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Os(i)),ln(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Kd(h,d)?l=null:_!==null&&Kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(t,i,FA,null,null,a),Nl._currentValue=h),Sc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=Nb(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Ht=i,ot=null,t=!0):t=!1),t||Os(i)),null;case 13:return Jy(t,i,a);case 4:return Ye(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Yr(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Hy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ms(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qr(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Fy(t,i,i.type,i.pendingProps,a);case 15:return Gy(t,i,i.type,i.pendingProps,a);case 19:return e_(t,i,a);case 31:return JA(t,i,a);case 22:return Yy(t,i,a,i.pendingProps);case 24:return qr(i),l=Ft(wt),t===null?(h=Lf(),h===null&&(h=it,d=Vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),Ms(i,wt,h)):((t.lanes&a)!==0&&(Uf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ms(i,wt,l)):(l=d.cache,Ms(i,wt,l),l!==h.cache&&Mf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ts(t){t.flags|=4}function Ed(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(I_())t.flags|=8192;else throw Gr=oc,Pf}else t.flags&=-16777217}function n_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(i))if(I_())t.flags|=8192;else throw Gr=oc,Pf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,Ga|=i)}function gl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function eb(t,i,a){var l=i.pendingProps;switch(If(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(wt),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(i)?ts(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nf())),lt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ts(i),d!==null?(lt(i),n_(i,d)):(lt(i),Ed(i,h,null,l,a))):d?d!==t.memoizedState?(ts(i),lt(i),n_(i,d)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ts(i),lt(i),Ed(i,h,t,l,a)),null;case 27:if(nn(i),a=ye.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return lt(i),null}t=ue.current,Oa(i)?kg(i):(t=uv(h,l,a),i.stateNode=t,ts(i))}return lt(i),null;case 5:if(nn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return lt(i),null}if(d=ue.current,Oa(i))kg(i);else{var _=Uc(ye.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ts(i)}}return lt(i),Ed(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ye.current,Oa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||J_(t.nodeValue,a)),t||Os(i,!0)}else t=Uc(t).createTextNode(l),t[St]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),lt(i),null);case 4:return ke(),t===null&&qd(i.stateNode.containerInfo),lt(i),null;case 10:return Wi(i.type),lt(i),null;case 19:if(K(yt),l=i.memoizedState,l===null)return lt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ng(a,t),a=a.sibling;return re(yt,yt.current&1|2),Be&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Dc&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304)}else{if(!h)if(t=hc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return lt(i),null}else 2*rn()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),Be&&Qi(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return Rn(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(Hr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(wt),lt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function tb(t,i){switch(If(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(wt),ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return nn(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(r(340));zr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));zr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(yt),null;case 4:return ke(),null;case 10:return Wi(i.type),null;case 22:case 23:return Rn(i),Hf(),t!==null&&K(Hr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(wt),null;case 25:return null;default:return null}}function i_(t,i){switch(If(i),i.tag){case 3:Wi(wt),ke();break;case 26:case 27:case 5:nn(i);break;case 4:ke();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:K(yt);break;case 10:Wi(i.type);break;case 22:case 23:Rn(i),Hf(),t!==null&&K(Hr);break;case 24:Wi(wt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(A){Je(i,i.return,A)}}function Us(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var O=a,F=A;try{F()}catch(J){Je(h,O,J)}}}l=l.next}while(l!==d)}}catch(J){Je(i,i.return,J)}}function s_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(l){Je(t,t.return,l)}}}function r_(t,i,a){a.props=$r(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function a_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Td(t,i,a){try{var l=t.stateNode;Ab(l,t.type,a,i),l[Pt]=i}catch(h){Je(t,t.return,h)}}function o_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ei));else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ad(t,i,a),t=t.sibling;t!==null;)Ad(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function l_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,a),i[St]=t,i[Pt]=a}catch(d){Je(t,t.return,d)}}var ns=!1,It=!1,bd=!1,u_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function nb(t,i){if(t=t.containerInfo,Gd=Yc,t=Tg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,O=-1,F=0,J=0,ne=t,G=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(A=_+h),ne!==d||l!==0&&ne.nodeType!==3||(O=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)G=ne,ne=Q;for(;;){if(ne===t)break t;if(G===a&&++F===h&&(A=_),G===d&&++J===l&&(O=_),(Q=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=Q}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Yc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=$r(a.type,h);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Je(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function c_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ss(t,a),l&4&&yl(5,a);break;case 1:if(ss(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=$r(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&s_(a),l&512&&_l(a,a.return);break;case 3:if(ss(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&l_(a);case 26:case 5:ss(t,a),i===null&&l&4&&a_(a),l&512&&_l(a,a.return);break;case 12:ss(t,a);break;case 31:ss(t,a),l&4&&d_(t,a);break;case 13:ss(t,a),l&4&&m_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hb.bind(null,a),xb(t,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){i=i!==null&&i.memoizedState!==null||It,h=ns;var d=It;ns=l,(It=i)&&!d?rs(t,a,(a.subtreeFlags&8772)!==0):ss(t,a),ns=h,It=d}break;case 30:break;default:ss(t,a)}}function h_(t){var i=t.alternate;i!==null&&(t.alternate=null,h_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function is(t,i,a){for(a=a.child;a!==null;)f_(t,i,a),a=a.sibling}function f_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:It||Vi(a,i),is(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Vi(a,i);var l=ct,h=dn;Ys(a.type)&&(ct=a.stateNode,dn=!1),is(t,i,a),Cl(a.stateNode),ct=l,dn=h;break;case 5:It||Vi(a,i);case 6:if(l=ct,h=dn,ct=null,is(t,i,a),ct=l,dn=h,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(dn?(t=ct,sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):sv(ct,a.stateNode));break;case 4:l=ct,h=dn,ct=a.stateNode.containerInfo,dn=!0,is(t,i,a),ct=l,dn=h;break;case 0:case 11:case 14:case 15:Us(2,a,i),It||Us(4,a,i),is(t,i,a);break;case 1:It||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,i,l)),is(t,i,a);break;case 21:is(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,is(t,i,a),It=l;break;default:is(t,i,a)}}function d_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){Je(i,i.return,a)}}}function m_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){Je(i,i.return,a)}}function ib(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new u_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new u_),i;default:throw Error(r(435,t.tag))}}function Rc(t,i){var a=ib(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=fb.bind(null,t,l);l.then(h,h)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Ys(A.type)){ct=A.stateNode,dn=!1;break e}break;case 5:ct=A.stateNode,dn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,dn=!0;break e}A=A.return}if(ct===null)throw Error(r(160));f_(d,_,h),ct=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,t),i=i.sibling}var ai=null;function p_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Us(3,t,t.return),yl(3,t),Us(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(It||a===null||Vi(a,a.return)),l&64&&ns&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(mn(i,t),pn(t),l&512&&(It||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=pv("link","href",h).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?gv(h,t.type,t.stateNode):mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(It||a===null||Vi(a,a.return)),a!==null&&l&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(It||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(pe){Je(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){Je(t,t.return,pe)}}break;case 3:if(qc=null,h=ai,ai=zc(i.containerInfo),mn(i,t),ai=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(pe){Je(t,t.return,pe)}bd&&(bd=!1,g_(t));break;case 4:l=ai,ai=zc(t.stateNode.containerInfo),mn(i,t),pn(t),ai=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ns,J=It;if(ns=F||h,It=J||O,mn(i,t),It=J,ns=F,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||ns||It||Qr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=O.stateNode;var ne=O.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){Je(O,O.return,pe)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(pe){Je(O,O.return,pe)}}}else if(i.tag===18){if(a===null){O=i;try{var Q=O.stateNode;h?rv(Q,!0):rv(O.stateNode,!1)}catch(pe){Je(O,O.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(o_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Sd(t);wc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var A=Sd(t);wc(t,A,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Sd(t);Ad(t,F,O);break;default:throw Error(r(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function g_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;g_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ss(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c_(t,i.alternate,i),i=i.sibling}function Qr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Us(4,i,i.return),Qr(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&r_(i,i.return,a),Qr(i);break;case 27:Cl(i.stateNode);case 26:case 5:Vi(i,i.return),Qr(i);break;case 22:i.memoizedState===null&&Qr(i);break;case 30:Qr(i);break;default:Qr(i)}t=t.sibling}}function rs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rs(h,d,a),yl(4,d);break;case 1:if(rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Kg(O[h],A)}catch(F){Je(l,l.return,F)}}a&&_&64&&s_(d),_l(d,d.return);break;case 27:l_(d);case 26:case 5:rs(h,d,a),a&&l===null&&_&4&&a_(d),_l(d,d.return);break;case 12:rs(h,d,a);break;case 31:rs(h,d,a),a&&_&4&&d_(h,d);break;case 13:rs(h,d,a),a&&_&4&&m_(h,d);break;case 22:d.memoizedState===null&&rs(h,d,a),_l(d,d.return);break;case 30:break;default:rs(h,d,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Rd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function oi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(t,i,a,l),i=i.sibling}function y_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(t,i,a,l),h&2048&&yl(9,i);break;case 1:oi(t,i,a,l);break;case 3:oi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){oi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Je(i,i.return,O)}}else oi(t,i,a,l);break;case 31:oi(t,i,a,l);break;case 13:oi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?oi(t,i,a,l):vl(t,i):d._visibility&2?oi(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&wd(_,i);break;case 24:oi(t,i,a,l),h&2048&&Rd(i.alternate,i);break;default:oi(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,A,O,h),yl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?qa(d,_,A,O,h):vl(d,_):(J._visibility|=2,qa(d,_,A,O,h)),h&&F&2048&&wd(_.alternate,_);break;case 24:qa(d,_,A,O,h),h&&F&2048&&Rd(_.alternate,_);break;default:qa(d,_,A,O,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&wd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Rd(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function Ha(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)__(t,i,a),t=t.sibling}function __(t,i,a){switch(t.tag){case 26:Ha(t,i,a),t.flags&El&&t.memoizedState!==null&&Hb(a,ai,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,i,a);break;case 3:case 4:var l=ai;ai=zc(t.stateNode.containerInfo),Ha(t,i,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ha(t,i,a),El=l):Ha(t,i,a));break;default:Ha(t,i,a)}}function v_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,T_(l,t)}v_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E_(t),t=t.sibling}function E_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Us(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):Tl(t);break;default:Tl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,T_(l,t)}v_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Us(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function T_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Us(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(h_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var sb={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Oe=null,Le=0,We=0,Cn=null,zs=!1,Fa=!1,Cd=!1,as=0,mt=0,Bs=0,Xr=0,Id=0,In=0,Ga=0,Sl=null,gn=null,Dd=!1,Ic=0,S_=0,Dc=1/0,Nc=null,qs=null,Mt=0,Hs=null,Ya=null,os=0,Nd=0,xd=null,A_=null,Al=0,Od=null;function Dn(){return($e&2)!==0&&Le!==0?Le&-Le:W.T!==null?jd():xu()}function b_(){if(In===0)if((Le&536870912)===0||Be){var t=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),In=t}else In=536870912;return t=wn.current,t!==null&&(t.flags|=32),In}function yn(t,i,a){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Fs(t,Le,In,!1)),br(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(Xr|=a),mt===4&&Fs(t,Le,In,!1)),ki(t))}function w_(t,i,a){if(($e&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),h=l?lb(t,i):Vd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Fs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ab(a)){h=Vd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=Sl;var O=A.current.memoizedState.isDehydrated;if(O&&(Ka(A,_).flags|=256),_=Vd(A,_,!1),_!==2){if(Cd&&!O){A.errorRecoveryDisabledLanes|=d,Xr|=d,h=4;break e}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Fs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Fs(l,i,In,!zs);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Ic+300-rn(),10<h)){if(Fs(l,i,In,!zs),yi(l,0,!0)!==0)break e;os=i,l.timeoutHandle=nv(R_.bind(null,l,a,gn,Nc,Dd,i,In,Xr,Ga,zs,d,"Throttled",-0,0),h);break e}R_(l,a,gn,Nc,Dd,i,In,Xr,Ga,zs,d,null,-0,0)}}break}while(!0);ki(t)}function R_(t,i,a,l,h,d,_,A,O,F,J,ne,G,Q){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},__(i,d,ne);var pe=(d&62914560)===d?Ic-rn():(d&4194048)===d?S_-rn():0;if(pe=Fb(ne,pe),pe!==null){os=d,t.cancelPendingCommit=pe(V_.bind(null,t,i,d,a,l,h,_,A,O,J,ne,null,G,Q)),Fs(t,d,_,!F);return}}V_(t,i,d,a,l,h,_,A,O)}function ab(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fs(t,i,a,l){i&=~Id,i&=~Xr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&wr(t,a,i)}function xc(){return($e&6)===0?(bl(0),!1):!0}function Md(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Xi=Br=null,Qf(t),Pa=null,al=0,t=Oe;for(;t!==null;)i_(t.alternate,t),t=t.return;Oe=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Rb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),os=0,Md(),it=t,Oe=a=$i(t.current,null),Le=i,We=0,Cn=null,zs=!1,Fa=Wn(t,i),Cd=!1,Ga=In=Id=Xr=Bs=mt=0,gn=Sl=null,Dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return as=i,Ju(),a}function C_(t,i){Ne=null,W.H=ml,i===La||i===ac?(i=Hg(),We=3):i===Pf?(i=Hg(),We=4):We=i===hd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Oe===null&&(mt=1,Ec(t,jn(i,t.current)))}function I_(){var t=wn.current;return t===null?!0:(Le&4194048)===Le?qn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===qn:!1}function D_(){var t=W.H;return W.H=ml,t===null?ml:t}function N_(){var t=W.A;return W.A=sb,t}function Oc(){mt=4,zs||(Le&4194048)!==Le&&wn.current!==null||(Fa=!0),(Bs&134217727)===0&&(Xr&134217727)===0||it===null||Fs(it,Le,In,!1)}function Vd(t,i,a){var l=$e;$e|=2;var h=D_(),d=N_();(it!==t||Le!==i)&&(Nc=null,Ka(t,i)),i=!1;var _=mt;e:do try{if(We!==0&&Oe!==null){var A=Oe,O=Cn;switch(We){case 8:Md(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var F=We;if(We=0,Cn=null,$a(t,A,O,F),a&&Fa){_=0;break e}break;default:F=We,We=0,Cn=null,$a(t,A,O,F)}}ob(),_=mt;break}catch(J){C_(t,J)}while(!0);return i&&t.shellSuspendCounter++,Xi=Br=null,$e=l,W.H=h,W.A=d,Oe===null&&(it=null,Le=0,Ju()),_}function ob(){for(;Oe!==null;)x_(Oe)}function lb(t,i){var a=$e;$e|=2;var l=D_(),h=N_();it!==t||Le!==i?(Nc=null,Dc=rn()+500,Ka(t,i)):Fa=Wn(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=Cn;t:switch(We){case 1:We=0,Cn=null,$a(t,i,d,1);break;case 2:case 9:if(Bg(d)){We=0,Cn=null,O_(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),ki(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Bg(d)?(We=0,Cn=null,O_(i)):(We=0,Cn=null,$a(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var A=Oe;if(_?yv(_):A.stateNode.complete){We=0,Cn=null;var O=A.sibling;if(O!==null)Oe=O;else{var F=A.return;F!==null?(Oe=F,Mc(F)):Oe=null}break t}}We=0,Cn=null,$a(t,i,d,5);break;case 6:We=0,Cn=null,$a(t,i,d,6);break;case 8:Md(),mt=6;break e;default:throw Error(r(462))}}ub();break}catch(J){C_(t,J)}while(!0);return Xi=Br=null,W.H=l,W.A=h,$e=a,Oe!==null?0:(it=null,Le=0,Ju(),mt)}function ub(){for(;Oe!==null&&!cf();)x_(Oe)}function x_(t){var i=t_(t.alternate,t,as);t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function O_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Qf(i);default:i_(a,i),i=Oe=Ng(i,as),i=t_(a,i,as)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function $a(t,i,a,l){Xi=Br=null,Qf(i),Pa=null,al=0;var h=i.return;try{if(WA(t,h,i,a,Le)){mt=1,Ec(t,jn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;mt=1,Ec(t,jn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(Le&536870912)!==0?t=!1:(zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),M_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){M_(i,zs);return}t=i.return;var a=eb(i.alternate,i,as);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);mt===0&&(mt=5)}function M_(t,i){do{var a=tb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function V_(t,i,a,l,h,d,_,A,O){t.cancelPendingCommit=null;do Vc();while(Mt!==0);if(($e&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Sf,df(t,a,d,_,A,O),t===it&&(Oe=it=null,Le=0),Ya=i,Hs=t,os=a,Nd=d,xd=h,A_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,db(Es,function(){return U_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ce.p,ce.p=2,_=$e,$e|=4;try{nb(t,i,a)}finally{$e=_,ce.p=h,W.T=l}}Mt=1,k_(),L_(),P_()}}function k_(){if(Mt===1){Mt=0;var t=Hs,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ce.p;ce.p=2;var h=$e;$e|=4;try{p_(i,t);var d=Yd,_=Tg(t.containerInfo),A=d.focusedElem,O=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Eg(A.ownerDocument.documentElement,A)){if(O!==null&&yf(A)){var F=O.start,J=O.end;if(J===void 0&&(J=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(J,A.value.length);else{var ne=A.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var Q=G.getSelection(),pe=A.textContent.length,Ae=Math.min(O.start,pe),nt=O.end===void 0?Ae:Math.min(O.end,pe);!Q.extend&&Ae>nt&&(_=nt,nt=Ae,Ae=_);var U=vg(A,Ae),k=vg(A,nt);if(U&&k&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var H=ne.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),Ae>nt?(Q.addRange(H),Q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Q.addRange(H))}}}}for(ne=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var ee=ne[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Yc=!!Gd,Yd=Gd=null}finally{$e=h,ce.p=l,W.T=a}}t.current=i,Mt=2}}function L_(){if(Mt===2){Mt=0;var t=Hs,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ce.p;ce.p=2;var h=$e;$e|=4;try{c_(t,i.alternate,i)}finally{$e=h,ce.p=l,W.T=a}}Mt=3}}function P_(){if(Mt===4||Mt===3){Mt=0,bu();var t=Hs,i=Ya,a=os,l=A_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ya=Hs=null,j_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),Fi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=ce.p,ce.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{W.T=i,ce.p=h}}(os&3)!==0&&Vc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Od?Al++:(Al=0,Od=t):Al=0,bl(0)}}function j_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function Vc(){return k_(),L_(),P_(),U_()}function U_(){if(Mt!==5)return!1;var t=Hs,i=Nd;Nd=0;var a=Fi(os),l=W.T,h=ce.p;try{ce.p=32>a?32:a,W.T=null,a=xd,xd=null;var d=Hs,_=os;if(Mt=0,Ya=Hs=null,os=0,($e&6)!==0)throw Error(r(331));var A=$e;if($e|=4,E_(d.current),y_(d,d.current,_,a),$e=A,bl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{ce.p=h,W.T=l,j_(t,i)}}function z_(t,i,a){i=jn(a,i),i=cd(t.stateNode,i,2),t=Ls(t,i,2),t!==null&&(br(t,2),ki(t))}function Je(t,i,a){if(t.tag===3)z_(t,t,a);else for(;i!==null;){if(i.tag===3){z_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qs===null||!qs.has(l))){t=jn(a,t),a=By(2),l=Ls(i,a,2),l!==null&&(qy(a,l,i,t),br(l,2),ki(l));break}}i=i.return}}function kd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new rb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Cd=!0,h.add(a),t=cb.bind(null,t,i,a),i.then(t,t))}function cb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Le&a)===a&&(mt===4||mt===3&&(Le&62914560)===Le&&300>rn()-Ic?($e&2)===0&&Ka(t,0):Id|=a,Ga===Le&&(Ga=0)),ki(t)}function B_(t,i){i===0&&(i=Nu()),t=jr(t,i),t!==null&&(br(t,i),ki(t))}function hb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),B_(t,a)}function fb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),B_(t,a)}function db(t,i){return Ot(t,i)}var kc=null,Qa=null,Ld=!1,Lc=!1,Pd=!1,Gs=0;function ki(t){t!==Qa&&t.next===null&&(Qa===null?kc=Qa=t:Qa=Qa.next=t),Lc=!0,Ld||(Ld=!0,pb())}function bl(t,i){if(!Pd&&Lc){Pd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,G_(l,d))}else d=Le,d=yi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,G_(l,d));l=l.next}while(a);Pd=!1}}function mb(){q_()}function q_(){Lc=Ld=!1;var t=0;Gs!==0&&wb()&&(t=Gs);for(var i=rn(),a=null,l=kc;l!==null;){var h=l.next,d=H_(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Mt!==0&&Mt!==5||bl(t),Gs!==0&&(Gs=0)}function H_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),A=1<<_,O=h[_];O===-1?((A&a)===0||(A&l)!==0)&&(h[_]=ff(A,i)):O<=i&&(t.expiredLanes|=A),d&=~A}if(i=it,a=Le,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vs(l),Fi(a)){case 2:case 8:a=Vo;break;case 32:a=Es;break;case 268435456:a=wu;break;default:a=Es}return l=F_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vs(l),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Le;return l=yi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(w_(t,l,i),H_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?F_.bind(null,t):null)}function G_(t,i){if(Vc())return null;w_(t,i,!0)}function pb(){Cb(function(){($e&6)!==0?Ot(Mo,mb):q_()})}function jd(){if(Gs===0){var t=Va;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Gs=t}return Gs}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function K_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Y_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?Y_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Ii("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var O=_?K_(h,_):new FormData(h);sd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=_?K_(h,_):new FormData(h),sd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Ud=0;Ud<Tf.length;Ud++){var zd=Tf[Ud],yb=zd.toLowerCase(),_b=zd[0].toUpperCase()+zd.slice(1);ri(yb,"on"+_b)}ri(bg,"onAnimationEnd"),ri(wg,"onAnimationIteration"),ri(Rg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(VA,"onTransitionRun"),ri(kA,"onTransitionStart"),ri(LA,"onTransitionCancel"),ri(Cg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function $_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],O=A.instance,F=A.currentTarget;if(A=A.listener,O!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=F;try{d(h)}catch(J){Wu(J)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(A=l[_],O=A.instance,F=A.currentTarget,A=A.listener,O!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=F;try{d(h)}catch(J){Wu(J)}h.currentTarget=null,d=O}}}}function Me(t,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=t+"__bubble";a.has(l)||(Q_(i,t,2,!1),a.add(l))}function Bd(t,i,a){var l=0;i&&(l|=4),Q_(a,t,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Pc]){t[Pc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(vb.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Bd("selectionchange",!1,i))}}function Q_(t,i,a,l){switch(bv(i)){case 2:var h=Kb;break;case 8:h=$b;break;default:h=im}a=h.bind(null,i,a,t),h=void 0,!Nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=Ti(A),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Rs(function(){var F=d,J=Vn(a),ne=[];e:{var G=Ig.get(t);if(G!==void 0){var Q=Ii,pe=t;switch(t){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":Q=$u;break;case"focusin":pe="focus",Q=Vr;break;case"focusout":pe="blur",Q=Vr;break;case"beforeblur":case"afterblur":Q=Vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case bg:case wg:case Rg:Q=Bu;break;case Cg:Q=w;break;case"scroll":case"scrollend":Q=Qo;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ki;break;case"toggle":case"beforetoggle":Q=De}var Ae=(i&4)!==0,nt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var k=F,H;k!==null;){var ee=k;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||U===null||(ee=ti(k,U),ee!=null&&Ae.push(Rl(k,ee,H))),nt)break;k=k.return}0<Ae.length&&(G=new Q(G,pe,null,a,J),ne.push({event:G,listeners:Ae}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Yo&&(pe=a.relatedTarget||a.fromElement)&&(Ti(pe)||pe[vi]))break e;if((Q||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=F,pe=pe?Ti(pe):null,pe!==null&&(nt=u(pe),Ae=pe.tag,pe!==nt||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Q=null,pe=F),Q!==pe)){if(Ae=Xo,ee="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Ki,ee="onPointerLeave",U="onPointerEnter",k="pointer"),nt=Q==null?G:Tn(Q),H=pe==null?G:Tn(pe),G=new Ae(ee,k+"leave",Q,a,J),G.target=nt,G.relatedTarget=H,ee=null,Ti(J)===F&&(Ae=new Ae(U,k+"enter",pe,a,J),Ae.target=H,Ae.relatedTarget=nt,ee=Ae),nt=ee,Q&&pe)t:{for(Ae=Eb,U=Q,k=pe,H=0,ee=U;ee;ee=Ae(ee))H++;ee=0;for(var Ee=k;Ee;Ee=Ae(Ee))ee++;for(;0<H-ee;)U=Ae(U),H--;for(;0<ee-H;)k=Ae(k),ee--;for(;H--;){if(U===k||k!==null&&U===k.alternate){Ae=U;break t}U=Ae(U),k=Ae(k)}Ae=null}else Ae=null;Q!==null&&X_(ne,G,Q,Ae,!1),pe!==null&&nt!==null&&X_(ne,nt,pe,Ae,!0)}}e:{if(G=F?Tn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Fe=dg;else if(hg(G))if(mg)Fe=xA;else{Fe=DA;var _e=IA}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&_a(F.elementType)&&(Fe=dg):Fe=NA;if(Fe&&(Fe=Fe(t,F))){fg(ne,Fe,a,J);break e}_e&&_e(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ho(G,"number",G.value)}switch(_e=F?Tn(F):window,t){case"focusin":(hg(_e)||_e.contentEditable==="true")&&(Ra=_e,_f=F,tl=null);break;case"focusout":tl=_f=Ra=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Sg(ne,a,J);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":Sg(ne,a,J)}var xe;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else wa?kr(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(xi&&a.locale!=="ko"&&(wa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&wa&&(xe=$o()):(Ci=J,Ko="value"in Ci?Ci.value:Ci.textContent,wa=!0)),_e=jc(F,Pe),0<_e.length&&(Pe=new Ni(Pe,t,null,a,J),ne.push({event:Pe,listeners:_e}),xe?Pe.data=xe:(xe=ba(a),xe!==null&&(Pe.data=xe)))),(xe=Ln?bA(t,a):wA(t,a))&&(Pe=jc(F,"onBeforeInput"),0<Pe.length&&(_e=new Ni("onBeforeInput","beforeinput",null,a,J),ne.push({event:_e,listeners:Pe}),_e.data=xe)),gb(ne,t,F,a,J)}$_(ne,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=ti(t,i),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function X_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,O=A.alternate,F=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||F===null||(O=F,h?(F=ti(a,d),F!=null&&_.unshift(Rl(a,F,O))):h||(F=ti(a,d),F!=null&&_.push(Rl(a,F,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Tb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function W_(t){return(typeof t=="string"?t:""+t).replace(Tb,`
`).replace(Sb,"")}function J_(t,i){return i=W_(i),W_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ga(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,ga(t,a,l))}}function Fd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ga(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var A=d=_=h=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:tt(t,i,l,J,a,null)}}ku(t,d,A,O,F,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:tt(t,i,h,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ss(t,!!l,i,!1):a!=null&&Ss(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(t,i,_,A,a,null)}As(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Me(wl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,F,l,a,null)}return;default:if(_a(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Fd(t,i,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&tt(t,i,A,l,a,null))}function Ab(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,O=null,F=null,J=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,ne)}}for(var G in l){var Q=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(Q!=null||ne!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==ne&&tt(t,i,G,Q,l,ne)}}ya(t,_,A,O,F,J,d,h);return;case"select":Q=_=A=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==O&&tt(t,i,h,d,l,O)}i=A,a=_,l=Q,G!=null?Ss(t,!!a,G,!1):!!l!=!!a&&(i!=null?Ss(t,!!a,i,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,i,A,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Lu(t,G,Q);return;case"option":for(var pe in a)G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:tt(t,i,pe,null,l,G));for(O in l)G=l[O],Q=a[O],l.hasOwnProperty(O)&&G!==Q&&(G!=null||Q!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":tt(t,i,O,G,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&tt(t,i,Ae,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:tt(t,i,F,G,l,Q)}return;default:if(_a(i)){for(var nt in a)G=a[nt],a.hasOwnProperty(nt)&&G!==void 0&&!l.hasOwnProperty(nt)&&Fd(t,i,nt,void 0,l,G);for(J in l)G=l[J],Q=a[J],!l.hasOwnProperty(J)||G===Q||G===void 0&&Q===void 0||Fd(t,i,J,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,G);for(ne in l)G=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||G===Q||G==null&&Q==null||tt(t,i,ne,G,l,Q)}function Z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&Z_(_)){for(_=0,A=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>A)break;var J=O.transferSize,ne=O.initiatorType;J&&Z_(ne)&&(O=O.responseEnd,_+=J*(O<A?1:(A-F)/(O-F)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Yd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function wb(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(Ib)}:nv;function Ib(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function sv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);Za(i)}function rv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Db(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Nb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function av(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jd=null;function ov(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function lv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function uv(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pa(t)}var Fn=new Map,cv=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=ce.d;ce.d={f:Ob,r:Mb,D:Vb,C:kb,L:Lb,m:Pb,X:Ub,S:jb,M:zb};function Ob(){var t=ls.f(),i=xc();return t||i}function Mb(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Cy(i):ls.r(t)}var Xa=typeof document>"u"?null:document;function hv(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=hn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",t),At(i),l.head.appendChild(i)))}}function Vb(t){ls.D(t),hv("dns-prefetch",t,null)}function kb(t,i){ls.C(t,i),hv("preconnect",t,i)}function Lb(t,i,a){ls.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Ja(t)}Fn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Yt(i,"link",t),At(i),l.head.appendChild(i)))}}function Pb(t,i){ls.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!Fn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Yt(l,"link",t),At(l),a.head.appendChild(l)}}}function jb(t,i,a){ls.S(t,i,a);var l=Xa;if(l&&t){var h=Si(l).hoistableStyles,d=Wa(t);i=i||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Il(d)))A.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Zd(t,a);var O=_=l.createElement("link");At(O),Yt(O,"link",t),O._p=new Promise(function(F,J){O.onload=F,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function Ub(t,i){ls.X(t,i);var a=Xa;if(a&&t){var l=Si(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=S({src:t,async:!0},i),(i=Fn.get(h))&&em(t,i),d=a.createElement("script"),At(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zb(t,i){ls.M(t,i);var a=Xa;if(a&&t){var l=Si(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&em(t,i),d=a.createElement("script"),At(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fv(t,i,a,l){var h=(h=ye.current)?zc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=Si(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=Si(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||Bb(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=Si(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Wa(t){return'href="'+hn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Bb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),At(i),t.head.appendChild(i))}function Ja(t){return'[src="'+hn(t)+'"]'}function Dl(t){return"script[async]"+t}function mv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Yt(l,"style",h),Bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=dv(a),(h=Fn.get(h))&&Zd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Yt(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,At(h),h):(l=a,(h=Fn.get(d))&&(l=S({},a),em(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Yt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,t));return i.instance}function Bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function pv(t,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ei]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function gv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Hb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(Il(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=dv(l),(h=Fn.get(h))&&Zd(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var tm=0;function Fb(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&tm===0&&(tm=62500*bb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>tm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(Gb,t),Fc=null,Hc.call(t))}function Gb(t,i){if(!(i.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Yb(t,i,a,l,h,d,_,A,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function _v(t,i,a,l,h,d,_,A,O,F,J,ne){return t=new Yb(t,i,a,_,O,F,J,ne,A),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function vv(t){return t?(t=Da,t):Da}function Ev(t,i,a,l,h,d){h=vv(h),l.context===null?l.context=h:l.pendingContext=h,l=ks(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ls(t,l,i),a!==null&&(yn(a,t,i),ll(a,t,i))}function Tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nm(t,i){Tv(t,i),(t=t.alternate)&&Tv(t,i)}function Sv(t){if(t.tag===13||t.tag===31){var i=jr(t,67108864);i!==null&&yn(i,t,67108864),nm(t,67108864)}}function Av(t){if(t.tag===13||t.tag===31){var i=Dn();i=Rr(i);var a=jr(t,i);a!==null&&yn(a,t,i),nm(t,i)}}var Yc=!0;function Kb(t,i,a,l){var h=W.T;W.T=null;var d=ce.p;try{ce.p=2,im(t,i,a,l)}finally{ce.p=d,W.T=h}}function $b(t,i,a,l){var h=W.T;W.T=null;var d=ce.p;try{ce.p=8,im(t,i,a,l)}finally{ce.p=d,W.T=h}}function im(t,i,a,l){if(Yc){var h=sm(l);if(h===null)Hd(t,i,l,Kc,a),wv(t,l);else if(Xb(h,t,i,a,l))l.stopPropagation();else if(wv(t,l),i&4&&-1<Qb.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var O=1<<31-pt(_);A.entanglements[1]|=O,_&=~O}ki(d),($e&6)===0&&(Dc=rn()+500,bl(0))}}break;case 31:case 13:A=jr(d,2),A!==null&&yn(A,d,2),xc(),nm(d,2)}if(d=sm(l),d===null&&Hd(t,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function sm(t){return t=Vn(t),rm(t)}var Kc=null;function rm(t){if(Kc=null,t=Ti(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function bv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Mo:return 2;case Vo:return 8;case Es:case hf:return 32;case wu:return 268435456;default:return 32}default:return 32}}var am=!1,Ks=null,$s=null,Qs=null,xl=new Map,Ol=new Map,Xs=[],Qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(t,i){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&Sv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Xb(t,i,a,l,h){switch(i){case"focusin":return Ks=Ml(Ks,t,i,a,l,h),!0;case"dragenter":return $s=Ml($s,t,i,a,l,h),!0;case"mouseover":return Qs=Ml(Qs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Ml(xl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function Rv(t){var i=Ti(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){Av(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Jn(t.priority,function(){Av(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=Mn(a),i!==null&&Sv(i),t.blockedOn=a,!1;i.shift()}return!0}function Cv(t,i,a){$c(t)&&a.delete(i)}function Wb(){am=!1,Ks!==null&&$c(Ks)&&(Ks=null),$s!==null&&$c($s)&&($s=null),Qs!==null&&$c(Qs)&&(Qs=null),xl.forEach(Cv),Ol.forEach(Cv)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wb)))}var Xc=null;function Iv(t){Xc!==t&&(Xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(t){function i(O){return Qc(O,t)}Ks!==null&&Qc(Ks,t),$s!==null&&Qc($s,t),Qs!==null&&Qc(Qs,t),xl.forEach(i),Ol.forEach(i);for(var a=0;a<Xs.length;a++){var l=Xs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)Rv(a),a.blockedOn===null&&Xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||Iv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)A=_.formAction;else if(rm(h)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Iv(a)}}}function Dv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function om(t){this._internalRoot=t}Wc.prototype.render=om.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Dn();Ev(a,l,t,i,null,null)},Wc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ev(t.current,2,null,t,null,null),xc(),i[vi]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=xu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xs.length&&i!==0&&i<Xs[a].priority;a++);Xs.splice(a,0,t),a===0&&Rv(t)}};var Nv=e.version;if(Nv!=="19.2.4")throw Error(r(527,Nv,"19.2.4"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Jb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Xn=Jc.inject(Jb),Bt=Jc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Py,d=jy,_=Uy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=_v(t,1,!1,null,null,a,l,null,h,d,_,Dv),t[vi]=i.current,qd(t),new om(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Py,_=jy,A=Uy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=_v(t,1,!0,i,a??null,l,h,O,d,_,A,Dv),i.context=vv(null),a=i.current,l=Dn(),l=Rr(l),h=ks(l),h.callback=null,Ls(a,h,l),a=l,i.current.lanes=a,br(i,a),ki(i),t[vi]=i.current,qd(t),new Wc(i)},kl.version="19.2.4",kl}var zv;function lw(){if(zv)return cm.exports;zv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cm.exports=ow(),cm.exports}var uw=lw();var Bv="popstate";function cw(s={}){function e(r,o){let{pathname:u,search:f,hash:p}=r.location;return Dm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Xl(o)}return fw(e,n,null,s)}function ht(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function fi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function qv(s,e){return{usr:s.state,key:s.key,idx:e}}function Dm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||hw()}}function Xl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Eo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function fw(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,p="POP",m=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function S(){p="POP";let B=T(),Z=B==null?null:B-y;y=B,m&&m({action:p,location:z.location,delta:Z})}function C(B,Z){p="PUSH";let X=Dm(z.location,B,Z);y=T()+1;let oe=qv(X,y),ge=z.createHref(X);try{f.pushState(oe,"",ge)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(ge)}u&&m&&m({action:p,location:z.location,delta:1})}function L(B,Z){p="REPLACE";let X=Dm(z.location,B,Z);y=T();let oe=qv(X,y),ge=z.createHref(X);f.replaceState(oe,"",ge),u&&m&&m({action:p,location:z.location,delta:0})}function j(B){return dw(B)}let z={get action(){return p},get location(){return s(o,f)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,S),m=B,()=>{o.removeEventListener(Bv,S),m=null}},createHref(B){return e(o,B)},createURL:j,encodeLocation(B){let Z=j(B);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:C,replace:L,go(B){return f.go(B)}};return z}function dw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Xl(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IT(s,e,n="/"){return mw(s,e,n,!1)}function mw(s,e,n,r){let o=typeof e=="string"?Eo(e):e,u=ds(o.pathname||"/",n);if(u==null)return null;let f=DT(s);pw(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let y=Rw(u);p=bw(f[m],y,r)}return p}function DT(s,e=[],n=[],r="",o=!1){let u=(f,p,m=o,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&m)return;ht(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let S=hs([r,T.relativePath]),C=n.concat(T);f.children&&f.children.length>0&&(ht(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),DT(f.children,e,C,S,m)),!(f.path==null&&!f.index)&&e.push({path:S,score:Sw(S,f.index),routesMeta:C})};return s.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let m of NT(f.path))u(f,p,!0,m)}),e}function NT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=NT(r.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function pw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Aw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gw=/^:[\w-]+$/,yw=3,_w=2,vw=1,Ew=10,Tw=-2,Hv=s=>s==="*";function Sw(s,e){let n=s.split("/"),r=n.length;return n.some(Hv)&&(r+=Tw),e&&(r+=_w),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(gw.test(u)?yw:u===""?vw:Ew),r)}function Aw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function bw(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",f=[];for(let p=0;p<r.length;++p){let m=r[p],y=p===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=Th({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},T),C=m.route;if(!S&&y&&n&&!r[r.length-1].route.index&&(S=Th({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:hs([u,S.pathname]),pathnameBase:Nw(hs([u,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(u=hs([u,S.pathnameBase]))}return f}function Th(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=ww(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:S},C)=>{if(T==="*"){let j=p[C]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const L=p[C];return S&&!L?y[T]=void 0:y[T]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:s}}function ww(s,e=!1,n=!0){fi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Rw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ds(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Iw(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Eo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Fv(n.substring(1),"/"):u=Fv(n,e)):u=e,{pathname:u,search:xw(r),hash:Ow(o)}}function Fv(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cp(s){let e=Dw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function hp(s,e,n,r=!1){let o;typeof s=="string"?o=Eo(s):(o={...s},ht(!o.pathname||!o.pathname.includes("?"),mm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),mm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),mm("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=e.length-1;if(!r&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}p=S>=0?e[S]:"/"}let m=Iw(o,p),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||T)&&(m.pathname+="/"),m}var hs=s=>s.join("/").replace(/\/\/+/g,"/"),Nw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Ow=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Mw=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function kw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OT(s,e){let n=s;if(typeof n!="string"||!Cw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(xT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=ds(f.pathname,e);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:o=!0}catch{fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var Lw=["GET",...MT];new Set(Lw);var To=P.createContext(null);To.displayName="DataRouter";var qh=P.createContext(null);qh.displayName="DataRouterState";var Pw=P.createContext(!1),VT=P.createContext({isTransitioning:!1});VT.displayName="ViewTransition";var jw=P.createContext(new Map);jw.displayName="Fetchers";var Uw=P.createContext(null);Uw.displayName="Await";var xn=P.createContext(null);xn.displayName="Navigation";var lu=P.createContext(null);lu.displayName="Location";var Hi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var fp=P.createContext(null);fp.displayName="RouteError";var kT="REACT_ROUTER_ERROR",zw="REDIRECT",Bw="ROUTE_ERROR_RESPONSE";function qw(s){if(s.startsWith(`${kT}:${zw}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Hw(s){if(s.startsWith(`${kT}:${Bw}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Mw(e.status,e.statusText,e.data)}catch{}}function Fw(s,{relative:e}={}){ht(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(xn),{hash:o,pathname:u,search:f}=uu(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:hs([n,u])),r.createHref({pathname:p,search:f,hash:o})}function So(){return P.useContext(lu)!=null}function gr(){return ht(So(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(lu).location}var LT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PT(s){P.useContext(xn).static||P.useLayoutEffect(s)}function yr(){let{isDataRoute:s}=P.useContext(Hi);return s?i1():Gw()}function Gw(){ht(So(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(To),{basename:e,navigator:n}=P.useContext(xn),{matches:r}=P.useContext(Hi),{pathname:o}=gr(),u=JSON.stringify(cp(r)),f=P.useRef(!1);return PT(()=>{f.current=!0}),P.useCallback((m,y={})=>{if(fi(f.current,LT),!f.current)return;if(typeof m=="number"){n.go(m);return}let T=hp(m,JSON.parse(u),o,y.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:hs([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,s])}P.createContext(null);function uu(s,{relative:e}={}){let{matches:n}=P.useContext(Hi),{pathname:r}=gr(),o=JSON.stringify(cp(n));return P.useMemo(()=>hp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function Yw(s,e){return jT(s,e)}function jT(s,e,n,r,o){ht(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(xn),{matches:f}=P.useContext(Hi),p=f[f.length-1],m=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let X=S&&S.path||"";zT(y,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let C=gr(),L;if(e){let X=typeof e=="string"?Eo(e):e;ht(T==="/"||X.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=C;let j=L.pathname||"/",z=j;if(T!=="/"){let X=T.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=IT(s,{pathname:z});fi(S||B!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),fi(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=Ww(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:hs([T,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?T:hs([T,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,r,o);return e&&Z?P.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},Z):Z}function Kw(){let s=n1(),e=Vw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var $w=P.createElement(Kw,null),UT=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=Hw(s.digest);n&&(s=n)}let e=s!==void 0?P.createElement(Hi.Provider,{value:this.props.routeContext},P.createElement(fp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?P.createElement(Qw,{error:s},e):e}};UT.contextType=Pw;var pm=new WeakMap;function Qw({children:s,error:e}){let{basename:n}=P.useContext(xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=qw(e.digest);if(r){let o=pm.get(e);if(o)throw o;let u=OT(r.location,n);if(xT&&!pm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw pm.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Xw({routeContext:s,match:e,children:n}){let r=P.useContext(To);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Hi.Provider,{value:s},n)}function Ww(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,f=n?.errors;if(f!=null){let T=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ht(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let p=!1,m=-1;if(n)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=T),S.route.id){let{loaderData:C,errors:L}=n,j=S.route.loader&&!C.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||j){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=n&&r?(T,S)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kw(n.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,C)=>{let L,j=!1,z=null,B=null;n&&(L=f&&S.route.id?f[S.route.id]:void 0,z=S.route.errorElement||$w,p&&(m<0&&C===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,B=null):m===C&&(j=!0,B=S.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,C+1)),X=()=>{let oe;return L?oe=z:j?oe=B:S.route.Component?oe=P.createElement(S.route.Component,null):S.route.element?oe=S.route.element:oe=T,P.createElement(Xw,{match:S,routeContext:{outlet:T,matches:Z,isDataRoute:n!=null},children:oe})};return n&&(S.route.ErrorBoundary||S.route.errorElement||C===0)?P.createElement(UT,{location:n.location,revalidation:n.revalidation,component:z,error:L,children:X(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:y}):X()},null)}function dp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(s){let e=P.useContext(To);return ht(e,dp(s)),e}function Zw(s){let e=P.useContext(qh);return ht(e,dp(s)),e}function e1(s){let e=P.useContext(Hi);return ht(e,dp(s)),e}function mp(s){let e=e1(s),n=e.matches[e.matches.length-1];return ht(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function t1(){return mp("useRouteId")}function n1(){let s=P.useContext(fp),e=Zw("useRouteError"),n=mp("useRouteError");return s!==void 0?s:e.errors?.[n]}function i1(){let{router:s}=Jw("useNavigate"),e=mp("useNavigate"),n=P.useRef(!1);return PT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{fi(n.current,LT),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Gv={};function zT(s,e,n){!e&&!Gv[s]&&(Gv[s]=!0,fi(!1,n))}P.memo(s1);function s1({routes:s,future:e,state:n,onError:r}){return jT(s,void 0,n,r,e)}function r1({to:s,replace:e,state:n,relative:r}){ht(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(xn);fi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Hi),{pathname:f}=gr(),p=yr(),m=hp(s,cp(u),f,r==="path"),y=JSON.stringify(m);return P.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function Wr(s){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ht(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=Eo(n));let{pathname:y="/",search:T="",hash:S="",state:C=null,key:L="default"}=n,j=P.useMemo(()=>{let z=ds(y,p);return z==null?null:{location:{pathname:z,search:T,hash:S,state:C,key:L},navigationType:r}},[p,y,T,S,C,L,r]);return fi(j!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(xn.Provider,{value:m},P.createElement(lu.Provider,{children:e,value:j}))}function o1({children:s,location:e}){return Yw(Nm(s),e)}function Nm(s,e=[]){let n=[];return P.Children.forEach(s,(r,o)=>{if(!P.isValidElement(r))return;let u=[...e,o];if(r.type===P.Fragment){n.push.apply(n,Nm(r.props.children,u));return}ht(r.type===Wr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Nm(r.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Hh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function l1(s){return Hh(s)&&s.tagName.toLowerCase()==="button"}function u1(s){return Hh(s)&&s.tagName.toLowerCase()==="form"}function c1(s){return Hh(s)&&s.tagName.toLowerCase()==="input"}function h1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function f1(s,e){return s.button===0&&(!e||e==="_self")&&!h1(s)}var Zc=null;function d1(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var m1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(s){return s!=null&&!m1.has(s)?(fi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):s}function p1(s,e){let n,r,o,u,f;if(u1(s)){let p=s.getAttribute("action");r=p?ds(p,e):null,n=s.getAttribute("method")||lh,o=gm(s.getAttribute("enctype"))||uh,u=new FormData(s)}else if(l1(s)||c1(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||p.getAttribute("action");if(r=m?ds(m,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||lh,o=gm(s.getAttribute("formenctype"))||gm(p.getAttribute("enctype"))||uh,u=new FormData(p,s),!d1()){let{name:y,type:T,value:S}=s;if(T==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,S)}}else{if(Hh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,r=null,o=uh,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function g1(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&ds(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function y1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function v1(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await y1(u,n);return f.links?f.links():[]}return[]}));return A1(r.flat(1).filter(_1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(s,e,n,r,o,u){let f=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>n[y].pathname!==m.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,y)=>f(m,y)||p(m,y)):u==="data"?e.filter((m,y)=>{let T=r.routes[m.route.id];if(!T||!T.hasLoader)return!1;if(f(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function E1(s,e,{includeHydrateFallback:n}={}){return T1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function T1(s){return[...new Set(s)]}function S1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function A1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(S1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function BT(){let s=P.useContext(To);return pp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function b1(){let s=P.useContext(qh);return pp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var gp=P.createContext(void 0);gp.displayName="FrameworkContext";function qT(){let s=P.useContext(gp);return pp(s,"You must render this element inside a <HydratedRouter> element"),s}function w1(s,e){let n=P.useContext(gp),[r,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,C=P.useRef(null);P.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let z=Z=>{Z.forEach(X=>{f(X.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return C.current&&B.observe(C.current),()=>{B.disconnect()}}},[s]),P.useEffect(()=>{if(r){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[r]);let L=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?s!=="intent"?[u,C,{}]:[u,C,{onFocus:Ll(p,L),onBlur:Ll(m,j),onMouseEnter:Ll(y,L),onMouseLeave:Ll(T,j),onTouchStart:Ll(S,L)}]:[!1,C,{}]}function Ll(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function R1({page:s,...e}){let{router:n}=BT(),r=P.useMemo(()=>IT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?P.createElement(I1,{page:s,matches:r,...e}):null}function C1(s){let{manifest:e,routeModules:n}=qT(),[r,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return v1(s,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,n]),r}function I1({page:s,matches:e,...n}){let r=gr(),{future:o,manifest:u,routeModules:f}=qT(),{basename:p}=BT(),{loaderData:m,matches:y}=b1(),T=P.useMemo(()=>Yv(s,e,y,u,r,"data"),[s,e,y,u,r]),S=P.useMemo(()=>Yv(s,e,y,u,r,"assets"),[s,e,y,u,r]),C=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let z=new Set,B=!1;if(e.forEach(X=>{let oe=u.routes[X.route.id];!oe||!oe.hasLoader||(!T.some(ge=>ge.route.id===X.route.id)&&X.route.id in m&&f[X.route.id]?.shouldRevalidate||oe.hasClientLoader?B=!0:z.add(X.route.id))}),z.size===0)return[];let Z=g1(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return B&&z.size>0&&Z.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[Z.pathname+Z.search]},[p,o.unstable_trailingSlashAwareDataRequests,m,r,u,T,e,s,f]),L=P.useMemo(()=>E1(S,u),[S,u]),j=C1(S);return P.createElement(P.Fragment,null,C.map(z=>P.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),L.map(z=>P.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),j.map(({key:z,link:B})=>P.createElement("link",{key:z,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function D1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N1&&(window.__reactRouterVersion="7.13.0")}catch{}function x1({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=P.useRef();o.current==null&&(o.current=cw({window:r,v5Compat:!0}));let u=o.current,[f,p]=P.useState({action:u.action,location:u.location}),m=P.useCallback(y=>{n===!1?p(y):P.startTransition(()=>p(y))},[n]);return P.useLayoutEffect(()=>u.listen(m),[u,m]),P.createElement(a1,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:C,...L},j){let{basename:z,unstable_useTransitions:B}=P.useContext(xn),Z=typeof y=="string"&&HT.test(y),X=OT(y,z);y=X.to;let oe=Fw(y,{relative:o}),[ge,Y,te]=w1(r,L),I=k1(y,{replace:f,state:p,target:m,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:C,unstable_useTransitions:B});function b(M){e&&e(M),M.defaultPrevented||I(M)}let R=P.createElement("a",{...L,...te,href:X.absoluteURL||oe,onClick:X.isExternal||u?e:b,ref:D1(j,Y),target:m,"data-discover":!Z&&n==="render"?"true":void 0});return ge&&!Z?P.createElement(P.Fragment,null,R,P.createElement(R1,{page:oe})):R});FT.displayName="Link";var O1=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...y},T){let S=uu(f,{relative:y.relative}),C=gr(),L=P.useContext(qh),{navigator:j,basename:z}=P.useContext(xn),B=L!=null&&z1(S)&&p===!0,Z=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,X=C.pathname,oe=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),oe=oe?oe.toLowerCase():null,Z=Z.toLowerCase()),oe&&z&&(oe=ds(oe,z)||oe);const ge=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Y=X===Z||!o&&X.startsWith(Z)&&X.charAt(ge)==="/",te=oe!=null&&(oe===Z||!o&&oe.startsWith(Z)&&oe.charAt(Z.length)==="/"),I={isActive:Y,isPending:te,isTransitioning:B},b=Y?e:void 0,R;typeof r=="function"?R=r(I):R=[r,Y?"active":null,te?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return P.createElement(FT,{...y,"aria-current":b,className:R,ref:T,style:M,to:f,viewTransition:p},typeof m=="function"?m(I):m)});O1.displayName="NavLink";var M1=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:f=lh,action:p,onSubmit:m,relative:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:C,...L},j)=>{let{unstable_useTransitions:z}=P.useContext(xn),B=j1(),Z=U1(p,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",oe=typeof p=="string"&&HT.test(p),ge=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let te=Y.nativeEvent.submitter,I=te?.getAttribute("formmethod")||f,b=()=>B(te||Y.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:C});z&&n!==!1?P.startTransition(()=>b()):b()};return P.createElement("form",{ref:j,method:X,action:Z,onSubmit:r?m:ge,...L,"data-discover":!oe&&s==="render"?"true":void 0})});M1.displayName="Form";function V1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(s){let e=P.useContext(To);return ht(e,V1(s)),e}function k1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=yr(),T=gr(),S=uu(s,{relative:u});return P.useCallback(C=>{if(f1(C,e)){C.preventDefault();let L=n!==void 0?n:Xl(T)===Xl(S),j=()=>y(s,{replace:L,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});m?P.startTransition(()=>j()):j()}},[T,y,S,n,r,e,s,o,u,f,p,m])}var L1=0,P1=()=>`__${String(++L1)}__`;function j1(){let{router:s}=GT("useSubmit"),{basename:e}=P.useContext(xn),n=t1(),r=s.fetch,o=s.navigate;return P.useCallback(async(u,f={})=>{let{action:p,method:m,encType:y,formData:T,body:S}=p1(u,e);if(f.navigate===!1){let C=f.fetcherKey||P1();await r(C,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||m,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||m,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,n])}function U1(s,{relative:e}={}){let{basename:n}=P.useContext(xn),r=P.useContext(Hi);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...uu(s||".",{relative:e})},f=gr();if(s==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(T=>T==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();u.search=T?`?${T}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hs([n,u.pathname])),Xl(u)}function z1(s,{relative:e}={}){let n=P.useContext(VT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GT("useViewTransitionState"),o=uu(s,{relative:e});if(!n.isTransitioning)return!1;let u=ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(o.pathname,f)!=null||Th(o.pathname,u)!=null}const B1=()=>{};var Kv={};const YT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},q1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],p=s[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,p=f?s[o+1]:0,m=o+2<s.length,y=m?s[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let C=(p&15)<<2|y>>6,L=y&63;m||(L=64,f||(C=64)),r.push(n[T],n[S],n[C],n[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(YT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):q1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new H1;const C=u<<2|p>>4;if(r.push(C),y!==64){const L=p<<4&240|y>>2;if(r.push(L),S!==64){const j=y<<6&192|S;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F1=function(s){const e=YT(s);return KT.encodeByteArray(e,!0)},Sh=function(s){return F1(s).replace(/\./g,"")},$T=function(s){try{return KT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof Kv>"u")return;const s=Kv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},$1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$T(s[1]);return e&&JSON.parse(e)},Fh=()=>{try{return B1()||Y1()||K1()||$1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},QT=s=>Fh()?.emulatorHosts?.[s],Q1=s=>{const e=QT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XT=()=>Fh()?.config,WT=s=>Fh()?.[`_${s}`];class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(s){return(await fetch(s,{credentials:"include"})).ok}function W1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const Fl={};function J1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function Z1(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let $v=!1;function ZT(s,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Fl[s]===e||Fl[s]||$v)return;Fl[s]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=J1().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function m(C,L){C.setAttribute("width","24"),C.setAttribute("id",L),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{$v=!0,f()},C}function T(C,L){C.setAttribute("id",L),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=Z1(r),L=n("text"),j=document.getElementById(L)||document.createElement("span"),z=n("learnmore"),B=document.getElementById(z)||document.createElement("a"),Z=n("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const oe=C.element;p(oe),T(B,z);const ge=y();m(X,Z),oe.append(X,j,B,ge),document.body.appendChild(oe)}u?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function tR(){const s=Fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function aR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const uR="FirebaseError";class _s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uR,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cR(u,r):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new _s(o,p,r)}}function cR(s,e){return s.replace(hR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const hR=/\{\$([^}]+)}/g;function fR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ea(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Qv(u)&&Qv(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Qv(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function dR(s,e){const n=new mR(s,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function ym(){}function Lt(s){return s&&s._delegate?s._delegate:s}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(s){return s===Jr?void 0:s}function _R(s){return s.instantiationMode==="EAGER"}class vR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const ER={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},TR=je.INFO,SR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},AR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=SR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const bR=(s,e)=>e.some(n=>s instanceof n);let Xv,Wv;function wR(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,xm=new WeakMap,tS=new WeakMap,_m=new WeakMap,_p=new WeakMap;function CR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(sr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&eS.set(n,s)}).catch(()=>{}),_p.set(e,s),e}function IR(s){if(xm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});xm.set(s,e)}let Om={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return xm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||tS.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function DR(s){Om=s(Om)}function NR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(vm(this),e,...n);return tS.set(r,e.sort?e.sort():[e]),sr(r)}:RR().includes(s)?function(...e){return s.apply(vm(this),e),sr(eS.get(this))}:function(...e){return sr(s.apply(vm(this),e))}}function xR(s){return typeof s=="function"?NR(s):(s instanceof IDBTransaction&&IR(s),bR(s,wR())?new Proxy(s,Om):s)}function sr(s){if(s instanceof IDBRequest)return CR(s);if(_m.has(s))return _m.get(s);const e=xR(s);return e!==s&&(_m.set(s,e),_p.set(e,s)),e}const vm=s=>_p.get(s);function OR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),p=sr(f);return r&&f.addEventListener("upgradeneeded",m=>{r(sr(f.result),m.oldVersion,m.newVersion,sr(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const MR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],Em=new Map;function Jv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=VR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let y=m.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&m.done]))[0]};return Em.set(e,u),u}DR(s=>({...s,get:(e,n,r)=>Jv(e,n)||s.get(e,n,r),has:(e,n)=>!!Jv(e,n)||s.has(e,n)}));class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LR(s){return s.getComponent()?.type==="VERSION"}const Mm="@firebase/app",Zv="0.14.7";const ms=new yp("@firebase/app"),PR="@firebase/app-compat",jR="@firebase/analytics-compat",UR="@firebase/analytics",zR="@firebase/app-check-compat",BR="@firebase/app-check",qR="@firebase/auth",HR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",YR="@firebase/database-compat",KR="@firebase/functions",$R="@firebase/functions-compat",QR="@firebase/installations",XR="@firebase/installations-compat",WR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",sC="@firebase/storage-compat",rC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="12.8.0";const Vm="[DEFAULT]",cC={[Mm]:"fire-core",[PR]:"fire-core-compat",[UR]:"fire-analytics",[jR]:"fire-analytics-compat",[BR]:"fire-app-check",[zR]:"fire-app-check-compat",[qR]:"fire-auth",[HR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[KR]:"fire-fn",[$R]:"fire-fn-compat",[QR]:"fire-iid",[XR]:"fire-iid-compat",[WR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[sC]:"fire-gcs-compat",[rC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};const Ah=new Map,hC=new Map,km=new Map;function eE(s,e){try{s.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function fo(s){const e=s.name;if(km.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,s);for(const n of Ah.values())eE(n,s);for(const n of hC.values())eE(n,s);return!0}function vp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Gn(s){return s==null?!1:s.settings!==void 0}const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new cu("app","Firebase",fC);class dC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const bo=uC;function Ep(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(n||(n=XT()),!n)throw rr.create("no-options");const u=Ah.get(o);if(u){if(ea(n,u.options)&&ea(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const f=new vR(o);for(const m of km.values())f.addComponent(m);const p=new dC(n,r,f);return Ah.set(o,p),p}function nS(s=Vm){const e=Ah.get(s);if(!e&&s===Vm&&XT())return Ep();if(!e)throw rr.create("no-app",{appName:s});return e}function ar(s,e,n){let r=cC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(f.join(" "));return}fo(new ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const mC="firebase-heartbeat-database",pC=1,Wl="firebase-heartbeat-store";let Tm=null;function iS(){return Tm||(Tm=OR(mC,pC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),Tm}async function gC(s){try{const n=(await iS()).transaction(Wl),r=await n.objectStore(Wl).get(sS(s));return await n.done,r}catch(e){if(e instanceof _s)ms.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function tE(s,e){try{const r=(await iS()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,sS(s)),await r.done}catch(n){if(n instanceof _s)ms.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n?.message});ms.warn(r.message)}}}function sS(s){return`${s.name}!${s.options.appId}`}const yC=1024,_C=30;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_C){const o=SC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nE(),{heartbeatsToSend:n,unsentEntries:r}=EC(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function nE(){return new Date().toISOString().substring(0,10)}function EC(s,e=yC){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),iE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iE(s){return Sh(JSON.stringify({version:2,heartbeats:s})).length}function SC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function AC(s){fo(new ta("platform-logger",e=>new kR(e),"PRIVATE")),fo(new ta("heartbeat",e=>new vC(e),"PRIVATE")),ar(Mm,Zv,s),ar(Mm,Zv,"esm2020"),ar("fire-js","")}AC("");function rS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bC=rS,aS=new cu("auth","Firebase",rS());const bh=new yp("@firebase/auth");function wC(s,...e){bh.logLevel<=je.WARN&&bh.warn(`Auth (${bo}): ${s}`,...e)}function ch(s,...e){bh.logLevel<=je.ERROR&&bh.error(`Auth (${bo}): ${s}`,...e)}function di(s,...e){throw Tp(s,...e)}function Pi(s,...e){return Tp(s,...e)}function oS(s,e,n){const r={...bC(),[e]:n};return new cu("auth","Firebase",r).create(e,{appName:s.name})}function fs(s){return oS(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return aS.create(s,...e)}function be(s,e,...n){if(!s)throw Tp(e,...n)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ch(e),new Error(e)}function ps(s,e){s||us(e)}function Lm(){return typeof self<"u"&&self.location?.href||""}function RC(){return sE()==="http:"||sE()==="https:"}function sE(){return typeof self<"u"&&self.location?.protocol||null}function CC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RC()||iR()||"connection"in navigator)?navigator.onLine:!0}function IC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||sR()}get(){return CC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sp(s,e){ps(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xC=new fu(3e4,6e4);function _r(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function vr(s,e,n,r,o={}){return uS(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=hu({key:s.config.apiKey,...f}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:m,...u};return nR()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(y.credentials="include"),lS.fetch()(await cS(s,s.config.apiHost,n,p),y)})}async function uS(s,e,n){s._canInitEmulator=!1;const r={...DC,...e};try{const o=new MC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",f);if(m==="USER_DISABLED")throw eh(s,"user-disabled",f);const T=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw oS(s,T,y);di(s,T)}}catch(o){if(o instanceof _s)throw o;di(s,"network-request-failed",{message:String(o)})}}async function du(s,e,n,r,o={}){const u=await vr(s,e,n,r,o);return"mfaPendingCredential"in u&&di(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function cS(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Sp(s.config,o):`${s.config.apiScheme}://${o}`;return NC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function OC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),xC.get())})}}function eh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Pi(s,e,r);return o.customData._tokenResponse=n,o}function rE(s){return s!==void 0&&s.enterprise!==void 0}class VC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kC(s,e){return vr(s,"GET","/v2/recaptchaConfig",_r(s,e))}async function LC(s,e){return vr(s,"POST","/v1/accounts:delete",e)}async function wh(s,e){return vr(s,"POST","/v1/accounts:lookup",e)}function Gl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PC(s,e=!1){const n=Lt(s),r=await n.getIdToken(e),o=Ap(r);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Gl(Sm(o.auth_time)),issuedAtTime:Gl(Sm(o.iat)),expirationTime:Gl(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Sm(s){return Number(s)*1e3}function Ap(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=$T(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aE(s){const e=Ap(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _s&&jC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function jC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class UC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(s){const e=s.auth,n=await s.getIdToken(),r=await Jl(s,wh(e,{idToken:n}));be(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?hS(o.providerUserInfo):[],f=BC(s.providerData,u),p=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!f?.length,y=p?m:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function zC(s){const e=Lt(s);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BC(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function hS(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qC(s,e){const n=await uS(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await cS(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(m.credentials="include"),lS.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HC(s,e){return vr(s,"POST","/v2/accounts:revokeToken",_r(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=aE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await qC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new ro;return r&&(be(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return us("not implemented")}}function Js(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new UC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PC(this,e)}reload(){return zC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Jl(this,LC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:L,providerData:j,stsTokenManager:z}=n;be(S&&z,e,"internal-error");const B=ro.fromJSON(this.name,z);be(typeof S=="string",e,"internal-error"),Js(r,e.name),Js(o,e.name),be(typeof C=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),Js(u,e.name),Js(f,e.name),Js(p,e.name),Js(m,e.name),Js(y,e.name),Js(T,e.name);const Z=new ui({uid:S,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:B,createdAt:y,lastLoginAt:T});return j&&Array.isArray(j)&&(Z.providerData=j.map(X=>({...X}))),m&&(Z._redirectEventId=m),Z}static async _fromIdTokenResponse(e,n,r=!1){const o=new ro;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new ro;p.updateFromIdToken(r);const m=new ui({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,y),m}}const oE=new Map;function cs(s){ps(s instanceof Function,"Expected a class definition");let e=oE.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,oE.set(s,e),e)}class fS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fS.type="NONE";const lE=fS;function hh(s,e,n){return`firebase:${s}:${e}:${n}`}class ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ao(cs(lE),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||cs(lE);const f=hh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const C=await wh(e,{idToken:T}).catch(()=>{});if(!C)break;S=await ui._fromGetAccountInfoResponse(e,C,T)}else S=ui._fromJSON(e,T);y!==u&&(p=S),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ao(u,e,r):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,e,r))}}function uE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(vS(e))return"Webos";if(mS(e))return"Safari";if((e.includes("chrome/")||pS(e))&&!e.includes("edge/"))return"Chrome";if(yS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function dS(s=tn()){return/firefox\//i.test(s)}function mS(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pS(s=tn()){return/crios\//i.test(s)}function gS(s=tn()){return/iemobile/i.test(s)}function yS(s=tn()){return/android/i.test(s)}function _S(s=tn()){return/blackberry/i.test(s)}function vS(s=tn()){return/webos/i.test(s)}function bp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FC(s=tn()){return bp(s)&&!!window.navigator?.standalone}function GC(){return rR()&&document.documentMode===10}function ES(s=tn()){return bp(s)||yS(s)||vS(s)||_S(s)||/windows phone/i.test(s)||gS(s)}function TS(s,e=[]){let n;switch(s){case"Browser":n=uE(tn());break;case"Worker":n=`${uE(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}class YC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function KC(s,e={}){return vr(s,"GET","/v2/passwordPolicy",_r(s,e))}const $C=6;class QC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$C,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class XC{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new YC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(fs(this));const n=e?Lt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KC(this),n=new QC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(s){return Lt(s)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WC(s){Gh=s}function SS(s){return Gh.loadJS(s)}function JC(){return Gh.recaptchaEnterpriseScript}function ZC(){return Gh.gapiScript}function eI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class tI{constructor(){this.enterprise=new nI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iI="recaptcha-enterprise",AS="NO_RECAPTCHA";class sI{constructor(e){this.type=iI,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{kC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new VC(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;rE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(AS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(p=>{if(!n&&rE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=JC();m.length!==0&&(m+=p),SS(m).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function hE(s,e,n,r=!1,o=!1){const u=new sI(s);let f;if(o)f=AS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hE(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function rI(s,e){const n=vp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;di(o,"already-initialized")}return n.initialize({options:e})}function aI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function oI(s,e,n){const r=ua(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=bS(e),{host:f,port:p}=lI(e),m=p===null?"":`:${p}`,y={url:`${u}//${f}${m}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(ea(y,r.config.emulator)&&ea(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Ao(f)?(JT(`${u}//${f}${m}`),ZT("Auth",!0)):uI()}function bS(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lI(s){const e=bS(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:fE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:fE(f)}}}function fE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function cI(s,e){return vr(s,"POST","/v1/accounts:signUp",e)}async function hI(s,e){return du(s,"POST","/v1/accounts:signInWithPassword",_r(s,e))}async function fI(s,e){return du(s,"POST","/v1/accounts:signInWithEmailLink",_r(s,e))}async function dI(s,e){return du(s,"POST","/v1/accounts:signInWithEmailLink",_r(s,e))}class Zl extends wp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,n,"signInWithPassword",hI);case"emailLink":return fI(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,r,"signUpPassword",cI);case"emailLink":return dI(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oo(s,e){return du(s,"POST","/v1/accounts:signInWithIdp",_r(s,e))}const mI="http://localhost";class na extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new na(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function pI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gI(s){const e=Ul(zl(s)).link,n=e?Ul(zl(e)).deep_link_id:null,r=Ul(zl(s)).deep_link_id;return(r?Ul(zl(r)).link:null)||r||n||e||s}class Rp{constructor(e){const n=Ul(zl(e)),r=n.apiKey??null,o=n.oobCode??null,u=pI(n.mode??null);be(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gI(e);try{return new Rp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rp.parseLink(n);return be(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends wS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends mu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class er extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class tr extends mu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class nr extends mu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";async function yI(s,e){return du(s,"POST","/v1/accounts:signUp",_r(s,e))}class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ui._fromIdTokenResponse(e,r,o),f=dE(r);return new ia({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=dE(r);return new ia({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function dE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ch extends _s{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ch(e,n,r,o)}}function RS(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(s,u,e,r):u})}async function _I(s,e,n=!1){const r=await Jl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ia._forOperation(s,"link",r)}async function vI(s,e,n=!1){const{auth:r}=s;if(Gn(r.app))return Promise.reject(fs(r));const o="reauthenticate";try{const u=await Jl(s,RS(r,o,e,s),n);be(u.idToken,r,"internal-error");const f=Ap(u.idToken);be(f,r,"internal-error");const{sub:p}=f;return be(s.uid===p,r,"user-mismatch"),ia._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&di(r,"user-mismatch"),u}}async function CS(s,e,n=!1){if(Gn(s.app))return Promise.reject(fs(s));const r="signIn",o=await RS(s,r,e),u=await ia._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function EI(s,e){return CS(ua(s),e)}async function IS(s){const e=ua(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TI(s,e,n){if(Gn(s.app))return Promise.reject(fs(s));const r=ua(s),f=await jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&IS(s),m}),p=await ia._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function SI(s,e,n){return Gn(s.app)?Promise.reject(fs(s)):EI(Lt(s),wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IS(s),r})}function AI(s,e){return Lt(s).setPersistence(e)}function bI(s,e,n,r){return Lt(s).onIdTokenChanged(e,n,r)}function wI(s,e,n){return Lt(s).beforeAuthStateChanged(e,n)}function RI(s,e,n,r){return Lt(s).onAuthStateChanged(e,n,r)}function DS(s){return Lt(s).signOut()}const Ih="__sak";class NS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CI=1e3,II=10;class xS extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);GC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,II):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const OS=xS;class MS extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MS.type="SESSION";const Cp=MS;function DI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),m=await DI(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Ip(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class NI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const y=Ip("",20);o.port1.start();const T=setTimeout(()=>{m(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ji(){return window}function xI(s){ji().location.href=s}function VS(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function OI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MI(){return navigator?.serviceWorker?.controller||null}function VI(){return VS()?self:null}const kS="firebaseLocalStorageDb",kI=1,Dh="firebaseLocalStorage",LS="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(s,e){return s.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function LI(){const s=indexedDB.deleteDatabase(kS);return new pu(s).toPromise()}function Um(){const s=indexedDB.open(kS,kI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Dh,{keyPath:LS})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await LI(),e(await Um()))})})}async function mE(s,e,n){const r=Kh(s,!0).put({[LS]:e,value:n});return new pu(r).toPromise()}async function PI(s,e){const n=Kh(s,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function pE(s,e){const n=Kh(s,!0).delete(e);return new pu(n).toPromise()}const jI=800,UI=3;class PS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(VI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OI(),!this.activeServiceWorker)return;this.sender=new NI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await mE(e,Ih,"1"),await pE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PS.type="LOCAL";const zI=PS;new fu(3e4,6e4);function BI(s,e){return e?cs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dp extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qI(s){return CS(s.auth,new Dp(s),s.bypassAuthState)}function HI(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),vI(n,new Dp(s),s.bypassAuthState)}async function FI(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),_I(n,new Dp(s),s.bypassAuthState)}class jS{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qI;case"linkViaPopup":case"linkViaRedirect":return FI;case"reauthViaPopup":case"reauthViaRedirect":return HI;default:di(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GI=new fu(2e3,1e4);class so extends jS{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GI.get())};e()}}so.currentPopupAction=null;const YI="pendingRedirect",fh=new Map;class KI extends jS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await $I(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $I(s,e){const n=WI(e),r=XI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function QI(s,e){fh.set(s._key(),e)}function XI(s){return cs(s._redirectPersistence)}function WI(s){return hh(YI,s.config.apiKey,s.name)}async function JI(s,e,n=!1){if(Gn(s.app))return Promise.reject(fs(s));const r=ua(s),o=BI(r,e),f=await new KI(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const ZI=600*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!US(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZI&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function US({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(s);default:return!1}}async function nD(s,e={}){return vr(s,"GET","/v1/projects",e)}const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sD=/^https?/;async function rD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nD(s);for(const n of e)try{if(aD(n))return}catch{}di(s,"unauthorized-domain")}function aD(s){const e=Lm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!sD.test(n))return!1;if(iD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const oD=new fu(3e4,6e4);function yE(){const s=ji().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function lD(s){return new Promise((e,n)=>{function r(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),n(Pi(s,"network-request-failed"))},timeout:oD.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)r();else{const o=eI("iframefcb");return ji()[o]=()=>{gapi.load?r():n(Pi(s,"network-request-failed"))},SS(`${ZC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function uD(s){return dh=dh||lD(s),dh}const cD=new fu(5e3,15e3),hD="__/auth/iframe",fD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pD(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Sp(e,fD):`https://${s.config.authDomain}/${hD}`,r={apiKey:e.apiKey,appName:s.name,v:bo},o=mD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${hu(r).slice(1)}`}async function gD(s){const e=await uD(s),n=ji().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:pD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Pi(s,"network-request-failed"),p=ji().setTimeout(()=>{u(f)},cD.get());function m(){ji().clearTimeout(p),o(r)}r.ping(m).then(m,()=>{u(f)})}))}const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_D=500,vD=600,ED="_blank",TD="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SD(s,e,n,r=_D,o=vD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m={...yD,width:r.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(p=pS(y)?ED:n),dS(y)&&(e=e||TD,m.scrollbars="yes");const T=Object.entries(m).reduce((C,[L,j])=>`${C}${L}=${j},`,"");if(FC(y)&&p!=="_self")return AD(e||"",p),new _E(null);const S=window.open(e||"",p,T);be(S,s,"popup-blocked");try{S.focus()}catch{}return new _E(S)}function AD(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const bD="__/auth/handler",wD="emulator/auth/handler",RD=encodeURIComponent("fac");async function vE(s,e,n,r,o,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:bo,eventId:o};if(e instanceof wS){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",fR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof mu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const m=await s._getAppCheckToken(),y=m?`#${RD}=${encodeURIComponent(m)}`:"";return`${CD(s)}?${hu(p).slice(1)}${y}`}function CD({config:s}){return s.emulator?Sp(s,wD):`https://${s.authDomain}/${bD}`}const Am="webStorageSupport";class ID{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cp,this._completeRedirectFn=JI,this._overrideRedirectResult=QI}async _openPopup(e,n,r,o){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await vE(e,n,r,Lm(),o);return SD(e,u,Ip())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await vE(e,n,r,Lm(),o);return xI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ps(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gD(e),r=new eD(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{const u=o?.[0]?.[Am];u!==void 0&&n(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||mS()||bp()}}const DD=ID;var EE="@firebase/auth",TE="1.12.0";class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(s){fo(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(s)},y=new XC(r,o,u,m);return aI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fo(new ta("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new ND(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(EE,TE,xD(s)),ar(EE,TE,"esm2020")}const MD=300,VD=WT("authIdTokenMaxAge")||MD;let SE=null;const kD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VD)return;const o=n?.token;SE!==o&&(SE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zS(s=nS()){const e=vp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=rI(s,{popupRedirectResolver:DD,persistence:[zI,OS,Cp]}),r=WT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=kD(u.toString());wI(n,f,()=>f(n.currentUser)),bI(n,p=>f(p))}}const o=QT("auth");return o&&oI(n,`http://${o}`),n}function LD(){return document.getElementsByTagName("head")?.[0]??document}WC({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",LD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,BS;(function(){var s;function e(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,N,V){for(var D=Array(arguments.length-2),He=2;He<arguments.length;He++)D[He-2]=arguments[He];return b.prototype[N].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],N=I.g[2];let V=I.g[3],D;D=b+(V^R&(N^V))+M[0]+3614090360&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[1]+3905402710&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[2]+606105819&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(V^R&(N^V))+M[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[5]+1200080426&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[6]+2821735955&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(V^R&(N^V))+M[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[9]+2336552879&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[10]+4294925233&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(V^R&(N^V))+M[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[13]+4254626195&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[14]+2792965006&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(N^V&(R^N))+M[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[6]+3225465664&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[11]+643717713&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^V&(R^N))+M[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[10]+38016083&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[15]+3634488961&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^V&(R^N))+M[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[14]+3275163606&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[3]+4107603335&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^V&(R^N))+M[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[2]+4243563512&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[7]+1735328473&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(R^N^V)+M[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[8]+2272392833&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[11]+1839030562&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^V)+M[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[4]+1272893353&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[7]+4139469664&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^V)+M[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[0]+3936430074&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[3]+3572445317&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^V)+M[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[12]+3873151461&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[15]+530742520&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(N^(R|~V))+M[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[7]+1126891415&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[14]+2878612391&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~V))+M[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[3]+2399980690&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[10]+4293915773&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~V))+M[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[15]+4264355552&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[6]+2734768916&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~V))+M[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[11]+3174756917&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[2]+718787259&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,M=this.C;let N=this.h,V=0;for(;V<b;){if(N==0)for(;V<=R;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<b;)if(M[N++]=I.charCodeAt(V++),N==this.blockSize){o(this,M),N=0;break}}else for(;V<b;)if(M[N++]=I[V++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[b++]=this.g[R]>>>M&255;return I};function u(I,b){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function f(I,b){this.h=b;const R=[];let M=!0;for(let N=I.length-1;N>=0;N--){const V=I[N]|0;M&&V==b||(R[N]=V,M=!1)}this.g=R}var p={};function m(I){return-128<=I&&I<128?u(I,function(b){return new f([b|0],b<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return B(y(-I));const b=[];let R=1;for(let M=0;I>=R;M++)b[M]=I/R|0,R*=4294967296;return new f(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return B(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=S;for(let V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V);const D=parseInt(I.substring(V,V+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(D))):(M=M.j(R),M=M.add(y(D)))}return M}var S=m(0),C=m(1),L=m(16777216);s=f.prototype,s.m=function(){if(z(this))return-B(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(z(this))return"-"+B(this).toString(I);const b=y(Math.pow(I,6));var R=this;let M="";for(;;){const N=ge(R,b).g;R=Z(R,N.j(b));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,j(R))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function z(I){return I.h==-1}s.l=function(I){return I=Z(this,I),z(I)?-1:j(I)?0:1};function B(I){const b=I.g.length,R=[];for(let M=0;M<b;M++)R[M]=~I.g[M];return new f(R,~I.h).add(C)}s.abs=function(){return z(this)?B(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let N=0;N<=b;N++){let V=M+(this.i(N)&65535)+(I.i(N)&65535),D=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=D>>>16,V&=65535,D&=65535,R[N]=D<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(I,b){return I.add(B(b))}s.j=function(I){if(j(this)||j(I))return S;if(z(this))return z(I)?B(this).j(B(I)):B(B(this).j(I));if(z(I))return B(this.j(B(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const V=this.i(M)>>>16,D=this.i(M)&65535,He=I.i(N)>>>16,at=I.i(N)&65535;R[2*M+2*N]+=D*at,X(R,2*M+2*N),R[2*M+2*N+1]+=V*at,X(R,2*M+2*N+1),R[2*M+2*N+1]+=D*He,X(R,2*M+2*N+1),R[2*M+2*N+2]+=V*He,X(R,2*M+2*N+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new f(R,0)};function X(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function oe(I,b){this.g=I,this.h=b}function ge(I,b){if(j(b))throw Error("division by zero");if(j(I))return new oe(S,S);if(z(I))return b=ge(B(I),b),new oe(B(b.g),B(b.h));if(z(b))return b=ge(I,B(b)),new oe(B(b.g),b.h);if(I.g.length>30){if(z(I)||z(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,M=b;M.l(I)<=0;)R=Y(R),M=Y(M);var N=te(R,1),V=te(M,1);for(M=te(M,2),R=te(R,2);!j(M);){var D=V.add(M);D.l(I)<=0&&(N=N.add(R),V=D),M=te(M,1),R=te(R,1)}return b=Z(I,N.j(b)),new oe(N,b)}for(N=S;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(R),D=V.j(b);z(D)||D.l(I)>0;)R-=M,V=y(R),D=V.j(b);j(V)&&(V=C),N=N.add(V),I=Z(I,D)}return new oe(N,I)}s.B=function(I){return ge(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&I.i(M);return new f(R,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|I.i(M);return new f(R,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^I.i(M);return new f(R,this.h^I.h)};function Y(I){const b=I.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(R,I.h)}function te(I,b){const R=b>>5;b%=32;const M=I.g.length-R,N=[];for(let V=0;V<M;V++)N[V]=b>0?I.i(V+R)>>>b|I.i(V+R+1)<<32-b:I.i(V+R);return new f(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BS=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,or=f}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qS,Bl,HS,mh,zm,FS,GS,YS;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in v))break e;v=v[q]}c=c[c.length-1],w=v[c],g=g(w),g!=w&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&v.push([w,g[w]]);return v}});var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=m,y.apply(null,arguments)}function T(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,q,$){for(var he=Array(arguments.length-2),De=2;De<arguments.length;De++)he[De-2]=arguments[De];return g.prototype[q].apply(w,he)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let w=0;w<g;w++)v[w]=c[w];return v}return[]}function j(c,g){for(let w=1;w<arguments.length;w++){const q=arguments[w];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const $=q.length||0;c.length=v+$;for(let he=0;he<$;he++)c[v+he]=q[he]}else c.push(q)}}class z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function B(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,v){const w=oe.get();w.set(g,v),this.h?this.h.next=w:this.g=w,this.h=w}}var oe=new z(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,te=!1,I=new X,b=()=>{const c=Promise.resolve(void 0);Y=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){B(v)}var g=oe;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}te=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function He(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(He,N),He.prototype.init=function(c,g){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),W=0;function ce(c,g,v,w,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!w,this.ha=q,this.key=++W,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c,g,v){for(const w in c)g.call(v,c[w],w,c)}function le(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let v,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(v in w)c[v]=w[v];for(let $=0;$<K.length;$++)v=K[$],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,v,w,q){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const he=ye(c,g,w,q);return he>-1?(g=c[he],v||(g.fa=!1)):(g=new ce(g,this.src,$,!!w,q),g.fa=v,c.push(g)),g};function de(c,g){const v=g.type;if(v in c.g){var w=c.g[v],q=Array.prototype.indexOf.call(w,g,void 0),$;($=q>=0)&&Array.prototype.splice.call(w,q,1),$&&(ve(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ye(c,g,v,w){for(let q=0;q<c.length;++q){const $=c[q];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==w)return q}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ye={};function ke(c,g,v,w,q){if(Array.isArray(g)){for(let $=0;$<g.length;$++)ke(c,g[$],v,w,q);return null}return v=Oo(v),c&&c[at]?c.J(g,v,p(w)?!!w.capture:!1,q):ln(c,g,v,!1,w,q)}function ln(c,g,v,w,q,$){if(!g)throw Error("Invalid event type");const he=p(q)?!!q.capture:!!q;let De=En(c);if(De||(c[Se]=De=new ue(c)),v=De.add(g,v,w,he,$),v.proxy)return v;if(w=nn(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)V||(q=he),q===void 0&&(q=!1),c.addEventListener(g.toString(),w,q);else if(c.attachEvent)c.attachEvent(sn(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function nn(){function c(v){return g.call(c.src,c.listener,v)}const g=Qn;return c}function un(c,g,v,w,q){if(Array.isArray(g))for(var $=0;$<g.length;$++)un(c,g[$],v,w,q);else w=p(w)?!!w.capture:!!w,v=Oo(v),c&&c[at]?(c=c.i,$=String(g).toString(),$ in c.g&&(g=c.g[$],v=ye(g,v,w,q),v>-1&&(ve(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[$],c.h--)))):c&&(c=En(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ye(g,v,w,q)),(v=c>-1?g[c]:null)&&cn(v))}function cn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[at])de(g.i,c);else{var v=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(v,w,c.capture):g.detachEvent?g.detachEvent(sn(v),w):g.addListener&&g.removeListener&&g.removeListener(w),(v=En(g))?(de(v,c),v.h==0&&(v.src=null,g[Se]=null)):ve(c)}}}function sn(c){return c in Ye?Ye[c]:Ye[c]="on"+c}function Qn(c,g){if(c.da)c=!0;else{g=new He(g,this);const v=c.listener,w=c.ha||c.src;c.fa&&cn(c),c=v.call(w,g)}return c}function En(c){return c=c[Se],c instanceof ue?c:null}var xo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(g){return c.handleEvent(g)}),c[xo])}function Et(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}S(Et,M),Et.prototype[at]=!0,Et.prototype.removeEventListener=function(c,g,v,w){un(this,c,g,v,w)};function Ot(c,g){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var q=g;g=new N(w,c),re(g,q)}q=!0;let $,he;if(v)for(he=v.length-1;he>=0;he--)$=g.g=v[he],q=vs($,w,!0,g)&&q;if($=g.g=c,q=vs($,w,!0,g)&&q,q=vs($,w,!1,g)&&q,v)for(he=0;he<v.length;he++)$=g.g=v[he],q=vs($,w,!1,g)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let w=0;w<v.length;w++)ve(v[w]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,w){return this.i.add(String(c),g,!1,v,w)},Et.prototype.K=function(c,g,v,w){return this.i.add(String(c),g,!0,v,w)};function vs(c,g,v,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let q=!0;for(let $=0;$<g.length;++$){const he=g[$];if(he&&!he.da&&he.capture==v){const De=he.listener,gt=he.ha||he.src;he.fa&&de(c.i,he),q=De.call(gt,w)!==!1&&q}}return q&&!w.defaultPrevented}function cf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function bu(c){c.g=cf(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(c){M.call(this),this.h=c,this.g={}}S(Sr,M);var Mo=[];function Vo(c){ae(c.g,function(g,v){this.g.hasOwnProperty(v)&&cn(g)},c),c.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),Vo(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=f.JSON.stringify,hf=f.JSON.parse,wu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){N.call(this,"d")}S(Bt,N);function On(){N.call(this,"c")}S(On,N);var pt={},Iu=null;function da(){return Iu=Iu||new Et}pt.Ia="serverreachability";function Du(c){N.call(this,pt.Ia,c)}S(Du,N);function pi(c){const g=da();Ot(g,new Du(g))}pt.STAT_EVENT="statevent";function Ar(c,g){N.call(this,pt.STAT_EVENT,c),this.stat=g}S(Ar,N);function Tt(c){const g=da();Ot(g,new Ar(g,c))}pt.Ja="timingevent";function gi(c,g){N.call(this,pt.Ja,c),this.size=g}S(gi,N);function yi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function ff(c,g,v,w,q,$){c.info(function(){if(c.g)if($){var he="",De=$.split("&");for(let Ke=0;Ke<De.length;Ke++){var gt=De[Ke].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Ln=ut.split("_");he=Ln.length>=2&&Ln[1]=="type"?he+(ut+"="+gt+"&"):he+(ut+"=redacted&")}}}else he=null;else he=$;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+g+`
`+v+`
`+he})}function Nu(c,g,v,w,q,$,he){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+g+`
`+v+`
`+$+" "+he})}function _i(c,g,v,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+df(c,v)+(w?" "+w:"")})}function br(c,g){c.info(function(){return"TIMEOUT: "+g})}Wn.prototype.info=function(){};function df(c,g){if(!c.g)return g;if(!g)return null;try{const $=JSON.parse(g);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let he=1;he<w.length;he++)w[he]=""}}}}return Es($)}catch{return g}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Rr(){}S(Rr,Ru),Rr.prototype.g=function(){return new XMLHttpRequest},Lo=new Rr;function Fi(c){return encodeURIComponent(String(c))}function xu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Jn(c,g,v,w){this.j=c,this.i=g,this.l=v,this.S=w||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function vi(c,g,v){c.M=1,c.A=Cr(bt(g)),c.u=v,c.R=!0,ma(c,null)}function ma(c,g){c.F=Date.now(),Ei(c),c.B=bt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),_a(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Zn,c.g=Yu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Mo[0]=q.toString()),q=Mo);for(let $=0;$<q.length;$++){const he=ke(v,q[$],w||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),pi(),ff(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const g=this.O;g&&ni(c)==3?g.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ni(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||De!=4||gt==7||(gt==8||Ke<=0?pi(3):pi(2)),Ti(this);var g=this.g.ca();this.X=g;var v=mf(this);if(this.o=g==200,Nu(this.i,this.v,this.B,this.l,this.S,De,g),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var $=w;break t}}$=null}if(c=$)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,c);else{this.o=!1,this.m=3,Tt(12),Tn(this),Mn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Mu(this,v),ut==Pt){De==4&&(this.m=4,Tt(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,Tt(15),_i(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,ut,null),Si(this,ut);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(he),he.P=!0,Tt(11))}}else _i(this.i,this.l,v,null),Si(this,v);De==4&&Tn(this),this.o&&!this.K&&(De==4?qu(this.j,this):(this.o=!1,Ei(this)))}else Yi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Tn(this),Mn(this)}}}catch{}};function mf(c){if(!Ou(c))return c.g.la();const g=qt(c.g);if(g==="")return"";let v="";const w=g.length,q=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Mn(c),"";c.h.i=new f.TextDecoder}for(let $=0;$<w;$++)c.h.h=!0,v+=c.h.i.decode(g[$],{stream:!(q&&$==w-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,g){var v=c.C,w=g.indexOf(`
`,v);return w==-1?Pt:(v=Number(g.substring(v,w)),isNaN(v)?St:(w+=1,w+v>g.length?Pt:(g=g.slice(w,w+v),c.C=w+v,g)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ei(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(y(c.aa,c),g)}function Ti(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(br(this.i,this.B),this.M!=2&&(pi(),Tt(17)),Tn(this),this.m=2,Mn(this)):pa(this,this.T-c)};function Mn(c){c.j.I==0||c.K||qu(c.j,c)}function Tn(c){Ti(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Vo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Si(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),Is(v);else break e;Vr(v),Tt(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&Aa(v),!D(g))for(q=v.Ba.g.parse(g),g=0;g<q.length;g++){let Ke=q[g];const ut=Ke[0];if(!(ut<=v.K))if(v.K=ut,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Ln=Ke[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const xi=Ke[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const ii=Ke[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const si=c.g;if(si){const kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var $=w.h;$.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Uo($,$.h),$.h=null))}if(w.G){const ba=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(w.wa=ba,Xe(w.J,w.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var he=c;if(w.na=Gu(w,w.L?w.ba:null,w.W),he.L){zo(w.h,he);var De=he,gt=w.O;gt&&(De.H=gt),De.D&&(Ti(De),Ei(De)),w.g=he}else zu(w);v.i.length>0&&Di(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ni(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ni(v,7):Qo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}pi(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ai(c){return c.h?1:c.g?c.g.size:0}function bi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Uo(c,g){c.g?c.g.add(g):c.h=g}function zo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let q,$=null;w>=0?(q=c[v].substring(0,w),$=c[v].substring(w+1)):q=c[v],g(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Sn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Ts(this,c.u),this.h=c.h,qo(this,ju(c.i)),this.m=c.m):c&&(g=String(c).match(Vu))?(this.l=!1,jt(this,g[1]||"",!0),this.o=wi(g[2]||""),this.g=wi(g[3]||"",!0),Ts(this,g[4]),this.h=wi(g[5]||"",!0),qo(this,g[6]||"",!0),this.m=wi(g[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Sn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ir(g,ya,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ir(g,ya,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ir(v,v.charAt(0)=="/"?Ho:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ir(v,Lu)),c.join("")},Sn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?jt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var w=c.h;if(v)Ts(g,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=g.h.lastIndexOf("/");q!=-1&&(w=g.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let he=0;he<q.length;){const De=q[he++];De=="."?w&&he==q.length&&$.push(""):De==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&he==q.length&&$.push("")):($.push(De),w=!0)}w=$.join("/")}else w=q}return v?g.h=w:v=c.i.toString()!=="",v?qo(g,ju(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new Sn(c)}function jt(c,g,v){c.j=v?wi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ts(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function qo(c,g,v){g instanceof As?(c.i=g,va(c.i,c.l)):(v||(g=Ir(g,Ss)),c.i=new As(g,c.l))}function Xe(c,g,v){c.i.set(g,v)}function Cr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ir(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,hn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,ku=/[#\?:]/g,Ho=/[#\?]/g,Ss=/[#\?@]/g,Lu=/#/g;function As(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=As.prototype,s.add=function(c,g){fn(this),this.i=null,c=bs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Pu(c,g){fn(c),g=bs(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fo(c,g){return fn(c),g=bs(c,g),c.g.has(g)}s.forEach=function(c,g){fn(this),this.g.forEach(function(v,w){v.forEach(function(q){c.call(g,q,w,this)},this)},this)};function Go(c,g){fn(c);let v=[];if(typeof g=="string")Fo(c,g)&&(v=v.concat(c.g.get(bs(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return fn(this),this.i=null,c=bs(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=Go(this,c),c.length>0?String(c[0]):g):g};function _a(c,g,v){Pu(c,g),v.length>0&&(c.i=null,c.g.set(bs(c,g),L(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let w=0;w<g.length;w++){var v=g[w];const q=Fi(v);v=Go(this,v);for(let $=0;$<v.length;$++){let he=q;v[$]!==""&&(he+="="+Fi(v[$])),c.push(he)}}return this.i=c.join("&")};function ju(c){const g=new As;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function bs(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function va(c,g){g&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(v,w){const q=w.toLowerCase();w!=q&&(Pu(this,w),_a(this,q,v))},c)),c.j=g}function ei(c,g){const v=new Wn;if(f.Image){const w=new Image;w.onload=T(Vn,v,"TestLoadImage: loaded",!0,g,w),w.onerror=T(Vn,v,"TestLoadImage: error",!1,g,w),w.onabort=T(Vn,v,"TestLoadImage: abort",!1,g,w),w.ontimeout=T(Vn,v,"TestLoadImage: timeout",!1,g,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function Yo(c,g){const v=new Wn,w=new AbortController,q=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(q),$.ok?Vn(v,"TestPingServer: ok",!0,g):Vn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),Vn(v,"TestPingServer: error",!1,g)})}function Vn(c,g,v,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(v)}catch{}}function ws(){this.g=new wu}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ri,Ru),Ri.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Dr,Et),s=Dr.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ti(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Rs(this):ti(this),this.readyState==3&&Ea(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Rs(this))},s.Na=function(c){this.g&&(this.response=c,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let g="";return ae(c,function(v,w){g+=w,g+=":",g+=v,g+=`\r
`}),g}function Nr(c,g,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=kn(v),typeof c=="string"?v!=null&&Fi(v):Xe(c,g,v))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ze,Et);var Ci=/^https?$/i,Ko=["POST","PUT"];s=Ze.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){xr(this,$);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)v.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ko,g,void 0)>=0)||w||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,he]of v)this.g.setRequestHeader($,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){xr(this,$)}};function xr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,$o(c),Gi(c)}function $o(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),ni(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var w;if(w=$===0){let he=String(c.D).match(Vu)[1]||null;!he&&f.self&&f.self.location&&(he=f.self.location.protocol.slice(0,-1)),w=!Ci.test(he?he.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var q=ni(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",$o(c)}}finally{Gi(c)}}}}function Gi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),hf(g)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const g={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(D(c[w]))continue;var v=xu(c[w]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[q]||[];g[q]=$,$.push(v)}le(g,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Cs(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new ws,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,w){Tt(0),this.W=c,this.H=g||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Gu(this,null,this.W),Di(this)};function Qo(c){if(Ta(c),c.I==3){var g=c.V++,v=bt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),Mr(c,v),g=new Jn(c,c.j,g),g.M=2,g.A=Cr(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Yu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ei(g)}Fu(c)}function Is(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function Ta(c){Is(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Di(c){if(!jo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Y||b(),te||(Y(),te=!0),I.add(g,c),c.D=0}}function Sa(c,g){return Ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(y(c.Ea,c,g),Hu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Jn(this,this.j,c);let $=this.o;if(this.U&&($?($=x($),re($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Uu(this,q,g),v=bt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Mr(this,v),$&&(this.R?g="headers="+Fi(kn($))+"&"+g:this.u&&Nr(v,this.u,$)),Uo(this.h,q),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),q.U=!0,vi(q,v,null)):vi(q,v,g),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||jo(this.h)||Xo(this))};function Xo(c,g){var v;g?v=g.l:v=c.V++;const w=bt(c.J);Xe(w,"SID",c.M),Xe(w,"RID",v),Xe(w,"AID",c.K),Mr(c,w),c.u&&c.o&&Nr(w,c.u,c.o),v=new Jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),vi(v,w,g)}function Mr(c,g){c.H&&ae(c.H,function(v,w){Xe(g,w,v)}),c.l&&ae({},function(v,w){Xe(g,w,v)})}function Uu(c,g,v){v=Math.min(c.i.length,v);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let De=-1;for(;;){const gt=["count="+v];De==-1?v>0?(De=q[0].g,gt.push("ofs="+De)):De=0:gt.push("ofs="+De);let Ke=!0;for(let ut=0;ut<v;ut++){var $=q[ut].g;const Ln=q[ut].map;if($-=De,$<0)De=Math.max(0,q[ut].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var he=Ln instanceof Map?Ln:Object.entries(Ln);for(const[xi,ii]of he){let si=ii;p(ii)&&(si=Es(ii)),gt.push($+xi+"="+encodeURIComponent(si))}}catch(xi){throw gt.push($+"type="+encodeURIComponent("_badmap")),xi}}catch{w&&w(Ln)}}if(Ke){he=gt.join("&");break e}}he=void 0}return c=c.i.splice(0,v),g.G=c,he}function zu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Y||b(),te||(Y(),te=!0),I.add(g,c),c.A=0}}function Vr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(y(c.Da,c),Hu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Is(this),Bu(this))};function Wo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),Mr(c,g),c.u&&c.o&&Nr(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cr(bt(g)),v.u=null,v.R=!0,ma(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Vr(this),Tt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,g){var v=null;if(c.g==g){Aa(c),Wo(c),c.g=null;var w=2}else if(bi(c.h,g))v=g.G,zo(c.h,g),w=1;else return;if(c.I!=0){if(g.o)if(w==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var q=c.D;w=da(),Ot(w,new gi(w,v)),Di(c)}else zu(c);else if(q=g.m,q==3||q==0&&g.X>0||!(w==1&&Sa(c,g)||w==2&&Vr(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),q){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Hu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ni(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),w=c.Ua;const q=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(w,"https"),Cr(w),q?ei(w.toString(),v):Yo(w.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),Fu(c),Ta(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const g=Bo(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ja,g),j(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Gu(c,g,v){var w=v instanceof Sn?bt(v):new Sn(v);if(w.g!="")g&&(w.g=g+"."+w.g),Ts(w,w.u);else{var q=f.location;w=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;const $=new Sn(null);w&&jt($,w),g&&($.g=g),q&&Ts($,q),v&&($.h=v),w=$}return v=c.G,g=c.wa,v&&g&&Xe(w,v,g),Xe(w,"VER",c.ka),Mr(c,w),w}function Yu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new Ri({ab:v})):new Ze(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}s=Ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(c,g){return new an(c,g)};function an(c,g){Et.call(this),this.g=new Cs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ki(this)}S(an,Et),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Qo(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Es(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&Di(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,an.Z.N.call(this)};function $u(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S($u,Bt);function Qu(){On.call(this),this.status=1}S(Qu,On);function Ki(c){this.g=c}S(Ki,Ku),Ki.prototype.ra=function(){Ot(this.g,"a")},Ki.prototype.qa=function(c){Ot(this.g,new $u(c))},Ki.prototype.pa=function(c){Ot(this.g,new Qu)},Ki.prototype.oa=function(){Ot(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,YS=function(){return new Ds},GS=function(){return da()},FS=pt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,mh=wr,ko.COMPLETE="complete",HS=ko,Cu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bl=Cu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,qS=Ze}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Ro="12.8.0";function PD(s){Ro=s}const sa=new yp("@firebase/firestore");function eo(){return sa.logLevel}function me(s,...e){if(sa.logLevel<=je.DEBUG){const n=e.map(Np);sa.debug(`Firestore (${Ro}): ${s}`,...n)}}function gs(s,...e){if(sa.logLevel<=je.ERROR){const n=e.map(Np);sa.error(`Firestore (${Ro}): ${s}`,...n)}}function mo(s,...e){if(sa.logLevel<=je.WARN){const n=e.map(Np);sa.warn(`Firestore (${Ro}): ${s}`,...n)}}function Np(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function we(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KS(s,r,n)}function KS(s,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||KS(e,o,r)}function Ie(s,e){return s}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class UD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zD{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new $S(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class BD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=FD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function Bm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return bm(o)===bm(u)?Ue(o,u):bm(o)?1:-1}return Ue(s.length,e.length)}const GD=55296,YD=57343;function bm(s){const e=s.charCodeAt(0);return e>=GD&&e<=YD}function po(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const wE="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),o=Li.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Li.extractNumericId(e).compare(Li.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class rt extends Li{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Li{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new $t([wE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(r+=p,o++):(u(),o++)}if(u(),f)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}function QS(s,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function $D(s,e,n,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function RE(s){if(!Te.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function CE(s){if(Te.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function XS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $h(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function ra(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(s);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function xt(s,e){const n={typeString:s};return e&&(n.value=e),n}function gu(s,e){if(!XS(s))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}const IE=-62135596800,DE=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*DE);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IE)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:xt("string",Ve._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ve(0,0))}static max(){return new Re(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function QD(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new cr(o,Te.empty(),e)}function XD(s){return new cr(s.readTime,s.key,eu)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(Re.min(),Te.empty(),eu)}static max(){return new cr(Re.max(),Te.empty(),eu)}}function WD(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(s){if(s.code!==ie.FAILED_PRECONDITION||s.message!==JD)throw s;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(m=>r(m)))})),f=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((o=>o?se.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next((T=>{f[y]=T,++p,p===u&&r(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new se(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function eN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(s){return s.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const Op=-1;function Xh(s){return s==null}function Nh(s){return s===0&&1/s==-1/0}function tN(s){return typeof s=="number"&&Number.isInteger(s)&&!Nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const WS="";function nN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=NE(e)),e=iN(s.get(n),e);return NE(e)}function iN(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case WS:n+="";break;default:n+=u}}return n}function NE(s){return s+WS+""}function xE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Er(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function JS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Kt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new kt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZS("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const sN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=sN.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}const e0="server_timestamp",t0="__type__",n0="__previous_value__",i0="__local_write_time__";function Mp(s){return(s?.mapValue?.fields||{})[t0]?.stringValue===e0}function Wh(s){const e=s.mapValue.fields[n0];return Mp(e)?Wh(e):e}function tu(s){const e=hr(s.mapValue.fields[i0].timestampValue);return new Ve(e.seconds,e.nanos)}class rN{constructor(e,n,r,o,u,f,p,m,y,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const xh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}function aN(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(s.options.projectId,e)}const s0="__type__",oN="__max__",ih={mapValue:{}},r0="__vector__",Oh="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mp(s)?4:uN(s)?9007199254740991:lN(s)?10:11:we(28295,{value:s})}function qi(s,e){if(s===e)return!0;const n=dr(s);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return tu(s).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hr(o.timestampValue),p=hr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),p=vt(u.doubleValue);return f===p?Nh(f)===Nh(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(xE(f)!==xE(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!qi(f[m],p[m])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function iu(s,e){return(s.values||[]).find((n=>qi(n,e)))!==void 0}function go(s,e){if(s===e)return 0;const n=dr(s),r=dr(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=vt(u.integerValue||u.doubleValue),m=vt(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(s,e);case 3:return ME(s.timestampValue,e.timestampValue);case 4:return ME(tu(s),tu(e));case 5:return Bm(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=fr(u),m=fr(f);return p.compareTo(m)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),m=f.split("/");for(let y=0;y<p.length&&y<m.length;y++){const T=Ue(p[y],m[y]);if(T!==0)return T}return Ue(p.length,m.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Ue(vt(u.latitude),vt(f.latitude));return p!==0?p:Ue(vt(u.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return VE(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},m=f.fields||{},y=p[Oh]?.arrayValue,T=m[Oh]?.arrayValue,S=Ue(y?.values?.length||0,T?.values?.length||0);return S!==0?S:VE(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),y=f.fields||{},T=Object.keys(y);m.sort(),T.sort();for(let S=0;S<m.length&&S<T.length;++S){const C=Bm(m[S],T[S]);if(C!==0)return C;const L=go(p[m[S]],y[T[S]]);if(L!==0)return L}return Ue(m.length,T.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function ME(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=hr(s),r=hr(e),o=Ue(n.seconds,r.seconds);return o!==0?o:Ue(n.nanos,r.nanos)}function VE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=go(n[o],r[o]);if(u)return u}return Ue(n.length,r.length)}function yo(s){return qm(s)}function qm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Te.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=qm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${qm(n.fields[f])}`;return o+"}"})(s.mapValue):we(61005,{value:s})}function ph(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(s);return e?16+ph(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+ph(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Er(r.fields,((u,f)=>{o+=u.length+ph(f)})),o})(s.mapValue);default:throw we(13486,{value:s})}}function kE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Hm(s){return!!s&&"integerValue"in s}function Vp(s){return!!s&&"arrayValue"in s}function LE(s){return!!s&&"nullValue"in s}function PE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function gh(s){return!!s&&"mapValue"in s}function lN(s){return(s?.mapValue?.fields||{})[s0]?.stringValue===r0}function Yl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(s.arrayValue.values[n]);return e}return{...s}}function uN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===oN}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=$t.emptyPath(),r={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,r,o),r={},o=[],n=p.popLast()}f?r[p.lastSegment()]=Yl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Er(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new vn(Yl(this.value))}}function a0(s){const e=[];return Er(s.fields,((n,r)=>{const o=new $t([n]);if(gh(r)){const u=a0(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Nn(e)}class Zt{constructor(e,n,r,o,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),vn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Re.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function jE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=Te.comparator(Te.fromName(f.referenceValue),n.key):r=go(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!qi(s.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function cN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class o0{}class Nt extends o0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fN(e,n,r):n==="array-contains"?new pN(e,r):n==="in"?new gN(e,r):n==="not-in"?new yN(e,r):n==="array-contains-any"?new _N(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dN(e,r):new mN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends o0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mi(e,n)}matches(e){return l0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l0(s){return s.op==="and"}function u0(s){return hN(s)&&l0(s)}function hN(s){for(const e of s.filters)if(e instanceof mi)return!1;return!0}function Fm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+yo(s.value);if(u0(s))return s.filters.map((e=>Fm(e))).join(",");{const e=s.filters.map((n=>Fm(n))).join(",");return`${s.op}(${e})`}}function c0(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(s,e):s instanceof mi?(function(r,o){return o instanceof mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,p)=>u&&c0(f,o.filters[p])),!0):!1})(s,e):void we(19439)}function h0(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(s):s instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(h0).join(" ,")+"}"})(s):"Filter"}class fN extends Nt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class dN extends Nt{constructor(e,n){super(e,"in",n),this.keys=f0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=f0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function f0(s,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class pN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vp(n)&&iu(n.arrayValue,this.value)}}class gN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class yN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class _N extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}class vN{constructor(e,n=null,r=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function zE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new vN(s,e,n,r,o,u,f)}function kp(s){const e=Ie(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yo(r))).join(",")),e.Te=n}return e.Te}function Lp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!cN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!c0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!UE(s.startAt,e.startAt)&&UE(s.endAt,e.endAt)}function Gm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Do{constructor(e,n=null,r=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function EN(s,e,n,r,o,u,f,p){return new Do(s,e,n,r,o,u,f,p)}function d0(s){return new Do(s)}function BE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function TN(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function m0(s){return s.collectionGroup!==null}function Kl(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt($t.comparator);return f.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new su($t.keyField(),r))}return e.Ie}function Ui(s){const e=Ie(s);return e.Ee||(e.Ee=SN(e,Kl(s))),e.Ee}function SN(s,e){if(s.limitType==="F")return zE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=s.endAt?new Mh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Mh(s.startAt.position,s.startAt.inclusive):null;return zE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Ym(s,e){const n=s.filters.concat([e]);return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function AN(s,e){const n=s.explicitOrderBy.concat([e]);return new Do(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Km(s,e,n){return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Jh(s,e){return Lp(Ui(s),Ui(e))&&s.limitType===e.limitType}function p0(s){return`${kp(Ui(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>h0(o))).join(", ")}]`),Xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function Zh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Te.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,p,m){const y=jE(f,p,m);return f.inclusive?y<=0:y<0})(r.startAt,Kl(r),o)||r.endAt&&!(function(f,p,m){const y=jE(f,p,m);return f.inclusive?y>=0:y>0})(r.endAt,Kl(r),o))})(s,e)}function bN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function g0(s){return(e,n)=>{let r=!1;for(const o of Kl(s)){const u=wN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function wN(s,e,n){const r=s.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,f,p){const m=f.data.field(u),y=p.data.field(u);return m!==null&&y!==null?go(m,y):we(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}const RN=new ft(Te.comparator);function ys(){return RN}const y0=new ft(Te.comparator);function ql(...s){let e=y0;for(const n of s)e=e.insert(n.key,n);return e}function _0(s){let e=y0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Zr(){return $l()}function v0(){return $l()}function $l(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CN=new ft(Te.comparator),IN=new kt(Te.comparator);function ze(...s){let e=IN;for(const n of s)e=e.add(n);return e}const DN=new kt(Ue);function NN(){return DN}function Pp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function E0(s){return{integerValue:""+s}}function xN(s,e){return tN(e)?E0(e):Pp(s,e)}class ef{constructor(){this._=void 0}}function ON(s,e,n){return s instanceof Vh?(function(o,u){const f={fields:{[t0]:{stringValue:e0},[i0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mp(u)&&(u=Wh(u)),u&&(f.fields[n0]=u),{mapValue:f}})(n,e):s instanceof ru?S0(s,e):s instanceof au?A0(s,e):(function(o,u){const f=T0(o,u),p=qE(f)+qE(o.Ae);return Hm(f)&&Hm(o.Ae)?E0(p):Pp(o.serializer,p)})(s,e)}function MN(s,e,n){return s instanceof ru?S0(s,e):s instanceof au?A0(s,e):n}function T0(s,e){return s instanceof kh?(function(r){return Hm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Vh extends ef{}class ru extends ef{constructor(e){super(),this.elements=e}}function S0(s,e){const n=b0(e);for(const r of s.elements)n.some((o=>qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class au extends ef{constructor(e){super(),this.elements=e}}function A0(s,e){let n=b0(e);for(const r of s.elements)n=n.filter((o=>!qi(o,r)));return{arrayValue:{values:n}}}class kh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qE(s){return vt(s.integerValue||s.doubleValue)}function b0(s){return Vp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function VN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ru&&o instanceof ru||r instanceof au&&o instanceof au?po(r.elements,o.elements,qi):r instanceof kh&&o instanceof kh?qi(r.Ae,o.Ae):r instanceof Vh&&o instanceof Vh})(s.transform,e.transform)}class kN{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tf{}function w0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new jp(s.key,ci.none()):new yu(s.key,s.data,ci.none());{const n=s.data,r=vn.empty();let o=new kt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new Tr(s.key,r,new Nn(o.toArray()),ci.none())}}function LN(s,e,n){s instanceof yu?(function(o,u,f){const p=o.value.clone(),m=FE(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Tr?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=FE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(R0(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(s,e,n,r){return s instanceof yu?(function(u,f,p,m){if(!yh(u.precondition,f))return p;const y=u.value.clone(),T=GE(u.fieldTransforms,m,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Tr?(function(u,f,p,m){if(!yh(u.precondition,f))return p;const y=GE(u.fieldTransforms,m,f),T=f.data;return T.setAll(R0(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,p){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,n)}function PN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=T0(r.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(r.field,u))}return n||null}function HE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&po(r,o,((u,f)=>VN(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class yu extends tf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends tf{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function R0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function FE(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,p=e.data.field(u.field);r.set(u.field,MN(f,p,n[o]))}return r}function GE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,ON(u,f,e))}return r}class jp extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=v0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=w0(f,p);m!==null&&r.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&po(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class Up{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return CN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Up(e,n,r,o)}}class zN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function qN(s){switch(s){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function C0(s){if(s===void 0)return gs("GRPC error has no .code"),ie.UNKNOWN;switch(s){case Dt.OK:return ie.OK;case Dt.CANCELLED:return ie.CANCELLED;case Dt.UNKNOWN:return ie.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ie.INTERNAL;case Dt.UNAVAILABLE:return ie.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ie.NOT_FOUND;case Dt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Dt.ABORTED:return ie.ABORTED;case Dt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Dt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:s})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function HN(){return new TextEncoder}const FN=new or([4294967295,4294967295],0);function YE(s){const e=HN().encode(s),n=new BS;return n.update(e),new Uint8Array(n.digest())}function KE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new or([n,r],0),new or([o,u],0)]}class zp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(or.fromNumber(r)));return o.compare(FN)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YE(e),[r,o]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,o,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=YE(e),[r,o]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(Re.min(),o,new ft(Ue),ys(),ze())}}class _u{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _u(r,n,ze(),ze(),ze())}}class _h{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class I0{constructor(e,n){this.targetId=e,this.Ce=n}}class D0{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class $E{constructor(){this.ve=0,this.Fe=QE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=QE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.He=sh(),this.Je=sh(),this.Ze=new ft(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Gm(u))if(r===0){const f=new Te(u.path);this.et(n,f,Zt.newNoDocument(f,Re.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),m=p?this.ct(p,e,f):1;if(m!==0){this.it(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=fr(r).toUint8Array()}catch(m){if(m instanceof ZS)return mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new zp(f,o,u)}catch(m){return mo(m instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Gm(p.target)){const m=new Te(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,Zt.newNoDocument(m,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=ze();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new nf(e,n,this.Ze,this.je,r);return this.je=ys(),this.He=sh(),this.Je=sh(),this.Ze=new ft(Ue),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $E,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $E),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ft(Te.comparator)}function QE(){return new ft(Te.comparator)}const YN={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$N={and:"AND",or:"OR"};class QN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(s,e){return s.useProto3Json||Xh(e)?e:{value:e}}function Lh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function XN(s,e){return Lh(s,e.toTimestamp())}function zi(s){return Qe(!!s,49232),Re.fromTimestamp((function(n){const r=hr(n);return new Ve(r.seconds,r.nanos)})(s))}function Bp(s,e){return Qm(s,e).canonicalString()}function Qm(s,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function x0(s){const e=rt.fromString(s);return Qe(L0(e),10190,{key:e.toString()}),e}function Xm(s,e){return Bp(s.databaseId,e.path)}function wm(s,e){const n=x0(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Te(M0(n))}function O0(s,e){return Bp(s.databaseId,e)}function WN(s){const e=x0(s);return e.length===4?rt.emptyPath():M0(e)}function Wm(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function M0(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function XE(s,e,n){return{name:Xm(s,e),fields:n.value.mapValue.fields}}function JN(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const T=y.code===void 0?ie.UNKNOWN:C0(y.code);return new fe(T,y.message||"")})(f);n=new D0(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=wm(s,r.document.name),u=zi(r.document.updateTime),f=r.document.createTime?zi(r.document.createTime):Re.min(),p=new vn({mapValue:{fields:r.document.fields}}),m=Zt.newFoundDocument(o,u,f,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new _h(y,T,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=wm(s,r.document),u=r.readTime?zi(r.readTime):Re.min(),f=Zt.newNoDocument(o,u),p=r.removedTargetIds||[];n=new _h([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=wm(s,r.document),u=r.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new BN(o,u),p=r.targetId;n=new I0(p,f)}}return n}function ZN(s,e){let n;if(e instanceof yu)n={update:XE(s,e.key,e.value)};else if(e instanceof jp)n={delete:Xm(s,e.key)};else if(e instanceof Tr)n={update:XE(s,e.key,e.data),updateMask:l2(e.fieldMask)};else{if(!(e instanceof jN))return we(16599,{dt:e.type});n={verify:Xm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof Vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof kh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(s,e.precondition)),n}function e2(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?zi(o.updateTime):zi(u);return f.isEqual(Re.min())&&(f=zi(u)),new kN(f,o.transformResults||[])})(n,e)))):[]}function t2(s,e){return{documents:[O0(s,e.path)]}}function n2(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O0(s,o);const u=(function(y){if(y.length!==0)return k0(mi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(C){return{field:no(C.field),direction:r2(C.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=$m(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function i2(s){let e=WN(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const C=V0(S);return C instanceof mi&&u0(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(j){return new su(io(j.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(C)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let C;return C=typeof S=="object"?S.value:S,Xh(C)?null:C})(n.limit));let m=null;n.startAt&&(m=(function(S){const C=!!S.before,L=S.values||[];return new Mh(L,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const C=!S.before,L=S.values||[];return new Mh(L,C)})(n.endAt)),EN(e,o,f,u,p,"F",m,y)}function s2(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((r=>V0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(s):we(30097,{filter:s})}function r2(s){return YN[s]}function a2(s){return KN[s]}function o2(s){return $N[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return $t.fromServerFormat(s.fieldPath)}function k0(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(LE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(LE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:a2(n.op),value:n.value}}})(s):s instanceof mi?(function(n){const r=n.getFilters().map((o=>k0(o)));return r.length===1?r[0]:{compositeFilter:{op:o2(n.op),filters:r}}})(s):we(54877,{filter:s})}function l2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function L0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function P0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ir{constructor(e,n,r,o,u=Re.min(),f=Re.min(),p=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u2{constructor(e){this.yt=e}}function c2(s){const e=i2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Km(e,e.limit,"L"):e}class h2{constructor(){this.Sn=new f2}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(cr.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class f2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(rt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j0=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(j0,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const JE="LruGarbageCollector",d2=1048576;function ZE([s,e],[n,r]){const o=Ue(s,n);return o===0?Ue(e,r):o}class m2{constructor(e){this.Pr=e,this.buffer=new kt(ZE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?me(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class g2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Qh.ce);const r=new m2(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(WE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,p,m,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),eo()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(y-m)+`ms
Total Duration: ${y-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function y2(s,e){return new g2(s,e)}class _2{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class E2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ql(r.mutation,o,Nn.empty(),Ve.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const o=Zr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=ql();return u.forEach(((p,m)=>{f=f.insert(p,m.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,o){let u=ys();const f=$l(),p=(function(){return $l()})();return n.forEach(((m,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Tr)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ql(T.mutation,y,T.mutation.getFieldMask(),Ve.now())):f.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>p.set(y,new v2(T,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=$l();let o=new ft(((f,p)=>f-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((m=>{const y=n.get(m);if(y===null)return;let T=r.get(m)||Nn.empty();T=p.applyToLocalView(y,T),r.set(m,T);const S=(o.get(p.batchId)||ze()).add(m);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,T=m.value,S=v0();T.forEach((C=>{if(!u.has(C)){const L=w0(n.get(C),r.get(C));L!==null&&S.set(C,L),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return se.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return TN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):se.resolve(Zr());let p=eu,m=u;return f.next((y=>se.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next((C=>{m=m.insert(T,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,m,y,ze()))).next((T=>({batchId:p,changes:_0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(m=>{const y=(function(S,C){return new Do(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((m,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let p=ql();return f.forEach(((m,y)=>{const T=u.get(m);T!==void 0&&Ql(T.mutation,y,Nn.empty(),Ve.now()),Zh(n,y)&&(p=p.insert(m,y))})),p}))}}class T2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:c2(o.bundledQuery),readTime:zi(o.readTime)}})(n)),se.resolve()}}class S2{constructor(){this.overlays=new ft(Te.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const o=Zr(),u=n.length+1,f=new Te(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=Zr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Zr(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return se.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new zN(n,r));let u=this.Lr.get(n);u===void 0&&(u=ze(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class A2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class qp{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Te(new rt([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new rt([])),r=new zt(n,e),o=new zt(n,e+1);let u=ze();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class b2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new UN(u,n,r,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Op:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ue);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{r=r.add(p.Hr)}))})),se.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const f=new zt(new Te(u),0);let p=new kt(Ue);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(m.Hr)),!0)}),f),se.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return se.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),o=this.Jr.firstAfterOrEqual(r);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class w2{constructor(e){this.ti=e,this.docs=(function(){return new ft(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ys();const f=n.path,p=new Te(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:T}}=m.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||WD(XD(T),r)<=0||(o.has(T.key)||Zh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,r,o){we(9500)}ni(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new R2(this)}getSize(e){return se.resolve(this.size)}}class R2 extends _2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class C2{constructor(e){this.persistence=e,this.ri=new ca((n=>kp(n)),Lp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new qp,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class U0{constructor(e,n){this._i={},this.overlays={},this.ai=new Qh(0),this.ui=!1,this.ui=!0,this.ci=new A2,this.referenceDelegate=e(this),this.li=new C2(this),this.indexManager=new h2,this.remoteDocumentCache=(function(o){return new w2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new u2(n),this.Pi=new T2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new b2(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const o=new I2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return se.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class I2 extends ZD{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new qp,this.Ai=null}static Vi(e){return new Hp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(r=>{const o=Te.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.fi=new ca((r=>nN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=y2(this,n)}static Vi(e,n){return new Ph(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(r++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}wr(e,n,r){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(e,n.fromCache,r,o)}}class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return aR()?8:eN(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new D2;return this.ys(e,n,f).next((p=>{if(u.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(eo()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(eo()<=je.DEBUG&&me("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(eo()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):se.resolve())}gs(e,n){if(BE(n))return se.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=ze(...u);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((m=>{const y=this.bs(n,p);return this.Ss(n,y,f,m.readTime)?this.gs(e,Km(n,null,"F")):this.Ds(e,y,n,m)}))))})))))}ps(e,n,r,o){return BE(n)||o.isEqual(Re.min())?se.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?se.resolve(null):(eo()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.Ds(e,f,n,QD(o,eu)).next((p=>p)))}))}bs(e,n){let r=new kt(g0(e));return n.forEach(((o,u)=>{Zh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return eo()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",to(n)),this.fs.getDocumentsMatchingQuery(e,n,cr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Gp="LocalStore",x2=3e8;class O2{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ue),this.Fs=new ca((u=>kp(u)),Lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function M2(s,e,n,r){return new O2(s,e,n,r)}async function z0(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let m=ze();for(const y of o){f.push(y.batchId);for(const T of y.mutations)m=m.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)m=m.add(T.key)}return n.localDocuments.getDocuments(r,m).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function V2(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,m,y,T){const S=y.batch,C=S.keys();let L=se.resolve();return C.forEach((j=>{L=L.next((()=>T.getEntry(m,j))).next((z=>{const B=y.docVersions.get(j);Qe(B!==null,48541),z.version.compareTo(B)<0&&(S.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),T.addEntry(z)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(m,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let m=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(m=m.add(p.batch.mutations[y].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function B0(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function k2(s,e){const n=Ie(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const C=o.get(S);if(!C)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let L=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),o=o.insert(S,L),(function(z,B,Z){return z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=x2?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(C,L,T)&&p.push(n.li.updateTargetData(u,L))}));let m=ys(),y=ze();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(L2(u,f,e.documentUpdates).next((T=>{m=T.Bs,y=T.Ls}))),!r.isEqual(Re.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return se.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,y))).next((()=>m))})).then((u=>(n.vs=o,u)))}function L2(s,e,n){let r=ze(),o=ze();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=ys();return n.forEach(((p,m)=>{const y=u.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):me(Gp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)})),{Bs:f,Ls:o}}))}function P2(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function j2(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,se.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new ir(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Jm(s,e,n){const r=Ie(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;me(Gp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function eT(s,e,n){const r=Ie(s);let o=Re.min(),u=ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(m,y,T){const S=Ie(m),C=S.Fs.get(T);return C!==void 0?se.resolve(S.vs.get(C)):S.li.getTargetData(y,T)})(r,f,Ui(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,p.targetId).next((m=>{u=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:ze()))).next((p=>(U2(r,bN(e),p),{documents:p,ks:u})))))}function U2(s,e,n){let r=s.Ms.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class tT{constructor(){this.activeTargetIds=NN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z2{constructor(){this.vo=new tT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B2{Mo(e){}shutdown(){}}const nT="ConnectivityMonitor";class iT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(nT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Zm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const Rm="RestConnection",q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Zm(),p=this.Qo(e,n.toUriEncodedString());me(Rm,`Sending RPC '${e}' ${f}:`,p,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:y}=new URL(p),T=Ao(y);return this.zo(e,p,m,r,T).then((S=>(me(Rm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw mo(Rm,`RPC '${e}' ${f} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=q2[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class F2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Wt="WebChannelConnection",Pl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class lo extends H2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=GS();Pl(e,FS.STAT_EVENT,(n=>{n.stat===zm.PROXY?me(Wt,"STAT_EVENT: detected buffering proxy"):n.stat===zm.NOPROXY&&me(Wt,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,n,r,o,u){const f=Zm();return new Promise(((p,m)=>{const y=new qS;y.setWithCredentials(!0),y.listenOnce(HS.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case mh.NO_ERROR:const S=y.getResponseJson();me(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),p(S);break;case mh.TIMEOUT:me(Wt,`RPC '${e}' ${f} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const C=y.getStatus();if(me(Wt,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const z=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN})(j.status);m(new fe(z,j.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(Wt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);me(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=Zm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");me(Wt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const T=f.createWebChannel(y,p);this.I_(T);let S=!1,C=!1;const L=new F2({Ho:j=>{C?me(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(me(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),me(Wt,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Jo:()=>T.close()});return Pl(T,Bl.EventType.OPEN,(()=>{C||(me(Wt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Pl(T,Bl.EventType.CLOSE,(()=>{C||(C=!0,me(Wt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(T))})),Pl(T,Bl.EventType.ERROR,(j=>{C||(C=!0,mo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),L.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),Pl(T,Bl.EventType.MESSAGE,(j=>{if(!C){const z=j.data[0];Qe(!!z,16349);const B=z,Z=B?.error||B[0]?.error;if(Z){me(Wt,`RPC '${e}' stream ${o} received error:`,Z);const X=Z.status;let oe=(function(te){const I=Dt[te];if(I!==void 0)return C0(I)})(X),ge=Z.message;oe===void 0&&(oe=ie.INTERNAL,ge="Unknown error status: "+X+" with message "+Z.message),C=!0,L.o_(new fe(oe,ge)),T.close()}else me(Wt,`RPC '${e}' stream ${o} received:`,z),L.__(z)}})),lo.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YS()}}function G2(s){return new lo(s)}function Cm(){return typeof document<"u"?document:null}function sf(s){return new QN(s,!0)}lo.c_=!1;class q0{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sT="PersistentStream";class H0{constructor(e,n,r,o,u,f,p,m){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new q0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(sT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y2 extends H0{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?zi(f.readTime):Re.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let p;const m=f.target;if(p=Gm(m)?{documents:t2(u,m)}:{query:n2(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=N0(u,f.resumeToken);const y=$m(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){p.readTime=Lh(u,f.snapshotVersion.toTimestamp());const y=$m(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=s2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.K_(n)}}class K2 extends H0{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=e2(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Wm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ZN(this.serializer,r)))};this.K_(n)}}class $2{}class Q2 extends $2{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Qm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,Qm(n,r),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function X2(s,e,n,r){return new Q2(s,e,n,r)}class W2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class J2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ha(this)&&(me(aa,"Restarting streams for network reachability change."),await(async function(m){const y=Ie(m);y.Ea.add(4),await vu(y),y.Va.set("Unknown"),y.Ea.delete(4),await rf(y)})(this))}))})),this.Va=new W2(r,o)}}async function rf(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function vu(s){for(const e of s.Ra)await e(!1)}function F0(s,e){const n=Ie(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?$p(n):No(n).O_()&&Kp(n,e))}function Yp(s,e){const n=Ie(s),r=No(n);n.Ia.delete(e),r.O_()&&G0(n,e),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Va.set("Unknown"))}function Kp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function G0(s,e){s.da.$e(e),No(s).X_(e)}function $p(s){s.da=new GN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Qp(s){return ha(s)&&!No(s).x_()&&s.Ia.size>0}function ha(s){return Ie(s).Ea.size===0}function Y0(s){s.da=void 0}async function Z2(s){s.Va.set("Online")}async function ex(s){s.Ia.forEach(((e,n)=>{Kp(s,e)}))}async function tx(s,e){Y0(s),Qp(s)?(s.Va.ha(e),$p(s)):s.Va.set("Unknown")}async function nx(s,e,n){if(s.Va.set("Online"),e instanceof D0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){me(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(s,r)}else if(e instanceof _h?s.da.Xe(e):e instanceof I0?s.da.st(e):s.da.tt(e),!n.isEqual(Re.min()))try{const r=await B0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(m.resumeToken,f))}})),p.targetMismatches.forEach(((m,y)=>{const T=u.Ia.get(m);if(!T)return;u.Ia.set(m,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),G0(u,m);const S=new ir(T.target,m,y,T.sequenceNumber);Kp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){me(aa,"Failed to raise snapshot:",r),await jh(s,r)}}async function jh(s,e,n){if(!Io(e))throw e;s.Ea.add(1),await vu(s),s.Va.set("Offline"),n||(n=()=>B0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{me(aa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await rf(s)}))}function K0(s,e){return e().catch((n=>jh(s,n,e)))}async function af(s){const e=Ie(s),n=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Op;for(;ix(e);)try{const o=await P2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,sx(e,o)}catch(o){await jh(e,o)}$0(e)&&Q0(e)}function ix(s){return ha(s)&&s.Ta.length<10}function sx(s,e){s.Ta.push(e);const n=mr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function $0(s){return ha(s)&&!mr(s).x_()&&s.Ta.length>0}function Q0(s){mr(s).start()}async function rx(s){mr(s).ra()}async function ax(s){const e=mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function ox(s,e,n){const r=s.Ta.shift(),o=Up.from(r,e,n);await K0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await af(s)}async function lx(s,e){e&&mr(s).Y_&&await(async function(r,o){if((function(f){return qN(f)&&f!==ie.ABORTED})(o.code)){const u=r.Ta.shift();mr(r).B_(),await K0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await af(r)}})(s,e),$0(s)&&Q0(s)}async function rT(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),me(aa,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await vu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rf(n)}async function ux(s,e){const n=Ie(s);e?(n.Ea.delete(2),await rf(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,o){const u=Ie(n);return u.sa(),new Y2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Z2.bind(null,s),Yo:ex.bind(null,s),t_:tx.bind(null,s),J_:nx.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Qp(s)?$p(s):s.Va.set("Unknown")):(await s.ma.stop(),Y0(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,o){const u=Ie(n);return u.sa(),new K2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rx.bind(null,s),t_:lx.bind(null,s),ta:ax.bind(null,s),na:ox.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await af(s)):(await s.fa.stop(),s.Ta.length>0&&(me(aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Xp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,p=new Xp(e,n,f,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(s,e){if(gs("AsyncQueue",`${e}: ${s}`),Io(s))return new fe(ie.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class aT{constructor(){this.ga=new ft(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class vo{constructor(e,n,r,o,u,f,p,m,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new vo(e,n,uo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class cx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class hx{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ie(n),u=o.queries;o.queries=oT(),u.forEach(((f,p)=>{for(const m of p.ba)m.onError(r)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function oT(){return new ca((s=>p0(s)),Jh)}async function fx(s,e){const n=Ie(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new cx,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Wp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Jp(n)}async function dx(s,e){const n=Ie(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mx(s,e){const n=Ie(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(r=!0);f.wa=o}}r&&Jp(n)}function px(s,e,n){const r=Ie(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Jp(s){s.Ca.forEach((e=>{e.next()}))}var ep,lT;(lT=ep||(ep={})).Ma="default",lT.Cache="cache";class gx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class X0{constructor(e){this.key=e}}class W0{constructor(e){this.key=e}}class yx{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=g0(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new aT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const C=o.get(T),L=Zh(this.query,S)?S:null,j=!!C&&this.mutatedKeys.has(C.key),z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let B=!1;C&&L?C.data.isEqual(L.data)?j!==z&&(r.track({type:3,doc:L}),B=!0):this.su(C,L)||(r.track({type:2,doc:L}),B=!0,(m&&this.eu(L,m)>0||y&&this.eu(L,y)<0)&&(p=!0)):!C&&L?(r.track({type:0,doc:L}),B=!0):C&&!L&&(r.track({type:1,doc:C}),B=!0,(m||y)&&(p=!0)),B&&(L?(f=f.add(L),u=z?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(L,j){const z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:B})}};return z(L)-z(j)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,y=m!==this.Xa;return this.Xa=m,f.length!==0||y?{snapshot:new vo(this.query,e.tu,u,f,e.mutatedKeys,m===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new W0(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new X0(r))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zp="SyncEngine";class _x{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vx{constructor(e){this.key=e,this.hu=!1}}class Ex{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((p=>p0(p)),Jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(Te.comparator),this.Au=new Map,this.Vu=new qp,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tx(s,e,n=!0){const r=iA(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await J0(r,e,n,!0),o}async function Sx(s,e){const n=iA(s);await J0(n,e,!0,!1)}async function J0(s,e,n,r){const o=await j2(s.localStore,Ui(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await Ax(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&F0(s.remoteStore,o),p}async function Ax(s,e,n,r,o){s.pu=(S,C,L)=>(async function(z,B,Z,X){let oe=B.view.ru(Z);oe.Ss&&(oe=await eT(z.localStore,B.query,!1).then((({documents:I})=>B.view.ru(I,oe))));const ge=X&&X.targetChanges.get(B.targetId),Y=X&&X.targetMismatches.get(B.targetId)!=null,te=B.view.applyChanges(oe,z.isPrimaryClient,ge,Y);return cT(z,B.targetId,te.au),te.snapshot})(s,S,C,L);const u=await eT(s.localStore,e,!0),f=new yx(e,u.ks),p=f.ru(u.documents),m=_u.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(p,s.isPrimaryClient,m);cT(s,n,y.au);const T=new _x(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function bx(s,e,n){const r=Ie(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Jh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Yp(r.remoteStore,o.targetId),tp(r,o.targetId)})).catch(Co)):(tp(r,o.targetId),await Jm(r.localStore,o.targetId,!0))}async function wx(s,e){const n=Ie(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yp(n.remoteStore,r.targetId))}async function Rx(s,e,n){const r=Mx(s);try{const o=await(function(f,p){const m=Ie(f),y=Ve.now(),T=p.reduce(((L,j)=>L.add(j.key)),ze());let S,C;return m.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let j=ys(),z=ze();return m.xs.getEntries(L,T).next((B=>{j=B,j.forEach(((Z,X)=>{X.isValidDocument()||(z=z.add(Z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(L,j))).next((B=>{S=B;const Z=[];for(const X of p){const oe=PN(X,S.get(X.key).overlayedDocument);oe!=null&&Z.push(new Tr(X.key,oe,a0(oe.value.mapValue),ci.exists(!0)))}return m.mutationQueue.addMutationBatch(L,y,Z,p)})).next((B=>{C=B;const Z=B.applyToLocalDocumentSet(S,z);return m.documentOverlayCache.saveOverlays(L,B.batchId,Z)}))})).then((()=>({batchId:C.batchId,changes:_0(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,p,m){let y=f.du[f.currentUser.toKey()];y||(y=new ft(Ue)),y=y.insert(p,m),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await Eu(r,o.changes),await af(r.remoteStore)}catch(o){const u=Wp(o,"Failed to persist write");n.reject(u)}}async function Z0(s,e){const n=Ie(s);try{const r=await k2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Eu(n,r,e)}catch(r){await Co(r)}}function uT(s,e,n){const r=Ie(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const m=Ie(f);m.onlineState=p;let y=!1;m.queries.forEach(((T,S)=>{for(const C of S.ba)C.va(p)&&(y=!0)})),y&&Jp(m)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cx(s,e,n){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ft(Te.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const p=ze().add(u),m=new nf(Re.min(),new Map,new ft(Ue),f,p);await Z0(r,m),r.Ru=r.Ru.remove(u),r.Au.delete(e),eg(r)}else await Jm(r.localStore,e,!1).then((()=>tp(r,e,n))).catch(Co)}async function Ix(s,e){const n=Ie(s),r=e.batch.batchId;try{const o=await V2(n.localStore,e);tA(n,r,null),eA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(n,o)}catch(o){await Co(o)}}async function Dx(s,e,n){const r=Ie(s);try{const o=await(function(f,p){const m=Ie(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return m.mutationQueue.lookupMutationBatch(y,p).next((S=>(Qe(S!==null,37113),T=S.keys(),m.mutationQueue.removeMutationBatch(y,S)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>m.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);tA(r,e,n),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eu(r,o)}catch(o){await Co(o)}}function eA(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function tA(s,e,n){const r=Ie(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function tp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||nA(s,r)}))}function nA(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Yp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),eg(s))}function cT(s,e,n){for(const r of n)r instanceof X0?(s.Vu.addReference(r.key,e),Nx(s,r)):r instanceof W0?(me(Zp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||nA(s,r.key)):we(19791,{wu:r})}function Nx(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(me(Zp,"New document in limbo: "+n),s.Eu.add(r),eg(s))}function eg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Te(rt.fromString(e)),r=s.fu.next();s.Au.set(r,new vx(n)),s.Ru=s.Ru.insert(n,r),F0(s.remoteStore,new ir(Ui(d0(n.path)),r,"TargetPurposeLimboResolution",Qh.ce))}}async function Eu(s,e,n){const r=Ie(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,m)=>{f.push(r.pu(m,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Fp.Es(m.targetId,y);u.push(T)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(m,y){const T=Ie(m);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>se.forEach(y,(C=>se.forEach(C.Ts,(L=>T.persistence.referenceDelegate.addReference(S,C.targetId,L))).next((()=>se.forEach(C.Is,(L=>T.persistence.referenceDelegate.removeReference(S,C.targetId,L)))))))))}catch(S){if(!Io(S))throw S;me(Gp,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const L=T.vs.get(C),j=L.snapshotVersion,z=L.withLastLimboFreeSnapshotVersion(j);T.vs=T.vs.insert(C,z)}}})(r.localStore,u))}async function xx(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){me(Zp,"User change. New user:",e.toKey());const r=await z0(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new fe(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(n,r.Ns)}}function Ox(s,e){const n=Ie(s),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function iA(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ox.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cx.bind(null,e),e.Pu.J_=mx.bind(null,e.eventManager),e.Pu.yu=px.bind(null,e.eventManager),e}function Mx(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ix.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dx.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return M2(this.persistence,new N2,e.initialUser,this.serializer)}Cu(e){return new U0(Hp.Vi,this.serializer)}Du(e){return new z2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class Vx extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new U0((r=>Ph.Vi(r,n)),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xx.bind(null,this.syncEngine),await ux(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hx})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),r=G2(e.databaseInfo);return X2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,p){return new J2(r,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>uT(this.syncEngine,n,0)),(function(){return iT.v()?new iT:new B2})())}createSyncEngine(e,n){return(function(o,u,f,p,m,y,T){const S=new Ex(o,u,f,p,m,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);me(aa,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pr="FirestoreClient";class Lx{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{me(pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(me(pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Im(s,e){s.asyncQueue.verifyOperationInProgress(),me(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await z0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function hT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await Px(s);me(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>rT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>rT(e.remoteStore,o))),s._onlineComponents=e}async function Px(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(pr,"Using user provided OfflineComponentProvider");try{await Im(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Im(s,new Uh)}}else me(pr,"Using default OfflineComponentProvider"),await Im(s,new Vx(void 0));return s._offlineComponents}async function sA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(pr,"Using user provided OnlineComponentProvider"),await hT(s,s._uninitializedComponentsProvider._online)):(me(pr,"Using default OnlineComponentProvider"),await hT(s,new np))),s._onlineComponents}function jx(s){return sA(s).then((e=>e.syncEngine))}async function Ux(s){const e=await sA(s),n=e.eventManager;return n.onListen=Tx.bind(null,e.syncEngine),n.onUnlisten=bx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wx.bind(null,e.syncEngine),n}function zx(s,e,n={}){const r=new lr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,m,y){const T=new kx({next:C=>{T.Nu(),f.enqueueAndForget((()=>dx(u,S))),C.fromCache&&m.source==="server"?y.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new gx(p,T,{includeMetadataChanges:!0,Ka:!0});return fx(u,S)})(await Ux(s),s.asyncQueue,e,n,r))),r.promise}function Bx(s,e){const n=new lr;return s.asyncQueue.enqueueAndForget((async()=>Rx(await jx(s),e,n))),n.promise}function rA(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const qx="ComponentProvider",fT=new Map;function Hx(s,e,n,r,o){return new rN(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,rA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const aA="firestore.googleapis.com",dT=!0;class mT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aA,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d2)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jD;switch(r.type){case"firstParty":return new qD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=fT.get(n);r&&(me(qx,"Removing Datastore"),fT.delete(n),r.terminate())})(this),Promise.resolve()}}function Fx(s,e,n,r={}){s=ra(s,of);const o=Ao(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(JT(`https://${p}`),ZT("Firestore",!0)),u.host!==aA&&u.host!==p&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:r};if(!ea(m,f)&&(s._setSettings(m),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Jt.MOCK_USER;else{y=W1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(S)}s._authCredentials=new UD(new $S(y,T))}}class fa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gu(n,Vt._jsonSchema))return new Vt(e,r||null,new Te(rt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:xt("string",Vt._jsonSchemaVersion),referencePath:xt("string")};class ur extends fa{constructor(e,n,r){super(e,n,d0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Te(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function en(s,e,...n){if(s=Lt(s),QS("collection","path",e),s instanceof of){const r=rt.fromString(e,...n);return CE(r),new ur(s,null,r)}{if(!(s instanceof Vt||s instanceof ur))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(rt.fromString(e,...n));return CE(r),new ur(s.firestore,null,r)}}function Kn(s,e,...n){if(s=Lt(s),arguments.length===1&&(e=xp.newId()),QS("doc","path",e),s instanceof of){const r=rt.fromString(e,...n);return RE(r),new Vt(s,null,new Te(r))}{if(!(s instanceof Vt||s instanceof ur))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(rt.fromString(e,...n));return RE(r),new Vt(s.firestore,s instanceof ur?s.converter:null,new Te(r))}}const pT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new q0(this,"async_queue_retry"),this._c=()=>{const r=Cm();r&&me(pT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;me(pT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",yT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:yT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Tu extends of{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new gT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function Gx(s,e){const n=typeof s=="object"?s:nS(),r=typeof s=="string"?s:xh,o=vp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Q1("firestore");u&&Fx(o,...u)}return o}function oA(s){if(s._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Yx(s),s._firestoreClient}function Yx(s){const e=s._freezeSettings(),n=Hx(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Lx(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Qt.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:xt("string",Yn._jsonSchemaVersion),bytes:xt("string")};class tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ng{constructor(e){this._methodName=e}}class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:xt("string",Bi._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:xt("string",hi._jsonSchemaVersion),vectorValues:xt("object")};const Kx=/^__.*__$/;class $x{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class lA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:s})}}class ig{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uA(this.dataSource)&&Kx.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Qx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sf(e)}createContext(e,n,r,o=!1){return new ig({dataSource:e,methodName:n,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(s){const e=s._freezeSettings(),n=sf(s._databaseId);return new Qx(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Xx(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",f,r);const p=cA(r,f);let m,y;if(u.merge)m=new Nn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const C=oa(e,S,n);if(!f.contains(C))throw new fe(ie.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);dA(T,C)||T.push(C)}m=new Nn(T),y=f.fieldTransforms.filter((S=>m.covers(S.field)))}else m=null,y=f.fieldTransforms;return new $x(new vn(p),m,y)}class lf extends ng{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function Wx(s,e,n,r){const o=s.createContext(1,e,n);rg("Data must be an object, but it was:",o,r);const u=[],f=vn.empty();Er(r,((m,y)=>{const T=fA(e,m,n);y=Lt(y);const S=o.childContextForFieldPath(T);if(y instanceof lf)u.push(T);else{const C=Su(y,S);C!=null&&(u.push(T),f.set(T,C))}}));const p=new Nn(u);return new lA(f,p,o.fieldTransforms)}function Jx(s,e,n,r,o,u){const f=s.createContext(1,e,n),p=[oa(e,r,n)],m=[o];if(u.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(oa(e,u[C])),m.push(u[C+1]);const y=[],T=vn.empty();for(let C=p.length-1;C>=0;--C)if(!dA(y,p[C])){const L=p[C];let j=m[C];j=Lt(j);const z=f.childContextForFieldPath(L);if(j instanceof lf)y.push(L);else{const B=Su(j,z);B!=null&&(y.push(L),T.set(L,B))}}const S=new Nn(y);return new lA(T,S,f.fieldTransforms)}function Zx(s,e,n,r=!1){return Su(n,s.createContext(r?4:3,e))}function Su(s,e){if(hA(s=Lt(s)))return rg("Unsupported field value:",e,s),cA(s,e);if(s instanceof ng)return(function(r,o){if(!uA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const p of r){let m=Su(p,o.childContextForArray(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ve.fromDate(r);return{timestampValue:Lh(o.serializer,u)}}if(r instanceof Ve){const u=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:N0(o.serializer,r._byteString)};if(r instanceof Vt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof hi)return(function(f,p){const m=f instanceof hi?f.toArray():f;return{mapValue:{fields:{[s0]:{stringValue:r0},[Oh]:{arrayValue:{values:m.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return Pp(p.serializer,T)}))}}}}}})(r,o);if(P0(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${$h(r)}`)})(s,e)}function cA(s,e){const n={};return JS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((r,o)=>{const u=Su(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function hA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ve||s instanceof Bi||s instanceof Yn||s instanceof Vt||s instanceof ng||s instanceof hi||P0(s))}function rg(s,e,n){if(!hA(n)||!XS(n)){const r=$h(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function oa(s,e,n){if((e=Lt(e))instanceof tg)return e._internalPath;if(typeof e=="string")return fA(s,e);throw zh("Field path arguments must be of type string or ",s,!1,void 0,n)}const eO=new RegExp("[~\\*/\\[\\]]");function fA(s,e,n){if(e.search(eO)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new tg(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function zh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${r}`),f&&(m+=` in document ${o}`),m+=")"),new fe(ie.INVALID_ARGUMENT,p+s+m)}function dA(s,e){return s.some((n=>n.isEqual(e)))}class tO{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Er(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new hi(n)}convertGeoPoint(e){return new Bi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=hr(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Qe(L0(r),9688,{name:e});const o=new nu(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return o.isEqual(n)||gs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class nO extends tO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}const _T="@firebase/firestore",vT="4.10.0";class mA{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(oa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iO extends mA{data(){return super.data()}}function sO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class pA extends ag{}function og(s,e,...n){let r=[];e instanceof ag&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((m=>m instanceof lg)).length,p=u.filter((m=>m instanceof uf)).length;if(f>1||f>0&&p>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class uf extends pA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uf(e,n,r)}_apply(e){const n=this._parse(e);return yA(e._query,n),new fa(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=sg(e.firestore);return(function(u,f,p,m,y,T,S){let C;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){TT(S,T);const j=[];for(const z of S)j.push(ET(m,u,z));C={arrayValue:{values:j}}}else C=ET(m,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||TT(S,T),C=Zx(p,f,S,T==="in"||T==="not-in");return Nt.create(y,T,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gA(s,e,n){const r=e,o=oa("where",s);return uf._create(o,r,n)}class lg extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)yA(f,m),f=Ym(f,m)})(e._query,n),new fa(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends pA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ug(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,AN(e._query,n))}}function rO(s,e="asc"){const n=e,r=oa("orderBy",s);return ug._create(r,n)}function ET(s,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m0(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!Te.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kE(s,new Te(r))}if(n instanceof Vt)return kE(s,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function TT(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(s,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function aO(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends mA{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:xt("string",co._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class vh extends co{data(e={}){return super.data(e)}}class ho{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ah(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new ah(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const m=new vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ah(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ah(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:oO(p.type),doc:m,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:xt("string",ho._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};function $n(s){s=ra(s,fa);const e=ra(s.firestore,Tu),n=oA(e),r=new nO(e);return sO(s._query),zx(n,s._query).then((o=>new ho(e,r,s,o)))}function Bh(s,e,n,...r){s=ra(s,Vt);const o=ra(s.firestore,Tu),u=sg(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof tg?Jx(u,"updateDoc",s._key,e,n,r):Wx(u,"updateDoc",s._key,e),cg(o,[f.toMutation(s._key,ci.exists(!0))])}function la(s){return cg(ra(s.firestore,Tu),[new jp(s._key,ci.none())])}function Eh(s,e){const n=ra(s.firestore,Tu),r=Kn(s),o=aO(s.converter,e),u=sg(s.firestore);return cg(n,[Xx(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function cg(s,e){const n=oA(s);return Bx(n,e)}(function(e,n=!0){PD(bo),fo(new ta("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Tu(new zD(r.getProvider("auth-internal")),new HD(f,r.getProvider("app-check-internal")),aN(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ar(_T,vT,e),ar(_T,vT,"esm2020")})();var lO="firebase",uO="12.8.0";ar(lO,uO,"app");const _A={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},vA=Ep(_A),oh=zS(vA),st=Gx(vA),cO=Ep(_A,"secondary"),ST=zS(cO),hO="EYdciKDOi3UYBLk1u8hHams5tmO2",EA=P.createContext();function Au(){return P.useContext(EA)}function fO({children:s}){const[e,n]=P.useState(null),[r,o]=P.useState(!1),[u,f]=P.useState(!1),[p,m]=P.useState(null),[y,T]=P.useState(!0);P.useEffect(()=>RI(oh,async z=>{if(n(z),z)if(z.uid===hO)o(!0),f(!1),m(null);else{o(!1);try{const B=og(en(st,"clients"),gA("uid","==",z.uid)),Z=await $n(B);if(Z.empty)f(!1),m(null);else{const X=Z.docs[0];f(!0),m({id:X.id,...X.data()})}}catch(B){console.error("Error fetching client data:",B),f(!1),m(null)}}else o(!1),f(!1),m(null);T(!1)}),[]);const L={currentUser:e,isAdmin:r,isClient:u,clientData:p,login:async(j,z,B=!0)=>(await AI(oh,B?OS:Cp),await SI(oh,j,z)),logout:()=>DS(oh),loading:y};return E.jsx(EA.Provider,{value:L,children:s})}function dO(){const[s,e]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(!0),[f,p]=P.useState(""),[m,y]=P.useState(!1),{login:T,currentUser:S,isAdmin:C,isClient:L,loading:j}=Au(),z=yr();P.useEffect(()=>{!j&&S&&(C?z("/dashboard"):L&&z("/client"))},[j,S,C,L,z]);const B=async Z=>{Z.preventDefault(),p(""),y(!0);try{await T(s,n,o)}catch(X){p(X.message||"Failed to log in"),y(!1)}};return E.jsx("div",{className:"login-container",children:E.jsxs("div",{className:"login-card",children:[E.jsxs("div",{className:"login-header",children:[E.jsx("h1",{children:"Mind Core Fitness"}),E.jsx("p",{children:"Client Portal"})]}),f&&E.jsx("div",{className:"error-message",children:f}),E.jsxs("form",{onSubmit:B,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email"}),E.jsx("input",{type:"email",id:"email",value:s,onChange:Z=>e(Z.target.value),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),E.jsx("input",{type:"password",id:"password",value:n,onChange:Z=>r(Z.target.value),required:!0})]}),E.jsx("div",{className:"remember-me",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:o,onChange:Z=>u(Z.target.checked)}),E.jsx("span",{children:"Remember me"})]})}),E.jsx("button",{type:"submit",className:"login-btn",disabled:m,children:m?"Logging in...":"Log In"})]}),E.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function mO(){const[s,e]=P.useState([]),[n,r]=P.useState([]),[o,u]=P.useState(!0),[f,p]=P.useState(null),[m,y]=P.useState({});P.useEffect(()=>{T()},[]);const T=async()=>{try{const[Y,te]=await Promise.all([$n(og(en(st,"clients"),rO("createdAt","desc"))),$n(en(st,"sessions"))]),I=Y.docs.map(R=>({id:R.id,...R.data()})),b=te.docs.map(R=>({id:R.id,...R.data()}));e(I),r(b)}catch(Y){console.error("Error fetching data:",Y)}u(!1)},S=Y=>{const te=new Date,I=te.getFullYear(),b=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0"),M=`${I}-${b}-${R}`,N=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`;return n.filter(V=>V.clientId!==Y?!1:V.date<M||V.date===M&&V.time<N).length},C=Y=>{const te=S(Y.id);return(Y.totalSessions||0)-te},L=Y=>{const te=new Date,I=te.getFullYear(),b=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0"),M=`${I}-${b}-${R}`,N=`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`;return n.filter(V=>V.clientId!==Y?!1:V.date>M||V.date===M&&V.time>=N).length},j=Y=>Y?(Y.toDate?Y.toDate():new Date(Y)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",z=async(Y,te)=>{if(window.confirm(`Are you sure you want to delete ${te}? This will also delete all their booked sessions.`))try{const b=n.filter(R=>R.clientId===Y).map(R=>la(Kn(st,"sessions",R.id)));await Promise.all(b),await la(Kn(st,"clients",Y)),e(s.filter(R=>R.id!==Y)),r(n.filter(R=>R.clientId!==Y))}catch(I){console.error("Error deleting client:",I),alert("Failed to delete client")}},B=Y=>{if(!Y)return"";const te=Y.toDate?Y.toDate():new Date(Y),I=te.getFullYear(),b=(te.getMonth()+1).toString().padStart(2,"0"),R=te.getDate().toString().padStart(2,"0");return`${I}-${b}-${R}`},Z=Y=>{p(Y.id),y({name:Y.name,email:Y.email,password:"",weeksInBlock:Y.weeksInBlock,totalSessions:Y.totalSessions,sessionsRemaining:Y.sessionsRemaining,sessionDuration:Y.sessionDuration||45,startDate:B(Y.startDate),endDate:B(Y.endDate),status:Y.status,hasPortalAccess:!!Y.uid})},X=Y=>{const{name:te,value:I}=Y.target;if(y(b=>({...b,[te]:I})),te==="startDate"||te==="weeksInBlock"){const b=te==="startDate"?I:m.startDate,R=parseInt(te==="weeksInBlock"?I:m.weeksInBlock);if(b&&R>0){const M=new Date(b),N=new Date(M);N.setDate(N.getDate()+R*7);const V=N.getFullYear(),D=(N.getMonth()+1).toString().padStart(2,"0"),He=N.getDate().toString().padStart(2,"0");y(at=>({...at,[te]:I,endDate:`${V}-${D}-${He}`}))}}},oe=async Y=>{try{const te=s.find(R=>R.id===Y);let I=te?.uid;if(m.password&&m.password.length>=6&&!te?.uid)try{const R=await TI(ST,m.email.trim().toLowerCase(),m.password);await DS(ST),I=R.user.uid}catch(R){if(console.error("Error creating auth account:",R),R.code==="auth/email-already-in-use")alert("This email already has a portal account. Password not changed.");else if(R.code==="auth/weak-password"){alert("Password must be at least 6 characters.");return}else{alert("Failed to create portal account: "+R.message);return}}const b={name:m.name.trim(),email:m.email.trim().toLowerCase(),weeksInBlock:parseInt(m.weeksInBlock),totalSessions:parseInt(m.totalSessions),sessionDuration:parseInt(m.sessionDuration),startDate:Ve.fromDate(new Date(m.startDate)),endDate:Ve.fromDate(new Date(m.endDate)),status:m.status};I&&!te?.uid&&(b.uid=I),await Bh(Kn(st,"clients",Y),b),e(s.map(R=>R.id===Y?{...R,...m,uid:I||R.uid,weeksInBlock:parseInt(m.weeksInBlock),totalSessions:parseInt(m.totalSessions),sessionDuration:parseInt(m.sessionDuration),startDate:Ve.fromDate(new Date(m.startDate)),endDate:Ve.fromDate(new Date(m.endDate))}:R)),p(null),I&&!te?.uid&&alert("Portal access created! Client can now log in.")}catch(te){console.error("Error updating client:",te),alert("Failed to update client")}},ge=async Y=>{try{const te=s.find(I=>I.id===Y)?.status==="archived"?"active":"archived";await Bh(Kn(st,"clients",Y),{status:te}),e(s.map(I=>I.id===Y?{...I,status:te}:I))}catch(te){console.error("Error archiving client:",te),alert("Failed to update client status")}};return o?E.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):s.length===0?E.jsxs("div",{className:"client-list-empty",children:[E.jsx("p",{children:"No clients yet"}),E.jsx("span",{children:"Add your first client to get started"})]}):E.jsx("div",{className:"client-list",children:s.map(Y=>E.jsx("div",{className:`client-card ${Y.status==="archived"?"archived":""}`,children:f===Y.id?E.jsxs("div",{className:"edit-form",children:[E.jsxs("div",{className:"edit-row",children:[E.jsx("input",{type:"text",name:"name",value:m.name,onChange:X,placeholder:"Name"}),E.jsx("input",{type:"email",name:"email",value:m.email,onChange:X,placeholder:"Email"})]}),E.jsxs("div",{className:"edit-row",children:[E.jsx("input",{type:"number",name:"weeksInBlock",value:m.weeksInBlock,onChange:X,placeholder:"Weeks",min:"1"}),E.jsx("input",{type:"number",name:"totalSessions",value:m.totalSessions,onChange:X,placeholder:"Total Sessions",min:"1"}),E.jsxs("select",{name:"sessionDuration",value:m.sessionDuration,onChange:X,children:[E.jsx("option",{value:"30",children:"30 min"}),E.jsx("option",{value:"45",children:"45 min"})]})]}),E.jsxs("div",{className:"edit-row",children:[E.jsx("input",{type:"date",name:"startDate",value:m.startDate,onChange:X}),E.jsx("input",{type:"date",name:"endDate",value:m.endDate,onChange:X})]}),E.jsx("div",{className:"edit-row password-row",children:m.hasPortalAccess?E.jsx("div",{className:"portal-status has-access",children:" Has portal access"}):E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",name:"password",value:m.password,onChange:X,placeholder:"Set portal password (min 6 chars)"}),E.jsx("span",{className:"password-hint",children:"Set password to enable client portal"})]})}),E.jsxs("div",{className:"edit-actions",children:[E.jsx("button",{className:"save-edit-btn",onClick:()=>oe(Y.id),children:"Save"}),E.jsx("button",{className:"cancel-edit-btn",onClick:()=>p(null),children:"Cancel"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"client-header",children:[E.jsxs("div",{className:"client-info",children:[E.jsx("h3",{children:Y.name}),E.jsx("span",{className:"client-email",children:Y.email})]}),E.jsx("div",{className:"client-status",children:E.jsx("span",{className:`status-badge ${Y.status}`,children:Y.status})})]}),E.jsxs("div",{className:"client-details",children:[E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Block"}),E.jsxs("span",{className:"detail-value",children:[Y.weeksInBlock," weeks"]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Sessions"}),E.jsxs("span",{className:"detail-value",children:[C(Y)," / ",Y.totalSessions," remaining"]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Booked"}),E.jsxs("span",{className:"detail-value",children:[L(Y.id)," sessions"]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Duration"}),E.jsxs("span",{className:"detail-value",children:[Y.sessionDuration||45," min"]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"Start"}),E.jsx("span",{className:"detail-value",children:j(Y.startDate)})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx("span",{className:"detail-label",children:"End"}),E.jsx("span",{className:"detail-value",children:j(Y.endDate)})]})]}),E.jsxs("div",{className:"client-actions",children:[E.jsx("button",{className:"action-btn edit",onClick:()=>Z(Y),children:"Edit"}),E.jsx("button",{className:"action-btn archive",onClick:()=>ge(Y.id),children:Y.status==="archived"?"Reactivate":"Archive"}),E.jsx("button",{className:"action-btn delete",onClick:()=>z(Y.id,Y.name),children:"Delete"})]})]})},Y.id))})}const TA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},ip=["monday","tuesday","wednesday","thursday","friday"],pO=["Monday","Tuesday","Wednesday","Thursday","Friday"],gO=["Mon","Tue","Wed","Thu","Fri"],AT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},yO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),ip.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},li=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},sp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},rp=(s,e)=>{const n=sp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},_O=s=>{const e=TA[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=rp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=rp(r,15)}return n};function vO(){const[s,e]=P.useState(new Date),[n,r]=P.useState([]),[o,u]=P.useState([]),[f,p]=P.useState([]),[m,y]=P.useState([]),[T,S]=P.useState(null),[C,L]=P.useState(null),[j,z]=P.useState(!1),[B,Z]=P.useState(!0);P.useEffect(()=>{r(yO(s))},[s]),P.useEffect(()=>{te()},[]);const X=ae=>{if(S(ae),z(!1),ae.startDate){const le=ae.startDate.toDate?ae.startDate.toDate():new Date(ae.startDate);e(le)}L(null)},oe=ae=>{const le=new Date,x=li(le),K=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return f.filter(re=>re.clientId!==ae?!1:re.date<x||re.date===x&&re.time<K).length},ge=ae=>{const le=oe(ae.id);return(ae.totalSessions||0)-le},Y=ae=>{const le=new Date,x=le.getFullYear(),K=(le.getMonth()+1).toString().padStart(2,"0"),re=le.getDate().toString().padStart(2,"0"),ue=`${x}-${K}-${re}`,de=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return f.filter(ye=>ye.clientId!==ae?!1:ye.date>ue||ye.date===ue&&ye.time>=de).length},te=async()=>{try{const le=(await $n(en(st,"clients"))).docs.map(de=>({id:de.id,...de.data()})).filter(de=>de.status==="active");u(le);const K=(await $n(en(st,"sessions"))).docs.map(de=>({id:de.id,...de.data()}));p(K);const ue=(await $n(en(st,"holidays"))).docs.map(de=>({id:de.id,...de.data()}));y(ue)}catch(ae){console.error("Error fetching data:",ae)}Z(!1)},I=ae=>{const le=new Date(s);le.setDate(le.getDate()+ae*7),e(le),L(null)},b=()=>{e(new Date),L(null)},R=ae=>{const le=li(ae);return m.some(x=>x.date===le)},M=ae=>{const le=li(ae);return f.filter(x=>x.date===le)},N=(ae,le)=>{const x=li(ae);return f.find(K=>K.date===x&&K.time===le)},V=(ae,le,x)=>{const K=ip[ae.getDay()-1];if(!K||R(ae))return!1;const re=li(ae);if(f.find(nn=>nn.date===re&&nn.time===le))return!1;const de=rp(le,x),ye=TA[K],Se=ye.morning&&de<=ye.morning.end,Ye=ye.afternoon&&de<=ye.afternoon.end,ke=ye.morning&&le>=ye.morning.start&&le<ye.morning.end,ln=ye.afternoon&&le>=ye.afternoon.start&&le<ye.afternoon.end;if(ke&&!Se||ln&&!Ye)return!1;for(const nn of f){if(nn.date!==re)continue;const un=sp(nn.time),cn=un+(nn.duration||45),sn=sp(le),Qn=sn+x;if(sn<cn&&Qn>un)return!1}return!0},D=async(ae,le)=>{const x=N(ae,le);if(x){if(window.confirm(`Cancel ${x.clientName}'s session at ${AT(le)}?`))try{await la(Kn(st,"sessions",x.id)),p(f.filter(re=>re.id!==x.id))}catch(re){console.error("Error cancelling session:",re),alert("Failed to cancel session")}return}if(!T){alert("Please select a client first");return}if(!V(ae,le,T.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(f.filter(re=>re.clientId===T.id).length>=T.totalSessions){alert(`${T.name} has already booked all ${T.totalSessions} sessions`);return}try{const re=li(ae),ue={clientId:T.id,clientName:T.name,date:re,time:le,duration:T.sessionDuration||45,createdAt:Ve.now()},de=await Eh(en(st,"sessions"),ue);p([...f,{id:de.id,...ue}])}catch(re){console.error("Error booking session:",re),alert("Failed to book session")}},He=async()=>{if(!T)return;const ae=T.startDate?.toDate?T.startDate.toDate():new Date(T.startDate),le=T.endDate?.toDate?T.endDate.toDate():new Date(T.endDate),x=f.filter(Se=>Se.clientId!==T.id?!1:n.some(Ye=>li(Ye)===Se.date));if(x.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const K=T.weeksInBlock||Math.ceil((le-ae)/(10080*60*1e3)),re=x.map(Se=>({dayOfWeek:new Date(Se.date).getDay(),time:Se.time}));let ue=[];const de=f.filter(Se=>Se.clientId===T.id).length;for(let Se=0;Se<K;Se++){const Ye=new Date(ae);Ye.setDate(Ye.getDate()+Se*7);const ke=new Date(Ye),ln=ke.getDay(),nn=ke.getDate()-ln+(ln===0?-6:1);ke.setDate(nn);for(const un of re){const cn=new Date(ke),sn=un.dayOfWeek===0?6:un.dayOfWeek-1;cn.setDate(ke.getDate()+sn);const Qn=li(cn);f.some(En=>En.clientId===T.id&&En.date===Qn&&En.time===un.time)||cn<ae||cn>le||m.some(En=>En.date===Qn)||ue.push({dateKey:Qn,time:un.time,sessionDate:cn})}}const ye=de+ue.length;if(ye>T.totalSessions){alert(`This would create ${ue.length} new sessions (${ye} total), but client only has ${T.totalSessions} sessions in their package.

You can still book ${T.totalSessions-de} more sessions.`);return}if(ue.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${ue.length} new sessions across the block.

(${de} existing + ${ue.length} new = ${ye} total)

Continue?`))try{const Se=[];for(const Ye of ue){const ke={clientId:T.id,clientName:T.name,date:Ye.dateKey,time:Ye.time,duration:T.sessionDuration||45,createdAt:Ve.now()},ln=await Eh(en(st,"sessions"),ke);Se.push({id:ln.id,...ke})}p([...f,...Se]),alert(`Created ${Se.length} new sessions!`)}catch(Se){console.error("Error repeating weekly:",Se),alert("Failed to repeat sessions")}},at=async ae=>{const le=li(ae),x=m.find(K=>K.date===le);try{if(x)await la(Kn(st,"holidays",x.id)),y(m.filter(K=>K.id!==x.id));else{const K=await Eh(en(st,"holidays"),{date:le,createdAt:Ve.now()});y([...m,{id:K.id,date:le}])}}catch(K){console.error("Error toggling day availability:",K),alert("Failed to update day availability")}};if(B)return E.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const W=n[0],ce=n[4],ve=W&&ce?`${W.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${ce.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return E.jsxs("div",{className:"calendar",children:[E.jsxs("div",{className:"calendar-header",children:[E.jsxs("div",{className:"calendar-nav",children:[E.jsx("button",{onClick:()=>I(-1),children:""}),E.jsx("button",{onClick:b,children:"Today"}),E.jsx("button",{onClick:()=>I(1),children:""})]}),E.jsx("h3",{children:ve})]}),E.jsxs("div",{className:"client-selector",children:[E.jsx("span",{className:"selector-label",children:"Booking for:"}),T?E.jsxs("div",{className:"selected-client",children:[E.jsxs("div",{className:"selected-info",children:[E.jsx("strong",{children:T.name}),E.jsxs("span",{children:[T.sessionDuration||45,"min  ",ge(T),"/",T.totalSessions," remaining"]}),E.jsxs("span",{className:"booked-info",children:[Y(T.id)," booked"]})]}),E.jsx("button",{onClick:()=>S(null),children:"Change"})]}):E.jsx("button",{className:"select-client-btn",onClick:()=>z(!0),children:"Select Client"})]}),T&&E.jsxs("div",{className:"repeat-weekly-section",children:[E.jsx("button",{className:"repeat-weekly-btn",onClick:He,children:"Repeat This Week's Schedule For All Weeks"}),E.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),E.jsx("div",{className:"day-cards",children:n.map((ae,le)=>{const x=M(ae),K=li(ae)===li(new Date),re=R(ae);return E.jsxs("div",{className:`day-card ${C===le?"selected":""} ${K?"today":""} ${re?"holiday":""}`,onClick:()=>L(C===le?null:le),children:[E.jsxs("div",{className:"day-card-header",children:[E.jsx("span",{className:"day-name",children:gO[le]}),E.jsx("span",{className:"day-date",children:ae.getDate()})]}),re?E.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):E.jsxs("div",{className:"day-card-status",children:[x.length," session",x.length!==1?"s":""]})]},le)})}),C!==null&&n[C]&&E.jsxs("div",{className:"time-panel",children:[E.jsxs("div",{className:"time-panel-header",children:[E.jsxs("h4",{children:[pO[C]," ",n[C].getDate()]}),E.jsx("button",{className:"close-panel",onClick:()=>L(null),children:""})]}),E.jsx("div",{className:"availability-toggle",children:E.jsx("button",{className:`toggle-availability-btn ${R(n[C])?"unavailable":"available"}`,onClick:()=>at(n[C]),children:R(n[C])?"Mark Day Available":"Mark Day Unavailable"})}),R(n[C])?E.jsxs("div",{className:"day-unavailable-message",children:[E.jsx("p",{children:"This day is marked as unavailable"}),E.jsx("span",{children:"Tap the button above to make it available again"})]}):E.jsx("div",{className:"time-slots",children:_O(ip[C]).map(({time:ae,period:le},x,K)=>{const re=N(n[C],ae),ue=T&&V(n[C],ae,T.sessionDuration||45),de=x===0||K[x-1]?.period!==le;return E.jsxs("div",{children:[de&&E.jsx("div",{className:"period-label",children:le==="morning"?"Morning":"Afternoon"}),E.jsxs("button",{className:`time-slot ${re?"booked":""} ${ue?"available":""} ${!re&&!ue&&T?"unavailable":""}`,onClick:()=>D(n[C],ae),children:[E.jsx("span",{className:"slot-time",children:AT(ae)}),re?E.jsxs("span",{className:"slot-client",children:[re.clientName," (",re.duration,"m)"]}):ue?E.jsx("span",{className:"slot-available",children:"Available"}):T?E.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):E.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},ae)})})]}),j&&E.jsx("div",{className:"modal-overlay",onClick:()=>z(!1),children:E.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h3",{children:"Select Client"}),E.jsx("button",{className:"close-btn",onClick:()=>z(!1),children:""})]}),E.jsx("div",{className:"client-list-picker",children:o.length===0?E.jsx("p",{className:"no-items",children:"No active clients"}):o.map(ae=>{const le=ae.startDate?.toDate?ae.startDate.toDate():new Date(ae.startDate),x=ae.endDate?.toDate?ae.endDate.toDate():new Date(ae.endDate),K=ge(ae),re=Y(ae.id);return E.jsxs("button",{className:"client-option",onClick:()=>X(ae),children:[E.jsx("strong",{children:ae.name}),E.jsxs("span",{children:[ae.sessionDuration||45,"min  ",K,"/",ae.totalSessions," remaining  ",re," booked"]}),E.jsxs("span",{className:"client-dates",children:[le.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",x.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},ae.id)})})]})})]})}const bT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},ou=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},SA=s=>s===ou(new Date),EO=s=>{const e=new Date;return e.setDate(e.getDate()+1),s===ou(e)},wT=s=>SA(s)?"Today":EO(s)?"Tomorrow":new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),RT=s=>{const e=new Date,n=ou(e),r=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(s.date<n)return!0;if(s.date===n){const o=CT(s.time)+(s.duration||45);return CT(r)>=o}return!1},CT=s=>{const[e,n]=s.split(":").map(Number);return e*60+n};function TO(){const[s,e]=P.useState([]),[n,r]=P.useState(!0),[o,u]=P.useState(new Date);P.useEffect(()=>{f();const j=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(j)},[]);const f=async()=>{try{const z=(await $n(en(st,"sessions"))).docs.map(X=>({id:X.id,...X.data()})),B=ou(new Date),Z=z.filter(X=>X.date>=B).sort((X,oe)=>X.date!==oe.date?X.date.localeCompare(oe.date):X.time.localeCompare(oe.time));e(Z)}catch(j){console.error("Error fetching sessions:",j)}r(!1)},p=async j=>{if(window.confirm(`Cancel ${j.clientName}'s session at ${bT(j.time)} on ${wT(j.date)}?`))try{await la(Kn(st,"sessions",j.id)),e(s.filter(z=>z.id!==j.id))}catch(z){console.error("Error cancelling session:",z),alert("Failed to cancel session")}};if(n)return E.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const m=s.reduce((j,z)=>{const B=z.date;return j[B]||(j[B]=[]),j[B].push(z),j},{}),y=Object.keys(m).sort(),T=ou(new Date),S=m[T]||[],C=S.filter(j=>RT(j)).length,L=S.length-C;return E.jsxs("div",{className:"schedule",children:[E.jsxs("div",{className:"today-summary",children:[E.jsx("h3",{children:"Today's Sessions"}),E.jsx("div",{className:"today-count",children:S.length===0?E.jsx("span",{className:"no-sessions",children:"No sessions today"}):E.jsxs("div",{className:"today-stats",children:[E.jsxs("span",{className:"completed-count",children:[C," completed"]}),E.jsxs("span",{className:"remaining-count",children:[L," remaining"]})]})})]}),y.length===0?E.jsx("div",{className:"no-upcoming",children:E.jsx("p",{children:"No upcoming sessions booked"})}):E.jsx("div",{className:"sessions-list",children:y.map(j=>E.jsxs("div",{className:`date-group ${SA(j)?"today":""}`,children:[E.jsxs("div",{className:"date-header",children:[E.jsx("span",{className:"date-label",children:wT(j)}),E.jsxs("span",{className:"date-count",children:[m[j].length," session",m[j].length!==1?"s":""]})]}),E.jsx("div",{className:"date-sessions",children:m[j].map(z=>{const B=RT(z);return E.jsxs("div",{className:`session-card ${B?"completed":""}`,children:[E.jsx("div",{className:"session-time",children:bT(z.time)}),E.jsxs("div",{className:"session-details",children:[E.jsx("strong",{children:z.clientName}),E.jsxs("span",{children:[z.duration,"min session"]})]}),B?E.jsx("div",{className:"completed-badge",children:""}):E.jsx("button",{className:"cancel-session-btn",onClick:()=>p(z),children:"Cancel"})]},z.id)})})]},j))})]})}const AA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},ap=["monday","tuesday","wednesday","thursday","friday"],SO=["Monday","Tuesday","Wednesday","Thursday","Friday"],AO=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},jl=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},bO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),ap.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},op=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},lp=(s,e)=>{const n=op(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},wO=s=>{const e=AA[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=lp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=lp(r,15)}return n};function RO(){const[s,e]=P.useState(new Date),[n,r]=P.useState([]),[o,u]=P.useState([]),[f,p]=P.useState([]),[m,y]=P.useState(!0),[T,S]=P.useState(45);P.useEffect(()=>{r(bO(s))},[s]),P.useEffect(()=>{C()},[]);const C=async()=>{try{const te=(await $n(en(st,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));u(te);const b=(await $n(en(st,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));p(b)}catch(Y){console.error("Error fetching data:",Y)}y(!1)},L=Y=>{const te=new Date(s);te.setDate(te.getDate()+Y*7),e(te)},j=()=>{e(new Date)},z=Y=>{const te=jl(Y);return f.some(I=>I.date===te)},B=(Y,te)=>{const I=ap[Y.getDay()-1];if(!I||z(Y))return!1;const b=jl(Y),R=new Date,M=jl(R);if(b<M)return!1;if(b===M){const ce=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(te<ce)return!1}const N=lp(te,T),V=AA[I],D=V.morning&&te>=V.morning.start&&te<V.morning.end,He=V.afternoon&&te>=V.afternoon.start&&te<V.afternoon.end,at=V.morning&&N<=V.morning.end,W=V.afternoon&&N<=V.afternoon.end;if(D&&!at||He&&!W)return!1;for(const ce of o){if(ce.date!==b)continue;const ve=op(ce.time),ae=ve+(ce.duration||45),le=op(te),x=le+T;if(le<ae&&x>ve)return!1}return!0},Z=(Y,te)=>{const I=ap[te];return wO(I).filter(R=>B(Y,R.time))};if(m)return E.jsx("div",{className:"availability-loading",children:"Loading availability..."});const X=n[0],oe=n[4],ge=X&&oe?`${X.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${oe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return E.jsxs("div",{className:"availability",children:[E.jsxs("div",{className:"availability-header",children:[E.jsxs("div",{className:"availability-nav",children:[E.jsx("button",{onClick:()=>L(-1),children:""}),E.jsx("button",{onClick:j,children:"Today"}),E.jsx("button",{onClick:()=>L(1),children:""})]}),E.jsx("h3",{children:ge}),E.jsxs("div",{className:"duration-selector",children:[E.jsx("label",{children:"Session:"}),E.jsxs("select",{value:T,onChange:Y=>S(Number(Y.target.value)),children:[E.jsx("option",{value:30,children:"30 min"}),E.jsx("option",{value:45,children:"45 min"}),E.jsx("option",{value:60,children:"60 min"})]})]})]}),E.jsx("div",{className:"availability-grid",children:n.map((Y,te)=>{const I=z(Y),b=I?[]:Z(Y,te),R=jl(Y)===jl(new Date),M=Y<new Date&&!R;return E.jsxs("div",{className:`day-column ${R?"today":""} ${M?"past":""}`,children:[E.jsxs("div",{className:"day-header",children:[E.jsx("span",{className:"day-name",children:SO[te]}),E.jsxs("span",{className:"day-date",children:[Y.getDate(),"/",Y.getMonth()+1]}),I&&E.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),E.jsx("div",{className:"slots-container",children:I?E.jsx("div",{className:"no-slots",children:"Unavailable"}):b.length===0?E.jsx("div",{className:"no-slots",children:"Fully booked"}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"slots-count",children:[b.length," slots"]}),E.jsx("div",{className:"slots-list",children:b.map(N=>E.jsx("div",{className:`slot ${N.period}`,children:AO(N.time)},N.time))})]})})]},te)})})]})}function CO(){const[s,e]=P.useState("schedule"),[n,r]=P.useState(0),[o,u]=P.useState(!1),{currentUser:f,logout:p,isAdmin:m,loading:y}=Au(),T=yr(),S=P.useRef(0),C=P.useRef(!1);P.useRef(null),P.useEffect(()=>{!y&&(!f||!m)&&T("/")},[f,m,y,T]),P.useEffect(()=>{(async()=>{if(!(!f||!m))try{const[Z,X]=await Promise.all([$n(en(st,"clients")),$n(en(st,"sessions"))]),oe=new Set(Z.docs.map(Y=>Y.id)),ge=X.docs.filter(Y=>!oe.has(Y.data().clientId));if(ge.length>0){console.log(`Cleaning up ${ge.length} orphaned sessions...`);const Y=ge.map(te=>la(Kn(st,"sessions",te.id)));await Promise.all(Y),console.log("Orphaned sessions cleaned up successfully")}}catch(Z){console.error("Error cleaning up orphaned sessions:",Z)}})()},[f,m]),P.useEffect(()=>{const B=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,Z=ge=>{B()<=0&&(S.current=ge.touches[0].clientY,C.current=!0)},X=ge=>{if(!C.current)return;const te=ge.touches[0].clientY-S.current;te>0&&B()<=0&&r(Math.min(te*.5,80))},oe=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):r(0),C.current=!1};return document.addEventListener("touchstart",Z,{passive:!0}),document.addEventListener("touchmove",X,{passive:!0}),document.addEventListener("touchend",oe),()=>{document.removeEventListener("touchstart",Z),document.removeEventListener("touchmove",X),document.removeEventListener("touchend",oe)}},[n]);const L=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},j=async()=>{try{await p(),T("/")}catch(B){console.error("Failed to log out:",B)}},z=()=>{T("/add-client")};return y?E.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:E.jsxs("div",{className:"dashboard",children:[n>0&&E.jsxs("div",{className:"pull-indicator",style:{height:n},children:[E.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),E.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),E.jsxs("header",{className:"dashboard-header",children:[E.jsxs("div",{className:"header-left",children:[E.jsx("h1",{children:"Mind Core Fitness"}),E.jsx("span",{className:"admin-badge",children:"Admin"})]}),E.jsxs("nav",{className:"header-nav",children:[E.jsx("button",{className:`nav-btn ${s==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),E.jsx("button",{className:`nav-btn ${s==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),E.jsx("button",{className:`nav-btn ${s==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),E.jsx("button",{className:`nav-btn ${s==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),E.jsxs("div",{className:"header-actions",children:[E.jsx("button",{className:"refresh-btn",onClick:L,disabled:o,children:o?"":""}),E.jsx("button",{className:"logout-btn",onClick:j,children:"Log Out"})]})]}),E.jsxs("main",{className:"dashboard-main",children:[s==="schedule"&&E.jsxs("div",{className:"schedule-view",children:[E.jsx("div",{className:"view-header",children:E.jsx("h2",{children:"Schedule"})}),E.jsx(TO,{})]}),s==="clients"&&E.jsxs("div",{className:"clients-view",children:[E.jsxs("div",{className:"view-header",children:[E.jsx("h2",{children:"Clients"}),E.jsx("button",{className:"add-btn",onClick:z,children:"+ Add Client"})]}),E.jsx(mO,{})]}),s==="calendar"&&E.jsxs("div",{className:"calendar-view",children:[E.jsx("div",{className:"view-header",children:E.jsx("h2",{children:"Calendar"})}),E.jsx(vO,{})]}),s==="availability"&&E.jsxs("div",{className:"availability-view",children:[E.jsx("div",{className:"view-header",children:E.jsx("h2",{children:"Available Slots"})}),E.jsx(RO,{})]})]})]})}function IO(){const[s,e]=P.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,r]=P.useState(!1),[o,u]=P.useState(""),{currentUser:f,isAdmin:p,loading:m}=Au(),y=yr();P.useEffect(()=>{!m&&(!f||!p)&&y("/")},[f,p,m,y]),P.useEffect(()=>{if(s.startDate&&s.weeksInBlock){const L=new Date(s.startDate),j=parseInt(s.weeksInBlock);if(!isNaN(j)&&j>0){const z=new Date(L);z.setDate(z.getDate()+j*7),e(B=>({...B,endDate:z.toISOString().split("T")[0]}))}}},[s.startDate,s.weeksInBlock]);const T=L=>{const{name:j,value:z}=L.target;e(B=>({...B,[j]:z}))},S=async L=>{L.preventDefault(),u(""),r(!0);try{const j={name:s.name.trim(),email:s.email.trim().toLowerCase(),weeksInBlock:parseInt(s.weeksInBlock),totalSessions:parseInt(s.numberOfSessions),sessionsRemaining:parseInt(s.numberOfSessions),sessionDuration:parseInt(s.sessionDuration),startDate:Ve.fromDate(new Date(s.startDate)),endDate:Ve.fromDate(new Date(s.endDate)),status:"active",createdAt:Ve.now()};await Eh(en(st,"clients"),j),y("/dashboard")}catch(j){console.error("Error adding client:",j),u("Failed to add client. Please try again."),r(!1)}},C=()=>{y("/dashboard")};return m?E.jsx("div",{className:"loading",children:"Loading..."}):!f||!p?null:E.jsxs("div",{className:"add-client-page",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("button",{className:"back-btn",onClick:C,children:" Back"}),E.jsx("h1",{children:"Add New Client"})]}),E.jsxs("main",{className:"page-content",children:[o&&E.jsx("div",{className:"form-error",children:o}),E.jsxs("form",{onSubmit:S,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"name",children:"Client Name"}),E.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:T,placeholder:"John Smith",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Client Email"}),E.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:T,placeholder:"john@example.com",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),E.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:s.weeksInBlock,onChange:T,placeholder:"8",min:"1",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),E.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:s.numberOfSessions,onChange:T,placeholder:"16",min:"1",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),E.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:s.sessionDuration,onChange:T,required:!0,children:[E.jsx("option",{value:"30",children:"30 minutes"}),E.jsx("option",{value:"45",children:"45 minutes"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"startDate",children:"Start Date"}),E.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:T,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),E.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:T,required:!0}),E.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx("button",{type:"button",className:"cancel-btn",onClick:C,children:"Cancel"}),E.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function DO(){const[s,e]=P.useState([]),[n,r]=P.useState(!0),[o,u]=P.useState(null),{currentUser:f,isClient:p,clientData:m,logout:y,loading:T}=Au(),S=yr();P.useEffect(()=>{!T&&(!f||!p)&&S("/")},[f,p,T,S]),P.useEffect(()=>{m&&C()},[m]);const C=async()=>{try{const b=og(en(st,"sessions"),gA("clientId","==",m.id)),M=(await $n(b)).docs.map(N=>({id:N.id,...N.data()}));M.sort((N,V)=>N.date!==V.date?N.date.localeCompare(V.date):N.time.localeCompare(V.time)),e(M)}catch(b){console.error("Error fetching sessions:",b)}r(!1)},L=b=>new Date(b).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),j=b=>{const[R,M]=b.split(":"),N=parseInt(R),V=N>=12?"pm":"am";return`${N>12?N-12:N===0?12:N}:${M}${V}`},z=b=>b?(b.toDate?b.toDate():new Date(b)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",B=b=>{const R=new Date,M=R.getFullYear(),N=(R.getMonth()+1).toString().padStart(2,"0"),V=R.getDate().toString().padStart(2,"0"),D=`${M}-${N}-${V}`,He=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;return b.date<D||b.date===D&&b.time<He},Z=()=>s.filter(b=>B(b)).length,X=()=>s.filter(b=>!B(b)),oe=async b=>{if(window.confirm(`Cancel your session on ${L(b.date)} at ${j(b.time)}?

This cannot be undone.`)){u(b.id);try{await la(Kn(st,"sessions",b.id)),e(s.filter(R=>R.id!==b.id))}catch(R){console.error("Error cancelling session:",R),alert("Failed to cancel session. Please try again.")}u(null)}},ge=async()=>{try{await y(),S("/")}catch(b){console.error("Failed to log out:",b)}};if(T||n)return E.jsx("div",{className:"client-loading",children:"Loading..."});if(!f||!p||!m)return null;const Y=Z(),te=m.totalSessions-Y,I=X();return E.jsxs("div",{className:"client-dashboard",children:[E.jsx("header",{className:"client-header",children:E.jsx("div",{className:"header-content",children:E.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),E.jsxs("main",{className:"client-main",children:[E.jsxs("div",{className:"welcome-section",children:[E.jsxs("h2",{children:["Welcome, ",m.name.split(" ")[0]]}),E.jsx("button",{className:"logout-btn",onClick:ge,children:"Log Out"})]}),E.jsx("div",{className:"quick-actions",children:E.jsx("button",{className:"forms-btn",onClick:()=>S("/client/forms"),children:"Forms & Questionnaires"})}),E.jsxs("div",{className:"block-info-card",children:[E.jsx("h3",{children:"Your Training Block"}),E.jsxs("div",{className:"block-stats",children:[E.jsxs("div",{className:"stat",children:[E.jsx("span",{className:"stat-value",children:te}),E.jsx("span",{className:"stat-label",children:"Sessions Remaining"})]}),E.jsxs("div",{className:"stat",children:[E.jsx("span",{className:"stat-value",children:Y}),E.jsx("span",{className:"stat-label",children:"Completed"})]}),E.jsxs("div",{className:"stat",children:[E.jsx("span",{className:"stat-value",children:m.totalSessions}),E.jsx("span",{className:"stat-label",children:"Total Package"})]})]}),E.jsxs("div",{className:"block-dates",children:[E.jsxs("div",{className:"date-item",children:[E.jsx("span",{className:"date-label",children:"Start Date"}),E.jsx("span",{className:"date-value",children:z(m.startDate)})]}),E.jsxs("div",{className:"date-item",children:[E.jsx("span",{className:"date-label",children:"End Date"}),E.jsx("span",{className:"date-value",children:z(m.endDate)})]}),E.jsxs("div",{className:"date-item",children:[E.jsx("span",{className:"date-label",children:"Session Duration"}),E.jsxs("span",{className:"date-value",children:[m.sessionDuration," minutes"]})]})]})]}),E.jsxs("div",{className:"sessions-section",children:[E.jsxs("h3",{children:["Upcoming Sessions (",I.length,")"]}),I.length===0?E.jsxs("div",{className:"no-sessions",children:[E.jsx("p",{children:"No upcoming sessions scheduled"}),E.jsx("span",{children:"Contact your trainer to book sessions"})]}):E.jsx("div",{className:"sessions-list",children:I.map(b=>E.jsxs("div",{className:"session-card",children:[E.jsxs("div",{className:"session-info",children:[E.jsx("div",{className:"session-date",children:L(b.date)}),E.jsxs("div",{className:"session-time",children:[j(b.time)," (",b.duration," min)"]})]}),E.jsx("button",{className:"cancel-btn",onClick:()=>oe(b),disabled:o===b.id,children:o===b.id?"Cancelling...":"Cancel"})]},b.id))})]}),E.jsxs("div",{className:"completed-section",children:[E.jsxs("h3",{children:["Completed Sessions (",Y,")"]}),Y===0?E.jsx("div",{className:"no-sessions",children:E.jsx("p",{children:"No completed sessions yet"})}):E.jsxs("div",{className:"sessions-list completed",children:[s.filter(b=>B(b)).slice(-5).reverse().map(b=>E.jsxs("div",{className:"session-card completed",children:[E.jsxs("div",{className:"session-info",children:[E.jsx("div",{className:"session-date",children:L(b.date)}),E.jsx("div",{className:"session-time",children:j(b.time)})]}),E.jsx("span",{className:"completed-badge",children:"Completed"})]},b.id)),Y>5&&E.jsxs("div",{className:"more-sessions",children:["And ",Y-5," more completed sessions"]})]})]})]})]})}function NO(){const[s,e]=P.useState(null),[n,r]=P.useState(!1),{currentUser:o,isClient:u,clientData:f,logout:p,loading:m}=Au(),y=yr(),[T,S]=P.useState({fitnessGoals:"",currentActivityLevel:"",exerciseHistory:"",injuries:"",medicalConditions:"",sleepHours:"",stressLevel:"",dietaryInfo:"",availability:"",additionalInfo:""}),[C,L]=P.useState({q1HeartCondition:!1,q2ChestPain:!1,q3ChestPainLastMonth:!1,q4Balance:!1,q5BoneJoint:!1,q6BloodPressure:!1,q7OtherReason:!1,additionalDetails:"",declaration:!1});P.useEffect(()=>{!m&&(!o||!u)&&y("/")},[o,u,m,y]),P.useEffect(()=>{f?.welcomeForm&&S(f.welcomeForm),f?.parqForm&&L(f.parqForm)},[f]);const j=ge=>{const{name:Y,value:te}=ge.target;S(I=>({...I,[Y]:te}))},z=ge=>{const{name:Y,type:te,checked:I,value:b}=ge.target;L(R=>({...R,[Y]:te==="checkbox"?I:b}))},B=async()=>{r(!0);try{await Bh(Kn(st,"clients",f.id),{welcomeForm:{...T,completedAt:Ve.now()}}),alert("Welcome form saved successfully!"),e(null)}catch(ge){console.error("Error saving welcome form:",ge),alert("Failed to save form. Please try again.")}r(!1)},Z=async()=>{if(!C.declaration){alert("Please confirm the declaration to submit the form.");return}r(!0);try{await Bh(Kn(st,"clients",f.id),{parqForm:{...C,completedAt:Ve.now()}}),alert("PAR-Q form saved successfully!"),e(null)}catch(ge){console.error("Error saving PAR-Q form:",ge),alert("Failed to save form. Please try again.")}r(!1)};if(m)return E.jsx("div",{className:"client-loading",children:"Loading..."});if(!o||!u||!f)return null;const X=!!f?.welcomeForm?.completedAt,oe=!!f?.parqForm?.completedAt;return E.jsxs("div",{className:"client-forms-page",children:[E.jsx("header",{className:"client-header",children:E.jsx("div",{className:"header-content",children:E.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),E.jsxs("main",{className:"forms-main",children:[E.jsx("button",{className:"back-btn",onClick:()=>y("/client"),children:" Back"}),s?s==="welcome"?E.jsxs("div",{className:"form-container",children:[E.jsxs("div",{className:"form-header",children:[E.jsx("h2",{children:"Welcome Questionnaire"}),E.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),E.jsxs("div",{className:"form-body",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"What are your main fitness goals?"}),E.jsx("textarea",{name:"fitnessGoals",value:T.fitnessGoals,onChange:j,placeholder:"e.g., Lose weight, build muscle, improve endurance, increase flexibility...",rows:"3"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"How would you describe your current activity level?"}),E.jsxs("select",{name:"currentActivityLevel",value:T.currentActivityLevel,onChange:j,children:[E.jsx("option",{value:"",children:"Select..."}),E.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),E.jsx("option",{value:"light",children:"Lightly Active (1-2 days/week)"}),E.jsx("option",{value:"moderate",children:"Moderately Active (3-4 days/week)"}),E.jsx("option",{value:"active",children:"Very Active (5+ days/week)"}),E.jsx("option",{value:"athlete",children:"Athlete/Highly Active"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"What is your exercise history?"}),E.jsx("textarea",{name:"exerciseHistory",value:T.exerciseHistory,onChange:j,placeholder:"Describe your previous experience with exercise, sports, or training...",rows:"3"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Do you have any current or past injuries?"}),E.jsx("textarea",{name:"injuries",value:T.injuries,onChange:j,placeholder:"List any injuries that may affect your training...",rows:"2"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Do you have any medical conditions we should know about?"}),E.jsx("textarea",{name:"medicalConditions",value:T.medicalConditions,onChange:j,placeholder:"e.g., Diabetes, asthma, heart conditions...",rows:"2"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"How many hours of sleep do you typically get?"}),E.jsxs("select",{name:"sleepHours",value:T.sleepHours,onChange:j,children:[E.jsx("option",{value:"",children:"Select..."}),E.jsx("option",{value:"less-5",children:"Less than 5 hours"}),E.jsx("option",{value:"5-6",children:"5-6 hours"}),E.jsx("option",{value:"7-8",children:"7-8 hours"}),E.jsx("option",{value:"more-8",children:"More than 8 hours"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"How would you rate your current stress level?"}),E.jsxs("select",{name:"stressLevel",value:T.stressLevel,onChange:j,children:[E.jsx("option",{value:"",children:"Select..."}),E.jsx("option",{value:"low",children:"Low"}),E.jsx("option",{value:"moderate",children:"Moderate"}),E.jsx("option",{value:"high",children:"High"}),E.jsx("option",{value:"very-high",children:"Very High"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Tell us about your diet/nutrition"}),E.jsx("textarea",{name:"dietaryInfo",value:T.dietaryInfo,onChange:j,placeholder:"Any dietary restrictions, typical eating habits, nutrition goals...",rows:"3"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"What is your preferred training schedule/availability?"}),E.jsx("textarea",{name:"availability",value:T.availability,onChange:j,placeholder:"Days and times that work best for you...",rows:"2"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Anything else you'd like us to know?"}),E.jsx("textarea",{name:"additionalInfo",value:T.additionalInfo,onChange:j,placeholder:"Any other information that might be helpful...",rows:"3"})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),E.jsx("button",{className:"save-btn",onClick:B,disabled:n,children:n?"Saving...":"Save"})]})]})]}):E.jsxs("div",{className:"form-container",children:[E.jsxs("div",{className:"form-header",children:[E.jsx("h2",{children:"PAR-Q Health Screening"}),E.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),E.jsxs("div",{className:"form-body",children:[E.jsx("div",{className:"parq-intro",children:E.jsx("p",{children:"The Physical Activity Readiness Questionnaire (PAR-Q) is designed to identify those who should check with a doctor before starting an exercise program."})}),E.jsxs("div",{className:"parq-questions",children:[E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q1HeartCondition",checked:C.q1HeartCondition,onChange:z}),E.jsx("span",{children:"Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?"})]})}),E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q2ChestPain",checked:C.q2ChestPain,onChange:z}),E.jsx("span",{children:"Do you feel pain in your chest when you do physical activity?"})]})}),E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q3ChestPainLastMonth",checked:C.q3ChestPainLastMonth,onChange:z}),E.jsx("span",{children:"In the past month, have you had chest pain when you were not doing physical activity?"})]})}),E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q4Balance",checked:C.q4Balance,onChange:z}),E.jsx("span",{children:"Do you lose your balance because of dizziness or do you ever lose consciousness?"})]})}),E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q5BoneJoint",checked:C.q5BoneJoint,onChange:z}),E.jsx("span",{children:"Do you have a bone or joint problem that could be made worse by a change in your physical activity?"})]})}),E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q6BloodPressure",checked:C.q6BloodPressure,onChange:z}),E.jsx("span",{children:"Is your doctor currently prescribing drugs for your blood pressure or heart condition?"})]})}),E.jsx("div",{className:"parq-question",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"q7OtherReason",checked:C.q7OtherReason,onChange:z}),E.jsx("span",{children:"Do you know of any other reason why you should not do physical activity?"})]})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"If you answered YES to any questions, please provide details:"}),E.jsx("textarea",{name:"additionalDetails",value:C.additionalDetails,onChange:z,placeholder:"Please explain any conditions or concerns...",rows:"4"})]}),E.jsx("div",{className:"parq-declaration",children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",name:"declaration",checked:C.declaration,onChange:z}),E.jsx("span",{children:"I have read, understood and completed this questionnaire. Any questions I had were answered to my full satisfaction. I confirm that the information provided is accurate to the best of my knowledge."})]})}),E.jsxs("div",{className:"form-actions",children:[E.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),E.jsx("button",{className:"save-btn",onClick:Z,disabled:n,children:n?"Saving...":"Submit"})]})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"forms-intro",children:[E.jsx("h2",{children:"Forms"}),E.jsx("p",{children:"Please complete these forms to help us better understand your fitness journey and ensure your safety."})]}),E.jsxs("div",{className:"forms-list",children:[E.jsxs("div",{className:`form-card ${X?"completed":""}`,children:[E.jsxs("div",{className:"form-card-info",children:[E.jsx("h3",{children:"Welcome Questionnaire"}),E.jsx("p",{children:"Tell us about your fitness goals, experience, and lifestyle."}),X&&E.jsx("span",{className:"completed-badge",children:"Completed"})]}),E.jsx("button",{onClick:()=>e("welcome"),children:X?"View / Edit":"Start"})]}),E.jsxs("div",{className:`form-card ${oe?"completed":""}`,children:[E.jsxs("div",{className:"form-card-info",children:[E.jsx("h3",{children:"PAR-Q Health Screening"}),E.jsx("p",{children:"Physical Activity Readiness Questionnaire for your safety."}),oe&&E.jsx("span",{className:"completed-badge",children:"Completed"})]}),E.jsx("button",{onClick:()=>e("parq"),children:oe?"View / Edit":"Start"})]})]})]})]})]})}function xO(){const s=yr();return P.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";s(n,{replace:!0})}},[s]),null}function OO(){return E.jsx(fO,{children:E.jsxs(x1,{basename:"/login",children:[E.jsx(xO,{}),E.jsxs(o1,{children:[E.jsx(Wr,{path:"/",element:E.jsx(dO,{})}),E.jsx(Wr,{path:"/dashboard",element:E.jsx(CO,{})}),E.jsx(Wr,{path:"/add-client",element:E.jsx(IO,{})}),E.jsx(Wr,{path:"/client",element:E.jsx(DO,{})}),E.jsx(Wr,{path:"/client/forms",element:E.jsx(NO,{})}),E.jsx(Wr,{path:"*",element:E.jsx(r1,{to:"/",replace:!0})})]})]})})}uw.createRoot(document.getElementById("root")).render(E.jsx(P.StrictMode,{children:E.jsx(OO,{})}));
