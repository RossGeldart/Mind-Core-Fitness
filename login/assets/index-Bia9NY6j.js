(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},xl={};var Rv;function Kb(){if(Rv)return xl;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Cv;function Yb(){return Cv||(Cv=1,rm.exports=Kb()),rm.exports}var R=Yb(),sm={exports:{}},Re={};var Iv;function Qb(){if(Iv)return Re;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function Z(x,W,he){this.props=x,this.context=W,this.refs=Y,this.updater=he||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},Z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ne(){}ne.prototype=Z.prototype;function oe(x,W,he){this.props=x,this.context=W,this.refs=Y,this.updater=he||q}var re=oe.prototype=new ne;re.constructor=oe,G(re,Z.prototype),re.isPureReactComponent=!0;var ae=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(x,W,he){var F=he.ref;return{$$typeof:r,type:x,key:W,ref:F!==void 0?F:null,props:he}}function V(x,W){return I(x.type,W,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(he){return W[he]})}var D=/\/+/g;function Ze(x,W){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):W.toString(36)}function ht(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(le,le):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function $(x,W,he,F,se){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=x._init,$(Ee(x._payload),W,he,F,se)}}if(Ee)return se=se(x),Ee=F===""?"."+Ze(x,0):F,ae(se)?(he="",Ee!=null&&(he=Ee.replace(D,"$&/")+"/"),$(se,W,he,"",function($e){return $e})):se!=null&&(O(se)&&(se=V(se,he+(se.key==null||x&&x.key===se.key?"":(""+se.key).replace(D,"$&/")+"/")+Ee)),W.push(se)),1;Ee=0;var Te=F===""?".":F+":";if(ae(x))for(var Ie=0;Ie<x.length;Ie++)F=x[Ie],de=Te+Ze(F,Ie),Ee+=$(F,W,he,de,se);else if(Ie=k(x),typeof Ie=="function")for(x=Ie.call(x),Ie=0;!(F=x.next()).done;)F=F.value,de=Te+Ze(F,Ie++),Ee+=$(F,W,he,de,se);else if(de==="object"){if(typeof x.then=="function")return $(ht(x),W,he,F,se);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ue(x,W,he){if(x==null)return x;var F=[],se=0;return $(x,F,"","",function(de){return W.call(he,de,se++)}),F}function ye(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(he){(x._status===0||x._status===-1)&&(x._status=1,x._result=he)},function(he){(x._status===0||x._status===-1)&&(x._status=2,x._result=he)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var xe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},He={map:ue,forEach:function(x,W,he){ue(x,function(){W.apply(this,arguments)},he)},count:function(x){var W=0;return ue(x,function(){W++}),W},toArray:function(x){return ue(x,function(W){return W})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Re.Activity=T,Re.Children=He,Re.Component=Z,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=oe,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(x,W,he){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var F=G({},x.props),se=x.key;if(W!=null)for(de in W.key!==void 0&&(se=""+W.key),W)!b.call(W,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&W.ref===void 0||(F[de]=W[de]);var de=arguments.length-2;if(de===1)F.children=he;else if(1<de){for(var Ee=Array(de),Te=0;Te<de;Te++)Ee[Te]=arguments[Te+2];F.children=Ee}return I(x.type,se,F)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,W,he){var F,se={},de=null;if(W!=null)for(F in W.key!==void 0&&(de=""+W.key),W)b.call(W,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(se[F]=W[F]);var Ee=arguments.length-2;if(Ee===1)se.children=he;else if(1<Ee){for(var Te=Array(Ee),Ie=0;Ie<Ee;Ie++)Te[Ie]=arguments[Ie+2];se.children=Te}if(x&&x.defaultProps)for(F in Ee=x.defaultProps,Ee)se[F]===void 0&&(se[F]=Ee[F]);return I(x,de,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=O,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ye}},Re.memo=function(x,W){return{$$typeof:y,type:x,compare:W===void 0?null:W}},Re.startTransition=function(x){var W=C.T,he={};C.T=he;try{var F=x(),se=C.S;se!==null&&se(he,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(le,xe)}catch(de){xe(de)}finally{W!==null&&he.types!==null&&(W.types=he.types),C.T=W}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(x){return C.H.use(x)},Re.useActionState=function(x,W,he){return C.H.useActionState(x,W,he)},Re.useCallback=function(x,W){return C.H.useCallback(x,W)},Re.useContext=function(x){return C.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,W){return C.H.useDeferredValue(x,W)},Re.useEffect=function(x,W){return C.H.useEffect(x,W)},Re.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(x,W,he){return C.H.useImperativeHandle(x,W,he)},Re.useInsertionEffect=function(x,W){return C.H.useInsertionEffect(x,W)},Re.useLayoutEffect=function(x,W){return C.H.useLayoutEffect(x,W)},Re.useMemo=function(x,W){return C.H.useMemo(x,W)},Re.useOptimistic=function(x,W){return C.H.useOptimistic(x,W)},Re.useReducer=function(x,W,he){return C.H.useReducer(x,W,he)},Re.useRef=function(x){return C.H.useRef(x)},Re.useState=function(x){return C.H.useState(x)},Re.useSyncExternalStore=function(x,W,he){return C.H.useSyncExternalStore(x,W,he)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.4",Re}var Dv;function sp(){return Dv||(Dv=1,sm.exports=Qb()),sm.exports}var U=sp(),am={exports:{}},Ml={},om={exports:{}},lm={};var Nv;function $b(){return Nv||(Nv=1,(function(r){function e($,ue){var ye=$.length;$.push(ue);e:for(;0<ye;){var xe=ye-1>>>1,He=$[xe];if(0<o(He,ue))$[xe]=ue,$[ye]=He,ye=xe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ue=$[0],ye=$.pop();if(ye!==ue){$[0]=ye;e:for(var xe=0,He=$.length,x=He>>>1;xe<x;){var W=2*(xe+1)-1,he=$[W],F=W+1,se=$[F];if(0>o(he,ye))F<He&&0>o(se,he)?($[xe]=se,$[F]=ye,xe=F):($[xe]=he,$[W]=ye,xe=W);else if(F<He&&0>o(se,ye))$[xe]=se,$[F]=ye,xe=F;else break e}}return ue}function o($,ue){var ye=$.sortIndex-ue.sortIndex;return ye!==0?ye:$.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,k=!1,q=!1,G=!1,Y=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function re($){for(var ue=n(y);ue!==null;){if(ue.callback===null)s(y);else if(ue.startTime<=$)s(y),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(y)}}function ae($){if(G=!1,re($),!q)if(n(p)!==null)q=!0,le||(le=!0,L());else{var ue=n(y);ue!==null&&ht(ae,ue.startTime-$)}}var le=!1,C=-1,b=5,I=-1;function V(){return Y?!0:!(r.unstable_now()-I<b)}function O(){if(Y=!1,le){var $=r.unstable_now();I=$;var ue=!0;try{e:{q=!1,G&&(G=!1,ne(C),C=-1),k=!0;var ye=w;try{t:{for(re($),T=n(p);T!==null&&!(T.expirationTime>$&&V());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,w=T.priorityLevel;var He=xe(T.expirationTime<=$);if($=r.unstable_now(),typeof He=="function"){T.callback=He,re($),ue=!0;break t}T===n(p)&&s(p),re($)}else s(p);T=n(p)}if(T!==null)ue=!0;else{var x=n(y);x!==null&&ht(ae,x.startTime-$),ue=!1}}break e}finally{T=null,w=ye,k=!1}ue=void 0}}finally{ue?L():le=!1}}}var L;if(typeof oe=="function")L=function(){oe(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ze=D.port2;D.port1.onmessage=O,L=function(){Ze.postMessage(null)}}else L=function(){Z(O,0)};function ht($,ue){C=Z(function(){$(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ye=w;w=ue;try{return $()}finally{w=ye}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=w;w=$;try{return ue()}finally{w=ye}},r.unstable_scheduleCallback=function($,ue,ye){var xe=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?xe+ye:xe):ye=xe,$){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ye+He,$={id:E++,callback:ue,priorityLevel:$,startTime:ye,expirationTime:He,sortIndex:-1},ye>xe?($.sortIndex=ye,e(y,$),n(p)===null&&$===n(y)&&(G?(ne(C),C=-1):G=!0,ht(ae,ye-xe))):($.sortIndex=He,e(p,$),q||k||(q=!0,le||(le=!0,L()))),$},r.unstable_shouldYield=V,r.unstable_wrapCallback=function($){var ue=w;return function(){var ye=w;w=ue;try{return $.apply(this,arguments)}finally{w=ye}}}})(lm)),lm}var Ov;function Xb(){return Ov||(Ov=1,om.exports=$b()),om.exports}var um={exports:{}},nn={};var xv;function Jb(){if(xv)return nn;xv=1;var r=sp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},nn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var Mv;function Wb(){if(Mv)return um.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=Jb(),um.exports}var Vv;function Zb(){if(Vv)return Ml;Vv=1;var r=Xb(),e=sp(),n=Wb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Z:return"Profiler";case Y:return"StrictMode";case ae:return"Suspense";case le:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case oe:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Ze(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Ze(t(i))}catch{}}return null}var ht=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},xe=[],He=-1;function x(t){return{current:t}}function W(t){0>He||(t.current=xe[He],xe[He]=null,He--)}function he(t,i){He++,xe[He]=t.current,t.current=i}var F=x(null),se=x(null),de=x(null),Ee=x(null);function Te(t,i){switch(he(de,i),he(se,t),he(F,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?$_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=$_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(F),he(F,t)}function Ie(){W(F),W(se),W(de)}function $e(t){t.memoizedState!==null&&he(Ee,t);var i=F.current,a=X_(i,t.type);i!==a&&(he(se,t),he(F,a))}function vt(t){se.current===t&&(W(F),W(se)),Ee.current===t&&(W(Ee),Il._currentValue=ye)}var st,jt;function gt(t){if(st===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);st=i&&i[1]||"",jt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+t+jt}var Vn=!1;function tn(t,i){if(!t||Vn)return"";Vn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var H=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){H=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){H=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Vn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gt(a):""}function Tn(t,i){switch(t.tag){case 26:case 27:case 5:return gt(t.type);case 16:return gt("Lazy");case 13:return t.child!==i&&i!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return tn(t.type,!1);case 11:return tn(t.type.render,!1);case 1:return tn(t.type,!0);case 31:return gt("Activity");default:return""}}function Sn(t){try{var i="",a=null;do i+=Tn(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,lt=r.unstable_scheduleCallback,hn=r.unstable_cancelCallback,af=r.unstable_shouldYield,Tu=r.unstable_requestPaint,ln=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,of=r.unstable_LowPriority,Su=r.unstable_IdlePriority,Au=r.log,bu=r.unstable_setDisableYieldValue,Xn=null,Gt=null;function kn(t){if(typeof Au=="function"&&bu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Xn,t)}catch{}}var Et=Math.clz32?Math.clz32:Ru,wu=Math.log,la=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(wu(t)/la|0)|0}var pi=256,Ss=262144,wt=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=gi(l):(_&=S,_!==0?h=gi(_):a||(a=S&~t,a!==0&&(h=gi(a))))):(S=l&~d,S!==0?h=gi(S):_!==0?h=gi(_):a||(a=l&~t,a!==0&&(h=gi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Et(a),ee=1<<X;S[X]=0,N[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var Q=H[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&bs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function bs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Et(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Et(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function Wn(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var Zn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Zn,zt="__reactProps$"+Zn,vi="__reactContainer$"+Zn,ua="__reactEvents$"+Zn,cf="__reactListeners$"+Zn,Du="__reactHandles$"+Zn,Nu="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function ca(t){delete t[Rt],delete t[zt],delete t[ua],delete t[cf],delete t[Du]}function Ti(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vi]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[Rt])return a;t=iv(t)}return i}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Rt]||t[vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Si(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[Ei]=!0}var ko=new Set,Lo={};function Ai(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Lo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},jo={};function Ou(t){return ot.call(jo,t)?!0:ot.call(Uo,t)?!1:Po.test(t)?jo[t]=!0:(Uo[t]=!0,!1)}function ha(t,i,a){if(Ou(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function fn(t){return t.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,Bt(i)):a!=null?Bo(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function xu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Bo(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Mu(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function Sr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Fo=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var br=null,Ri=null;function Is(t){var i=Ln(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[zt]||null;if(!h)throw Error(s(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Rs(l)}break e;case"textarea":Mu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var pa=!1;function wr(t,i,a){if(pa)return t(i,a);pa=!0;try{var l=t(i);return l}finally{if(pa=!1,(br!==null||Ri!==null)&&(Ic(),br&&(i=br,t=Ri,Ri=br=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function ti(t,i){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Un)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ds=!1}var Ci=null,Go=null,Ns=null;function Ko(){if(Ns)return Ns;var t,i=Go,a=i.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ns=h.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ni(){return!1}function Kt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ni,this.isPropagationStopped=ni,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Kt(Yi),Rr=T({},Yi,{view:0,detail:0}),Yo=Kt(Rr),Cr,ga,Di,ya=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Cr=t.screenX-Di.screenX,ga=t.screenY-Di.screenY):ga=Cr=0,Di=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Qo=Kt(ya),xs=T({},ya,{dataTransfer:0}),Lu=Kt(xs),Pu=T({},Rr,{relatedTarget:0}),Ms=Kt(Pu),$o=T({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Kt($o),_a=T({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Kt(_a),zu=T({},Yi,{data:0}),Ni=Kt(zu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function Ir(){return Fu}var un=T({},Rr,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=Kt(un),Ku=T({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Kt(Ku),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),g=Kt(c),v=T({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(v),j=T({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Kt(j),ce=T({},Yi,{newState:0,oldState:0}),De=Kt(ce),Tt=[9,13,27,32],Ke=Un&&"CompositionEvent"in window,ft=null;Un&&"documentMode"in document&&(ft=document.documentMode);var jn=Un&&"TextEvent"in window&&!ft,Oi=Un&&(!Ke||ft&&8<ft&&11>=ft),ii=" ",ri=!1;function Vs(t,i){switch(t){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function gA(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:(ri=!0,ii);case"textInput":return t=i.data,t===ii&&ri?null:t;default:return null}}function yA(t,i){if(Ea)return t==="compositionend"||!Ke&&Vs(t,i)?(t=Ko(),Ns=Go=Ci=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oi&&i.locale!=="ko"?null:i.data;default:return null}}var _A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!_A[t.type]:i==="textarea"}function og(t,i,a,l){br?Ri?Ri.push(l):Ri=[l]:br=l,i=kc(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,Jo=null;function vA(t){q_(t,0)}function Yu(t){var i=An(t);if(Rs(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(Un){var hf;if(Un){var ff="oninput"in document;if(!ff){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),ff=typeof cg.oninput=="function"}hf=ff}else hf=!1;ug=hf&&(!document.documentMode||9<document.documentMode)}function hg(){Xo&&(Xo.detachEvent("onpropertychange",fg),Jo=Xo=null)}function fg(t){if(t.propertyName==="value"&&Yu(Jo)){var i=[];og(i,Jo,t,Pn(t)),wr(vA,i)}}function EA(t,i,a){t==="focusin"?(hg(),Xo=i,Jo=a,Xo.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function TA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(Jo)}function SA(t,i){if(t==="click")return Yu(i)}function AA(t,i){if(t==="input"||t==="change")return Yu(i)}function bA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:bA;function Wo(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ot.call(i,h)||!wn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var wA=Un&&"documentMode"in document&&11>=document.documentMode,Ta=null,mf=null,Zo=null,pf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ta==null||Ta!==wi(l)||(l=Ta,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=kc(mf,"onSelect"),0<l.length&&(i=new Ii("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},gf={},_g={};Un&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ls(t){if(gf[t])return gf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return gf[t]=i[a];return t}var vg=Ls("animationend"),Eg=Ls("animationiteration"),Tg=Ls("animationstart"),RA=Ls("transitionrun"),CA=Ls("transitionstart"),IA=Ls("transitioncancel"),Sg=Ls("transitionend"),Ag=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function si(t,i){Ag.set(t,i),Ai(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Aa=0,_f=0;function $u(){for(var t=Aa,i=_f=Aa=0;i<t;){var a=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Xu(t,i,a,l){zn[Aa++]=t,zn[Aa++]=i,zn[Aa++]=a,zn[Aa++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Xu(t,i,a,l),Ju(t)}function Ps(t,i){return Xu(t,null,null,i),Ju(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Et(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(t){if(50<Tl)throw Tl=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function DA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,l){return new DA(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Wu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=Vb(t,a,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Rn(31,a,i,h),t.elementType=I,t.lanes=d,t;case G:return Us(a.children,h,d,i);case Y:_=8,h|=24;break;case Z:return t=Rn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case ae:return t=Rn(13,a,i,h),t.elementType=ae,t.lanes=d,t;case le:return t=Rn(19,a,i,h),t.elementType=le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case ne:_=9;break e;case re:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Rn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=Rn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function Rg(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cg=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Sn(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:Sn(i)}}var wa=[],Ra=0,Zu=null,el=0,Hn=[],qn=0,Dr=null,xi=1,Mi="";function Xi(t,i){wa[Ra++]=el,wa[Ra++]=Zu,Zu=t,el=i}function Ig(t,i,a){Hn[qn++]=xi,Hn[qn++]=Mi,Hn[qn++]=Dr,Dr=t;var l=xi;t=Mi;var h=32-Et(l)-1;l&=~(1<<h),a+=1;var d=32-Et(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-Et(i)+h|a<<h|l,Mi=d+t}else xi=1<<d|a<<h|l,Mi=t}function Af(t){t.return!==null&&(Xi(t,1),Ig(t,1,0))}function bf(t){for(;t===Zu;)Zu=wa[--Ra],wa[Ra]=null,el=wa[--Ra],wa[Ra]=null;for(;t===Dr;)Dr=Hn[--qn],Hn[qn]=null,Mi=Hn[--qn],Hn[qn]=null,xi=Hn[--qn],Hn[qn]=null}function Dg(t,i){Hn[qn++]=xi,Hn[qn++]=Mi,Hn[qn++]=Dr,xi=i.id,Mi=i.overflow,Dr=t}var Yt=null,ut=null,ze=!1,Nr=null,Fn=!1,wf=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Bn(i,t)),wf}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[zt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ve(Al[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),xu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Y_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=ei),i=!0):i=!1,i||Or(t,!0)}function Og(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Yt=Yt.return}}function Ca(t){if(t!==Yt)return!1;if(!ze)return Og(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&ut&&Or(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=nv(t)}else i===27?(i=ut,Gr(t.type)?(t=Qd,Qd=null,ut=t):ut=i):ut=Yt?Kn(t.stateNode.nextSibling):null;return!0}function js(){ut=Yt=null,ze=!1}function Rf(){var t=Nr;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Nr=null),t}function tl(t){Nr===null?Nr=[t]:Nr.push(t)}var Cf=x(null),zs=null,Ji=null;function xr(t,i,a){he(Cf,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=Cf.current,W(Cf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;wn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ee.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return xg(zs,t)}function tc(t,i){return zs===null&&Bs(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var NA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},OA=r.unstable_scheduleCallback,xA=r.unstable_NormalPriority,Dt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new NA,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&OA(xA,function(){t.controller.abort()})}var il=null,Of=0,Da=0,Na=null;function MA(t,i){if(il===null){var a=il=[];Of=0,Da=Vd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,i.then(Mg,Mg),i}function Mg(){if(--Of===0&&il!==null){Na!==null&&(Na.status="fulfilled");var t=il;il=null,Da=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function VA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=$.S;$.S=function(t,i){y_=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&MA(t,i),Vg!==null&&Vg(t,i)};var Hs=x(null);function xf(){var t=Hs.current;return t!==null?t:rt.pooledCache}function nc(t,i){i===null?he(Hs,Hs.current):he(Hs,i.pool)}function kg(){var t=xf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Oa=Error(s(460)),Mf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ei,ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t;default:if(typeof i.status=="string")i.then(ei,ei);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t}throw Fs=i,Oa}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Oa):a}}var Fs=null;function Ug(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function jg(t){if(t===Oa||t===ic)throw Error(s(483))}var xa=null,rl=0;function sc(t){var i=rl;return rl+=1,xa===null&&(xa=[]),Pg(xa,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){function i(P,M){if(t){var z=P.deletions;z===null?(P.deletions=[M],P.flags|=16):z.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=$i(P,M),P.index=0,P.sibling=null,P}function d(P,M,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<M?(P.flags|=67108866,M):z):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,M,z,J){return M===null||M.tag!==6?(M=Tf(z,P.mode,J),M.return=P,M):(M=h(M,z),M.return=P,M)}function N(P,M,z,J){var _e=z.type;return _e===G?X(P,M,z.props.children,J,z.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===b&&qs(_e)===M.type)?(M=h(M,z.props),sl(M,z),M.return=P,M):(M=Wu(z.type,z.key,z.props,null,P.mode,J),sl(M,z),M.return=P,M)}function B(P,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Sf(z,P.mode,J),M.return=P,M):(M=h(M,z.children||[]),M.return=P,M)}function X(P,M,z,J,_e){return M===null||M.tag!==7?(M=Us(z,P.mode,J,_e),M.return=P,M):(M=h(M,z),M.return=P,M)}function ee(P,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Tf(""+M,P.mode,z),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return z=Wu(M.type,M.key,M.props,null,P.mode,z),sl(z,M),z.return=P,z;case q:return M=Sf(M,P.mode,z),M.return=P,M;case b:return M=qs(M),ee(P,M,z)}if(ht(M)||L(M))return M=Us(M,P.mode,z,null),M.return=P,M;if(typeof M.then=="function")return ee(P,sc(M),z);if(M.$$typeof===oe)return ee(P,tc(P,M),z);ac(P,M)}return null}function H(P,M,z,J){var _e=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:S(P,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===_e?N(P,M,z,J):null;case q:return z.key===_e?B(P,M,z,J):null;case b:return z=qs(z),H(P,M,z,J)}if(ht(z)||L(z))return _e!==null?null:X(P,M,z,J,null);if(typeof z.then=="function")return H(P,M,sc(z),J);if(z.$$typeof===oe)return H(P,M,tc(P,z),J);ac(P,z)}return null}function Q(P,M,z,J,_e){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(z)||null,S(M,P,""+J,_e);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return P=P.get(J.key===null?z:J.key)||null,N(M,P,J,_e);case q:return P=P.get(J.key===null?z:J.key)||null,B(M,P,J,_e);case b:return J=qs(J),Q(P,M,z,J,_e)}if(ht(J)||L(J))return P=P.get(z)||null,X(M,P,J,_e,null);if(typeof J.then=="function")return Q(P,M,z,sc(J),_e);if(J.$$typeof===oe)return Q(P,M,z,tc(M,J),_e);ac(M,J)}return null}function pe(P,M,z,J){for(var _e=null,Fe=null,ge=M,Oe=M=0,Le=null;ge!==null&&Oe<z.length;Oe++){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var Ge=H(P,ge,z[Oe],J);if(Ge===null){ge===null&&(ge=Le);break}t&&ge&&Ge.alternate===null&&i(P,ge),M=d(Ge,M,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,ge=Le}if(Oe===z.length)return a(P,ge),ze&&Xi(P,Oe),_e;if(ge===null){for(;Oe<z.length;Oe++)ge=ee(P,z[Oe],J),ge!==null&&(M=d(ge,M,Oe),Fe===null?_e=ge:Fe.sibling=ge,Fe=ge);return ze&&Xi(P,Oe),_e}for(ge=l(ge);Oe<z.length;Oe++)Le=Q(ge,P,Oe,z[Oe],J),Le!==null&&(t&&Le.alternate!==null&&ge.delete(Le.key===null?Oe:Le.key),M=d(Le,M,Oe),Fe===null?_e=Le:Fe.sibling=Le,Fe=Le);return t&&ge.forEach(function(Xr){return i(P,Xr)}),ze&&Xi(P,Oe),_e}function Se(P,M,z,J){if(z==null)throw Error(s(151));for(var _e=null,Fe=null,ge=M,Oe=M=0,Le=null,Ge=z.next();ge!==null&&!Ge.done;Oe++,Ge=z.next()){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var Xr=H(P,ge,Ge.value,J);if(Xr===null){ge===null&&(ge=Le);break}t&&ge&&Xr.alternate===null&&i(P,ge),M=d(Xr,M,Oe),Fe===null?_e=Xr:Fe.sibling=Xr,Fe=Xr,ge=Le}if(Ge.done)return a(P,ge),ze&&Xi(P,Oe),_e;if(ge===null){for(;!Ge.done;Oe++,Ge=z.next())Ge=ee(P,Ge.value,J),Ge!==null&&(M=d(Ge,M,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Xi(P,Oe),_e}for(ge=l(ge);!Ge.done;Oe++,Ge=z.next())Ge=Q(ge,P,Oe,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?Oe:Ge.key),M=d(Ge,M,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(Gb){return i(P,Gb)}),ze&&Xi(P,Oe),_e}function it(P,M,z,J){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var _e=z.key;M!==null;){if(M.key===_e){if(_e=z.type,_e===G){if(M.tag===7){a(P,M.sibling),J=h(M,z.props.children),J.return=P,P=J;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===b&&qs(_e)===M.type){a(P,M.sibling),J=h(M,z.props),sl(J,z),J.return=P,P=J;break e}a(P,M);break}else i(P,M);M=M.sibling}z.type===G?(J=Us(z.props.children,P.mode,J,z.key),J.return=P,P=J):(J=Wu(z.type,z.key,z.props,null,P.mode,J),sl(J,z),J.return=P,P=J)}return _(P);case q:e:{for(_e=z.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(P,M.sibling),J=h(M,z.children||[]),J.return=P,P=J;break e}else{a(P,M);break}else i(P,M);M=M.sibling}J=Sf(z,P.mode,J),J.return=P,P=J}return _(P);case b:return z=qs(z),it(P,M,z,J)}if(ht(z))return pe(P,M,z,J);if(L(z)){if(_e=L(z),typeof _e!="function")throw Error(s(150));return z=_e.call(z),Se(P,M,z,J)}if(typeof z.then=="function")return it(P,M,sc(z),J);if(z.$$typeof===oe)return it(P,M,tc(P,z),J);ac(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(P,M.sibling),J=h(M,z),J.return=P,P=J):(a(P,M),J=Tf(z,P.mode,J),J.return=P,P=J),_(P)):a(P,M)}return function(P,M,z,J){try{rl=0;var _e=it(P,M,z,J);return xa=null,_e}catch(ge){if(ge===Oa||ge===ic)throw ge;var Fe=Rn(29,ge,null,P.mode);return Fe.lanes=J,Fe.return=P,Fe}}}var Gs=zg(!0),Bg=zg(!1),Mr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ju(t),bg(t,null,a),i}return Xu(t,l,i,a),Ju(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function ol(){if(Pf){var t=Na;if(t!==null)throw t}}function ll(t,i,a,l){Pf=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,X=B=N=null,S=d;do{var H=S.lane&-536870913,Q=H!==S.lane;if(Q?(ke&H)===H:(l&H)===H){H!==0&&H===Da&&(Pf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,Se=S;H=i;var it=a;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ee=pe.call(it,ee,H);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,H=typeof pe=="function"?pe.call(it,ee,H):pe,H==null)break e;ee=T({},ee,H);break e;case 2:Mr=!0}}H=S.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Q,N=ee):X=X.next=Q,_|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=ee}}function Hg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],i)}var Ma=x(null),oc=x(0);function Fg(t,i){t=or,he(oc,t),he(Ma,i),or=t|i.baseLanes}function Uf(){he(oc,or),he(Ma,Ma.current)}function jf(){or=oc.current,W(Ma),W(oc)}var Cn=x(null),Gn=null;function Lr(t){var i=t.alternate;he(St,St.current&1),he(Cn,t),Gn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Gn=t)}function zf(t){he(St,St.current),he(Cn,t),Gn===null&&(Gn=t)}function Gg(t){t.tag===22?(he(St,St.current),he(Cn,t),Gn===null&&(Gn=t)):Pr()}function Pr(){he(St,St.current),he(Cn,Cn.current)}function In(t){W(Cn),Gn===t&&(Gn=null),W(St)}var St=x(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ne=null,tt=null,Nt=null,uc=!1,Va=!1,Ks=!1,cc=0,ul=0,ka=null,kA=0;function yt(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,h,d){return Zi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Iy:id,Ks=!1,d=a(l,h),Ks=!1,Va&&(d=Yg(i,a,l,h)),Kg(t),d}function Kg(t){$.H=fl;var i=tt!==null&&tt.next!==null;if(Zi=0,Nt=tt=Ne=null,uc=!1,ul=0,ka=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&ec(t)&&(Ot=!0))}function Yg(t,i,a,l){Ne=t;var h=0;do{if(Va&&(ka=null),ul=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Nt=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Dy,d=i(a,l)}while(Va);return d}function LA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function qf(){var t=cc!==0;return cc=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Zi=0,Nt=tt=Ne=null,Va=!1,ul=cc=0,ka=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function At(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=Nt===null?Ne.memoizedState:Nt.next;if(i!==null)Nt=i,tt=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,ka===null&&(ka=[]),t=Pg(ka,t,i),i=Ne,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Iy:id),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===oe)return Qt(t)}throw Error(s(438,String(t)))}function Kf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function er(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=At();return Yf(i,tt,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ke&ee)===ee:(Zi&ee)===ee){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Da&&(X=!0);else if((Zi&H)===H){B=B.next,H===Da&&(X=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Ne.lanes|=H,zr|=H;ee=B.action,Ks&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else H={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=H,_=d):N=N.next=H,Ne.lanes|=ee,zr|=ee;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!wn(d,t.memoizedState)&&(Ot=!0,X&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=At(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);wn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Qg(t,i,a){var l=Ne,h=At(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!wn((tt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ot=!0),h=h.queue,Jf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Xg.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||(Zi&127)!==0||$g(l,i,a)}return a}function $g(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=hc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xg(t,i,a,l){i.value=a,i.getSnapshot=l,Wg(i)&&Zg(t)}function Jg(t,i,a){return a(function(){Wg(i)&&Zg(t)})}function Wg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function Zg(t){var i=Ps(t,2);i!==null&&_n(i,t,2)}function $f(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Ks){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,Yf(t,tt,typeof l=="function"?l:er)}function PA(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),N=$.S;N!==null&&N(_,S),ny(t,i,S)}catch(B){Xf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(B){Xf(t,i,B)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return Xf(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function Xf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ry(i),i=i.next;while(i!==l)}t.action=null}function ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sy(t,i){return i}function ay(t,i){if(ze){var a=rt.formState;if(a!==null){e:{var l=Ne;if(ze){if(ut){t:{for(var h=ut,d=Fn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Kn(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},a.queue=l,a=wy.bind(null,Ne,l),l.dispatch=a,l=$f(!1),d=nd.bind(null,Ne,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=PA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=At();return ly(i,tt,t)}function ly(t,i,a){if(i=Yf(t,i,sy)[0],t=dc(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Oa?ic:_}else l=i;i=At();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,La(9,{destroy:void 0},UA.bind(null,h,a),null)),[l,d,t]}function UA(t,i){t.action=i}function uy(t){var i=At(),a=tt;if(a!==null)return ly(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=hc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cy(){return At().memoizedState}function mc(t,i,a,l){var h=cn();Ne.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Bf(l,tt.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Ne.flags|=t,h.memoizedState=La(1|i,d,a,l))}function hy(t,i){mc(8390656,8,t,i)}function Jf(t,i){pc(2048,8,t,i)}function jA(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=hc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=At().memoizedState;return jA({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return pc(4,2,t,i)}function my(t,i){return pc(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,py.bind(null,i,t),a)}function Wf(){}function yy(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),Ks){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v_(),Ne.lanes|=t,zr|=t,a)}function vy(t,i,a,l){return wn(a,i)?a:Ma.current!==null?(t=Zf(t,a,l),wn(t,i)||(Ot=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(ke&261930)===0?(Ot=!0,t.memoizedState=a):(t=v_(),Ne.lanes|=t,zr|=t,i)}function Ey(t,i,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,nd(t,!1,i,a);try{var N=h(),B=$.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=VA(N,l);hl(t,i,X,On(t))}else hl(t,i,l,On(t))}catch(ee){hl(t,i,{then:function(){},status:"rejected",reason:ee},On())}finally{ue.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function zA(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ty(t).queue;Ey(t,h,i,ye,a===null?zA:function(){return Sy(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sy(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},On())}function td(){return Qt(Il)}function Ay(){return At().memoizedState}function by(){return At().memoizedState}function BA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=On();t=Vr(a);var l=kr(i,t,a);l!==null&&(_n(l,i,a),al(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function HA(t,i,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Ry(i,a):(a=vf(t,i,a,l),a!==null&&(_n(a,t,l),Cy(a,i,l)))}function wy(t,i,a){var l=On();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,wn(S,_))return Xu(t,i,h,0),rt===null&&$u(),!1}catch{}if(a=vf(t,i,h,l),a!==null)return _n(a,t,l),Cy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&_n(i,t,2)}function gc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Ry(t,i){Va=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var fl={readContext:Qt,use:fc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};fl.useEffectEvent=yt;var Iy={readContext:Qt,use:fc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Ks){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Ks){kn(!0);try{a(i)}finally{kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=HA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=wy.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,i){var a=cn();return Zf(a,t,i)},useTransition:function(){var t=$f(!1);return t=Ey.bind(null,Ne,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=cn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(ke&127)!==0||$g(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Xg.bind(null,l,d,a,i),null),a},useId:function(){var t=cn(),i=rt.identifierPrefix;if(ze){var a=Mi,l=xi;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=kA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return cn().memoizedState=BA.bind(null,Ne)},useEffectEvent:function(t){var i=cn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Qt,use:fc,useCallback:yy,useContext:Qt,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:dc,useRef:cy,useState:function(){return dc(er)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=At();return vy(a,tt.memoizedState,t,i)},useTransition:function(){var t=dc(er)[0],i=At().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Qg,useId:Ay,useHostTransitionStatus:td,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=At();return ey(a,tt,t,i)},useMemoCache:Kf,useCacheRefresh:by};id.useEffectEvent=fy;var Dy={readContext:Qt,use:fc,useCallback:yy,useContext:Qt,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Qf,useRef:cy,useState:function(){return Qf(er)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=At();return tt===null?Zf(a,t,i):vy(a,tt.memoizedState,t,i)},useTransition:function(){var t=Qf(er)[0],i=At().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Qg,useId:Ay,useHostTransitionStatus:td,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=At();return tt!==null?ey(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:by};Dy.useEffectEvent=fy;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=On(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(_n(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=On(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(_n(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=On(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(_n(i,t,a),al(i,t,a))}};function Ny(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Oy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){Qu(t)}function My(t){console.error(t)}function Vy(t){Qu(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function Ly(t){return t=Vr(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function qA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Dc():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Od(t,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Od(t,l,h)),!1}throw Error(s(435,a.tag))}return Od(t,l,h),Dc(),!1}if(ze)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),tl(Bn(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),tl(Bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,a),h=ad(t.stateNode,l,h),Lf(t,h),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),El===null?El=[d]:El.push(d),_t!==4&&(_t=2),i===null)return!0;l=Bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),Py(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),Ot=!1;function $t(t,i,a,l){i.child=t===null?Bg(i,null,a,l):Gs(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Bs(i),l=Hf(t,i,a,_,d,h),S=qf(),t!==null&&!Ot?(Ff(t,i,h),tr(t,i,h)):(ze&&S&&Af(i),i.flags|=1,$t(t,i,l,h),i.child)}function jy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zy(t,i,d,l,h)):(t=Wu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return tr(t,i,h)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function zy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,tr(t,i,h)}return ld(t,i,a,l,h)}function By(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Hy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):Uf(),Gg(i);else return l=i.lanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),Fg(i,d),Pr(),i.memoizedState=null):(t!==null&&nc(i,null),Uf(),Pr());return $t(t,i,h,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,a,l,h){var d=xf();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),Uf(),Gg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function _c(t,i){return i=Ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return Gs(i,t.child,null,a),t=_c(i,i.pendingProps),t.flags|=2,In(i),i.memoizedState=null,t}function FA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=_c(i,l),i.lanes=536870912,dl(null,t);if(zf(i),(t=ut)?(t=tv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:xi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Yt=i,ut=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return _c(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(zf(i),h)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ot||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,Ot||h){if(l=rt,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ps(t,_),_n(l,t,_),od;Dc(),i=qy(t,i,a)}else t=d.treeContext,ut=Kn(_.nextSibling),Yt=i,ze=!0,Nr=null,Fn=!1,t!==null&&Dg(i,t),i=_c(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return Bs(i),a=Hf(t,i,a,l,void 0,h),l=qf(),t!==null&&!Ot?(Ff(t,i,h),tr(t,i,h)):(ze&&l&&Af(i),i.flags|=1,$t(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=Yg(i,l,a,h),Kg(t),l=qf(),t!==null&&!Ot?(Ff(t,i,d),tr(t,i,d)):(ze&&l&&Af(i),i.flags|=1,$t(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(Bs(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Ys(a,S);d.props=N;var B=d.context,X=a.contextType;_=ba,typeof X=="object"&&X!==null&&(_=Qt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Oy(i,d,l,_),Mr=!1;var H=i.memoizedState;d.state=H,ll(i,l,d,h),ol(),B=i.memoizedState,S||H!==B||Mr?(typeof ee=="function"&&(rd(i,a,ee,l),B=i.memoizedState),(N=Mr||Ny(i,a,N,l,H,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,X=Ys(a,_),d.props=X,ee=i.pendingProps,H=d.context,B=a.contextType,N=ba,typeof B=="object"&&B!==null&&(N=Qt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||H!==N)&&Oy(i,d,l,N),Mr=!1,H=i.memoizedState,d.state=H,ll(i,l,d,h),ol();var Q=i.memoizedState;_!==ee||H!==Q||Mr||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof S=="function"&&(rd(i,a,S,l),Q=i.memoizedState),(X=Mr||Ny(i,a,X,l,H,Q,N)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):$t(t,i,a,h),i.memoizedState=d.state,t=i.child):t=tr(t,i,h),t}function Ky(t,i,a,l){return js(),i.flags|=256,$t(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:kg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Lr(i):Pr(),(t=ut)?(t=tv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:xi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Yt=i,ut=null)):t=null,t===null)throw Or(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Pr(),h=i.mode,S=Ec({mode:"hidden",children:S},h),l=Us(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,dl(null,l)):(Lr(i),fd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),S=l.fallback,h=i.mode,l=Ec({mode:"visible",children:l.children},h),S=Us(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=dl(null,l));else if(Lr(i),Yd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(Ot||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,Ot||_){if(_=rt,_!==null&&(l=Vo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ps(t,l),_n(_,t,l),od;Kd(S)||Dc(),i=dd(t,i,a)}else Kd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ut=Kn(S.nextSibling),Yt=i,ze=!0,Nr=null,Fn=!1,t!==null&&Dg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Pr(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=$i(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=$i(B,S):(S=Us(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=cd(a):(h=S.cachePool,h!==null?(N=Dt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=kg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=hd(t,_,a),i.memoizedState=ud,dl(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=Ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ec(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return Gs(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function $y(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=St.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,he(St,_),$t(t,i,l,a),l=ze?el:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qy(t,a,i);else if(t.tag===19)Qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function tr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function GA(t,i,a){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),xr(i,Dt,t.memoizedState.cache),js();break;case 27:case 5:$e(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(Lr(i),t=tr(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return $y(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(St,St.current),l)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:xr(i,Dt,t.memoizedState.cache)}return tr(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return Ot=!1,GA(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,ze&&(i.flags&1048576)!==0&&Ig(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Ys(t,l),i.tag=1,i=Gy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===re){i.tag=11,i=Uy(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=jy(null,i,t,l,a);break e}}throw i=Ze(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(Te(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xr(i,Dt,l),l!==d.cache&&Df(i,[Dt],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ky(t,i,l,a);break e}else if(l!==h){h=Bn(Error(s(424)),i),tl(h),i=Ky(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Kn(t.firstChild),Yt=i,ze=!0,Nr=null,Fn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),l===h){i=tr(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Lc(de.current).createElement(a),l[Rt]=i,l[zt]=t,Xt(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $e(i),t===null&&ze&&(l=i.stateNode=rv(i.type,i.pendingProps,de.current),Yt=i,Fn=!0,h=ut,Gr(i.type)?(Qd=h,ut=Kn(l.firstChild)):ut=h),$t(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=ut)&&(l=Tb(l,i.type,i.pendingProps,Fn),l!==null?(i.stateNode=l,Yt=i,ut=Kn(l.firstChild),Fn=!1,h=!0):h=!1),h||Or(i)),$e(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:_!==null&&qd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Hf(t,i,LA,null,null,a),Il._currentValue=h),vc(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=ut)&&(a=Sb(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,Yt=i,ut=null,t=!0):t=!1),t||Or(i)),null;case 13:return Yy(t,i,a);case 4:return Te(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):$t(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Qt(h),l=l(h),i.flags|=1,$t(t,i,l,a),i.child;case 14:return jy(t,i,i.type,i.pendingProps,a);case 15:return zy(t,i,i.type,i.pendingProps,a);case 19:return $y(t,i,a);case 31:return FA(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return Bs(i),l=Qt(Dt),t===null?(h=xf(),h===null&&(h=rt,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),xr(i,Dt,h)):((t.lanes&a)!==0&&(kf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xr(i,Dt,l)):(l=d.cache,xr(i,Dt,l),l!==h.cache&&Df(i,[Dt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(A_())t.flags|=8192;else throw Fs=rc,Mf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i))if(A_())t.flags|=8192;else throw Fs=rc,Mf}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Cu():536870912,t.lanes|=i,za|=i)}function ml(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function KA(t,i,a){var l=i.pendingProps;switch(bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wi(Dt),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),ct(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(nr(i),d!==null?(ct(i),Jy(i,d)):(ct(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(nr(i),ct(i),Jy(i,d)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(i),ct(i),gd(i,h,t,l,a)),null;case 27:if(vt(i),a=de.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=F.current,Ca(i)?Ng(i):(t=rv(h,l,a),i.stateNode=t,nr(i))}return ct(i),null;case 5:if(vt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(d=F.current,Ca(i))Ng(i);else{var _=Lc(de.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Rt]=i,d[zt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Xt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(i)}}return ct(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=de.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,a)),t||Or(i,!0)}else t=Lc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),ct(i),null);case 4:return Ie(),t===null&&Ud(i.stateNode.containerInfo),ct(i),null;case 10:return Wi(i.type),ct(i),null;case 19:if(W(St),l=i.memoizedState,l===null)return ct(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)wg(a,t),a=a.sibling;return he(St,St.current&1|2),ze&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&ln()>Rc&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=lc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ct(i),null}else 2*ln()-l.renderingStartTime>Rc&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,a=St.current,he(St,h?a&1|2:a&1),ze&&Xi(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return In(i),jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Dt),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function YA(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Dt),Ie(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vt(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(In(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(St),null;case 4:return Ie(),null;case 10:return Wi(i.type),null;case 22:case 23:return In(i),jf(),t!==null&&W(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Dt),null;case 25:return null;default:return null}}function Wy(t,i){switch(bf(i),i.tag){case 3:Wi(Dt),Ie();break;case 26:case 27:case 5:vt(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:W(St);break;case 10:Wi(i.type);break;case 22:case 23:In(i),jf(),t!==null&&W(Hs);break;case 24:Wi(Dt)}}function pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){We(i,i.return,S)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){We(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function Zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){We(t,t.return,l)}}}function e_(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function t_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;pb(l,t.type,a,i),l[zt]=i}catch(h){We(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ei));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function Sc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Sc(t,i,a),t=t.sibling;t!==null;)Sc(t,i,a),t=t.sibling}function i_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,l,a),i[Rt]=t,i[zt]=a}catch(d){We(t,t.return,d)}}var ir=!1,xt=!1,Ed=!1,r_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function QA(t,i){if(t=t.containerInfo,Bd=qc,t=gg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,X=0,ee=t,H=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)H=ee,ee=Q;for(;;){if(ee===t)break t;if(H===a&&++B===h&&(S=_),H===d&&++X===l&&(N=_),(Q=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},qc=!1,Ht=i;Ht!==null;)if(i=Ht,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ht=t;else for(;Ht!==null;){switch(i=Ht,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Ys(a.type,h);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){We(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ht=t;break}Ht=i.return}}function s_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&pl(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&Zy(a),l&512&&gl(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&i_(a);case 26:case 5:sr(t,a),i===null&&l&4&&t_(a),l&512&&gl(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),l&4&&l_(t,a);break;case 13:sr(t,a),l&4&&u_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ib.bind(null,a),Ab(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){i=i!==null&&i.memoizedState!==null||xt,h=ir;var d=xt;ir=l,(xt=i)&&!d?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=h,xt=d}break;case 30:break;default:sr(t,a)}}function a_(t){var i=t.alternate;i!==null&&(t.alternate=null,a_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,mn=!1;function rr(t,i,a){for(a=a.child;a!==null;)o_(t,i,a),a=a.sibling}function o_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:xt||Vi(a,i),rr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Vi(a,i);var l=dt,h=mn;Gr(a.type)&&(dt=a.stateNode,mn=!1),rr(t,i,a),wl(a.stateNode),dt=l,mn=h;break;case 5:xt||Vi(a,i);case 6:if(l=dt,h=mn,dt=null,rr(t,i,a),dt=l,mn=h,dt!==null)if(mn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{dt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:dt!==null&&(mn?(t=dt,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):Z_(dt,a.stateNode));break;case 4:l=dt,h=mn,dt=a.stateNode.containerInfo,mn=!0,rr(t,i,a),dt=l,mn=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),xt||Ur(4,a,i),rr(t,i,a);break;case 1:xt||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,i,l)),rr(t,i,a);break;case 21:rr(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,rr(t,i,a),xt=l;break;default:rr(t,i,a)}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){We(i,i.return,a)}}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){We(i,i.return,a)}}function $A(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new r_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new r_),i;default:throw Error(s(435,t.tag))}}function Ac(t,i){var a=$A(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=rb.bind(null,t,l);l.then(h,h)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Gr(S.type)){dt=S.stateNode,mn=!1;break e}break;case 5:dt=S.stateNode,mn=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(dt===null)throw Error(s(160));o_(d,_,h),dt=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c_(i,t),i=i.sibling}var ai=null;function c_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Ur(3,t,t.return),pl(3,t),Ur(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(xt||a===null||Vi(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(pn(i,t),gn(t),l&512&&(xt||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var _=cv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=cv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(xt||a===null||Vi(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(xt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(pe){We(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){We(t,t.return,pe)}}break;case 3:if(jc=null,h=ai,ai=Pc(i.containerInfo),pn(i,t),ai=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(pe){We(t,t.return,pe)}Ed&&(Ed=!1,h_(t));break;case 4:l=ai,ai=Pc(t.stateNode.containerInfo),pn(i,t),gn(t),ai=l;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=ir,X=xt;if(ir=B||h,xt=X||N,pn(i,t),xt=X,ir=B,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||ir||xt||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(pe){We(N,N.return,pe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(pe){We(N,N.return,pe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?ev(Q,!0):ev(N.stateNode,!1)}catch(pe){We(N,N.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ac(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);Sc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var S=_d(t);Sc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=_d(t);vd(t,B,N);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s_(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Qs(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e_(i,i.return,a),Qs(i);break;case 27:wl(i.stateNode);case 26:case 5:Vi(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ar(h,d,a),pl(4,d);break;case 1:if(ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hg(N[h],S)}catch(B){We(l,l.return,B)}}a&&_&64&&Zy(d),gl(d,d.return);break;case 27:i_(d);case 26:case 5:ar(h,d,a),a&&l===null&&_&4&&t_(d),gl(d,d.return);break;case 12:ar(h,d,a);break;case 31:ar(h,d,a),a&&_&4&&l_(h,d);break;case 13:ar(h,d,a),a&&_&4&&u_(h,d);break;case 22:d.memoizedState===null&&ar(h,d,a),gl(d,d.return);break;case 30:break;default:ar(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function oi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(t,i,a,l),h&2048&&pl(9,i);break;case 1:oi(t,i,a,l);break;case 3:oi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){oi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else oi(t,i,a,l);break;case 31:oi(t,i,a,l);break;case 13:oi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?oi(t,i,a,l):yl(t,i):d._visibility&2?oi(t,i,a,l):(d._visibility|=2,Pa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:oi(t,i,a,l),h&2048&&Sd(i.alternate,i);break;default:oi(t,i,a,l)}}function Pa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,S,N,h),pl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Pa(d,_,S,N,h):yl(d,_):(X._visibility|=2,Pa(d,_,S,N,h)),h&&B&2048&&Td(_.alternate,_);break;case 24:Pa(d,_,S,N,h),h&&B&2048&&Sd(_.alternate,_);break;default:Pa(d,_,S,N,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Td(l.alternate,l);break;case 24:yl(a,l),h&2048&&Sd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function Ua(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)d_(t,i,a),t=t.sibling}function d_(t,i,a){switch(t.tag){case 26:Ua(t,i,a),t.flags&_l&&t.memoizedState!==null&&kb(a,ai,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,i,a);break;case 3:case 4:var l=ai;ai=Pc(t.stateNode.containerInfo),Ua(t,i,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,Ua(t,i,a),_l=l):Ua(t,i,a));break;default:Ua(t,i,a)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bc(t)):vl(t);break;default:vl(t)}}function bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}t=t.sibling}}function g_(t,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var h=l.sibling,d=l.return;if(a_(l),l===a){Ht=null;break e}if(h!==null){h.return=d,Ht=h;break e}Ht=d}}}var XA={getCacheForType:function(t){var i=Qt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Dt).controller.signal}},JA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Me=null,ke=0,Je=0,Dn=null,jr=!1,ja=!1,Ad=!1,or=0,_t=0,zr=0,$s=0,bd=0,Nn=0,za=0,El=null,yn=null,wd=!1,wc=0,y_=0,Rc=1/0,Cc=null,Br=null,Lt=0,Hr=null,Ba=null,lr=0,Rd=0,Cd=null,__=null,Tl=0,Id=null;function On(){return(Ye&2)!==0&&ke!==0?ke&-ke:$.T!==null?Vd():Iu()}function v_(){if(Nn===0)if((ke&536870912)===0||ze){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Nn=t}else Nn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Nn}function _n(t,i,a){(t===rt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),qr(t,ke,Nn,!1)),As(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&($s|=a),_t===4&&qr(t,ke,Nn,!1)),ki(t))}function E_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),h=l?eb(t,i):Nd(t,i,!0),d=l;do{if(h===0){ja&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!WA(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=El;var N=S.current.memoizedState.isDehydrated;if(N&&(Ha(S,_).flags|=256),_=Nd(S,_,!1),_!==2){if(Ad&&!N){S.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Nn,!jr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=wc+300-ln(),10<h)){if(qr(l,i,Nn,!jr),yi(l,0,!0)!==0)break e;lr=i,l.timeoutHandle=J_(T_.bind(null,l,a,yn,Cc,wd,i,Nn,$s,za,jr,d,"Throttled",-0,0),h);break e}T_(l,a,yn,Cc,wd,i,Nn,$s,za,jr,d,null,-0,0)}}break}while(!0);ki(t)}function T_(t,i,a,l,h,d,_,S,N,B,X,ee,H,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},d_(i,d,ee);var pe=(d&62914560)===d?wc-ln():(d&4194048)===d?y_-ln():0;if(pe=Lb(ee,pe),pe!==null){lr=d,t.cancelPendingCommit=pe(D_.bind(null,t,i,d,a,l,h,_,S,N,X,ee,null,H,Q)),qr(t,d,_,!B);return}}D_(t,i,d,a,l,h,_,S,N)}function WA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~bd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Et(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&bs(t,a,i)}function Ic(){return(Ye&6)===0?(Sl(0),!1):!0}function Dd(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,Ji=zs=null,Gf(t),xa=null,rl=0,t=Me;for(;t!==null;)Wy(t.alternate,t),t=t.return;Me=null}}function Ha(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_b(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,Dd(),rt=t,Me=a=$i(t.current,null),ke=i,Je=0,Dn=null,jr=!1,ja=Jn(t,i),Ad=!1,za=Nn=bd=$s=zr=_t=0,yn=El=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Et(l),d=1<<h;i|=t[h],l&=~d}return or=i,$u(),a}function S_(t,i){Ne=null,$.H=fl,i===Oa||i===ic?(i=Ug(),Je=3):i===Mf?(i=Ug(),Je=4):Je=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Me===null&&(_t=1,yc(t,Bn(i,t.current)))}function A_(){var t=Cn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function b_(){var t=$.H;return $.H=fl,t===null?fl:t}function w_(){var t=$.A;return $.A=XA,t}function Dc(){_t=4,jr||(ke&4194048)!==ke&&Cn.current!==null||(ja=!0),(zr&134217727)===0&&($s&134217727)===0||rt===null||qr(rt,ke,Nn,!1)}function Nd(t,i,a){var l=Ye;Ye|=2;var h=b_(),d=w_();(rt!==t||ke!==i)&&(Cc=null,Ha(t,i)),i=!1;var _=_t;e:do try{if(Je!==0&&Me!==null){var S=Me,N=Dn;switch(Je){case 8:Dd(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var B=Je;if(Je=0,Dn=null,qa(t,S,N,B),a&&ja){_=0;break e}break;default:B=Je,Je=0,Dn=null,qa(t,S,N,B)}}ZA(),_=_t;break}catch(X){S_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ji=zs=null,Ye=l,$.H=h,$.A=d,Me===null&&(rt=null,ke=0,$u()),_}function ZA(){for(;Me!==null;)R_(Me)}function eb(t,i){var a=Ye;Ye|=2;var l=b_(),h=w_();rt!==t||ke!==i?(Cc=null,Rc=ln()+500,Ha(t,i)):ja=Jn(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var d=Dn;t:switch(Je){case 1:Je=0,Dn=null,qa(t,i,d,1);break;case 2:case 9:if(Lg(d)){Je=0,Dn=null,C_(i);break}i=function(){Je!==2&&Je!==9||rt!==t||(Je=7),ki(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Lg(d)?(Je=0,Dn=null,C_(i)):(Je=0,Dn=null,qa(t,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var S=Me;if(_?fv(_):S.stateNode.complete){Je=0,Dn=null;var N=S.sibling;if(N!==null)Me=N;else{var B=S.return;B!==null?(Me=B,Nc(B)):Me=null}break t}}Je=0,Dn=null,qa(t,i,d,5);break;case 6:Je=0,Dn=null,qa(t,i,d,6);break;case 8:Dd(),_t=6;break e;default:throw Error(s(462))}}tb();break}catch(X){S_(t,X)}while(!0);return Ji=zs=null,$.H=l,$.A=h,Ye=a,Me!==null?0:(rt=null,ke=0,$u(),_t)}function tb(){for(;Me!==null&&!af();)R_(Me)}function R_(t){var i=Xy(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Nc(t):Me=i}function C_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Gf(i);default:Wy(a,i),i=Me=wg(i,or),i=Xy(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Me=i}function qa(t,i,a,l){Ji=zs=null,Gf(i),xa=null,rl=0;var h=i.return;try{if(qA(t,h,i,a,ke)){_t=1,yc(t,Bn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;_t=1,yc(t,Bn(a,t.current)),Me=null;return}i.flags&32768?(ze||l===1?t=!0:ja||(ke&536870912)!==0?t=!1:(jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){I_(i,jr);return}t=i.return;var a=KA(i.alternate,i,or);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);_t===0&&(_t=5)}function I_(t,i){do{var a=YA(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);_t=6,Me=null}function D_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Oc();while(Lt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,a,d,_,S,N),t===rt&&(Me=rt=null,ke=0),Ba=i,Hr=t,lr=a,Rd=d,Cd=h,__=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sb(vr,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ue.p,ue.p=2,_=Ye,Ye|=4;try{QA(t,i,a)}finally{Ye=_,ue.p=h,$.T=l}}Lt=1,N_(),O_(),x_()}}function N_(){if(Lt===1){Lt=0;var t=Hr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{c_(i,t);var d=Hd,_=gg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&pg(S.ownerDocument.documentElement,S)){if(N!==null&&df(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Q=H.getSelection(),pe=S.textContent.length,Se=Math.min(N.start,pe),it=N.end===void 0?Se:Math.min(N.end,pe);!Q.extend&&Se>it&&(_=it,it=Se,Se=_);var P=mg(S,Se),M=mg(S,it);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(P.node,P.offset),Q.removeAllRanges(),Se>it?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qc=!!Bd,Hd=Bd=null}finally{Ye=h,ue.p=l,$.T=a}}t.current=i,Lt=2}}function O_(){if(Lt===2){Lt=0;var t=Hr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{s_(t,i.alternate,i)}finally{Ye=h,ue.p=l,$.T=a}}Lt=3}}function x_(){if(Lt===4||Lt===3){Lt=0,Tu();var t=Hr,i=Ba,a=lr,l=__;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ba=Hr=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),Gi(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ue.p,ue.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,ue.p=h}}(lr&3)!==0&&Oc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Tl++:(Tl=0,Id=t):Tl=0,Sl(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Oc(){return N_(),O_(),x_(),V_()}function V_(){if(Lt!==5)return!1;var t=Hr,i=Rd;Rd=0;var a=Gi(lr),l=$.T,h=ue.p;try{ue.p=32>a?32:a,$.T=null,a=Cd,Cd=null;var d=Hr,_=lr;if(Lt=0,Ba=Hr=null,lr=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,p_(d.current),f_(d,d.current,_,a),Ye=S,Sl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{ue.p=h,$.T=l,M_(t,i)}}function k_(t,i,a){i=Bn(a,i),i=ad(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(As(t,2),ki(t))}function We(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Bn(a,t),a=Ly(2),l=kr(i,a,2),l!==null&&(Py(a,l,i,t),As(l,2),ki(l));break}}i=i.return}}function Od(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new JA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ad=!0,h.add(a),t=nb.bind(null,t,i,a),i.then(t,t))}function nb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ke&a)===a&&(_t===4||_t===3&&(ke&62914560)===ke&&300>ln()-wc?(Ye&2)===0&&Ha(t,0):bd|=a,za===ke&&(za=0)),ki(t)}function L_(t,i){i===0&&(i=Cu()),t=Ps(t,i),t!==null&&(As(t,i),ki(t))}function ib(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),L_(t,a)}function rb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),L_(t,a)}function sb(t,i){return lt(t,i)}var xc=null,Fa=null,xd=!1,Mc=!1,Md=!1,Fr=0;function ki(t){t!==Fa&&t.next===null&&(Fa===null?xc=Fa=t:Fa=Fa.next=t),Mc=!0,xd||(xd=!0,ob())}function Sl(t,i){if(!Md&&Mc){Md=!0;do for(var a=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=ke,d=yi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Md=!1}}function ab(){P_()}function P_(){Mc=xd=!1;var t=0;Fr!==0&&yb()&&(t=Fr);for(var i=ln(),a=null,l=xc;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?xc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}Lt!==0&&Lt!==5||Sl(t),Fr!==0&&(Fr=0)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Et(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=lf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=rt,a=ke,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hn(l),Gi(a)){case 2:case 8:a=xo;break;case 32:a=vr;break;case 268435456:a=Su;break;default:a=vr}return l=j_.bind(null,t),a=lt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hn(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=ke;return l=yi(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E_(t,l,i),U_(t,ln()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function z_(t,i){if(Oc())return null;E_(t,i,!0)}function ob(){vb(function(){(Ye&6)!==0?lt(Oo,ab):P_()})}function Vd(){if(Fr===0){var t=Da;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Fr=t}return Fr}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function H_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function lb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[zt]||null).action),_=l.submitter;_&&(i=(i=_[zt]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ii("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var N=_?H_(h,_):new FormData(h);ed(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?H_(h,_):new FormData(h),ed(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Ld=yf[kd],ub=Ld.toLowerCase(),cb=Ld[0].toUpperCase()+Ld.slice(1);si(ub,"on"+cb)}si(vg,"onAnimationEnd"),si(Eg,"onAnimationIteration"),si(Tg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(RA,"onTransitionRun"),si(CA,"onTransitionStart"),si(IA,"onTransitionCancel"),si(Sg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Qu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Qu(X)}h.currentTarget=null,d=N}}}}function Ve(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function Pd(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Vc]){t[Vc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(hb.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Pd("selectionchange",!1,i))}}function F_(t,i,a,l){switch(vv(i)){case 2:var h=jb;break;case 8:h=zb;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Ti(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}wr(function(){var B=d,X=Pn(a),ee=[];e:{var H=Ag.get(t);if(H!==void 0){var Q=Ii,pe=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":Q=Gu;break;case"focusin":pe="focus",Q=Ms;break;case"focusout":pe="blur",Q=Ms;break;case"beforeblur":case"afterblur":Q=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case vg:case Eg:case Tg:Q=Uu;break;case Sg:Q=A;break;case"scroll":case"scrollend":Q=Yo;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Qi;break;case"toggle":case"beforetoggle":Q=De}var Se=(i&4)!==0,it=!Se&&(t==="scroll"||t==="scrollend"),P=Se?H!==null?H+"Capture":null:H;Se=[];for(var M=B,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||P===null||(J=ti(M,P),J!=null&&Se.push(bl(M,J,z))),it)break;M=M.return}0<Se.length&&(H=new Q(H,pe,null,a,X),ee.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Fo&&(pe=a.relatedTarget||a.fromElement)&&(Ti(pe)||pe[vi]))break e;if((Q||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=B,pe=pe?Ti(pe):null,pe!==null&&(it=u(pe),Se=pe.tag,pe!==it||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(Q=null,pe=B),Q!==pe)){if(Se=Qo,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Qi,J="onPointerLeave",P="onPointerEnter",M="pointer"),it=Q==null?H:An(Q),z=pe==null?H:An(pe),H=new Se(J,M+"leave",Q,a,X),H.target=it,H.relatedTarget=z,J=null,Ti(X)===B&&(Se=new Se(P,M+"enter",pe,a,X),Se.target=z,Se.relatedTarget=it,J=Se),it=J,Q&&pe)t:{for(Se=fb,P=Q,M=pe,z=0,J=P;J;J=Se(J))z++;J=0;for(var _e=M;_e;_e=Se(_e))J++;for(;0<z-J;)P=Se(P),z--;for(;0<J-z;)M=Se(M),J--;for(;z--;){if(P===M||M!==null&&P===M.alternate){Se=P;break t}P=Se(P),M=Se(M)}Se=null}else Se=null;Q!==null&&G_(ee,H,Q,Se,!1),pe!==null&&it!==null&&G_(ee,it,pe,Se,!0)}}e:{if(H=B?An(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Fe=lg;else if(ag(H))if(ug)Fe=AA;else{Fe=TA;var ge=EA}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&da(B.elementType)&&(Fe=lg):Fe=SA;if(Fe&&(Fe=Fe(t,B))){og(ee,Fe,a,X);break e}ge&&ge(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Bo(H,"number",H.value)}switch(ge=B?An(B):window,t){case"focusin":(ag(ge)||ge.contentEditable==="true")&&(Ta=ge,mf=B,Zo=null);break;case"focusout":Zo=mf=Ta=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,yg(ee,a,X);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":yg(ee,a,X)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ea?Vs(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Oi&&a.locale!=="ko"&&(Ea||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ea&&(Oe=Ko()):(Ci=X,Go="value"in Ci?Ci.value:Ci.textContent,Ea=!0)),ge=kc(B,Le),0<ge.length&&(Le=new Ni(Le,t,null,a,X),ee.push({event:Le,listeners:ge}),Oe?Le.data=Oe:(Oe=va(a),Oe!==null&&(Le.data=Oe)))),(Oe=jn?gA(t,a):yA(t,a))&&(Le=kc(B,"onBeforeInput"),0<Le.length&&(ge=new Ni("onBeforeInput","beforeinput",null,a,X),ee.push({event:ge,listeners:Le}),ge.data=Oe)),lb(ee,t,B,a,X)}q_(ee,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function kc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,a),h!=null&&l.unshift(bl(t,h,d)),h=ti(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=ti(a,d),B!=null&&_.unshift(bl(a,B,N))):h||(B=ti(a,d),B!=null&&_.push(bl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(mb,"")}function Y_(t,i){return i=K_(i),K_(t)===i}function nt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",h.name,h,null),nt(t,i,"formEncType",h.formEncType,h,null),nt(t,i,"formMethod",h.formMethod,h,null),nt(t,i,"formTarget",h.formTarget,h,null)):(nt(t,i,"encType",h.encType,h,null),nt(t,i,"method",h.method,h,null),nt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ku.get(a)||a,ha(t,a,l))}}function zd(t,i,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,_,a,null)}}h&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:nt(t,i,l,X,a,null)}}xu(t,d,S,N,B,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:nt(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:nt(t,i,_,S,a,null)}Sr(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,i,N,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ve(Al[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,B,l,a,null)}return;default:if(da(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&zd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&nt(t,i,S,l,a,null))}function pb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Q)||nt(t,i,Q,null,l,ee)}}for(var H in l){var Q=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(Q!=null||ee!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&nt(t,i,H,Q,l,ee)}}fa(t,_,S,N,B,X,d,h);return;case"select":Q=_=S=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&nt(t,i,h,d,l,N)}i=S,a=_,l=Q,H!=null?Tr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,i,_,h,l,d)}Mu(t,H,Q);return;case"option":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:nt(t,i,pe,null,l,H));for(N in l)H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":nt(t,i,N,H,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&nt(t,i,Se,null,l,H);for(B in l)if(H=l[B],Q=a[B],l.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:nt(t,i,B,H,l,Q)}return;default:if(da(i)){for(var it in a)H=a[it],a.hasOwnProperty(it)&&H!==void 0&&!l.hasOwnProperty(it)&&zd(t,i,it,void 0,l,H);for(X in l)H=l[X],Q=a[X],!l.hasOwnProperty(X)||H===Q||H===void 0&&Q===void 0||zd(t,i,X,H,l,Q);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&nt(t,i,P,null,l,H);for(ee in l)H=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||H===Q||H==null&&Q==null||nt(t,i,ee,H,l,Q)}function Q_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Q_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,ee=N.initiatorType;X&&Q_(ee)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,Hd=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function $_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function yb(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(Eb)}:J_;function Eb(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function Z_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ei]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);Qa(i)}function ev(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Tb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Sb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function tv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ab(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qd=null;function nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function rv(t,i,a){switch(i=Lc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var Yn=new Map,sv=new Set;function Pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=ue.d;ue.d={f:bb,r:wb,D:Rb,C:Cb,L:Ib,m:Db,X:Ob,S:Nb,M:xb};function bb(){var t=ur.f(),i=Ic();return t||i}function wb(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?Sy(i):ur.r(t)}var Ga=typeof document>"u"?null:document;function av(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=fn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sv.has(h)||(sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Rb(t){ur.D(t),av("dns-prefetch",t,null)}function Cb(t,i){ur.C(t,i),av("preconnect",t,i)}function Ib(t,i,a){ur.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var d=h;switch(i){case"style":d=Ka(t);break;case"script":d=Ya(t)}Yn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Yn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Xt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function Db(t,i){ur.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Yn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Yn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Xt(l,"link",t),Ct(l),a.head.appendChild(l)}}}function Nb(t,i,a){ur.S(t,i,a);var l=Ga;if(l&&t){var h=Si(l).hoistableStyles,d=Ka(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Rl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Yn.get(d))&&$d(t,a);var N=_=l.createElement("link");Ct(N),Xt(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Ob(t,i){ur.X(t,i);var a=Ga;if(a&&t){var l=Si(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0},i),(i=Yn.get(h))&&Xd(t,i),d=a.createElement("script"),Ct(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xb(t,i){ur.M(t,i);var a=Ga;if(a&&t){var l=Si(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Yn.get(h))&&Xd(t,i),d=a.createElement("script"),Ct(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,i,a,l){var h=(h=de.current)?Pc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=Si(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Si(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),d||Mb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=Si(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+fn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Mb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),Ct(i),t.head.appendChild(i))}function Ya(t){return'[src="'+fn(t)+'"]'}function Cl(t){return"script[async]"+t}function uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Xt(l,"style",h),Uc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=lv(a),(h=Yn.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Xt(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,Ct(h),h):(l=a,(h=Yn.get(d))&&(l=T({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),Xt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,t));return i.instance}function Uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var jc=null;function cv(t,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ei]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function hv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Vb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=lv(l),(h=Yn.get(h))&&$d(l,h),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function Lb(t,i){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*gb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function Hc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,i.forEach(Pb,t),Bc=null,zc.call(t))}function Pb(t,i){if(!(i.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:oe,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Ub(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function dv(t,i,a,l,h,d,_,S,N,B,X,ee){return t=new Ub(t,i,a,_,N,B,X,ee,S),i=1,d===!0&&(i|=24),d=Rn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function mv(t){return t?(t=ba,t):ba}function pv(t,i,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(_n(a,t,i),al(a,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wd(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function yv(t){if(t.tag===13||t.tag===31){var i=Ps(t,67108864);i!==null&&_n(i,t,67108864),Wd(t,67108864)}}function _v(t){if(t.tag===13||t.tag===31){var i=On();i=ws(i);var a=Ps(t,i);a!==null&&_n(a,t,i),Wd(t,i)}}var qc=!0;function jb(t,i,a,l){var h=$.T;$.T=null;var d=ue.p;try{ue.p=2,Zd(t,i,a,l)}finally{ue.p=d,$.T=h}}function zb(t,i,a,l){var h=$.T;$.T=null;var d=ue.p;try{ue.p=8,Zd(t,i,a,l)}finally{ue.p=d,$.T=h}}function Zd(t,i,a,l){if(qc){var h=em(l);if(h===null)jd(t,i,l,Fc,a),Ev(t,l);else if(Hb(h,t,i,a,l))l.stopPropagation();else if(Ev(t,l),i&4&&-1<Bb.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-Et(_);S.entanglements[1]|=N,_&=~N}ki(d),(Ye&6)===0&&(Rc=ln()+500,Sl(0))}}break;case 31:case 13:S=Ps(d,2),S!==null&&_n(S,d,2),Ic(),Wd(d,2)}if(d=em(l),d===null&&jd(t,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function em(t){return t=Pn(t),tm(t)}var Fc=null;function tm(t){if(Fc=null,t=Ti(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Oo:return 2;case xo:return 8;case vr:case of:return 32;case Su:return 268435456;default:return 32}default:return 32}}var nm=!1,Kr=null,Yr=null,Qr=null,Dl=new Map,Nl=new Map,$r=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ln(i),i!==null&&yv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Hb(t,i,a,l,h){switch(i){case"focusin":return Kr=Ol(Kr,t,i,a,l,h),!0;case"dragenter":return Yr=Ol(Yr,t,i,a,l,h),!0;case"mouseover":return Qr=Ol(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function Tv(t){var i=Ti(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){_v(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){_v(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=Ln(a),i!==null&&yv(i),t.blockedOn=a,!1;i.shift()}return!0}function Sv(t,i,a){Gc(t)&&a.delete(i)}function qb(){nm=!1,Kr!==null&&Gc(Kr)&&(Kr=null),Yr!==null&&Gc(Yr)&&(Yr=null),Qr!==null&&Gc(Qr)&&(Qr=null),Dl.forEach(Sv),Nl.forEach(Sv)}function Kc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qb)))}var Yc=null;function Av(t){Yc!==t&&(Yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Ln(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(N){return Kc(N,t)}Kr!==null&&Kc(Kr,t),Yr!==null&&Kc(Yr,t),Qr!==null&&Kc(Qr,t),Dl.forEach(i),Nl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[zt]||null;if(typeof d=="function")_||Av(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[zt]||null)S=_.formAction;else if(tm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Av(a)}}}function bv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Qc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=On();pv(a,l,t,i,null,null)},Qc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),Ic(),i[vi]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&Tv(t)}};var wv=e.version;if(wv!=="19.2.4")throw Error(s(527,wv,"19.2.4"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Fb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Xn=$c.inject(Fb),Gt=$c}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=My,_=Vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=dv(t,1,!1,null,null,a,l,null,h,d,_,bv),t[vi]=i.current,Ud(t),new im(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=My,S=Vy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=dv(t,1,!0,i,a??null,l,h,N,d,_,S,bv),i.context=mv(null),a=i.current,l=On(),l=ws(l),h=Vr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,As(i,a),ki(i),t[vi]=i.current,Ud(t),new Qc(i)},Ml.version="19.2.4",Ml}var kv;function ew(){if(kv)return am.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=Zb(),am.exports}var tw=ew();var Lv="popstate";function nw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return wm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return rw(e,n,null,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iw(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||iw()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function rw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let Y=E(),Z=Y==null?null:Y-y;y=Y,p&&p({action:m,location:G.location,delta:Z})}function w(Y,Z){m="PUSH";let ne=wm(G.location,Y,Z);y=E()+1;let oe=Pv(ne,y),re=G.createHref(ne);try{f.pushState(oe,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&p&&p({action:m,location:G.location,delta:1})}function k(Y,Z){m="REPLACE";let ne=wm(G.location,Y,Z);y=E();let oe=Pv(ne,y),re=G.createHref(ne);f.replaceState(oe,"",re),u&&p&&p({action:m,location:G.location,delta:0})}function q(Y){return sw(Y)}let G={get action(){return m},get location(){return r(o,f)},listen(Y){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Lv,T),p=Y,()=>{o.removeEventListener(Lv,T),p=null}},createHref(Y){return e(o,Y)},createURL:q,encodeLocation(Y){let Z=q(Y);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:k,go(Y){return f.go(Y)}};return G}function sw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function bT(r,e,n="/"){return aw(r,e,n,!1)}function aw(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=wT(r);ow(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=_w(u);m=gw(f[p],y,s)}return m}function wT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;mt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=fr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(mt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),wT(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:mw(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of RT(f.path))u(f,m,!0,p)}),e}function RT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=RT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function ow(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:pw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var lw=/^:[\w-]+$/,uw=3,cw=2,hw=1,fw=10,dw=-2,Uv=r=>r==="*";function mw(r,e){let n=r.split("/"),s=n.length;return n.some(Uv)&&(s+=dw),e&&(s+=cw),n.filter(o=>!Uv(o)).reduce((o,u)=>o+(lw.test(u)?uw:u===""?hw:fw),s)}function pw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function gw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:Sw(fr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return f}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=yw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let q=m[w]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function yw(r,e=!1,n=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _w(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ew(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=jv(n.substring(1),"/"):u=jv(n,e)):u=e,{pathname:u,search:Aw(s),hash:bw(o)}}function jv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(r){let e=Tw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},mt(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=Ew(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),Sw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ww=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Rw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Cw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IT(r,e){let n=r;if(typeof n!="string"||!vw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(CT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=dr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var Iw=["GET",...DT];new Set(Iw);var vo=U.createContext(null);vo.displayName="DataRouter";var Uh=U.createContext(null);Uh.displayName="DataRouterState";var Dw=U.createContext(!1),NT=U.createContext({isTransitioning:!1});NT.displayName="ViewTransition";var Nw=U.createContext(new Map);Nw.displayName="Fetchers";var Ow=U.createContext(null);Ow.displayName="Await";var Mn=U.createContext(null);Mn.displayName="Navigation";var ou=U.createContext(null);ou.displayName="Location";var Fi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var lp=U.createContext(null);lp.displayName="RouteError";var OT="REACT_ROUTER_ERROR",xw="REDIRECT",Mw="ROUTE_ERROR_RESPONSE";function Vw(r){if(r.startsWith(`${OT}:${xw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function kw(r){if(r.startsWith(`${OT}:${Mw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ww(e.status,e.statusText,e.data)}catch{}}function Lw(r,{relative:e}={}){mt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Mn),{hash:o,pathname:u,search:f}=lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return U.useContext(ou)!=null}function ys(){return mt(Eo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ou).location}var xT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MT(r){U.useContext(Mn).static||U.useLayoutEffect(r)}function To(){let{isDataRoute:r}=U.useContext(Fi);return r?$w():Pw()}function Pw(){mt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(vo),{basename:e,navigator:n}=U.useContext(Mn),{matches:s}=U.useContext(Fi),{pathname:o}=ys(),u=JSON.stringify(ap(s)),f=U.useRef(!1);return MT(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(fi(f.current,xT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=op(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}U.createContext(null);function lu(r,{relative:e}={}){let{matches:n}=U.useContext(Fi),{pathname:s}=ys(),o=JSON.stringify(ap(n));return U.useMemo(()=>op(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Uw(r,e){return VT(r,e)}function VT(r,e,n,s,o){mt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Mn),{matches:f}=U.useContext(Fi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";LT(y,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=ys(),k;if(e){let ne=typeof e=="string"?_o(e):e;mt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=w;let q=k.pathname||"/",G=q;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");G="/"+q.replace(/^\//,"").split("/").slice(ne.length).join("/")}let Y=bT(r,{pathname:G});fi(T||Y!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),fi(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=qw(Y&&Y.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:fr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:fr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&Z?U.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Z):Z}function jw(){let r=Qw(),e=Rw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var zw=U.createElement(jw,null),kT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=kw(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(Fi.Provider,{value:this.props.routeContext},U.createElement(lp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(Bw,{error:r},e):e}};kT.contextType=Dw;var hm=new WeakMap;function Bw({children:r,error:e}){let{basename:n}=U.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Vw(e.digest);if(s){let o=hm.get(e);if(o)throw o;let u=IT(s.location,n);if(CT&&!hm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw hm.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Hw({routeContext:r,match:e,children:n}){let s=U.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Fi.Provider,{value:r},n)}function qw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);mt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:k}=n,q=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Cw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let k,q=!1,G=null,Y=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||zw,m&&(p<0&&w===0?(LT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,Y=null):p===w&&(q=!0,Y=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,w+1)),ne=()=>{let oe;return k?oe=G:q?oe=Y:T.route.Component?oe=U.createElement(T.route.Component,null):T.route.element?oe=T.route.element:oe=E,U.createElement(Hw,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:oe})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?U.createElement(kT,{location:n.location,revalidation:n.revalidation,component:G,error:k,children:ne(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:y}):ne()},null)}function up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fw(r){let e=U.useContext(vo);return mt(e,up(r)),e}function Gw(r){let e=U.useContext(Uh);return mt(e,up(r)),e}function Kw(r){let e=U.useContext(Fi);return mt(e,up(r)),e}function cp(r){let e=Kw(r),n=e.matches[e.matches.length-1];return mt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Yw(){return cp("useRouteId")}function Qw(){let r=U.useContext(lp),e=Gw("useRouteError"),n=cp("useRouteError");return r!==void 0?r:e.errors?.[n]}function $w(){let{router:r}=Fw("useNavigate"),e=cp("useNavigate"),n=U.useRef(!1);return MT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{fi(n.current,xT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var zv={};function LT(r,e,n){!e&&!zv[r]&&(zv[r]=!0,fi(!1,n))}U.memo(Xw);function Xw({routes:r,future:e,state:n,onError:s}){return VT(r,void 0,n,s,e)}function Jw({to:r,replace:e,state:n,relative:s}){mt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Mn);fi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Fi),{pathname:f}=ys(),m=To(),p=op(r,ap(u),f,s==="path"),y=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Pl(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ww({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){mt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=_o(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:k="default"}=n,q=U.useMemo(()=>{let G=dr(y,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:w,key:k},navigationType:s}},[m,y,E,T,w,k,s]);return fi(q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:U.createElement(Mn.Provider,{value:p},U.createElement(ou.Provider,{children:e,value:q}))}function Zw({children:r,location:e}){return Uw(Rm(r),e)}function Rm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Rm(s.props.children,u));return}mt(s.type===Pl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function jh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function e1(r){return jh(r)&&r.tagName.toLowerCase()==="button"}function t1(r){return jh(r)&&r.tagName.toLowerCase()==="form"}function n1(r){return jh(r)&&r.tagName.toLowerCase()==="input"}function i1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function r1(r,e){return r.button===0&&(!e||e==="_self")&&!i1(r)}var Xc=null;function s1(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var a1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(r){return r!=null&&!a1.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function o1(r,e){let n,s,o,u,f;if(t1(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||sh,o=fm(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(e1(r)||n1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=fm(r.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!s1()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function l1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&dr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function u1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function h1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await u1(u,n);return f.links?f.links():[]}return[]}));return p1(s.flat(1).filter(c1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function f1(r,e,{includeHydrateFallback:n}={}){return d1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function d1(r){return[...new Set(r)]}function m1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function p1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(m1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function PT(){let r=U.useContext(vo);return hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function g1(){let r=U.useContext(Uh);return hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fp=U.createContext(void 0);fp.displayName="FrameworkContext";function UT(){let r=U.useContext(fp);return hp(r,"You must render this element inside a <HydratedRouter> element"),r}function y1(r,e){let n=U.useContext(fp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=Z=>{Z.forEach(ne=>{f(ne.isIntersecting)})},Y=new IntersectionObserver(G,{threshold:.5});return w.current&&Y.observe(w.current),()=>{Y.disconnect()}}},[r]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let k=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Vl(m,k),onBlur:Vl(p,q),onMouseEnter:Vl(y,k),onMouseLeave:Vl(E,q),onTouchStart:Vl(T,k)}]:[!1,w,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function _1({page:r,...e}){let{router:n}=PT(),s=U.useMemo(()=>bT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(E1,{page:r,matches:s,...e}):null}function v1(r){let{manifest:e,routeModules:n}=UT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return h1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function E1({page:r,matches:e,...n}){let s=ys(),{future:o,manifest:u,routeModules:f}=UT(),{basename:m}=PT(),{loaderData:p,matches:y}=g1(),E=U.useMemo(()=>Bv(r,e,y,u,s,"data"),[r,e,y,u,s]),T=U.useMemo(()=>Bv(r,e,y,u,s,"assets"),[r,e,y,u,s]),w=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,Y=!1;if(e.forEach(ne=>{let oe=u.routes[ne.route.id];!oe||!oe.hasLoader||(!E.some(re=>re.route.id===ne.route.id)&&ne.route.id in p&&f[ne.route.id]?.shouldRevalidate||oe.hasClientLoader?Y=!0:G.add(ne.route.id))}),G.size===0)return[];let Z=l1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return Y&&G.size>0&&Z.searchParams.set("_routes",e.filter(ne=>G.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),k=U.useMemo(()=>f1(T,u),[T,u]),q=v1(T);return U.createElement(U.Fragment,null,w.map(G=>U.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),k.map(G=>U.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),q.map(({key:G,link:Y})=>U.createElement("link",{key:G,nonce:n.nonce,...Y,crossOrigin:Y.crossOrigin??n.crossOrigin})))}function T1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S1&&(window.__reactRouterVersion="7.13.0")}catch{}function A1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=nw({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(Ww,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zT=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...k},q){let{basename:G,unstable_useTransitions:Y}=U.useContext(Mn),Z=typeof y=="string"&&jT.test(y),ne=IT(y,G);y=ne.to;let oe=Lw(y,{relative:o}),[re,ae,le]=y1(s,k),C=C1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:Y});function b(V){e&&e(V),V.defaultPrevented||C(V)}let I=U.createElement("a",{...k,...le,href:ne.absoluteURL||oe,onClick:ne.isExternal||u?e:b,ref:T1(q,ae),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return re&&!Z?U.createElement(U.Fragment,null,I,U.createElement(_1,{page:oe})):I});zT.displayName="Link";var b1=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=lu(f,{relative:y.relative}),w=ys(),k=U.useContext(Uh),{navigator:q,basename:G}=U.useContext(Mn),Y=k!=null&&x1(T)&&m===!0,Z=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,ne=w.pathname,oe=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),oe=oe?oe.toLowerCase():null,Z=Z.toLowerCase()),oe&&G&&(oe=dr(oe,G)||oe);const re=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ae=ne===Z||!o&&ne.startsWith(Z)&&ne.charAt(re)==="/",le=oe!=null&&(oe===Z||!o&&oe.startsWith(Z)&&oe.charAt(Z.length)==="/"),C={isActive:ae,isPending:le,isTransitioning:Y},b=ae?e:void 0,I;typeof s=="function"?I=s(C):I=[s,ae?"active":null,le?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return U.createElement(zT,{...y,"aria-current":b,className:I,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(C):p)});b1.displayName="NavLink";var w1=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...k},q)=>{let{unstable_useTransitions:G}=U.useContext(Mn),Y=N1(),Z=O1(m,{relative:y}),ne=f.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&jT.test(m),re=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let le=ae.nativeEvent.submitter,C=le?.getAttribute("formmethod")||f,b=()=>Y(le||ae.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});G&&n!==!1?U.startTransition(()=>b()):b()};return U.createElement("form",{ref:q,method:ne,action:Z,onSubmit:s?p:re,...k,"data-discover":!oe&&r==="render"?"true":void 0})});w1.displayName="Form";function R1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(r){let e=U.useContext(vo);return mt(e,R1(r)),e}function C1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=To(),E=ys(),T=lu(r,{relative:u});return U.useCallback(w=>{if(r1(w,e)){w.preventDefault();let k=n!==void 0?n:$l(E)===$l(T),q=()=>y(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>q()):q()}},[E,y,T,n,s,e,r,o,u,f,m,p])}var I1=0,D1=()=>`__${String(++I1)}__`;function N1(){let{router:r}=BT("useSubmit"),{basename:e}=U.useContext(Mn),n=Yw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=o1(u,e);if(f.navigate===!1){let w=f.fetcherKey||D1();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function O1(r,{relative:e}={}){let{basename:n}=U.useContext(Mn),s=U.useContext(Fi);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(r||".",{relative:e})},f=ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),$l(u)}function x1(r,{relative:e}={}){let n=U.useContext(NT);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BT("useViewTransitionState"),o=lu(r,{relative:e});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}const M1=()=>{};var Hv={};const HT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},V1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},qT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(HT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):V1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new k1;const w=u<<2|m>>4;if(s.push(w),y!==64){const k=m<<4&240|y>>2;if(s.push(k),T!==64){const q=y<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const e=HT(r);return qT.encodeByteArray(e,!0)},vh=function(r){return L1(r).replace(/\./g,"")},FT=function(r){try{return qT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U1=()=>P1().__FIREBASE_DEFAULTS__,j1=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},z1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FT(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return M1()||U1()||j1()||z1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GT=r=>zh()?.emulatorHosts?.[r],B1=r=>{const e=GT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},KT=()=>zh()?.config,YT=r=>zh()?.[`_${r}`];class H1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QT(r){return(await fetch(r,{credentials:"include"})).ok}function q1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}const ql={};function F1(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function G1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function $T(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||ql[r]===e||ql[r]||qv)return;ql[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=F1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{qv=!0,f()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=G1(s),k=n("text"),q=document.getElementById(k)||document.createElement("span"),G=n("learnmore"),Y=document.getElementById(G)||document.createElement("a"),Z=n("preprendIcon"),ne=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const oe=w.element;m(oe),E(Y,G);const re=y();p(ne,Z),oe.append(ne,q,Y,re),document.body.appendChild(oe)}u?(q.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Y1(){const r=zh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function W1(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const tR="FirebaseError";class _r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tR,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?nR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _r(o,m,s)}}function nR(r,e){return r.replace(iR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iR=/\{\$([^}]+)}/g;function rR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Fv(u)&&Fv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(r){return r!==null&&typeof r=="object"}function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function sR(r,e){const n=new aR(r,e);return n.subscribe.bind(n)}class aR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}function Ft(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class lR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new H1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(r){return r===Xs?void 0:r}function cR(r){return r.instantiationMode==="EAGER"}class hR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const fR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},dR=Pe.INFO,mR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},pR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=mR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const gR=(r,e)=>e.some(n=>r instanceof n);let Gv,Kv;function yR(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XT=new WeakMap,Cm=new WeakMap,JT=new WeakMap,mm=new WeakMap,mp=new WeakMap;function vR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&XT.set(n,r)}).catch(()=>{}),mp.set(e,r),e}function ER(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,e)}let Im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||JT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TR(r){Im=r(Im)}function SR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pm(this),e,...n);return JT.set(s,e.sort?e.sort():[e]),is(s)}:_R().includes(r)?function(...e){return r.apply(pm(this),e),is(XT.get(this))}:function(...e){return is(r.apply(pm(this),e))}}function AR(r){return typeof r=="function"?SR(r):(r instanceof IDBTransaction&&ER(r),gR(r,yR())?new Proxy(r,Im):r)}function is(r){if(r instanceof IDBRequest)return vR(r);if(mm.has(r))return mm.get(r);const e=AR(r);return e!==r&&(mm.set(r,e),mp.set(e,r)),e}const pm=r=>mp.get(r);function bR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const wR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],gm=new Map;function Yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return gm.set(e,u),u}TR(r=>({...r,get:(e,n,s)=>Yv(e,n)||r.get(e,n,s),has:(e,n)=>!!Yv(e,n)||r.has(e,n)}));class CR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IR(r){return r.getComponent()?.type==="VERSION"}const Dm="@firebase/app",Qv="0.14.7";const mr=new dp("@firebase/app"),DR="@firebase/app-compat",NR="@firebase/analytics-compat",OR="@firebase/analytics",xR="@firebase/app-check-compat",MR="@firebase/app-check",VR="@firebase/auth",kR="@firebase/auth-compat",LR="@firebase/database",PR="@firebase/data-connect",UR="@firebase/database-compat",jR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",HR="@firebase/installations-compat",qR="@firebase/messaging",FR="@firebase/messaging-compat",GR="@firebase/performance",KR="@firebase/performance-compat",YR="@firebase/remote-config",QR="@firebase/remote-config-compat",$R="@firebase/storage",XR="@firebase/storage-compat",JR="@firebase/firestore",WR="@firebase/ai",ZR="@firebase/firestore-compat",eC="firebase",tC="12.8.0";const Nm="[DEFAULT]",nC={[Dm]:"fire-core",[DR]:"fire-core-compat",[OR]:"fire-analytics",[NR]:"fire-analytics-compat",[MR]:"fire-app-check",[xR]:"fire-app-check-compat",[VR]:"fire-auth",[kR]:"fire-auth-compat",[LR]:"fire-rtdb",[PR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[jR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[HR]:"fire-iid-compat",[qR]:"fire-fcm",[FR]:"fire-fcm-compat",[GR]:"fire-perf",[KR]:"fire-perf-compat",[YR]:"fire-rc",[QR]:"fire-rc-compat",[$R]:"fire-gcs",[XR]:"fire-gcs-compat",[JR]:"fire-fst",[ZR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};const Eh=new Map,iC=new Map,Om=new Map;function $v(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(Om.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,r);for(const n of Eh.values())$v(n,r);for(const n of iC.values())$v(n,r);return!0}function pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function li(r){return r==null?!1:r.settings!==void 0}const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new uu("app","Firebase",rC);class sC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Ao=tC;function WT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Nm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=KT()),!n)throw rs.create("no-options");const u=Eh.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new hR(o);for(const p of Om.values())f.addComponent(p);const m=new sC(n,s,f);return Eh.set(o,m),m}function ZT(r=Nm){const e=Eh.get(r);if(!e&&r===Nm&&KT())return WT();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){let s=nC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}lo(new Zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const aC="firebase-heartbeat-database",oC=1,Xl="firebase-heartbeat-store";let ym=null;function e0(){return ym||(ym=bR(aC,oC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),ym}async function lC(r){try{const n=(await e0()).transaction(Xl),s=await n.objectStore(Xl).get(t0(r));return await n.done,s}catch(e){if(e instanceof _r)mr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function Xv(r,e){try{const s=(await e0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,t0(r)),await s.done}catch(n){if(n instanceof _r)mr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function t0(r){return`${r.name}!${r.options.appId}`}const uC=1024,cC=30;class hC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>cC){const o=mC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jv(),{heartbeatsToSend:n,unsentEntries:s}=fC(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function fC(r,e=uC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Wv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Wv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wv(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function mC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function pC(r){lo(new Zs("platform-logger",e=>new CR(e),"PRIVATE")),lo(new Zs("heartbeat",e=>new hC(e),"PRIVATE")),ss(Dm,Qv,r),ss(Dm,Qv,"esm2020"),ss("fire-js","")}pC("");function n0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gC=n0,i0=new uu("auth","Firebase",n0());const Th=new dp("@firebase/auth");function yC(r,...e){Th.logLevel<=Pe.WARN&&Th.warn(`Auth (${Ao}): ${r}`,...e)}function oh(r,...e){Th.logLevel<=Pe.ERROR&&Th.error(`Auth (${Ao}): ${r}`,...e)}function di(r,...e){throw gp(r,...e)}function Ui(r,...e){return gp(r,...e)}function r0(r,e,n){const s={...gC(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:r.name})}function as(r){return r0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return i0.create(r,...e)}function Ae(r,e,...n){if(!r)throw gp(e,...n)}function cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function pr(r,e){r||cr(e)}function xm(){return typeof self<"u"&&self.location?.href||""}function _C(){return Zv()==="http:"||Zv()==="https:"}function Zv(){return typeof self<"u"&&self.location?.protocol||null}function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_C()||$1()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=K1()||X1()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class s0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new hu(3e4,6e4);function ra(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _s(r,e,n,s,o={}){return a0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return Q1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(y.credentials="include"),s0.fetch()(await o0(r,r.config.apiHost,n,m),y)})}async function a0(r,e,n){r._canInitEmulator=!1;const s={...TC,...e};try{const o=new wC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Jc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw r0(r,E,y);di(r,E)}}catch(o){if(o instanceof _r)throw o;di(r,"network-request-failed",{message:String(o)})}}async function Bh(r,e,n,s,o={}){const u=await _s(r,e,n,s,o);return"mfaPendingCredential"in u&&di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function o0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?yp(r.config,o):`${r.config.apiScheme}://${o}`;return SC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function bC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),AC.get())})}}function Jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,e,s);return o.customData._tokenResponse=n,o}function eE(r){return r!==void 0&&r.enterprise!==void 0}class RC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CC(r,e){return _s(r,"GET","/v2/recaptchaConfig",ra(r,e))}async function IC(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DC(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=_p(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Fl(_m(o.auth_time)),issuedAtTime:Fl(_m(o.iat)),expirationTime:Fl(_m(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function _m(r){return Number(r)*1e3}function _p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=FT(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tE(r){const e=_p(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _r&&NC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class OC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){const e=r.auth,n=await r.getIdToken(),s=await Jl(r,Sh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?l0(o.providerUserInfo):[],f=MC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function xC(r){const e=Ft(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function l0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function VC(r,e){const n=await a0(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await o0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),s0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kC(r,e){return _s(r,"POST","/v2/accounts:revokeToken",ra(r,e))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await VC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return cr("not implemented")}}function Jr(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new OC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DC(this,e)}reload(){return xC(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Jl(this,IC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:q,stsTokenManager:G}=n;Ae(T&&G,e,"internal-error");const Y=eo.fromJSON(this.name,G);Ae(typeof T=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(y,e.name),Jr(E,e.name);const Z=new ui({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:y,lastLoginAt:E});return q&&Array.isArray(q)&&(Z.providerData=q.map(ne=>({...ne}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?l0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const nE=new Map;function hr(r){pr(r instanceof Function,"Expected a class definition");let e=nE.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nE.set(r,e),e)}class u0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u0.type="NONE";const iE=u0;function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(hr(iE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||hr(iE);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Sh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ui._fromGetAccountInfoResponse(e,w,E)}else T=ui._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new to(u,e,s))}}function rE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p0(e))return"Blackberry";if(g0(e))return"Webos";if(h0(e))return"Safari";if((e.includes("chrome/")||f0(e))&&!e.includes("edge/"))return"Chrome";if(m0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function c0(r=on()){return/firefox\//i.test(r)}function h0(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f0(r=on()){return/crios\//i.test(r)}function d0(r=on()){return/iemobile/i.test(r)}function m0(r=on()){return/android/i.test(r)}function p0(r=on()){return/blackberry/i.test(r)}function g0(r=on()){return/webos/i.test(r)}function vp(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LC(r=on()){return vp(r)&&!!window.navigator?.standalone}function PC(){return J1()&&document.documentMode===10}function y0(r=on()){return vp(r)||m0(r)||g0(r)||p0(r)||/windows phone/i.test(r)||d0(r)}function _0(r,e=[]){let n;switch(r){case"Browser":n=rE(on());break;case"Worker":n=`${rE(on())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class UC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function jC(r,e={}){return _s(r,"GET","/v2/passwordPolicy",ra(r,e))}const zC=6;class BC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class HC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new UC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(as(this));const n=e?Ft(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jC(this),n=new BC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(r){return Ft(r)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(r){Hh=r}function v0(r){return Hh.loadJS(r)}function FC(){return Hh.recaptchaEnterpriseScript}function GC(){return Hh.gapiScript}function KC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class YC{constructor(){this.enterprise=new QC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $C="recaptcha-enterprise",E0="NO_RECAPTCHA";class XC{constructor(e){this.type=$C,this.auth=bo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{CC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new RC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;eE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(E0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&eE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FC();p.length!==0&&(p+=m),v0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function aE(r,e,n,s=!1,o=!1){const u=new XC(r);let f;if(o)f=E0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function oE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await aE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await aE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function JC(r,e){const n=pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return o;di(o,"already-initialized")}return n.initialize({options:e})}function WC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function ZC(r,e,n){const s=bo(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=T0(e),{host:f,port:m}=eI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Ws(y,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,So(f)?(QT(`${u}//${f}${p}`),$T("Auth",!0)):tI()}function T0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eI(r){const e=T0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lE(f)}}}function lE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function nI(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}async function iI(r,e){return Bh(r,"POST","/v1/accounts:signInWithPassword",ra(r,e))}async function rI(r,e){return Bh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}async function sI(r,e){return Bh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}class Wl extends Ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oE(e,n,"signInWithPassword",iI);case"emailLink":return rI(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oE(e,s,"signUpPassword",nI);case"emailLink":return sI(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function no(r,e){return Bh(r,"POST","/v1/accounts:signInWithIdp",ra(r,e))}const aI="http://localhost";class ea extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:aI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}function oI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lI(r){const e=Ul(jl(r)).link,n=e?Ul(jl(e)).deep_link_id:null,s=Ul(jl(r)).deep_link_id;return(s?Ul(jl(s)).link:null)||s||n||e||r}class Tp{constructor(e){const n=Ul(jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=oI(n.mode??null);Ae(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lI(e);try{return new Tp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tp.parseLink(n);return Ae(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class S0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends S0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends fu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class Zr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";class es extends fu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends fu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),f=uE(s);return new uo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=uE(s);return new uo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function uE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class bh extends _r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function A0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,e,s):u})}async function uI(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return uo._forOperation(r,"link",s)}async function cI(r,e,n=!1){const{auth:s}=r;if(li(s.app))return Promise.reject(as(s));const o="reauthenticate";try{const u=await Jl(r,A0(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const f=_p(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(r.uid===m,s,"user-mismatch"),uo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&di(s,"user-mismatch"),u}}async function b0(r,e,n=!1){if(li(r.app))return Promise.reject(as(r));const s="signIn",o=await A0(r,s,e),u=await uo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function hI(r,e){return b0(bo(r),e)}async function fI(r){const e=bo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function dI(r,e,n){return li(r.app)?Promise.reject(as(r)):hI(Ft(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fI(r),s})}function mI(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function pI(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function gI(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function cE(r){return Ft(r).signOut()}const wh="__sak";class w0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yI=1e3,_I=10;class R0 extends w0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_I):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R0.type="LOCAL";const vI=R0;class C0 extends w0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C0.type="SESSION";const I0=C0;function EI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await EI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function Sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class TI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ji(){return window}function SI(r){ji().location.href=r}function D0(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function AI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bI(){return navigator?.serviceWorker?.controller||null}function wI(){return D0()?self:null}const N0="firebaseLocalStorageDb",RI=1,Rh="firebaseLocalStorage",O0="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function CI(){const r=indexedDB.deleteDatabase(N0);return new du(r).toPromise()}function Vm(){const r=indexedDB.open(N0,RI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:O0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await CI(),e(await Vm()))})})}async function hE(r,e,n){const s=Fh(r,!0).put({[O0]:e,value:n});return new du(s).toPromise()}async function II(r,e){const n=Fh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function fE(r,e){const n=Fh(r,!0).delete(e);return new du(n).toPromise()}const DI=800,NI=3;class x0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>NI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await hE(e,wh,"1"),await fE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>II(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x0.type="LOCAL";const OI=x0;new hu(3e4,6e4);function xI(r,e){return e?hr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MI(r){return b0(r.auth,new Ap(r),r.bypassAuthState)}function VI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),cI(n,new Ap(r),r.bypassAuthState)}async function kI(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),uI(n,new Ap(r),r.bypassAuthState)}class M0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return VI;default:di(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LI=new hu(2e3,1e4);class Za extends M0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LI.get())};e()}}Za.currentPopupAction=null;const PI="pendingRedirect",uh=new Map;class UI extends M0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await jI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(r,e){const n=HI(e),s=BI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function zI(r,e){uh.set(r._key(),e)}function BI(r){return hr(r._redirectPersistence)}function HI(r){return lh(PI,r.config.apiKey,r.name)}async function qI(r,e,n=!1){if(li(r.app))return Promise.reject(as(r));const s=bo(r),o=xI(s,e),f=await new UI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const FI=600*1e3;class GI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!V0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FI&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function V0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function KI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(r);default:return!1}}async function YI(r,e={}){return _s(r,"GET","/v1/projects",e)}const QI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function XI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await YI(r);for(const n of e)try{if(JI(n))return}catch{}di(r,"unauthorized-domain")}function JI(r){const e=xm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!$I.test(n))return!1;if(QI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const WI=new hu(3e4,6e4);function mE(){const r=ji().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ZI(r){return new Promise((e,n)=>{function s(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(Ui(r,"network-request-failed"))},timeout:WI.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)s();else{const o=KC("iframefcb");return ji()[o]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},v0(`${GC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function eD(r){return ch=ch||ZI(r),ch}const tD=new hu(5e3,15e3),nD="__/auth/iframe",iD="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aD(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?yp(e,iD):`https://${r.config.authDomain}/${nD}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=sD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function oD(r){const e=await eD(r),n=ji().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:aD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ui(r,"network-request-failed"),m=ji().setTimeout(()=>{u(f)},tD.get());function p(){ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uD=500,cD=600,hD="_blank",fD="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dD(r,e,n,s=uD,o=cD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lD,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();n&&(m=f0(y)?hD:n),c0(y)&&(e=e||fD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,q])=>`${w}${k}=${q},`,"");if(LC(y)&&m!=="_self")return mD(e||"",m),new pE(null);const T=window.open(e||"",m,E);Ae(T,r,"popup-blocked");try{T.focus()}catch{}return new pE(T)}function mD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const pD="__/auth/handler",gD="emulator/auth/handler",yD=encodeURIComponent("fac");async function gE(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof S0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",rR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof fu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${yD}=${encodeURIComponent(p)}`:"";return`${_D(r)}?${cu(m).slice(1)}${y}`}function _D({config:r}){return r.emulator?yp(r,gD):`https://${r.authDomain}/${pD}`}const vm="webStorageSupport";class vD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I0,this._completeRedirectFn=qI,this._overrideRedirectResult=zI}async _openPopup(e,n,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gE(e,n,s,xm(),o);return dD(e,u,Sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await gE(e,n,s,xm(),o);return SI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oD(e),s=new GI(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{const u=o?.[0]?.[vm];u!==void 0&&n(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y0()||h0()||vp()}}const ED=vD;var yE="@firebase/auth",_E="1.12.0";class TD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AD(r){lo(new Zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(r)},y=new HC(s,o,u,p);return WC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new Zs("auth-internal",e=>{const n=bo(e.getProvider("auth").getImmediate());return(s=>new TD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(yE,_E,SD(r)),ss(yE,_E,"esm2020")}const bD=300,wD=YT("authIdTokenMaxAge")||bD;let vE=null;const RD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wD)return;const o=n?.token;vE!==o&&(vE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CD(r=ZT()){const e=pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=JC(r,{popupRedirectResolver:ED,persistence:[OI,vI,I0]}),s=YT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RD(u.toString());pI(n,f,()=>f(n.currentUser)),mI(n,m=>f(m))}}const o=GT("auth");return o&&ZC(n,`http://${o}`),n}function ID(){return document.getElementsByTagName("head")?.[0]??document}qC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ID().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AD("Browser");var DD="firebase",ND="12.8.0";ss(DD,ND,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,k0;(function(){var r;function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,O,L){for(var D=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)D[Ze-2]=arguments[Ze];return b.prototype[O].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let L=C.g[3],D;D=b+(L^I&(O^L))+V[0]+3614090360&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(O^b&(I^O))+V[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=O+(I^L&(b^I))+V[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(b^O&(L^b))+V[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(L^I&(O^L))+V[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(O^b&(I^O))+V[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=O+(I^L&(b^I))+V[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(b^O&(L^b))+V[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(L^I&(O^L))+V[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(O^b&(I^O))+V[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=O+(I^L&(b^I))+V[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(b^O&(L^b))+V[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(L^I&(O^L))+V[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=L+(O^b&(I^O))+V[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=O+(I^L&(b^I))+V[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(b^O&(L^b))+V[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=b+(O^L&(I^O))+V[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(b^I))+V[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(L^b))+V[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(O^L))+V[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(O^L&(I^O))+V[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(b^I))+V[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(L^b))+V[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(O^L))+V[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(O^L&(I^O))+V[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(b^I))+V[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(L^b))+V[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(O^L))+V[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(O^L&(I^O))+V[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(b^I))+V[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=O+(b^I&(L^b))+V[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^b&(O^L))+V[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=b+(I^O^L)+V[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^O)+V[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=O+(L^b^I)+V[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^b)+V[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(I^O^L)+V[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^O)+V[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=O+(L^b^I)+V[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^b)+V[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(I^O^L)+V[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^O)+V[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=O+(L^b^I)+V[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^b)+V[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(I^O^L)+V[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=L+(b^I^O)+V[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=O+(L^b^I)+V[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^b)+V[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=b+(O^(I|~L))+V[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~O))+V[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=O+(b^(L|~I))+V[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~b))+V[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=b+(O^(I|~L))+V[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~O))+V[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=O+(b^(L|~I))+V[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~b))+V[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=b+(O^(I|~L))+V[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~O))+V[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=O+(b^(L|~I))+V[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~b))+V[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=b+(O^(I|~L))+V[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=L+(I^(b|~O))+V[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=O+(b^(L|~I))+V[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(V[O++]=C.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<b;)if(V[O++]=C[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function u(C,b){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function f(C,b){this.h=b;const I=[];let V=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;V&&L==b||(I[O]=L,V=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(b){return new f([b|0],b<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return Y(y(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new f(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Y(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let V=T;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const D=parseInt(C.substring(L,L+O),b);O<8?(O=y(Math.pow(b,O)),V=V.j(O).add(y(D))):(V=V.j(I),V=V.add(y(D)))}return V}var T=p(0),w=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-Y(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(q(this))return"0";if(G(this))return"-"+Y(this).toString(C);const b=y(Math.pow(C,6));var I=this;let V="";for(;;){const O=re(I,b).g;I=Z(I,O.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,q(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function q(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function G(C){return C.h==-1}r.l=function(C){return C=Z(this,C),G(C)?-1:q(C)?0:1};function Y(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new f(I,~C.h).add(w)}r.abs=function(){return G(this)?Y(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let O=0;O<=b;O++){let L=V+(this.i(O)&65535)+(C.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=D>>>16,L&=65535,D&=65535,I[O]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Z(C,b){return C.add(Y(b))}r.j=function(C){if(q(this)||q(C))return T;if(G(this))return G(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(G(C))return Y(this.j(Y(C)));if(this.l(k)<0&&C.l(k)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const L=this.i(V)>>>16,D=this.i(V)&65535,Ze=C.i(O)>>>16,ht=C.i(O)&65535;I[2*V+2*O]+=D*ht,ne(I,2*V+2*O),I[2*V+2*O+1]+=L*ht,ne(I,2*V+2*O+1),I[2*V+2*O+1]+=D*Ze,ne(I,2*V+2*O+1),I[2*V+2*O+2]+=L*Ze,ne(I,2*V+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new f(I,0)};function ne(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function oe(C,b){this.g=C,this.h=b}function re(C,b){if(q(b))throw Error("division by zero");if(q(C))return new oe(T,T);if(G(C))return b=re(Y(C),b),new oe(Y(b.g),Y(b.h));if(G(b))return b=re(C,Y(b)),new oe(Y(b.g),b.h);if(C.g.length>30){if(G(C)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=b;V.l(C)<=0;)I=ae(I),V=ae(V);var O=le(I,1),L=le(V,1);for(V=le(V,2),I=le(I,2);!q(V);){var D=L.add(V);D.l(C)<=0&&(O=O.add(I),L=D),V=le(V,1),I=le(I,1)}return b=Z(C,O.j(b)),new oe(O,b)}for(O=T;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),D=L.j(b);G(D)||D.l(C)>0;)I-=V,L=y(I),D=L.j(b);q(L)&&(L=w),O=O.add(L),C=Z(C,D)}return new oe(O,C)}r.B=function(C){return re(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new f(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new f(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new f(I,this.h^C.h)};function ae(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(I,C.h)}function le(C,b){const I=b>>5;b%=32;const V=C.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new f(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,k0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,os=f}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var L0,zl,P0,hh,km,U0,j0,z0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,K){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return g.prototype[j].apply(A,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function q(c,g){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const K=j.length||0;c.length=v+K;for(let ce=0;ce<K;ce++)c[v+ce]=j[ce]}else c.push(j)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Y(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,v){const A=oe.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,C=new ne,b=()=>{const c=Promise.resolve(void 0);ae=()=>{c.then(I)}};function I(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){Y(v)}var g=oe;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Ze(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Ze,O),Ze.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),$=0;function ue(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function He(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let K=0;K<W.length;K++)v=W[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function F(c){this.src=c,this.g={},this.h=0}F.prototype.add=function(c,g,v,A,j){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ce=de(c,g,A,j);return ce>-1?(g=c[ce],v||(g.fa=!1)):(g=new ue(g,this.src,K,!!A,j),g.fa=v,c.push(g)),g};function se(c,g){const v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),K;(K=j>=0)&&Array.prototype.splice.call(A,j,1),K&&(ye(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function de(c,g,v,A){for(let j=0;j<c.length;++j){const K=c[j];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==A)return j}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),Te={};function Ie(c,g,v,A,j){if(Array.isArray(g)){for(let K=0;K<g.length;K++)Ie(c,g[K],v,A,j);return null}return v=Sn(v),c&&c[ht]?c.J(g,v,m(A)?!!A.capture:!1,j):$e(c,g,v,!1,A,j)}function $e(c,g,v,A,j,K){if(!g)throw Error("Invalid event type");const ce=m(j)?!!j.capture:!!j;let De=tn(c);if(De||(c[Ee]=De=new F(c)),v=De.add(g,v,A,ce,K),v.proxy)return v;if(A=vt(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(j=ce),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(gt(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vt(){function c(v){return g.call(c.src,c.listener,v)}const g=Vn;return c}function st(c,g,v,A,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)st(c,g[K],v,A,j);else A=m(A)?!!A.capture:!!A,v=Sn(v),c&&c[ht]?(c=c.i,K=String(g).toString(),K in c.g&&(g=c.g[K],v=de(g,v,A,j),v>-1&&(ye(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[K],c.h--)))):c&&(c=tn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=de(g,v,A,j)),(v=c>-1?g[c]:null)&&jt(v))}function jt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ht])se(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(gt(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=tn(g))?(se(v,c),v.h==0&&(v.src=null,g[Ee]=null)):ye(c)}}}function gt(c){return c in Te?Te[c]:Te[c]="on"+c}function Vn(c,g){if(c.da)c=!0;else{g=new Ze(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&jt(c),c=v.call(A,g)}return c}function tn(c){return c=c[Ee],c instanceof F?c:null}var Tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sn(c){return typeof c=="function"?c:(c[Tn]||(c[Tn]=function(g){return c.handleEvent(g)}),c[Tn])}function ot(){V.call(this),this.i=new F(this),this.M=this,this.G=null}T(ot,V),ot.prototype[ht]=!0,ot.prototype.removeEventListener=function(c,g,v,A){st(this,c,g,v,A)};function lt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var j=g;g=new O(A,c),he(g,j)}j=!0;let K,ce;if(v)for(ce=v.length-1;ce>=0;ce--)K=g.g=v[ce],j=hn(K,A,!0,g)&&j;if(K=g.g=c,j=hn(K,A,!0,g)&&j,j=hn(K,A,!1,g)&&j,v)for(ce=0;ce<v.length;ce++)K=g.g=v[ce],j=hn(K,A,!1,g)&&j}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)ye(v[A]);delete c.g[g],c.h--}}this.G=null},ot.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ot.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function hn(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let K=0;K<g.length;++K){const ce=g[K];if(ce&&!ce.da&&ce.capture==v){const De=ce.listener,Tt=ce.ha||ce.src;ce.fa&&se(c.i,ce),j=De.call(Tt,A)!==!1&&j}}return j&&!A.defaultPrevented}function af(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Tu(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ln extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){V.call(this),this.h=c,this.g={}}T(Ts,V);var Oo=[];function xo(c){xe(c.g,function(g,v){this.g.hasOwnProperty(v)&&jt(g)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),xo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,of=f.JSON.parse,Su=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Au(){}function bu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){O.call(this,"d")}T(Gt,O);function kn(){O.call(this,"c")}T(kn,O);var Et={},wu=null;function la(){return wu=wu||new ot}Et.Ia="serverreachability";function Ru(c){O.call(this,Et.Ia,c)}T(Ru,O);function pi(c){const g=la();lt(g,new Ru(g))}Et.STAT_EVENT="statevent";function Ss(c,g){O.call(this,Et.STAT_EVENT,c),this.stat=g}T(Ss,O);function wt(c){const g=la();lt(g,new Ss(g,c))}Et.Ja="timingevent";function gi(c,g){O.call(this,Et.Ja,c),this.size=g}T(gi,O);function yi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function lf(c,g,v,A,j,K){c.info(function(){if(c.g)if(K){var ce="",De=K.split("&");for(let Ke=0;Ke<De.length;Ke++){var Tt=De[Ke].split("=");if(Tt.length>1){const ft=Tt[0];Tt=Tt[1];const jn=ft.split("_");ce=jn.length>=2&&jn[1]=="type"?ce+(ft+"="+Tt+"&"):ce+(ft+"=redacted&")}}}else ce=null;else ce=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+ce})}function Cu(c,g,v,A,j,K,ce){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+K+" "+ce})}function _i(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+uf(c,v)+(A?" "+A:"")})}function As(c,g){c.info(function(){return"TIMEOUT: "+g})}Jn.prototype.info=function(){};function uf(c,g){if(!c.g)return g;if(!g)return null;try{const K=JSON.parse(g);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ce=1;ce<A.length;ce++)A[ce]=""}}}}return vr(K)}catch{return g}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function ws(){}T(ws,Au),ws.prototype.g=function(){return new XMLHttpRequest},Vo=new ws;function Gi(c){return encodeURIComponent(String(c))}function Iu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Wn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Rt={},zt={};function vi(c,g,v){c.M=1,c.A=Rs(It(g)),c.u=v,c.R=!0,ua(c,null)}function ua(c,g){c.F=Date.now(),Ei(c),c.B=It(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),da(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Zn,c.g=qu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new ln(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Oo[0]=j.toString()),j=Oo);for(let K=0;K<j.length;K++){const ce=Ie(v,j[K],A||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),pi(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const g=this.O;g&&ni(c)==3?g.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ni(this.g),Tt=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||De!=4||Tt==7||(Tt==8||Ke<=0?pi(3):pi(2)),Ti(this);var g=this.g.ca();this.X=g;var v=cf(this);if(this.o=g==200,Cu(this.i,this.v,this.B,this.l,this.S,De,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var K=A;break t}}K=null}if(c=K)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,c);else{this.o=!1,this.m=3,wt(12),An(this),Ln(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<v.length;)if(ft=Nu(this,v),ft==zt){De==4&&(this.m=4,wt(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Rt){this.m=4,wt(15),_i(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,ft,null),Si(this,ft);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(ce),ce.P=!0,wt(11))}}else _i(this.i,this.l,v,null),Si(this,v);De==4&&An(this),this.o&&!this.K&&(De==4?ju(this.j,this):(this.o=!1,Ei(this)))}else Yi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),An(this),Ln(this)}}}catch{}};function cf(c){if(!Du(c))return c.g.la();const g=Kt(c.g);if(g==="")return"";let v="";const A=g.length,j=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Ln(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(g[K],{stream:!(j&&K==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?zt:(v=Number(g.substring(v,A)),isNaN(v)?Rt:(A+=1,A+v>g.length?zt:(g=g.slice(A,A+v),c.C=A+v,g)))}Wn.prototype.cancel=function(){this.K=!0,An(this)};function Ei(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(y(c.aa,c),g)}function Ti(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(pi(),wt(17)),An(this),this.m=2,Ln(this)):ca(this,this.T-c)};function Ln(c){c.j.I==0||c.K||ju(c.j,c)}function An(c){Ti(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,xo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Si(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),Cr(v);else break e;Ms(v),wt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&_a(v),!D(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let Ke=j[g];const ft=Ke[0];if(!(ft<=v.K))if(v.K=ft,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const jn=Ke[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Oi=Ke[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ii=Ke[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ri=c.g;if(ri){const Vs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var K=A.h;K.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Po(K,K.h),K.h=null))}if(A.G){const va=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(A.wa=va,Xe(A.J,A.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ce=c;if(A.na=Hu(A,A.L?A.ba:null,A.W),ce.L){Uo(A.h,ce);var De=ce,Tt=A.O;Tt&&(De.H=Tt),De.D&&(Ti(De),Ei(De)),A.g=ce}else Pu(A);v.i.length>0&&Di(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ni(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ni(v,7):Yo(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}pi(4)}catch{}}var Ct=class{constructor(c,g){this.g=c,this.map=g}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ai(c){return c.h?1:c.g?c.g.size:0}function bi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Po(c,g){c.g?c.g.add(g):c.h=g}function Uo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,K=null;A>=0?(j=c[v].substring(0,A),K=c[v].substring(A+1)):j=c[v],g(j,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof bn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,zo(this,ku(c.i)),this.m=c.m):c&&(g=String(c).match(Ou))?(this.l=!1,Bt(this,g[1]||"",!0),this.o=wi(g[2]||""),this.g=wi(g[3]||"",!0),Er(this,g[4]),this.h=wi(g[5]||"",!0),zo(this,g[6]||"",!0),this.m=wi(g[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}bn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Cs(g,fa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Cs(g,fa,!0),"@"),c.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cs(v,v.charAt(0)=="/"?Bo:xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cs(v,Mu)),c.join("")},bn.prototype.resolve=function(c){const g=It(this);let v=!!c.j;v?Bt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Er(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=g.h.lastIndexOf("/");j!=-1&&(A=g.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const K=[];for(let ce=0;ce<j.length;){const De=j[ce++];De=="."?A&&ce==j.length&&K.push(""):De==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&ce==j.length&&K.push("")):(K.push(De),A=!0)}A=K.join("/")}else A=j}return v?g.h=A:v=c.i.toString()!=="",v?zo(g,ku(c.i)):v=!!c.m,v&&(g.m=c.m),g};function It(c){return new bn(c)}function Bt(c,g,v){c.j=v?wi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function zo(c,g,v){g instanceof Sr?(c.i=g,ma(c.i,c.l)):(v||(g=Cs(g,Tr)),c.i=new Sr(g,c.l))}function Xe(c,g,v){c.i.set(g,v)}function Rs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,xu=/[#\?:]/g,Bo=/[#\?]/g,Tr=/[#\?@]/g,Mu=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,g){dn(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Vu(c,g){dn(c),g=Ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ho(c,g){return dn(c),g=Ar(c,g),c.g.has(g)}r.forEach=function(c,g){dn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)};function qo(c,g){dn(c);let v=[];if(typeof g=="string")Ho(c,g)&&(v=v.concat(c.g.get(Ar(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return dn(this),this.i=null,c=Ar(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=qo(this,c),c.length>0?String(c[0]):g):g};function da(c,g,v){Vu(c,g),v.length>0&&(c.i=null,c.g.set(Ar(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const j=Gi(v);v=qo(this,v);for(let K=0;K<v.length;K++){let ce=j;v[K]!==""&&(ce+="="+Gi(v[K])),c.push(ce)}}return this.i=c.join("&")};function ku(c){const g=new Sr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ma(c,g){g&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Vu(this,A),da(this,j,v))},c)),c.j=g}function ei(c,g){const v=new Jn;if(f.Image){const A=new Image;A.onload=E(Pn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Pn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Pn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Pn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Fo(c,g){const v=new Jn,A=new AbortController,j=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?Pn(v,"TestPingServer: ok",!0,g):Pn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Pn(v,"TestPingServer: error",!1,g)})}function Pn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function br(){this.g=new Su}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ri,Au),Ri.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,g){ot.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,ot),r=Is.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):ti(this),this.readyState==3&&pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Un(c){let g="";return xe(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ds(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Un(v),typeof c=="string"?v!=null&&Gi(v):Xe(c,g,v))}function et(c){ot.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,ot);var Ci=/^https?$/i,Go=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){Ns(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,g,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of v)this.g.setRequestHeader(K,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ns(this,K)}};function Ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ko(c),Ki(c)}function Ko(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=K===0){let ce=String(c.D).match(Ou)[1]||null;!ce&&f.self&&f.self.location&&(ce=f.self.location.protocol.slice(0,-1)),A=!Ci.test(ce?ce.toLowerCase():"")}v=A}if(v)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var j=ni(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Ko(c)}}finally{Ki(c)}}}}function Ki(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||lt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),of(g)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const g={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=Iu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[j]||[];g[j]=K,K.push(v)}He(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Rr(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){wt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Hu(this,null,this.W),Di(this)};function Yo(c){if(ga(c),c.I==3){var g=c.V++,v=It(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),xs(c,v),g=new Wn(c,c.j,g),g.M=2,g.A=Rs(It(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=qu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ei(g)}Bu(c)}function Cr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function ga(c){Cr(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Di(c){if(!Lo(c.h)&&!c.m){c.m=!0;var g=c.Ea;ae||b(),le||(ae(),le=!0),C.add(g,c),c.D=0}}function ya(c,g){return Ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(y(c.Ea,c,g),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Wn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=x(K),he(K,this.U)):K=this.U),this.u!==null||this.R||(j.J=K,K=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Lu(this,j,g),v=It(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),xs(this,v),K&&(this.R?g="headers="+Gi(Un(K))+"&"+g:this.u&&Ds(v,this.u,K)),Po(this.h,j),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),j.U=!0,vi(j,v,null)):vi(j,v,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Lo(this.h)||Qo(this))};function Qo(c,g){var v;g?v=g.l:v=c.V++;const A=It(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),xs(c,A),c.u&&c.o&&Ds(A,c.u,c.o),v=new Wn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Lu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),vi(v,A,g)}function xs(c,g){c.H&&xe(c.H,function(v,A){Xe(g,A,v)}),c.l&&xe({},function(v,A){Xe(g,A,v)})}function Lu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let De=-1;for(;;){const Tt=["count="+v];De==-1?v>0?(De=j[0].g,Tt.push("ofs="+De)):De=0:Tt.push("ofs="+De);let Ke=!0;for(let ft=0;ft<v;ft++){var K=j[ft].g;const jn=j[ft].map;if(K-=De,K<0)De=Math.max(0,j[ft].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ce=jn instanceof Map?jn:Object.entries(jn);for(const[Oi,ii]of ce){let ri=ii;m(ii)&&(ri=vr(ii)),Tt.push(K+Oi+"="+encodeURIComponent(ri))}}catch(Oi){throw Tt.push(K+"type="+encodeURIComponent("_badmap")),Oi}}catch{A&&A(jn)}}if(Ke){ce=Tt.join("&");break e}}ce=void 0}return c=c.i.splice(0,v),g.G=c,ce}function Pu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ae||b(),le||(ae(),le=!0),C.add(g,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(y(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Cr(this),Uu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=It(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),xs(c,g),c.u&&c.o&&Ds(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rs(It(g)),v.u=null,v.R=!0,ua(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ms(this),wt(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,g){var v=null;if(c.g==g){_a(c),$o(c),c.g=null;var A=2}else if(bi(c.h,g))v=g.G,Uo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;A=la(),lt(A,new gi(A,v)),Di(c)}else Pu(c);else if(j=g.m,j==3||j==0&&g.X>0||!(A==1&&ya(c,g)||A==2&&Ms(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function zu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ni(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const j=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(A,"https"),Rs(A),j?ei(A.toString(),v):Fo(A.toString(),v)}else wt(2);c.I=0,c.l&&c.l.pa(g),Bu(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const g=jo(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ja,g),q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Hu(c,g,v){var A=v instanceof bn?It(v):new bn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Er(A,A.u);else{var j=f.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const K=new bn(null);A&&Bt(K,A),g&&(K.g=g),j&&Er(K,j),v&&(K.h=v),A=K}return v=c.G,g=c.wa,v&&g&&Xe(A,v,g),Xe(A,"VER",c.ka),xs(c,A),A}function qu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new et(new Ri({ab:v})):new et(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,g){return new un(c,g)};function un(c,g){ot.call(this),this.g=new Rr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Qi(this)}T(un,ot),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Yo(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);g.i.push(new Ct(g.Ya++,c)),g.I==3&&Di(g)},un.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,un.Z.N.call(this)};function Gu(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Gu,Gt);function Ku(){kn.call(this),this.status=1}T(Ku,kn);function Qi(c){this.g=c}T(Qi,Fu),Qi.prototype.ra=function(){lt(this.g,"a")},Qi.prototype.qa=function(c){lt(this.g,new Gu(c))},Qi.prototype.pa=function(c){lt(this.g,new Ku)},Qi.prototype.oa=function(){lt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,z0=function(){return new Ir},j0=function(){return la()},U0=Et,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,hh=bs,Mo.COMPLETE="complete",P0=Mo,bu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,zl=bu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,L0=et}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Ro="12.8.0";function OD(r){Ro=r}const ta=new dp("@firebase/firestore");function $a(){return ta.logLevel}function me(r,...e){if(ta.logLevel<=Pe.DEBUG){const n=e.map(bp);ta.debug(`Firestore (${Ro}): ${r}`,...n)}}function gr(r,...e){if(ta.logLevel<=Pe.ERROR){const n=e.map(bp);ta.error(`Firestore (${Ro}): ${r}`,...n)}}function co(r,...e){if(ta.logLevel<=Pe.WARN){const n=e.map(bp);ta.warn(`Firestore (${Ro}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,B0(r,s,n)}function B0(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||B0(e,o,s)}function Ce(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class H0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class MD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ls,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ls)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new H0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class kD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Lm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Em(o)===Em(u)?Ue(o,u):Em(o)?1:-1}return Ue(r.length,e.length)}const jD=55296,zD=57343;function Em(r){const e=r.charCodeAt(0);return e>=jD&&e<=zD}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const SE="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class at extends Pi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const BD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Pi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return BD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new Zt([SE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function q0(r,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HD(r,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function AE(r){if(!ve.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){if(ve.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function F0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function na(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function mu(r,e){if(!F0(r))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const wE=-62135596800,RE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*RE);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:kt("string",Be._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Be(0,0))}static max(){return new we(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function qD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new hs(o,ve.empty(),e)}function FD(r){return new hs(r.readTime,r.key,Zl)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(we.min(),ve.empty(),Zl)}static max(){return new hs(we.max(),ve.empty(),Zl)}}function GD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==KD)throw r;me("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function QD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;const Rp=-1;function Yh(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function $D(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const G0="";function XD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=CE(e)),e=JD(r.get(n),e);return CE(e)}function JD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case G0:n+="";break;default:n+=u}}return n}function CE(r){return r+G0+""}function IE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function K0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ut(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Y0("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=WD.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const Q0="server_timestamp",$0="__type__",X0="__previous_value__",J0="__local_write_time__";function Cp(r){return(r?.mapValue?.fields||{})[$0]?.stringValue===Q0}function Qh(r){const e=r.mapValue.fields[X0];return Cp(e)?Qh(e):e}function eu(r){const e=fs(r.mapValue.fields[J0].timestampValue);return new Be(e.seconds,e.nanos)}class ZD{constructor(e,n,s,o,u,f,m,p,y,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=T}}const Ih="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}function e2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(r.options.projectId,e)}const W0="__type__",t2="__max__",eh={mapValue:{}},Z0="__vector__",Dh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cp(r)?4:i2(r)?9007199254740991:n2(r)?10:11:be(28295,{value:r})}function qi(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(IE(f)!==IE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qi(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>qi(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return NE(r.timestampValue,e.timestampValue);case 4:return NE(eu(r),eu(e));case 5:return Lm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ds(u),p=ds(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(bt(u.latitude),bt(f.latitude));return m!==0?m:Ue(bt(u.longitude),bt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return OE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Dh]?.arrayValue,E=p[Dh]?.arrayValue,T=Ue(y?.values?.length||0,E?.values?.length||0);return T!==0?T:OE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Lm(p[T],E[T]);if(w!==0)return w;const k=fo(m[p[T]],y[E[T]]);if(k!==0)return k}return Ue(p.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function NE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=fs(r),s=fs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function OE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function mo(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function fh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function xE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function ME(r){return!!r&&"nullValue"in r}function VE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function n2(r){return(r?.mapValue?.fields||{})[W0]?.stringValue===Z0}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Gl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(r.arrayValue.values[n]);return e}return{...r}}function i2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(Gl(this.value))}}function eS(r){const e=[];return vs(r.fields,((n,s)=>{const o=new Zt([n]);if(dh(s)){const u=eS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new xn(e)}class an{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function kE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function LE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],e.position[n]))return!1;return!0}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function r2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class tS{}class Vt extends tS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a2(e,n,s):n==="array-contains"?new u2(e,s):n==="in"?new c2(e,s):n==="not-in"?new h2(e,s):n==="array-contains-any"?new f2(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o2(e,s):new l2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends tS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mi(e,n)}matches(e){return nS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nS(r){return r.op==="and"}function iS(r){return s2(r)&&nS(r)}function s2(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function jm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(iS(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${e})`}}function rS(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(r,e):r instanceof mi?(function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&rS(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function sS(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(sS).join(" ,")+"}"})(r):"Filter"}class a2 extends Vt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Vt{constructor(e,n){super(e,"in",n),this.keys=aS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l2 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=aS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aS(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class u2 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&nu(n.arrayValue,this.value)}}class c2 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class h2 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class f2 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class d2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function PE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new d2(r,e,n,s,o,u,f)}function Dp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!r2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!rS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!LE(r.startAt,e.startAt)&&LE(r.endAt,e.endAt)}function zm(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Do{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function m2(r,e,n,s,o,u,f,m){return new Do(r,e,n,s,o,u,f,m)}function oS(r){return new Do(r)}function UE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function p2(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function lS(r){return r.collectionGroup!==null}function Kl(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Zt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new iu(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new iu(Zt.keyField(),s))}return e.Ie}function zi(r){const e=Ce(r);return e.Ee||(e.Ee=g2(e,Kl(r))),e.Ee}function g2(r,e){if(r.limitType==="F")return PE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)}));const n=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return PE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Bm(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function y2(r,e){const n=r.explicitOrderBy.concat([e]);return new Do(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Hm(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function $h(r,e){return Np(zi(r),zi(e))&&r.limitType===e.limitType}function uS(r){return`${Dp(zi(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>sS(o))).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=kE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,p){const y=kE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Kl(s),o))})(r,e)}function _2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cS(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=v2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function v2(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?fo(p,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}const E2=new pt(ve.comparator);function yr(){return E2}const hS=new pt(ve.comparator);function Bl(...r){let e=hS;for(const n of r)e=e.insert(n.key,n);return e}function fS(r){let e=hS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Yl()}function dS(){return Yl()}function Yl(){return new sa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const T2=new pt(ve.comparator),S2=new Ut(ve.comparator);function je(...r){let e=S2;for(const n of r)e=e.add(n);return e}const A2=new Ut(Ue);function b2(){return A2}function Op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function mS(r){return{integerValue:""+r}}function w2(r,e){return $D(e)?mS(e):Op(r,e)}class Jh{constructor(){this._=void 0}}function R2(r,e,n){return r instanceof Oh?(function(o,u){const f={fields:{[$0]:{stringValue:Q0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cp(u)&&(u=Qh(u)),u&&(f.fields[X0]=u),{mapValue:f}})(n,e):r instanceof ru?gS(r,e):r instanceof su?yS(r,e):(function(o,u){const f=pS(o,u),m=jE(f)+jE(o.Ae);return Um(f)&&Um(o.Ae)?mS(m):Op(o.serializer,m)})(r,e)}function C2(r,e,n){return r instanceof ru?gS(r,e):r instanceof su?yS(r,e):n}function pS(r,e){return r instanceof xh?(function(s){return Um(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Oh extends Jh{}class ru extends Jh{constructor(e){super(),this.elements=e}}function gS(r,e){const n=_S(e);for(const s of r.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Jh{constructor(e){super(),this.elements=e}}function yS(r,e){let n=_S(e);for(const s of r.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class xh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jE(r){return bt(r.integerValue||r.doubleValue)}function _S(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function I2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?ho(s.elements,o.elements,qi):s instanceof xh&&o instanceof xh?qi(s.Ae,o.Ae):s instanceof Oh&&o instanceof Oh})(r.transform,e.transform)}class D2{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function vS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xp(r.key,ci.none()):new pu(r.key,r.data,ci.none());{const n=r.data,s=En.empty();let o=new Ut(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(r.key,s,new xn(o.toArray()),ci.none())}}function N2(r,e,n){r instanceof pu?(function(o,u,f){const m=o.value.clone(),p=BE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=BE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ES(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(r,e,n,s){return r instanceof pu?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const y=u.value.clone(),E=HE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const y=HE(u.fieldTransforms,p,f),E=f.data;return E.setAll(ES(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function O2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=pS(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function zE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>I2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ES(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function BE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,C2(f,m,n[o]))}return s}function HE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,R2(u,f,e))}return s}class xp extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x2 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&N2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=vS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>zE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>zE(n,s)))}}class Mp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return T2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mp(e,n,s,o)}}class V2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,qe;function L2(r){switch(r){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function TS(r){if(r===void 0)return gr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Mt.OK:return te.OK;case Mt.CANCELLED:return te.CANCELLED;case Mt.UNKNOWN:return te.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return te.INTERNAL;case Mt.UNAVAILABLE:return te.UNAVAILABLE;case Mt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Mt.NOT_FOUND:return te.NOT_FOUND;case Mt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Mt.ABORTED:return te.ABORTED;case Mt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Mt.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Mt||(Mt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function P2(){return new TextEncoder}const U2=new os([4294967295,4294967295],0);function qE(r){const e=P2().encode(r),n=new k0;return n.update(e),new Uint8Array(n.digest())}function FE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(U2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qE(e),[s,o]=FE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=qE(e),[s,o]=FE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(we.min(),o,new pt(Ue),yr(),je())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,je(),je(),je())}}class ph{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class SS{constructor(e,n){this.targetId=e,this.Ce=n}}class AS{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class GE{constructor(){this.ve=0,this.Fe=KE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=KE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class j2{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=th(),this.Je=th(),this.Ze=new pt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new ve(u.path);this.et(n,f,an.newNoDocument(f,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ds(s).toUint8Array()}catch(p){if(p instanceof Y0)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return co(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const p=new ve(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,an.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=th(),this.Je=th(),this.Ze=new pt(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new pt(ve.comparator)}function KE(){return new pt(ve.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},B2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(r,e){return r.useProto3Json||Yh(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function F2(r,e){return Mh(r,e.toTimestamp())}function Bi(r){return Qe(!!r,49232),we.fromTimestamp((function(n){const s=fs(n);return new Be(s.seconds,s.nanos)})(r))}function kp(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function wS(r){const e=at.fromString(r);return Qe(NS(e),10190,{key:e.toString()}),e}function Gm(r,e){return kp(r.databaseId,e.path)}function Tm(r,e){const n=wS(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(CS(n))}function RS(r,e){return kp(r.databaseId,e)}function G2(r){const e=wS(r);return e.length===4?at.emptyPath():CS(e)}function Km(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CS(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function YE(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function K2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?te.UNKNOWN:TS(y.code);return new fe(E,y.message||"")})(f);n=new AS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tm(r,s.document.name),u=Bi(s.document.updateTime),f=s.document.createTime?Bi(s.document.createTime):we.min(),m=new En({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Tm(r,s.document),u=s.readTime?Bi(s.readTime):we.min(),f=an.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Tm(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new k2(o,u),m=s.targetId;n=new SS(m,f)}}return n}function Y2(r,e){let n;if(e instanceof pu)n={update:YE(r,e.key,e.value)};else if(e instanceof xp)n={delete:Gm(r,e.key)};else if(e instanceof Es)n={update:YE(r,e.key,e.data),updateMask:nN(e.fieldMask)};else{if(!(e instanceof x2))return be(16599,{dt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:F2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function Q2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Bi(o.updateTime):Bi(u);return f.isEqual(we.min())&&(f=Bi(u)),new D2(f,o.transformResults||[])})(n,e)))):[]}function $2(r,e){return{documents:[RS(r,e.path)]}}function X2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RS(r,o);const u=(function(y){if(y.length!==0)return DS(mi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Ja(w.field),direction:Z2(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function J2(r){let e=G2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=IS(T);return w instanceof mi&&iS(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(q){return new iu(Wa(q.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Yh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new Nh(k,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,k=T.values||[];return new Nh(k,w)})(n.endAt)),m2(e,o,f,u,m,"F",p,y)}function W2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((s=>IS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function Z2(r){return z2[r]}function eN(r){return B2[r]}function tN(r){return H2[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return Zt.fromServerFormat(r.fieldPath)}function DS(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:eN(n.op),value:n.value}}})(r):r instanceof mi?(function(n){const s=n.getFilters().map((o=>DS(o)));return s.length===1?s[0]:{compositeFilter:{op:tN(n.op),filters:s}}})(r):be(54877,{filter:r})}function nN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function OS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(e,n,s,o,u=we.min(),f=we.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iN{constructor(e){this.yt=e}}function rN(r){const e=J2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hm(e,e.limit,"L"):e}class sN{constructor(){this.Sn=new aN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(hs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class aN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(at.comparator)).toArray()}}const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(xS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class po{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new po(0)}static ar(){return new po(-1)}}const $E="LruGarbageCollector",oN=1048576;function XE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class lN{constructor(e){this.Pr=e,this.buffer=new Ut(XE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();XE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me($E,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?me($E,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class cN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Kh.ce);const s=new lN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(QE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),$a()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function hN(r,e){return new cN(r,e)}class fN{constructor(){this.changes=new sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ql(s.mutation,o,xn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=yr();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new dN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new pt(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||xn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=dS();E.forEach((w=>{if(!u.has(w)){const k=vS(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return p2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Js());let m=Zl,p=u;return f.next((y=>ie.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((E=>({batchId:m,changes:fS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const y=(function(T,w){return new Do(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,an.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,y,xn.empty(),Be.now()),Xh(n,y)&&(m=m.insert(p,y))})),m}))}}class pN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),ie.resolve()}}class gN{constructor(){this.overlays=new pt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new pt(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new V2(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class yN{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Lp{constructor(){this.kr=new Ut(qt.Kr),this.qr=new Ut(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new at([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new at([])),s=new qt(n,e),o=new qt(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class _N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(qt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new M2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Rp:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ue);return n.forEach((o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ve(u),0);let m=new Ut(Ue);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vN{constructor(e){this.ti=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||GD(FD(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new EN(this)}getSize(e){return ie.resolve(this.size)}}class EN extends fN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class TN{constructor(e){this.persistence=e,this.ri=new sa((n=>Dp(n)),Np),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Lp,this.targetCount=0,this.oi=po._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new po(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class MS{constructor(e,n){this._i={},this.overlays={},this.ai=new Kh(0),this.ui=!1,this.ui=!0,this.ci=new yN,this.referenceDelegate=e(this),this.li=new TN(this),this.indexManager=new sN,this.remoteDocumentCache=(function(o){return new vN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new iN(n),this.Pi=new pN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new _N(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new SN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class SN extends YD{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new Lp,this.Ai=null}static Vi(e){return new Pp(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.fi=new sa((s=>XD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=hN(this,n)}static Vi(e,n){return new Vh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Up{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,s,o)}}class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return W1()?8:QD(on())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new AN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?($a()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):($a()<=Pe.DEBUG&&me("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?($a()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ie.resolve())}gs(e,n){if(UE(n))return ie.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=je(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,Hm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,o){return UE(n)||o.isEqual(we.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ie.resolve(null):($a()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.Ds(e,f,n,qD(o,Zl)).next((m=>m)))}))}bs(e,n){let s=new Ut(cS(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return $a()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.fs.getDocumentsMatchingQuery(e,n,hs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const jp="LocalStore",wN=3e8;class RN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(Ue),this.Fs=new sa((u=>Dp(u)),Np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function CN(r,e,n,s){return new RN(r,e,n,s)}async function VS(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=je();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function IN(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let k=ie.resolve();return w.forEach((q=>{k=k.next((()=>E.getEntry(p,q))).next((G=>{const Y=y.docVersions.get(q);Qe(Y!==null,48541),G.version.compareTo(Y)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kS(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function DN(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(en.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(G,Y,Z){return G.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=wN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,k,E)&&m.push(n.li.updateTargetData(u,k))}));let p=yr(),y=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(NN(u,f,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(we.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function NN(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=yr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(jp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function ON(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xN(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ym(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;me(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function JE(r,e,n){const s=Ce(r);let o=we.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Ce(p),w=T.Fs.get(E);return w!==void 0?ie.resolve(T.vs.get(w)):T.li.getTargetData(y,E)})(s,f,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:je()))).next((m=>(MN(s,_2(e),m),{documents:m,ks:u})))))}function MN(r,e,n){let s=r.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class WE{constructor(){this.activeTargetIds=b2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.vo=new WE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new WE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kN{Mo(e){}shutdown(){}}const ZE="ConnectivityMonitor";class eT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(ZE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(ZE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nh=null;function Qm(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}const Sm="RestConnection",LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Qm(),m=this.Qo(e,n.toUriEncodedString());me(Sm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=So(y);return this.zo(e,m,p,s,E).then((T=>(me(Sm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw co(Sm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=LN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class UN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",kl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class io extends PN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!io.c_){const e=j0();kl(e,U0.STAT_EVENT,(n=>{n.stat===km.PROXY?me(rn,"STAT_EVENT: detected buffering proxy"):n.stat===km.NOPROXY&&me(rn,"STAT_EVENT: detected no buffering proxy")})),io.c_=!0}}zo(e,n,s,o,u){const f=Qm();return new Promise(((m,p)=>{const y=new L0;y.setWithCredentials(!0),y.listenOnce(P0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case hh.NO_ERROR:const T=y.getResponseJson();me(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case hh.TIMEOUT:me(rn,`RPC '${e}' ${f} timed out`),p(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=y.getStatus();if(me(rn,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k?.error;if(q&&q.status&&q.message){const G=(function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(q.status);p(new fe(G,q.message))}else p(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(rn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);me(rn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Qm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");me(rn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let T=!1,w=!1;const k=new UN({Ho:q=>{w?me(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(T||(me(rn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),me(rn,`RPC '${e}' stream ${o} sending:`,q),E.send(q))},Jo:()=>E.close()});return kl(E,zl.EventType.OPEN,(()=>{w||(me(rn,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),kl(E,zl.EventType.CLOSE,(()=>{w||(w=!0,me(rn,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),kl(E,zl.EventType.ERROR,(q=>{w||(w=!0,co(rn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),k.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),kl(E,zl.EventType.MESSAGE,(q=>{if(!w){const G=q.data[0];Qe(!!G,16349);const Y=G,Z=Y?.error||Y[0]?.error;if(Z){me(rn,`RPC '${e}' stream ${o} received error:`,Z);const ne=Z.status;let oe=(function(le){const C=Mt[le];if(C!==void 0)return TS(C)})(ne),re=Z.message;oe===void 0&&(oe=te.INTERNAL,re="Unknown error status: "+ne+" with message "+Z.message),w=!0,k.o_(new fe(oe,re)),E.close()}else me(rn,`RPC '${e}' stream ${o} received:`,G),k.__(G)}})),io.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return z0()}}function jN(r){return new io(r)}function Am(){return typeof document<"u"?document:null}function ef(r){return new q2(r,!0)}io.c_=!1;class LS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tT="PersistentStream";class PS{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(tT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zN extends PS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=K2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Bi(f.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Km(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=zm(p)?{documents:$2(u,p)}:{query:X2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=bS(u,f.resumeToken);const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=W2(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.K_(n)}}class BN extends PS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Q2(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Km(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Y2(this.serializer,s)))};this.K_(n)}}class HN{}class qN extends HN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Fm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Fm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function FN(r,e,n,s){return new qN(r,e,n,s)}class GN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class KN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{aa(this)&&(me(ia,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ea.add(4),await yu(y),y.Va.set("Unknown"),y.Ea.delete(4),await tf(y)})(this))}))})),this.Va=new GN(s,o)}}async function tf(r){if(aa(r))for(const e of r.Ra)await e(!0)}async function yu(r){for(const e of r.Ra)await e(!1)}function US(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Hp(n):No(n).O_()&&Bp(n,e))}function zp(r,e){const n=Ce(r),s=No(n);n.Ia.delete(e),s.O_()&&jS(n,e),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Va.set("Unknown"))}function Bp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Z_(e)}function jS(r,e){r.da.$e(e),No(r).X_(e)}function Hp(r){r.da=new j2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Va.ua()}function qp(r){return aa(r)&&!No(r).x_()&&r.Ia.size>0}function aa(r){return Ce(r).Ea.size===0}function zS(r){r.da=void 0}async function YN(r){r.Va.set("Online")}async function QN(r){r.Ia.forEach(((e,n)=>{Bp(r,e)}))}async function $N(r,e){zS(r),qp(r)?(r.Va.ha(e),Hp(r)):r.Va.set("Unknown")}async function XN(r,e,n){if(r.Va.set("Online"),e instanceof AS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){me(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(r,s)}else if(e instanceof ph?r.da.Xe(e):e instanceof SS?r.da.st(e):r.da.tt(e),!n.isEqual(we.min()))try{const s=await kS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),jS(u,p);const T=new ns(E.target,p,y,E.sequenceNumber);Bp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){me(ia,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await yu(r),r.Va.set("Offline"),n||(n=()=>kS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function BS(r,e){return e().catch((n=>kh(r,n,e)))}async function nf(r){const e=Ce(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;JN(e);)try{const o=await ON(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,WN(e,o)}catch(o){await kh(e,o)}HS(e)&&qS(e)}function JN(r){return aa(r)&&r.Ta.length<10}function WN(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function HS(r){return aa(r)&&!ps(r).x_()&&r.Ta.length>0}function qS(r){ps(r).start()}async function ZN(r){ps(r).ra()}async function eO(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function tO(r,e,n){const s=r.Ta.shift(),o=Mp.from(s,e,n);await BS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function nO(r,e){e&&ps(r).Y_&&await(async function(s,o){if((function(f){return L2(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await BS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(s)}})(r,e),HS(r)&&qS(r)}async function nT(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),me(ia,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await yu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function iO(r,e){const n=Ce(r);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await yu(n),n.Va.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new zN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:YN.bind(null,r),Yo:QN.bind(null,r),t_:$N.bind(null,r),J_:XN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),qp(r)?Hp(r):r.Va.set("Unknown")):(await r.ma.stop(),zS(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new BN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZN.bind(null,r),t_:nO.bind(null,r),ta:eO.bind(null,r),na:tO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(me(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Fp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Io(r))return new fe(te.UNAVAILABLE,`${e}: ${r}`);throw r}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class iT{constructor(){this.ga=new pt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class rO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sO{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=rT(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function rT(){return new sa((r=>uS(r)),$h)}async function aO(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new rO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Kp(n)}async function oO(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lO(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Kp(n)}function uO(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Kp(r){r.Ca.forEach((e=>{e.next()}))}var $m,sT;(sT=$m||($m={})).Ma="default",sT.Cache="cache";class cO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}class FS{constructor(e){this.key=e}}class GS{constructor(e){this.key=e}}class hO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=cS(e),this.tu=new ro(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new iT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),k=Xh(this.query,T)?T:null,q=!!w&&this.mutatedKeys.has(w.key),G=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Y=!1;w&&k?w.data.isEqual(k.data)?q!==G&&(s.track({type:3,doc:k}),Y=!0):this.su(w,k)||(s.track({type:2,doc:k}),Y=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),Y=!0):w&&!k&&(s.track({type:1,doc:w}),Y=!0,(p||y)&&(m=!0)),Y&&(k?(f=f.add(k),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,q){const G=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:Y})}};return G(k)-G(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new go(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new GS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new FS(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Yp="SyncEngine";class fO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dO{constructor(e){this.key=e,this.hu=!1}}class mO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>uS(m)),$h),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(ve.comparator),this.Au=new Map,this.Vu=new Lp,this.du={},this.mu=new Map,this.fu=po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pO(r,e,n=!0){const s=JS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await KS(s,e,n,!0),o}async function gO(r,e){const n=JS(r);await KS(n,e,!0,!1)}async function KS(r,e,n,s){const o=await xN(r.localStore,zi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await yO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&US(r.remoteStore,o),m}async function yO(r,e,n,s,o){r.pu=(T,w,k)=>(async function(G,Y,Z,ne){let oe=Y.view.ru(Z);oe.Ss&&(oe=await JE(G.localStore,Y.query,!1).then((({documents:C})=>Y.view.ru(C,oe))));const re=ne&&ne.targetChanges.get(Y.targetId),ae=ne&&ne.targetMismatches.get(Y.targetId)!=null,le=Y.view.applyChanges(oe,G.isPrimaryClient,re,ae);return oT(G,Y.targetId,le.au),le.snapshot})(r,T,w,k);const u=await JE(r.localStore,e,!0),f=new hO(e,u.ks),m=f.ru(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);oT(r,n,y.au);const E=new fO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function _O(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!$h(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),Xm(s,o.targetId)})).catch(Co)):(Xm(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function vO(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function EO(r,e,n){const s=CO(r);try{const o=await(function(f,m){const p=Ce(f),y=Be.now(),E=m.reduce(((k,q)=>k.add(q.key)),je());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=yr(),G=je();return p.xs.getEntries(k,E).next((Y=>{q=Y,q.forEach(((Z,ne)=>{ne.isValidDocument()||(G=G.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,q))).next((Y=>{T=Y;const Z=[];for(const ne of m){const oe=O2(ne,T.get(ne.key).overlayedDocument);oe!=null&&Z.push(new Es(ne.key,oe,eS(oe.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,Z,m)})).next((Y=>{w=Y;const Z=Y.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(k,Y.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:fS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new pt(Ue)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await _u(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function YS(r,e){const n=Ce(r);try{const s=await DN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await _u(n,s,e)}catch(s){await Co(s)}}function aT(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ce(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.ba)w.va(m)&&(y=!0)})),y&&Kp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TO(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new pt(ve.comparator);f=f.insert(u,an.newNoDocument(u,we.min()));const m=je().add(u),p=new Zh(we.min(),new Map,new pt(Ue),f,m);await YS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Qp(s)}else await Ym(s.localStore,e,!1).then((()=>Xm(s,e,n))).catch(Co)}async function SO(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await IN(n.localStore,e);$S(n,s,null),QS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await Co(o)}}async function AO(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);$S(s,e,n),QS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await Co(o)}}function QS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function $S(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Xm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||XS(r,s)}))}function XS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(zp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Qp(r))}function oT(r,e,n){for(const s of n)s instanceof FS?(r.Vu.addReference(s.key,e),bO(r,s)):s instanceof GS?(me(Yp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||XS(r,s.key)):be(19791,{wu:s})}function bO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(me(Yp,"New document in limbo: "+n),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(at.fromString(e)),s=r.fu.next();r.Au.set(s,new dO(n)),r.Ru=r.Ru.insert(n,s),US(r.remoteStore,new ns(zi(oS(n.path)),s,"TargetPurposeLimboResolution",Kh.ce))}}async function _u(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Up.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(y,(w=>ie.forEach(w.Ts,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>ie.forEach(w.Is,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!Io(T))throw T;me(jp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const k=E.vs.get(w),q=k.snapshotVersion,G=k.withLastLimboFreeSnapshotVersion(q);E.vs=E.vs.insert(w,G)}}})(s.localStore,u))}async function wO(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){me(Yp,"User change. New user:",e.toKey());const s=await VS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Ns)}}function RO(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function JS(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TO.bind(null,e),e.Pu.J_=lO.bind(null,e.eventManager),e.Pu.yu=uO.bind(null,e.eventManager),e}function CO(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CN(this.persistence,new bN,e.initialUser,this.serializer)}Cu(e){return new MS(Pp.Vi,this.serializer)}Du(e){return new VN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class IO extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new MS((s=>Vh.Vi(s,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),await iO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sO})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=jN(e.databaseInfo);return FN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new KN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aT(this.syncEngine,n,0)),(function(){return eT.v()?new eT:new kN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new mO(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);me(ia,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jm.provider={build:()=>new Jm};class DO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gs="FirestoreClient";class NO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{me(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(me(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bm(r,e){r.asyncQueue.verifyOperationInProgress(),me(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await VS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function lT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OO(r);me(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>nT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>nT(e.remoteStore,o))),r._onlineComponents=e}async function OO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(gs,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Lh)}}else me(gs,"Using default OfflineComponentProvider"),await bm(r,new IO(void 0));return r._offlineComponents}async function WS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(gs,"Using user provided OnlineComponentProvider"),await lT(r,r._uninitializedComponentsProvider._online)):(me(gs,"Using default OnlineComponentProvider"),await lT(r,new Jm))),r._onlineComponents}function xO(r){return WS(r).then((e=>e.syncEngine))}async function MO(r){const e=await WS(r),n=e.eventManager;return n.onListen=pO.bind(null,e.syncEngine),n.onUnlisten=_O.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vO.bind(null,e.syncEngine),n}function VO(r,e,n={}){const s=new ls;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new DO({next:w=>{E.Nu(),f.enqueueAndForget((()=>oO(u,T))),w.fromCache&&p.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new cO(m,E,{includeMetadataChanges:!0,Ka:!0});return aO(u,T)})(await MO(r),r.asyncQueue,e,n,s))),s.promise}function kO(r,e){const n=new ls;return r.asyncQueue.enqueueAndForget((async()=>EO(await xO(r),e,n))),n.promise}function ZS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const LO="ComponentProvider",uT=new Map;function PO(r,e,n,s,o){return new ZD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ZS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const eA="firestore.googleapis.com",cT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oN)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xD;switch(s.type){case"firstParty":return new LD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=uT.get(n);s&&(me(LO,"Removing Datastore"),uT.delete(n),s.terminate())})(this),Promise.resolve()}}function UO(r,e,n,s={}){r=na(r,rf);const o=So(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(QT(`https://${m}`),$T("Firestore",!0)),u.host!==eA&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=sn.MOCK_USER;else{y=q1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}r._authCredentials=new MD(new H0(y,E))}}class oa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,Pt._jsonSchema))return new Pt(e,s||null,new ve(at.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:kt("string",Pt._jsonSchemaVersion),referencePath:kt("string")};class us extends oa{constructor(e,n,s){super(e,n,oS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ve(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Qn(r,e,...n){if(r=Ft(r),q0("collection","path",e),r instanceof rf){const s=at.fromString(e,...n);return bE(s),new us(r,null,s)}{if(!(r instanceof Pt||r instanceof us))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return bE(s),new us(r.firestore,null,s)}}function so(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=wp.newId()),q0("doc","path",e),r instanceof rf){const s=at.fromString(e,...n);return AE(s),new Pt(r,null,new ve(s))}{if(!(r instanceof Pt||r instanceof us))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return AE(s),new Pt(r.firestore,r instanceof us?r.converter:null,new ve(s))}}const fT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LS(this,"async_queue_retry"),this._c=()=>{const s=Am();s&&me(fT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;me(fT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",mT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:mT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class vu extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new dT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function jO(r,e){const n=typeof r=="object"?r:ZT(),s=typeof r=="string"?r:Ih,o=pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=B1("firestore");u&&UO(o,...u)}return o}function tA(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zO(r),r._firestoreClient}function zO(r){const e=r._freezeSettings(),n=PO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new NO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(en.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:kt("string",$n._jsonSchemaVersion),bytes:kt("string")};class $p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:kt("string",Hi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:kt("string",hi._jsonSchemaVersion),vectorValues:kt("object")};const BO=/^__.*__$/;class HO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:r})}}class Jp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ph(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iA(this.dataSource)&&BO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}createContext(e,n,s,o=!1){return new Jp({dataSource:e,methodName:n,targetDoc:s,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(r){const e=r._freezeSettings(),n=ef(r._databaseId);return new qO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function FO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,s);const m=rA(s,f);let p,y;if(u.merge)p=new xn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=yo(e,T,n);if(!f.contains(w))throw new fe(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);oA(E,w)||E.push(w)}p=new xn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new HO(new En(m),p,y)}class sf extends Xp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function GO(r,e,n,s){const o=r.createContext(1,e,n);Zp("Data must be an object, but it was:",o,s);const u=[],f=En.empty();vs(s,((p,y)=>{const E=aA(e,p,n);y=Ft(y);const T=o.childContextForFieldPath(E);if(y instanceof sf)u.push(E);else{const w=Eu(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new xn(u);return new nA(f,m,o.fieldTransforms)}function KO(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[yo(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(yo(e,u[w])),p.push(u[w+1]);const y=[],E=En.empty();for(let w=m.length-1;w>=0;--w)if(!oA(y,m[w])){const k=m[w];let q=p[w];q=Ft(q);const G=f.childContextForFieldPath(k);if(q instanceof sf)y.push(k);else{const Y=Eu(q,G);Y!=null&&(y.push(k),E.set(k,Y))}}const T=new xn(y);return new nA(E,T,f.fieldTransforms)}function YO(r,e,n,s=!1){return Eu(n,r.createContext(s?4:3,e))}function Eu(r,e){if(sA(r=Ft(r)))return Zp("Unsupported field value:",e,r),rA(r,e);if(r instanceof Xp)return(function(s,o){if(!iA(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Eu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:bS(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hi)return(function(f,m){const p=f instanceof hi?f.toArray():f;return{mapValue:{fields:{[W0]:{stringValue:Z0},[Dh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Op(m.serializer,E)}))}}}}}})(s,o);if(OS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Gh(s)}`)})(r,e)}function rA(r,e){const n={};return K0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,o)=>{const u=Eu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function sA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof Hi||r instanceof $n||r instanceof Pt||r instanceof Xp||r instanceof hi||OS(r))}function Zp(r,e,n){if(!sA(n)||!F0(n)){const s=Gh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function yo(r,e,n){if((e=Ft(e))instanceof $p)return e._internalPath;if(typeof e=="string")return aA(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const QO=new RegExp("[~\\*/\\[\\]]");function aA(r,e,n){if(e.search(QO)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $p(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,m+r+p)}function oA(r,e){return r.some((n=>n.isEqual(e)))}class $O{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Dh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new hi(n)}convertGeoPoint(e){return new Hi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Qe(NS(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class XO extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}const pT="@firebase/firestore",gT="4.10.0";class lA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JO extends lA{data(){return super.data()}}function WO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class uA extends eg{}function ZO(r,e,...n){let s=[];e instanceof eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ng)).length,m=u.filter((p=>p instanceof tg)).length;if(f>1||f>0&&m>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class tg extends uA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tg(e,n,s)}_apply(e){const n=this._parse(e);return cA(e._query,n),new oa(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=Wp(e.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_T(T,E);const q=[];for(const G of T)q.push(yT(p,u,G));w={arrayValue:{values:q}}}else w=yT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_T(T,E),w=YO(m,f,T,E==="in"||E==="not-in");return Vt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)cA(f,p),f=Bm(f,p)})(e._query,n),new oa(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends uA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,f)})(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,y2(e._query,n))}}function ex(r,e="asc"){const n=e,s=yo("orderBy",r);return ig._create(s,n)}function yT(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lS(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xE(r,new ve(s))}if(n instanceof Pt)return xE(r,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function _T(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tx(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends lA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:kt("string",ao._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class gh extends ao{data(e={}){return super.data(e)}}class oo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ih(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new ih(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ih(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ih(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:nx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:kt("string",oo._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};function cs(r){r=na(r,oa);const e=na(r.firestore,vu),n=tA(e),s=new XO(e);return WO(r._query),VO(n,r._query).then((o=>new oo(e,s,r,o)))}function vT(r,e,n,...s){r=na(r,Pt);const o=na(r.firestore,vu),u=Wp(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof $p?KO(u,"updateDoc",r._key,e,n,s):GO(u,"updateDoc",r._key,e),rg(o,[f.toMutation(r._key,ci.exists(!0))])}function Wm(r){return rg(na(r.firestore,vu),[new xp(r._key,ci.none())])}function yh(r,e){const n=na(r.firestore,vu),s=so(r),o=tx(r.converter,e),u=Wp(r.firestore);return rg(n,[FO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ci.exists(!1))]).then((()=>s))}function rg(r,e){const n=tA(r);return kO(n,e)}(function(e,n=!0){OD(Ao),lo(new Zs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new vu(new VD(s.getProvider("auth-internal")),new PD(f,s.getProvider("app-check-internal")),e2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(pT,gT,e),ss(pT,gT,"esm2020")})();const ix={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},hA=WT(ix),rh=CD(hA),Wt=jO(hA),ET="EYdciKDOi3UYBLk1u8hHams5tmO2",fA=U.createContext();function sg(){return U.useContext(fA)}function rx({children:r}){const[e,n]=U.useState(null),[s,o]=U.useState(!1),[u,f]=U.useState(!0);U.useEffect(()=>gI(rh,T=>{n(T),o(T?.uid===ET),f(!1)}),[]);const y={currentUser:e,isAdmin:s,login:async(E,T)=>{const w=await dI(rh,E,T);if(w.user.uid!==ET)throw await cE(rh),new Error("Access denied. Admin only.");return w},logout:()=>cE(rh),loading:u};return R.jsx(fA.Provider,{value:y,children:r})}function sx(){const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),{login:p}=sg(),y=To(),E=async T=>{T.preventDefault(),u(""),m(!0);try{await p(r,n),y("/dashboard")}catch(w){u(w.message||"Failed to log in")}m(!1)};return R.jsx("div",{className:"login-container",children:R.jsxs("div",{className:"login-card",children:[R.jsxs("div",{className:"login-header",children:[R.jsx("h1",{children:"Mind Core Fitness"}),R.jsx("p",{children:"Admin Portal"})]}),o&&R.jsx("div",{className:"error-message",children:o}),R.jsxs("form",{onSubmit:E,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email"}),R.jsx("input",{type:"email",id:"email",value:r,onChange:T=>e(T.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password"}),R.jsx("input",{type:"password",id:"password",value:n,onChange:T=>s(T.target.value),required:!0})]}),R.jsx("button",{type:"submit",className:"login-btn",disabled:f,children:f?"Logging in...":"Log In"})]}),R.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function ax(){const[r,e]=U.useState([]),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(null),[p,y]=U.useState({});U.useEffect(()=>{E()},[]);const E=async()=>{try{const[re,ae]=await Promise.all([cs(ZO(Qn(Wt,"clients"),ex("createdAt","desc"))),cs(Qn(Wt,"sessions"))]),le=re.docs.map(b=>({id:b.id,...b.data()})),C=ae.docs.map(b=>({id:b.id,...b.data()}));e(le),s(C)}catch(re){console.error("Error fetching data:",re)}u(!1)},T=re=>{const ae=new Date,le=ae.toISOString().split("T")[0],C=`${ae.getHours().toString().padStart(2,"0")}:${ae.getMinutes().toString().padStart(2,"0")}`;return n.filter(b=>b.clientId!==re?!1:b.date<le||b.date===le&&b.time<C).length},w=re=>{const ae=T(re.id);return(re.totalSessions||0)-ae},k=re=>n.filter(ae=>ae.clientId===re).length,q=re=>re?(re.toDate?re.toDate():new Date(re)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",G=async(re,ae)=>{if(window.confirm(`Are you sure you want to delete ${ae}?`))try{await Wm(so(Wt,"clients",re)),e(r.filter(le=>le.id!==re))}catch(le){console.error("Error deleting client:",le),alert("Failed to delete client")}},Y=re=>{m(re.id),y({name:re.name,email:re.email,weeksInBlock:re.weeksInBlock,totalSessions:re.totalSessions,sessionsRemaining:re.sessionsRemaining,sessionDuration:re.sessionDuration||45,startDate:re.startDate?.toDate?.().toISOString().split("T")[0]||"",endDate:re.endDate?.toDate?.().toISOString().split("T")[0]||"",status:re.status})},Z=re=>{const{name:ae,value:le}=re.target;if(y(C=>({...C,[ae]:le})),ae==="startDate"||ae==="weeksInBlock"){const C=ae==="startDate"?le:p.startDate,b=parseInt(ae==="weeksInBlock"?le:p.weeksInBlock);if(C&&b>0){const I=new Date(C),V=new Date(I);V.setDate(V.getDate()+b*7),y(O=>({...O,[ae]:le,endDate:V.toISOString().split("T")[0]}))}}},ne=async re=>{try{await vT(so(Wt,"clients",re),{name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate)),status:p.status}),e(r.map(ae=>ae.id===re?{...ae,...p,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate))}:ae)),m(null)}catch(ae){console.error("Error updating client:",ae),alert("Failed to update client")}},oe=async re=>{try{const ae=r.find(le=>le.id===re)?.status==="archived"?"active":"archived";await vT(so(Wt,"clients",re),{status:ae}),e(r.map(le=>le.id===re?{...le,status:ae}:le))}catch(ae){console.error("Error archiving client:",ae),alert("Failed to update client status")}};return o?R.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):r.length===0?R.jsxs("div",{className:"client-list-empty",children:[R.jsx("p",{children:"No clients yet"}),R.jsx("span",{children:"Add your first client to get started"})]}):R.jsx("div",{className:"client-list",children:r.map(re=>R.jsx("div",{className:`client-card ${re.status==="archived"?"archived":""}`,children:f===re.id?R.jsxs("div",{className:"edit-form",children:[R.jsxs("div",{className:"edit-row",children:[R.jsx("input",{type:"text",name:"name",value:p.name,onChange:Z,placeholder:"Name"}),R.jsx("input",{type:"email",name:"email",value:p.email,onChange:Z,placeholder:"Email"})]}),R.jsxs("div",{className:"edit-row",children:[R.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:Z,placeholder:"Weeks",min:"1"}),R.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:Z,placeholder:"Total Sessions",min:"1"}),R.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:Z,children:[R.jsx("option",{value:"30",children:"30 min"}),R.jsx("option",{value:"45",children:"45 min"})]})]}),R.jsxs("div",{className:"edit-row",children:[R.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:Z}),R.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:Z})]}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{className:"save-edit-btn",onClick:()=>ne(re.id),children:"Save"}),R.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"client-header",children:[R.jsxs("div",{className:"client-info",children:[R.jsx("h3",{children:re.name}),R.jsx("span",{className:"client-email",children:re.email})]}),R.jsx("div",{className:"client-status",children:R.jsx("span",{className:`status-badge ${re.status}`,children:re.status})})]}),R.jsxs("div",{className:"client-details",children:[R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-label",children:"Block"}),R.jsxs("span",{className:"detail-value",children:[re.weeksInBlock," weeks"]})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-label",children:"Sessions"}),R.jsxs("span",{className:"detail-value",children:[w(re)," / ",re.totalSessions," remaining"]})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-label",children:"Booked"}),R.jsxs("span",{className:"detail-value",children:[k(re.id)," sessions"]})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-label",children:"Duration"}),R.jsxs("span",{className:"detail-value",children:[re.sessionDuration||45," min"]})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-label",children:"Start"}),R.jsx("span",{className:"detail-value",children:q(re.startDate)})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"detail-label",children:"End"}),R.jsx("span",{className:"detail-value",children:q(re.endDate)})]})]}),R.jsxs("div",{className:"client-actions",children:[R.jsx("button",{className:"action-btn edit",onClick:()=>Y(re),children:"Edit"}),R.jsx("button",{className:"action-btn archive",onClick:()=>oe(re.id),children:re.status==="archived"?"Reactivate":"Archive"}),R.jsx("button",{className:"action-btn delete",onClick:()=>G(re.id,re.name),children:"Delete"})]})]})},re.id))})}const dA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},Zm=["monday","tuesday","wednesday","thursday","friday"],ox=["Monday","Tuesday","Wednesday","Thursday","Friday"],lx=["Mon","Tue","Wed","Thu","Fri"],TT=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},ux=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),Zm.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},Li=r=>r.toISOString().split("T")[0],ep=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},tp=(r,e)=>{const n=ep(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},cx=r=>{const e=dA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=tp(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=tp(s,15)}return n};function hx(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState([]),[E,T]=U.useState(null),[w,k]=U.useState(null),[q,G]=U.useState(!1),[Y,Z]=U.useState(!1),[ne,oe]=U.useState(""),[re,ae]=U.useState(!0);U.useEffect(()=>{s(ux(r))},[r]),U.useEffect(()=>{V()},[]);const le=F=>{if(T(F),G(!1),F.startDate){const se=F.startDate.toDate?F.startDate.toDate():new Date(F.startDate);e(se)}k(null)},C=F=>{const se=new Date,de=Li(se),Ee=`${se.getHours().toString().padStart(2,"0")}:${se.getMinutes().toString().padStart(2,"0")}`;return f.filter(Te=>Te.clientId!==F?!1:Te.date<de||Te.date===de&&Te.time<Ee).length},b=F=>{const se=C(F.id);return(F.totalSessions||0)-se},I=F=>f.filter(se=>se.clientId===F).length,V=async()=>{try{const se=(await cs(Qn(Wt,"clients"))).docs.map($e=>({id:$e.id,...$e.data()})).filter($e=>$e.status==="active");u(se);const Ee=(await cs(Qn(Wt,"sessions"))).docs.map($e=>({id:$e.id,...$e.data()}));m(Ee);const Ie=(await cs(Qn(Wt,"holidays"))).docs.map($e=>({id:$e.id,...$e.data()}));y(Ie)}catch(F){console.error("Error fetching data:",F)}ae(!1)},O=F=>{const se=new Date(r);se.setDate(se.getDate()+F*7),e(se),k(null)},L=()=>{e(new Date),k(null)},D=F=>{const se=Li(F);return p.some(de=>de.date===se)},Ze=F=>{const se=Li(F);return f.filter(de=>de.date===se)},ht=(F,se)=>{const de=Li(F);return f.find(Ee=>Ee.date===de&&Ee.time===se)},$=(F,se,de)=>{const Ee=Zm[F.getDay()-1];if(!Ee||D(F))return!1;const Te=Li(F);if(f.find(tn=>tn.date===Te&&tn.time===se))return!1;const $e=tp(se,de),vt=dA[Ee],st=vt.morning&&$e<=vt.morning.end,jt=vt.afternoon&&$e<=vt.afternoon.end,gt=vt.morning&&se>=vt.morning.start&&se<vt.morning.end,Vn=vt.afternoon&&se>=vt.afternoon.start&&se<vt.afternoon.end;if(gt&&!st||Vn&&!jt)return!1;for(const tn of f){if(tn.date!==Te)continue;const Tn=ep(tn.time),Sn=Tn+(tn.duration||45),ot=ep(se),lt=ot+de;if(ot<Sn&&lt>Tn)return!1}return!0},ue=async(F,se)=>{const de=ht(F,se);if(de){if(window.confirm(`Cancel ${de.clientName}'s session at ${TT(se)}?`))try{await Wm(so(Wt,"sessions",de.id)),m(f.filter(Te=>Te.id!==de.id))}catch(Te){console.error("Error cancelling session:",Te),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!$(F,se,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(f.filter(Te=>Te.clientId===E.id).length>=E.totalSessions){alert(`${E.name} has already booked all ${E.totalSessions} sessions`);return}try{const Te=Li(F),Ie={clientId:E.id,clientName:E.name,date:Te,time:se,duration:E.sessionDuration||45,createdAt:Be.now()},$e=await yh(Qn(Wt,"sessions"),Ie);m([...f,{id:$e.id,...Ie}])}catch(Te){console.error("Error booking session:",Te),alert("Failed to book session")}},ye=async()=>{if(!E)return;const F=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),se=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),de=f.filter(st=>st.clientId!==E.id?!1:n.some(jt=>Li(jt)===st.date));if(de.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const Ee=E.weeksInBlock||Math.ceil((se-F)/(10080*60*1e3)),Te=de.map(st=>({dayOfWeek:new Date(st.date).getDay(),time:st.time}));let Ie=[];const $e=f.filter(st=>st.clientId===E.id).length;for(let st=0;st<Ee;st++){const jt=new Date(F);jt.setDate(jt.getDate()+st*7);const gt=new Date(jt),Vn=gt.getDay(),tn=gt.getDate()-Vn+(Vn===0?-6:1);gt.setDate(tn);for(const Tn of Te){const Sn=new Date(gt),ot=Tn.dayOfWeek===0?6:Tn.dayOfWeek-1;Sn.setDate(gt.getDate()+ot);const lt=Li(Sn);f.some(hn=>hn.clientId===E.id&&hn.date===lt&&hn.time===Tn.time)||Sn<F||Sn>se||p.some(hn=>hn.date===lt)||Ie.push({dateKey:lt,time:Tn.time,sessionDate:Sn})}}const vt=$e+Ie.length;if(vt>E.totalSessions){alert(`This would create ${Ie.length} new sessions (${vt} total), but client only has ${E.totalSessions} sessions in their package.

You can still book ${E.totalSessions-$e} more sessions.`);return}if(Ie.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${Ie.length} new sessions across the block.

(${$e} existing + ${Ie.length} new = ${vt} total)

Continue?`))try{const st=[];for(const jt of Ie){const gt={clientId:E.id,clientName:E.name,date:jt.dateKey,time:jt.time,duration:E.sessionDuration||45,createdAt:Be.now()},Vn=await yh(Qn(Wt,"sessions"),gt);st.push({id:Vn.id,...gt})}m([...f,...st]),alert(`Created ${st.length} new sessions!`)}catch(st){console.error("Error repeating weekly:",st),alert("Failed to repeat sessions")}},xe=async()=>{if(ne)try{const F=await yh(Qn(Wt,"holidays"),{date:ne,createdAt:Be.now()});y([...p,{id:F.id,date:ne}]),oe(""),Z(!1)}catch(F){console.error("Error adding holiday:",F),alert("Failed to add holiday")}},He=async F=>{try{await Wm(so(Wt,"holidays",F)),y(p.filter(se=>se.id!==F))}catch(se){console.error("Error removing holiday:",se)}};if(re)return R.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const x=n[0],W=n[4],he=x&&W?`${x.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${W.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return R.jsxs("div",{className:"calendar",children:[R.jsxs("div",{className:"calendar-header",children:[R.jsxs("div",{className:"calendar-nav",children:[R.jsx("button",{onClick:()=>O(-1),children:""}),R.jsx("button",{onClick:L,children:"Today"}),R.jsx("button",{onClick:()=>O(1),children:""})]}),R.jsx("h3",{children:he}),R.jsx("button",{className:"holiday-btn",onClick:()=>Z(!0),children:"Holidays"})]}),R.jsxs("div",{className:"client-selector",children:[R.jsx("span",{className:"selector-label",children:"Booking for:"}),E?R.jsxs("div",{className:"selected-client",children:[R.jsxs("div",{className:"selected-info",children:[R.jsx("strong",{children:E.name}),R.jsxs("span",{children:[E.sessionDuration||45,"min  ",b(E),"/",E.totalSessions," remaining"]}),R.jsxs("span",{className:"booked-info",children:[I(E.id)," booked"]})]}),R.jsx("button",{onClick:()=>T(null),children:"Change"})]}):R.jsx("button",{className:"select-client-btn",onClick:()=>G(!0),children:"Select Client"})]}),E&&R.jsxs("div",{className:"repeat-weekly-section",children:[R.jsx("button",{className:"repeat-weekly-btn",onClick:ye,children:"Repeat This Week's Schedule For All Weeks"}),R.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),R.jsx("div",{className:"day-cards",children:n.map((F,se)=>{const de=Ze(F),Ee=Li(F)===Li(new Date),Te=D(F);return R.jsxs("div",{className:`day-card ${w===se?"selected":""} ${Ee?"today":""} ${Te?"holiday":""}`,onClick:()=>!Te&&k(w===se?null:se),children:[R.jsxs("div",{className:"day-card-header",children:[R.jsx("span",{className:"day-name",children:lx[se]}),R.jsx("span",{className:"day-date",children:F.getDate()})]}),Te?R.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):R.jsxs("div",{className:"day-card-status",children:[de.length," session",de.length!==1?"s":""]})]},se)})}),w!==null&&n[w]&&!D(n[w])&&R.jsxs("div",{className:"time-panel",children:[R.jsxs("div",{className:"time-panel-header",children:[R.jsxs("h4",{children:[ox[w]," ",n[w].getDate()]}),R.jsx("button",{className:"close-panel",onClick:()=>k(null),children:""})]}),R.jsx("div",{className:"time-slots",children:cx(Zm[w]).map(({time:F,period:se},de,Ee)=>{const Te=ht(n[w],F),Ie=E&&$(n[w],F,E.sessionDuration||45),$e=de===0||Ee[de-1]?.period!==se;return R.jsxs("div",{children:[$e&&R.jsx("div",{className:"period-label",children:se==="morning"?"Morning":"Afternoon"}),R.jsxs("button",{className:`time-slot ${Te?"booked":""} ${Ie?"available":""} ${!Te&&!Ie&&E?"unavailable":""}`,onClick:()=>ue(n[w],F),children:[R.jsx("span",{className:"slot-time",children:TT(F)}),Te?R.jsxs("span",{className:"slot-client",children:[Te.clientName," (",Te.duration,"m)"]}):Ie?R.jsx("span",{className:"slot-available",children:"Available"}):E?R.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):R.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},F)})})]}),q&&R.jsx("div",{className:"modal-overlay",onClick:()=>G(!1),children:R.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h3",{children:"Select Client"}),R.jsx("button",{className:"close-btn",onClick:()=>G(!1),children:""})]}),R.jsx("div",{className:"client-list-picker",children:o.length===0?R.jsx("p",{className:"no-items",children:"No active clients"}):o.map(F=>{const se=F.startDate?.toDate?F.startDate.toDate():new Date(F.startDate),de=F.endDate?.toDate?F.endDate.toDate():new Date(F.endDate),Ee=b(F),Te=I(F.id);return R.jsxs("button",{className:"client-option",onClick:()=>le(F),children:[R.jsx("strong",{children:F.name}),R.jsxs("span",{children:[F.sessionDuration||45,"min  ",Ee,"/",F.totalSessions," remaining  ",Te," booked"]}),R.jsxs("span",{className:"client-dates",children:[se.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",de.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},F.id)})})]})}),Y&&R.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:R.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[R.jsxs("div",{className:"modal-header",children:[R.jsx("h3",{children:"Manage Holidays"}),R.jsx("button",{className:"close-btn",onClick:()=>Z(!1),children:""})]}),R.jsxs("div",{className:"holiday-form",children:[R.jsx("input",{type:"date",value:ne,onChange:F=>oe(F.target.value)}),R.jsx("button",{onClick:xe,children:"Add"})]}),R.jsx("div",{className:"holiday-list",children:p.length===0?R.jsx("p",{className:"no-items",children:"No holidays set"}):p.map(F=>R.jsxs("div",{className:"holiday-item",children:[R.jsx("span",{children:new Date(F.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),R.jsx("button",{onClick:()=>He(F.id),children:"Remove"})]},F.id))})]})})]})}const fx=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},au=r=>r.toISOString().split("T")[0],mA=r=>r===au(new Date),dx=r=>{const e=new Date;return e.setDate(e.getDate()+1),r===au(e)},mx=r=>mA(r)?"Today":dx(r)?"Tomorrow":new Date(r).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),ST=r=>{const e=new Date,n=au(e),s=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(r.date<n)return!0;if(r.date===n){const o=AT(r.time)+(r.duration||45);return AT(s)>=o}return!1},AT=r=>{const[e,n]=r.split(":").map(Number);return e*60+n};function px(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(new Date);U.useEffect(()=>{f();const k=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(k)},[]);const f=async()=>{try{const q=(await cs(Qn(Wt,"sessions"))).docs.map(Z=>({id:Z.id,...Z.data()})),G=au(new Date),Y=q.filter(Z=>Z.date>=G).sort((Z,ne)=>Z.date!==ne.date?Z.date.localeCompare(ne.date):Z.time.localeCompare(ne.time));e(Y)}catch(k){console.error("Error fetching sessions:",k)}s(!1)};if(n)return R.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const m=r.reduce((k,q)=>{const G=q.date;return k[G]||(k[G]=[]),k[G].push(q),k},{}),p=Object.keys(m).sort(),y=au(new Date),E=m[y]||[],T=E.filter(k=>ST(k)).length,w=E.length-T;return R.jsxs("div",{className:"schedule",children:[R.jsxs("div",{className:"today-summary",children:[R.jsx("h3",{children:"Today's Sessions"}),R.jsx("div",{className:"today-count",children:E.length===0?R.jsx("span",{className:"no-sessions",children:"No sessions today"}):R.jsxs("div",{className:"today-stats",children:[R.jsxs("span",{className:"completed-count",children:[T," completed"]}),R.jsxs("span",{className:"remaining-count",children:[w," remaining"]})]})})]}),p.length===0?R.jsx("div",{className:"no-upcoming",children:R.jsx("p",{children:"No upcoming sessions booked"})}):R.jsx("div",{className:"sessions-list",children:p.map(k=>R.jsxs("div",{className:`date-group ${mA(k)?"today":""}`,children:[R.jsxs("div",{className:"date-header",children:[R.jsx("span",{className:"date-label",children:mx(k)}),R.jsxs("span",{className:"date-count",children:[m[k].length," session",m[k].length!==1?"s":""]})]}),R.jsx("div",{className:"date-sessions",children:m[k].map(q=>{const G=ST(q);return R.jsxs("div",{className:`session-card ${G?"completed":""}`,children:[R.jsx("div",{className:"session-time",children:fx(q.time)}),R.jsxs("div",{className:"session-details",children:[R.jsx("strong",{children:q.clientName}),R.jsxs("span",{children:[q.duration,"min session"]})]}),G&&R.jsx("div",{className:"completed-badge",children:""})]},q.id)})})]},k))})]})}const pA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},np=["monday","tuesday","wednesday","thursday","friday"],gx=["Monday","Tuesday","Wednesday","Thursday","Friday"],yx=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},Ll=r=>r.toISOString().split("T")[0],_x=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),np.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},ip=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},rp=(r,e)=>{const n=ip(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},vx=r=>{const e=pA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=rp(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=rp(s,15)}return n};function Ex(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState(!0),[E,T]=U.useState(45);U.useEffect(()=>{s(_x(r))},[r]),U.useEffect(()=>{w()},[]);const w=async()=>{try{const le=(await cs(Qn(Wt,"sessions"))).docs.map(I=>({id:I.id,...I.data()}));u(le);const b=(await cs(Qn(Wt,"holidays"))).docs.map(I=>({id:I.id,...I.data()}));m(b)}catch(ae){console.error("Error fetching data:",ae)}y(!1)},k=ae=>{const le=new Date(r);le.setDate(le.getDate()+ae*7),e(le)},q=()=>{e(new Date)},G=ae=>{const le=Ll(ae);return f.some(C=>C.date===le)},Y=(ae,le)=>{const C=np[ae.getDay()-1];if(!C||G(ae))return!1;const b=Ll(ae),I=new Date,V=Ll(I);if(b<V)return!1;if(b===V){const ue=`${I.getHours().toString().padStart(2,"0")}:${I.getMinutes().toString().padStart(2,"0")}`;if(le<ue)return!1}const O=rp(le,E),L=pA[C],D=L.morning&&le>=L.morning.start&&le<L.morning.end,Ze=L.afternoon&&le>=L.afternoon.start&&le<L.afternoon.end,ht=L.morning&&O<=L.morning.end,$=L.afternoon&&O<=L.afternoon.end;if(D&&!ht||Ze&&!$)return!1;for(const ue of o){if(ue.date!==b)continue;const ye=ip(ue.time),xe=ye+(ue.duration||45),He=ip(le),x=He+E;if(He<xe&&x>ye)return!1}return!0},Z=(ae,le)=>{const C=np[le];return vx(C).filter(I=>Y(ae,I.time))};if(p)return R.jsx("div",{className:"availability-loading",children:"Loading availability..."});const ne=n[0],oe=n[4],re=ne&&oe?`${ne.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${oe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return R.jsxs("div",{className:"availability",children:[R.jsxs("div",{className:"availability-header",children:[R.jsxs("div",{className:"availability-nav",children:[R.jsx("button",{onClick:()=>k(-1),children:""}),R.jsx("button",{onClick:q,children:"Today"}),R.jsx("button",{onClick:()=>k(1),children:""})]}),R.jsx("h3",{children:re}),R.jsxs("div",{className:"duration-selector",children:[R.jsx("label",{children:"Session:"}),R.jsxs("select",{value:E,onChange:ae=>T(Number(ae.target.value)),children:[R.jsx("option",{value:30,children:"30 min"}),R.jsx("option",{value:45,children:"45 min"}),R.jsx("option",{value:60,children:"60 min"})]})]})]}),R.jsx("div",{className:"availability-grid",children:n.map((ae,le)=>{const C=G(ae),b=C?[]:Z(ae,le),I=Ll(ae)===Ll(new Date),V=ae<new Date&&!I;return R.jsxs("div",{className:`day-column ${I?"today":""} ${V?"past":""}`,children:[R.jsxs("div",{className:"day-header",children:[R.jsx("span",{className:"day-name",children:gx[le]}),R.jsxs("span",{className:"day-date",children:[ae.getDate(),"/",ae.getMonth()+1]}),C&&R.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),R.jsx("div",{className:"slots-container",children:C?R.jsx("div",{className:"no-slots",children:"Unavailable"}):b.length===0?R.jsx("div",{className:"no-slots",children:"Fully booked"}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"slots-count",children:[b.length," slots"]}),R.jsx("div",{className:"slots-list",children:b.map(O=>R.jsx("div",{className:`slot ${O.period}`,children:yx(O.time)},O.time))})]})})]},le)})})]})}function Tx(){const[r,e]=U.useState("schedule"),[n,s]=U.useState(0),[o,u]=U.useState(!1),{currentUser:f,logout:m,isAdmin:p,loading:y}=sg(),E=To(),T=U.useRef(0),w=U.useRef(!1);U.useRef(null),U.useEffect(()=>{!y&&(!f||!p)&&E("/")},[f,p,y,E]),U.useEffect(()=>{const Y=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,Z=re=>{Y()<=0&&(T.current=re.touches[0].clientY,w.current=!0)},ne=re=>{if(!w.current)return;const le=re.touches[0].clientY-T.current;le>0&&Y()<=0&&s(Math.min(le*.5,80))},oe=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):s(0),w.current=!1};return document.addEventListener("touchstart",Z,{passive:!0}),document.addEventListener("touchmove",ne,{passive:!0}),document.addEventListener("touchend",oe),()=>{document.removeEventListener("touchstart",Z),document.removeEventListener("touchmove",ne),document.removeEventListener("touchend",oe)}},[n]);const k=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},q=async()=>{try{await m(),E("/")}catch(Y){console.error("Failed to log out:",Y)}},G=()=>{E("/add-client")};return y?R.jsx("div",{className:"loading",children:"Loading..."}):!f||!p?null:R.jsxs("div",{className:"dashboard",children:[n>0&&R.jsxs("div",{className:"pull-indicator",style:{height:n},children:[R.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),R.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),R.jsxs("header",{className:"dashboard-header",children:[R.jsxs("div",{className:"header-left",children:[R.jsx("h1",{children:"Mind Core Fitness"}),R.jsx("span",{className:"admin-badge",children:"Admin"})]}),R.jsxs("nav",{className:"header-nav",children:[R.jsx("button",{className:`nav-btn ${r==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),R.jsx("button",{className:`nav-btn ${r==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),R.jsx("button",{className:`nav-btn ${r==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),R.jsx("button",{className:`nav-btn ${r==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),R.jsxs("div",{className:"header-actions",children:[R.jsx("button",{className:"refresh-btn",onClick:k,disabled:o,children:o?"":""}),R.jsx("button",{className:"logout-btn",onClick:q,children:"Log Out"})]})]}),R.jsxs("main",{className:"dashboard-main",children:[r==="schedule"&&R.jsxs("div",{className:"schedule-view",children:[R.jsx("div",{className:"view-header",children:R.jsx("h2",{children:"Schedule"})}),R.jsx(px,{})]}),r==="clients"&&R.jsxs("div",{className:"clients-view",children:[R.jsxs("div",{className:"view-header",children:[R.jsx("h2",{children:"Clients"}),R.jsx("button",{className:"add-btn",onClick:G,children:"+ Add Client"})]}),R.jsx(ax,{})]}),r==="calendar"&&R.jsxs("div",{className:"calendar-view",children:[R.jsx("div",{className:"view-header",children:R.jsx("h2",{children:"Calendar"})}),R.jsx(hx,{})]}),r==="availability"&&R.jsxs("div",{className:"availability-view",children:[R.jsx("div",{className:"view-header",children:R.jsx("h2",{children:"Available Slots"})}),R.jsx(Ex,{})]})]})]})}function Sx(){const[r,e]=U.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,s]=U.useState(!1),[o,u]=U.useState(""),{currentUser:f,isAdmin:m,loading:p}=sg(),y=To();U.useEffect(()=>{!p&&(!f||!m)&&y("/")},[f,m,p,y]),U.useEffect(()=>{if(r.startDate&&r.weeksInBlock){const k=new Date(r.startDate),q=parseInt(r.weeksInBlock);if(!isNaN(q)&&q>0){const G=new Date(k);G.setDate(G.getDate()+q*7),e(Y=>({...Y,endDate:G.toISOString().split("T")[0]}))}}},[r.startDate,r.weeksInBlock]);const E=k=>{const{name:q,value:G}=k.target;e(Y=>({...Y,[q]:G}))},T=async k=>{k.preventDefault(),u(""),s(!0);try{const q={name:r.name.trim(),email:r.email.trim().toLowerCase(),weeksInBlock:parseInt(r.weeksInBlock),totalSessions:parseInt(r.numberOfSessions),sessionsRemaining:parseInt(r.numberOfSessions),sessionDuration:parseInt(r.sessionDuration),startDate:Be.fromDate(new Date(r.startDate)),endDate:Be.fromDate(new Date(r.endDate)),status:"active",createdAt:Be.now()};await yh(Qn(Wt,"clients"),q),y("/dashboard")}catch(q){console.error("Error adding client:",q),u("Failed to add client. Please try again."),s(!1)}},w=()=>{y("/dashboard")};return p?R.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:R.jsxs("div",{className:"add-client-page",children:[R.jsxs("header",{className:"page-header",children:[R.jsx("button",{className:"back-btn",onClick:w,children:" Back"}),R.jsx("h1",{children:"Add New Client"})]}),R.jsxs("main",{className:"page-content",children:[o&&R.jsx("div",{className:"form-error",children:o}),R.jsxs("form",{onSubmit:T,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"name",children:"Client Name"}),R.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:E,placeholder:"John Smith",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Client Email"}),R.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,placeholder:"john@example.com",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),R.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:r.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),R.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:r.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),R.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:r.sessionDuration,onChange:E,required:!0,children:[R.jsx("option",{value:"30",children:"30 minutes"}),R.jsx("option",{value:"45",children:"45 minutes"})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"startDate",children:"Start Date"}),R.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:E,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),R.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:E,required:!0}),R.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),R.jsxs("div",{className:"form-actions",children:[R.jsx("button",{type:"button",className:"cancel-btn",onClick:w,children:"Cancel"}),R.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function Ax(){const r=To();return U.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function bx(){return R.jsx(rx,{children:R.jsxs(A1,{basename:"/login",children:[R.jsx(Ax,{}),R.jsxs(Zw,{children:[R.jsx(Pl,{path:"/",element:R.jsx(sx,{})}),R.jsx(Pl,{path:"/dashboard",element:R.jsx(Tx,{})}),R.jsx(Pl,{path:"/add-client",element:R.jsx(Sx,{})}),R.jsx(Pl,{path:"*",element:R.jsx(Jw,{to:"/",replace:!0})})]})]})})}tw.createRoot(document.getElementById("root")).render(R.jsx(U.StrictMode,{children:R.jsx(bx,{})}));
