(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var om={exports:{}},Vl={};var Dv;function Jb(){if(Dv)return Vl;Dv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Nv;function Wb(){return Nv||(Nv=1,om.exports=Jb()),om.exports}var A=Wb(),lm={exports:{}},Ce={};var Ov;function Zb(){if(Ov)return Ce;Ov=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function L(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function ee(O,Y,re){this.props=O,this.context=Y,this.refs=H,this.updater=re||j}ee.prototype.isReactComponent={},ee.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ee.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=ee.prototype;function oe(O,Y,re){this.props=O,this.context=Y,this.refs=H,this.updater=re||j}var ve=oe.prototype=new X;ve.constructor=oe,z(ve,ee.prototype),ve.isPureReactComponent=!0;var K=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,Y,re){var ue=re.ref;return{$$typeof:s,type:O,key:Y,ref:ue!==void 0?ue:null,props:re}}function M(O,Y){return R(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return Y[re]})}var D=/\/+/g;function qe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ie,ie):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function J(O,Y,re,ue,de){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var Se=!1;if(O===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(O.$$typeof){case s:case e:Se=!0;break;case E:return Se=O._init,J(Se(O._payload),Y,re,ue,de)}}if(Se)return de=de(O),Se=ue===""?"."+qe(O,0):ue,K(de)?(re="",Se!=null&&(re=Se.replace(D,"$&/")+"/"),J(de,Y,re,"",function(ln){return ln})):de!=null&&(N(de)&&(de=M(de,re+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(D,"$&/")+"/")+Se)),Y.push(de)),1;Se=0;var Ke=ue===""?".":ue+":";if(K(O))for(var Ve=0;Ve<O.length;Ve++)ue=O[Ve],ge=Ke+qe(ue,Ve),Se+=J(ue,Y,re,ge,de);else if(Ve=L(O),typeof Ve=="function")for(O=Ve.call(O),Ve=0;!(ue=O.next()).done;)ue=ue.value,ge=Ke+qe(ue,Ve++),Se+=J(ue,Y,re,ge,de);else if(ge==="object"){if(typeof O.then=="function")return J(rt(O),Y,re,ue,de);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ce(O,Y,re){if(O==null)return O;var ue=[],de=0;return J(O,ue,"","",function(ge){return Y.call(re,ge,de++)}),ue}function _e(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var ae=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},le={map:ce,forEach:function(O,Y,re){ce(O,function(){Y.apply(this,arguments)},re)},count:function(O){var Y=0;return ce(O,function(){Y++}),Y},toArray:function(O){return ce(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=T,Ce.Children=le,Ce.Component=ee,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=oe,Ce.StrictMode=r,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,Y,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=z({},O.props),de=O.key;if(Y!=null)for(ge in Y.key!==void 0&&(de=""+Y.key),Y)!b.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(ue[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)ue.children=re;else if(1<ge){for(var Se=Array(ge),Ke=0;Ke<ge;Ke++)Se[Ke]=arguments[Ke+2];ue.children=Se}return R(O.type,de,ue)},Ce.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,Y,re){var ue,de={},ge=null;if(Y!=null)for(ue in Y.key!==void 0&&(ge=""+Y.key),Y)b.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(de[ue]=Y[ue]);var Se=arguments.length-2;if(Se===1)de.children=re;else if(1<Se){for(var Ke=Array(Se),Ve=0;Ve<Se;Ve++)Ke[Ve]=arguments[Ve+2];de.children=Ke}if(O&&O.defaultProps)for(ue in Se=O.defaultProps,Se)de[ue]===void 0&&(de[ue]=Se[ue]);return R(O,ge,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=N,Ce.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:_e}},Ce.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Ce.startTransition=function(O){var Y=I.T,re={};I.T=re;try{var ue=O(),de=I.S;de!==null&&de(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,ae)}catch(ge){ae(ge)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(O){return I.H.use(O)},Ce.useActionState=function(O,Y,re){return I.H.useActionState(O,Y,re)},Ce.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Ce.useContext=function(O){return I.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Ce.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Ce.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(O,Y,re){return I.H.useImperativeHandle(O,Y,re)},Ce.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Ce.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Ce.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Ce.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Ce.useReducer=function(O,Y,re){return I.H.useReducer(O,Y,re)},Ce.useRef=function(O){return I.H.useRef(O)},Ce.useState=function(O){return I.H.useState(O)},Ce.useSyncExternalStore=function(O,Y,re){return I.H.useSyncExternalStore(O,Y,re)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.4",Ce}var xv;function op(){return xv||(xv=1,lm.exports=Zb()),lm.exports}var P=op(),um={exports:{}},kl={},cm={exports:{}},hm={};var Mv;function ew(){return Mv||(Mv=1,(function(s){function e(J,ce){var _e=J.length;J.push(ce);e:for(;0<_e;){var ae=_e-1>>>1,le=J[ae];if(0<o(le,ce))J[ae]=ce,J[_e]=le,_e=ae;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],_e=J.pop();if(_e!==ce){J[0]=_e;e:for(var ae=0,le=J.length,O=le>>>1;ae<O;){var Y=2*(ae+1)-1,re=J[Y],ue=Y+1,de=J[ue];if(0>o(re,_e))ue<le&&0>o(de,re)?(J[ae]=de,J[ue]=_e,ae=ue):(J[ae]=re,J[Y]=_e,ae=Y);else if(ue<le&&0>o(de,_e))J[ae]=de,J[ue]=_e,ae=ue;else break e}}return ce}function o(J,ce){var _e=J.sortIndex-ce.sortIndex;return _e!==0?_e:J.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,C=3,L=!1,j=!1,z=!1,H=!1,ee=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ve(J){for(var ce=n(y);ce!==null;){if(ce.callback===null)r(y);else if(ce.startTime<=J)r(y),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(y)}}function K(J){if(z=!1,ve(J),!j)if(n(p)!==null)j=!0,ie||(ie=!0,V());else{var ce=n(y);ce!==null&&rt(K,ce.startTime-J)}}var ie=!1,I=-1,b=5,R=-1;function M(){return H?!0:!(s.unstable_now()-R<b)}function N(){if(H=!1,ie){var J=s.unstable_now();R=J;var ce=!0;try{e:{j=!1,z&&(z=!1,X(I),I=-1),L=!0;var _e=C;try{t:{for(ve(J),T=n(p);T!==null&&!(T.expirationTime>J&&M());){var ae=T.callback;if(typeof ae=="function"){T.callback=null,C=T.priorityLevel;var le=ae(T.expirationTime<=J);if(J=s.unstable_now(),typeof le=="function"){T.callback=le,ve(J),ce=!0;break t}T===n(p)&&r(p),ve(J)}else r(p);T=n(p)}if(T!==null)ce=!0;else{var O=n(y);O!==null&&rt(K,O.startTime-J),ce=!1}}break e}finally{T=null,C=_e,L=!1}ce=void 0}}finally{ce?V():ie=!1}}}var V;if(typeof oe=="function")V=function(){oe(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,qe=D.port2;D.port1.onmessage=N,V=function(){qe.postMessage(null)}}else V=function(){ee(N,0)};function rt(J,ce){I=ee(function(){J(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(J){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var _e=C;C=ce;try{return J()}finally{C=_e}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=C;C=J;try{return ce()}finally{C=_e}},s.unstable_scheduleCallback=function(J,ce,_e){var ae=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ae+_e:ae):_e=ae,J){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=_e+le,J={id:E++,callback:ce,priorityLevel:J,startTime:_e,expirationTime:le,sortIndex:-1},_e>ae?(J.sortIndex=_e,e(y,J),n(p)===null&&J===n(y)&&(z?(X(I),I=-1):z=!0,rt(K,_e-ae))):(J.sortIndex=le,e(p,J),j||L||(j=!0,ie||(ie=!0,V()))),J},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(J){var ce=C;return function(){var _e=C;C=ce;try{return J.apply(this,arguments)}finally{C=_e}}}})(hm)),hm}var Vv;function tw(){return Vv||(Vv=1,cm.exports=ew()),cm.exports}var fm={exports:{}},Xt={};var kv;function nw(){if(kv)return Xt;kv=1;var s=op();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Xt.flushSync=function(p){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=E,r.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:L}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:C,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var Lv;function iw(){if(Lv)return fm.exports;Lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),fm.exports=nw(),fm.exports}var Pv;function sw(){if(Pv)return kl;Pv=1;var s=tw(),e=op(),n=iw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case ee:return"Profiler";case H:return"StrictMode";case K:return"Suspense";case ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case oe:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var rt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ae=[],le=-1;function O(t){return{current:t}}function Y(t){0>le||(t.current=ae[le],ae[le]=null,le--)}function re(t,i){le++,ae[le]=t.current,t.current=i}var ue=O(null),de=O(null),ge=O(null),Se=O(null);function Ke(t,i){switch(re(ge,i),re(de,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?W_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=W_(i),t=Z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),re(ue,t)}function Ve(){Y(ue),Y(de),Y(ge)}function ln(t){t.memoizedState!==null&&re(Se,t);var i=ue.current,a=Z_(i,t.type);i!==a&&(re(de,t),re(ue,a))}function nn(t){de.current===t&&(Y(ue),Y(de)),Se.current===t&&(Y(Se),Nl._currentValue=_e)}var un,cn;function sn(t){if(un===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);un=i&&i[1]||"",cn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+t+cn}var Yn=!1;function En(t,i){if(!t||Yn)return"";Yn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){G=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var x=_.split(`
`),F=S.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===F.length)for(l=x.length-1,h=F.length-1;1<=l&&0<=h&&x[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==F[h]){var W=`
`+x[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Yn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?sn(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return t.child!==i&&i!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return En(t.type,!1);case 11:return En(t.type.render,!1);case 1:return En(t.type,!0);case 31:return sn("Activity");default:return""}}function xo(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,xt=s.unstable_scheduleCallback,_s=s.unstable_cancelCallback,uf=s.unstable_shouldYield,Su=s.unstable_requestPaint,rn=s.unstable_now,Er=s.unstable_getCurrentPriorityLevel,Mo=s.unstable_ImmediatePriority,Vo=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,cf=s.unstable_LowPriority,Au=s.unstable_IdlePriority,bu=s.log,wu=s.unstable_setDisableYieldValue,$n=null,Bt=null;function xn(t){if(typeof bu=="function"&&wu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode($n,t)}catch{}}var pt=Math.clz32?Math.clz32:Cu,Ru=Math.log,ca=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(Ru(t)/ca|0)|0}var mi=256,Tr=262144,Tt=4194304;function pi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=pi(l):(_&=S,_!==0?h=pi(_):a||(a=S&~t,a!==0&&(h=pi(a))))):(S=l&~d,S!==0?h=pi(S):_!==0?h=pi(_):a||(a=l&~t,a!==0&&(h=pi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function yi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Sr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ff(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,x=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-pt(a),te=1<<W;S[W]=0,x[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var Q=G[W];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&Ar(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ar(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:br(a),(a&(t.suspendedLanes|i))!==0?0:a}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Sv(t.type))}function Xn(t,i){var a=ce.p;try{return ce.p=t,i()}finally{ce.p=a}}var Jn=Math.random().toString(36).slice(2),St="__reactFiber$"+Jn,Pt="__reactProps$"+Jn,_i="__reactContainer$"+Jn,ha="__reactEvents$"+Jn,df="__reactListeners$"+Jn,Nu="__reactHandles$"+Jn,Ou="__reactResources$"+Jn,vi="__reactMarker$"+Jn;function fa(t){delete t[St],delete t[Pt],delete t[ha],delete t[df],delete t[Nu]}function Ei(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=av(t);t!==null;){if(a=t[St])return a;t=av(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[St]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ti(t){var i=t[Ou];return i||(i=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[vi]=!0}var Po=new Set,Uo={};function Si(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(Uo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function xu(t){return Et.call(Bo,t)?!0:Et.call(zo,t)?!1:jo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function da(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Es(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function wr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Es(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function hn(t){return t.replace(Rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Ut(i)):a!=null?qo(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ut(S):t.removeAttribute("name")}function Mu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function qo(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ts(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Vu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function Ss(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(rt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Ko=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bs=null,wi=null;function Cr(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(r(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wr(l)}break e;case"textarea":Vu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ts(t,!!a.multiple,i,!1)}}}var ya=!1;function ws(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(bs!==null||wi!==null)&&(Dc(),bs&&(i=bs,t=wi,wi=bs=null,Cr(i),t)))for(i=0;i<t.length;i++)Cr(t[i])}}function Zn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ir=!1}var Ri=null,Yo=null,Dr=null;function $o(){if(Dr)return Dr;var t,i=Yo,a=i.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Dr=h.slice(t,1<l?1-l:void 0)}function Nr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ei(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ei,this.isPropagationStopped=ei,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ht(Ki),Rs=T({},Ki,{view:0,detail:0}),Qo=Ht(Rs),Cs,_a,Ii,va=T({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Cs=t.screenX-Ii.screenX,_a=t.screenY-Ii.screenY):_a=Cs=0,Ii=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Xo=Ht(va),Or=T({},va,{dataTransfer:0}),Pu=Ht(Or),Uu=T({},Rs,{relatedTarget:0}),xr=Ht(Uu),Jo=T({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Ht(Jo),Ea=T({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=Ht(Ea),Bu=T({},Ki,{data:0}),Di=Ht(Bu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Is(){return Gu}var an=T({},Rs,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=Ht(an),Yu=T({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ht(Yu),c=T({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),g=Ht(c),v=T({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(v),B=T({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ht(B),he=T({},Ki,{newState:0,oldState:0}),De=Ht(he),gt=[9,13,27,32],Ye=kn&&"CompositionEvent"in window,ut=null;kn&&"documentMode"in document&&(ut=document.documentMode);var Ln=kn&&"TextEvent"in window&&!ut,Ni=kn&&(!Ye||ut&&8<ut&&11>=ut),ti=" ",ni=!1;function Mr(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function TA(t,i){switch(t){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(ni=!0,ti);case"textInput":return t=i.data,t===ti&&ni?null:t;default:return null}}function SA(t,i){if(Sa)return t==="compositionend"||!Ye&&Mr(t,i)?(t=$o(),Dr=Yo=Ri=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var AA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AA[t.type]:i==="textarea"}function cg(t,i,a,l){bs?wi?wi.push(l):wi=[l]:bs=l,i=Lc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Zo=null;function bA(t){K_(t,0)}function $u(t){var i=Tn(t);if(wr(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(kn){var mf;if(kn){var pf="oninput"in document;if(!pf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),pf=typeof dg.oninput=="function"}mf=pf}else mf=!1;fg=mf&&(!document.documentMode||9<document.documentMode)}function mg(){Wo&&(Wo.detachEvent("onpropertychange",pg),Zo=Wo=null)}function pg(t){if(t.propertyName==="value"&&$u(Zo)){var i=[];cg(i,Zo,t,Vn(t)),ws(bA,i)}}function wA(t,i,a){t==="focusin"?(mg(),Wo=i,Zo=a,Wo.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function RA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Zo)}function CA(t,i){if(t==="click")return $u(i)}function IA(t,i){if(t==="input"||t==="change")return $u(i)}function DA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:DA;function el(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!An(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NA=kn&&"documentMode"in document&&11>=document.documentMode,Aa=null,yf=null,tl=null,_f=!1;function Eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Aa==null||Aa!==bi(l)||(l=Aa,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Lc(yf,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Vr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},vf={},Tg={};kn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function kr(t){if(vf[t])return vf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return vf[t]=i[a];return t}var Sg=kr("animationend"),Ag=kr("animationiteration"),bg=kr("animationstart"),OA=kr("transitionrun"),xA=kr("transitionstart"),MA=kr("transitioncancel"),wg=kr("transitionend"),Rg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function ii(t,i){Rg.set(t,i),Si(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],wa=0,Tf=0;function Xu(){for(var t=wa,i=Tf=wa=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Cg(a,h,d)}}function Ju(t,i,a,l){Pn[wa++]=t,Pn[wa++]=i,Pn[wa++]=a,Pn[wa++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,i,a,l){return Ju(t,i,a,l),Wu(t)}function Lr(t,i){return Ju(t,null,null,i),Wu(t)}function Cg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<Al)throw Al=0,Od=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function VA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new VA(t,i,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Af(t)&&(_=1);else if(typeof t=="string")_=jb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,i,h),t.elementType=R,t.lanes=d,t;case z:return Pr(a.children,h,d,i);case H:_=8,h|=24;break;case ee:return t=bn(12,a,i,h|2),t.elementType=ee,t.lanes=d,t;case K:return t=bn(13,a,i,h),t.elementType=K,t.lanes=d,t;case ie:return t=bn(19,a,i,h),t.elementType=ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case X:_=9;break e;case ve:_=11;break e;case I:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Pr(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function bf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Dg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ng=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=Ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:xo(i)},Ng.set(t,i),i)}return{value:t,source:i,stack:xo(i)}}var Ca=[],Ia=0,ec=null,nl=0,jn=[],zn=0,Ds=null,Oi=1,xi="";function Qi(t,i){Ca[Ia++]=nl,Ca[Ia++]=ec,ec=t,nl=i}function Og(t,i,a){jn[zn++]=Oi,jn[zn++]=xi,jn[zn++]=Ds,Ds=t;var l=Oi;t=xi;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-pt(i)+h|a<<h|l,xi=d+t}else Oi=1<<d|a<<h|l,xi=t}function Rf(t){t.return!==null&&(Qi(t,1),Og(t,1,0))}function Cf(t){for(;t===ec;)ec=Ca[--Ia],Ca[Ia]=null,nl=Ca[--Ia],Ca[Ia]=null;for(;t===Ds;)Ds=jn[--zn],jn[zn]=null,xi=jn[--zn],jn[zn]=null,Oi=jn[--zn],jn[zn]=null}function xg(t,i){jn[zn++]=Oi,jn[zn++]=xi,jn[zn++]=Ds,Oi=i.id,xi=i.overflow,Ds=t}var qt=null,at=null,ze=!1,Ns=null,Bn=!1,If=Error(r(519));function Os(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Un(i,t)),If}function Mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Pt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Me(wl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ss(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||X_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Wn),i=!0):i=!1,i||Os(t,!0)}function Vg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:qt=qt.return}}function Da(t){if(t!==qt)return!1;if(!ze)return Vg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&at&&Os(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=rv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=rv(t)}else i===27?(i=at,Gs(t.type)?(t=Jd,Jd=null,at=t):at=i):at=qt?qn(t.stateNode.nextSibling):null;return!0}function Ur(){at=qt=null,ze=!1}function Df(){var t=Ns;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ns=null),t}function il(t){Ns===null?Ns=[t]:Ns.push(t)}var Nf=O(null),jr=null,Xi=null;function xs(t,i,a){re(Nf,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Nf.current,Y(Nf)}function Of(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function xf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var x=0;x<i.length;x++)if(S.context===i[x]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Of(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Of(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=h.type;An(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&xf(i,t,a,l),i.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){jr=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return kg(jr,t)}function nc(t,i){return jr===null&&zr(t),kg(t,i)}function kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(r(308));Xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xi=Xi.next=i;return a}var kA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},LA=s.unstable_scheduleCallback,PA=s.unstable_NormalPriority,wt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new kA,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&LA(PA,function(){t.controller.abort()})}var rl=null,Vf=0,Oa=0,xa=null;function UA(t,i){if(rl===null){var a=rl=[];Vf=0,Oa=Pd(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Lg,Lg),i}function Lg(){if(--Vf===0&&rl!==null){xa!==null&&(xa.status="fulfilled");var t=rl;rl=null,Oa=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=J.S;J.S=function(t,i){E_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&UA(t,i),Pg!==null&&Pg(t,i)};var Br=O(null);function kf(){var t=Br.current;return t!==null?t:it.pooledCache}function ic(t,i){i===null?re(Br,Br.current):re(Br,i.pool)}function Ug(){var t=kf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ma=Error(r(460)),Lf=Error(r(474)),sc=Error(r(542)),rc={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Wn,Wn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hg(t),t;default:if(typeof i.status=="string")i.then(Wn,Wn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hg(t),t}throw qr=i,Ma}}function Hr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Ma):a}}var qr=null;function Bg(){if(qr===null)throw Error(r(459));var t=qr;return qr=null,t}function Hg(t){if(t===Ma||t===sc)throw Error(r(483))}var Va=null,al=0;function ac(t){var i=al;return al+=1,Va===null&&(Va=[]),zg(Va,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function oc(t,i){throw i.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qg(t){function i(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=$i(U,k),U.index=0,U.sibling=null,U}function d(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,k,q,Z){return k===null||k.tag!==6?(k=bf(q,U.mode,Z),k.return=U,k):(k=h(k,q),k.return=U,k)}function x(U,k,q,Z){var Ee=q.type;return Ee===z?W(U,k,q.props.children,Z,q.key):k!==null&&(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Hr(Ee)===k.type)?(k=h(k,q.props),ol(k,q),k.return=U,k):(k=Zu(q.type,q.key,q.props,null,U.mode,Z),ol(k,q),k.return=U,k)}function F(U,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=wf(q,U.mode,Z),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function W(U,k,q,Z,Ee){return k===null||k.tag!==7?(k=Pr(q,U.mode,Z,Ee),k.return=U,k):(k=h(k,q),k.return=U,k)}function te(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=bf(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return q=Zu(k.type,k.key,k.props,null,U.mode,q),ol(q,k),q.return=U,q;case j:return k=wf(k,U.mode,q),k.return=U,k;case b:return k=Hr(k),te(U,k,q)}if(rt(k)||V(k))return k=Pr(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return te(U,ac(k),q);if(k.$$typeof===oe)return te(U,nc(U,k),q);oc(U,k)}return null}function G(U,k,q,Z){var Ee=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ee!==null?null:S(U,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===Ee?x(U,k,q,Z):null;case j:return q.key===Ee?F(U,k,q,Z):null;case b:return q=Hr(q),G(U,k,q,Z)}if(rt(q)||V(q))return Ee!==null?null:W(U,k,q,Z,null);if(typeof q.then=="function")return G(U,k,ac(q),Z);if(q.$$typeof===oe)return G(U,k,nc(U,q),Z);oc(U,q)}return null}function Q(U,k,q,Z,Ee){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,S(k,U,""+Z,Ee);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return U=U.get(Z.key===null?q:Z.key)||null,x(k,U,Z,Ee);case j:return U=U.get(Z.key===null?q:Z.key)||null,F(k,U,Z,Ee);case b:return Z=Hr(Z),Q(U,k,q,Z,Ee)}if(rt(Z)||V(Z))return U=U.get(q)||null,W(k,U,Z,Ee,null);if(typeof Z.then=="function")return Q(U,k,q,ac(Z),Ee);if(Z.$$typeof===oe)return Q(U,k,q,nc(k,Z),Ee);oc(k,Z)}return null}function pe(U,k,q,Z){for(var Ee=null,Fe=null,ye=k,Oe=k=0,Le=null;ye!==null&&Oe<q.length;Oe++){ye.index>Oe?(Le=ye,ye=null):Le=ye.sibling;var Ge=G(U,ye,q[Oe],Z);if(Ge===null){ye===null&&(ye=Le);break}t&&ye&&Ge.alternate===null&&i(U,ye),k=d(Ge,k,Oe),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge,ye=Le}if(Oe===q.length)return a(U,ye),ze&&Qi(U,Oe),Ee;if(ye===null){for(;Oe<q.length;Oe++)ye=te(U,q[Oe],Z),ye!==null&&(k=d(ye,k,Oe),Fe===null?Ee=ye:Fe.sibling=ye,Fe=ye);return ze&&Qi(U,Oe),Ee}for(ye=l(ye);Oe<q.length;Oe++)Le=Q(ye,U,Oe,q[Oe],Z),Le!==null&&(t&&Le.alternate!==null&&ye.delete(Le.key===null?Oe:Le.key),k=d(Le,k,Oe),Fe===null?Ee=Le:Fe.sibling=Le,Fe=Le);return t&&ye.forEach(function(Xs){return i(U,Xs)}),ze&&Qi(U,Oe),Ee}function Ae(U,k,q,Z){if(q==null)throw Error(r(151));for(var Ee=null,Fe=null,ye=k,Oe=k=0,Le=null,Ge=q.next();ye!==null&&!Ge.done;Oe++,Ge=q.next()){ye.index>Oe?(Le=ye,ye=null):Le=ye.sibling;var Xs=G(U,ye,Ge.value,Z);if(Xs===null){ye===null&&(ye=Le);break}t&&ye&&Xs.alternate===null&&i(U,ye),k=d(Xs,k,Oe),Fe===null?Ee=Xs:Fe.sibling=Xs,Fe=Xs,ye=Le}if(Ge.done)return a(U,ye),ze&&Qi(U,Oe),Ee;if(ye===null){for(;!Ge.done;Oe++,Ge=q.next())Ge=te(U,Ge.value,Z),Ge!==null&&(k=d(Ge,k,Oe),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Qi(U,Oe),Ee}for(ye=l(ye);!Ge.done;Oe++,Ge=q.next())Ge=Q(ye,U,Oe,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&ye.delete(Ge.key===null?Oe:Ge.key),k=d(Ge,k,Oe),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ye.forEach(function(Xb){return i(U,Xb)}),ze&&Qi(U,Oe),Ee}function nt(U,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var Ee=q.key;k!==null;){if(k.key===Ee){if(Ee=q.type,Ee===z){if(k.tag===7){a(U,k.sibling),Z=h(k,q.props.children),Z.return=U,U=Z;break e}}else if(k.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&Hr(Ee)===k.type){a(U,k.sibling),Z=h(k,q.props),ol(Z,q),Z.return=U,U=Z;break e}a(U,k);break}else i(U,k);k=k.sibling}q.type===z?(Z=Pr(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=Zu(q.type,q.key,q.props,null,U.mode,Z),ol(Z,q),Z.return=U,U=Z)}return _(U);case j:e:{for(Ee=q.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),Z=h(k,q.children||[]),Z.return=U,U=Z;break e}else{a(U,k);break}else i(U,k);k=k.sibling}Z=wf(q,U.mode,Z),Z.return=U,U=Z}return _(U);case b:return q=Hr(q),nt(U,k,q,Z)}if(rt(q))return pe(U,k,q,Z);if(V(q)){if(Ee=V(q),typeof Ee!="function")throw Error(r(150));return q=Ee.call(q),Ae(U,k,q,Z)}if(typeof q.then=="function")return nt(U,k,ac(q),Z);if(q.$$typeof===oe)return nt(U,k,nc(U,q),Z);oc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),Z=h(k,q),Z.return=U,U=Z):(a(U,k),Z=bf(q,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,k)}return function(U,k,q,Z){try{al=0;var Ee=nt(U,k,q,Z);return Va=null,Ee}catch(ye){if(ye===Ma||ye===sc)throw ye;var Fe=bn(29,ye,null,U.mode);return Fe.lanes=Z,Fe.return=U,Fe}}}var Fr=qg(!0),Fg=qg(!1),Ms=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(t),Cg(t,null,a),i}return Ju(t,l,i,a),Wu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function ul(){if(zf){var t=xa;if(t!==null)throw t}}function cl(t,i,a,l){zf=!1;var h=t.updateQueue;Ms=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,F=x.next;x.next=null,_===null?d=F:_.next=F,_=x;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=F:S.next=F,W.lastBaseUpdate=x))}if(d!==null){var te=h.baseState;_=0,W=F=x=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(ke&G)===G:(l&G)===G){G!==0&&G===Oa&&(zf=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,Ae=S;G=i;var nt=a;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){te=pe.call(nt,te,G);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,G=typeof pe=="function"?pe.call(nt,te,G):pe,G==null)break e;te=T({},te,G);break e;case 2:Ms=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(F=W=Q,x=te):W=W.next=Q,_|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);W===null&&(x=te),h.baseState=x,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),zs|=_,t.lanes=_,t.memoizedState=te}}function Gg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Kg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],i)}var ka=O(null),lc=O(0);function Yg(t,i){t=as,re(lc,t),re(ka,i),as=t|i.baseLanes}function Bf(){re(lc,as),re(ka,ka.current)}function Hf(){as=lc.current,Y(ka),Y(lc)}var wn=O(null),Hn=null;function Ls(t){var i=t.alternate;re(yt,yt.current&1),re(wn,t),Hn===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(Hn=t)}function qf(t){re(yt,yt.current),re(wn,t),Hn===null&&(Hn=t)}function $g(t){t.tag===22?(re(yt,yt.current),re(wn,t),Hn===null&&(Hn=t)):Ps()}function Ps(){re(yt,yt.current),re(wn,wn.current)}function Rn(t){Y(wn),Hn===t&&(Hn=null),Y(yt)}var yt=O(0);function uc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,Ne=null,et=null,Rt=null,cc=!1,La=!1,Gr=!1,hc=0,hl=0,Pa=null,zA=0;function dt(){throw Error(r(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return Wi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?Oy:ad,Gr=!1,d=a(l,h),Gr=!1,La&&(d=Xg(i,a,l,h)),Qg(t),d}function Qg(t){J.H=ml;var i=et!==null&&et.next!==null;if(Wi=0,Rt=et=Ne=null,cc=!1,hl=0,Pa=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&tc(t)&&(Ct=!0))}function Xg(t,i,a,l){Ne=t;var h=0;do{if(La&&(Pa=null),hl=0,La=!1,25<=h)throw Error(r(301));if(h+=1,Rt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=xy,d=i(a,l)}while(La);return d}function BA(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Kf(){var t=hc!==0;return hc=0,t}function Yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function $f(t){if(cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}cc=!1}Wi=0,Rt=et=Ne=null,La=!1,hl=hc=0,Pa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(et===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Ne.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Pa===null&&(Pa=[]),t=zg(Pa,t,i),i=Ne,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Oy:ad),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===oe)return Ft(t)}throw Error(r(438,String(t)))}function Qf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function mc(t){var i=_t();return Xf(i,et,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,x=null,F=i,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(ke&te)===te:(Wi&te)===te){var G=F.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Oa&&(W=!0);else if((Wi&G)===G){F=F.next,G===Oa&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=te,_=d):x=x.next=te,Ne.lanes|=G,zs|=G;te=F.action,Gr&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(S=x=G,_=d):x=x.next=G,Ne.lanes|=te,zs|=te;F=F.next}while(F!==null&&F!==i);if(x===null?_=d:x.next=S,!An(d,t.memoizedState)&&(Ct=!0,W&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);An(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Jg(t,i,a){var l=Ne,h=_t(),d=ze;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!An((et||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,ed(ey.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Zg.bind(null,l,h,a,i),null),it===null)throw Error(r(349));d||(Wi&127)!==0||Wg(l,i,a)}return a}function Wg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=fc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zg(t,i,a,l){i.value=a,i.getSnapshot=l,ty(i)&&ny(t)}function ey(t,i,a){return a(function(){ty(i)&&ny(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function ny(t){var i=Lr(t,2);i!==null&&yn(i,t,2)}function Wf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Gr){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function iy(t,i,a,l){return t.baseState=a,Xf(t,et,typeof l=="function"?l:Zi)}function HA(t,i,a,l,h){if(yc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,sy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function sy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=J.T,_={};J.T=_;try{var S=a(h,l),x=J.S;x!==null&&x(_,S),ry(t,i,S)}catch(F){Zf(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(h,l),ry(t,i,d)}catch(F){Zf(t,i,F)}}function ry(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ay(t,i,l)},function(l){return Zf(t,i,l)}):ay(t,i,a)}function ay(t,i,a){i.status="fulfilled",i.value=a,oy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,sy(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,oy(i),i=i.next;while(i!==l)}t.action=null}function oy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ly(t,i){return i}function uy(t,i){if(ze){var a=it.formState;if(a!==null){e:{var l=Ne;if(ze){if(at){t:{for(var h=at,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=qn(h.nextSibling),l=h.data==="F!";break e}}Os(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:i},a.queue=l,a=Iy.bind(null,Ne,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Ne,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=HA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function cy(t){var i=_t();return hy(i,et,t)}function hy(t,i,a){if(i=Xf(t,i,ly)[0],t=mc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===Ma?sc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ua(9,{destroy:void 0},qA.bind(null,h,a),null)),[l,d,t]}function qA(t,i){t.action=i}function fy(t){var i=_t(),a=et;if(a!==null)return hy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=fc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function dy(){return _t().memoizedState}function pc(t,i,a,l){var h=on();Ne.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function gc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&Ff(l,et.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Ne.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function my(t,i){pc(8390656,8,t,i)}function ed(t,i){gc(2048,8,t,i)}function FA(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=fc(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function py(t){var i=_t().memoizedState;return FA({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function gy(t,i){return gc(4,2,t,i)}function yy(t,i){return gc(4,4,t,i)}function _y(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,a){a=a!=null?a.concat([t]):null,gc(4,4,_y.bind(null,i,t),a)}function td(){}function Ey(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ty(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Gr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(Wi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=S_(),Ne.lanes|=t,zs|=t,a)}function Sy(t,i,a,l){return An(a,i)?a:ka.current!==null?(t=nd(t,a,l),An(t,i)||(Ct=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(ke&261930)===0?(Ct=!0,t.memoizedState=a):(t=S_(),Ne.lanes|=t,zs|=t,i)}function Ay(t,i,a,l,h){var d=ce.p;ce.p=d!==0&&8>d?d:8;var _=J.T,S={};J.T=S,rd(t,!1,i,a);try{var x=h(),F=J.S;if(F!==null&&F(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=jA(x,l);dl(t,i,W,Dn(t))}else dl(t,i,l,Dn(t))}catch(te){dl(t,i,{then:function(){},status:"rejected",reason:te},Dn())}finally{ce.p=d,_!==null&&S.types!==null&&(_.types=S.types),J.T=_}}function GA(){}function id(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=by(t).queue;Ay(t,h,i,_e,a===null?GA:function(){return wy(t),a(l)})}function by(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wy(t){var i=by(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},Dn())}function sd(){return Ft(Nl)}function Ry(){return _t().memoizedState}function Cy(){return _t().memoizedState}function KA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Vs(a);var l=ks(i,t,a);l!==null&&(yn(l,i,a),ll(l,i,a)),i={cache:Mf()},t.payload=i;return}i=i.return}}function YA(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?Dy(i,a):(a=Sf(t,i,a,l),a!==null&&(yn(a,t,l),Ny(a,i,l)))}function Iy(t,i,a){var l=Dn();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))Dy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,An(S,_))return Ju(t,i,h,0),it===null&&Xu(),!1}catch{}if(a=Sf(t,i,h,l),a!==null)return yn(a,t,l),Ny(a,i,l),!0}return!1}function rd(t,i,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(i)throw Error(r(479))}else i=Sf(t,a,l,2),i!==null&&yn(i,t,2)}function yc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function Dy(t,i){La=cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ny(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var ml={readContext:Ft,use:dc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ml.useEffectEvent=dt;var Oy={readContext:Ft,use:dc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:my,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pc(4194308,4,_y.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pc(4194308,4,t,i)},useInsertionEffect:function(t,i){pc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Gr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Gr){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=YA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=Iy.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=on();return nd(a,t,i)},useTransition:function(){var t=Wf(!1);return t=Ay.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=on();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(ke&127)!==0||Wg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,my(ey.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},Zg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(ze){var a=xi,l=Oi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:sd,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return on().memoizedState=KA.bind(null,Ne)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:Ft,use:dc,useCallback:Ey,useContext:Ft,useEffect:ed,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:mc,useRef:dy,useState:function(){return mc(Zi)},useDebugValue:td,useDeferredValue:function(t,i){var a=_t();return Sy(a,et.memoizedState,t,i)},useTransition:function(){var t=mc(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:sd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=_t();return iy(a,et,t,i)},useMemoCache:Qf,useCacheRefresh:Cy};ad.useEffectEvent=py;var xy={readContext:Ft,use:dc,useCallback:Ey,useContext:Ft,useEffect:ed,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:Jf,useRef:dy,useState:function(){return Jf(Zi)},useDebugValue:td,useDeferredValue:function(t,i){var a=_t();return et===null?nd(a,t,i):Sy(a,et.memoizedState,t,i)},useTransition:function(){var t=Jf(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:sd,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=_t();return et!==null?iy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Cy};xy.useEffectEvent=py;function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=Vs(l);h.payload=i,a!=null&&(h.callback=a),i=ks(t,h,l),i!==null&&(yn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=Vs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ks(t,h,l),i!==null&&(yn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Vs(a);l.tag=2,i!=null&&(l.callback=i),i=ks(t,l,a),i!==null&&(yn(i,t,a),ll(i,t,a))}};function My(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Kr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ky(t){Qu(t)}function Ly(t){console.error(t)}function Py(t){Qu(t)}function _c(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Vs(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(t,i)},a}function jy(t){return t=Vs(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $A(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Nc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(r(435,a.tag))}return Vd(t,l,h),Nc(),!1}if(ze)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==If&&(t=Error(r(422),{cause:l}),il(Un(t,a)))):(l!==If&&(i=Error(r(423),{cause:l}),il(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=ud(t.stateNode,l,h),jf(t,h),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),Sl===null?Sl=[d]:Sl.push(d),mt!==4&&(mt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bs===null||!Bs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var cd=Error(r(461)),Ct=!1;function Gt(t,i,a,l){i.child=t===null?Fg(i,null,a,l):Fr(i,t.child,a,l)}function By(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return zr(i),l=Gf(t,i,a,_,d,h),S=Kf(),t!==null&&!Ct?(Yf(t,i,h),es(t,i,h)):(ze&&S&&Rf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Hy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qy(t,i,d,l,h)):(t=Zu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return es(t,i,h)}return i.flags|=1,t=$i(d,l),t.ref=i.ref,t.return=i,i.child=t}function qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,es(t,i,h)}return hd(t,i,a,l,h)}function Fy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Gy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,d!==null?d.cachePool:null),d!==null?Yg(i,d):Bf(),$g(i);else return l=i.lanes=536870912,Gy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ic(i,d.cachePool),Yg(i,d),Ps(),i.memoizedState=null):(t!==null&&ic(i,null),Bf(),Ps());return Gt(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gy(t,i,a,l,h){var d=kf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ic(i,null),Bf(),$g(i),t!==null&&Na(t,i,l,!0),i.childLanes=h,null}function vc(t,i){return i=Tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ky(t,i,a){return Fr(i,t.child,null,a),t=vc(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function QA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=vc(i,l),i.lanes=536870912,pl(null,t);if(qf(i),(t=at)?(t=sv(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=i,i.child=a,qt=i,at=null)):t=null,t===null)throw Os(i);return i.lanes=536870912,null}return vc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=Ky(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||Na(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=it,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Lr(t,_),yn(l,t,_),cd;Nc(),i=Ky(t,i,a)}else t=d.treeContext,at=qn(_.nextSibling),qt=i,ze=!0,Ns=null,Bn=!1,t!==null&&xg(i,t),i=vc(i,l),i.flags|=4096;return i}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hd(t,i,a,l,h){return zr(i),a=Gf(t,i,a,l,void 0,h),l=Kf(),t!==null&&!Ct?(Yf(t,i,h),es(t,i,h)):(ze&&l&&Rf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Yy(t,i,a,l,h,d){return zr(i),i.updateQueue=null,a=Xg(i,l,a,h),Qg(t),l=Kf(),t!==null&&!Ct?(Yf(t,i,d),es(t,i,d)):(ze&&l&&Rf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function $y(t,i,a,l,h){if(zr(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(od(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ld.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,x=Kr(a,S);d.props=x;var F=d.context,W=a.contextType;_=Ra,typeof W=="object"&&W!==null&&(_=Ft(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==_)&&Vy(i,d,l,_),Ms=!1;var G=i.memoizedState;d.state=G,cl(i,l,d,h),ul(),F=i.memoizedState,S||G!==F||Ms?(typeof te=="function"&&(od(i,a,te,l),F=i.memoizedState),(x=Ms||My(i,a,x,l,G,F,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),_=i.memoizedProps,W=Kr(a,_),d.props=W,te=i.pendingProps,G=d.context,F=a.contextType,x=Ra,typeof F=="object"&&F!==null&&(x=Ft(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||G!==x)&&Vy(i,d,l,x),Ms=!1,G=i.memoizedState,d.state=G,cl(i,l,d,h),ul();var Q=i.memoizedState;_!==te||G!==Q||Ms||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof S=="function"&&(od(i,a,S,l),Q=i.memoizedState),(W=Ms||My(i,a,W,l,G,Q,x)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fr(i,t.child,null,h),i.child=Fr(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=es(t,i,h),t}function Qy(t,i,a,l){return Ur(),i.flags|=256,Gt(t,i,a,l),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Ug()}}function md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function Xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Ls(i):Ps(),(t=at)?(t=sv(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Dg(t),a.return=i,i.child=a,qt=i,at=null)):t=null,t===null)throw Os(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Ps(),h=i.mode,S=Tc({mode:"hidden",children:S},h),l=Pr(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),i.memoizedState=fd,pl(null,l)):(Ls(i),pd(i,S))}var x=t.memoizedState;if(x!==null&&(S=x.dehydrated,S!==null)){if(d)i.flags&256?(Ls(i),i.flags&=-257,i=gd(t,i,a)):i.memoizedState!==null?(Ps(),i.child=t.child,i.flags|=128,i=null):(Ps(),S=l.fallback,h=i.mode,l=Tc({mode:"visible",children:l.children},h),S=Pr(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Fr(i,t.child,null,a),l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),i.memoizedState=fd,i=pl(null,l));else if(Ls(i),Xd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=gd(t,i,a)}else if(Ct||Na(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=it,_!==null&&(l=Lo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Lr(t,l),yn(_,t,l),cd;Qd(S)||Nc(),i=gd(t,i,a)}else Qd(S)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,at=qn(S.nextSibling),qt=i,ze=!0,Ns=null,Bn=!1,t!==null&&xg(i,t),i=pd(i,l.children),i.flags|=4096);return i}return h?(Ps(),S=l.fallback,h=i.mode,x=t.child,F=x.sibling,l=$i(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?S=$i(F,S):(S=Pr(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,pl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=dd(a):(h=S.cachePool,h!==null?(x=wt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Ug(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=md(t,_,a),i.memoizedState=fd,pl(t.child,l)):(Ls(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function pd(t,i){return i=Tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Tc(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function gd(t,i,a){return Fr(i,t.child,null,a),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Of(t.return,i,a)}function yd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Wy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Gt(t,i,l,a),l=ze?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,a,i);else if(t.tag===19)Jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(i,!0,a,null,d,l);break;case"together":yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function es(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Na(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function XA(t,i,a){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),xs(i,wt,t.memoizedState.cache),Ur();break;case 27:case 5:ln(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:xs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(t,i,a):(Ls(i),t=es(t,i,a),t!==null?t.sibling:null);Ls(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Wy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Fy(t,i,a,i.pendingProps);case 24:xs(i,wt,t.memoizedState.cache)}return es(t,i,a)}function Zy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!_d(t,a)&&(i.flags&128)===0)return Ct=!1,XA(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ze&&(i.flags&1048576)!==0&&Og(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hr(i.elementType),i.type=t,typeof t=="function")Af(t)?(l=Kr(t,l),i.tag=1,i=$y(null,i,t,l,a)):(i.tag=0,i=hd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ve){i.tag=11,i=By(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Hy(null,i,t,l,a);break e}}throw i=qe(t)||t,Error(r(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),$y(t,i,l,h,a);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,xs(i,wt,l),l!==d.cache&&xf(i,[wt],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=Un(Error(r(424)),i),il(h),i=Qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=qn(t.firstChild),qt=i,ze=!0,Ns=null,Bn=!0,a=Fg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ur(),l===h){i=es(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Ec(t,i),t===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Pc(ge.current).createElement(a),l[St]=i,l[Pt]=t,Kt(l,a,t),At(l),i.stateNode=l):i.memoizedState=cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ln(i),t===null&&ze&&(l=i.stateNode=ov(i.type,i.pendingProps,ge.current),qt=i,Bn=!0,h=at,Gs(i.type)?(Jd=h,at=qn(l.firstChild)):at=h),Gt(t,i,i.pendingProps.children,a),Ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=at)&&(l=Rb(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,qt=i,at=qn(l.firstChild),Bn=!1,h=!0):h=!1),h||Os(i)),ln(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Kd(h,d)?l=null:_!==null&&Kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,BA,null,null,a),Nl._currentValue=h),Ec(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=at)&&(a=Cb(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,qt=i,at=null,t=!0):t=!1),t||Os(i)),null;case 13:return Xy(t,i,a);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fr(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return By(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xs(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zr(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Hy(t,i,i.type,i.pendingProps,a);case 15:return qy(t,i,i.type,i.pendingProps,a);case 19:return Wy(t,i,a);case 31:return QA(t,i,a);case 22:return Fy(t,i,a,i.pendingProps);case 24:return zr(i),l=Ft(wt),t===null?(h=kf(),h===null&&(h=it,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Pf(i),xs(i,wt,h)):((t.lanes&a)!==0&&(Uf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xs(i,wt,l)):(l=d.cache,xs(i,wt,l),l!==h.cache&&xf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ts(t){t.flags|=4}function vd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(R_())t.flags|=8192;else throw qr=rc,Lf}else t.flags&=-16777217}function e_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pv(i))if(R_())t.flags|=8192;else throw qr=rc,Lf}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Iu():536870912,t.lanes|=i,Ha|=i)}function gl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function JA(t,i,a){var l=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(wt),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(i)?ts(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Df())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ts(i),d!==null?(ot(i),e_(i,d)):(ot(i),vd(i,h,null,l,a))):d?d!==t.memoizedState?(ts(i),ot(i),e_(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ts(i),ot(i),vd(i,h,t,l,a)),null;case 27:if(nn(i),a=ge.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ot(i),null}t=ue.current,Da(i)?Mg(i):(t=ov(h,l,a),i.stateNode=t,ts(i))}return ot(i),null;case 5:if(nn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ot(i),null}if(d=ue.current,Da(i))Mg(i);else{var _=Pc(ge.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ts(i)}}return ot(i),vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ts(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ge.current,Da(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X_(t.nodeValue,a)),t||Os(i,!0)}else t=Pc(t).createTextNode(l),t[St]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Da(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[St]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),ot(i),null);case 4:return Ve(),t===null&&Bd(i.stateNode.containerInfo),ot(i),null;case 10:return Ji(i.type),ot(i),null;case 19:if(Y(yt),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=uc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ig(a,t),a=a.sibling;return re(yt,yt.current&1|2),ze&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&rn()>Cc&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304)}else{if(!h)if(t=uc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ot(i),null}else 2*rn()-l.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),ze&&Qi(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return Rn(i),Hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(wt),ot(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function WA(t,i){switch(Cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(wt),Ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return nn(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(yt),null;case 4:return Ve(),null;case 10:return Ji(i.type),null;case 22:case 23:return Rn(i),Hf(),t!==null&&Y(Br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(wt),null;case 25:return null;default:return null}}function t_(t,i){switch(Cf(i),i.tag){case 3:Ji(wt),Ve();break;case 26:case 27:case 5:nn(i);break;case 4:Ve();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:Y(yt);break;case 10:Ji(i.type);break;case 22:case 23:Rn(i),Hf(),t!==null&&Y(Br);break;case 24:Ji(wt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){We(i,i.return,S)}}function Us(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var x=a,F=S;try{F()}catch(W){We(h,x,W)}}}l=l.next}while(l!==d)}}catch(W){We(i,i.return,W)}}function n_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Kg(i,a)}catch(l){We(t,t.return,l)}}}function i_(t,i,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Mi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function s_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Ed(t,i,a){try{var l=t.stateNode;Eb(l,t.type,a,i),l[Pt]=i}catch(h){We(t,t.return,h)}}function r_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wn));else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Sd(t,i,a),t=t.sibling;t!==null;)Sd(t,i,a),t=t.sibling}function Ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function a_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[St]=t,i[Pt]=a}catch(d){We(t,t.return,d)}}var ns=!1,It=!1,Ad=!1,o_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function ZA(t,i){if(t=t.containerInfo,Fd=Fc,t=vg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,x=-1,F=0,W=0,te=t,G=null;t:for(;;){for(var Q;te!==a||h!==0&&te.nodeType!==3||(S=_+h),te!==d||l!==0&&te.nodeType!==3||(x=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===t)break t;if(G===a&&++F===h&&(S=_),G===d&&++W===l&&(x=_),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Fc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=Kr(a.type,h);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){We(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function l_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ss(t,a),l&4&&yl(5,a);break;case 1:if(ss(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&n_(a),l&512&&_l(a,a.return);break;case 3:if(ss(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&a_(a);case 26:case 5:ss(t,a),i===null&&l&4&&s_(a),l&512&&_l(a,a.return);break;case 12:ss(t,a);break;case 31:ss(t,a),l&4&&h_(t,a);break;case 13:ss(t,a),l&4&&f_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lb.bind(null,a),Ib(t,a))));break;case 22:if(l=a.memoizedState!==null||ns,!l){i=i!==null&&i.memoizedState!==null||It,h=ns;var d=It;ns=l,(It=i)&&!d?rs(t,a,(a.subtreeFlags&8772)!==0):ss(t,a),ns=h,It=d}break;case 30:break;default:ss(t,a)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function is(t,i,a){for(a=a.child;a!==null;)c_(t,i,a),a=a.sibling}function c_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:It||Mi(a,i),is(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Mi(a,i);var l=ct,h=dn;Gs(a.type)&&(ct=a.stateNode,dn=!1),is(t,i,a),Cl(a.stateNode),ct=l,dn=h;break;case 5:It||Mi(a,i);case 6:if(l=ct,h=dn,ct=null,is(t,i,a),ct=l,dn=h,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ct!==null&&(dn?(t=ct,nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):nv(ct,a.stateNode));break;case 4:l=ct,h=dn,ct=a.stateNode.containerInfo,dn=!0,is(t,i,a),ct=l,dn=h;break;case 0:case 11:case 14:case 15:Us(2,a,i),It||Us(4,a,i),is(t,i,a);break;case 1:It||(Mi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,i,l)),is(t,i,a);break;case 21:is(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,is(t,i,a),It=l;break;default:is(t,i,a)}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){We(i,i.return,a)}}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){We(i,i.return,a)}}function eb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o_),i;default:throw Error(r(435,t.tag))}}function bc(t,i){var a=eb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ub.bind(null,t,l);l.then(h,h)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Gs(S.type)){ct=S.stateNode,dn=!1;break e}break;case 5:ct=S.stateNode,dn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(ct===null)throw Error(r(160));c_(d,_,h),ct=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)d_(i,t),i=i.sibling}var si=null;function d_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Us(3,t,t.return),yl(3,t),Us(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(It||a===null||Mi(a,a.return)),l&64&&ns&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=si;if(mn(i,t),pn(t),l&512&&(It||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=dv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=dv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else mv(h,t.type,t.stateNode);else t.stateNode=fv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?mv(h,t.type,t.stateNode):fv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(It||a===null||Mi(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(It||a===null||Mi(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(pe){We(t,t.return,pe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){We(t,t.return,pe)}}break;case 3:if(zc=null,h=si,si=Uc(i.containerInfo),mn(i,t),si=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(pe){We(t,t.return,pe)}Ad&&(Ad=!1,m_(t));break;case 4:l=si,si=Uc(t.stateNode.containerInfo),mn(i,t),pn(t),si=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=ns,W=It;if(ns=F||h,It=W||x,mn(i,t),It=W,ns=F,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||ns||It||Yr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=x.stateNode;var te=x.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){We(x,x.return,pe)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(pe){We(x,x.return,pe)}}}else if(i.tag===18){if(a===null){x=i;try{var Q=x.stateNode;h?iv(Q,!0):iv(x.stateNode,!1)}catch(pe){We(x,x.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(r_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);Ac(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var S=Td(t);Ac(t,S,_);break;case 3:case 4:var x=a.stateNode.containerInfo,F=Td(t);Sd(t,F,x);break;default:throw Error(r(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function m_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;m_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ss(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(t,i.alternate,i),i=i.sibling}function Yr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Us(4,i,i.return),Yr(i);break;case 1:Mi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),Yr(i);break;case 27:Cl(i.stateNode);case 26:case 5:Mi(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}t=t.sibling}}function rs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rs(h,d,a),yl(4,d);break;case 1:if(rs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Gg(x[h],S)}catch(F){We(l,l.return,F)}}a&&_&64&&n_(d),_l(d,d.return);break;case 27:a_(d);case 26:case 5:rs(h,d,a),a&&l===null&&_&4&&s_(d),_l(d,d.return);break;case 12:rs(h,d,a);break;case 31:rs(h,d,a),a&&_&4&&h_(h,d);break;case 13:rs(h,d,a),a&&_&4&&f_(h,d);break;case 22:d.memoizedState===null&&rs(h,d,a),_l(d,d.return);break;case 30:break;default:rs(h,d,a)}i=i.sibling}}function bd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(t,i,a,l),i=i.sibling}function p_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&yl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){We(i,i.return,x)}}else ri(t,i,a,l);break;case 31:ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):vl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&bd(_,i);break;case 24:ri(t,i,a,l),h&2048&&wd(i.alternate,i);break;default:ri(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,x=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,S,x,h),yl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?ja(d,_,S,x,h):vl(d,_):(W._visibility|=2,ja(d,_,S,x,h)),h&&F&2048&&bd(_.alternate,_);break;case 24:ja(d,_,S,x,h),h&&F&2048&&wd(_.alternate,_);break;default:ja(d,_,S,x,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&bd(l.alternate,l);break;case 24:vl(a,l),h&2048&&wd(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function za(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)g_(t,i,a),t=t.sibling}function g_(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&El&&t.memoizedState!==null&&zb(a,si,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=si;si=Uc(t.stateNode.containerInfo),za(t,i,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,za(t,i,a),El=l):za(t,i,a));break;default:za(t,i,a)}}function y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,v_(l,t)}y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Us(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,wc(t)):Tl(t);break;default:Tl(t)}}function wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,v_(l,t)}y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Us(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wc(i));break;default:wc(i)}t=t.sibling}}function v_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Us(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(u_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var tb={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},nb=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,xe=null,ke=0,Je=0,Cn=null,js=!1,Ba=!1,Rd=!1,as=0,mt=0,zs=0,$r=0,Cd=0,In=0,Ha=0,Sl=null,gn=null,Id=!1,Rc=0,E_=0,Cc=1/0,Ic=null,Bs=null,Mt=0,Hs=null,qa=null,os=0,Dd=0,Nd=null,T_=null,Al=0,Od=null;function Dn(){return($e&2)!==0&&ke!==0?ke&-ke:J.T!==null?Pd():Du()}function S_(){if(In===0)if((ke&536870912)===0||ze){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),In=t}else In=536870912;return t=wn.current,t!==null&&(t.flags|=32),In}function yn(t,i,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),qs(t,ke,In,!1)),Sr(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&($r|=a),mt===4&&qs(t,ke,In,!1)),Vi(t))}function A_(t,i,a){if(($e&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),h=l?rb(t,i):Md(t,i,!0),d=l;do{if(h===0){Ba&&!l&&qs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ib(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Sl;var x=S.current.memoizedState.isDehydrated;if(x&&(Fa(S,_).flags|=256),_=Md(S,_,!1),_!==2){if(Rd&&!x){S.errorRecoveryDisabledLanes|=d,$r|=d,h=4;break e}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),qs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:qs(l,i,In,!js);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Rc+300-rn(),10<h)){if(qs(l,i,In,!js),gi(l,0,!0)!==0)break e;os=i,l.timeoutHandle=ev(b_.bind(null,l,a,gn,Ic,Id,i,In,$r,Ha,js,d,"Throttled",-0,0),h);break e}b_(l,a,gn,Ic,Id,i,In,$r,Ha,js,d,null,-0,0)}}break}while(!0);Vi(t)}function b_(t,i,a,l,h,d,_,S,x,F,W,te,G,Q){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},g_(i,d,te);var pe=(d&62914560)===d?Rc-rn():(d&4194048)===d?E_-rn():0;if(pe=Bb(te,pe),pe!==null){os=d,t.cancelPendingCommit=pe(x_.bind(null,t,i,d,a,l,h,_,S,x,W,te,null,G,Q)),qs(t,d,_,!F);return}}x_(t,i,d,a,l,h,_,S,x)}function ib(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(t,i,a,l){i&=~Cd,i&=~$r,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ar(t,a,i)}function Dc(){return($e&6)===0?(bl(0),!1):!0}function xd(){if(xe!==null){if(Je===0)var t=xe.return;else t=xe,Xi=jr=null,$f(t),Va=null,al=0,t=xe;for(;t!==null;)t_(t.alternate,t),t=t.return;xe=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ab(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),os=0,xd(),it=t,xe=a=$i(t.current,null),ke=i,Je=0,Cn=null,js=!1,Ba=Qn(t,i),Rd=!1,Ha=In=Cd=$r=zs=mt=0,gn=Sl=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return as=i,Xu(),a}function w_(t,i){Ne=null,J.H=ml,i===Ma||i===sc?(i=Bg(),Je=3):i===Lf?(i=Bg(),Je=4):Je=i===cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,xe===null&&(mt=1,_c(t,Un(i,t.current)))}function R_(){var t=wn.current;return t===null?!0:(ke&4194048)===ke?Hn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Hn:!1}function C_(){var t=J.H;return J.H=ml,t===null?ml:t}function I_(){var t=J.A;return J.A=tb,t}function Nc(){mt=4,js||(ke&4194048)!==ke&&wn.current!==null||(Ba=!0),(zs&134217727)===0&&($r&134217727)===0||it===null||qs(it,ke,In,!1)}function Md(t,i,a){var l=$e;$e|=2;var h=C_(),d=I_();(it!==t||ke!==i)&&(Ic=null,Fa(t,i)),i=!1;var _=mt;e:do try{if(Je!==0&&xe!==null){var S=xe,x=Cn;switch(Je){case 8:xd(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var F=Je;if(Je=0,Cn=null,Ga(t,S,x,F),a&&Ba){_=0;break e}break;default:F=Je,Je=0,Cn=null,Ga(t,S,x,F)}}sb(),_=mt;break}catch(W){w_(t,W)}while(!0);return i&&t.shellSuspendCounter++,Xi=jr=null,$e=l,J.H=h,J.A=d,xe===null&&(it=null,ke=0,Xu()),_}function sb(){for(;xe!==null;)D_(xe)}function rb(t,i){var a=$e;$e|=2;var l=C_(),h=I_();it!==t||ke!==i?(Ic=null,Cc=rn()+500,Fa(t,i)):Ba=Qn(t,i);e:do try{if(Je!==0&&xe!==null){i=xe;var d=Cn;t:switch(Je){case 1:Je=0,Cn=null,Ga(t,i,d,1);break;case 2:case 9:if(jg(d)){Je=0,Cn=null,N_(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),Vi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:jg(d)?(Je=0,Cn=null,N_(i)):(Je=0,Cn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var S=xe;if(_?pv(_):S.stateNode.complete){Je=0,Cn=null;var x=S.sibling;if(x!==null)xe=x;else{var F=S.return;F!==null?(xe=F,Oc(F)):xe=null}break t}}Je=0,Cn=null,Ga(t,i,d,5);break;case 6:Je=0,Cn=null,Ga(t,i,d,6);break;case 8:xd(),mt=6;break e;default:throw Error(r(462))}}ab();break}catch(W){w_(t,W)}while(!0);return Xi=jr=null,J.H=l,J.A=h,$e=a,xe!==null?0:(it=null,ke=0,Xu(),mt)}function ab(){for(;xe!==null&&!uf();)D_(xe)}function D_(t){var i=Zy(t.alternate,t,as);t.memoizedProps=t.pendingProps,i===null?Oc(t):xe=i}function N_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Yy(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Yy(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:$f(i);default:t_(a,i),i=xe=Ig(i,as),i=Zy(a,i,as)}t.memoizedProps=t.pendingProps,i===null?Oc(t):xe=i}function Ga(t,i,a,l){Xi=jr=null,$f(i),Va=null,al=0;var h=i.return;try{if($A(t,h,i,a,ke)){mt=1,_c(t,Un(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;mt=1,_c(t,Un(a,t.current)),xe=null;return}i.flags&32768?(ze||l===1?t=!0:Ba||(ke&536870912)!==0?t=!1:(js=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),O_(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){O_(i,js);return}t=i.return;var a=JA(i.alternate,i,as);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);mt===0&&(mt=5)}function O_(t,i){do{var a=WA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);mt=6,xe=null}function x_(t,i,a,l,h,d,_,S,x){t.cancelPendingCommit=null;do xc();while(Mt!==0);if(($e&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Tf,ff(t,a,d,_,S,x),t===it&&(xe=it=null,ke=0),qa=i,Hs=t,os=a,Dd=d,Nd=h,T_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cb(vs,function(){return P_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=ce.p,ce.p=2,_=$e,$e|=4;try{ZA(t,i,a)}finally{$e=_,ce.p=h,J.T=l}}Mt=1,M_(),V_(),k_()}}function M_(){if(Mt===1){Mt=0;var t=Hs,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ce.p;ce.p=2;var h=$e;$e|=4;try{d_(i,t);var d=Gd,_=vg(t.containerInfo),S=d.focusedElem,x=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(x!==null&&gf(S)){var F=x.start,W=x.end;if(W===void 0&&(W=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(W,S.value.length);else{var te=S.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Q=G.getSelection(),pe=S.textContent.length,Ae=Math.min(x.start,pe),nt=x.end===void 0?Ae:Math.min(x.end,pe);!Q.extend&&Ae>nt&&(_=nt,nt=Ae,Ae=_);var U=yg(S,Ae),k=yg(S,nt);if(U&&k&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var q=te.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),Ae>nt?(Q.addRange(q),Q.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Q.addRange(q))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var Z=te[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Fc=!!Fd,Gd=Fd=null}finally{$e=h,ce.p=l,J.T=a}}t.current=i,Mt=2}}function V_(){if(Mt===2){Mt=0;var t=Hs,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ce.p;ce.p=2;var h=$e;$e|=4;try{l_(t,i.alternate,i)}finally{$e=h,ce.p=l,J.T=a}}Mt=3}}function k_(){if(Mt===4||Mt===3){Mt=0,Su();var t=Hs,i=qa,a=os,l=T_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,qa=Hs=null,L_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),Fi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,h=ce.p,ce.p=2,J.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{J.T=i,ce.p=h}}(os&3)!==0&&xc(),Vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Od?Al++:(Al=0,Od=t):Al=0,bl(0)}}function L_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function xc(){return M_(),V_(),k_(),P_()}function P_(){if(Mt!==5)return!1;var t=Hs,i=Dd;Dd=0;var a=Fi(os),l=J.T,h=ce.p;try{ce.p=32>a?32:a,J.T=null,a=Nd,Nd=null;var d=Hs,_=os;if(Mt=0,qa=Hs=null,os=0,($e&6)!==0)throw Error(r(331));var S=$e;if($e|=4,__(d.current),p_(d,d.current,_,a),$e=S,bl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{ce.p=h,J.T=l,L_(t,i)}}function U_(t,i,a){i=Un(a,i),i=ud(t.stateNode,i,2),t=ks(t,i,2),t!==null&&(Sr(t,2),Vi(t))}function We(t,i,a){if(t.tag===3)U_(t,t,a);else for(;i!==null;){if(i.tag===3){U_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){t=Un(a,t),a=jy(2),l=ks(i,a,2),l!==null&&(zy(a,l,i,t),Sr(l,2),Vi(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new nb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rd=!0,h.add(a),t=ob.bind(null,t,i,a),i.then(t,t))}function ob(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(ke&a)===a&&(mt===4||mt===3&&(ke&62914560)===ke&&300>rn()-Rc?($e&2)===0&&Fa(t,0):Cd|=a,Ha===ke&&(Ha=0)),Vi(t)}function j_(t,i){i===0&&(i=Iu()),t=Lr(t,i),t!==null&&(Sr(t,i),Vi(t))}function lb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j_(t,a)}function ub(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),j_(t,a)}function cb(t,i){return xt(t,i)}var Mc=null,Ka=null,kd=!1,Vc=!1,Ld=!1,Fs=0;function Vi(t){t!==Ka&&t.next===null&&(Ka===null?Mc=Ka=t:Ka=Ka.next=t),Vc=!0,kd||(kd=!0,fb())}function bl(t,i){if(!Ld&&Vc){Ld=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,q_(l,d))}else d=ke,d=gi(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,q_(l,d));l=l.next}while(a);Ld=!1}}function hb(){z_()}function z_(){Vc=kd=!1;var t=0;Fs!==0&&Sb()&&(t=Fs);for(var i=rn(),a=null,l=Mc;l!==null;){var h=l.next,d=B_(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Vc=!0)),l=h}Mt!==0&&Mt!==5||bl(t),Fs!==0&&(Fs=0)}function B_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,x=h[_];x===-1?((S&a)===0||(S&l)!==0)&&(h[_]=hf(S,i)):x<=i&&(t.expiredLanes|=S),d&=~S}if(i=it,a=ke,a=gi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_s(l),Fi(a)){case 2:case 8:a=Vo;break;case 32:a=vs;break;case 268435456:a=Au;break;default:a=vs}return l=H_.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_s(l),t.callbackPriority=2,t.callbackNode=null,2}function H_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=ke;return l=gi(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(A_(t,l,i),B_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?H_.bind(null,t):null)}function q_(t,i){if(xc())return null;A_(t,i,!0)}function fb(){bb(function(){($e&6)!==0?xt(Mo,hb):z_()})}function Pd(){if(Fs===0){var t=Oa;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Fs=t}return Fs}function F_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function G_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function db(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=F_((h[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?F_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ci("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var x=_?G_(h,_):new FormData(h);id(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(S.preventDefault(),x=_?G_(h,_):new FormData(h),id(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Ud=0;Ud<Ef.length;Ud++){var jd=Ef[Ud],mb=jd.toLowerCase(),pb=jd[0].toUpperCase()+jd.slice(1);ii(mb,"on"+pb)}ii(Sg,"onAnimationEnd"),ii(Ag,"onAnimationIteration"),ii(bg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(OA,"onTransitionRun"),ii(xA,"onTransitionStart"),ii(MA,"onTransitionCancel"),ii(wg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function K_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],x=S.instance,F=S.currentTarget;if(S=S.listener,x!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=F;try{d(h)}catch(W){Qu(W)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(S=l[_],x=S.instance,F=S.currentTarget,S=S.listener,x!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=F;try{d(h)}catch(W){Qu(W)}h.currentTarget=null,d=x}}}}function Me(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||(Y_(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),Y_(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[kc]){t[kc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(gb.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,zd("selectionchange",!1,i))}}function Y_(t,i,a,l){switch(Sv(i)){case 2:var h=Fb;break;case 8:h=Gb;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Ei(S),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}S=S.parentNode}}l=l.return}ws(function(){var F=d,W=Vn(a),te=[];e:{var G=Rg.get(t);if(G!==void 0){var Q=Ci,pe=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":Q=Ku;break;case"focusin":pe="focus",Q=xr;break;case"focusout":pe="blur",Q=xr;break;case"beforeblur":case"afterblur":Q=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case Sg:case Ag:case bg:Q=ju;break;case wg:Q=w;break;case"scroll":case"scrollend":Q=Qo;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Yi;break;case"toggle":case"beforetoggle":Q=De}var Ae=(i&4)!==0,nt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var k=F,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Zn(k,U),Z!=null&&Ae.push(Rl(k,Z,q))),nt)break;k=k.return}0<Ae.length&&(G=new Q(G,pe,null,a,W),te.push({event:G,listeners:Ae}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Ko&&(pe=a.relatedTarget||a.fromElement)&&(Ei(pe)||pe[_i]))break e;if((Q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=F,pe=pe?Ei(pe):null,pe!==null&&(nt=u(pe),Ae=pe.tag,pe!==nt||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Q=null,pe=F),Q!==pe)){if(Ae=Xo,Z="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Yi,Z="onPointerLeave",U="onPointerEnter",k="pointer"),nt=Q==null?G:Tn(Q),q=pe==null?G:Tn(pe),G=new Ae(Z,k+"leave",Q,a,W),G.target=nt,G.relatedTarget=q,Z=null,Ei(W)===F&&(Ae=new Ae(U,k+"enter",pe,a,W),Ae.target=q,Ae.relatedTarget=nt,Z=Ae),nt=Z,Q&&pe)t:{for(Ae=yb,U=Q,k=pe,q=0,Z=U;Z;Z=Ae(Z))q++;Z=0;for(var Ee=k;Ee;Ee=Ae(Ee))Z++;for(;0<q-Z;)U=Ae(U),q--;for(;0<Z-q;)k=Ae(k),Z--;for(;q--;){if(U===k||k!==null&&U===k.alternate){Ae=U;break t}U=Ae(U),k=Ae(k)}Ae=null}else Ae=null;Q!==null&&$_(te,G,Q,Ae,!1),pe!==null&&nt!==null&&$_(te,nt,pe,Ae,!0)}}e:{if(G=F?Tn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Fe=hg;else if(ug(G))if(fg)Fe=IA;else{Fe=RA;var ye=wA}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&pa(F.elementType)&&(Fe=hg):Fe=CA;if(Fe&&(Fe=Fe(t,F))){cg(te,Fe,a,W);break e}ye&&ye(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&qo(G,"number",G.value)}switch(ye=F?Tn(F):window,t){case"focusin":(ug(ye)||ye.contentEditable==="true")&&(Aa=ye,yf=F,tl=null);break;case"focusout":tl=yf=Aa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Eg(te,a,W);break;case"selectionchange":if(NA)break;case"keydown":case"keyup":Eg(te,a,W)}var Oe;if(Ye)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Sa?Mr(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ni&&a.locale!=="ko"&&(Sa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Sa&&(Oe=$o()):(Ri=W,Yo="value"in Ri?Ri.value:Ri.textContent,Sa=!0)),ye=Lc(F,Le),0<ye.length&&(Le=new Di(Le,t,null,a,W),te.push({event:Le,listeners:ye}),Oe?Le.data=Oe:(Oe=Ta(a),Oe!==null&&(Le.data=Oe)))),(Oe=Ln?TA(t,a):SA(t,a))&&(Le=Lc(F,"onBeforeInput"),0<Le.length&&(ye=new Di("onBeforeInput","beforeinput",null,a,W),te.push({event:ye,listeners:Le}),ye.data=Oe)),db(te,t,F,a,W)}K_(te,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Lc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=Zn(t,i),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,x=S.alternate,F=S.stateNode;if(S=S.tag,x!==null&&x===l)break;S!==5&&S!==26&&S!==27||F===null||(x=F,h?(F=Zn(a,d),F!=null&&_.unshift(Rl(a,F,x))):h||(F=Zn(a,d),F!=null&&_.push(Rl(a,F,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var _b=/\r\n?/g,vb=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(_b,`
`).replace(vb,"")}function X_(t,i){return i=Q_(i),Q_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),da(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,da(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=_=h=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":x=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,i));break;default:tt(t,i,l,W,a,null)}}Mu(t,d,S,x,F,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:tt(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ts(t,!!l,i,!1):a!=null&&Ts(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:tt(t,i,_,S,a,null)}Ss(t,l,h,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,x,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Me(wl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,F,l,a,null)}return;default:if(pa(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&qd(t,i,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&tt(t,i,S,l,a,null))}function Eb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,x=null,F=null,W=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=te;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,te)}}for(var G in l){var Q=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==te&&tt(t,i,G,Q,l,te)}}ma(t,_,S,x,F,W,d,h);return;case"select":Q=_=S=G=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==x&&tt(t,i,h,d,l,x)}i=S,a=_,l=Q,G!=null?Ts(t,!!a,G,!1):!!l!=!!a&&(i!=null?Ts(t,!!a,i,!0):Ts(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Vu(t,G,Q);return;case"option":for(var pe in a)G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:tt(t,i,pe,null,l,G));for(x in l)G=l[x],Q=a[x],l.hasOwnProperty(x)&&G!==Q&&(G!=null||Q!=null)&&(x==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":tt(t,i,x,G,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&tt(t,i,Ae,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:tt(t,i,F,G,l,Q)}return;default:if(pa(i)){for(var nt in a)G=a[nt],a.hasOwnProperty(nt)&&G!==void 0&&!l.hasOwnProperty(nt)&&qd(t,i,nt,void 0,l,G);for(W in l)G=l[W],Q=a[W],!l.hasOwnProperty(W)||G===Q||G===void 0&&Q===void 0||qd(t,i,W,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,G);for(te in l)G=l[te],Q=a[te],!l.hasOwnProperty(te)||G===Q||G==null&&Q==null||tt(t,i,te,G,l,Q)}function J_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&J_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],F=x.startTime;if(F>S)break;var W=x.transferSize,te=x.initiatorType;W&&J_(te)&&(x=x.responseEnd,_+=W*(x<S?1:(S-F)/(x-F)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Gd=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function W_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function Sb(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(wb)}:ev;function wb(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function nv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);Xa(i)}function iv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function $d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Rb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Cb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function sv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ib(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jd=null;function rv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ov(t,i,a){switch(i=Pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var Fn=new Map,lv=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=ce.d;ce.d={f:Db,r:Nb,D:Ob,C:xb,L:Mb,m:Vb,X:Lb,S:kb,M:Pb};function Db(){var t=ls.f(),i=Dc();return t||i}function Nb(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?wy(i):ls.r(t)}var Ya=typeof document>"u"?null:document;function uv(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=hn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),lv.has(h)||(lv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Ob(t){ls.D(t),uv("dns-prefetch",t,null)}function xb(t,i){ls.C(t,i),uv("preconnect",t,i)}function Mb(t,i,a){ls.L(t,i,a);var l=Ya;if(l&&t&&i){var h='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var d=h;switch(i){case"style":d=$a(t);break;case"script":d=Qa(t)}Fn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Vb(t,i){ls.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Fn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Kt(l,"link",t),At(l),a.head.appendChild(l)}}}function kb(t,i,a){ls.S(t,i,a);var l=Ya;if(l&&t){var h=Ti(l).hoistableStyles,d=$a(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Il(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Wd(t,a);var x=_=l.createElement("link");At(x),Kt(x,"link",t),x._p=new Promise(function(F,W){x.onload=F,x.onerror=W}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Lb(t,i){ls.X(t,i);var a=Ya;if(a&&t){var l=Ti(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=T({src:t,async:!0},i),(i=Fn.get(h))&&Zd(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Pb(t,i){ls.M(t,i);var a=Ya;if(a&&t){var l=Ti(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Fn.get(h))&&Zd(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cv(t,i,a,l){var h=(h=ge.current)?Uc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=Ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=Ti(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||Ub(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=Ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $a(t){return'href="'+hn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ub(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function Qa(t){return'[src="'+hn(t)+'"]'}function Dl(t){return"script[async]"+t}function fv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",h),jc(l,a.precedence,t),i.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=hv(a),(h=Fn.get(h))&&Wd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Kt(d,"link",l),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,At(h),h):(l=a,(h=Fn.get(d))&&(l=T({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,t));return i.instance}function jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var zc=null;function dv(t,i,a){if(zc===null){var l=new Map,h=zc=new Map;h.set(a,l)}else h=zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vi]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function jb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(l.href),d=i.querySelector(Il(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Bc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=hv(l),(h=Fn.get(h))&&Wd(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,x){_.onload=S,_.onerror=x}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function Bb(t,i){return t.stylesheets&&t.count===0&&qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*Tb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(Hb,t),Hc=null,Bc.call(t))}function Hb(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function qb(t,i,a,l,h,d,_,S,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function gv(t,i,a,l,h,d,_,S,x,F,W,te){return t=new qb(t,i,a,_,x,F,W,te,S),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function yv(t){return t?(t=Ra,t):Ra}function _v(t,i,a,l,h,d){h=yv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ks(t,l,i),a!==null&&(yn(a,t,i),ll(a,t,i))}function vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){vv(t,i),(t=t.alternate)&&vv(t,i)}function Ev(t){if(t.tag===13||t.tag===31){var i=Lr(t,67108864);i!==null&&yn(i,t,67108864),tm(t,67108864)}}function Tv(t){if(t.tag===13||t.tag===31){var i=Dn();i=br(i);var a=Lr(t,i);a!==null&&yn(a,t,i),tm(t,i)}}var Fc=!0;function Fb(t,i,a,l){var h=J.T;J.T=null;var d=ce.p;try{ce.p=2,nm(t,i,a,l)}finally{ce.p=d,J.T=h}}function Gb(t,i,a,l){var h=J.T;J.T=null;var d=ce.p;try{ce.p=8,nm(t,i,a,l)}finally{ce.p=d,J.T=h}}function nm(t,i,a,l){if(Fc){var h=im(l);if(h===null)Hd(t,i,l,Gc,a),Av(t,l);else if(Yb(h,t,i,a,l))l.stopPropagation();else if(Av(t,l),i&4&&-1<Kb.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var x=1<<31-pt(_);S.entanglements[1]|=x,_&=~x}Vi(d),($e&6)===0&&(Cc=rn()+500,bl(0))}}break;case 31:case 13:S=Lr(d,2),S!==null&&yn(S,d,2),Dc(),tm(d,2)}if(d=im(l),d===null&&Hd(t,i,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function im(t){return t=Vn(t),sm(t)}var Gc=null;function sm(t){if(Gc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function Sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Mo:return 2;case Vo:return 8;case vs:case cf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var rm=!1,Ks=null,Ys=null,$s=null,Ol=new Map,xl=new Map,Qs=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(t,i){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&Ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Yb(t,i,a,l,h){switch(i){case"focusin":return Ks=Ml(Ks,t,i,a,l,h),!0;case"dragenter":return Ys=Ml(Ys,t,i,a,l,h),!0;case"mouseover":return $s=Ml($s,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Ml(xl.get(d)||null,t,i,a,l,h)),!0}return!1}function bv(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){Tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Xn(t.priority,function(){Tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=Mn(a),i!==null&&Ev(i),t.blockedOn=a,!1;i.shift()}return!0}function wv(t,i,a){Kc(t)&&a.delete(i)}function $b(){rm=!1,Ks!==null&&Kc(Ks)&&(Ks=null),Ys!==null&&Kc(Ys)&&(Ys=null),$s!==null&&Kc($s)&&($s=null),Ol.forEach(wv),xl.forEach(wv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$b)))}var $c=null;function Rv(t){$c!==t&&($c=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function i(x){return Yc(x,t)}Ks!==null&&Yc(Ks,t),Ys!==null&&Yc(Ys,t),$s!==null&&Yc($s,t),Ol.forEach(i),xl.forEach(i);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)bv(a),a.blockedOn===null&&Qs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pt]||null;if(typeof d=="function")_||Rv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)S=_.formAction;else if(sm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Rv(a)}}}function Cv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}Qc.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Dn();_v(a,l,t,i,null,null)},Qc.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;_v(t.current,2,null,t,null,null),Dc(),i[_i]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Du();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qs.length&&i!==0&&i<Qs[a].priority;a++);Qs.splice(a,0,t),a===0&&bv(t)}};var Iv=e.version;if(Iv!=="19.2.4")throw Error(r(527,Iv,"19.2.4"));ce.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Qb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{$n=Xc.inject(Qb),Bt=Xc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=ky,d=Ly,_=Py;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=gv(t,1,!1,null,null,a,l,null,h,d,_,Cv),t[_i]=i.current,Bd(t),new am(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=ky,_=Ly,S=Py,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=gv(t,1,!0,i,a??null,l,h,x,d,_,S,Cv),i.context=yv(null),a=i.current,l=Dn(),l=br(l),h=Vs(l),h.callback=null,ks(a,h,l),a=l,i.current.lanes=a,Sr(i,a),Vi(i),t[_i]=i.current,Bd(t),new Qc(i)},kl.version="19.2.4",kl}var Uv;function rw(){if(Uv)return um.exports;Uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),um.exports=sw(),um.exports}var aw=rw();var jv="popstate";function ow(s={}){function e(r,o){let{pathname:u,search:f,hash:m}=r.location;return Im("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Xl(o)}return uw(e,n,null,s)}function ht(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function hi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lw(){return Math.random().toString(36).substring(2,10)}function zv(s,e){return{usr:s.state,key:s.key,idx:e}}function Im(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:n,key:e&&e.key||r||lw()}}function Xl({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function vo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function uw(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),ee=H==null?null:H-y;y=H,p&&p({action:m,location:z.location,delta:ee})}function C(H,ee){m="PUSH";let X=Im(z.location,H,ee);y=E()+1;let oe=zv(X,y),ve=z.createHref(X);try{f.pushState(oe,"",ve)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(ve)}u&&p&&p({action:m,location:z.location,delta:1})}function L(H,ee){m="REPLACE";let X=Im(z.location,H,ee);y=E();let oe=zv(X,y),ve=z.createHref(X);f.replaceState(oe,"",ve),u&&p&&p({action:m,location:z.location,delta:0})}function j(H){return cw(H)}let z={get action(){return m},get location(){return s(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jv,T),p=H,()=>{o.removeEventListener(jv,T),p=null}},createHref(H){return e(o,H)},createURL:j,encodeLocation(H){let ee=j(H);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:C,replace:L,go(H){return f.go(H)}};return z}function cw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Xl(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CT(s,e,n="/"){return hw(s,e,n,!1)}function hw(s,e,n,r){let o=typeof e=="string"?vo(e):e,u=fs(o.pathname||"/",n);if(u==null)return null;let f=IT(s);fw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Aw(u);m=Tw(f[p],y,r)}return m}function IT(s,e=[],n=[],r="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;ht(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let T=hs([r,E.relativePath]),C=n.concat(E);f.children&&f.children.length>0&&(ht(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),IT(f.children,e,C,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:vw(T,f.index),routesMeta:C})};return s.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of DT(f.path))u(f,m,!0,p)}),e}function DT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=DT(r.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function fw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Ew(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dw=/^:[\w-]+$/,mw=3,pw=2,gw=1,yw=10,_w=-2,Bv=s=>s==="*";function vw(s,e){let n=s.split("/"),r=n.length;return n.some(Bv)&&(r+=_w),e&&(r+=pw),n.filter(o=>!Bv(o)).reduce((o,u)=>o+(dw.test(u)?mw:u===""?gw:yw),r)}function Ew(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function Tw(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!T&&y&&n&&!r[r.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:hs([u,T.pathname]),pathnameBase:Cw(hs([u,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(u=hs([u,T.pathnameBase]))}return f}function vh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Sw(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:E,isOptional:T},C)=>{if(E==="*"){let j=m[C]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const L=m[C];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:s}}function Sw(s,e=!1,n=!0){hi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Aw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function fs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ww(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?vo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Hv(n.substring(1),"/"):u=Hv(n,e)):u=e,{pathname:u,search:Iw(r),hash:Dw(o)}}function Hv(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lp(s){let e=Rw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function up(s,e,n,r=!1){let o;typeof s=="string"?o=vo(s):(o={...s},ht(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!r&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),T-=1;o.pathname=C.join("/")}m=T>=0?e[T]:"/"}let p=ww(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var hs=s=>s.join("/").replace(/\/\/+/g,"/"),Cw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Iw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Dw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,Nw=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ow(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function xw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OT(s,e){let n=s;if(typeof n!="string"||!bw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(NT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fs(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{hi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xT=["POST","PUT","PATCH","DELETE"];new Set(xT);var Mw=["GET",...xT];new Set(Mw);var Eo=P.createContext(null);Eo.displayName="DataRouter";var jh=P.createContext(null);jh.displayName="DataRouterState";var Vw=P.createContext(!1),MT=P.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var kw=P.createContext(new Map);kw.displayName="Fetchers";var Lw=P.createContext(null);Lw.displayName="Await";var On=P.createContext(null);On.displayName="Navigation";var lu=P.createContext(null);lu.displayName="Location";var qi=P.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var cp=P.createContext(null);cp.displayName="RouteError";var VT="REACT_ROUTER_ERROR",Pw="REDIRECT",Uw="ROUTE_ERROR_RESPONSE";function jw(s){if(s.startsWith(`${VT}:${Pw}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zw(s){if(s.startsWith(`${VT}:${Uw}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Nw(e.status,e.statusText,e.data)}catch{}}function Bw(s,{relative:e}={}){ht(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(On),{hash:o,pathname:u,search:f}=uu(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hs([n,u])),r.createHref({pathname:m,search:f,hash:o})}function To(){return P.useContext(lu)!=null}function gr(){return ht(To(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(lu).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(s){P.useContext(On).static||P.useLayoutEffect(s)}function ra(){let{isDataRoute:s}=P.useContext(qi);return s?e1():Hw()}function Hw(){ht(To(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(Eo),{basename:e,navigator:n}=P.useContext(On),{matches:r}=P.useContext(qi),{pathname:o}=gr(),u=JSON.stringify(lp(r)),f=P.useRef(!1);return LT(()=>{f.current=!0}),P.useCallback((p,y={})=>{if(hi(f.current,kT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=up(p,JSON.parse(u),o,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hs([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,s])}P.createContext(null);function uu(s,{relative:e}={}){let{matches:n}=P.useContext(qi),{pathname:r}=gr(),o=JSON.stringify(lp(n));return P.useMemo(()=>up(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function qw(s,e){return PT(s,e)}function PT(s,e,n,r,o){ht(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(On),{matches:f}=P.useContext(qi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";jT(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let C=gr(),L;if(e){let X=typeof e=="string"?vo(e):e;ht(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=C;let j=L.pathname||"/",z=j;if(E!=="/"){let X=E.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=CT(s,{pathname:z});hi(T||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),hi(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=$w(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:hs([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:hs([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,r,o);return e&&ee?P.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ee):ee}function Fw(){let s=Zw(),e=Ow(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var Gw=P.createElement(Fw,null),UT=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=zw(s.digest);n&&(s=n)}let e=s!==void 0?P.createElement(qi.Provider,{value:this.props.routeContext},P.createElement(cp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?P.createElement(Kw,{error:s},e):e}};UT.contextType=Vw;var mm=new WeakMap;function Kw({children:s,error:e}){let{basename:n}=P.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=jw(e.digest);if(r){let o=mm.get(e);if(o)throw o;let u=OT(r.location,n);if(NT&&!mm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw mm.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function Yw({routeContext:s,match:e,children:n}){let r=P.useContext(Eo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(qi.Provider,{value:s},n)}function $w(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:C,errors:L}=n,j=T.route.loader&&!C.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&r?(E,T)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,C)=>{let L,j=!1,z=null,H=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,z=T.route.errorElement||Gw,m&&(p<0&&C===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,H=null):p===C&&(j=!0,H=T.route.hydrateFallbackElement||null)));let ee=e.concat(u.slice(0,C+1)),X=()=>{let oe;return L?oe=z:j?oe=H:T.route.Component?oe=P.createElement(T.route.Component,null):T.route.element?oe=T.route.element:oe=E,P.createElement(Yw,{match:T,routeContext:{outlet:E,matches:ee,isDataRoute:n!=null},children:oe})};return n&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?P.createElement(UT,{location:n.location,revalidation:n.revalidation,component:z,error:L,children:X(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:y}):X()},null)}function hp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(s){let e=P.useContext(Eo);return ht(e,hp(s)),e}function Xw(s){let e=P.useContext(jh);return ht(e,hp(s)),e}function Jw(s){let e=P.useContext(qi);return ht(e,hp(s)),e}function fp(s){let e=Jw(s),n=e.matches[e.matches.length-1];return ht(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Ww(){return fp("useRouteId")}function Zw(){let s=P.useContext(cp),e=Xw("useRouteError"),n=fp("useRouteError");return s!==void 0?s:e.errors?.[n]}function e1(){let{router:s}=Qw("useNavigate"),e=fp("useNavigate"),n=P.useRef(!1);return LT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{hi(n.current,kT),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var qv={};function jT(s,e,n){!e&&!qv[s]&&(qv[s]=!0,hi(!1,n))}P.memo(t1);function t1({routes:s,future:e,state:n,onError:r}){return PT(s,void 0,n,r,e)}function n1({to:s,replace:e,state:n,relative:r}){ht(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(On);hi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(qi),{pathname:f}=gr(),m=ra(),p=up(s,lp(u),f,r==="path"),y=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:r})},[m,y,r,e,n]),null}function Ja(s){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ht(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=vo(n));let{pathname:y="/",search:E="",hash:T="",state:C=null,key:L="default"}=n,j=P.useMemo(()=>{let z=fs(y,m);return z==null?null:{location:{pathname:z,search:E,hash:T,state:C,key:L},navigationType:r}},[m,y,E,T,C,L,r]);return hi(j!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(On.Provider,{value:p},P.createElement(lu.Provider,{children:e,value:j}))}function s1({children:s,location:e}){return qw(Dm(s),e)}function Dm(s,e=[]){let n=[];return P.Children.forEach(s,(r,o)=>{if(!P.isValidElement(r))return;let u=[...e,o];if(r.type===P.Fragment){n.push.apply(n,Dm(r.props.children,u));return}ht(r.type===Ja,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Dm(r.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function zh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function r1(s){return zh(s)&&s.tagName.toLowerCase()==="button"}function a1(s){return zh(s)&&s.tagName.toLowerCase()==="form"}function o1(s){return zh(s)&&s.tagName.toLowerCase()==="input"}function l1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function u1(s,e){return s.button===0&&(!e||e==="_self")&&!l1(s)}var Jc=null;function c1(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(s){return s!=null&&!h1.has(s)?(hi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):s}function f1(s,e){let n,r,o,u,f;if(a1(s)){let m=s.getAttribute("action");r=m?fs(m,e):null,n=s.getAttribute("method")||ah,o=pm(s.getAttribute("enctype"))||oh,u=new FormData(s)}else if(r1(s)||o1(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?fs(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||ah,o=pm(s.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||oh,u=new FormData(m,s),!c1()){let{name:y,type:E,value:T}=s;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,T)}}else{if(zh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,r=null,o=oh,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function d1(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&fs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function m1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function g1(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await m1(u,n);return f.links?f.links():[]}return[]}));return E1(r.flat(1).filter(p1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fv(s,e,n,r,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function y1(s,e,{includeHydrateFallback:n}={}){return _1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _1(s){return[...new Set(s)]}function v1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function E1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(v1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function zT(){let s=P.useContext(Eo);return dp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function T1(){let s=P.useContext(jh);return dp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var mp=P.createContext(void 0);mp.displayName="FrameworkContext";function BT(){let s=P.useContext(mp);return dp(s,"You must render this element inside a <HydratedRouter> element"),s}function S1(s,e){let n=P.useContext(mp),[r,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,C=P.useRef(null);P.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let z=ee=>{ee.forEach(X=>{f(X.isIntersecting)})},H=new IntersectionObserver(z,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[s]),P.useEffect(()=>{if(r){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[r]);let L=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?s!=="intent"?[u,C,{}]:[u,C,{onFocus:Ll(m,L),onBlur:Ll(p,j),onMouseEnter:Ll(y,L),onMouseLeave:Ll(E,j),onTouchStart:Ll(T,L)}]:[!1,C,{}]}function Ll(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function A1({page:s,...e}){let{router:n}=zT(),r=P.useMemo(()=>CT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?P.createElement(w1,{page:s,matches:r,...e}):null}function b1(s){let{manifest:e,routeModules:n}=BT(),[r,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return g1(s,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,n]),r}function w1({page:s,matches:e,...n}){let r=gr(),{future:o,manifest:u,routeModules:f}=BT(),{basename:m}=zT(),{loaderData:p,matches:y}=T1(),E=P.useMemo(()=>Fv(s,e,y,u,r,"data"),[s,e,y,u,r]),T=P.useMemo(()=>Fv(s,e,y,u,r,"assets"),[s,e,y,u,r]),C=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let z=new Set,H=!1;if(e.forEach(X=>{let oe=u.routes[X.route.id];!oe||!oe.hasLoader||(!E.some(ve=>ve.route.id===X.route.id)&&X.route.id in p&&f[X.route.id]?.shouldRevalidate||oe.hasClientLoader?H=!0:z.add(X.route.id))}),z.size===0)return[];let ee=d1(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&z.size>0&&ee.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[ee.pathname+ee.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,u,E,e,s,f]),L=P.useMemo(()=>y1(T,u),[T,u]),j=b1(T);return P.createElement(P.Fragment,null,C.map(z=>P.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),L.map(z=>P.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),j.map(({key:z,link:H})=>P.createElement("link",{key:z,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function R1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C1&&(window.__reactRouterVersion="7.13.0")}catch{}function I1({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=P.useRef();o.current==null&&(o.current=ow({window:r,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(y=>{n===!1?m(y):P.startTransition(()=>m(y))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(i1,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:C,...L},j){let{basename:z,unstable_useTransitions:H}=P.useContext(On),ee=typeof y=="string"&&HT.test(y),X=OT(y,z);y=X.to;let oe=Bw(y,{relative:o}),[ve,K,ie]=S1(r,L),I=x1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:C,unstable_useTransitions:H});function b(M){e&&e(M),M.defaultPrevented||I(M)}let R=P.createElement("a",{...L,...ie,href:X.absoluteURL||oe,onClick:X.isExternal||u?e:b,ref:R1(j,K),target:p,"data-discover":!ee&&n==="render"?"true":void 0});return ve&&!ee?P.createElement(P.Fragment,null,R,P.createElement(A1,{page:oe})):R});qT.displayName="Link";var D1=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=uu(f,{relative:y.relative}),C=gr(),L=P.useContext(jh),{navigator:j,basename:z}=P.useContext(On),H=L!=null&&P1(T)&&m===!0,ee=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,X=C.pathname,oe=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),oe=oe?oe.toLowerCase():null,ee=ee.toLowerCase()),oe&&z&&(oe=fs(oe,z)||oe);const ve=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let K=X===ee||!o&&X.startsWith(ee)&&X.charAt(ve)==="/",ie=oe!=null&&(oe===ee||!o&&oe.startsWith(ee)&&oe.charAt(ee.length)==="/"),I={isActive:K,isPending:ie,isTransitioning:H},b=K?e:void 0,R;typeof r=="function"?R=r(I):R=[r,K?"active":null,ie?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return P.createElement(qT,{...y,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(I):p)});D1.displayName="NavLink";var N1=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:C,...L},j)=>{let{unstable_useTransitions:z}=P.useContext(On),H=k1(),ee=L1(m,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",oe=typeof m=="string"&&HT.test(m),ve=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let ie=K.nativeEvent.submitter,I=ie?.getAttribute("formmethod")||f,b=()=>H(ie||K.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:C});z&&n!==!1?P.startTransition(()=>b()):b()};return P.createElement("form",{ref:j,method:X,action:ee,onSubmit:r?p:ve,...L,"data-discover":!oe&&s==="render"?"true":void 0})});N1.displayName="Form";function O1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(s){let e=P.useContext(Eo);return ht(e,O1(s)),e}function x1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=ra(),E=gr(),T=uu(s,{relative:u});return P.useCallback(C=>{if(u1(C,e)){C.preventDefault();let L=n!==void 0?n:Xl(E)===Xl(T),j=()=>y(s,{replace:L,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>j()):j()}},[E,y,T,n,r,e,s,o,u,f,m,p])}var M1=0,V1=()=>`__${String(++M1)}__`;function k1(){let{router:s}=FT("useSubmit"),{basename:e}=P.useContext(On),n=Ww(),r=s.fetch,o=s.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=f1(u,e);if(f.navigate===!1){let C=f.fetcherKey||V1();await r(C,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,n])}function L1(s,{relative:e}={}){let{basename:n}=P.useContext(On),r=P.useContext(qi);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...uu(s||".",{relative:e})},f=gr();if(s==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hs([n,u.pathname])),Xl(u)}function P1(s,{relative:e}={}){let n=P.useContext(MT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FT("useViewTransitionState"),o=uu(s,{relative:e});if(!n.isTransitioning)return!1;let u=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const U1=()=>{};var Gv={};const GT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},j1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(C=64)),r.push(n[E],n[T],n[C],n[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(GT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):j1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const T=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new z1;const C=u<<2|m>>4;if(r.push(C),y!==64){const L=m<<4&240|y>>2;if(r.push(L),T!==64){const j=y<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(s){const e=GT(s);return KT.encodeByteArray(e,!0)},Eh=function(s){return B1(s).replace(/\./g,"")},YT=function(s){try{return KT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q1=()=>H1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof Gv>"u")return;const s=Gv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},G1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&YT(s[1]);return e&&JSON.parse(e)},Bh=()=>{try{return U1()||q1()||F1()||G1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$T=s=>Bh()?.emulatorHosts?.[s],K1=s=>{const e=$T(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QT=()=>Bh()?.config,XT=s=>Bh()?.[`_${s}`];class Y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(s){return(await fetch(s,{credentials:"include"})).ok}function $1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Fl={};function Q1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function X1(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Kv=!1;function WT(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Fl[s]===e||Fl[s]||Kv)return;Fl[s]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",u=Q1().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,L){C.setAttribute("width","24"),C.setAttribute("id",L),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Kv=!0,f()},C}function E(C,L){C.setAttribute("id",L),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function T(){const C=X1(r),L=n("text"),j=document.getElementById(L)||document.createElement("span"),z=n("learnmore"),H=document.getElementById(z)||document.createElement("a"),ee=n("preprendIcon"),X=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const oe=C.element;m(oe),E(H,z);const ve=y();p(X,ee),oe.append(X,j,H,ve),document.body.appendChild(oe)}u?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function W1(){const s=Bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function iR(){return!W1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sR(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aR="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aR,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?oR(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ys(o,m,r)}}function oR(s,e){return s.replace(lR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const lR=/\{\$([^}]+)}/g;function uR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Jr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Yv(u)&&Yv(f)){if(!Jr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Yv(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function cR(s,e){const n=new hR(s,e);return n.subscribe.bind(n)}class hR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function gm(){}function Lt(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qr="[DEFAULT]";class dR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(s){return s===Qr?void 0:s}function pR(s){return s.instantiationMode==="EAGER"}class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const yR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},_R=Pe.INFO,vR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ER=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=vR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const TR=(s,e)=>e.some(n=>s instanceof n);let $v,Qv;function SR(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Nm=new WeakMap,e0=new WeakMap,ym=new WeakMap,gp=new WeakMap;function bR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(ir(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ZT.set(n,s)}).catch(()=>{}),gp.set(e,s),e}function wR(s){if(Nm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Nm.set(s,e)}let Om={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||e0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function RR(s){Om=s(Om)}function CR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(_m(this),e,...n);return e0.set(r,e.sort?e.sort():[e]),ir(r)}:AR().includes(s)?function(...e){return s.apply(_m(this),e),ir(ZT.get(this))}:function(...e){return ir(s.apply(_m(this),e))}}function IR(s){return typeof s=="function"?CR(s):(s instanceof IDBTransaction&&wR(s),TR(s,SR())?new Proxy(s,Om):s)}function ir(s){if(s instanceof IDBRequest)return bR(s);if(ym.has(s))return ym.get(s);const e=IR(s);return e!==s&&(ym.set(s,e),gp.set(e,s)),e}const _m=s=>gp.get(s);function DR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=ir(f);return r&&f.addEventListener("upgradeneeded",p=>{r(ir(f.result),p.oldVersion,p.newVersion,ir(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],vm=new Map;function Xv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=OR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}RR(s=>({...s,get:(e,n,r)=>Xv(e,n)||s.get(e,n,r),has:(e,n)=>!!Xv(e,n)||s.has(e,n)}));class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MR(s){return s.getComponent()?.type==="VERSION"}const xm="@firebase/app",Jv="0.14.7";const ds=new pp("@firebase/app"),VR="@firebase/app-compat",kR="@firebase/analytics-compat",LR="@firebase/analytics",PR="@firebase/app-check-compat",UR="@firebase/app-check",jR="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",HR="@firebase/data-connect",qR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",KR="@firebase/installations",YR="@firebase/installations-compat",$R="@firebase/messaging",QR="@firebase/messaging-compat",XR="@firebase/performance",JR="@firebase/performance-compat",WR="@firebase/remote-config",ZR="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/ai",sC="@firebase/firestore-compat",rC="firebase",aC="12.8.0";const Mm="[DEFAULT]",oC={[xm]:"fire-core",[VR]:"fire-core-compat",[LR]:"fire-analytics",[kR]:"fire-analytics-compat",[UR]:"fire-app-check",[PR]:"fire-app-check-compat",[jR]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[HR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[KR]:"fire-iid",[YR]:"fire-iid-compat",[$R]:"fire-fcm",[QR]:"fire-fcm-compat",[XR]:"fire-perf",[JR]:"fire-perf-compat",[WR]:"fire-rc",[ZR]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[sC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[rC]:"fire-js-all"};const Th=new Map,lC=new Map,Vm=new Map;function Wv(s,e){try{s.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function co(s){const e=s.name;if(Vm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,s);for(const n of Th.values())Wv(n,s);for(const n of lC.values())Wv(n,s);return!0}function yp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function oi(s){return s==null?!1:s.settings!==void 0}const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new cu("app","Firebase",uC);class cC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const Ao=aC;function _p(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Mm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw sr.create("bad-app-name",{appName:String(o)});if(n||(n=QT()),!n)throw sr.create("no-options");const u=Th.get(o);if(u){if(Jr(n,u.options)&&Jr(r,u.config))return u;throw sr.create("duplicate-app",{appName:o})}const f=new gR(o);for(const p of Vm.values())f.addComponent(p);const m=new cC(n,r,f);return Th.set(o,m),m}function t0(s=Mm){const e=Th.get(s);if(!e&&s===Mm&&QT())return _p();if(!e)throw sr.create("no-app",{appName:s});return e}function rr(s,e,n){let r=oC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(f.join(" "));return}co(new Wr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hC="firebase-heartbeat-database",fC=1,Jl="firebase-heartbeat-store";let Em=null;function n0(){return Em||(Em=DR(hC,fC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),Em}async function dC(s){try{const n=(await n0()).transaction(Jl),r=await n.objectStore(Jl).get(i0(s));return await n.done,r}catch(e){if(e instanceof ys)ds.warn(e.message);else{const n=sr.create("idb-get",{originalErrorMessage:e?.message});ds.warn(n.message)}}}async function Zv(s,e){try{const r=(await n0()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,i0(s)),await r.done}catch(n){if(n instanceof ys)ds.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n?.message});ds.warn(r.message)}}}function i0(s){return`${s.name}!${s.options.appId}`}const mC=1024,pC=30;class gC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>pC){const o=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eE(),{heartbeatsToSend:n,unsentEntries:r}=yC(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ds.warn(e),""}}}function eE(){return new Date().toISOString().substring(0,10)}function yC(s,e=mC){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sR()?rR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tE(s){return Eh(JSON.stringify({version:2,heartbeats:s})).length}function vC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function EC(s){co(new Wr("platform-logger",e=>new xR(e),"PRIVATE")),co(new Wr("heartbeat",e=>new gC(e),"PRIVATE")),rr(xm,Jv,s),rr(xm,Jv,"esm2020"),rr("fire-js","")}EC("");function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TC=s0,r0=new cu("auth","Firebase",s0());const Sh=new pp("@firebase/auth");function SC(s,...e){Sh.logLevel<=Pe.WARN&&Sh.warn(`Auth (${Ao}): ${s}`,...e)}function lh(s,...e){Sh.logLevel<=Pe.ERROR&&Sh.error(`Auth (${Ao}): ${s}`,...e)}function fi(s,...e){throw vp(s,...e)}function Pi(s,...e){return vp(s,...e)}function a0(s,e,n){const r={...TC(),[e]:n};return new cu("auth","Firebase",r).create(e,{appName:s.name})}function ar(s){return a0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return r0.create(s,...e)}function be(s,e,...n){if(!s)throw vp(e,...n)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw lh(e),new Error(e)}function ms(s,e){s||us(e)}function km(){return typeof self<"u"&&self.location?.href||""}function AC(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function bC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AC()||eR()||"connection"in navigator)?navigator.onLine:!0}function wC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=J1()||tR()}get(){return bC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ep(s,e){ms(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class o0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IC=new fu(3e4,6e4);function aa(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function yr(s,e,n,r,o={}){return l0(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=hu({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return Z1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(y.credentials="include"),o0.fetch()(await u0(s,s.config.apiHost,n,m),y)})}async function l0(s,e,n){s._canInitEmulator=!1;const r={...RC,...e};try{const o=new NC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(s,"user-disabled",f);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw a0(s,E,y);fi(s,E)}}catch(o){if(o instanceof ys)throw o;fi(s,"network-request-failed",{message:String(o)})}}async function Hh(s,e,n,r,o={}){const u=await yr(s,e,n,r,o);return"mfaPendingCredential"in u&&fi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function u0(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Ep(s.config,o):`${s.config.apiScheme}://${o}`;return CC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function DC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),IC.get())})}}function Wc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Pi(s,e,r);return o.customData._tokenResponse=n,o}function iE(s){return s!==void 0&&s.enterprise!==void 0}class OC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xC(s,e){return yr(s,"GET","/v2/recaptchaConfig",aa(s,e))}async function MC(s,e){return yr(s,"POST","/v1/accounts:delete",e)}async function Ah(s,e){return yr(s,"POST","/v1/accounts:lookup",e)}function Gl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VC(s,e=!1){const n=Lt(s),r=await n.getIdToken(e),o=Tp(r);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:Gl(Tm(o.auth_time)),issuedAtTime:Gl(Tm(o.iat)),expirationTime:Gl(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Tm(s){return Number(s)*1e3}function Tp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=YT(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sE(s){const e=Tp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&kC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function kC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(s){const e=s.auth,n=await s.getIdToken(),r=await Wl(s,Ah(e,{idToken:n}));be(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?c0(o.providerUserInfo):[],f=UC(s.providerData,u),m=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function PC(s){const e=Lt(s);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UC(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function c0(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jC(s,e){const n=await l0(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await u0(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(p.credentials="include"),o0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zC(s,e){return yr(s,"POST","/v2/accounts:revokeToken",aa(s,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await jC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new io;return r&&(be(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return us("not implemented")}}function Js(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VC(this,e)}reload(){return PC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Wl(this,MC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:C,isAnonymous:L,providerData:j,stsTokenManager:z}=n;be(T&&z,e,"internal-error");const H=io.fromJSON(this.name,z);be(typeof T=="string",e,"internal-error"),Js(r,e.name),Js(o,e.name),be(typeof C=="boolean",e,"internal-error"),be(typeof L=="boolean",e,"internal-error"),Js(u,e.name),Js(f,e.name),Js(m,e.name),Js(p,e.name),Js(y,e.name),Js(E,e.name);const ee=new li({uid:T,auth:e,email:o,emailVerified:C,displayName:r,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return j&&Array.isArray(j)&&(ee.providerData=j.map(X=>({...X}))),p&&(ee._redirectEventId=p),ee}static async _fromIdTokenResponse(e,n,r=!1){const o=new io;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?c0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(r);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const rE=new Map;function cs(s){ms(s instanceof Function,"Expected a class definition");let e=rE.get(s);return e?(ms(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,rE.set(s,e),e)}class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h0.type="NONE";const aE=h0;function uh(s,e,n){return`firebase:${s}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(cs(aE),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||cs(aE);const f=uh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const C=await Ah(e,{idToken:E}).catch(()=>{});if(!C)break;T=await li._fromGetAccountInfoResponse(e,C,E)}else T=li._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new so(u,e,r))}}function oE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(_0(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||m0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function f0(s=tn()){return/firefox\//i.test(s)}function d0(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m0(s=tn()){return/crios\//i.test(s)}function p0(s=tn()){return/iemobile/i.test(s)}function g0(s=tn()){return/android/i.test(s)}function y0(s=tn()){return/blackberry/i.test(s)}function _0(s=tn()){return/webos/i.test(s)}function Sp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function BC(s=tn()){return Sp(s)&&!!window.navigator?.standalone}function HC(){return nR()&&document.documentMode===10}function v0(s=tn()){return Sp(s)||g0(s)||_0(s)||y0(s)||/windows phone/i.test(s)||p0(s)}function E0(s,e=[]){let n;switch(s){case"Browser":n=oE(tn());break;case"Worker":n=`${oE(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}class qC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function FC(s,e={}){return yr(s,"GET","/v2/passwordPolicy",aa(s,e))}const GC=6;class KC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class YC{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new qC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(ar(this));const n=e?Lt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FC(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bo(s){return Lt(s)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $C(s){qh=s}function T0(s){return qh.loadJS(s)}function QC(){return qh.recaptchaEnterpriseScript}function XC(){return qh.gapiScript}function JC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class WC{constructor(){this.enterprise=new ZC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eI="recaptcha-enterprise",S0="NO_RECAPTCHA";class tI{constructor(e){this.type=eI,this.auth=bo(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{xC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new OC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(S0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&iE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=QC();p.length!==0&&(p+=m),T0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function uE(s,e,n,r=!1,o=!1){const u=new tI(s);let f;if(o)f=S0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function cE(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uE(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function nI(s,e){const n=yp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Jr(u,e??{}))return o;fi(o,"already-initialized")}return n.initialize({options:e})}function iI(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function sI(s,e,n){const r=bo(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=A0(e),{host:f,port:m}=rI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Jr(y,r.config.emulator)&&Jr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,So(f)?(JT(`${u}//${f}${p}`),WT("Auth",!0)):aI()}function A0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function rI(s){const e=A0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:hE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:hE(f)}}}function hE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function aI(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function oI(s,e){return yr(s,"POST","/v1/accounts:signUp",e)}async function lI(s,e){return Hh(s,"POST","/v1/accounts:signInWithPassword",aa(s,e))}async function uI(s,e){return Hh(s,"POST","/v1/accounts:signInWithEmailLink",aa(s,e))}async function cI(s,e){return Hh(s,"POST","/v1/accounts:signInWithEmailLink",aa(s,e))}class Zl extends Ap{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cE(e,n,"signInWithPassword",lI);case"emailLink":return uI(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cE(e,r,"signUpPassword",oI);case"emailLink":return cI(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(s,e){return Hh(s,"POST","/v1/accounts:signInWithIdp",aa(s,e))}const hI="http://localhost";class Zr extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Zr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:hI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function fI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dI(s){const e=jl(zl(s)).link,n=e?jl(zl(e)).deep_link_id:null,r=jl(zl(s)).deep_link_id;return(r?jl(zl(r)).link:null)||r||n||e||s}class bp{constructor(e){const n=jl(zl(e)),r=n.apiKey??null,o=n.oobCode??null,u=fI(n.mode??null);be(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dI(e);try{return new bp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bp.parseLink(n);return be(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class b0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends b0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ws extends du{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class Zs extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";class er extends du{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class tr extends du{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await li._fromIdTokenResponse(e,r,o),f=fE(r);return new ho({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=fE(r);return new ho({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function fE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class wh extends ys{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new wh(e,n,r,o)}}function w0(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(s,u,e,r):u})}async function mI(s,e,n=!1){const r=await Wl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ho._forOperation(s,"link",r)}async function pI(s,e,n=!1){const{auth:r}=s;if(oi(r.app))return Promise.reject(ar(r));const o="reauthenticate";try{const u=await Wl(s,w0(r,o,e,s),n);be(u.idToken,r,"internal-error");const f=Tp(u.idToken);be(f,r,"internal-error");const{sub:m}=f;return be(s.uid===m,r,"user-mismatch"),ho._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),u}}async function R0(s,e,n=!1){if(oi(s.app))return Promise.reject(ar(s));const r="signIn",o=await w0(s,r,e),u=await ho._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function gI(s,e){return R0(bo(s),e)}async function yI(s){const e=bo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _I(s,e,n){return oi(s.app)?Promise.reject(ar(s)):gI(Lt(s),wo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(s),r})}function vI(s,e){return Lt(s).setPersistence(e)}function EI(s,e,n,r){return Lt(s).onIdTokenChanged(e,n,r)}function TI(s,e,n){return Lt(s).beforeAuthStateChanged(e,n)}function SI(s,e,n,r){return Lt(s).onAuthStateChanged(e,n,r)}function AI(s){return Lt(s).signOut()}const Rh="__sak";class C0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bI=1e3,wI=10;class I0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);HC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wI):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const D0=I0;class N0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N0.type="SESSION";const wp=N0;function RI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Fh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await RI(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function Rp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class CI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(T){const C=T;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ui(){return window}function II(s){Ui().location.href=s}function O0(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function DI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NI(){return navigator?.serviceWorker?.controller||null}function OI(){return O0()?self:null}const x0="firebaseLocalStorageDb",xI=1,Ch="firebaseLocalStorage",M0="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(s,e){return s.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function MI(){const s=indexedDB.deleteDatabase(x0);return new mu(s).toPromise()}function Pm(){const s=indexedDB.open(x0,xI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Ch,{keyPath:M0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await MI(),e(await Pm()))})})}async function dE(s,e,n){const r=Gh(s,!0).put({[M0]:e,value:n});return new mu(r).toPromise()}async function VI(s,e){const n=Gh(s,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function mE(s,e){const n=Gh(s,!0).delete(e);return new mu(n).toPromise()}const kI=800,LI=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(OI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new CI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await dE(e,Rh,"1"),await mE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const PI=V0;new fu(3e4,6e4);function UI(s,e){return e?cs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jI(s){return R0(s.auth,new Cp(s),s.bypassAuthState)}function zI(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),pI(n,new Cp(s),s.bypassAuthState)}async function BI(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),mI(n,new Cp(s),s.bypassAuthState)}class k0{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jI;case"linkViaPopup":case"linkViaRedirect":return BI;case"reauthViaPopup":case"reauthViaRedirect":return zI;default:fi(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HI=new fu(2e3,1e4);class no extends k0{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HI.get())};e()}}no.currentPopupAction=null;const qI="pendingRedirect",ch=new Map;class FI extends k0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await GI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GI(s,e){const n=$I(e),r=YI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function KI(s,e){ch.set(s._key(),e)}function YI(s){return cs(s._redirectPersistence)}function $I(s){return uh(qI,s.config.apiKey,s.name)}async function QI(s,e,n=!1){if(oi(s.app))return Promise.reject(ar(s));const r=bo(s),o=UI(r,e),f=await new FI(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const XI=600*1e3;class JI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!L0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function L0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function WI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(s);default:return!1}}async function ZI(s,e={}){return yr(s,"GET","/v1/projects",e)}const eD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tD=/^https?/;async function nD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ZI(s);for(const n of e)try{if(iD(n))return}catch{}fi(s,"unauthorized-domain")}function iD(s){const e=km(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!tD.test(n))return!1;if(eD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const sD=new fu(3e4,6e4);function gE(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function rD(s){return new Promise((e,n)=>{function r(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(Pi(s,"network-request-failed"))},timeout:sD.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const o=JC("iframefcb");return Ui()[o]=()=>{gapi.load?r():n(Pi(s,"network-request-failed"))},T0(`${XC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function aD(s){return hh=hh||rD(s),hh}const oD=new fu(5e3,15e3),lD="__/auth/iframe",uD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Ep(e,uD):`https://${s.config.authDomain}/${lD}`,r={apiKey:e.apiKey,appName:s.name,v:Ao},o=hD.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${hu(r).slice(1)}`}async function dD(s){const e=await aD(s),n=Ui().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:fD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Pi(s,"network-request-failed"),m=Ui().setTimeout(()=>{u(f)},oD.get());function p(){Ui().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(f)})}))}const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,gD=600,yD="_blank",_D="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(s,e,n,r=pD,o=gD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...mD,width:r.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=m0(y)?yD:n),f0(y)&&(e=e||_D,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[L,j])=>`${C}${L}=${j},`,"");if(BC(y)&&m!=="_self")return ED(e||"",m),new yE(null);const T=window.open(e||"",m,E);be(T,s,"popup-blocked");try{T.focus()}catch{}return new yE(T)}function ED(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const TD="__/auth/handler",SD="emulator/auth/handler",AD=encodeURIComponent("fac");async function _E(s,e,n,r,o,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ao,eventId:o};if(e instanceof b0){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",uR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof du){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),y=p?`#${AD}=${encodeURIComponent(p)}`:"";return`${bD(s)}?${hu(m).slice(1)}${y}`}function bD({config:s}){return s.emulator?Ep(s,SD):`https://${s.authDomain}/${TD}`}const Sm="webStorageSupport";class wD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wp,this._completeRedirectFn=QI,this._overrideRedirectResult=KI}async _openPopup(e,n,r,o){ms(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await _E(e,n,r,km(),o);return vD(e,u,Rp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await _E(e,n,r,km(),o);return II(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ms(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dD(e),r=new JI(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v0()||d0()||Sp()}}const RD=wD;var vE="@firebase/auth",EE="1.12.0";class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ID(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DD(s){co(new Wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(s)},y=new YC(r,o,u,p);return iI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),co(new Wr("auth-internal",e=>{const n=bo(e.getProvider("auth").getImmediate());return(r=>new CD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(vE,EE,ID(s)),rr(vE,EE,"esm2020")}const ND=300,OD=XT("authIdTokenMaxAge")||ND;let TE=null;const xD=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OD)return;const o=n?.token;TE!==o&&(TE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P0(s=t0()){const e=yp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=nI(s,{popupRedirectResolver:RD,persistence:[PI,D0,wp]}),r=XT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=xD(u.toString());TI(n,f,()=>f(n.currentUser)),EI(n,m=>f(m))}}const o=$T("auth");return o&&sI(n,`http://${o}`),n}function MD(){return document.getElementsByTagName("head")?.[0]??document}$C({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",MD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DD("Browser");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,U0;(function(){var s;function e(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,N,V){for(var D=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)D[qe-2]=arguments[qe];return b.prototype[N].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],N=I.g[2];let V=I.g[3],D;D=b+(V^R&(N^V))+M[0]+3614090360&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[1]+3905402710&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[2]+606105819&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(V^R&(N^V))+M[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[5]+1200080426&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[6]+2821735955&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(V^R&(N^V))+M[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[9]+2336552879&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[10]+4294925233&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(V^R&(N^V))+M[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=V+(N^b&(R^N))+M[13]+4254626195&4294967295,V=b+(D<<12&4294967295|D>>>20),D=N+(R^V&(b^R))+M[14]+2792965006&4294967295,N=V+(D<<17&4294967295|D>>>15),D=R+(b^N&(V^b))+M[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=b+(N^V&(R^N))+M[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[6]+3225465664&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[11]+643717713&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^V&(R^N))+M[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[10]+38016083&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[15]+3634488961&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^V&(R^N))+M[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[14]+3275163606&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[3]+4107603335&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(N^V&(R^N))+M[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=V+(R^N&(b^R))+M[2]+4243563512&4294967295,V=b+(D<<9&4294967295|D>>>23),D=N+(b^R&(V^b))+M[7]+1735328473&4294967295,N=V+(D<<14&4294967295|D>>>18),D=R+(V^b&(N^V))+M[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=b+(R^N^V)+M[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[8]+2272392833&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[11]+1839030562&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^V)+M[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[4]+1272893353&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[7]+4139469664&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^V)+M[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[0]+3936430074&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[3]+3572445317&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(R^N^V)+M[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=V+(b^R^N)+M[12]+3873151461&4294967295,V=b+(D<<11&4294967295|D>>>21),D=N+(V^b^R)+M[15]+530742520&4294967295,N=V+(D<<16&4294967295|D>>>16),D=R+(N^V^b)+M[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=b+(N^(R|~V))+M[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[7]+1126891415&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[14]+2878612391&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~V))+M[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[3]+2399980690&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[10]+4293915773&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~V))+M[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[15]+4264355552&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[6]+2734768916&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=b+(N^(R|~V))+M[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=V+(R^(b|~N))+M[11]+3174756917&4294967295,V=b+(D<<10&4294967295|D>>>22),D=N+(b^(V|~R))+M[2]+718787259&4294967295,N=V+(D<<15&4294967295|D>>>17),D=R+(V^(N|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,M=this.C;let N=this.h,V=0;for(;V<b;){if(N==0)for(;V<=R;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<b;)if(M[N++]=I.charCodeAt(V++),N==this.blockSize){o(this,M),N=0;break}}else for(;V<b;)if(M[N++]=I[V++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[b++]=this.g[R]>>>M&255;return I};function u(I,b){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function f(I,b){this.h=b;const R=[];let M=!0;for(let N=I.length-1;N>=0;N--){const V=I[N]|0;M&&V==b||(R[N]=V,M=!1)}this.g=R}var m={};function p(I){return-128<=I&&I<128?u(I,function(b){return new f([b|0],b<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return H(y(-I));const b=[];let R=1;for(let M=0;I>=R;M++)b[M]=I/R|0,R*=4294967296;return new f(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return H(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=T;for(let V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V);const D=parseInt(I.substring(V,V+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(D))):(M=M.j(R),M=M.add(y(D)))}return M}var T=p(0),C=p(1),L=p(16777216);s=f.prototype,s.m=function(){if(z(this))return-H(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(z(this))return"-"+H(this).toString(I);const b=y(Math.pow(I,6));var R=this;let M="";for(;;){const N=ve(R,b).g;R=ee(R,N.j(b));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,j(R))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function z(I){return I.h==-1}s.l=function(I){return I=ee(this,I),z(I)?-1:j(I)?0:1};function H(I){const b=I.g.length,R=[];for(let M=0;M<b;M++)R[M]=~I.g[M];return new f(R,~I.h).add(C)}s.abs=function(){return z(this)?H(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let N=0;N<=b;N++){let V=M+(this.i(N)&65535)+(I.i(N)&65535),D=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=D>>>16,V&=65535,D&=65535,R[N]=D<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ee(I,b){return I.add(H(b))}s.j=function(I){if(j(this)||j(I))return T;if(z(this))return z(I)?H(this).j(H(I)):H(H(this).j(I));if(z(I))return H(this.j(H(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const V=this.i(M)>>>16,D=this.i(M)&65535,qe=I.i(N)>>>16,rt=I.i(N)&65535;R[2*M+2*N]+=D*rt,X(R,2*M+2*N),R[2*M+2*N+1]+=V*rt,X(R,2*M+2*N+1),R[2*M+2*N+1]+=D*qe,X(R,2*M+2*N+1),R[2*M+2*N+2]+=V*qe,X(R,2*M+2*N+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new f(R,0)};function X(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function oe(I,b){this.g=I,this.h=b}function ve(I,b){if(j(b))throw Error("division by zero");if(j(I))return new oe(T,T);if(z(I))return b=ve(H(I),b),new oe(H(b.g),H(b.h));if(z(b))return b=ve(I,H(b)),new oe(H(b.g),b.h);if(I.g.length>30){if(z(I)||z(b))throw Error("slowDivide_ only works with positive integers.");for(var R=C,M=b;M.l(I)<=0;)R=K(R),M=K(M);var N=ie(R,1),V=ie(M,1);for(M=ie(M,2),R=ie(R,2);!j(M);){var D=V.add(M);D.l(I)<=0&&(N=N.add(R),V=D),M=ie(M,1),R=ie(R,1)}return b=ee(I,N.j(b)),new oe(N,b)}for(N=T;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(R),D=V.j(b);z(D)||D.l(I)>0;)R-=M,V=y(R),D=V.j(b);j(V)&&(V=C),N=N.add(V),I=ee(I,D)}return new oe(N,I)}s.B=function(I){return ve(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&I.i(M);return new f(R,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|I.i(M);return new f(R,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^I.i(M);return new f(R,this.h^I.h)};function K(I){const b=I.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(R,I.h)}function ie(I,b){const R=b>>5;b%=32;const M=I.g.length-R,N=[];for(let V=0;V<M;V++)N[V]=b>0?I.i(V+R)>>>b|I.i(V+R+1)<<32-b:I.i(V+R);return new f(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,U0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,or=f}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var j0,Bl,z0,fh,Um,B0,H0,q0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in v))break e;v=v[B]}c=c[c.length-1],w=v[c],g=g(w),g!=w&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],w;for(w in g)Object.prototype.hasOwnProperty.call(g,w)&&v.push([w,g[w]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,B,$){for(var he=Array(arguments.length-2),De=2;De<arguments.length;De++)he[De-2]=arguments[De];return g.prototype[B].apply(w,he)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let w=0;w<g;w++)v[w]=c[w];return v}return[]}function j(c,g){for(let w=1;w<arguments.length;w++){const B=arguments[w];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const $=B.length||0;c.length=v+$;for(let he=0;he<$;he++)c[v+he]=B[he]}else c.push(B)}}class z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function ee(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,v){const w=oe.get();w.set(g,v),this.h?this.h.next=w:this.g=w,this.h=w}}var oe=new z(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ie=!1,I=new X,b=()=>{const c=Promise.resolve(void 0);K=()=>{c.then(R)}};function R(){for(var c;c=ee();){try{c.h.call(c.g)}catch(v){H(v)}var g=oe;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function qe(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(qe,N),qe.prototype.init=function(c,g){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ce(c,g,v,w,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!w,this.ha=B,this.key=++J,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c,g,v){for(const w in c)g.call(v,c[w],w,c)}function le(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function O(c){const g={};for(const v in c)g[v]=c[v];return g}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let v,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(v in w)c[v]=w[v];for(let $=0;$<Y.length;$++)v=Y[$],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,v,w,B){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const he=ge(c,g,w,B);return he>-1?(g=c[he],v||(g.fa=!1)):(g=new ce(g,this.src,$,!!w,B),g.fa=v,c.push(g)),g};function de(c,g){const v=g.type;if(v in c.g){var w=c.g[v],B=Array.prototype.indexOf.call(w,g,void 0),$;($=B>=0)&&Array.prototype.splice.call(w,B,1),$&&(_e(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ge(c,g,v,w){for(let B=0;B<c.length;++B){const $=c[B];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==w)return B}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ke={};function Ve(c,g,v,w,B){if(Array.isArray(g)){for(let $=0;$<g.length;$++)Ve(c,g[$],v,w,B);return null}return v=xo(v),c&&c[rt]?c.J(g,v,m(w)?!!w.capture:!1,B):ln(c,g,v,!1,w,B)}function ln(c,g,v,w,B,$){if(!g)throw Error("Invalid event type");const he=m(B)?!!B.capture:!!B;let De=En(c);if(De||(c[Se]=De=new ue(c)),v=De.add(g,v,w,he,$),v.proxy)return v;if(w=nn(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)V||(B=he),B===void 0&&(B=!1),c.addEventListener(g.toString(),w,B);else if(c.attachEvent)c.attachEvent(sn(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function nn(){function c(v){return g.call(c.src,c.listener,v)}const g=Yn;return c}function un(c,g,v,w,B){if(Array.isArray(g))for(var $=0;$<g.length;$++)un(c,g[$],v,w,B);else w=m(w)?!!w.capture:!!w,v=xo(v),c&&c[rt]?(c=c.i,$=String(g).toString(),$ in c.g&&(g=c.g[$],v=ge(g,v,w,B),v>-1&&(_e(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[$],c.h--)))):c&&(c=En(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ge(g,v,w,B)),(v=c>-1?g[c]:null)&&cn(v))}function cn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[rt])de(g.i,c);else{var v=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(v,w,c.capture):g.detachEvent?g.detachEvent(sn(v),w):g.addListener&&g.removeListener&&g.removeListener(w),(v=En(g))?(de(v,c),v.h==0&&(v.src=null,g[Se]=null)):_e(c)}}}function sn(c){return c in Ke?Ke[c]:Ke[c]="on"+c}function Yn(c,g){if(c.da)c=!0;else{g=new qe(g,this);const v=c.listener,w=c.ha||c.src;c.fa&&cn(c),c=v.call(w,g)}return c}function En(c){return c=c[Se],c instanceof ue?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(g){return c.handleEvent(g)}),c[Oo])}function Et(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}T(Et,M),Et.prototype[rt]=!0,Et.prototype.removeEventListener=function(c,g,v,w){un(this,c,g,v,w)};function xt(c,g){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var B=g;g=new N(w,c),re(g,B)}B=!0;let $,he;if(v)for(he=v.length-1;he>=0;he--)$=g.g=v[he],B=_s($,w,!0,g)&&B;if($=g.g=c,B=_s($,w,!0,g)&&B,B=_s($,w,!1,g)&&B,v)for(he=0;he<v.length;he++)$=g.g=v[he],B=_s($,w,!1,g)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let w=0;w<v.length;w++)_e(v[w]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,w){return this.i.add(String(c),g,!1,v,w)},Et.prototype.K=function(c,g,v,w){return this.i.add(String(c),g,!0,v,w)};function _s(c,g,v,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let $=0;$<g.length;++$){const he=g[$];if(he&&!he.da&&he.capture==v){const De=he.listener,gt=he.ha||he.src;he.fa&&de(c.i,he),B=De.call(gt,w)!==!1&&B}}return B&&!w.defaultPrevented}function uf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Su(c){c.g=uf(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(c){M.call(this),this.h=c,this.g={}}T(Er,M);var Mo=[];function Vo(c){ae(c.g,function(g,v){this.g.hasOwnProperty(v)&&cn(g)},c),c.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Vo(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=f.JSON.stringify,cf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function bu(){}function wu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){N.call(this,"d")}T(Bt,N);function xn(){N.call(this,"c")}T(xn,N);var pt={},Ru=null;function ca(){return Ru=Ru||new Et}pt.Ia="serverreachability";function Cu(c){N.call(this,pt.Ia,c)}T(Cu,N);function mi(c){const g=ca();xt(g,new Cu(g))}pt.STAT_EVENT="statevent";function Tr(c,g){N.call(this,pt.STAT_EVENT,c),this.stat=g}T(Tr,N);function Tt(c){const g=ca();xt(g,new Tr(g,c))}pt.Ja="timingevent";function pi(c,g){N.call(this,pt.Ja,c),this.size=g}T(pi,N);function gi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function hf(c,g,v,w,B,$){c.info(function(){if(c.g)if($){var he="",De=$.split("&");for(let Ye=0;Ye<De.length;Ye++){var gt=De[Ye].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const Ln=ut.split("_");he=Ln.length>=2&&Ln[1]=="type"?he+(ut+"="+gt+"&"):he+(ut+"=redacted&")}}}else he=null;else he=$;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+g+`
`+v+`
`+he})}function Iu(c,g,v,w,B,$,he){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+g+`
`+v+`
`+$+" "+he})}function yi(c,g,v,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ff(c,v)+(w?" "+w:"")})}function Sr(c,g){c.info(function(){return"TIMEOUT: "+g})}Qn.prototype.info=function(){};function ff(c,g){if(!c.g)return g;if(!g)return null;try{const $=JSON.parse(g);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let he=1;he<w.length;he++)w[he]=""}}}}return vs($)}catch{return g}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function br(){}T(br,bu),br.prototype.g=function(){return new XMLHttpRequest},Lo=new br;function Fi(c){return encodeURIComponent(String(c))}function Du(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Xn(c,g,v,w){this.j=c,this.i=g,this.l=v,this.S=w||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var St={},Pt={};function _i(c,g,v){c.M=1,c.A=wr(bt(g)),c.u=v,c.R=!0,ha(c,null)}function ha(c,g){c.F=Date.now(),vi(c),c.B=bt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),pa(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Jn,c.g=Fu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,w=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Mo[0]=B.toString()),B=Mo);for(let $=0;$<B.length;$++){const he=Ve(v,B[$],w||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),mi(),hf(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const g=this.O;g&&ei(c)==3?g.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ei(this.g),gt=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||De!=4||gt==7||(gt==8||Ye<=0?mi(3):mi(2)),Ei(this);var g=this.g.ca();this.X=g;var v=df(this);if(this.o=g==200,Iu(this.i,this.v,this.B,this.l,this.S,De,g),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var $=w;break t}}$=null}if(c=$)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,Tt(12),Tn(this),Mn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Ou(this,v),ut==Pt){De==4&&(this.m=4,Tt(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,Tt(15),yi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,ut,null),Ti(this,ut);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(he),he.P=!0,Tt(11))}}else yi(this.i,this.l,v,null),Ti(this,v);De==4&&Tn(this),this.o&&!this.K&&(De==4?zu(this.j,this):(this.o=!1,vi(this)))}else Ki(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Tn(this),Mn(this)}}}catch{}};function df(c){if(!Nu(c))return c.g.la();const g=Ht(c.g);if(g==="")return"";let v="";const w=g.length,B=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Mn(c),"";c.h.i=new f.TextDecoder}for(let $=0;$<w;$++)c.h.h=!0,v+=c.h.i.decode(g[$],{stream:!(B&&$==w-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,g){var v=c.C,w=g.indexOf(`
`,v);return w==-1?Pt:(v=Number(g.substring(v,w)),isNaN(v)?St:(w+=1,w+v>g.length?Pt:(g=g.slice(w,w+v),c.C=w+v,g)))}Xn.prototype.cancel=function(){this.K=!0,Tn(this)};function vi(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(y(c.aa,c),g)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(mi(),Tt(17)),Tn(this),this.m=2,Mn(this)):fa(this,this.T-c)};function Mn(c){c.j.I==0||c.K||zu(c.j,c)}function Tn(c){Ei(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Vo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ti(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ai(v.h,c))){if(!c.L&&Ai(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Cs(v);else break e;xr(v),Tt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((c.L||v.g==c)&&Ea(v),!D(g))for(B=v.Ba.g.parse(g),g=0;g<B.length;g++){let Ye=B[g];const ut=Ye[0];if(!(ut<=v.K))if(v.K=ut,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Ln=Ye[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ni=Ye[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ti=Ye[5];ti!=null&&typeof ti=="number"&&ti>0&&(w=1.5*ti,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ni=c.g;if(ni){const Mr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var $=w.h;$.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(jo($,$.h),$.h=null))}if(w.G){const Ta=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(w.wa=Ta,Xe(w.J,w.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var he=c;if(w.na=qu(w,w.L?w.ba:null,w.W),he.L){zo(w.h,he);var De=he,gt=w.O;gt&&(De.H=gt),De.D&&(Ei(De),vi(De)),w.g=he}else Uu(w);v.i.length>0&&Ii(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Di(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Di(v,7):Qo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}mi(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function jo(c,g){c.g?c.g.add(g):c.h=g}function zo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let B,$=null;w>=0?(B=c[v].substring(0,w),$=c[v].substring(w+1)):B=c[v],g(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Sn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,Es(this,c.u),this.h=c.h,Ho(this,Lu(c.i)),this.m=c.m):c&&(g=String(c).match(xu))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=bi(g[2]||""),this.g=bi(g[3]||"",!0),Es(this,g[4]),this.h=bi(g[5]||"",!0),Ho(this,g[6]||"",!0),this.m=bi(g[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}Sn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Rr(g,ma,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Rr(g,ma,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rr(v,v.charAt(0)=="/"?qo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rr(v,Vu)),c.join("")},Sn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?Ut(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var w=c.h;if(v)Es(g,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=g.h.lastIndexOf("/");B!=-1&&(w=g.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let he=0;he<B.length;){const De=B[he++];De=="."?w&&he==B.length&&$.push(""):De==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&he==B.length&&$.push("")):($.push(De),w=!0)}w=$.join("/")}else w=B}return v?g.h=w:v=c.i.toString()!=="",v?Ho(g,Lu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new Sn(c)}function Ut(c,g,v){c.j=v?bi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Es(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Ho(c,g,v){g instanceof Ss?(c.i=g,ga(c.i,c.l)):(v||(g=Rr(g,Ts)),c.i=new Ss(g,c.l))}function Xe(c,g,v){c.i.set(g,v)}function wr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rr(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,hn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Mu=/[#\?:]/g,qo=/[#\?]/g,Ts=/[#\?@]/g,Vu=/#/g;function Ss(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(c,g){fn(this),this.i=null,c=As(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ku(c,g){fn(c),g=As(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fo(c,g){return fn(c),g=As(c,g),c.g.has(g)}s.forEach=function(c,g){fn(this),this.g.forEach(function(v,w){v.forEach(function(B){c.call(g,B,w,this)},this)},this)};function Go(c,g){fn(c);let v=[];if(typeof g=="string")Fo(c,g)&&(v=v.concat(c.g.get(As(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}s.set=function(c,g){return fn(this),this.i=null,c=As(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=Go(this,c),c.length>0?String(c[0]):g):g};function pa(c,g,v){ku(c,g),v.length>0&&(c.i=null,c.g.set(As(c,g),L(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let w=0;w<g.length;w++){var v=g[w];const B=Fi(v);v=Go(this,v);for(let $=0;$<v.length;$++){let he=B;v[$]!==""&&(he+="="+Fi(v[$])),c.push(he)}}return this.i=c.join("&")};function Lu(c){const g=new Ss;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function As(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ga(c,g){g&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(v,w){const B=w.toLowerCase();w!=B&&(ku(this,w),pa(this,B,v))},c)),c.j=g}function Wn(c,g){const v=new Qn;if(f.Image){const w=new Image;w.onload=E(Vn,v,"TestLoadImage: loaded",!0,g,w),w.onerror=E(Vn,v,"TestLoadImage: error",!1,g,w),w.onabort=E(Vn,v,"TestLoadImage: abort",!1,g,w),w.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,g,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function Ko(c,g){const v=new Qn,w=new AbortController,B=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(B),$.ok?Vn(v,"TestPingServer: ok",!0,g):Vn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Vn(v,"TestPingServer: error",!1,g)})}function Vn(c,g,v,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(v)}catch{}}function bs(){this.g=new Au}function wi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(wi,bu),wi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Cr,Et),s=Cr.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Zn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ws(this):Zn(this),this.readyState==3&&ya(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ws(this))},s.Na=function(c){this.g&&(this.response=c,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let g="";return ae(c,function(v,w){g+=w,g+=":",g+=v,g+=`\r
`}),g}function Ir(c,g,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=kn(v),typeof c=="string"?v!=null&&Fi(v):Xe(c,g,v))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Et);var Ri=/^https?$/i,Yo=["POST","PUT"];s=Ze.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=C(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){Dr(this,$);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)v.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,g,void 0)>=0)||w||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,he]of v)this.g.setRequestHeader($,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Dr(this,$)}};function Dr(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,$o(c),Gi(c)}function $o(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(c){if(c.h&&typeof u<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),ei(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var w;if(w=$===0){let he=String(c.D).match(xu)[1]||null;!he&&f.self&&f.self.location&&(he=f.self.location.protocol.slice(0,-1)),w=!Ri.test(he?he.toLowerCase():"")}v=w}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var B=ei(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",$o(c)}}finally{Gi(c)}}}}function Gi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),cf(g)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const g={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(D(c[w]))continue;var v=Du(c[w]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[B]||[];g[B]=$,$.push(v)}le(g,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Rs(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new bs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(c,g,v,w){Tt(0),this.W=c,this.H=g||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=qu(this,null,this.W),Ii(this)};function Qo(c){if(_a(c),c.I==3){var g=c.V++,v=bt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",g),Xe(v,"TYPE","terminate"),Or(c,v),g=new Xn(c,c.j,g),g.M=2,g.A=wr(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Fu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),vi(g)}Hu(c)}function Cs(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function _a(c){Cs(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!Uo(c.h)&&!c.m){c.m=!0;var g=c.Ea;K||b(),ie||(K(),ie=!0),I.add(g,c),c.D=0}}function va(c,g){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(y(c.Ea,c,g),Bu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Xn(this,this.j,c);let $=this.o;if(this.U&&($?($=O($),re($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Pu(this,B,g),v=bt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Or(this,v),$&&(this.R?g="headers="+Fi(kn($))+"&"+g:this.u&&Ir(v,this.u,$)),jo(this.h,B),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",g),Xe(v,"SID","null"),B.U=!0,_i(B,v,null)):_i(B,v,g),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Uo(this.h)||Xo(this))};function Xo(c,g){var v;g?v=g.l:v=c.V++;const w=bt(c.J);Xe(w,"SID",c.M),Xe(w,"RID",v),Xe(w,"AID",c.K),Or(c,w),c.u&&c.o&&Ir(w,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),_i(v,w,g)}function Or(c,g){c.H&&ae(c.H,function(v,w){Xe(g,w,v)}),c.l&&ae({},function(v,w){Xe(g,w,v)})}function Pu(c,g,v){v=Math.min(c.i.length,v);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var B=c.i;let De=-1;for(;;){const gt=["count="+v];De==-1?v>0?(De=B[0].g,gt.push("ofs="+De)):De=0:gt.push("ofs="+De);let Ye=!0;for(let ut=0;ut<v;ut++){var $=B[ut].g;const Ln=B[ut].map;if($-=De,$<0)De=Math.max(0,B[ut].g-100),Ye=!1;else try{$="req"+$+"_"||"";try{var he=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ni,ti]of he){let ni=ti;m(ti)&&(ni=vs(ti)),gt.push($+Ni+"="+encodeURIComponent(ni))}}catch(Ni){throw gt.push($+"type="+encodeURIComponent("_badmap")),Ni}}catch{w&&w(Ln)}}if(Ye){he=gt.join("&");break e}}he=void 0}return c=c.i.splice(0,v),g.G=c,he}function Uu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;K||b(),ie||(K(),ie=!0),I.add(g,c),c.A=0}}function xr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(y(c.Da,c),Bu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cs(this),ju(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ju(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),Or(c,g),c.u&&c.o&&Ir(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=wr(bt(g)),v.u=null,v.R=!0,ha(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),xr(this),Tt(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function zu(c,g){var v=null;if(c.g==g){Ea(c),Jo(c),c.g=null;var w=2}else if(Ai(c.h,g))v=g.G,zo(c.h,g),w=1;else return;if(c.I!=0){if(g.o)if(w==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var B=c.D;w=ca(),xt(w,new pi(w,v)),Ii(c)}else Uu(c);else if(B=g.m,B==3||B==0&&g.X>0||!(w==1&&va(c,g)||w==2&&xr(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),B){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Bu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Di(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),w=c.Ua;const B=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(w,"https"),wr(w),B?Wn(w.toString(),v):Ko(w.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),Hu(c),_a(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const g=Bo(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ja,g),j(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function qu(c,g,v){var w=v instanceof Sn?bt(v):new Sn(v);if(w.g!="")g&&(w.g=g+"."+w.g),Es(w,w.u);else{var B=f.location;w=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const $=new Sn(null);w&&Ut($,w),g&&($.g=g),B&&Es($,B),v&&($.h=v),w=$}return v=c.G,g=c.wa,v&&g&&Xe(w,v,g),Xe(w,"VER",c.ka),Or(c,w),w}function Fu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Ze(new wi({ab:v})):new Ze(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}s=Gu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(c,g){return new an(c,g)};function an(c,g){Et.call(this),this.g=new Rs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Yi(this)}T(an,Et),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Qo(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vs(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&Ii(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,an.Z.N.call(this)};function Ku(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Ku,Bt);function Yu(){xn.call(this),this.status=1}T(Yu,xn);function Yi(c){this.g=c}T(Yi,Gu),Yi.prototype.ra=function(){xt(this.g,"a")},Yi.prototype.qa=function(c){xt(this.g,new Ku(c))},Yi.prototype.pa=function(c){xt(this.g,new Yu)},Yi.prototype.oa=function(){xt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,q0=function(){return new Is},H0=function(){return ca()},B0=pt,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,fh=Ar,ko.COMPLETE="complete",z0=ko,wu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bl=wu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,j0=Ze}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Ro="12.8.0";function VD(s){Ro=s}const ea=new pp("@firebase/firestore");function Wa(){return ea.logLevel}function me(s,...e){if(ea.logLevel<=Pe.DEBUG){const n=e.map(Ip);ea.debug(`Firestore (${Ro}): ${s}`,...n)}}function ps(s,...e){if(ea.logLevel<=Pe.ERROR){const n=e.map(Ip);ea.error(`Firestore (${Ro}): ${s}`,...n)}}function fo(s,...e){if(ea.logLevel<=Pe.WARN){const n=e.map(Ip);ea.warn(`Firestore (${Ro}): ${s}`,...n)}}function Ip(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function we(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,F0(s,r,n)}function F0(s,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||F0(e,o,r)}function Ie(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class G0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PD{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new G0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class UD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BD(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=BD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function jm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Am(o)===Am(u)?Ue(o,u):Am(o)?1:-1}return Ue(s.length,e.length)}const HD=55296,qD=57343;function Am(s){const e=s.charCodeAt(0);return e>=HD&&e<=qD}function mo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const bE="__name__";class ki{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const r=ki.isNumericId(e),o=ki.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class st extends ki{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends ki{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new $t([bE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(st.fromString(e))}static fromName(e){return new Te(st.fromString(e).popFirst(5))}static empty(){return new Te(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new st(e.slice()))}}function K0(s,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function GD(s,e,n,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function wE(s){if(!Te.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function RE(s){if(Te.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Y0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Kh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function ta(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(s);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function pu(s,e){if(!Y0(s))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,IE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IE);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:Ot("string",Be._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Be(0,0))}static max(){return new Re(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function KD(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new cr(o,Te.empty(),e)}function YD(s){return new cr(s.readTime,s.key,eu)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(Re.min(),Te.empty(),eu)}static max(){return new cr(Re.max(),Te.empty(),eu)}}function $D(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==QD)throw s;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>r(p)))})),f=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((o=>o?se.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&r(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new se(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function JD(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(s){return s.name==="IndexedDbTransactionError"}class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;const Np=-1;function $h(s){return s==null}function Ih(s){return s===0&&1/s==-1/0}function WD(s){return typeof s=="number"&&Number.isInteger(s)&&!Ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const $0="";function ZD(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=DE(e)),e=e2(s.get(n),e);return DE(e)}function e2(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case $0:n+="";break;default:n+=u}}return n}function DE(s){return s+$0+""}function NE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function _r(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Q0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new kt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X0("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const t2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=t2.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}const J0="server_timestamp",W0="__type__",Z0="__previous_value__",eS="__local_write_time__";function Op(s){return(s?.mapValue?.fields||{})[W0]?.stringValue===J0}function Qh(s){const e=s.mapValue.fields[Z0];return Op(e)?Qh(e):e}function tu(s){const e=hr(s.mapValue.fields[eS].timestampValue);return new Be(e.seconds,e.nanos)}class n2{constructor(e,n,r,o,u,f,m,p,y,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=T}}const Dh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}function i2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(s.options.projectId,e)}const tS="__type__",s2="__max__",th={mapValue:{}},nS="__vector__",Nh="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Op(s)?4:a2(s)?9007199254740991:r2(s)?10:11:we(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const n=dr(s);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return tu(s).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hr(o.timestampValue),m=hr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return mo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(NE(f)!==NE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Hi(f[p],m[p])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function iu(s,e){return(s.values||[]).find((n=>Hi(n,e)))!==void 0}function po(s,e){if(s===e)return 0;const n=dr(s),r=dr(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return xE(s.timestampValue,e.timestampValue);case 4:return xE(tu(s),tu(e));case 5:return jm(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=fr(u),p=fr(f);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(vt(u.latitude),vt(f.latitude));return m!==0?m:Ue(vt(u.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return ME(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Nh]?.arrayValue,E=p[Nh]?.arrayValue,T=Ue(y?.values?.length||0,E?.values?.length||0);return T!==0?T:ME(y,E)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const C=jm(p[T],E[T]);if(C!==0)return C;const L=po(m[p[T]],y[E[T]]);if(L!==0)return L}return Ue(p.length,E.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function xE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=hr(s),r=hr(e),o=Ue(n.seconds,r.seconds);return o!==0?o:Ue(n.nanos,r.nanos)}function ME(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=po(n[o],r[o]);if(u)return u}return Ue(n.length,r.length)}function go(s){return zm(s)}function zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Te.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=zm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"})(s.mapValue):we(61005,{value:s})}function dh(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(s);return e?16+dh(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+dh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return _r(r.fields,((u,f)=>{o+=u.length+dh(f)})),o})(s.mapValue);default:throw we(13486,{value:s})}}function VE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Bm(s){return!!s&&"integerValue"in s}function xp(s){return!!s&&"arrayValue"in s}function kE(s){return!!s&&"nullValue"in s}function LE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mh(s){return!!s&&"mapValue"in s}function r2(s){return(s?.mapValue?.fields||{})[tS]?.stringValue===nS}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(s.arrayValue.values[n]);return e}return{...s}}function a2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=$t.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){_r(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new vn(Kl(this.value))}}function iS(s){const e=[];return _r(s.fields,((n,r)=>{const o=new $t([n]);if(mh(r)){const u=iS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Nn(e)}class Zt{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),vn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Re.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Re.min(),Re.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Re.min(),Re.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function PE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=Te.comparator(Te.fromName(f.referenceValue),n.key):r=po(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Hi(s.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function o2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class sS{}class Nt extends sS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u2(e,n,r):n==="array-contains"?new f2(e,r):n==="in"?new d2(e,r):n==="not-in"?new m2(e,r):n==="array-contains-any"?new p2(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c2(e,r):new h2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return rS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rS(s){return s.op==="and"}function aS(s){return l2(s)&&rS(s)}function l2(s){for(const e of s.filters)if(e instanceof di)return!1;return!0}function Hm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+go(s.value);if(aS(s))return s.filters.map((e=>Hm(e))).join(",");{const e=s.filters.map((n=>Hm(n))).join(",");return`${s.op}(${e})`}}function oS(s,e){return s instanceof Nt?(function(r,o){return o instanceof Nt&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(s,e):s instanceof di?(function(r,o){return o instanceof di&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&oS(f,o.filters[m])),!0):!1})(s,e):void we(19439)}function lS(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(s):s instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"})(s):"Filter"}class u2 extends Nt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class c2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class h2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uS(s,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class f2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&iu(n.arrayValue,this.value)}}class d2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class m2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class p2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}class g2{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function jE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new g2(s,e,n,r,o,u,f)}function Mp(s){const e=Ie(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Hm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>go(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>go(r))).join(",")),e.Te=n}return e.Te}function Vp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!o2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!oS(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!UE(s.startAt,e.startAt)&&UE(s.endAt,e.endAt)}function qm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Do{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y2(s,e,n,r,o,u,f,m){return new Do(s,e,n,r,o,u,f,m)}function cS(s){return new Do(s)}function zE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _2(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function hS(s){return s.collectionGroup!==null}function Yl(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt($t.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new su($t.keyField(),r))}return e.Ie}function ji(s){const e=Ie(s);return e.Ee||(e.Ee=v2(e,Yl(s))),e.Ee}function v2(s,e){if(s.limitType==="F")return jE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=s.endAt?new Oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Oh(s.startAt.position,s.startAt.inclusive):null;return jE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Fm(s,e){const n=s.filters.concat([e]);return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function E2(s,e){const n=s.explicitOrderBy.concat([e]);return new Do(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Gm(s,e,n){return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Xh(s,e){return Vp(ji(s),ji(e))&&s.limitType===e.limitType}function fS(s){return`${Mp(ji(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>lS(o))).join(", ")}]`),$h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${r})`})(ji(s))}; limitType=${s.limitType})`}function Jh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Te.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Yl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,p){const y=PE(f,m,p);return f.inclusive?y<=0:y<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(f,m,p){const y=PE(f,m,p);return f.inclusive?y>=0:y>0})(r.endAt,Yl(r),o))})(s,e)}function T2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dS(s){return(e,n)=>{let r=!1;for(const o of Yl(s)){const u=S2(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function S2(s,e,n){const r=s.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?po(p,y):we(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}const A2=new ft(Te.comparator);function gs(){return A2}const mS=new ft(Te.comparator);function Hl(...s){let e=mS;for(const n of s)e=e.insert(n.key,n);return e}function pS(s){let e=mS;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xr(){return $l()}function gS(){return $l()}function $l(){return new oa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const b2=new ft(Te.comparator),w2=new kt(Te.comparator);function je(...s){let e=w2;for(const n of s)e=e.add(n);return e}const R2=new kt(Ue);function C2(){return R2}function kp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function yS(s){return{integerValue:""+s}}function I2(s,e){return WD(e)?yS(e):kp(s,e)}class Wh{constructor(){this._=void 0}}function D2(s,e,n){return s instanceof xh?(function(o,u){const f={fields:{[W0]:{stringValue:J0},[eS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Op(u)&&(u=Qh(u)),u&&(f.fields[Z0]=u),{mapValue:f}})(n,e):s instanceof ru?vS(s,e):s instanceof au?ES(s,e):(function(o,u){const f=_S(o,u),m=BE(f)+BE(o.Ae);return Bm(f)&&Bm(o.Ae)?yS(m):kp(o.serializer,m)})(s,e)}function N2(s,e,n){return s instanceof ru?vS(s,e):s instanceof au?ES(s,e):n}function _S(s,e){return s instanceof Mh?(function(r){return Bm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class xh extends Wh{}class ru extends Wh{constructor(e){super(),this.elements=e}}function vS(s,e){const n=TS(e);for(const r of s.elements)n.some((o=>Hi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class au extends Wh{constructor(e){super(),this.elements=e}}function ES(s,e){let n=TS(e);for(const r of s.elements)n=n.filter((o=>!Hi(o,r)));return{arrayValue:{values:n}}}class Mh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(s){return vt(s.integerValue||s.doubleValue)}function TS(s){return xp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function O2(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ru&&o instanceof ru||r instanceof au&&o instanceof au?mo(r.elements,o.elements,Hi):r instanceof Mh&&o instanceof Mh?Hi(r.Ae,o.Ae):r instanceof xh&&o instanceof xh})(s.transform,e.transform)}class x2{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Zh{}function SS(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Lp(s.key,ui.none()):new gu(s.key,s.data,ui.none());{const n=s.data,r=vn.empty();let o=new kt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new vr(s.key,r,new Nn(o.toArray()),ui.none())}}function M2(s,e,n){s instanceof gu?(function(o,u,f){const m=o.value.clone(),p=qE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof vr?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=qE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(AS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Ql(s,e,n,r){return s instanceof gu?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=u.value.clone(),E=FE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof vr?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=FE(u.fieldTransforms,p,f),E=f.data;return E.setAll(AS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(s,e,n,r):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function V2(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=_S(r.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(r.field,u))}return n||null}function HE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&mo(r,o,((u,f)=>O2(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class gu extends Zh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vr extends Zh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AS(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function qE(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,N2(f,m,n[o]))}return r}function FE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,D2(u,f,e))}return r}class Lp extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k2 extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class L2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&M2(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=SS(f,m);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&mo(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class Pp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return b2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Pp(e,n,r,o)}}class P2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class U2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,He;function j2(s){switch(s){case ne.OK:return we(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function bS(s){if(s===void 0)return ps("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return we(39323,{code:s})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function z2(){return new TextEncoder}const B2=new or([4294967295,4294967295],0);function GE(s){const e=z2().encode(s),n=new U0;return n.update(e),new Uint8Array(n.digest())}function KE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new or([n,r],0),new or([o,u],0)]}class Up{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(or.fromNumber(r)));return o.compare(B2)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[r,o]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Up(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=GE(e),[r,o]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ef{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ef(Re.min(),o,new ft(Ue),gs(),je())}}class yu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,je(),je(),je())}}class gh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class wS{constructor(e,n){this.targetId=e,this.Ce=n}}class RS{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class YE{constructor(){this.ve=0,this.Fe=$E(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=$E()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class H2{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.He=nh(),this.Je=nh(),this.Ze=new ft(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(qm(u))if(r===0){const f=new Te(u.path);this.et(n,f,Zt.newNoDocument(f,Re.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fr(r).toUint8Array()}catch(p){if(p instanceof X0)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Up(f,o,u)}catch(p){return fo(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&qm(m.target)){const p=new Te(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=je();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new ef(e,n,this.Ze,this.je,r);return this.je=gs(),this.He=nh(),this.Je=nh(),this.Ze=new ft(Ue),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ft(Te.comparator)}function $E(){return new ft(Te.comparator)}const q2={asc:"ASCENDING",desc:"DESCENDING"},F2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G2={and:"AND",or:"OR"};class K2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(s,e){return s.useProto3Json||$h(e)?e:{value:e}}function Vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(s,e){return Vh(s,e.toTimestamp())}function zi(s){return Qe(!!s,49232),Re.fromTimestamp((function(n){const r=hr(n);return new Be(r.seconds,r.nanos)})(s))}function jp(s,e){return Ym(s,e).canonicalString()}function Ym(s,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function IS(s){const e=st.fromString(s);return Qe(MS(e),10190,{key:e.toString()}),e}function $m(s,e){return jp(s.databaseId,e.path)}function bm(s,e){const n=IS(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Te(NS(n))}function DS(s,e){return jp(s.databaseId,e)}function $2(s){const e=IS(s);return e.length===4?st.emptyPath():NS(e)}function Qm(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function NS(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function QE(s,e,n){return{name:$m(s,e),fields:n.value.mapValue.fields}}function Q2(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?ne.UNKNOWN:bS(y.code);return new fe(E,y.message||"")})(f);n=new RS(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=bm(s,r.document.name),u=zi(r.document.updateTime),f=r.document.createTime?zi(r.document.createTime):Re.min(),m=new vn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new gh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=bm(s,r.document),u=r.readTime?zi(r.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=bm(s,r.document),u=r.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new U2(o,u),m=r.targetId;n=new wS(m,f)}}return n}function X2(s,e){let n;if(e instanceof gu)n={update:QE(s,e.key,e.value)};else if(e instanceof Lp)n={delete:$m(s,e.key)};else if(e instanceof vr)n={update:QE(s,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof k2))return we(16599,{dt:e.type});n={verify:$m(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Y2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(s,e.precondition)),n}function J2(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?zi(o.updateTime):zi(u);return f.isEqual(Re.min())&&(f=zi(u)),new x2(f,o.transformResults||[])})(n,e)))):[]}function W2(s,e){return{documents:[DS(s,e.path)]}}function Z2(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DS(s,o);const u=(function(y){if(y.length!==0)return xS(di.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(C){return{field:eo(C.field),direction:nN(C.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function eN(s){let e=$2(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const C=OS(T);return C instanceof di&&aS(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((C=>(function(j){return new su(to(j.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let C;return C=typeof T=="object"?T.value:T,$h(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(T){const C=!!T.before,L=T.values||[];return new Oh(L,C)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const C=!T.before,L=T.values||[];return new Oh(L,C)})(n.endAt)),y2(e,o,f,u,m,"F",p,y)}function tN(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((r=>OS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(s):we(30097,{filter:s})}function nN(s){return q2[s]}function iN(s){return F2[s]}function sN(s){return G2[s]}function eo(s){return{fieldPath:s.canonicalString()}}function to(s){return $t.fromServerFormat(s.fieldPath)}function xS(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:iN(n.op),value:n.value}}})(s):s instanceof di?(function(n){const r=n.getFilters().map((o=>xS(o)));return r.length===1?r[0]:{compositeFilter:{op:sN(n.op),filters:r}}})(s):we(54877,{filter:s})}function rN(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function MS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function VS(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class nr{constructor(e,n,r,o,u=Re.min(),f=Re.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aN{constructor(e){this.yt=e}}function oN(s){const e=eN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Gm(e,e.limit,"L"):e}class lN{constructor(){this.Sn=new uN}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(cr.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class uN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(st.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kS=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(kS,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const JE="LruGarbageCollector",cN=1048576;function WE([s,e],[n,r]){const o=Ue(s,n);return o===0?Ue(e,r):o}class hN{constructor(e){this.Pr=e,this.buffer=new kt(WE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?me(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class dN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Yh.ce);const r=new hN(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(XE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(y=Date.now(),Wa()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function mN(s,e){return new dN(s,e)}class pN{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Ql(r.mutation,o,Nn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const o=Xr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=gs();const f=$l(),m=(function(){return $l()})();return n.forEach(((p,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof vr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new gN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=$l();let o=new ft(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=r.get(p)||Nn.empty();E=m.applyToLocalView(y,E),r.set(p,E);const T=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=gS();E.forEach((C=>{if(!u.has(C)){const L=SS(n.get(C),r.get(C));L!==null&&T.set(C,L),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return se.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return _2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):se.resolve(Xr());let m=eu,p=u;return f.next((y=>se.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{p=p.insert(E,C)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,je()))).next((E=>({batchId:m,changes:pS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=Hl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>se.forEach(m,(p=>{const y=(function(T,C){return new Do(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((T,C)=>{f=f.insert(T,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,y,Nn.empty(),Be.now()),Jh(n,y)&&(m=m.insert(p,y))})),m}))}}class _N{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:oN(o.bundledQuery),readTime:zi(o.readTime)}})(n)),se.resolve()}}class vN{constructor(){this.overlays=new ft(Te.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const o=Xr(),u=n.length+1,f=new Te(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ft(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=u.get(y.largestBatchId);E===null&&(E=Xr(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return se.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new P2(n,r));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class EN{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class zp{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Te(new st([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new st([])),r=new zt(n,e),o=new zt(n,e+1);let u=je();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class TN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new L2(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ue);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),se.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const f=new zt(new Te(u),0);let m=new kt(Ue);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),se.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return se.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zt(n,0),o=this.Jr.firstAfterOrEqual(r);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class SN{constructor(e){this.ti=e,this.docs=(function(){return new ft(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=gs();const f=n.path,m=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||$D(YD(E),r)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,r,o){we(9500)}ni(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new AN(this)}getSize(e){return se.resolve(this.size)}}class AN extends pN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class bN{constructor(e){this.persistence=e,this.ri=new oa((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new zp,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class LS{constructor(e,n){this._i={},this.overlays={},this.ai=new Yh(0),this.ui=!1,this.ui=!0,this.ci=new EN,this.referenceDelegate=e(this),this.li=new bN(this),this.indexManager=new lN,this.remoteDocumentCache=(function(o){return new SN(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new aN(n),this.Pi=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new TN(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const o=new wN(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return se.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class wN extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Ai=null}static Vi(e){return new Bp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(r=>{const o=Te.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.fi=new oa((r=>ZD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=mN(this,n)}static Vi(e,n){return new kh(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}wr(e,n,r){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(e,n.fromCache,r,o)}}class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iR()?8:JD(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new RN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Wa()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Wa()<=Pe.DEBUG&&me("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Wa()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):se.resolve())}gs(e,n){if(zE(n))return se.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Gm(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=je(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,Gm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,r,o){return zE(n)||o.isEqual(Re.min())?se.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?se.resolve(null):(Wa()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.Ds(e,f,n,KD(o,eu)).next((m=>m)))}))}bs(e,n){let r=new kt(dS(e));return n.forEach(((o,u)=>{Jh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return Wa()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Za(n)),this.fs.getDocumentsMatchingQuery(e,n,cr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const qp="LocalStore",IN=3e8;class DN{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ue),this.Fs=new oa((u=>Mp(u)),Vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function NN(s,e,n,r){return new DN(s,e,n,r)}async function PS(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let p=je();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function ON(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,C=T.keys();let L=se.resolve();return C.forEach((j=>{L=L.next((()=>E.getEntry(p,j))).next((z=>{const H=y.docVersions.get(j);Qe(H!==null,48541),z.version.compareTo(H)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),E.addEntry(z)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function US(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xN(s,e){const n=Ie(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const C=o.get(T);if(!C)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let L=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),o=o.insert(T,L),(function(z,H,ee){return z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=IN?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(C,L,E)&&m.push(n.li.updateTargetData(u,L))}));let p=gs(),y=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(MN(u,f,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!r.isEqual(Re.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(E)}return se.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function MN(s,e,n){let r=je(),o=je();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=gs();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(qp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function VN(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function kN(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,se.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new nr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Xm(s,e,n){const r=Ie(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;me(qp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function ZE(s,e,n){const r=Ie(s);let o=Re.min(),u=je();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Ie(p),C=T.Fs.get(E);return C!==void 0?se.resolve(T.vs.get(C)):T.li.getTargetData(y,E)})(r,f,ji(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:je()))).next((m=>(LN(r,T2(e),m),{documents:m,ks:u})))))}function LN(s,e,n){let r=s.Ms.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class eT{constructor(){this.activeTargetIds=C2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PN{constructor(){this.vo=new eT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new eT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UN{Mo(e){}shutdown(){}}const tT="ConnectivityMonitor";class nT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(tT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function Jm(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const wm="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const f=Jm(),m=this.Qo(e,n.toUriEncodedString());me(wm,`Sending RPC '${e}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=So(y);return this.zo(e,m,p,r,E).then((T=>(me(wm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw fo(wm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(e,n,r,o,u,f){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=jN[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class BN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jt="WebChannelConnection",Pl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ao extends zN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ao.c_){const e=H0();Pl(e,B0.STAT_EVENT,(n=>{n.stat===Um.PROXY?me(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===Um.NOPROXY&&me(Jt,"STAT_EVENT: detected no buffering proxy")})),ao.c_=!0}}zo(e,n,r,o,u){const f=Jm();return new Promise(((m,p)=>{const y=new j0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const T=y.getResponseJson();me(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case fh.TIMEOUT:me(Jt,`RPC '${e}' ${f} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const C=y.getStatus();if(me(Jt,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const z=(function(ee){const X=ee.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(X)>=0?X:ne.UNKNOWN})(j.status);p(new fe(z,j.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);me(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Jm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=u.join("");me(Jt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let T=!1,C=!1;const L=new BN({Ho:j=>{C?me(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(me(Jt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),me(Jt,`RPC '${e}' stream ${o} sending:`,j),E.send(j))},Jo:()=>E.close()});return Pl(E,Bl.EventType.OPEN,(()=>{C||(me(Jt,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Pl(E,Bl.EventType.CLOSE,(()=>{C||(C=!0,me(Jt,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Pl(E,Bl.EventType.ERROR,(j=>{C||(C=!0,fo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),L.o_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),Pl(E,Bl.EventType.MESSAGE,(j=>{if(!C){const z=j.data[0];Qe(!!z,16349);const H=z,ee=H?.error||H[0]?.error;if(ee){me(Jt,`RPC '${e}' stream ${o} received error:`,ee);const X=ee.status;let oe=(function(ie){const I=Dt[ie];if(I!==void 0)return bS(I)})(X),ve=ee.message;oe===void 0&&(oe=ne.INTERNAL,ve="Unknown error status: "+X+" with message "+ee.message),C=!0,L.o_(new fe(oe,ve)),E.close()}else me(Jt,`RPC '${e}' stream ${o} received:`,z),L.__(z)}})),ao.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return q0()}}function HN(s){return new ao(s)}function Rm(){return typeof document<"u"?document:null}function tf(s){return new K2(s,!0)}ao.c_=!1;class jS{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iT="PersistentStream";class zS{constructor(e,n,r,o,u,f,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qN extends zS{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q2(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?zi(f.readTime):Re.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=qm(p)?{documents:W2(u,p)}:{query:Z2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CS(u,f.resumeToken);const y=Km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const y=Km(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=tN(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.K_(n)}}class FN extends zS{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=J2(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>X2(this.serializer,r)))};this.K_(n)}}class GN{}class KN extends GN{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Ym(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Ym(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YN(s,e,n,r){return new KN(s,e,n,r)}class $N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class QN{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{la(this)&&(me(na,"Restarting streams for network reachability change."),await(async function(p){const y=Ie(p);y.Ea.add(4),await _u(y),y.Va.set("Unknown"),y.Ea.delete(4),await nf(y)})(this))}))})),this.Va=new $N(r,o)}}async function nf(s){if(la(s))for(const e of s.Ra)await e(!0)}async function _u(s){for(const e of s.Ra)await e(!1)}function BS(s,e){const n=Ie(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Kp(n):No(n).O_()&&Gp(n,e))}function Fp(s,e){const n=Ie(s),r=No(n);n.Ia.delete(e),r.O_()&&HS(n,e),n.Ia.size===0&&(r.O_()?r.L_():la(n)&&n.Va.set("Unknown"))}function Gp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function HS(s,e){s.da.$e(e),No(s).X_(e)}function Kp(s){s.da=new H2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Yp(s){return la(s)&&!No(s).x_()&&s.Ia.size>0}function la(s){return Ie(s).Ea.size===0}function qS(s){s.da=void 0}async function XN(s){s.Va.set("Online")}async function JN(s){s.Ia.forEach(((e,n)=>{Gp(s,e)}))}async function WN(s,e){qS(s),Yp(s)?(s.Va.ha(e),Kp(s)):s.Va.set("Unknown")}async function ZN(s,e,n){if(s.Va.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){me(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(s,r)}else if(e instanceof gh?s.da.Xe(e):e instanceof wS?s.da.st(e):s.da.tt(e),!n.isEqual(Re.min()))try{const r=await US(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),HS(u,p);const T=new nr(E.target,p,y,E.sequenceNumber);Gp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){me(na,"Failed to raise snapshot:",r),await Lh(s,r)}}async function Lh(s,e,n){if(!Io(e))throw e;s.Ea.add(1),await _u(s),s.Va.set("Offline"),n||(n=()=>US(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{me(na,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await nf(s)}))}function FS(s,e){return e().catch((n=>Lh(s,n,e)))}async function sf(s){const e=Ie(s),n=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;eO(e);)try{const o=await VN(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,tO(e,o)}catch(o){await Lh(e,o)}GS(e)&&KS(e)}function eO(s){return la(s)&&s.Ta.length<10}function tO(s,e){s.Ta.push(e);const n=mr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function GS(s){return la(s)&&!mr(s).x_()&&s.Ta.length>0}function KS(s){mr(s).start()}async function nO(s){mr(s).ra()}async function iO(s){const e=mr(s);for(const n of s.Ta)e.ea(n.mutations)}async function sO(s,e,n){const r=s.Ta.shift(),o=Pp.from(r,e,n);await FS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await sf(s)}async function rO(s,e){e&&mr(s).Y_&&await(async function(r,o){if((function(f){return j2(f)&&f!==ne.ABORTED})(o.code)){const u=r.Ta.shift();mr(r).B_(),await FS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await sf(r)}})(s,e),GS(s)&&KS(s)}async function sT(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),me(na,"RemoteStore received new credentials");const r=la(n);n.Ea.add(3),await _u(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nf(n)}async function aO(s,e){const n=Ie(s);e?(n.Ea.delete(2),await nf(n)):e||(n.Ea.add(2),await _u(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,o){const u=Ie(n);return u.sa(),new qN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:XN.bind(null,s),Yo:JN.bind(null,s),t_:WN.bind(null,s),J_:ZN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Yp(s)?Kp(s):s.Va.set("Unknown")):(await s.ma.stop(),qS(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(n,r,o){const u=Ie(n);return u.sa(),new FN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nO.bind(null,s),t_:rO.bind(null,s),ta:iO.bind(null,s),na:sO.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await sf(s)):(await s.fa.stop(),s.Ta.length>0&&(me(na,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $p{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new $p(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(s,e){if(ps("AsyncQueue",`${e}: ${s}`),Io(s))return new fe(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Hl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class rT{constructor(){this.ga=new ft(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _o{constructor(e,n,r,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,oo.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class oO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lO{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ie(n),u=o.queries;o.queries=aT(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function aT(){return new oa((s=>fS(s)),Xh)}async function uO(s,e){const n=Ie(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new oO,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Qp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Xp(n)}async function cO(s,e){const n=Ie(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hO(s,e){const n=Ie(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Xp(n)}function fO(s,e,n){const r=Ie(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Xp(s){s.Ca.forEach((e=>{e.next()}))}var Wm,oT;(oT=Wm||(Wm={})).Ma="default",oT.Cache="cache";class dO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}class YS{constructor(e){this.key=e}}class $S{constructor(e){this.key=e}}class mO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=dS(e),this.tu=new oo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new rT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const C=o.get(E),L=Jh(this.query,T)?T:null,j=!!C&&this.mutatedKeys.has(C.key),z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;C&&L?C.data.isEqual(L.data)?j!==z&&(r.track({type:3,doc:L}),H=!0):this.su(C,L)||(r.track({type:2,doc:L}),H=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!C&&L?(r.track({type:0,doc:L}),H=!0):C&&!L&&(r.track({type:1,doc:C}),H=!0,(p||y)&&(m=!0)),H&&(L?(f=f.add(L),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(L,j){const z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:H})}};return z(L)-z(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new $S(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new YS(r))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jp="SyncEngine";class pO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gO{constructor(e){this.key=e,this.hu=!1}}class yO{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>fS(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(Te.comparator),this.Au=new Map,this.Vu=new zp,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _O(s,e,n=!0){const r=eA(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await QS(r,e,n,!0),o}async function vO(s,e){const n=eA(s);await QS(n,e,!0,!1)}async function QS(s,e,n,r){const o=await kN(s.localStore,ji(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await EO(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&BS(s.remoteStore,o),m}async function EO(s,e,n,r,o){s.pu=(T,C,L)=>(async function(z,H,ee,X){let oe=H.view.ru(ee);oe.Ss&&(oe=await ZE(z.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,oe))));const ve=X&&X.targetChanges.get(H.targetId),K=X&&X.targetMismatches.get(H.targetId)!=null,ie=H.view.applyChanges(oe,z.isPrimaryClient,ve,K);return uT(z,H.targetId,ie.au),ie.snapshot})(s,T,C,L);const u=await ZE(s.localStore,e,!0),f=new mO(e,u.ks),m=f.ru(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,p);uT(s,n,y.au);const E=new pO(e,n,f);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function TO(s,e,n){const r=Ie(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Xh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Fp(r.remoteStore,o.targetId),Zm(r,o.targetId)})).catch(Co)):(Zm(r,o.targetId),await Xm(r.localStore,o.targetId,!0))}async function SO(s,e){const n=Ie(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fp(n.remoteStore,r.targetId))}async function AO(s,e,n){const r=NO(s);try{const o=await(function(f,m){const p=Ie(f),y=Be.now(),E=m.reduce(((L,j)=>L.add(j.key)),je());let T,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let j=gs(),z=je();return p.xs.getEntries(L,E).next((H=>{j=H,j.forEach(((ee,X)=>{X.isValidDocument()||(z=z.add(ee))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,j))).next((H=>{T=H;const ee=[];for(const X of m){const oe=V2(X,T.get(X.key).overlayedDocument);oe!=null&&ee.push(new vr(X.key,oe,iS(oe.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,ee,m)})).next((H=>{C=H;const ee=H.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(L,H.batchId,ee)}))})).then((()=>({batchId:C.batchId,changes:pS(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new ft(Ue)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await vu(r,o.changes),await sf(r.remoteStore)}catch(o){const u=Qp(o,"Failed to persist write");n.reject(u)}}async function XS(s,e){const n=Ie(s);try{const r=await xN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await vu(n,r,e)}catch(r){await Co(r)}}function lT(s,e,n){const r=Ie(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ie(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const C of T.ba)C.va(m)&&(y=!0)})),y&&Xp(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bO(s,e,n){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new ft(Te.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=je().add(u),p=new ef(Re.min(),new Map,new ft(Ue),f,m);await XS(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(e),Wp(r)}else await Xm(r.localStore,e,!1).then((()=>Zm(r,e,n))).catch(Co)}async function wO(s,e){const n=Ie(s),r=e.batch.batchId;try{const o=await ON(n.localStore,e);WS(n,r,null),JS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vu(n,o)}catch(o){await Co(o)}}async function RO(s,e,n){const r=Ie(s);try{const o=await(function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);WS(r,e,n),JS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vu(r,o)}catch(o){await Co(o)}}function JS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function WS(s,e,n){const r=Ie(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Zm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||ZS(s,r)}))}function ZS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Fp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Wp(s))}function uT(s,e,n){for(const r of n)r instanceof YS?(s.Vu.addReference(r.key,e),CO(s,r)):r instanceof $S?(me(Jp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||ZS(s,r.key)):we(19791,{wu:r})}function CO(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(me(Jp,"New document in limbo: "+n),s.Eu.add(r),Wp(s))}function Wp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Te(st.fromString(e)),r=s.fu.next();s.Au.set(r,new gO(n)),s.Ru=s.Ru.insert(n,r),BS(s.remoteStore,new nr(ji(cS(n.path)),r,"TargetPurposeLimboResolution",Yh.ce))}}async function vu(s,e,n){const r=Ie(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{f.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Hp.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(p,y){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(y,(C=>se.forEach(C.Ts,(L=>E.persistence.referenceDelegate.addReference(T,C.targetId,L))).next((()=>se.forEach(C.Is,(L=>E.persistence.referenceDelegate.removeReference(T,C.targetId,L)))))))))}catch(T){if(!Io(T))throw T;me(qp,"Failed to update sequence numbers: "+T)}for(const T of y){const C=T.targetId;if(!T.fromCache){const L=E.vs.get(C),j=L.snapshotVersion,z=L.withLastLimboFreeSnapshotVersion(j);E.vs=E.vs.insert(C,z)}}})(r.localStore,u))}async function IO(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){me(Jp,"User change. New user:",e.toKey());const r=await PS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(ne.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vu(n,r.Ns)}}function DO(s,e){const n=Ie(s),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function eA(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.Pu.J_=hO.bind(null,e.eventManager),e.Pu.yu=fO.bind(null,e.eventManager),e}function NO(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NN(this.persistence,new CN,e.initialUser,this.serializer)}Cu(e){return new LS(Bp.Vi,this.serializer)}Du(e){return new PN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class OO extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new LS((r=>kh.Vi(r,n)),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IO.bind(null,this.syncEngine),await aO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lO})()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),r=HN(e.databaseInfo);return YN(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new QN(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>lT(this.syncEngine,n,0)),(function(){return nT.v()?new nT:new UN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new yO(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);me(na,"RemoteStore shutting down."),r.Ea.add(5),await _u(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};class xO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pr="FirestoreClient";class MO{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{me(pr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(me(pr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cm(s,e){s.asyncQueue.verifyOperationInProgress(),me(pr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await PS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function cT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await VO(s);me(pr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>sT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>sT(e.remoteStore,o))),s._onlineComponents=e}async function VO(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(pr,"Using user provided OfflineComponentProvider");try{await Cm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(s,new Ph)}}else me(pr,"Using default OfflineComponentProvider"),await Cm(s,new OO(void 0));return s._offlineComponents}async function tA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(pr,"Using user provided OnlineComponentProvider"),await cT(s,s._uninitializedComponentsProvider._online)):(me(pr,"Using default OnlineComponentProvider"),await cT(s,new ep))),s._onlineComponents}function kO(s){return tA(s).then((e=>e.syncEngine))}async function LO(s){const e=await tA(s),n=e.eventManager;return n.onListen=_O.bind(null,e.syncEngine),n.onUnlisten=TO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),n}function PO(s,e,n={}){const r=new lr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new xO({next:C=>{E.Nu(),f.enqueueAndForget((()=>cO(u,T))),C.fromCache&&p.source==="server"?y.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),T=new dO(m,E,{includeMetadataChanges:!0,Ka:!0});return uO(u,T)})(await LO(s),s.asyncQueue,e,n,r))),r.promise}function UO(s,e){const n=new lr;return s.asyncQueue.enqueueAndForget((async()=>AO(await kO(s),e,n))),n.promise}function nA(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const jO="ComponentProvider",hT=new Map;function zO(s,e,n,r,o){return new n2(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,nA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const iA="firestore.googleapis.com",fT=!0;class dT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=fT}else this.host=e.host,this.ssl=e.ssl??fT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cN)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kD;switch(r.type){case"firstParty":return new jD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hT.get(n);r&&(me(jO,"Removing Datastore"),hT.delete(n),r.terminate())})(this),Promise.resolve()}}function BO(s,e,n,r={}){s=ta(s,rf);const o=So(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(JT(`https://${m}`),WT("Firestore",!0)),u.host!==iA&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Jr(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Wt.MOCK_USER;else{y=$1(r.mockUserToken,s._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}s._authCredentials=new LD(new G0(y,E))}}class ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pu(n,Vt._jsonSchema))return new Vt(e,r||null,new Te(st.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Ot("string",Vt._jsonSchemaVersion),referencePath:Ot("string")};class ur extends ua{constructor(e,n,r){super(e,n,cS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Te(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function en(s,e,...n){if(s=Lt(s),K0("collection","path",e),s instanceof rf){const r=st.fromString(e,...n);return RE(r),new ur(s,null,r)}{if(!(s instanceof Vt||s instanceof ur))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return RE(r),new ur(s.firestore,null,r)}}function Li(s,e,...n){if(s=Lt(s),arguments.length===1&&(e=Dp.newId()),K0("doc","path",e),s instanceof rf){const r=st.fromString(e,...n);return wE(r),new Vt(s,null,new Te(r))}{if(!(s instanceof Vt||s instanceof ur))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return wE(r),new Vt(s.firestore,s instanceof ur?s.converter:null,new Te(r))}}const mT="AsyncQueue";class pT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jS(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&me(mT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;me(mT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",gT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:gT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Eu extends rf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new pT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pT(e),this._firestoreClient=void 0,await e}}}function HO(s,e){const n=typeof s=="object"?s:t0(),r=typeof s=="string"?s:Dh,o=yp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=K1("firestore");u&&BO(o,...u)}return o}function sA(s){if(s._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||qO(s),s._firestoreClient}function qO(s){const e=s._freezeSettings(),n=zO(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new MO(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Qt.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eg{constructor(e){this._methodName=e}}class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ci{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ci(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ot("string",ci._jsonSchemaVersion),vectorValues:Ot("object")};const FO=/^__.*__$/;class GO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class rA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:s})}}class tg{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aA(this.dataSource)&&FO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tf(e)}createContext(e,n,r,o=!1){return new tg({dataSource:e,methodName:n,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(s){const e=s._freezeSettings(),n=tf(s._databaseId);return new KO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function YO(s,e,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);ig("Data must be an object, but it was:",f,r);const m=oA(r,f);let p,y;if(u.merge)p=new Nn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const C=ia(e,T,n);if(!f.contains(C))throw new fe(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);cA(E,C)||E.push(C)}p=new Nn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new GO(new vn(m),p,y)}class af extends eg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function $O(s,e,n,r){const o=s.createContext(1,e,n);ig("Data must be an object, but it was:",o,r);const u=[],f=vn.empty();_r(r,((p,y)=>{const E=uA(e,p,n);y=Lt(y);const T=o.childContextForFieldPath(E);if(y instanceof af)u.push(E);else{const C=Tu(y,T);C!=null&&(u.push(E),f.set(E,C))}}));const m=new Nn(u);return new rA(f,m,o.fieldTransforms)}function QO(s,e,n,r,o,u){const f=s.createContext(1,e,n),m=[ia(e,r,n)],p=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(ia(e,u[C])),p.push(u[C+1]);const y=[],E=vn.empty();for(let C=m.length-1;C>=0;--C)if(!cA(y,m[C])){const L=m[C];let j=p[C];j=Lt(j);const z=f.childContextForFieldPath(L);if(j instanceof af)y.push(L);else{const H=Tu(j,z);H!=null&&(y.push(L),E.set(L,H))}}const T=new Nn(y);return new rA(E,T,f.fieldTransforms)}function XO(s,e,n,r=!1){return Tu(n,s.createContext(r?4:3,e))}function Tu(s,e){if(lA(s=Lt(s)))return ig("Unsupported field value:",e,s),oA(s,e);if(s instanceof eg)return(function(r,o){if(!aA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let p=Tu(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Be.fromDate(r);return{timestampValue:Vh(o.serializer,u)}}if(r instanceof Be){const u=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:CS(o.serializer,r._byteString)};if(r instanceof Vt){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ci)return(function(f,m){const p=f instanceof ci?f.toArray():f;return{mapValue:{fields:{[tS]:{stringValue:nS},[Nh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return kp(m.serializer,E)}))}}}}}})(r,o);if(VS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Kh(r)}`)})(s,e)}function oA(s,e){const n={};return Q0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,((r,o)=>{const u=Tu(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function lA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Be||s instanceof Bi||s instanceof Gn||s instanceof Vt||s instanceof eg||s instanceof ci||VS(s))}function ig(s,e,n){if(!lA(n)||!Y0(n)){const r=Kh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function ia(s,e,n){if((e=Lt(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return uA(s,e);throw Uh("Field path arguments must be of type string or ",s,!1,void 0,n)}const JO=new RegExp("[~\\*/\\[\\]]");function uA(s,e,n){if(e.search(JO)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Uh(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ne.INVALID_ARGUMENT,m+s+p)}function cA(s,e){return s.some((n=>n.isEqual(e)))}class WO{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _r(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new ci(n)}convertGeoPoint(e){return new Bi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=hr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Qe(MS(r),9688,{name:e});const o=new nu(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return o.isEqual(n)||ps(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ZO extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}const yT="@firebase/firestore",_T="4.10.0";class hA{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ia("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ex extends hA{data(){return super.data()}}function tx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class fA extends sg{}function rg(s,e,...n){let r=[];e instanceof sg&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof ag)).length,m=u.filter((p=>p instanceof of)).length;if(f>1||f>0&&m>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class of extends fA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new of(e,n,r)}_apply(e){const n=this._parse(e);return mA(e._query,n),new ua(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=ng(e.firestore);return(function(u,f,m,p,y,E,T){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ET(T,E);const j=[];for(const z of T)j.push(vT(p,u,z));C={arrayValue:{values:j}}}else C=vT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ET(T,E),C=XO(m,f,T,E==="in"||E==="not-in");return Nt.create(y,E,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dA(s,e,n){const r=e,o=ia("where",s);return of._create(o,r,n)}class ag extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)mA(f,p),f=Fm(f,p)})(e._query,n),new ua(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends fA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new og(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,E2(e._query,n))}}function nx(s,e="asc"){const n=e,r=ia("orderBy",s);return og._create(r,n)}function vT(s,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!Te.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VE(s,new Te(r))}if(n instanceof Vt)return VE(s,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function ET(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mA(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ix(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends hA{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ia("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Ot("string",lo._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class yh extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:sx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ot("string",uo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function Kn(s){s=ta(s,ua);const e=ta(s.firestore,Eu),n=sA(e),r=new ZO(e);return tx(s._query),PO(n,s._query).then((o=>new uo(e,r,s,o)))}function TT(s,e,n,...r){s=ta(s,Vt);const o=ta(s.firestore,Eu),u=ng(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof Zp?QO(u,"updateDoc",s._key,e,n,r):$O(u,"updateDoc",s._key,e),lg(o,[f.toMutation(s._key,ui.exists(!0))])}function sa(s){return lg(ta(s.firestore,Eu),[new Lp(s._key,ui.none())])}function _h(s,e){const n=ta(s.firestore,Eu),r=Li(s),o=ix(s.converter,e),u=ng(s.firestore);return lg(n,[YO(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then((()=>r))}function lg(s,e){const n=sA(s);return UO(n,e)}(function(e,n=!0){VD(Ao),co(new Wr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Eu(new PD(r.getProvider("auth-internal")),new zD(f,r.getProvider("app-check-internal")),i2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rr(yT,_T,e),rr(yT,_T,"esm2020")})();var rx="firebase",ax="12.8.0";rr(rx,ax,"app");const pA={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},gA=_p(pA),rh=P0(gA),lt=HO(gA),ox=_p(pA,"secondary");P0(ox);const lx="EYdciKDOi3UYBLk1u8hHams5tmO2",yA=P.createContext();function lf(){return P.useContext(yA)}function ux({children:s}){const[e,n]=P.useState(null),[r,o]=P.useState(!1),[u,f]=P.useState(!1),[m,p]=P.useState(null),[y,E]=P.useState(!0);P.useEffect(()=>SI(rh,async z=>{if(n(z),z)if(z.uid===lx)o(!0),f(!1),p(null);else{o(!1);try{const H=rg(en(lt,"clients"),dA("uid","==",z.uid)),ee=await Kn(H);if(ee.empty)f(!1),p(null);else{const X=ee.docs[0];f(!0),p({id:X.id,...X.data()})}}catch(H){console.error("Error fetching client data:",H),f(!1),p(null)}}else o(!1),f(!1),p(null);E(!1)}),[]);const L={currentUser:e,isAdmin:r,isClient:u,clientData:m,login:async(j,z,H=!0)=>(await vI(rh,H?D0:wp),await _I(rh,j,z)),logout:()=>AI(rh),loading:y};return A.jsx(yA.Provider,{value:L,children:s})}function cx(){const[s,e]=P.useState(""),[n,r]=P.useState(""),[o,u]=P.useState(!0),[f,m]=P.useState(""),[p,y]=P.useState(!1),{login:E,currentUser:T,isAdmin:C,isClient:L,loading:j}=lf(),z=ra();P.useEffect(()=>{!j&&T&&(C?z("/dashboard"):L&&z("/client"))},[j,T,C,L,z]);const H=async ee=>{ee.preventDefault(),m(""),y(!0);try{await E(s,n,o)}catch(X){m(X.message||"Failed to log in"),y(!1)}};return A.jsx("div",{className:"login-container",children:A.jsxs("div",{className:"login-card",children:[A.jsxs("div",{className:"login-header",children:[A.jsx("h1",{children:"Mind Core Fitness"}),A.jsx("p",{children:"Client Portal"})]}),f&&A.jsx("div",{className:"error-message",children:f}),A.jsxs("form",{onSubmit:H,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"email",children:"Email"}),A.jsx("input",{type:"email",id:"email",value:s,onChange:ee=>e(ee.target.value),required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"password",children:"Password"}),A.jsx("input",{type:"password",id:"password",value:n,onChange:ee=>r(ee.target.value),required:!0})]}),A.jsx("div",{className:"remember-me",children:A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:o,onChange:ee=>u(ee.target.checked)}),A.jsx("span",{children:"Remember me"})]})}),A.jsx("button",{type:"submit",className:"login-btn",disabled:p,children:p?"Logging in...":"Log In"})]}),A.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function hx(){const[s,e]=P.useState([]),[n,r]=P.useState([]),[o,u]=P.useState(!0),[f,m]=P.useState(null),[p,y]=P.useState({});P.useEffect(()=>{E()},[]);const E=async()=>{try{const[K,ie]=await Promise.all([Kn(rg(en(lt,"clients"),nx("createdAt","desc"))),Kn(en(lt,"sessions"))]),I=K.docs.map(R=>({id:R.id,...R.data()})),b=ie.docs.map(R=>({id:R.id,...R.data()}));e(I),r(b)}catch(K){console.error("Error fetching data:",K)}u(!1)},T=K=>{const ie=new Date,I=ie.getFullYear(),b=(ie.getMonth()+1).toString().padStart(2,"0"),R=ie.getDate().toString().padStart(2,"0"),M=`${I}-${b}-${R}`,N=`${ie.getHours().toString().padStart(2,"0")}:${ie.getMinutes().toString().padStart(2,"0")}`;return n.filter(V=>V.clientId!==K?!1:V.date<M||V.date===M&&V.time<N).length},C=K=>{const ie=T(K.id);return(K.totalSessions||0)-ie},L=K=>{const ie=new Date,I=ie.getFullYear(),b=(ie.getMonth()+1).toString().padStart(2,"0"),R=ie.getDate().toString().padStart(2,"0"),M=`${I}-${b}-${R}`,N=`${ie.getHours().toString().padStart(2,"0")}:${ie.getMinutes().toString().padStart(2,"0")}`;return n.filter(V=>V.clientId!==K?!1:V.date>M||V.date===M&&V.time>=N).length},j=K=>K?(K.toDate?K.toDate():new Date(K)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",z=async(K,ie)=>{if(window.confirm(`Are you sure you want to delete ${ie}? This will also delete all their booked sessions.`))try{const b=n.filter(R=>R.clientId===K).map(R=>sa(Li(lt,"sessions",R.id)));await Promise.all(b),await sa(Li(lt,"clients",K)),e(s.filter(R=>R.id!==K)),r(n.filter(R=>R.clientId!==K))}catch(I){console.error("Error deleting client:",I),alert("Failed to delete client")}},H=K=>{if(!K)return"";const ie=K.toDate?K.toDate():new Date(K),I=ie.getFullYear(),b=(ie.getMonth()+1).toString().padStart(2,"0"),R=ie.getDate().toString().padStart(2,"0");return`${I}-${b}-${R}`},ee=K=>{m(K.id),y({name:K.name,email:K.email,weeksInBlock:K.weeksInBlock,totalSessions:K.totalSessions,sessionsRemaining:K.sessionsRemaining,sessionDuration:K.sessionDuration||45,startDate:H(K.startDate),endDate:H(K.endDate),status:K.status})},X=K=>{const{name:ie,value:I}=K.target;if(y(b=>({...b,[ie]:I})),ie==="startDate"||ie==="weeksInBlock"){const b=ie==="startDate"?I:p.startDate,R=parseInt(ie==="weeksInBlock"?I:p.weeksInBlock);if(b&&R>0){const M=new Date(b),N=new Date(M);N.setDate(N.getDate()+R*7);const V=N.getFullYear(),D=(N.getMonth()+1).toString().padStart(2,"0"),qe=N.getDate().toString().padStart(2,"0");y(rt=>({...rt,[ie]:I,endDate:`${V}-${D}-${qe}`}))}}},oe=async K=>{try{await TT(Li(lt,"clients",K),{name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate)),status:p.status}),e(s.map(ie=>ie.id===K?{...ie,...p,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate))}:ie)),m(null)}catch(ie){console.error("Error updating client:",ie),alert("Failed to update client")}},ve=async K=>{try{const ie=s.find(I=>I.id===K)?.status==="archived"?"active":"archived";await TT(Li(lt,"clients",K),{status:ie}),e(s.map(I=>I.id===K?{...I,status:ie}:I))}catch(ie){console.error("Error archiving client:",ie),alert("Failed to update client status")}};return o?A.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):s.length===0?A.jsxs("div",{className:"client-list-empty",children:[A.jsx("p",{children:"No clients yet"}),A.jsx("span",{children:"Add your first client to get started"})]}):A.jsx("div",{className:"client-list",children:s.map(K=>A.jsx("div",{className:`client-card ${K.status==="archived"?"archived":""}`,children:f===K.id?A.jsxs("div",{className:"edit-form",children:[A.jsxs("div",{className:"edit-row",children:[A.jsx("input",{type:"text",name:"name",value:p.name,onChange:X,placeholder:"Name"}),A.jsx("input",{type:"email",name:"email",value:p.email,onChange:X,placeholder:"Email"})]}),A.jsxs("div",{className:"edit-row",children:[A.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:X,placeholder:"Weeks",min:"1"}),A.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:X,placeholder:"Total Sessions",min:"1"}),A.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:X,children:[A.jsx("option",{value:"30",children:"30 min"}),A.jsx("option",{value:"45",children:"45 min"})]})]}),A.jsxs("div",{className:"edit-row",children:[A.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:X}),A.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:X})]}),A.jsxs("div",{className:"edit-actions",children:[A.jsx("button",{className:"save-edit-btn",onClick:()=>oe(K.id),children:"Save"}),A.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"client-header",children:[A.jsxs("div",{className:"client-info",children:[A.jsx("h3",{children:K.name}),A.jsx("span",{className:"client-email",children:K.email})]}),A.jsx("div",{className:"client-status",children:A.jsx("span",{className:`status-badge ${K.status}`,children:K.status})})]}),A.jsxs("div",{className:"client-details",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Block"}),A.jsxs("span",{className:"detail-value",children:[K.weeksInBlock," weeks"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Sessions"}),A.jsxs("span",{className:"detail-value",children:[C(K)," / ",K.totalSessions," remaining"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Booked"}),A.jsxs("span",{className:"detail-value",children:[L(K.id)," sessions"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Duration"}),A.jsxs("span",{className:"detail-value",children:[K.sessionDuration||45," min"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Start"}),A.jsx("span",{className:"detail-value",children:j(K.startDate)})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"End"}),A.jsx("span",{className:"detail-value",children:j(K.endDate)})]})]}),A.jsxs("div",{className:"client-actions",children:[A.jsx("button",{className:"action-btn edit",onClick:()=>ee(K),children:"Edit"}),A.jsx("button",{className:"action-btn archive",onClick:()=>ve(K.id),children:K.status==="archived"?"Reactivate":"Archive"}),A.jsx("button",{className:"action-btn delete",onClick:()=>z(K.id,K.name),children:"Delete"})]})]})},K.id))})}const _A={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},tp=["monday","tuesday","wednesday","thursday","friday"],fx=["Monday","Tuesday","Wednesday","Thursday","Friday"],dx=["Mon","Tue","Wed","Thu","Fri"],ST=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},mx=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),tp.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},ai=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},np=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},ip=(s,e)=>{const n=np(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},px=s=>{const e=_A[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=ip(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=ip(r,15)}return n};function gx(){const[s,e]=P.useState(new Date),[n,r]=P.useState([]),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,y]=P.useState([]),[E,T]=P.useState(null),[C,L]=P.useState(null),[j,z]=P.useState(!1),[H,ee]=P.useState(!0);P.useEffect(()=>{r(mx(s))},[s]),P.useEffect(()=>{ie()},[]);const X=ae=>{if(T(ae),z(!1),ae.startDate){const le=ae.startDate.toDate?ae.startDate.toDate():new Date(ae.startDate);e(le)}L(null)},oe=ae=>{const le=new Date,O=ai(le),Y=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return f.filter(re=>re.clientId!==ae?!1:re.date<O||re.date===O&&re.time<Y).length},ve=ae=>{const le=oe(ae.id);return(ae.totalSessions||0)-le},K=ae=>{const le=new Date,O=le.getFullYear(),Y=(le.getMonth()+1).toString().padStart(2,"0"),re=le.getDate().toString().padStart(2,"0"),ue=`${O}-${Y}-${re}`,de=`${le.getHours().toString().padStart(2,"0")}:${le.getMinutes().toString().padStart(2,"0")}`;return f.filter(ge=>ge.clientId!==ae?!1:ge.date>ue||ge.date===ue&&ge.time>=de).length},ie=async()=>{try{const le=(await Kn(en(lt,"clients"))).docs.map(de=>({id:de.id,...de.data()})).filter(de=>de.status==="active");u(le);const Y=(await Kn(en(lt,"sessions"))).docs.map(de=>({id:de.id,...de.data()}));m(Y);const ue=(await Kn(en(lt,"holidays"))).docs.map(de=>({id:de.id,...de.data()}));y(ue)}catch(ae){console.error("Error fetching data:",ae)}ee(!1)},I=ae=>{const le=new Date(s);le.setDate(le.getDate()+ae*7),e(le),L(null)},b=()=>{e(new Date),L(null)},R=ae=>{const le=ai(ae);return p.some(O=>O.date===le)},M=ae=>{const le=ai(ae);return f.filter(O=>O.date===le)},N=(ae,le)=>{const O=ai(ae);return f.find(Y=>Y.date===O&&Y.time===le)},V=(ae,le,O)=>{const Y=tp[ae.getDay()-1];if(!Y||R(ae))return!1;const re=ai(ae);if(f.find(nn=>nn.date===re&&nn.time===le))return!1;const de=ip(le,O),ge=_A[Y],Se=ge.morning&&de<=ge.morning.end,Ke=ge.afternoon&&de<=ge.afternoon.end,Ve=ge.morning&&le>=ge.morning.start&&le<ge.morning.end,ln=ge.afternoon&&le>=ge.afternoon.start&&le<ge.afternoon.end;if(Ve&&!Se||ln&&!Ke)return!1;for(const nn of f){if(nn.date!==re)continue;const un=np(nn.time),cn=un+(nn.duration||45),sn=np(le),Yn=sn+O;if(sn<cn&&Yn>un)return!1}return!0},D=async(ae,le)=>{const O=N(ae,le);if(O){if(window.confirm(`Cancel ${O.clientName}'s session at ${ST(le)}?`))try{await sa(Li(lt,"sessions",O.id)),m(f.filter(re=>re.id!==O.id))}catch(re){console.error("Error cancelling session:",re),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!V(ae,le,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(f.filter(re=>re.clientId===E.id).length>=E.totalSessions){alert(`${E.name} has already booked all ${E.totalSessions} sessions`);return}try{const re=ai(ae),ue={clientId:E.id,clientName:E.name,date:re,time:le,duration:E.sessionDuration||45,createdAt:Be.now()},de=await _h(en(lt,"sessions"),ue);m([...f,{id:de.id,...ue}])}catch(re){console.error("Error booking session:",re),alert("Failed to book session")}},qe=async()=>{if(!E)return;const ae=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),le=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),O=f.filter(Se=>Se.clientId!==E.id?!1:n.some(Ke=>ai(Ke)===Se.date));if(O.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const Y=E.weeksInBlock||Math.ceil((le-ae)/(10080*60*1e3)),re=O.map(Se=>({dayOfWeek:new Date(Se.date).getDay(),time:Se.time}));let ue=[];const de=f.filter(Se=>Se.clientId===E.id).length;for(let Se=0;Se<Y;Se++){const Ke=new Date(ae);Ke.setDate(Ke.getDate()+Se*7);const Ve=new Date(Ke),ln=Ve.getDay(),nn=Ve.getDate()-ln+(ln===0?-6:1);Ve.setDate(nn);for(const un of re){const cn=new Date(Ve),sn=un.dayOfWeek===0?6:un.dayOfWeek-1;cn.setDate(Ve.getDate()+sn);const Yn=ai(cn);f.some(En=>En.clientId===E.id&&En.date===Yn&&En.time===un.time)||cn<ae||cn>le||p.some(En=>En.date===Yn)||ue.push({dateKey:Yn,time:un.time,sessionDate:cn})}}const ge=de+ue.length;if(ge>E.totalSessions){alert(`This would create ${ue.length} new sessions (${ge} total), but client only has ${E.totalSessions} sessions in their package.

You can still book ${E.totalSessions-de} more sessions.`);return}if(ue.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${ue.length} new sessions across the block.

(${de} existing + ${ue.length} new = ${ge} total)

Continue?`))try{const Se=[];for(const Ke of ue){const Ve={clientId:E.id,clientName:E.name,date:Ke.dateKey,time:Ke.time,duration:E.sessionDuration||45,createdAt:Be.now()},ln=await _h(en(lt,"sessions"),Ve);Se.push({id:ln.id,...Ve})}m([...f,...Se]),alert(`Created ${Se.length} new sessions!`)}catch(Se){console.error("Error repeating weekly:",Se),alert("Failed to repeat sessions")}},rt=async ae=>{const le=ai(ae),O=p.find(Y=>Y.date===le);try{if(O)await sa(Li(lt,"holidays",O.id)),y(p.filter(Y=>Y.id!==O.id));else{const Y=await _h(en(lt,"holidays"),{date:le,createdAt:Be.now()});y([...p,{id:Y.id,date:le}])}}catch(Y){console.error("Error toggling day availability:",Y),alert("Failed to update day availability")}};if(H)return A.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const J=n[0],ce=n[4],_e=J&&ce?`${J.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${ce.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return A.jsxs("div",{className:"calendar",children:[A.jsxs("div",{className:"calendar-header",children:[A.jsxs("div",{className:"calendar-nav",children:[A.jsx("button",{onClick:()=>I(-1),children:""}),A.jsx("button",{onClick:b,children:"Today"}),A.jsx("button",{onClick:()=>I(1),children:""})]}),A.jsx("h3",{children:_e})]}),A.jsxs("div",{className:"client-selector",children:[A.jsx("span",{className:"selector-label",children:"Booking for:"}),E?A.jsxs("div",{className:"selected-client",children:[A.jsxs("div",{className:"selected-info",children:[A.jsx("strong",{children:E.name}),A.jsxs("span",{children:[E.sessionDuration||45,"min  ",ve(E),"/",E.totalSessions," remaining"]}),A.jsxs("span",{className:"booked-info",children:[K(E.id)," booked"]})]}),A.jsx("button",{onClick:()=>T(null),children:"Change"})]}):A.jsx("button",{className:"select-client-btn",onClick:()=>z(!0),children:"Select Client"})]}),E&&A.jsxs("div",{className:"repeat-weekly-section",children:[A.jsx("button",{className:"repeat-weekly-btn",onClick:qe,children:"Repeat This Week's Schedule For All Weeks"}),A.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),A.jsx("div",{className:"day-cards",children:n.map((ae,le)=>{const O=M(ae),Y=ai(ae)===ai(new Date),re=R(ae);return A.jsxs("div",{className:`day-card ${C===le?"selected":""} ${Y?"today":""} ${re?"holiday":""}`,onClick:()=>L(C===le?null:le),children:[A.jsxs("div",{className:"day-card-header",children:[A.jsx("span",{className:"day-name",children:dx[le]}),A.jsx("span",{className:"day-date",children:ae.getDate()})]}),re?A.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):A.jsxs("div",{className:"day-card-status",children:[O.length," session",O.length!==1?"s":""]})]},le)})}),C!==null&&n[C]&&A.jsxs("div",{className:"time-panel",children:[A.jsxs("div",{className:"time-panel-header",children:[A.jsxs("h4",{children:[fx[C]," ",n[C].getDate()]}),A.jsx("button",{className:"close-panel",onClick:()=>L(null),children:""})]}),A.jsx("div",{className:"availability-toggle",children:A.jsx("button",{className:`toggle-availability-btn ${R(n[C])?"unavailable":"available"}`,onClick:()=>rt(n[C]),children:R(n[C])?"Mark Day Available":"Mark Day Unavailable"})}),R(n[C])?A.jsxs("div",{className:"day-unavailable-message",children:[A.jsx("p",{children:"This day is marked as unavailable"}),A.jsx("span",{children:"Tap the button above to make it available again"})]}):A.jsx("div",{className:"time-slots",children:px(tp[C]).map(({time:ae,period:le},O,Y)=>{const re=N(n[C],ae),ue=E&&V(n[C],ae,E.sessionDuration||45),de=O===0||Y[O-1]?.period!==le;return A.jsxs("div",{children:[de&&A.jsx("div",{className:"period-label",children:le==="morning"?"Morning":"Afternoon"}),A.jsxs("button",{className:`time-slot ${re?"booked":""} ${ue?"available":""} ${!re&&!ue&&E?"unavailable":""}`,onClick:()=>D(n[C],ae),children:[A.jsx("span",{className:"slot-time",children:ST(ae)}),re?A.jsxs("span",{className:"slot-client",children:[re.clientName," (",re.duration,"m)"]}):ue?A.jsx("span",{className:"slot-available",children:"Available"}):E?A.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):A.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},ae)})})]}),j&&A.jsx("div",{className:"modal-overlay",onClick:()=>z(!1),children:A.jsxs("div",{className:"modal-content",onClick:ae=>ae.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h3",{children:"Select Client"}),A.jsx("button",{className:"close-btn",onClick:()=>z(!1),children:""})]}),A.jsx("div",{className:"client-list-picker",children:o.length===0?A.jsx("p",{className:"no-items",children:"No active clients"}):o.map(ae=>{const le=ae.startDate?.toDate?ae.startDate.toDate():new Date(ae.startDate),O=ae.endDate?.toDate?ae.endDate.toDate():new Date(ae.endDate),Y=ve(ae),re=K(ae.id);return A.jsxs("button",{className:"client-option",onClick:()=>X(ae),children:[A.jsx("strong",{children:ae.name}),A.jsxs("span",{children:[ae.sessionDuration||45,"min  ",Y,"/",ae.totalSessions," remaining  ",re," booked"]}),A.jsxs("span",{className:"client-dates",children:[le.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",O.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},ae.id)})})]})})]})}const AT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},ou=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},vA=s=>s===ou(new Date),yx=s=>{const e=new Date;return e.setDate(e.getDate()+1),s===ou(e)},bT=s=>vA(s)?"Today":yx(s)?"Tomorrow":new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),wT=s=>{const e=new Date,n=ou(e),r=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(s.date<n)return!0;if(s.date===n){const o=RT(s.time)+(s.duration||45);return RT(r)>=o}return!1},RT=s=>{const[e,n]=s.split(":").map(Number);return e*60+n};function _x(){const[s,e]=P.useState([]),[n,r]=P.useState(!0),[o,u]=P.useState(new Date);P.useEffect(()=>{f();const j=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(j)},[]);const f=async()=>{try{const z=(await Kn(en(lt,"sessions"))).docs.map(X=>({id:X.id,...X.data()})),H=ou(new Date),ee=z.filter(X=>X.date>=H).sort((X,oe)=>X.date!==oe.date?X.date.localeCompare(oe.date):X.time.localeCompare(oe.time));e(ee)}catch(j){console.error("Error fetching sessions:",j)}r(!1)},m=async j=>{if(window.confirm(`Cancel ${j.clientName}'s session at ${AT(j.time)} on ${bT(j.date)}?`))try{await sa(Li(lt,"sessions",j.id)),e(s.filter(z=>z.id!==j.id))}catch(z){console.error("Error cancelling session:",z),alert("Failed to cancel session")}};if(n)return A.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const p=s.reduce((j,z)=>{const H=z.date;return j[H]||(j[H]=[]),j[H].push(z),j},{}),y=Object.keys(p).sort(),E=ou(new Date),T=p[E]||[],C=T.filter(j=>wT(j)).length,L=T.length-C;return A.jsxs("div",{className:"schedule",children:[A.jsxs("div",{className:"today-summary",children:[A.jsx("h3",{children:"Today's Sessions"}),A.jsx("div",{className:"today-count",children:T.length===0?A.jsx("span",{className:"no-sessions",children:"No sessions today"}):A.jsxs("div",{className:"today-stats",children:[A.jsxs("span",{className:"completed-count",children:[C," completed"]}),A.jsxs("span",{className:"remaining-count",children:[L," remaining"]})]})})]}),y.length===0?A.jsx("div",{className:"no-upcoming",children:A.jsx("p",{children:"No upcoming sessions booked"})}):A.jsx("div",{className:"sessions-list",children:y.map(j=>A.jsxs("div",{className:`date-group ${vA(j)?"today":""}`,children:[A.jsxs("div",{className:"date-header",children:[A.jsx("span",{className:"date-label",children:bT(j)}),A.jsxs("span",{className:"date-count",children:[p[j].length," session",p[j].length!==1?"s":""]})]}),A.jsx("div",{className:"date-sessions",children:p[j].map(z=>{const H=wT(z);return A.jsxs("div",{className:`session-card ${H?"completed":""}`,children:[A.jsx("div",{className:"session-time",children:AT(z.time)}),A.jsxs("div",{className:"session-details",children:[A.jsx("strong",{children:z.clientName}),A.jsxs("span",{children:[z.duration,"min session"]})]}),H?A.jsx("div",{className:"completed-badge",children:""}):A.jsx("button",{className:"cancel-session-btn",onClick:()=>m(z),children:"Cancel"})]},z.id)})})]},j))})]})}const EA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},sp=["monday","tuesday","wednesday","thursday","friday"],vx=["Monday","Tuesday","Wednesday","Thursday","Friday"],Ex=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},Ul=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},Tx=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),sp.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},rp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},ap=(s,e)=>{const n=rp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},Sx=s=>{const e=EA[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=ap(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=ap(r,15)}return n};function Ax(){const[s,e]=P.useState(new Date),[n,r]=P.useState([]),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,y]=P.useState(!0),[E,T]=P.useState(45);P.useEffect(()=>{r(Tx(s))},[s]),P.useEffect(()=>{C()},[]);const C=async()=>{try{const ie=(await Kn(en(lt,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));u(ie);const b=(await Kn(en(lt,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));m(b)}catch(K){console.error("Error fetching data:",K)}y(!1)},L=K=>{const ie=new Date(s);ie.setDate(ie.getDate()+K*7),e(ie)},j=()=>{e(new Date)},z=K=>{const ie=Ul(K);return f.some(I=>I.date===ie)},H=(K,ie)=>{const I=sp[K.getDay()-1];if(!I||z(K))return!1;const b=Ul(K),R=new Date,M=Ul(R);if(b<M)return!1;if(b===M){const ce=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(ie<ce)return!1}const N=ap(ie,E),V=EA[I],D=V.morning&&ie>=V.morning.start&&ie<V.morning.end,qe=V.afternoon&&ie>=V.afternoon.start&&ie<V.afternoon.end,rt=V.morning&&N<=V.morning.end,J=V.afternoon&&N<=V.afternoon.end;if(D&&!rt||qe&&!J)return!1;for(const ce of o){if(ce.date!==b)continue;const _e=rp(ce.time),ae=_e+(ce.duration||45),le=rp(ie),O=le+E;if(le<ae&&O>_e)return!1}return!0},ee=(K,ie)=>{const I=sp[ie];return Sx(I).filter(R=>H(K,R.time))};if(p)return A.jsx("div",{className:"availability-loading",children:"Loading availability..."});const X=n[0],oe=n[4],ve=X&&oe?`${X.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${oe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return A.jsxs("div",{className:"availability",children:[A.jsxs("div",{className:"availability-header",children:[A.jsxs("div",{className:"availability-nav",children:[A.jsx("button",{onClick:()=>L(-1),children:""}),A.jsx("button",{onClick:j,children:"Today"}),A.jsx("button",{onClick:()=>L(1),children:""})]}),A.jsx("h3",{children:ve}),A.jsxs("div",{className:"duration-selector",children:[A.jsx("label",{children:"Session:"}),A.jsxs("select",{value:E,onChange:K=>T(Number(K.target.value)),children:[A.jsx("option",{value:30,children:"30 min"}),A.jsx("option",{value:45,children:"45 min"}),A.jsx("option",{value:60,children:"60 min"})]})]})]}),A.jsx("div",{className:"availability-grid",children:n.map((K,ie)=>{const I=z(K),b=I?[]:ee(K,ie),R=Ul(K)===Ul(new Date),M=K<new Date&&!R;return A.jsxs("div",{className:`day-column ${R?"today":""} ${M?"past":""}`,children:[A.jsxs("div",{className:"day-header",children:[A.jsx("span",{className:"day-name",children:vx[ie]}),A.jsxs("span",{className:"day-date",children:[K.getDate(),"/",K.getMonth()+1]}),I&&A.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),A.jsx("div",{className:"slots-container",children:I?A.jsx("div",{className:"no-slots",children:"Unavailable"}):b.length===0?A.jsx("div",{className:"no-slots",children:"Fully booked"}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"slots-count",children:[b.length," slots"]}),A.jsx("div",{className:"slots-list",children:b.map(N=>A.jsx("div",{className:`slot ${N.period}`,children:Ex(N.time)},N.time))})]})})]},ie)})})]})}function bx(){const[s,e]=P.useState("schedule"),[n,r]=P.useState(0),[o,u]=P.useState(!1),{currentUser:f,logout:m,isAdmin:p,loading:y}=lf(),E=ra(),T=P.useRef(0),C=P.useRef(!1);P.useRef(null),P.useEffect(()=>{!y&&(!f||!p)&&E("/")},[f,p,y,E]),P.useEffect(()=>{(async()=>{if(!(!f||!p))try{const[ee,X]=await Promise.all([Kn(en(lt,"clients")),Kn(en(lt,"sessions"))]),oe=new Set(ee.docs.map(K=>K.id)),ve=X.docs.filter(K=>!oe.has(K.data().clientId));if(ve.length>0){console.log(`Cleaning up ${ve.length} orphaned sessions...`);const K=ve.map(ie=>sa(Li(lt,"sessions",ie.id)));await Promise.all(K),console.log("Orphaned sessions cleaned up successfully")}}catch(ee){console.error("Error cleaning up orphaned sessions:",ee)}})()},[f,p]),P.useEffect(()=>{const H=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,ee=ve=>{H()<=0&&(T.current=ve.touches[0].clientY,C.current=!0)},X=ve=>{if(!C.current)return;const ie=ve.touches[0].clientY-T.current;ie>0&&H()<=0&&r(Math.min(ie*.5,80))},oe=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):r(0),C.current=!1};return document.addEventListener("touchstart",ee,{passive:!0}),document.addEventListener("touchmove",X,{passive:!0}),document.addEventListener("touchend",oe),()=>{document.removeEventListener("touchstart",ee),document.removeEventListener("touchmove",X),document.removeEventListener("touchend",oe)}},[n]);const L=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},j=async()=>{try{await m(),E("/")}catch(H){console.error("Failed to log out:",H)}},z=()=>{E("/add-client")};return y?A.jsx("div",{className:"loading",children:"Loading..."}):!f||!p?null:A.jsxs("div",{className:"dashboard",children:[n>0&&A.jsxs("div",{className:"pull-indicator",style:{height:n},children:[A.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),A.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),A.jsxs("header",{className:"dashboard-header",children:[A.jsxs("div",{className:"header-left",children:[A.jsx("h1",{children:"Mind Core Fitness"}),A.jsx("span",{className:"admin-badge",children:"Admin"})]}),A.jsxs("nav",{className:"header-nav",children:[A.jsx("button",{className:`nav-btn ${s==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),A.jsx("button",{className:`nav-btn ${s==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),A.jsx("button",{className:`nav-btn ${s==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),A.jsx("button",{className:`nav-btn ${s==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),A.jsxs("div",{className:"header-actions",children:[A.jsx("button",{className:"refresh-btn",onClick:L,disabled:o,children:o?"":""}),A.jsx("button",{className:"logout-btn",onClick:j,children:"Log Out"})]})]}),A.jsxs("main",{className:"dashboard-main",children:[s==="schedule"&&A.jsxs("div",{className:"schedule-view",children:[A.jsx("div",{className:"view-header",children:A.jsx("h2",{children:"Schedule"})}),A.jsx(_x,{})]}),s==="clients"&&A.jsxs("div",{className:"clients-view",children:[A.jsxs("div",{className:"view-header",children:[A.jsx("h2",{children:"Clients"}),A.jsx("button",{className:"add-btn",onClick:z,children:"+ Add Client"})]}),A.jsx(hx,{})]}),s==="calendar"&&A.jsxs("div",{className:"calendar-view",children:[A.jsx("div",{className:"view-header",children:A.jsx("h2",{children:"Calendar"})}),A.jsx(gx,{})]}),s==="availability"&&A.jsxs("div",{className:"availability-view",children:[A.jsx("div",{className:"view-header",children:A.jsx("h2",{children:"Available Slots"})}),A.jsx(Ax,{})]})]})]})}function wx(){const[s,e]=P.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,r]=P.useState(!1),[o,u]=P.useState(""),{currentUser:f,isAdmin:m,loading:p}=lf(),y=ra();P.useEffect(()=>{!p&&(!f||!m)&&y("/")},[f,m,p,y]),P.useEffect(()=>{if(s.startDate&&s.weeksInBlock){const L=new Date(s.startDate),j=parseInt(s.weeksInBlock);if(!isNaN(j)&&j>0){const z=new Date(L);z.setDate(z.getDate()+j*7),e(H=>({...H,endDate:z.toISOString().split("T")[0]}))}}},[s.startDate,s.weeksInBlock]);const E=L=>{const{name:j,value:z}=L.target;e(H=>({...H,[j]:z}))},T=async L=>{L.preventDefault(),u(""),r(!0);try{const j={name:s.name.trim(),email:s.email.trim().toLowerCase(),weeksInBlock:parseInt(s.weeksInBlock),totalSessions:parseInt(s.numberOfSessions),sessionsRemaining:parseInt(s.numberOfSessions),sessionDuration:parseInt(s.sessionDuration),startDate:Be.fromDate(new Date(s.startDate)),endDate:Be.fromDate(new Date(s.endDate)),status:"active",createdAt:Be.now()};await _h(en(lt,"clients"),j),y("/dashboard")}catch(j){console.error("Error adding client:",j),u("Failed to add client. Please try again."),r(!1)}},C=()=>{y("/dashboard")};return p?A.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:A.jsxs("div",{className:"add-client-page",children:[A.jsxs("header",{className:"page-header",children:[A.jsx("button",{className:"back-btn",onClick:C,children:" Back"}),A.jsx("h1",{children:"Add New Client"})]}),A.jsxs("main",{className:"page-content",children:[o&&A.jsx("div",{className:"form-error",children:o}),A.jsxs("form",{onSubmit:T,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"name",children:"Client Name"}),A.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:E,placeholder:"John Smith",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"email",children:"Client Email"}),A.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:E,placeholder:"john@example.com",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),A.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:s.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),A.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:s.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),A.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:s.sessionDuration,onChange:E,required:!0,children:[A.jsx("option",{value:"30",children:"30 minutes"}),A.jsx("option",{value:"45",children:"45 minutes"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"startDate",children:"Start Date"}),A.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:E,required:!0})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),A.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:E,required:!0}),A.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"button",className:"cancel-btn",onClick:C,children:"Cancel"}),A.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function Rx(){const[s,e]=P.useState([]),[n,r]=P.useState(!0),[o,u]=P.useState(null),{currentUser:f,isClient:m,clientData:p,logout:y,loading:E}=lf(),T=ra();P.useEffect(()=>{!E&&(!f||!m)&&T("/")},[f,m,E,T]),P.useEffect(()=>{p&&C()},[p]);const C=async()=>{try{const b=rg(en(lt,"sessions"),dA("clientId","==",p.id)),M=(await Kn(b)).docs.map(N=>({id:N.id,...N.data()}));M.sort((N,V)=>N.date!==V.date?N.date.localeCompare(V.date):N.time.localeCompare(V.time)),e(M)}catch(b){console.error("Error fetching sessions:",b)}r(!1)},L=b=>new Date(b).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),j=b=>{const[R,M]=b.split(":"),N=parseInt(R),V=N>=12?"pm":"am";return`${N>12?N-12:N===0?12:N}:${M}${V}`},z=b=>b?(b.toDate?b.toDate():new Date(b)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",H=b=>{const R=new Date,M=R.getFullYear(),N=(R.getMonth()+1).toString().padStart(2,"0"),V=R.getDate().toString().padStart(2,"0"),D=`${M}-${N}-${V}`,qe=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;return b.date<D||b.date===D&&b.time<qe},ee=()=>s.filter(b=>H(b)).length,X=()=>s.filter(b=>!H(b)),oe=async b=>{if(window.confirm(`Cancel your session on ${L(b.date)} at ${j(b.time)}?

This cannot be undone.`)){u(b.id);try{await sa(Li(lt,"sessions",b.id)),e(s.filter(R=>R.id!==b.id))}catch(R){console.error("Error cancelling session:",R),alert("Failed to cancel session. Please try again.")}u(null)}},ve=async()=>{try{await y(),T("/")}catch(b){console.error("Failed to log out:",b)}};if(E||n)return A.jsx("div",{className:"client-loading",children:"Loading..."});if(!f||!m||!p)return null;const K=ee(),ie=p.totalSessions-K,I=X();return A.jsxs("div",{className:"client-dashboard",children:[A.jsx("header",{className:"client-header",children:A.jsxs("div",{className:"header-content",children:[A.jsx("h1",{children:"Mind Core Fitness"}),A.jsx("button",{className:"logout-btn",onClick:ve,children:"Log Out"})]})}),A.jsxs("main",{className:"client-main",children:[A.jsx("div",{className:"welcome-section",children:A.jsxs("h2",{children:["Welcome, ",p.name.split(" ")[0]]})}),A.jsxs("div",{className:"block-info-card",children:[A.jsx("h3",{children:"Your Training Block"}),A.jsxs("div",{className:"block-stats",children:[A.jsxs("div",{className:"stat",children:[A.jsx("span",{className:"stat-value",children:ie}),A.jsx("span",{className:"stat-label",children:"Sessions Remaining"})]}),A.jsxs("div",{className:"stat",children:[A.jsx("span",{className:"stat-value",children:K}),A.jsx("span",{className:"stat-label",children:"Completed"})]}),A.jsxs("div",{className:"stat",children:[A.jsx("span",{className:"stat-value",children:p.totalSessions}),A.jsx("span",{className:"stat-label",children:"Total Package"})]})]}),A.jsxs("div",{className:"block-dates",children:[A.jsxs("div",{className:"date-item",children:[A.jsx("span",{className:"date-label",children:"Start Date"}),A.jsx("span",{className:"date-value",children:z(p.startDate)})]}),A.jsxs("div",{className:"date-item",children:[A.jsx("span",{className:"date-label",children:"End Date"}),A.jsx("span",{className:"date-value",children:z(p.endDate)})]}),A.jsxs("div",{className:"date-item",children:[A.jsx("span",{className:"date-label",children:"Session Duration"}),A.jsxs("span",{className:"date-value",children:[p.sessionDuration," minutes"]})]})]})]}),A.jsxs("div",{className:"sessions-section",children:[A.jsxs("h3",{children:["Upcoming Sessions (",I.length,")"]}),I.length===0?A.jsxs("div",{className:"no-sessions",children:[A.jsx("p",{children:"No upcoming sessions scheduled"}),A.jsx("span",{children:"Contact your trainer to book sessions"})]}):A.jsx("div",{className:"sessions-list",children:I.map(b=>A.jsxs("div",{className:"session-card",children:[A.jsxs("div",{className:"session-info",children:[A.jsx("div",{className:"session-date",children:L(b.date)}),A.jsxs("div",{className:"session-time",children:[j(b.time)," (",b.duration," min)"]})]}),A.jsx("button",{className:"cancel-btn",onClick:()=>oe(b),disabled:o===b.id,children:o===b.id?"Cancelling...":"Cancel"})]},b.id))})]}),A.jsxs("div",{className:"completed-section",children:[A.jsxs("h3",{children:["Completed Sessions (",K,")"]}),K===0?A.jsx("div",{className:"no-sessions",children:A.jsx("p",{children:"No completed sessions yet"})}):A.jsxs("div",{className:"sessions-list completed",children:[s.filter(b=>H(b)).slice(-5).reverse().map(b=>A.jsxs("div",{className:"session-card completed",children:[A.jsxs("div",{className:"session-info",children:[A.jsx("div",{className:"session-date",children:L(b.date)}),A.jsx("div",{className:"session-time",children:j(b.time)})]}),A.jsx("span",{className:"completed-badge",children:"Completed"})]},b.id)),K>5&&A.jsxs("div",{className:"more-sessions",children:["And ",K-5," more completed sessions"]})]})]})]})]})}function Cx(){const s=ra();return P.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";s(n,{replace:!0})}},[s]),null}function Ix(){return A.jsx(ux,{children:A.jsxs(I1,{basename:"/login",children:[A.jsx(Cx,{}),A.jsxs(s1,{children:[A.jsx(Ja,{path:"/",element:A.jsx(cx,{})}),A.jsx(Ja,{path:"/dashboard",element:A.jsx(bx,{})}),A.jsx(Ja,{path:"/add-client",element:A.jsx(wx,{})}),A.jsx(Ja,{path:"/client",element:A.jsx(Rx,{})}),A.jsx(Ja,{path:"*",element:A.jsx(n1,{to:"/",replace:!0})})]})]})})}aw.createRoot(document.getElementById("root")).render(A.jsx(P.StrictMode,{children:A.jsx(Ix,{})}));
