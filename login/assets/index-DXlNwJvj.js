(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var fm={exports:{}},Fl={};var V_;function rA(){if(V_)return Fl;V_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var j_;function aA(){return j_||(j_=1,fm.exports=rA()),fm.exports}var m=aA(),mm={exports:{}},De={};var L_;function oA(){if(L_)return De;L_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function Z(j,ne,K){this.props=j,this.context=ne,this.refs=z,this.updater=K||L}Z.prototype.isReactComponent={},Z.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},Z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function G(){}G.prototype=Z.prototype;function oe(j,ne,K){this.props=j,this.context=ne,this.refs=z,this.updater=K||L}var pe=oe.prototype=new G;pe.constructor=oe,k(pe,Z.prototype),pe.isPureReactComponent=!0;var $=Array.isArray;function ee(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(j,ne,K){var J=K.ref;return{$$typeof:s,type:j,key:ne,ref:J!==void 0?J:null,props:K}}function D(j,ne){return R(j.type,ne,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function M(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return ne[K]})}var I=/\/+/g;function ye(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):ne.toString(36)}function Pe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ee,ee):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,ne,K,J,ce){var fe=typeof j;(fe==="undefined"||fe==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(fe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case s:case e:de=!0;break;case T:return de=j._init,W(de(j._payload),ne,K,J,ce)}}if(de)return ce=ce(j),de=J===""?"."+ye(j,0):J,$(ce)?(K="",de!=null&&(K=de.replace(I,"$&/")+"/"),W(ce,ne,K,"",function(gt){return gt})):ce!=null&&(x(ce)&&(ce=D(ce,K+(ce.key==null||j&&j.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+de)),ne.push(ce)),1;de=0;var Ae=J===""?".":J+":";if($(j))for(var Me=0;Me<j.length;Me++)J=j[Me],fe=Ae+ye(J,Me),de+=W(J,ne,K,fe,ce);else if(Me=P(j),typeof Me=="function")for(j=Me.call(j),Me=0;!(J=j.next()).done;)J=J.value,fe=Ae+ye(J,Me++),de+=W(J,ne,K,fe,ce);else if(fe==="object"){if(typeof j.then=="function")return W(Pe(j),ne,K,J,ce);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return de}function ue(j,ne,K){if(j==null)return j;var J=[],ce=0;return W(j,J,"","",function(fe){return ne.call(K,fe,ce++)}),J}function _e(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var Ne=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Oe={map:ue,forEach:function(j,ne,K){ue(j,function(){ne.apply(this,arguments)},K)},count:function(j){var ne=0;return ue(j,function(){ne++}),ne},toArray:function(j){return ue(j,function(ne){return ne})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return De.Activity=S,De.Children=Oe,De.Component=Z,De.Fragment=n,De.Profiler=o,De.PureComponent=oe,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(j,ne,K){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var J=k({},j.props),ce=j.key;if(ne!=null)for(fe in ne.key!==void 0&&(ce=""+ne.key),ne)!C.call(ne,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ne.ref===void 0||(J[fe]=ne[fe]);var fe=arguments.length-2;if(fe===1)J.children=K;else if(1<fe){for(var de=Array(fe),Ae=0;Ae<fe;Ae++)de[Ae]=arguments[Ae+2];J.children=de}return R(j.type,ce,J)},De.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},De.createElement=function(j,ne,K){var J,ce={},fe=null;if(ne!=null)for(J in ne.key!==void 0&&(fe=""+ne.key),ne)C.call(ne,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=ne[J]);var de=arguments.length-2;if(de===1)ce.children=K;else if(1<de){for(var Ae=Array(de),Me=0;Me<de;Me++)Ae[Me]=arguments[Me+2];ce.children=Ae}if(j&&j.defaultProps)for(J in de=j.defaultProps,de)ce[J]===void 0&&(ce[J]=de[J]);return R(j,fe,ce)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:p,render:j}},De.isValidElement=x,De.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:_e}},De.memo=function(j,ne){return{$$typeof:v,type:j,compare:ne===void 0?null:ne}},De.startTransition=function(j){var ne=N.T,K={};N.T=K;try{var J=j(),ce=N.S;ce!==null&&ce(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ee,Ne)}catch(fe){Ne(fe)}finally{ne!==null&&K.types!==null&&(ne.types=K.types),N.T=ne}},De.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},De.use=function(j){return N.H.use(j)},De.useActionState=function(j,ne,K){return N.H.useActionState(j,ne,K)},De.useCallback=function(j,ne){return N.H.useCallback(j,ne)},De.useContext=function(j){return N.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,ne){return N.H.useDeferredValue(j,ne)},De.useEffect=function(j,ne){return N.H.useEffect(j,ne)},De.useEffectEvent=function(j){return N.H.useEffectEvent(j)},De.useId=function(){return N.H.useId()},De.useImperativeHandle=function(j,ne,K){return N.H.useImperativeHandle(j,ne,K)},De.useInsertionEffect=function(j,ne){return N.H.useInsertionEffect(j,ne)},De.useLayoutEffect=function(j,ne){return N.H.useLayoutEffect(j,ne)},De.useMemo=function(j,ne){return N.H.useMemo(j,ne)},De.useOptimistic=function(j,ne){return N.H.useOptimistic(j,ne)},De.useReducer=function(j,ne,K){return N.H.useReducer(j,ne,K)},De.useRef=function(j){return N.H.useRef(j)},De.useState=function(j){return N.H.useState(j)},De.useSyncExternalStore=function(j,ne,K){return N.H.useSyncExternalStore(j,ne,K)},De.useTransition=function(){return N.H.useTransition()},De.version="19.2.4",De}var P_;function mp(){return P_||(P_=1,mm.exports=oA()),mm.exports}var V=mp(),pm={exports:{}},Gl={},gm={exports:{}},ym={};var U_;function lA(){return U_||(U_=1,(function(s){function e(W,ue){var _e=W.length;W.push(ue);e:for(;0<_e;){var Ne=_e-1>>>1,Oe=W[Ne];if(0<o(Oe,ue))W[Ne]=ue,W[_e]=Oe,_e=Ne;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ue=W[0],_e=W.pop();if(_e!==ue){W[0]=_e;e:for(var Ne=0,Oe=W.length,j=Oe>>>1;Ne<j;){var ne=2*(Ne+1)-1,K=W[ne],J=ne+1,ce=W[J];if(0>o(K,_e))J<Oe&&0>o(ce,K)?(W[Ne]=ce,W[J]=_e,Ne=J):(W[Ne]=K,W[ne]=_e,Ne=ne);else if(J<Oe&&0>o(ce,_e))W[Ne]=ce,W[J]=_e,Ne=J;else break e}}return ue}function o(W,ue){var _e=W.sortIndex-ue.sortIndex;return _e!==0?_e:W.id-ue.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],v=[],T=1,S=null,w=3,P=!1,L=!1,k=!1,z=!1,Z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function pe(W){for(var ue=n(v);ue!==null;){if(ue.callback===null)r(v);else if(ue.startTime<=W)r(v),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(v)}}function $(W){if(k=!1,pe(W),!L)if(n(g)!==null)L=!0,ee||(ee=!0,M());else{var ue=n(v);ue!==null&&Pe($,ue.startTime-W)}}var ee=!1,N=-1,C=5,R=-1;function D(){return z?!0:!(s.unstable_now()-R<C)}function x(){if(z=!1,ee){var W=s.unstable_now();R=W;var ue=!0;try{e:{L=!1,k&&(k=!1,G(N),N=-1),P=!0;var _e=w;try{t:{for(pe(W),S=n(g);S!==null&&!(S.expirationTime>W&&D());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,w=S.priorityLevel;var Oe=Ne(S.expirationTime<=W);if(W=s.unstable_now(),typeof Oe=="function"){S.callback=Oe,pe(W),ue=!0;break t}S===n(g)&&r(g),pe(W)}else r(g);S=n(g)}if(S!==null)ue=!0;else{var j=n(v);j!==null&&Pe($,j.startTime-W),ue=!1}}break e}finally{S=null,w=_e,P=!1}ue=void 0}}finally{ue?M():ee=!1}}}var M;if(typeof oe=="function")M=function(){oe(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ye=I.port2;I.port1.onmessage=x,M=function(){ye.postMessage(null)}}else M=function(){Z(x,0)};function Pe(W,ue){N=Z(function(){W(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var _e=w;w=ue;try{return W()}finally{w=_e}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var _e=w;w=W;try{return ue()}finally{w=_e}},s.unstable_scheduleCallback=function(W,ue,_e){var Ne=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ne+_e:Ne):_e=Ne,W){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=_e+Oe,W={id:T++,callback:ue,priorityLevel:W,startTime:_e,expirationTime:Oe,sortIndex:-1},_e>Ne?(W.sortIndex=_e,e(v,W),n(g)===null&&W===n(v)&&(k?(G(N),N=-1):k=!0,Pe($,_e-Ne))):(W.sortIndex=Oe,e(g,W),L||P||(L=!0,ee||(ee=!0,M()))),W},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(W){var ue=w;return function(){var _e=w;w=ue;try{return W.apply(this,arguments)}finally{w=_e}}}})(ym)),ym}var z_;function uA(){return z_||(z_=1,gm.exports=lA()),gm.exports}var vm={exports:{}},mn={};var B_;function cA(){if(B_)return mn;B_=1;var s=mp();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:v,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,T)},mn.flushSync=function(g){var v=h.T,T=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=v,r.p=T,r.d.f()}},mn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},mn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},mn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,P=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},mn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mn.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},mn.requestFormReset=function(g){r.d.r(g)},mn.unstable_batchedUpdates=function(g,v){return g(v)},mn.useFormState=function(g,v,T){return h.H.useFormState(g,v,T)},mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var q_;function hA(){if(q_)return vm.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vm.exports=cA(),vm.exports}var H_;function dA(){if(H_)return Gl;H_=1;var s=uA(),e=mp(),n=hA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Z:return"Profiler";case z:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case oe:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}var Pe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ne=[],Oe=-1;function j(t){return{current:t}}function ne(t){0>Oe||(t.current=Ne[Oe],Ne[Oe]=null,Oe--)}function K(t,i){Oe++,Ne[Oe]=t.current,t.current=i}var J=j(null),ce=j(null),fe=j(null),de=j(null);function Ae(t,i){switch(K(fe,i),K(ce,t),K(J,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=r_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(J),K(J,t)}function Me(){ne(J),ne(ce),ne(fe)}function gt(t){t.memoizedState!==null&&K(de,t);var i=J.current,a=r_(i,t.type);i!==a&&(K(ce,t),K(J,a))}function be(t){ce.current===t&&(ne(J),ne(ce)),de.current===t&&(ne(de),zl._currentValue=_e)}var Ot,Mt;function Gt(t){if(Ot===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ot=i&&i[1]||"",Mt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+t+Mt}var ri=!1;function et(t,i){if(!t||ri)return"";ri=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Y=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){Y=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){Y=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var O=_.split(`
`),F=b.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===F.length)for(l=O.length-1,d=F.length-1;1<=l&&0<=d&&O[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==F[d]){var te=`
`+O[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=d);break}}}finally{ri=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Gt(a):""}function Xt(t,i){switch(t.tag){case 26:case 27:case 5:return Gt(t.type);case 16:return Gt("Lazy");case 13:return t.child!==i&&i!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return et(t.type,!1);case 11:return et(t.type.render,!1);case 1:return et(t.type,!0);case 31:return Gt("Activity");default:return""}}function xn(t){try{var i="",a=null;do i+=Xt(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var st=Object.prototype.hasOwnProperty,Ye=s.unstable_scheduleCallback,ai=s.unstable_cancelCallback,le=s.unstable_shouldYield,Ke=s.unstable_requestPaint,tt=s.unstable_now,at=s.unstable_getCurrentPriorityLevel,fn=s.unstable_ImmediatePriority,oi=s.unstable_UserBlockingPriority,Tn=s.unstable_NormalPriority,ba=s.unstable_LowPriority,kr=s.unstable_IdlePriority,wa=s.log,We=s.unstable_setDisableYieldValue,nn=null,Rt=null;function Fn(t){if(typeof wa=="function"&&We(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(nn,t)}catch{}}var Ct=Math.clz32?Math.clz32:Vu,ku=Math.log,Aa=Math.LN2;function Vu(t){return t>>>=0,t===0?32:31-(ku(t)/Aa|0)|0}var Ai=256,Vr=262144,kt=4194304;function Ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=Ri(l):(_&=b,_!==0?d=Ri(_):a||(a=b&~t,a!==0&&(d=Ri(a))))):(b=l&~f,b!==0?d=Ri(b):_!==0?d=Ri(_):a||(a=l&~t,a!==0&&(d=Ri(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function li(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Ni(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function jr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yd(t,i,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var te=31-Ct(a),se=1<<te;b[te]=0,O[te]=-1;var Y=F[te];if(Y!==null)for(F[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}a&=~se}l!==0&&Lr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Lr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ct(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Go(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ct(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function $o(t,i){var a=i&-i;return a=(a&42)!==0?1:Pr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function ui(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var ci=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ci,Wt="__reactProps$"+ci,Ii="__reactContainer$"+ci,Ra="__reactEvents$"+ci,vd="__reactListeners$"+ci,Pu="__reactHandles$"+ci,Uu="__reactResources$"+ci,Di="__reactMarker$"+ci;function Ca(t){delete t[Vt],delete t[Wt],delete t[Ra],delete t[vd],delete t[Pu]}function xi(t){var i=t[Vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ii]||a[Vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=d_(t);t!==null;){if(a=t[Vt])return a;t=d_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Vt]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function On(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Oi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(t){t[Di]=!0}var Yo=new Set,Ko={};function Mi(t,i){ki(t,i),ki(t+"Capture",i)}function ki(t,i){for(Ko[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Wo={};function zu(t){return st.call(Wo,t)?!0:st.call(Xo,t)?!1:Qo.test(t)?Wo[t]=!0:(Xo[t]=!0,!1)}function Na(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ot(t){if(!t._valueTracker){var i=Ds(t)?"checked":"value";t._valueTracker=Jo(t,i,""+t[i])}}function Ur(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ds(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zr=/[\n"\\]/g;function Sn(t){return t.replace(zr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ia(t,i,a,l,d,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zo(t,_,Jt(i)):a!=null?Zo(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Jt(b):t.removeAttribute("name")}function Bu(t,i,a,l,d,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){ot(t);return}a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ot(t)}function Zo(t,i,a){i==="number"&&Vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function qu(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Os(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Pe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ot(t)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function tl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&el(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&el(t,f,i[f])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return Ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var nl=null;function $n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,ji=null;function Br(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[Wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Wt]||null;if(!d)throw Error(r(90));Ia(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ur(l)}break e;case"textarea":qu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xs(t,!!a.multiple,i,!1)}}}var Oa=!1;function Vs(t,i,a){if(Oa)return t(i,a);Oa=!0;try{var l=t(i);return l}finally{if(Oa=!1,(ks!==null||ji!==null)&&(Lc(),ks&&(i=ks,t=ji,ji=ks=null,Br(i),t)))for(i=0;i<t.length;i++)Br(t[i])}}function di(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Yn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){qr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{qr=!1}var Li=null,il=null,Hr=null;function sl(){if(Hr)return Hr;var t,i=il,a=i.length,l,d="value"in Li?Li.value:Li.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===d[f-l];l++);return Hr=d.slice(t,1<l?1-l:void 0)}function Fr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function fi(){return!1}function sn(t){function i(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:fi,this.isPropagationStopped=fi,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),i}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=sn(ns),js=S({},ns,{view:0,detail:0}),rl=sn(js),Ls,Ma,Ui,ka=S({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(Ls=t.screenX-Ui.screenX,Ma=t.screenY-Ui.screenY):Ma=Ls=0,Ui=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),al=sn(ka),Gr=S({},ka,{dataTransfer:0}),Gu=sn(Gr),$u=S({},js,{relatedTarget:0}),$r=sn($u),ol=S({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=sn(ol),Va=S({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=sn(Va),Qu=S({},ns,{data:0}),zi=sn(Qu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ju[t])?!!i[t]:!1}function Ps(){return Zu}var _n=S({},js,{key:function(t){if(t.key){var i=Xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=sn(_n),tc=S({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=sn(tc),c=S({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),y=sn(c),E=S({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(E),q=S({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=sn(q),he=S({},ns,{newState:0,oldState:0}),ke=sn(he),Nt=[9,13,27,32],nt=Yn&&"CompositionEvent"in window,_t=null;Yn&&"documentMode"in document&&(_t=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!_t,Bi=Yn&&(!nt||_t&&8<_t&&11>=_t),mi=" ",pi=!1;function Yr(t,i){switch(t){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function Ib(t,i){switch(t){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(pi=!0,mi);case"textInput":return t=i.data,t===mi&&pi?null:t;default:return null}}function Db(t,i){if(La)return t==="compositionend"||!nt&&Yr(t,i)?(t=sl(),Hr=il=Li=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Bi&&i.locale!=="ko"?null:i.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xb[t.type]:i==="textarea"}function gg(t,i,a,l){ks?ji?ji.push(l):ji=[l]:ks=l,i=Fc(i,"onChange"),0<i.length&&(a=new Pi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ll=null,ul=null;function Ob(t){Jv(t,0)}function nc(t){var i=On(t);if(Ur(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(Yn){var _d;if(Yn){var Ed="oninput"in document;if(!Ed){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Ed=typeof _g.oninput=="function"}_d=Ed}else _d=!1;vg=_d&&(!document.documentMode||9<document.documentMode)}function Eg(){ll&&(ll.detachEvent("onpropertychange",Tg),ul=ll=null)}function Tg(t){if(t.propertyName==="value"&&nc(ul)){var i=[];gg(i,ul,t,$n(t)),Vs(Ob,i)}}function Mb(t,i,a){t==="focusin"?(Eg(),ll=i,ul=a,ll.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(ul)}function Vb(t,i){if(t==="click")return nc(i)}function jb(t,i){if(t==="input"||t==="change")return nc(i)}function Lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kn=typeof Object.is=="function"?Object.is:Lb;function cl(t,i){if(kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!st.call(i,d)||!kn(t[d],i[d]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function wg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Vi(t.document)}return i}function Td(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pb=Yn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Sd=null,hl=null,bd=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bd||Pa==null||Pa!==Vi(l)||(l=Pa,"selectionStart"in l&&Td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Fc(Sd,"onSelect"),0<l.length&&(i=new Pi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Pa)))}function Kr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},wd={},Cg={};Yn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Qr(t){if(wd[t])return wd[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return wd[t]=i[a];return t}var Ng=Qr("animationend"),Ig=Qr("animationiteration"),Dg=Qr("animationstart"),Ub=Qr("transitionrun"),zb=Qr("transitionstart"),Bb=Qr("transitioncancel"),xg=Qr("transitionend"),Og=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function gi(t,i){Og.set(t,i),Mi(i,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],za=0,Rd=0;function sc(){for(var t=za,i=Rd=za=0;i<t;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var d=Qn[i];Qn[i++]=null;var f=Qn[i];if(Qn[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Mg(a,d,f)}}function rc(t,i,a,l){Qn[za++]=t,Qn[za++]=i,Qn[za++]=a,Qn[za++]=l,Rd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cd(t,i,a,l){return rc(t,i,a,l),ac(t)}function Xr(t,i){return rc(t,null,null,i),ac(t)}function Mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-Ct(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function ac(t){if(50<Ml)throw Ml=0,Lf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ba={};function qb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,i,a,l){return new qb(t,i,a,l)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,i){var a=t.alternate;return a===null?(a=Vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,d,f){var _=0;if(l=t,typeof t=="function")Nd(t)&&(_=1);else if(typeof t=="string")_=Yw(t,a,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Vn(31,a,i,d),t.elementType=R,t.lanes=f,t;case k:return Wr(a.children,d,f,i);case z:_=8,d|=24;break;case Z:return t=Vn(12,a,i,d|2),t.elementType=Z,t.lanes=f,t;case $:return t=Vn(13,a,i,d),t.elementType=$,t.lanes=f,t;case ee:return t=Vn(19,a,i,d),t.elementType=ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:_=10;break e;case G:_=9;break e;case pe:_=11;break e;case N:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Vn(_,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Wr(t,i,a,l){return t=Vn(7,t,l,i),t.lanes=a,t}function Id(t,i,a){return t=Vn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=Vn(18,null,null,0);return i.stateNode=t,i}function Dd(t,i,a){return i=Vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var jg=new WeakMap;function Xn(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:xn(i)},jg.set(t,i),i)}return{value:t,source:i,stack:xn(i)}}var qa=[],Ha=0,lc=null,dl=0,Wn=[],Jn=0,Us=null,qi=1,Hi="";function rs(t,i){qa[Ha++]=dl,qa[Ha++]=lc,lc=t,dl=i}function Lg(t,i,a){Wn[Jn++]=qi,Wn[Jn++]=Hi,Wn[Jn++]=Us,Us=t;var l=qi;t=Hi;var d=32-Ct(l)-1;l&=~(1<<d),a+=1;var f=32-Ct(i)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,qi=1<<32-Ct(i)+d|a<<d|l,Hi=f+t}else qi=1<<f|a<<d|l,Hi=t}function xd(t){t.return!==null&&(rs(t,1),Lg(t,1,0))}function Od(t){for(;t===lc;)lc=qa[--Ha],qa[Ha]=null,dl=qa[--Ha],qa[Ha]=null;for(;t===Us;)Us=Wn[--Jn],Wn[Jn]=null,Hi=Wn[--Jn],Wn[Jn]=null,qi=Wn[--Jn],Wn[Jn]=null}function Pg(t,i){Wn[Jn++]=qi,Wn[Jn++]=Hi,Wn[Jn++]=Us,qi=i.id,Hi=i.overflow,Us=t}var rn=null,yt=null,Qe=!1,zs=null,Zn=!1,Md=Error(r(519));function Bs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Xn(i,t)),Md}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Vt]=t,i[Wt]=l,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Be(Vl[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Os(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=hi),i=!0):i=!1,i||Bs(t,!0)}function zg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:rn=rn.return}}function Fa(t){if(t!==rn)return!1;if(!Qe)return zg(t),Qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jf(t.type,t.memoizedProps)),a=!a),a&&yt&&Bs(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=h_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=h_(t)}else i===27?(i=yt,tr(t.type)?(t=im,im=null,yt=t):yt=i):yt=rn?ti(t.stateNode.nextSibling):null;return!0}function Jr(){yt=rn=null,Qe=!1}function kd(){var t=zs;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),zs=null),t}function fl(t){zs===null?zs=[t]:zs.push(t)}var Vd=j(null),Zr=null,as=null;function qs(t,i,a){K(Vd,i._currentValue),i._currentValue=a}function os(t){t._currentValue=Vd.current,ne(Vd)}function jd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ld(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var O=0;O<i.length;O++)if(b.context===i[O]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),jd(f.return,a,t),l||(_=null);break e}f=b.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),jd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Ga(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=d.type;kn(d.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(d===de.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}d=d.return}t!==null&&Ld(i,t,a,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Zr=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Bg(Zr,t)}function cc(t,i){return Zr===null&&ea(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},as===null){if(t===null)throw Error(r(308));as=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else as=as.next=i;return a}var Hb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Fb=s.unstable_scheduleCallback,Gb=s.unstable_NormalPriority,Pt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new Hb,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&Fb(Gb,function(){t.controller.abort()})}var pl=null,Ud=0,$a=0,Ya=null;function $b(t,i){if(pl===null){var a=pl=[];Ud=0,$a=Hf(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ud++,i.then(qg,qg),i}function qg(){if(--Ud===0&&pl!==null){Ya!==null&&(Ya.status="fulfilled");var t=pl;pl=null,$a=0,Ya=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Yb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Hg=W.S;W.S=function(t,i){Rv=tt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$b(t,i),Hg!==null&&Hg(t,i)};var ta=j(null);function zd(){var t=ta.current;return t!==null?t:mt.pooledCache}function hc(t,i){i===null?K(ta,ta.current):K(ta,i.pool)}function Fg(){var t=zd();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ka=Error(r(460)),Bd=Error(r(474)),dc=Error(r(542)),fc={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(hi,hi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(hi,hi);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw ia=i,Ka}}function na(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Ka):a}}var ia=null;function Yg(){if(ia===null)throw Error(r(459));var t=ia;return ia=null,t}function Kg(t){if(t===Ka||t===dc)throw Error(r(483))}var Qa=null,gl=0;function mc(t){var i=gl;return gl+=1,Qa===null&&(Qa=[]),$g(Qa,t,i)}function yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pc(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(B,U){if(t){var H=B.deletions;H===null?(B.deletions=[U],B.flags|=16):H.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function d(B,U){return B=ss(B,U),B.index=0,B.sibling=null,B}function f(B,U,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<U?(B.flags|=67108866,U):H):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,H,ie){return U===null||U.tag!==6?(U=Id(H,B.mode,ie),U.return=B,U):(U=d(U,H),U.return=B,U)}function O(B,U,H,ie){var Te=H.type;return Te===k?te(B,U,H.props.children,ie,H.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&na(Te)===U.type)?(U=d(U,H.props),yl(U,H),U.return=B,U):(U=oc(H.type,H.key,H.props,null,B.mode,ie),yl(U,H),U.return=B,U)}function F(B,U,H,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Dd(H,B.mode,ie),U.return=B,U):(U=d(U,H.children||[]),U.return=B,U)}function te(B,U,H,ie,Te){return U===null||U.tag!==7?(U=Wr(H,B.mode,ie,Te),U.return=B,U):(U=d(U,H),U.return=B,U)}function se(B,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Id(""+U,B.mode,H),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return H=oc(U.type,U.key,U.props,null,B.mode,H),yl(H,U),H.return=B,H;case L:return U=Dd(U,B.mode,H),U.return=B,U;case C:return U=na(U),se(B,U,H)}if(Pe(U)||M(U))return U=Wr(U,B.mode,H,null),U.return=B,U;if(typeof U.then=="function")return se(B,mc(U),H);if(U.$$typeof===oe)return se(B,cc(B,U),H);pc(B,U)}return null}function Y(B,U,H,ie){var Te=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:b(B,U,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return H.key===Te?O(B,U,H,ie):null;case L:return H.key===Te?F(B,U,H,ie):null;case C:return H=na(H),Y(B,U,H,ie)}if(Pe(H)||M(H))return Te!==null?null:te(B,U,H,ie,null);if(typeof H.then=="function")return Y(B,U,mc(H),ie);if(H.$$typeof===oe)return Y(B,U,cc(B,H),ie);pc(B,H)}return null}function X(B,U,H,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(H)||null,b(U,B,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case P:return B=B.get(ie.key===null?H:ie.key)||null,O(U,B,ie,Te);case L:return B=B.get(ie.key===null?H:ie.key)||null,F(U,B,ie,Te);case C:return ie=na(ie),X(B,U,H,ie,Te)}if(Pe(ie)||M(ie))return B=B.get(H)||null,te(U,B,ie,Te,null);if(typeof ie.then=="function")return X(B,U,H,mc(ie),Te);if(ie.$$typeof===oe)return X(B,U,H,cc(U,ie),Te);pc(U,ie)}return null}function ve(B,U,H,ie){for(var Te=null,Je=null,Ee=U,je=U=0,He=null;Ee!==null&&je<H.length;je++){Ee.index>je?(He=Ee,Ee=null):He=Ee.sibling;var Ze=Y(B,Ee,H[je],ie);if(Ze===null){Ee===null&&(Ee=He);break}t&&Ee&&Ze.alternate===null&&i(B,Ee),U=f(Ze,U,je),Je===null?Te=Ze:Je.sibling=Ze,Je=Ze,Ee=He}if(je===H.length)return a(B,Ee),Qe&&rs(B,je),Te;if(Ee===null){for(;je<H.length;je++)Ee=se(B,H[je],ie),Ee!==null&&(U=f(Ee,U,je),Je===null?Te=Ee:Je.sibling=Ee,Je=Ee);return Qe&&rs(B,je),Te}for(Ee=l(Ee);je<H.length;je++)He=X(Ee,B,je,H[je],ie),He!==null&&(t&&He.alternate!==null&&Ee.delete(He.key===null?je:He.key),U=f(He,U,je),Je===null?Te=He:Je.sibling=He,Je=He);return t&&Ee.forEach(function(ar){return i(B,ar)}),Qe&&rs(B,je),Te}function we(B,U,H,ie){if(H==null)throw Error(r(151));for(var Te=null,Je=null,Ee=U,je=U=0,He=null,Ze=H.next();Ee!==null&&!Ze.done;je++,Ze=H.next()){Ee.index>je?(He=Ee,Ee=null):He=Ee.sibling;var ar=Y(B,Ee,Ze.value,ie);if(ar===null){Ee===null&&(Ee=He);break}t&&Ee&&ar.alternate===null&&i(B,Ee),U=f(ar,U,je),Je===null?Te=ar:Je.sibling=ar,Je=ar,Ee=He}if(Ze.done)return a(B,Ee),Qe&&rs(B,je),Te;if(Ee===null){for(;!Ze.done;je++,Ze=H.next())Ze=se(B,Ze.value,ie),Ze!==null&&(U=f(Ze,U,je),Je===null?Te=Ze:Je.sibling=Ze,Je=Ze);return Qe&&rs(B,je),Te}for(Ee=l(Ee);!Ze.done;je++,Ze=H.next())Ze=X(Ee,B,je,Ze.value,ie),Ze!==null&&(t&&Ze.alternate!==null&&Ee.delete(Ze.key===null?je:Ze.key),U=f(Ze,U,je),Je===null?Te=Ze:Je.sibling=Ze,Je=Ze);return t&&Ee.forEach(function(sA){return i(B,sA)}),Qe&&rs(B,je),Te}function ft(B,U,H,ie){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case P:e:{for(var Te=H.key;U!==null;){if(U.key===Te){if(Te=H.type,Te===k){if(U.tag===7){a(B,U.sibling),ie=d(U,H.props.children),ie.return=B,B=ie;break e}}else if(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&na(Te)===U.type){a(B,U.sibling),ie=d(U,H.props),yl(ie,H),ie.return=B,B=ie;break e}a(B,U);break}else i(B,U);U=U.sibling}H.type===k?(ie=Wr(H.props.children,B.mode,ie,H.key),ie.return=B,B=ie):(ie=oc(H.type,H.key,H.props,null,B.mode,ie),yl(ie,H),ie.return=B,B=ie)}return _(B);case L:e:{for(Te=H.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){a(B,U.sibling),ie=d(U,H.children||[]),ie.return=B,B=ie;break e}else{a(B,U);break}else i(B,U);U=U.sibling}ie=Dd(H,B.mode,ie),ie.return=B,B=ie}return _(B);case C:return H=na(H),ft(B,U,H,ie)}if(Pe(H))return ve(B,U,H,ie);if(M(H)){if(Te=M(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),we(B,U,H,ie)}if(typeof H.then=="function")return ft(B,U,mc(H),ie);if(H.$$typeof===oe)return ft(B,U,cc(B,H),ie);pc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(a(B,U.sibling),ie=d(U,H),ie.return=B,B=ie):(a(B,U),ie=Id(H,B.mode,ie),ie.return=B,B=ie),_(B)):a(B,U)}return function(B,U,H,ie){try{gl=0;var Te=ft(B,U,H,ie);return Qa=null,Te}catch(Ee){if(Ee===Ka||Ee===dc)throw Ee;var Je=Vn(29,Ee,null,B.mode);return Je.lanes=ie,Je.return=B,Je}}}var sa=Qg(!0),Xg=Qg(!1),Hs=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=ac(t),Mg(t,null,a),i}return rc(t,l,i,a),ac(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}function Fd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gd=!1;function _l(){if(Gd){var t=Ya;if(t!==null)throw t}}function El(t,i,a,l){Gd=!1;var d=t.updateQueue;Hs=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var O=b,F=O.next;O.next=null,_===null?f=F:_.next=F,_=O;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==_&&(b===null?te.firstBaseUpdate=F:b.next=F,te.lastBaseUpdate=O))}if(f!==null){var se=d.baseState;_=0,te=F=O=null,b=f;do{var Y=b.lane&-536870913,X=Y!==b.lane;if(X?(qe&Y)===Y:(l&Y)===Y){Y!==0&&Y===$a&&(Gd=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=t,we=b;Y=i;var ft=a;switch(we.tag){case 1:if(ve=we.payload,typeof ve=="function"){se=ve.call(ft,se,Y);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,Y=typeof ve=="function"?ve.call(ft,se,Y):ve,Y==null)break e;se=S({},se,Y);break e;case 2:Hs=!0}}Y=b.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(F=te=X,O=se):te=te.next=X,_|=Y;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;X=b,b=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);te===null&&(O=se),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=te,f===null&&(d.shared.lanes=0),Xs|=_,t.lanes=_,t.memoizedState=se}}function Wg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var Xa=j(null),gc=j(0);function Zg(t,i){t=gs,K(gc,t),K(Xa,i),gs=t|i.baseLanes}function $d(){K(gc,gs),K(Xa,Xa.current)}function Yd(){gs=gc.current,ne(Xa),ne(gc)}var jn=j(null),ei=null;function $s(t){var i=t.alternate;K(It,It.current&1),K(jn,t),ei===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(ei=t)}function Kd(t){K(It,It.current),K(jn,t),ei===null&&(ei=t)}function ey(t){t.tag===22?(K(It,It.current),K(jn,t),ei===null&&(ei=t)):Ys()}function Ys(){K(It,It.current),K(jn,jn.current)}function Ln(t){ne(jn),ei===t&&(ei=null),ne(It)}var It=j(0);function yc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ls=0,Ve=null,ht=null,Ut=null,vc=!1,Wa=!1,ra=!1,_c=0,Tl=0,Ja=null,Kb=0;function wt(){throw Error(r(321))}function Qd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kn(t[a],i[a]))return!1;return!0}function Xd(t,i,a,l,d,f){return ls=f,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Ly:df,ra=!1,f=a(l,d),ra=!1,Wa&&(f=ny(i,a,l,d)),ty(t),f}function ty(t){W.H=wl;var i=ht!==null&&ht.next!==null;if(ls=0,Ut=ht=Ve=null,vc=!1,Tl=0,Ja=null,i)throw Error(r(300));t===null||zt||(t=t.dependencies,t!==null&&uc(t)&&(zt=!0))}function ny(t,i,a,l){Ve=t;var d=0;do{if(Wa&&(Ja=null),Tl=0,Wa=!1,25<=d)throw Error(r(301));if(d+=1,Ut=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}W.H=Py,f=i(a,l)}while(Wa);return f}function Qb(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Wd(){var t=_c!==0;return _c=0,t}function Jd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zd(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}ls=0,Ut=ht=Ve=null,Wa=!1,Tl=_c=0,Ja=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ve.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Dt(){if(ht===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var i=Ut===null?Ve.memoizedState:Ut.next;if(i!==null)Ut=i,ht=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ut===null?Ve.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=Tl;return Tl+=1,Ja===null&&(Ja=[]),t=$g(Ja,t,i),i=Ve,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Ly:df),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===oe)return an(t)}throw Error(r(438,String(t)))}function ef(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ec(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function us(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Dt();return tf(i,ht,t)}function tf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var b=_=null,O=null,F=i,te=!1;do{var se=F.lane&-536870913;if(se!==F.lane?(qe&se)===se:(ls&se)===se){var Y=F.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),se===$a&&(te=!0);else if((ls&Y)===Y){F=F.next,Y===$a&&(te=!0);continue}else se={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=se,_=f):O=O.next=se,Ve.lanes|=Y,Xs|=Y;se=F.action,ra&&a(f,se),f=F.hasEagerState?F.eagerState:a(f,se)}else Y={lane:se,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=Y,_=f):O=O.next=Y,Ve.lanes|=se,Xs|=se;F=F.next}while(F!==null&&F!==i);if(O===null?_=f:O.next=b,!kn(f,t.memoizedState)&&(zt=!0,te&&(a=Ya,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var i=Dt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);kn(f,i.memoizedState)||(zt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function iy(t,i,a){var l=Ve,d=Dt(),f=Qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!kn((ht||d).memoizedState,a);if(_&&(d.memoizedState=a,zt=!0),d=d.queue,af(ay.bind(null,l,d,t),[t]),d.getSnapshot!==i||_||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),mt===null)throw Error(r(349));f||(ls&127)!==0||sy(l,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=Ec(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,oy(i)&&ly(t)}function ay(t,i,a){return a(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kn(t,a)}catch{return!0}}function ly(t){var i=Xr(t,2);i!==null&&Nn(i,t,2)}function sf(t){var i=En();if(typeof t=="function"){var a=t;if(t=a(),ra){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},i}function uy(t,i,a,l){return t.baseState=a,tf(t,ht,typeof l=="function"?l:us)}function Xb(t,i,a,l,d){if(Ac(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};W.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,cy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function cy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=W.T,_={};W.T=_;try{var b=a(d,l),O=W.S;O!==null&&O(_,b),hy(t,i,b)}catch(F){rf(t,i,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),W.T=f}}else try{f=a(d,l),hy(t,i,f)}catch(F){rf(t,i,F)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,i,l)},function(l){return rf(t,i,l)}):dy(t,i,a)}function dy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function rf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if(Qe){var a=mt.formState;if(a!==null){e:{var l=Ve;if(Qe){if(yt){t:{for(var d=yt,f=Zn;d.nodeType!==8;){if(!f){d=null;break t}if(d=ti(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){yt=ti(d.nextSibling),l=d.data==="F!";break e}}Bs(l)}l=!1}l&&(i=a[0])}}return a=En(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=l,a=ky.bind(null,Ve,l),l.dispatch=a,l=sf(!1),f=hf.bind(null,Ve,!1,l.queue),l=En(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=Xb.bind(null,Ve,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function gy(t){var i=Dt();return yy(i,ht,t)}function yy(t,i,a){if(i=tf(t,i,my)[0],t=Sc(us)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(_){throw _===Ka?dc:_}else l=i;i=Dt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Za(9,{destroy:void 0},Wb.bind(null,d,a),null)),[l,f,t]}function Wb(t,i){t.action=i}function vy(t){var i=Dt(),a=ht;if(a!==null)return yy(i,a,t);Dt(),i=i.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=Ec(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Dt().memoizedState}function bc(t,i,a,l){var d=En();Ve.flags|=t,d.memoizedState=Za(1|i,{destroy:void 0},a,l===void 0?null:l)}function wc(t,i,a,l){var d=Dt();l=l===void 0?null:l;var f=d.memoizedState.inst;ht!==null&&l!==null&&Qd(l,ht.memoizedState.deps)?d.memoizedState=Za(i,f,a,l):(Ve.flags|=t,d.memoizedState=Za(1|i,f,a,l))}function Ey(t,i){bc(8390656,8,t,i)}function af(t,i){wc(2048,8,t,i)}function Jb(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=Ec(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ty(t){var i=Dt().memoizedState;return Jb({ref:i,nextImpl:t}),function(){if((it&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Sy(t,i){return wc(4,2,t,i)}function by(t,i){return wc(4,4,t,i)}function wy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,wc(4,4,wy.bind(null,i,t),a)}function of(){}function Ry(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Qd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Cy(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Qd(i,l[1]))return l[0];if(l=t(),ra){Fn(!0);try{t()}finally{Fn(!1)}}return a.memoizedState=[l,i],l}function lf(t,i,a){return a===void 0||(ls&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Nv(),Ve.lanes|=t,Xs|=t,a)}function Ny(t,i,a,l){return kn(a,i)?a:Xa.current!==null?(t=lf(t,a,l),kn(t,i)||(zt=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(qe&261930)===0?(zt=!0,t.memoizedState=a):(t=Nv(),Ve.lanes|=t,Xs|=t,i)}function Iy(t,i,a,l,d){var f=ue.p;ue.p=f!==0&&8>f?f:8;var _=W.T,b={};W.T=b,hf(t,!1,i,a);try{var O=d(),F=W.S;if(F!==null&&F(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=Yb(O,l);bl(t,i,te,zn(t))}else bl(t,i,l,zn(t))}catch(se){bl(t,i,{then:function(){},status:"rejected",reason:se},zn())}finally{ue.p=f,_!==null&&b.types!==null&&(_.types=b.types),W.T=_}}function Zb(){}function uf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var d=Dy(t).queue;Iy(t,d,i,_e,a===null?Zb:function(){return xy(t),a(l)})}function Dy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Dy(t);i.next===null&&(i=t.alternate.memoizedState),bl(t,i.next.queue,{},zn())}function cf(){return an(zl)}function Oy(){return Dt().memoizedState}function My(){return Dt().memoizedState}function ew(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=zn();t=Fs(a);var l=Gs(i,t,a);l!==null&&(Nn(l,i,a),vl(l,i,a)),i={cache:Pd()},t.payload=i;return}i=i.return}}function tw(t,i,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?Vy(i,a):(a=Cd(t,i,a,l),a!==null&&(Nn(a,t,l),jy(a,i,l)))}function ky(t,i,a){var l=zn();bl(t,i,a,l)}function bl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))Vy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,b=f(_,a);if(d.hasEagerState=!0,d.eagerState=b,kn(b,_))return rc(t,i,d,0),mt===null&&sc(),!1}catch{}if(a=Cd(t,i,d,l),a!==null)return Nn(a,t,l),jy(a,i,l),!0}return!1}function hf(t,i,a,l){if(l={lane:2,revertLane:Hf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(r(479))}else i=Cd(t,a,l,2),i!==null&&Nn(i,t,2)}function Ac(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function Vy(t,i){Wa=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}var wl={readContext:an,use:Tc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};wl.useEffectEvent=wt;var Ly={readContext:an,use:Tc,useCallback:function(t,i){return En().memoizedState=[t,i===void 0?null:i],t},useContext:an,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,wy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=En();i=i===void 0?null:i;var l=t();if(ra){Fn(!0);try{t()}finally{Fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=En();if(a!==void 0){var d=a(i);if(ra){Fn(!0);try{a(i)}finally{Fn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=tw.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=En();return t={current:t},i.memoizedState=t},useState:function(t){t=sf(t);var i=t.queue,a=ky.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:of,useDeferredValue:function(t,i){var a=En();return lf(a,t,i)},useTransition:function(){var t=sf(!1);return t=Iy.bind(null,Ve,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,d=En();if(Qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),mt===null)throw Error(r(349));(qe&127)!==0||sy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Ey(ay.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},ry.bind(null,l,f,a,i),null),a},useId:function(){var t=En(),i=mt.identifierPrefix;if(Qe){var a=Hi,l=qi;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Kb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cf,useFormState:py,useActionState:py,useOptimistic:function(t){var i=En();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hf.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:ef,useCacheRefresh:function(){return En().memoizedState=ew.bind(null,Ve)},useEffectEvent:function(t){var i=En(),a={impl:t};return i.memoizedState=a,function(){if((it&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},df={readContext:an,use:Tc,useCallback:Ry,useContext:an,useEffect:af,useImperativeHandle:Ay,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:Sc,useRef:_y,useState:function(){return Sc(us)},useDebugValue:of,useDeferredValue:function(t,i){var a=Dt();return Ny(a,ht.memoizedState,t,i)},useTransition:function(){var t=Sc(us)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:cf,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=Dt();return uy(a,ht,t,i)},useMemoCache:ef,useCacheRefresh:My};df.useEffectEvent=Ty;var Py={readContext:an,use:Tc,useCallback:Ry,useContext:an,useEffect:af,useImperativeHandle:Ay,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Cy,useReducer:nf,useRef:_y,useState:function(){return nf(us)},useDebugValue:of,useDeferredValue:function(t,i){var a=Dt();return ht===null?lf(a,t,i):Ny(a,ht.memoizedState,t,i)},useTransition:function(){var t=nf(us)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:cf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=Dt();return ht!==null?uy(a,ht,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:My};Py.useEffectEvent=Ty;function ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var mf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=zn(),d=Fs(l);d.payload=i,a!=null&&(d.callback=a),i=Gs(t,d,l),i!==null&&(Nn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=zn(),d=Fs(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Gs(t,d,l),i!==null&&(Nn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=zn(),l=Fs(a);l.tag=2,i!=null&&(l.callback=i),i=Gs(t,l,a),i!==null&&(Nn(i,t,a),vl(i,t,a))}};function Uy(t,i,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(d,f):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&mf.enqueueReplaceState(i,i.state,null)}function aa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function By(t){ic(t)}function qy(t){console.error(t)}function Hy(t){ic(t)}function Rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pf(t,i,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,i)},a}function Gy(t){return t=Fs(t),t.tag=3,t}function $y(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof d!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function nw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ga(i,a,d,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return ei===null?Pc():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zf(t,l,d)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zf(t,l,d)),!1}throw Error(r(435,a.tag))}return zf(t,l,d),Pc(),!1}if(Qe)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Md&&(t=Error(r(422),{cause:l}),fl(Xn(t,a)))):(l!==Md&&(i=Error(r(423),{cause:l}),fl(Xn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Xn(l,a),d=pf(t.stateNode,l,d),Fd(t,d),At!==4&&(At=2)),!1;var f=Error(r(520),{cause:l});if(f=Xn(f,a),Ol===null?Ol=[f]:Ol.push(f),At!==4&&(At=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=pf(a.stateNode,l,t),Fd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ws===null||!Ws.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gy(d),$y(d,t,a,l),Fd(a,d),!1}a=a.return}while(a!==null);return!1}var gf=Error(r(461)),zt=!1;function on(t,i,a,l){i.child=t===null?Xg(i,null,a,l):sa(i,t.child,a,l)}function Yy(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ea(i),l=Xd(t,i,a,_,f,d),b=Wd(),t!==null&&!zt?(Jd(t,i,d),cs(t,i,d)):(Qe&&b&&xd(i),i.flags|=1,on(t,i,l,d),i.child)}function Ky(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Nd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Qy(t,i,f,l,d)):(t=oc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!wf(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&t.ref===i.ref)return cs(t,i,d)}return i.flags|=1,t=ss(f,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(cl(f,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=f,wf(t,d))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,cs(t,i,d)}return yf(t,i,a,l,d)}function Xy(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Wy(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,f!==null?f.cachePool:null),f!==null?Zg(i,f):$d(),ey(i);else return l=i.lanes=536870912,Wy(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(hc(i,f.cachePool),Zg(i,f),Ys(),i.memoizedState=null):(t!==null&&hc(i,null),$d(),Ys());return on(t,i,d,a),i.child}function Al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wy(t,i,a,l,d){var f=zd();return f=f===null?null:{parent:Pt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&hc(i,null),$d(),ey(i),t!==null&&Ga(t,i,l,!0),i.childLanes=d,null}function Cc(t,i){return i=Ic({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return sa(i,t.child,null,a),t=Cc(i,i.pendingProps),t.flags|=2,Ln(i),i.memoizedState=null,t}function iw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Cc(i,l),i.lanes=536870912,Al(null,t);if(Kd(i),(t=yt)?(t=c_(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Us!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,rn=i,yt=null)):t=null,t===null)throw Bs(i);return i.lanes=536870912,null}return Cc(i,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Kd(i),d)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(zt||Ga(t,i,a,!1),d=(a&t.childLanes)!==0,zt||d){if(l=mt,l!==null&&(_=$o(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Xr(t,_),Nn(l,t,_),gf;Pc(),i=Jy(t,i,a)}else t=f.treeContext,yt=ti(_.nextSibling),rn=i,Qe=!0,zs=null,Zn=!1,t!==null&&Pg(i,t),i=Cc(i,l),i.flags|=4096;return i}return t=ss(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Nc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yf(t,i,a,l,d){return ea(i),a=Xd(t,i,a,l,void 0,d),l=Wd(),t!==null&&!zt?(Jd(t,i,d),cs(t,i,d)):(Qe&&l&&xd(i),i.flags|=1,on(t,i,a,d),i.child)}function Zy(t,i,a,l,d,f){return ea(i),i.updateQueue=null,a=ny(i,l,a,d),ty(t),l=Wd(),t!==null&&!zt?(Jd(t,i,f),cs(t,i,f)):(Qe&&l&&xd(i),i.flags|=1,on(t,i,a,f),i.child)}function ev(t,i,a,l,d){if(ea(i),i.stateNode===null){var f=Ba,_=a.contextType;typeof _=="object"&&_!==null&&(f=an(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},qd(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?an(_):Ba,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ff(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&mf.enqueueReplaceState(f,f.state,null),El(i,l,f,d),_l(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,O=aa(a,b);f.props=O;var F=f.context,te=a.contextType;_=Ba,typeof te=="object"&&te!==null&&(_=an(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==_)&&zy(i,f,l,_),Hs=!1;var Y=i.memoizedState;f.state=Y,El(i,l,f,d),_l(),F=i.memoizedState,b||Y!==F||Hs?(typeof se=="function"&&(ff(i,a,se,l),F=i.memoizedState),(O=Hs||Uy(i,a,O,l,Y,F,_))?(te||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=_,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Hd(t,i),_=i.memoizedProps,te=aa(a,_),f.props=te,se=i.pendingProps,Y=f.context,F=a.contextType,O=Ba,typeof F=="object"&&F!==null&&(O=an(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==se||Y!==O)&&zy(i,f,l,O),Hs=!1,Y=i.memoizedState,f.state=Y,El(i,l,f,d),_l();var X=i.memoizedState;_!==se||Y!==X||Hs||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof b=="function"&&(ff(i,a,b,l),X=i.memoizedState),(te=Hs||Uy(i,a,te,l,Y,X,O)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),f.props=l,f.state=X,f.context=O,l=te):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Nc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=sa(i,t.child,null,d),i.child=sa(i,null,a,d)):on(t,i,a,d),i.memoizedState=f.state,t=i.child):t=cs(t,i,d),t}function tv(t,i,a,l){return Jr(),i.flags|=256,on(t,i,a,l),i.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:Fg()}}function Ef(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Un),t}function nv(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(d?$s(i):Ys(),(t=yt)?(t=c_(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Us!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,rn=i,yt=null)):t=null,t===null)throw Bs(i);return nm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,d?(Ys(),d=i.mode,b=Ic({mode:"hidden",children:b},d),l=Wr(l,d,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=_f(a),l.childLanes=Ef(t,_,a),i.memoizedState=vf,Al(null,l)):($s(i),Tf(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)i.flags&256?($s(i),i.flags&=-257,i=Sf(t,i,a)):i.memoizedState!==null?(Ys(),i.child=t.child,i.flags|=128,i=null):(Ys(),b=l.fallback,d=i.mode,l=Ic({mode:"visible",children:l.children},d),b=Wr(b,d,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,sa(i,t.child,null,a),l=i.child,l.memoizedState=_f(a),l.childLanes=Ef(t,_,a),i.memoizedState=vf,i=Al(null,l));else if($s(i),nm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(r(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),i=Sf(t,i,a)}else if(zt||Ga(t,i,a,!1),_=(a&t.childLanes)!==0,zt||_){if(_=mt,_!==null&&(l=$o(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Xr(t,l),Nn(_,t,l),gf;tm(b)||Pc(),i=Sf(t,i,a)}else tm(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,yt=ti(b.nextSibling),rn=i,Qe=!0,zs=null,Zn=!1,t!==null&&Pg(i,t),i=Tf(i,l.children),i.flags|=4096);return i}return d?(Ys(),b=l.fallback,d=i.mode,O=t.child,F=O.sibling,l=ss(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?b=ss(F,b):(b=Wr(b,d,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Al(null,l),l=i.child,b=t.child.memoizedState,b===null?b=_f(a):(d=b.cachePool,d!==null?(O=Pt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Fg(),b={baseLanes:b.baseLanes|a,cachePool:d}),l.memoizedState=b,l.childLanes=Ef(t,_,a),i.memoizedState=vf,Al(t.child,l)):($s(i),a=t.child,t=a.sibling,a=ss(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Tf(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=Vn(22,t,null,i),t.lanes=0,t}function Sf(t,i,a){return sa(i,t.child,null,a),t=Tf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function iv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jd(t.return,i,a)}function bf(t,i,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function sv(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=It.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,K(It,_),on(t,i,l,a),l=Qe?dl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,a,i);else if(t.tag===19)iv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&yc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),bf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&yc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}bf(i,!0,a,null,f,l);break;case"together":bf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function cs(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ga(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=ss(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ss(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function sw(t,i,a){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),qs(i,Pt,t.memoizedState.cache),Jr();break;case 27:case 5:gt(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:qs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($s(i),i.flags|=128,null):(a&i.child.childLanes)!==0?nv(t,i,a):($s(i),t=cs(t,i,a),t!==null?t.sibling:null);$s(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ga(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return sv(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(It,It.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:qs(i,Pt,t.memoizedState.cache)}return cs(t,i,a)}function rv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!wf(t,a)&&(i.flags&128)===0)return zt=!1,sw(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,Qe&&(i.flags&1048576)!==0&&Lg(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=na(i.elementType),i.type=t,typeof t=="function")Nd(t)?(l=aa(t,l),i.tag=1,i=ev(null,i,t,l,a)):(i.tag=0,i=yf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===pe){i.tag=11,i=Yy(null,i,t,l,a);break e}else if(d===N){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=ye(t)||t,Error(r(306,i,""))}}return i;case 0:return yf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=aa(l,i.pendingProps),ev(t,i,l,d,a);case 3:e:{if(Ae(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Hd(t,i),El(i,l,null,a);var _=i.memoizedState;if(l=_.cache,qs(i,Pt,l),l!==f.cache&&Ld(i,[Pt],a,!0),_l(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=tv(t,i,l,a);break e}else if(l!==d){d=Xn(Error(r(424)),i),fl(d),i=tv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=ti(t.firstChild),rn=i,Qe=!0,zs=null,Zn=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Jr(),l===d){i=cs(t,i,a);break e}on(t,i,l,a)}i=i.child}return i;case 26:return Nc(t,i),t===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,t=i.pendingProps,l=Gc(fe.current).createElement(a),l[Vt]=i,l[Wt]=t,ln(l,a,t),jt(l),i.stateNode=l):i.memoizedState=g_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gt(i),t===null&&Qe&&(l=i.stateNode=f_(i.type,i.pendingProps,fe.current),rn=i,Zn=!0,d=yt,tr(i.type)?(im=d,yt=ti(l.firstChild)):yt=d),on(t,i,i.pendingProps.children,a),Nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((d=l=yt)&&(l=kw(l,i.type,i.pendingProps,Zn),l!==null?(i.stateNode=l,rn=i,yt=ti(l.firstChild),Zn=!1,d=!0):d=!1),d||Bs(i)),gt(i),d=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Jf(d,f)?l=null:_!==null&&Jf(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=Xd(t,i,Qb,null,null,a),zl._currentValue=d),Nc(t,i),on(t,i,l,a),i.child;case 6:return t===null&&Qe&&((t=a=yt)&&(a=Vw(a,i.pendingProps,Zn),a!==null?(i.stateNode=a,rn=i,yt=null,t=!0):t=!1),t||Bs(i)),null;case 13:return nv(t,i,a);case 4:return Ae(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=sa(i,null,l,a):on(t,i,l,a),i.child;case 11:return Yy(t,i,i.type,i.pendingProps,a);case 7:return on(t,i,i.pendingProps,a),i.child;case 8:return on(t,i,i.pendingProps.children,a),i.child;case 12:return on(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qs(i,i.type,l.value),on(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ea(i),d=an(d),l=l(d),i.flags|=1,on(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return sv(t,i,a);case 31:return iw(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return ea(i),l=an(Pt),t===null?(d=zd(),d===null&&(d=mt,f=Pd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},qd(i),qs(i,Pt,d)):((t.lanes&a)!==0&&(Hd(t,i),El(i,null,null,a),_l()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),qs(i,Pt,l)):(l=f.cache,qs(i,Pt,l),l!==d.cache&&Ld(i,[Pt],a,!0))),on(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function hs(t){t.flags|=4}function Af(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Ov())t.flags|=8192;else throw ia=fc,Bd}else t.flags&=-16777217}function av(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i))if(Ov())t.flags|=8192;else throw ia=fc,Bd}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ju():536870912,t.lanes|=i,io|=i)}function Rl(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rw(t,i,a){var l=i.pendingProps;switch(Od(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),os(Pt),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fa(i)?hs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kd())),vt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(hs(i),f!==null?(vt(i),av(i,f)):(vt(i),Af(i,d,null,l,a))):f?f!==t.memoizedState?(hs(i),vt(i),av(i,f)):(vt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&hs(i),vt(i),Af(i,d,t,l,a)),null;case 27:if(be(i),a=fe.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return vt(i),null}t=J.current,Fa(i)?Ug(i):(t=f_(d,l,a),i.stateNode=t,hs(i))}return vt(i),null;case 5:if(be(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return vt(i),null}if(f=J.current,Fa(i))Ug(i);else{var _=Gc(fe.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Vt]=i,f[Wt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(ln(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hs(i)}}return vt(i),Af(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&hs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=fe.current,Fa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=rn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||Bs(i,!0)}else t=Gc(t).createTextNode(l),t[Vt]=i,i.stateNode=t}return vt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Vt]=i}else Jr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),t=!1}else a=kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Ln(i),i):(Ln(i),null);if((i.flags&128)!==0)throw Error(r(558))}return vt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Fa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Vt]=i}else Jr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),d=!1}else d=kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ln(i),i):(Ln(i),null)}return Ln(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),vt(i),null);case 4:return Me(),t===null&&Yf(i.stateNode.containerInfo),vt(i),null;case 10:return os(i.type),vt(i),null;case 19:if(ne(It),l=i.memoizedState,l===null)return vt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Rl(l,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=yc(t),f!==null){for(i.flags|=128,Rl(l,!1),t=f.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)kg(a,t),a=a.sibling;return K(It,It.current&1|2),Qe&&rs(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tt()>Vc&&(i.flags|=128,d=!0,Rl(l,!1),i.lanes=4194304)}else{if(!d)if(t=yc(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qe)return vt(i),null}else 2*tt()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,d=!0,Rl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tt(),t.sibling=null,a=It.current,K(It,d?a&1|2:a&1),Qe&&rs(i,l.treeForkCount),t):(vt(i),null);case 22:case 23:return Ln(i),Yd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),os(Pt),vt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function aw(t,i){switch(Od(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return os(Pt),Me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return be(i),null;case 31:if(i.memoizedState!==null){if(Ln(i),i.alternate===null)throw Error(r(340));Jr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ln(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Jr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(It),null;case 4:return Me(),null;case 10:return os(i.type),null;case 22:case 23:return Ln(i),Yd(),t!==null&&ne(ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return os(Pt),null;case 25:return null;default:return null}}function ov(t,i){switch(Od(i),i.tag){case 3:os(Pt),Me();break;case 26:case 27:case 5:be(i);break;case 4:Me();break;case 31:i.memoizedState!==null&&Ln(i);break;case 13:Ln(i);break;case 19:ne(It);break;case 10:os(i.type);break;case 22:case 23:Ln(i),Yd(),t!==null&&ne(ta);break;case 24:os(Pt)}}function Cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(b){ut(i,i.return,b)}}function Ks(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,d=i;var O=a,F=b;try{F()}catch(te){ut(d,O,te)}}}l=l.next}while(l!==f)}}catch(te){ut(i,i.return,te)}}function lv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){ut(t,t.return,l)}}}function uv(t,i,a){a.props=aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,i,l)}}function Nl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){ut(t,i,d)}}function Fi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ut(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ut(t,i,d)}else a.current=null}function cv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ut(t,t.return,d)}}function Rf(t,i,a){try{var l=t.stateNode;Nw(l,t.type,a,i),l[Wt]=i}catch(d){ut(t,t.return,d)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hi));else if(l!==4&&(l===27&&tr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nf(t,i,a),t=t.sibling;t!==null;)Nf(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function dv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);ln(i,l,a),i[Vt]=t,i[Wt]=a}catch(f){ut(t,t.return,f)}}var ds=!1,Bt=!1,If=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function ow(t,i){if(t=t.containerInfo,Xf=Jc,t=Ag(t),Td(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,F=0,te=0,se=t,Y=null;t:for(;;){for(var X;se!==a||d!==0&&se.nodeType!==3||(b=_+d),se!==f||l!==0&&se.nodeType!==3||(O=_+l),se.nodeType===3&&(_+=se.nodeValue.length),(X=se.firstChild)!==null;)Y=se,se=X;for(;;){if(se===t)break t;if(Y===a&&++F===d&&(b=_),Y===f&&++te===l&&(O=_),(X=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=X}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wf={focusedElem:t,selectionRange:a},Jc=!1,Zt=i;Zt!==null;)if(i=Zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Zt=t;else for(;Zt!==null;){switch(i=Zt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ve=aa(a.type,d);t=l.getSnapshotBeforeUpdate(ve,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){ut(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Zt=t;break}Zt=i.return}}function mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ms(t,a),l&4&&Cl(5,a);break;case 1:if(ms(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){ut(a,a.return,_)}else{var d=aa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ut(a,a.return,_)}}l&64&&lv(a),l&512&&Nl(a,a.return);break;case 3:if(ms(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){ut(a,a.return,_)}}break;case 27:i===null&&l&4&&dv(a);case 26:case 5:ms(t,a),i===null&&l&4&&cv(a),l&512&&Nl(a,a.return);break;case 12:ms(t,a);break;case 31:ms(t,a),l&4&&yv(t,a);break;case 13:ms(t,a),l&4&&vv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gw.bind(null,a),jw(t,a))));break;case 22:if(l=a.memoizedState!==null||ds,!l){i=i!==null&&i.memoizedState!==null||Bt,d=ds;var f=Bt;ds=l,(Bt=i)&&!f?ps(t,a,(a.subtreeFlags&8772)!==0):ms(t,a),ds=d,Bt=f}break;case 30:break;default:ms(t,a)}}function pv(t){var i=t.alternate;i!==null&&(t.alternate=null,pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,wn=!1;function fs(t,i,a){for(a=a.child;a!==null;)gv(t,i,a),a=a.sibling}function gv(t,i,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(nn,a)}catch{}switch(a.tag){case 26:Bt||Fi(a,i),fs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Fi(a,i);var l=Et,d=wn;tr(a.type)&&(Et=a.stateNode,wn=!1),fs(t,i,a),Ll(a.stateNode),Et=l,wn=d;break;case 5:Bt||Fi(a,i);case 6:if(l=Et,d=wn,Et=null,fs(t,i,a),Et=l,wn=d,Et!==null)if(wn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(f){ut(a,i,f)}else try{Et.removeChild(a.stateNode)}catch(f){ut(a,i,f)}break;case 18:Et!==null&&(wn?(t=Et,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ho(t)):l_(Et,a.stateNode));break;case 4:l=Et,d=wn,Et=a.stateNode.containerInfo,wn=!0,fs(t,i,a),Et=l,wn=d;break;case 0:case 11:case 14:case 15:Ks(2,a,i),Bt||Ks(4,a,i),fs(t,i,a);break;case 1:Bt||(Fi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uv(a,i,l)),fs(t,i,a);break;case 21:fs(t,i,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,fs(t,i,a),Bt=l;break;default:fs(t,i,a)}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(a){ut(i,i.return,a)}}}function vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(a){ut(i,i.return,a)}}function lw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fv),i;default:throw Error(r(435,t.tag))}}function Oc(t,i){var a=lw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=yw.bind(null,t,l);l.then(d,d)}})}function An(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(tr(b.type)){Et=b.stateNode,wn=!1;break e}break;case 5:Et=b.stateNode,wn=!1;break e;case 3:case 4:Et=b.stateNode.containerInfo,wn=!0;break e}b=b.return}if(Et===null)throw Error(r(160));gv(f,_,d),Et=null,wn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_v(i,t),i=i.sibling}var yi=null;function _v(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),Rn(t),l&4&&(Ks(3,t,t.return),Cl(3,t),Ks(5,t,t.return));break;case 1:An(i,t),Rn(t),l&512&&(Bt||a===null||Fi(a,a.return)),l&64&&ds&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=yi;if(An(i,t),Rn(t),l&512&&(Bt||a===null||Fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Di]||f[Vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),ln(f,l,a),f[Vt]=t,jt(f),l=f;break e;case"link":var _=__("link","href",d).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=d.createElement(l),ln(f,l,a),d.head.appendChild(f);break;case"meta":if(_=__("meta","content",d).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=d.createElement(l),ln(f,l,a),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[Vt]=t,jt(f),l=f}t.stateNode=l}else E_(d,t.type,t.stateNode);else t.stateNode=v_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?E_(d,t.type,t.stateNode):v_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rf(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(i,t),Rn(t),l&512&&(Bt||a===null||Fi(a,a.return)),a!==null&&l&4&&Rf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(i,t),Rn(t),l&512&&(Bt||a===null||Fi(a,a.return)),t.flags&32){d=t.stateNode;try{bn(d,"")}catch(ve){ut(t,t.return,ve)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Rf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(If=!0);break;case 6:if(An(i,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){ut(t,t.return,ve)}}break;case 3:if(Kc=null,d=yi,yi=$c(i.containerInfo),An(i,t),yi=d,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(ve){ut(t,t.return,ve)}If&&(If=!1,Ev(t));break;case 4:l=yi,yi=$c(t.stateNode.containerInfo),An(i,t),Rn(t),yi=l;break;case 12:An(i,t),Rn(t);break;case 31:An(i,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 13:An(i,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=tt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ds,te=Bt;if(ds=F||d,Bt=te||O,An(i,t),Bt=te,ds=F,Rn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||ds||Bt||oa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var se=O.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ve){ut(O,O.return,ve)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(ve){ut(O,O.return,ve)}}}else if(i.tag===18){if(a===null){O=i;try{var X=O.stateNode;d?u_(X,!0):u_(O.stateNode,!1)}catch(ve){ut(O,O.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oc(t,a))));break;case 19:An(i,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 30:break;case 21:break;default:An(i,t),Rn(t)}}function Rn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(hv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=Cf(t);xc(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(bn(_,""),a.flags&=-33);var b=Cf(t);xc(t,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Cf(t);Nf(t,F,O);break;default:throw Error(r(161))}}catch(te){ut(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ms(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(t,i.alternate,i),i=i.sibling}function oa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ks(4,i,i.return),oa(i);break;case 1:Fi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&uv(i,i.return,a),oa(i);break;case 27:Ll(i.stateNode);case 26:case 5:Fi(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}t=t.sibling}}function ps(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:ps(d,f,a),Cl(4,f);break;case 1:if(ps(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){ut(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Wg(O[d],b)}catch(F){ut(l,l.return,F)}}a&&_&64&&lv(f),Nl(f,f.return);break;case 27:dv(f);case 26:case 5:ps(d,f,a),a&&l===null&&_&4&&cv(f),Nl(f,f.return);break;case 12:ps(d,f,a);break;case 31:ps(d,f,a),a&&_&4&&yv(d,f);break;case 13:ps(d,f,a),a&&_&4&&vv(d,f);break;case 22:f.memoizedState===null&&ps(d,f,a),Nl(f,f.return);break;case 30:break;default:ps(d,f,a)}i=i.sibling}}function Df(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function vi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(t,i,a,l),i=i.sibling}function Tv(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:vi(t,i,a,l),d&2048&&Cl(9,i);break;case 1:vi(t,i,a,l);break;case 3:vi(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(d&2048){vi(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ut(i,i.return,O)}}else vi(t,i,a,l);break;case 31:vi(t,i,a,l);break;case 13:vi(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?vi(t,i,a,l):Il(t,i):f._visibility&2?vi(t,i,a,l):(f._visibility|=2,eo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Df(_,i);break;case 24:vi(t,i,a,l),d&2048&&xf(i.alternate,i);break;default:vi(t,i,a,l)}}function eo(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,b=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:eo(f,_,b,O,d),Cl(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?eo(f,_,b,O,d):Il(f,_):(te._visibility|=2,eo(f,_,b,O,d)),d&&F&2048&&Df(_.alternate,_);break;case 24:eo(f,_,b,O,d),d&&F&2048&&xf(_.alternate,_);break;default:eo(f,_,b,O,d)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Il(a,l),d&2048&&Df(l.alternate,l);break;case 24:Il(a,l),d&2048&&xf(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Dl=8192;function to(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Sv(t,i,a),t=t.sibling}function Sv(t,i,a){switch(t.tag){case 26:to(t,i,a),t.flags&Dl&&t.memoizedState!==null&&Kw(a,yi,t.memoizedState,t.memoizedProps);break;case 5:to(t,i,a);break;case 3:case 4:var l=yi;yi=$c(t.stateNode.containerInfo),to(t,i,a),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,to(t,i,a),Dl=l):to(t,i,a));break;default:to(t,i,a)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Zt=l,Av(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):xl(t);break;default:xl(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Zt=l,Av(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ks(8,i,i.return),Mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function Av(t,i){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Ks(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Zt=l;else e:for(a=t;Zt!==null;){l=Zt;var d=l.sibling,f=l.return;if(pv(l),l===a){Zt=null;break e}if(d!==null){d.return=f,Zt=d;break e}Zt=f}}}var uw={getCacheForType:function(t){var i=an(Pt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return an(Pt).controller.signal}},cw=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,ze=null,qe=0,lt=0,Pn=null,Qs=!1,no=!1,Of=!1,gs=0,At=0,Xs=0,la=0,Mf=0,Un=0,io=0,Ol=null,Cn=null,kf=!1,kc=0,Rv=0,Vc=1/0,jc=null,Ws=null,$t=0,Js=null,so=null,ys=0,Vf=0,jf=null,Cv=null,Ml=0,Lf=null;function zn(){return(it&2)!==0&&qe!==0?qe&-qe:W.T!==null?Hf():Lu()}function Nv(){if(Un===0)if((qe&536870912)===0||Qe){var t=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),Un=t}else Un=536870912;return t=jn.current,t!==null&&(t.flags|=32),Un}function Nn(t,i,a){(t===mt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Zs(t,qe,Un,!1)),jr(t,a),((it&2)===0||t!==mt)&&(t===mt&&((it&2)===0&&(la|=a),At===4&&Zs(t,qe,Un,!1)),Gi(t))}function Iv(t,i,a){if((it&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||li(t,i),d=l?fw(t,i):Uf(t,i,!0),f=l;do{if(d===0){no&&!l&&Zs(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!hw(a)){d=Uf(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;d=Ol;var O=b.current.memoizedState.isDehydrated;if(O&&(ro(b,_).flags|=256),_=Uf(b,_,!1),_!==2){if(Of&&!O){b.errorRecoveryDisabledLanes|=f,la|=f,d=4;break e}f=Cn,Cn=d,f!==null&&(Cn===null?Cn=f:Cn.push.apply(Cn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){ro(t,0),Zs(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Zs(l,i,Un,!Qs);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=kc+300-tt(),10<d)){if(Zs(l,i,Un,!Qs),Ci(l,0,!0)!==0)break e;ys=i,l.timeoutHandle=a_(Dv.bind(null,l,a,Cn,jc,kf,i,Un,la,io,Qs,f,"Throttled",-0,0),d);break e}Dv(l,a,Cn,jc,kf,i,Un,la,io,Qs,f,null,-0,0)}}break}while(!0);Gi(t)}function Dv(t,i,a,l,d,f,_,b,O,F,te,se,Y,X){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},Sv(i,f,se);var ve=(f&62914560)===f?kc-tt():(f&4194048)===f?Rv-tt():0;if(ve=Qw(se,ve),ve!==null){ys=f,t.cancelPendingCommit=ve(Pv.bind(null,t,i,f,a,l,d,_,b,O,te,se,null,Y,X)),Zs(t,f,_,!F);return}}Pv(t,i,f,a,l,d,_,b,O)}function hw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!kn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zs(t,i,a,l){i&=~Mf,i&=~la,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-Ct(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Lr(t,a,i)}function Lc(){return(it&6)===0?(kl(0),!1):!0}function Pf(){if(ze!==null){if(lt===0)var t=ze.return;else t=ze,as=Zr=null,Zd(t),Qa=null,gl=0,t=ze;for(;t!==null;)ov(t.alternate,t),t=t.return;ze=null}}function ro(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ys=0,Pf(),mt=t,ze=a=ss(t.current,null),qe=i,lt=0,Pn=null,Qs=!1,no=li(t,i),Of=!1,io=Un=Mf=la=Xs=At=0,Cn=Ol=null,kf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-Ct(l),f=1<<d;i|=t[d],l&=~f}return gs=i,sc(),a}function xv(t,i){Ve=null,W.H=wl,i===Ka||i===dc?(i=Yg(),lt=3):i===Bd?(i=Yg(),lt=4):lt=i===gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,ze===null&&(At=1,Rc(t,Xn(i,t.current)))}function Ov(){var t=jn.current;return t===null?!0:(qe&4194048)===qe?ei===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ei:!1}function Mv(){var t=W.H;return W.H=wl,t===null?wl:t}function kv(){var t=W.A;return W.A=uw,t}function Pc(){At=4,Qs||(qe&4194048)!==qe&&jn.current!==null||(no=!0),(Xs&134217727)===0&&(la&134217727)===0||mt===null||Zs(mt,qe,Un,!1)}function Uf(t,i,a){var l=it;it|=2;var d=Mv(),f=kv();(mt!==t||qe!==i)&&(jc=null,ro(t,i)),i=!1;var _=At;e:do try{if(lt!==0&&ze!==null){var b=ze,O=Pn;switch(lt){case 8:Pf(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var F=lt;if(lt=0,Pn=null,ao(t,b,O,F),a&&no){_=0;break e}break;default:F=lt,lt=0,Pn=null,ao(t,b,O,F)}}dw(),_=At;break}catch(te){xv(t,te)}while(!0);return i&&t.shellSuspendCounter++,as=Zr=null,it=l,W.H=d,W.A=f,ze===null&&(mt=null,qe=0,sc()),_}function dw(){for(;ze!==null;)Vv(ze)}function fw(t,i){var a=it;it|=2;var l=Mv(),d=kv();mt!==t||qe!==i?(jc=null,Vc=tt()+500,ro(t,i)):no=li(t,i);e:do try{if(lt!==0&&ze!==null){i=ze;var f=Pn;t:switch(lt){case 1:lt=0,Pn=null,ao(t,i,f,1);break;case 2:case 9:if(Gg(f)){lt=0,Pn=null,jv(i);break}i=function(){lt!==2&&lt!==9||mt!==t||(lt=7),Gi(t)},f.then(i,i);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Gg(f)?(lt=0,Pn=null,jv(i)):(lt=0,Pn=null,ao(t,i,f,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var b=ze;if(_?T_(_):b.stateNode.complete){lt=0,Pn=null;var O=b.sibling;if(O!==null)ze=O;else{var F=b.return;F!==null?(ze=F,Uc(F)):ze=null}break t}}lt=0,Pn=null,ao(t,i,f,5);break;case 6:lt=0,Pn=null,ao(t,i,f,6);break;case 8:Pf(),At=6;break e;default:throw Error(r(462))}}mw();break}catch(te){xv(t,te)}while(!0);return as=Zr=null,W.H=l,W.A=d,it=a,ze!==null?0:(mt=null,qe=0,sc(),At)}function mw(){for(;ze!==null&&!le();)Vv(ze)}function Vv(t){var i=rv(t.alternate,t,gs);t.memoizedProps=t.pendingProps,i===null?Uc(t):ze=i}function jv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Zd(i);default:ov(a,i),i=ze=kg(i,gs),i=rv(a,i,gs)}t.memoizedProps=t.pendingProps,i===null?Uc(t):ze=i}function ao(t,i,a,l){as=Zr=null,Zd(i),Qa=null,gl=0;var d=i.return;try{if(nw(t,d,i,a,qe)){At=1,Rc(t,Xn(a,t.current)),ze=null;return}}catch(f){if(d!==null)throw ze=d,f;At=1,Rc(t,Xn(a,t.current)),ze=null;return}i.flags&32768?(Qe||l===1?t=!0:no||(qe&536870912)!==0?t=!1:(Qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){Lv(i,Qs);return}t=i.return;var a=rw(i.alternate,i,gs);if(a!==null){ze=a;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=t}while(i!==null);At===0&&(At=5)}function Lv(t,i){do{var a=aw(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);At=6,ze=null}function Pv(t,i,a,l,d,f,_,b,O){t.cancelPendingCommit=null;do zc();while($t!==0);if((it&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Rd,yd(t,a,f,_,b,O),t===mt&&(ze=mt=null,qe=0),so=i,Js=t,ys=a,Vf=f,jf=d,Cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vw(Tn,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,d=ue.p,ue.p=2,_=it,it|=4;try{ow(t,i,a)}finally{it=_,ue.p=d,W.T=l}}$t=1,Uv(),zv(),Bv()}}function Uv(){if($t===1){$t=0;var t=Js,i=so,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var d=it;it|=4;try{_v(i,t);var f=Wf,_=Ag(t.containerInfo),b=f.focusedElem,O=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&wg(b.ownerDocument.documentElement,b)){if(O!==null&&Td(b)){var F=O.start,te=O.end;if(te===void 0&&(te=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(te,b.value.length);else{var se=b.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),ve=b.textContent.length,we=Math.min(O.start,ve),ft=O.end===void 0?we:Math.min(O.end,ve);!X.extend&&we>ft&&(_=ft,ft=we,we=_);var B=bg(b,we),U=bg(b,ft);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var H=se.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),we>ft?(X.addRange(H),X.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),X.addRange(H))}}}}for(se=[],X=b;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ie=se[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Jc=!!Xf,Wf=Xf=null}finally{it=d,ue.p=l,W.T=a}}t.current=i,$t=2}}function zv(){if($t===2){$t=0;var t=Js,i=so,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var d=it;it|=4;try{mv(t,i.alternate,i)}finally{it=d,ue.p=l,W.T=a}}$t=3}}function Bv(){if($t===4||$t===3){$t=0,Ke();var t=Js,i=so,a=ys,l=Cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,so=Js=null,qv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ws=null),es(a),i=i.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(nn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,d=ue.p,ue.p=2,W.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{W.T=i,ue.p=d}}(ys&3)!==0&&zc(),Gi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Lf?Ml++:(Ml=0,Lf=t):Ml=0,kl(0)}}function qv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function zc(){return Uv(),zv(),Bv(),Hv()}function Hv(){if($t!==5)return!1;var t=Js,i=Vf;Vf=0;var a=es(ys),l=W.T,d=ue.p;try{ue.p=32>a?32:a,W.T=null,a=jf,jf=null;var f=Js,_=ys;if($t=0,so=Js=null,ys=0,(it&6)!==0)throw Error(r(331));var b=it;if(it|=4,wv(f.current),Tv(f,f.current,_,a),it=b,kl(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(nn,f)}catch{}return!0}finally{ue.p=d,W.T=l,qv(t,i)}}function Fv(t,i,a){i=Xn(a,i),i=pf(t.stateNode,i,2),t=Gs(t,i,2),t!==null&&(jr(t,2),Gi(t))}function ut(t,i,a){if(t.tag===3)Fv(t,t,a);else for(;i!==null;){if(i.tag===3){Fv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ws===null||!Ws.has(l))){t=Xn(a,t),a=Gy(2),l=Gs(i,a,2),l!==null&&($y(a,l,i,t),jr(l,2),Gi(l));break}}i=i.return}}function zf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Of=!0,d.add(a),t=pw.bind(null,t,i,a),i.then(t,t))}function pw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(qe&a)===a&&(At===4||At===3&&(qe&62914560)===qe&&300>tt()-kc?(it&2)===0&&ro(t,0):Mf|=a,io===qe&&(io=0)),Gi(t)}function Gv(t,i){i===0&&(i=ju()),t=Xr(t,i),t!==null&&(jr(t,i),Gi(t))}function gw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gv(t,a)}function yw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Gv(t,a)}function vw(t,i){return Ye(t,i)}var Bc=null,oo=null,Bf=!1,qc=!1,qf=!1,er=0;function Gi(t){t!==oo&&t.next===null&&(oo===null?Bc=oo=t:oo=oo.next=t),qc=!0,Bf||(Bf=!0,Ew())}function kl(t,i){if(!qf&&qc){qf=!0;do for(var a=!1,l=Bc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Ct(42|t)+1)-1,f&=d&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qv(l,f))}else f=qe,f=Ci(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||li(l,f)||(a=!0,Qv(l,f));l=l.next}while(a);qf=!1}}function _w(){$v()}function $v(){qc=Bf=!1;var t=0;er!==0&&Dw()&&(t=er);for(var i=tt(),a=null,l=Bc;l!==null;){var d=l.next,f=Yv(l,i);f===0?(l.next=null,a===null?Bc=d:a.next=d,d===null&&(oo=a)):(a=l,(t!==0||(f&3)!==0)&&(qc=!0)),l=d}$t!==0&&$t!==5||kl(t),er!==0&&(er=0)}function Yv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ct(f),b=1<<_,O=d[_];O===-1?((b&a)===0||(b&l)!==0)&&(d[_]=gd(b,i)):O<=i&&(t.expiredLanes|=b),f&=~b}if(i=mt,a=qe,a=Ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||li(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ai(l),es(a)){case 2:case 8:a=oi;break;case 32:a=Tn;break;case 268435456:a=kr;break;default:a=Tn}return l=Kv.bind(null,t),a=Ye(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=qe;return l=Ci(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iv(t,l,i),Yv(t,tt()),t.callbackNode!=null&&t.callbackNode===a?Kv.bind(null,t):null)}function Qv(t,i){if(zc())return null;Iv(t,i,!0)}function Ew(){Ow(function(){(it&6)!==0?Ye(fn,_w):$v()})}function Hf(){if(er===0){var t=$a;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),er=t}return er}function Xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function Wv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Tw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Xv((d[Wt]||null).action),_=l.submitter;_&&(i=(i=_[Wt]||null)?Xv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var b=new Pi("action","action",null,l,d);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var O=_?Wv(d,_):new FormData(d);uf(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=_?Wv(d,_):new FormData(d),uf(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var Ff=0;Ff<Ad.length;Ff++){var Gf=Ad[Ff],Sw=Gf.toLowerCase(),bw=Gf[0].toUpperCase()+Gf.slice(1);gi(Sw,"on"+bw)}gi(Ng,"onAnimationEnd"),gi(Ig,"onAnimationIteration"),gi(Dg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Ub,"onTransitionRun"),gi(zb,"onTransitionStart"),gi(Bb,"onTransitionCancel"),gi(xg,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Jv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,F=b.currentTarget;if(b=b.listener,O!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=F;try{f(d)}catch(te){ic(te)}d.currentTarget=null,f=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,F=b.currentTarget,b=b.listener,O!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=F;try{f(d)}catch(te){ic(te)}d.currentTarget=null,f=O}}}}function Be(t,i){var a=i[Ra];a===void 0&&(a=i[Ra]=new Set);var l=t+"__bubble";a.has(l)||(Zv(i,t,2,!1),a.add(l))}function $f(t,i,a){var l=0;i&&(l|=4),Zv(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[Hc]){t[Hc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(ww.has(a)||$f(a,!1,t),$f(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,$f("selectionchange",!1,i))}}function Zv(t,i,a,l){switch(N_(i)){case 2:var d=Jw;break;case 8:d=Zw;break;default:d=lm}a=d.bind(null,i,a,t),d=void 0,!qr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Kf(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===d)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;b!==null;){if(_=xi(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=f=_;continue e}b=b.parentNode}}l=l.return}Vs(function(){var F=f,te=$n(a),se=[];e:{var Y=Og.get(t);if(Y!==void 0){var X=Pi,ve=t;switch(t){case"keypress":if(Fr(a)===0)break e;case"keydown":case"keyup":X=ec;break;case"focusin":ve="focus",X=$r;break;case"focusout":ve="blur",X=$r;break;case"beforeblur":case"afterblur":X=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Ng:case Ig:case Dg:X=Yu;break;case xg:X=A;break;case"scroll":case"scrollend":X=rl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=is;break;case"toggle":case"beforetoggle":X=ke}var we=(i&4)!==0,ft=!we&&(t==="scroll"||t==="scrollend"),B=we?Y!==null?Y+"Capture":null:Y;we=[];for(var U=F,H;U!==null;){var ie=U;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||B===null||(ie=di(U,B),ie!=null&&we.push(jl(U,ie,H))),ft)break;U=U.return}0<we.length&&(Y=new X(Y,ve,null,a,te),se.push({event:Y,listeners:we}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==nl&&(ve=a.relatedTarget||a.fromElement)&&(xi(ve)||ve[Ii]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(ve=a.relatedTarget||a.toElement,X=F,ve=ve?xi(ve):null,ve!==null&&(ft=u(ve),we=ve.tag,ve!==ft||we!==5&&we!==27&&we!==6)&&(ve=null)):(X=null,ve=F),X!==ve)){if(we=al,ie="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(we=is,ie="onPointerLeave",B="onPointerEnter",U="pointer"),ft=X==null?Y:On(X),H=ve==null?Y:On(ve),Y=new we(ie,U+"leave",X,a,te),Y.target=ft,Y.relatedTarget=H,ie=null,xi(te)===F&&(we=new we(B,U+"enter",ve,a,te),we.target=H,we.relatedTarget=ft,ie=we),ft=ie,X&&ve)t:{for(we=Aw,B=X,U=ve,H=0,ie=B;ie;ie=we(ie))H++;ie=0;for(var Te=U;Te;Te=we(Te))ie++;for(;0<H-ie;)B=we(B),H--;for(;0<ie-H;)U=we(U),ie--;for(;H--;){if(B===U||U!==null&&B===U.alternate){we=B;break t}B=we(B),U=we(U)}we=null}else we=null;X!==null&&e_(se,Y,X,we,!1),ve!==null&&ft!==null&&e_(se,ft,ve,we,!0)}}e:{if(Y=F?On(F):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Je=yg;else if(pg(Y))if(vg)Je=jb;else{Je=kb;var Ee=Mb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&Da(F.elementType)&&(Je=yg):Je=Vb;if(Je&&(Je=Je(t,F))){gg(se,Je,a,te);break e}Ee&&Ee(t,Y,F),t==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Zo(Y,"number",Y.value)}switch(Ee=F?On(F):window,t){case"focusin":(pg(Ee)||Ee.contentEditable==="true")&&(Pa=Ee,Sd=F,hl=null);break;case"focusout":hl=Sd=Pa=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Rg(se,a,te);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":Rg(se,a,te)}var je;if(nt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else La?Yr(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Bi&&a.locale!=="ko"&&(La||He!=="onCompositionStart"?He==="onCompositionEnd"&&La&&(je=sl()):(Li=te,il="value"in Li?Li.value:Li.textContent,La=!0)),Ee=Fc(F,He),0<Ee.length&&(He=new zi(He,t,null,a,te),se.push({event:He,listeners:Ee}),je?He.data=je:(je=ja(a),je!==null&&(He.data=je)))),(je=Kn?Ib(t,a):Db(t,a))&&(He=Fc(F,"onBeforeInput"),0<He.length&&(Ee=new zi("onBeforeInput","beforeinput",null,a,te),se.push({event:Ee,listeners:He}),Ee.data=je)),Tw(se,t,F,a,te)}Jv(se,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Fc(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=di(t,a),d!=null&&l.unshift(jl(t,d,f)),d=di(t,i),d!=null&&l.push(jl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Aw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,i,a,l,d){for(var f=i._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,F=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||F===null||(O=F,d?(F=di(a,f),F!=null&&_.unshift(jl(a,F,O))):d||(F=di(a,f),F!=null&&_.push(jl(a,F,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Rw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(Rw,`
`).replace(Cw,"")}function n_(t,i){return i=t_(i),t_(t)===i}function dt(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,l);break;case"style":tl(t,l,f);break;case"data":if(i!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&dt(t,i,"name",d.name,d,null),dt(t,i,"formEncType",d.formEncType,d,null),dt(t,i,"formMethod",d.formMethod,d,null),dt(t,i,"formTarget",d.formTarget,d,null)):(dt(t,i,"encType",d.encType,d,null),dt(t,i,"method",d.method,d,null),dt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,Na(t,a,l))}}function Qf(t,i,a,l,d,f){switch(a){case"style":tl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Wt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Na(t,a,l)}}}function ln(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(t,i,f,_,a,null)}}d&&dt(t,i,"srcSet",a.srcSet,a,null),l&&dt(t,i,"src",a.src,a,null);return;case"input":Be("invalid",t);var b=f=_=d=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":d=te;break;case"type":_=te;break;case"checked":O=te;break;case"defaultChecked":F=te;break;case"value":f=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:dt(t,i,l,te,a,null)}}Bu(t,f,b,O,F,_,d,!1);return;case"select":Be("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:dt(t,i,d,b,a,null)}i=f,a=_,t.multiple=!!l,i!=null?xs(t,!!l,i,!1):a!=null&&xs(t,!!l,a,!0);return;case"textarea":Be("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:dt(t,i,_,b,a,null)}Os(t,l,d,f);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":dt(t,i,O,l,a,null));return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Be(Vl[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(t,i,F,l,a,null)}return;default:if(Da(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Qf(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&dt(t,i,b,l,a,null))}function Nw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,b=null,O=null,F=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=se;default:l.hasOwnProperty(X)||dt(t,i,X,null,l,se)}}for(var Y in l){var X=l[Y];if(se=a[Y],l.hasOwnProperty(Y)&&(X!=null||se!=null))switch(Y){case"type":f=X;break;case"name":d=X;break;case"checked":F=X;break;case"defaultChecked":te=X;break;case"value":_=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:X!==se&&dt(t,i,Y,X,l,se)}}Ia(t,_,b,O,F,te,f,d);return;case"select":X=_=b=Y=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(f)||dt(t,i,f,null,l,O)}for(d in l)if(f=l[d],O=a[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":Y=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==O&&dt(t,i,d,f,l,O)}i=b,a=_,l=X,Y!=null?xs(t,!!a,Y,!1):!!l!=!!a&&(i!=null?xs(t,!!a,i,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:dt(t,i,b,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&dt(t,i,_,d,l,f)}qu(t,Y,X);return;case"option":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!l.hasOwnProperty(ve)&&(ve==="selected"?t.selected=!1:dt(t,i,ve,null,l,Y));for(O in l)Y=l[O],X=a[O],l.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null)&&(O==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":dt(t,i,O,Y,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)Y=a[we],a.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we)&&dt(t,i,we,null,l,Y);for(F in l)if(Y=l[F],X=a[F],l.hasOwnProperty(F)&&Y!==X&&(Y!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:dt(t,i,F,Y,l,X)}return;default:if(Da(i)){for(var ft in a)Y=a[ft],a.hasOwnProperty(ft)&&Y!==void 0&&!l.hasOwnProperty(ft)&&Qf(t,i,ft,void 0,l,Y);for(te in l)Y=l[te],X=a[te],!l.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||Qf(t,i,te,Y,l,X);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&dt(t,i,B,null,l,Y);for(se in l)Y=l[se],X=a[se],!l.hasOwnProperty(se)||Y===X||Y==null&&X==null||dt(t,i,se,Y,l,X)}function i_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,b=d.duration;if(f&&b&&i_(_)){for(_=0,b=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>b)break;var te=O.transferSize,se=O.initiatorType;te&&i_(se)&&(O=O.responseEnd,_+=te*(O<b?1:(b-F)/(O-F)))}if(--l,i+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xf=null,Wf=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zf=null;function Dw(){var t=window.event;return t&&t.type==="popstate"?t===Zf?!1:(Zf=t,!0):(Zf=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(Mw)}:a_;function Mw(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function l_(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),ho(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[Di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Ll(t.ownerDocument.body);a=d}while(a);ho(i)}function u_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function Vw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ti(t.nextSibling),t===null))return null;return t}function c_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ti(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var im=null;function h_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ti(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function f_(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ca(t)}var ni=new Map,m_=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=ue.d;ue.d={f:Lw,r:Pw,D:Uw,C:zw,L:Bw,m:qw,X:Fw,S:Hw,M:Gw};function Lw(){var t=vs.f(),i=Lc();return t||i}function Pw(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):vs.r(t)}var lo=typeof document>"u"?null:document;function p_(t,i,a){var l=lo;if(l&&typeof i=="string"&&i){var d=Sn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),m_.has(d)||(m_.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),ln(i,"link",t),jt(i),l.head.appendChild(i)))}}function Uw(t){vs.D(t),p_("dns-prefetch",t,null)}function zw(t,i){vs.C(t,i),p_("preconnect",t,i)}function Bw(t,i,a){vs.L(t,i,a);var l=lo;if(l&&t&&i){var d='link[rel="preload"][as="'+Sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Sn(a.imageSizes)+'"]')):d+='[href="'+Sn(t)+'"]';var f=d;switch(i){case"style":f=uo(t);break;case"script":f=co(t)}ni.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ni.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Pl(f))||i==="script"&&l.querySelector(Ul(f))||(i=l.createElement("link"),ln(i,"link",t),jt(i),l.head.appendChild(i)))}}function qw(t,i){vs.m(t,i);var a=lo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=co(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},i),ni.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(f)))return}l=a.createElement("link"),ln(l,"link",t),jt(l),a.head.appendChild(l)}}}function Hw(t,i,a){vs.S(t,i,a);var l=lo;if(l&&t){var d=Oi(l).hoistableStyles,f=uo(t);i=i||"default";var _=d.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Pl(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ni.get(f))&&sm(t,a);var O=_=l.createElement("link");jt(O),ln(O,"link",t),O._p=new Promise(function(F,te){O.onload=F,O.onerror=te}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},d.set(f,_)}}}function Fw(t,i){vs.X(t,i);var a=lo;if(a&&t){var l=Oi(a).hoistableScripts,d=co(t),f=l.get(d);f||(f=a.querySelector(Ul(d)),f||(t=S({src:t,async:!0},i),(i=ni.get(d))&&rm(t,i),f=a.createElement("script"),jt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Gw(t,i){vs.M(t,i);var a=lo;if(a&&t){var l=Oi(a).hoistableScripts,d=co(t),f=l.get(d);f||(f=a.querySelector(Ul(d)),f||(t=S({src:t,async:!0,type:"module"},i),(i=ni.get(d))&&rm(t,i),f=a.createElement("script"),jt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function g_(t,i,a,l){var d=(d=fe.current)?$c(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=Oi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var f=Oi(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Pl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),ni.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ni.set(t,a),f||$w(d,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=Oi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function uo(t){return'href="'+Sn(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function $w(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),jt(i),t.head.appendChild(i))}function co(t){return'[src="'+Sn(t)+'"]'}function Ul(t){return"script[async]"+t}function v_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(l)return i.instance=l,jt(l),l;var d=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),ln(l,"style",d),Yc(l,a.precedence,t),i.instance=l;case"stylesheet":d=uo(a.href);var f=t.querySelector(Pl(d));if(f)return i.state.loading|=4,i.instance=f,jt(f),f;l=y_(a),(d=ni.get(d))&&sm(l,d),f=(t.ownerDocument||t).createElement("link"),jt(f);var _=f;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),ln(f,"link",l),i.state.loading|=4,Yc(f,a.precedence,t),i.instance=f;case"script":return f=co(a.src),(d=t.querySelector(Ul(f)))?(i.instance=d,jt(d),d):(l=a,(d=ni.get(f))&&(l=S({},a),rm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),jt(d),ln(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Yc(l,a.precedence,t));return i.instance}function Yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function __(t,i,a){if(Kc===null){var l=new Map,d=Kc=new Map;d.set(a,l)}else d=Kc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Di]||f[Vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function E_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Yw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Kw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=uo(l.href),f=i.querySelector(Pl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,jt(f);return}f=i.ownerDocument||i,l=y_(l),(d=ni.get(d))&&sm(l,d),f=f.createElement("link"),jt(f);var _=f;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),ln(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function Qw(t,i){return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&am===0&&(am=62500*Iw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Wc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(Xw,t),Xc=null,Qc.call(t))}function Xw(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=Qc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Ww(t,i,a,l,d,f,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function S_(t,i,a,l,d,f,_,b,O,F,te,se){return t=new Ww(t,i,a,_,O,F,te,se,b),i=1,f===!0&&(i|=24),f=Vn(3,null,null,i),t.current=f,f.stateNode=t,i=Pd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},qd(f),t}function b_(t){return t?(t=Ba,t):Ba}function w_(t,i,a,l,d,f){d=b_(d),l.context===null?l.context=d:l.pendingContext=d,l=Fs(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gs(t,l,i),a!==null&&(Nn(a,t,i),vl(a,t,i))}function A_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function om(t,i){A_(t,i),(t=t.alternate)&&A_(t,i)}function R_(t){if(t.tag===13||t.tag===31){var i=Xr(t,67108864);i!==null&&Nn(i,t,67108864),om(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var i=zn();i=Pr(i);var a=Xr(t,i);a!==null&&Nn(a,t,i),om(t,i)}}var Jc=!0;function Jw(t,i,a,l){var d=W.T;W.T=null;var f=ue.p;try{ue.p=2,lm(t,i,a,l)}finally{ue.p=f,W.T=d}}function Zw(t,i,a,l){var d=W.T;W.T=null;var f=ue.p;try{ue.p=8,lm(t,i,a,l)}finally{ue.p=f,W.T=d}}function lm(t,i,a,l){if(Jc){var d=um(l);if(d===null)Kf(t,i,l,Zc,a),I_(t,l);else if(tA(d,t,i,a,l))l.stopPropagation();else if(I_(t,l),i&4&&-1<eA.indexOf(t)){for(;d!==null;){var f=Gn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ri(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-Ct(_);b.entanglements[1]|=O,_&=~O}Gi(f),(it&6)===0&&(Vc=tt()+500,kl(0))}}break;case 31:case 13:b=Xr(f,2),b!==null&&Nn(b,f,2),Lc(),om(f,2)}if(f=um(l),f===null&&Kf(t,i,l,Zc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Kf(t,i,l,null,a)}}function um(t){return t=$n(t),cm(t)}var Zc=null;function cm(t){if(Zc=null,t=xi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case fn:return 2;case oi:return 8;case Tn:case ba:return 32;case kr:return 268435456;default:return 32}default:return 32}}var hm=!1,nr=null,ir=null,sr=null,Bl=new Map,ql=new Map,rr=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,i){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Gn(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function tA(t,i,a,l,d){switch(i){case"focusin":return nr=Hl(nr,t,i,a,l,d),!0;case"dragenter":return ir=Hl(ir,t,i,a,l,d),!0;case"mouseover":return sr=Hl(sr,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Bl.set(f,Hl(Bl.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,ql.set(f,Hl(ql.get(f)||null,t,i,a,l,d)),!0}return!1}function D_(t){var i=xi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,ui(t.priority,function(){C_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,ui(t.priority,function(){C_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);nl=l,a.target.dispatchEvent(l),nl=null}else return i=Gn(a),i!==null&&R_(i),t.blockedOn=a,!1;i.shift()}return!0}function x_(t,i,a){eh(t)&&a.delete(i)}function nA(){hm=!1,nr!==null&&eh(nr)&&(nr=null),ir!==null&&eh(ir)&&(ir=null),sr!==null&&eh(sr)&&(sr=null),Bl.forEach(x_),ql.forEach(x_)}function th(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nA)))}var nh=null;function O_(t){nh!==t&&(nh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var f=Gn(a);f!==null&&(t.splice(i,3),i-=3,uf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function ho(t){function i(O){return th(O,t)}nr!==null&&th(nr,t),ir!==null&&th(ir,t),sr!==null&&th(sr,t),Bl.forEach(i),ql.forEach(i);for(var a=0;a<rr.length;a++){var l=rr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Wt]||null;if(typeof f=="function")_||O_(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Wt]||null)b=_.formAction;else if(cm(d)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),O_(a)}}}function M_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function dm(t){this._internalRoot=t}ih.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=zn();w_(a,l,t,i,null,null)},ih.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;w_(t.current,2,null,t,null,null),Lc(),i[Ii]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=Lu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<rr.length&&i!==0&&i<rr[a].priority;a++);rr.splice(a,0,t),a===0&&D_(t)}};var k_=e.version;if(k_!=="19.2.4")throw Error(r(527,k_,"19.2.4"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var iA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{nn=sh.inject(iA),Rt=sh}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",d=By,f=qy,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=S_(t,1,!1,null,null,a,l,null,d,f,_,M_),t[Ii]=i.current,Yf(t),new dm(i)},Gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,d="",f=By,_=qy,b=Hy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=S_(t,1,!0,i,a??null,l,d,O,f,_,b,M_),i.context=b_(null),a=i.current,l=zn(),l=Pr(l),d=Fs(l),d.callback=null,Gs(a,d,l),a=l,i.current.lanes=a,jr(i,a),Gi(i),t[Ii]=i.current,Yf(t),new ih(i)},Gl.version="19.2.4",Gl}var F_;function fA(){if(F_)return pm.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pm.exports=dA(),pm.exports}var mA=fA();var G_="popstate";function pA(s={}){function e(r,o){let{pathname:u,search:h,hash:p}=r.location;return km("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:au(o)}return yA(e,n,null,s)}function St(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Si(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gA(){return Math.random().toString(36).substring(2,10)}function $_(s,e){return{usr:s.state,key:s.key,idx:e}}function km(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||r||gA()}}function au({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Mo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function yA(s,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,p="POP",g=null,v=T();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function T(){return(h.state||{idx:null}).idx}function S(){p="POP";let z=T(),Z=z==null?null:z-v;v=z,g&&g({action:p,location:k.location,delta:Z})}function w(z,Z){p="PUSH";let G=km(k.location,z,Z);v=T()+1;let oe=$_(G,v),pe=k.createHref(G);try{h.pushState(oe,"",pe)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(pe)}u&&g&&g({action:p,location:k.location,delta:1})}function P(z,Z){p="REPLACE";let G=km(k.location,z,Z);v=T();let oe=$_(G,v),pe=k.createHref(G);h.replaceState(oe,"",pe),u&&g&&g({action:p,location:k.location,delta:0})}function L(z){return vA(z)}let k={get action(){return p},get location(){return s(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,S),g=z,()=>{o.removeEventListener(G_,S),g=null}},createHref(z){return e(o,z)},createURL:L,encodeLocation(z){let Z=L(z);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:P,go(z){return h.go(z)}};return k}function vA(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:au(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OT(s,e,n="/"){return _A(s,e,n,!1)}function _A(s,e,n,r){let o=typeof e=="string"?Mo(e):e,u=bs(o.pathname||"/",n);if(u==null)return null;let h=MT(s);EA(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let v=xA(u);p=IA(h[g],v,r)}return p}function MT(s,e=[],n=[],r="",o=!1){let u=(h,p,g=o,v)=>{let T={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;St(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let S=Ts([r,T.relativePath]),w=n.concat(T);h.children&&h.children.length>0&&(St(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),MT(h.children,e,w,S,g)),!(h.path==null&&!h.index)&&e.push({path:S,score:CA(S,h.index),routesMeta:w})};return s.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of kT(h.path))u(h,p,!0,g)}),e}function kT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=kT(r.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function EA(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:NA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var TA=/^:[\w-]+$/,SA=3,bA=2,wA=1,AA=10,RA=-2,Y_=s=>s==="*";function CA(s,e){let n=s.split("/"),r=n.length;return n.some(Y_)&&(r+=RA),e&&(r+=bA),n.filter(o=>!Y_(o)).reduce((o,u)=>o+(TA.test(u)?SA:u===""?wA:AA),r)}function NA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function IA(s,e,n=!1){let{routesMeta:r}=s,o={},u="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],v=p===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},T),w=g.route;if(!S&&v&&n&&!r[r.length-1].route.index&&(S=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Ts([u,S.pathname]),pathnameBase:VA(Ts([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Ts([u,S.pathnameBase]))}return h}function Rh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=DA(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((v,{paramName:T,isOptional:S},w)=>{if(T==="*"){let L=p[w]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const P=p[w];return S&&!P?v[T]=void 0:v[T]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function DA(s,e=!1,n=!0){Si(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function xA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function bs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var OA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function MA(s,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof s=="string"?Mo(s):s,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=K_(n.substring(1),"/"):u=K_(n,e)):u=e,{pathname:u,search:jA(r),hash:LA(o)}}function K_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kA(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(s){let e=kA(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gp(s,e,n,r=!1){let o;typeof s=="string"?o=Mo(s):(o={...s},St(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let S=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?e[S]:"/"}let g=MA(o,p),v=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||T)&&(g.pathname+="/"),g}var Ts=s=>s.join("/").replace(/\/\/+/g,"/"),VA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,LA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,PA=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function UA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function zA(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jT(s,e){let n=s;if(typeof n!="string"||!OA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(VT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=bs(h.pathname,e);h.origin===u.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{Si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var BA=["GET",...LT];new Set(BA);var ko=V.createContext(null);ko.displayName="DataRouter";var Qh=V.createContext(null);Qh.displayName="DataRouterState";var qA=V.createContext(!1),PT=V.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var HA=V.createContext(new Map);HA.displayName="Fetchers";var FA=V.createContext(null);FA.displayName="Await";var Hn=V.createContext(null);Hn.displayName="Navigation";var _u=V.createContext(null);_u.displayName="Location";var Zi=V.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var yp=V.createContext(null);yp.displayName="RouteError";var UT="REACT_ROUTER_ERROR",GA="REDIRECT",$A="ROUTE_ERROR_RESPONSE";function YA(s){if(s.startsWith(`${UT}:${GA}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KA(s){if(s.startsWith(`${UT}:${$A}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new PA(e.status,e.statusText,e.data)}catch{}}function QA(s,{relative:e}={}){St(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Hn),{hash:o,pathname:u,search:h}=Eu(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ts([n,u])),r.createHref({pathname:p,search:h,hash:o})}function Vo(){return V.useContext(_u)!=null}function Ir(){return St(Vo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(_u).location}var zT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BT(s){V.useContext(Hn).static||V.useLayoutEffect(s)}function Ns(){let{isDataRoute:s}=V.useContext(Zi);return s?l1():XA()}function XA(){St(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let s=V.useContext(ko),{basename:e,navigator:n}=V.useContext(Hn),{matches:r}=V.useContext(Zi),{pathname:o}=Ir(),u=JSON.stringify(pp(r)),h=V.useRef(!1);return BT(()=>{h.current=!0}),V.useCallback((g,v={})=>{if(Si(h.current,zT),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=gp(g,JSON.parse(u),o,v.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ts([e,T.pathname])),(v.replace?n.replace:n.push)(T,v.state,v)},[e,n,u,o,s])}V.createContext(null);function Eu(s,{relative:e}={}){let{matches:n}=V.useContext(Zi),{pathname:r}=Ir(),o=JSON.stringify(pp(n));return V.useMemo(()=>gp(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function WA(s,e){return qT(s,e)}function qT(s,e,n,r,o){St(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(Hn),{matches:h}=V.useContext(Zi),p=h[h.length-1],g=p?p.params:{},v=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let G=S&&S.path||"";FT(v,!S||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=Ir(),P;if(e){let G=typeof e=="string"?Mo(e):e;St(T==="/"||G.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${G.pathname}" was given in the \`location\` prop.`),P=G}else P=w;let L=P.pathname||"/",k=L;if(T!=="/"){let G=T.replace(/^\//,"").split("/");k="/"+L.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=OT(s,{pathname:k});Si(S||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Si(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=n1(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:Ts([T,u.encodeLocation?u.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?T:Ts([T,u.encodeLocation?u.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),h,n,r,o);return e&&Z?V.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Z):Z}function JA(){let s=o1(),e=UA(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,h)}var ZA=V.createElement(JA,null),HT=class extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=KA(s.digest);n&&(s=n)}let e=s!==void 0?V.createElement(Zi.Provider,{value:this.props.routeContext},V.createElement(yp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?V.createElement(e1,{error:s},e):e}};HT.contextType=qA;var Em=new WeakMap;function e1({children:s,error:e}){let{basename:n}=V.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=YA(e.digest);if(r){let o=Em.get(e);if(o)throw o;let u=jT(r.location,n);if(VT&&!Em.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Em.set(e,h),h}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function t1({routeContext:s,match:e,children:n}){let r=V.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Zi.Provider,{value:s},n)}function n1(s,e=[],n=null,r=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,h=n?.errors;if(h!=null){let T=u.findIndex(S=>S.route.id&&h?.[S.route.id]!==void 0);St(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=T),S.route.id){let{loaderData:w,errors:P}=n,L=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||L){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let v=n&&r?(T,S)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zA(n.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,w)=>{let P,L=!1,k=null,z=null;n&&(P=h&&S.route.id?h[S.route.id]:void 0,k=S.route.errorElement||ZA,p&&(g<0&&w===0?(FT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,z=null):g===w&&(L=!0,z=S.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,w+1)),G=()=>{let oe;return P?oe=k:L?oe=z:S.route.Component?oe=V.createElement(S.route.Component,null):S.route.element?oe=S.route.element:oe=T,V.createElement(t1,{match:S,routeContext:{outlet:T,matches:Z,isDataRoute:n!=null},children:oe})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?V.createElement(HT,{location:n.location,revalidation:n.revalidation,component:k,error:P,children:G(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:v}):G()},null)}function vp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(s){let e=V.useContext(ko);return St(e,vp(s)),e}function s1(s){let e=V.useContext(Qh);return St(e,vp(s)),e}function r1(s){let e=V.useContext(Zi);return St(e,vp(s)),e}function _p(s){let e=r1(s),n=e.matches[e.matches.length-1];return St(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function a1(){return _p("useRouteId")}function o1(){let s=V.useContext(yp),e=s1("useRouteError"),n=_p("useRouteError");return s!==void 0?s:e.errors?.[n]}function l1(){let{router:s}=i1("useNavigate"),e=_p("useNavigate"),n=V.useRef(!1);return BT(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{Si(n.current,zT),n.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var Q_={};function FT(s,e,n){!e&&!Q_[s]&&(Q_[s]=!0,Si(!1,n))}V.memo(u1);function u1({routes:s,future:e,state:n,onError:r}){return qT(s,void 0,n,r,e)}function c1({to:s,replace:e,state:n,relative:r}){St(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Hn);Si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(Zi),{pathname:h}=Ir(),p=Ns(),g=gp(s,pp(u),h,r==="path"),v=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(v),{replace:e,state:n,relative:r})},[p,v,r,e,n]),null}function lr(s){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){St(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[p,o,u,h]);typeof n=="string"&&(n=Mo(n));let{pathname:v="/",search:T="",hash:S="",state:w=null,key:P="default"}=n,L=V.useMemo(()=>{let k=bs(v,p);return k==null?null:{location:{pathname:k,search:T,hash:S,state:w,key:P},navigationType:r}},[p,v,T,S,w,P,r]);return Si(L!=null,`<Router basename="${p}"> is not able to match the URL "${v}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:V.createElement(Hn.Provider,{value:g},V.createElement(_u.Provider,{children:e,value:L}))}function d1({children:s,location:e}){return WA(Vm(s),e)}function Vm(s,e=[]){let n=[];return V.Children.forEach(s,(r,o)=>{if(!V.isValidElement(r))return;let u=[...e,o];if(r.type===V.Fragment){n.push.apply(n,Vm(r.props.children,u));return}St(r.type===lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Vm(r.props.children,u)),n.push(h)}),n}var mh="get",ph="application/x-www-form-urlencoded";function Xh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function f1(s){return Xh(s)&&s.tagName.toLowerCase()==="button"}function m1(s){return Xh(s)&&s.tagName.toLowerCase()==="form"}function p1(s){return Xh(s)&&s.tagName.toLowerCase()==="input"}function g1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function y1(s,e){return s.button===0&&(!e||e==="_self")&&!g1(s)}var rh=null;function v1(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(s){return s!=null&&!_1.has(s)?(Si(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):s}function E1(s,e){let n,r,o,u,h;if(m1(s)){let p=s.getAttribute("action");r=p?bs(p,e):null,n=s.getAttribute("method")||mh,o=Tm(s.getAttribute("enctype"))||ph,u=new FormData(s)}else if(f1(s)||p1(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?bs(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||mh,o=Tm(s.getAttribute("formenctype"))||Tm(p.getAttribute("enctype"))||ph,u=new FormData(p,s),!v1()){let{name:v,type:T,value:S}=s;if(T==="image"){let w=v?`${v}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else v&&u.append(v,S)}}else{if(Xh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,r=null,o=ph,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function T1(s,e,n,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&bs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function S1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function w1(s,e,n){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await S1(u,n);return h.links?h.links():[]}return[]}));return N1(r.flat(1).filter(b1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(s,e,n,r,o,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,p=(g,v)=>n[v].pathname!==g.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,v)=>h(g,v)||p(g,v)):u==="data"?e.filter((g,v)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,v)||p(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function A1(s,e,{includeHydrateFallback:n}={}){return R1(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function R1(s){return[...new Set(s)]}function C1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function N1(s,e){let n=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(C1(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function GT(){let s=V.useContext(ko);return Ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function I1(){let s=V.useContext(Qh);return Ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Tp=V.createContext(void 0);Tp.displayName="FrameworkContext";function $T(){let s=V.useContext(Tp);return Ep(s,"You must render this element inside a <HydratedRouter> element"),s}function D1(s,e){let n=V.useContext(Tp),[r,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:v,onMouseLeave:T,onTouchStart:S}=e,w=V.useRef(null);V.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let k=Z=>{Z.forEach(G=>{h(G.isIntersecting)})},z=new IntersectionObserver(k,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[s]),V.useEffect(()=>{if(r){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[r]);let P=()=>{o(!0)},L=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(p,P),onBlur:$l(g,L),onMouseEnter:$l(v,P),onMouseLeave:$l(T,L),onTouchStart:$l(S,P)}]:[!1,w,{}]}function $l(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function x1({page:s,...e}){let{router:n}=GT(),r=V.useMemo(()=>OT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?V.createElement(M1,{page:s,matches:r,...e}):null}function O1(s){let{manifest:e,routeModules:n}=$T(),[r,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return w1(s,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,e,n]),r}function M1({page:s,matches:e,...n}){let r=Ir(),{future:o,manifest:u,routeModules:h}=$T(),{basename:p}=GT(),{loaderData:g,matches:v}=I1(),T=V.useMemo(()=>X_(s,e,v,u,r,"data"),[s,e,v,u,r]),S=V.useMemo(()=>X_(s,e,v,u,r,"assets"),[s,e,v,u,r]),w=V.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let k=new Set,z=!1;if(e.forEach(G=>{let oe=u.routes[G.route.id];!oe||!oe.hasLoader||(!T.some(pe=>pe.route.id===G.route.id)&&G.route.id in g&&h[G.route.id]?.shouldRevalidate||oe.hasClientLoader?z=!0:k.add(G.route.id))}),k.size===0)return[];let Z=T1(s,p,o.unstable_trailingSlashAwareDataRequests,"data");return z&&k.size>0&&Z.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[Z.pathname+Z.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,r,u,T,e,s,h]),P=V.useMemo(()=>A1(S,u),[S,u]),L=O1(S);return V.createElement(V.Fragment,null,w.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),P.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),L.map(({key:k,link:z})=>V.createElement("link",{key:k,nonce:n.nonce,...z,crossOrigin:z.crossOrigin??n.crossOrigin})))}function k1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.13.0")}catch{}function j1({basename:s,children:e,unstable_useTransitions:n,window:r}){let o=V.useRef();o.current==null&&(o.current=pA({window:r,v5Compat:!0}));let u=o.current,[h,p]=V.useState({action:u.action,location:u.location}),g=V.useCallback(v=>{n===!1?p(v):V.startTransition(()=>p(v))},[n]);return V.useLayoutEffect(()=>u.listen(g),[u,g]),V.createElement(h1,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},L){let{basename:k,unstable_useTransitions:z}=V.useContext(Hn),Z=typeof v=="string"&&YT.test(v),G=jT(v,k);v=G.to;let oe=QA(v,{relative:o}),[pe,$,ee]=D1(r,P),N=z1(v,{replace:h,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:z});function C(D){e&&e(D),D.defaultPrevented||N(D)}let R=V.createElement("a",{...P,...ee,href:G.absoluteURL||oe,onClick:G.isExternal||u?e:C,ref:k1(L,$),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return pe&&!Z?V.createElement(V.Fragment,null,R,V.createElement(x1,{page:oe})):R});KT.displayName="Link";var L1=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...v},T){let S=Eu(h,{relative:v.relative}),w=Ir(),P=V.useContext(Qh),{navigator:L,basename:k}=V.useContext(Hn),z=P!=null&&G1(S)&&p===!0,Z=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,G=w.pathname,oe=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(G=G.toLowerCase(),oe=oe?oe.toLowerCase():null,Z=Z.toLowerCase()),oe&&k&&(oe=bs(oe,k)||oe);const pe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let $=G===Z||!o&&G.startsWith(Z)&&G.charAt(pe)==="/",ee=oe!=null&&(oe===Z||!o&&oe.startsWith(Z)&&oe.charAt(Z.length)==="/"),N={isActive:$,isPending:ee,isTransitioning:z},C=$?e:void 0,R;typeof r=="function"?R=r(N):R=[r,$?"active":null,ee?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(N):u;return V.createElement(KT,{...v,"aria-current":C,className:R,ref:T,style:D,to:h,viewTransition:p},typeof g=="function"?g(N):g)});L1.displayName="NavLink";var P1=V.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=mh,action:p,onSubmit:g,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},L)=>{let{unstable_useTransitions:k}=V.useContext(Hn),z=H1(),Z=F1(p,{relative:v}),G=h.toLowerCase()==="get"?"get":"post",oe=typeof p=="string"&&YT.test(p),pe=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let ee=$.nativeEvent.submitter,N=ee?.getAttribute("formmethod")||h,C=()=>z(ee||$.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:v,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:w});k&&n!==!1?V.startTransition(()=>C()):C()};return V.createElement("form",{ref:L,method:G,action:Z,onSubmit:r?g:pe,...P,"data-discover":!oe&&s==="render"?"true":void 0})});P1.displayName="Form";function U1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(s){let e=V.useContext(ko);return St(e,U1(s)),e}function z1(s,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let v=Ns(),T=Ir(),S=Eu(s,{relative:u});return V.useCallback(w=>{if(y1(w,e)){w.preventDefault();let P=n!==void 0?n:au(T)===au(S),L=()=>v(s,{replace:P,state:r,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p});g?V.startTransition(()=>L()):L()}},[T,v,S,n,r,e,s,o,u,h,p,g])}var B1=0,q1=()=>`__${String(++B1)}__`;function H1(){let{router:s}=QT("useSubmit"),{basename:e}=V.useContext(Hn),n=a1(),r=s.fetch,o=s.navigate;return V.useCallback(async(u,h={})=>{let{action:p,method:g,encType:v,formData:T,body:S}=E1(u,e);if(h.navigate===!1){let w=h.fetcherKey||q1();await r(w,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:S,formMethod:h.method||g,formEncType:h.encType||v,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:S,formMethod:h.method||g,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function F1(s,{relative:e}={}){let{basename:n}=V.useContext(Hn),r=V.useContext(Zi);St(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Eu(s||".",{relative:e})},h=Ir();if(s==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();u.search=T?`?${T}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ts([n,u.pathname])),au(u)}function G1(s,{relative:e}={}){let n=V.useContext(PT);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QT("useViewTransitionState"),o=Eu(s,{relative:e});if(!n.isTransitioning)return!1;let u=bs(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=bs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rh(o.pathname,h)!=null||Rh(o.pathname,u)!=null}const $1=()=>{};var W_={};const XT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Y1=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],h=s[n++],p=s[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],h=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,p=h?s[o+1]:0,g=o+2<s.length,v=g?s[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|v>>6,P=v&63;g||(P=64,h||(w=64)),r.push(n[T],n[S],n[w],n[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(XT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Y1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const v=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||p==null||v==null||S==null)throw new K1;const w=u<<2|p>>4;if(r.push(w),v!==64){const P=p<<4&240|v>>2;if(r.push(P),S!==64){const L=v<<6&192|S;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(s){const e=XT(s);return WT.encodeByteArray(e,!0)},Ch=function(s){return Q1(s).replace(/\./g,"")},JT=function(s){try{return WT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const W1=()=>X1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Z1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&JT(s[1]);return e&&JSON.parse(e)},Wh=()=>{try{return $1()||W1()||J1()||Z1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ZT=s=>Wh()?.emulatorHosts?.[s],eR=s=>{const e=ZT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e0=()=>Wh()?.config,t0=s=>Wh()?.[`_${s}`];class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function jo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n0(s){return(await fetch(s,{credentials:"include"})).ok}function nR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const eu={};function iR(){const s={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?s.emulator.push(e):s.prod.push(e);return s}function sR(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let J_=!1;function i0(s,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||eu[s]===e||eu[s]||J_)return;eu[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=iR().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function v(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{J_=!0,h()},w}function T(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=sR(r),P=n("text"),L=document.getElementById(P)||document.createElement("span"),k=n("learnmore"),z=document.getElementById(k)||document.createElement("a"),Z=n("preprendIcon"),G=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const oe=w.element;p(oe),T(z,k);const pe=v();g(G,Z),oe.append(G,L,z,pe),document.body.appendChild(oe)}u?(L.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function aR(){const s=Wh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const s=vn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dR(){try{return typeof indexedDB=="object"}catch{return!1}}function fR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const mR="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mR,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?pR(u,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Is(o,p,r)}}function pR(s,e){return s.replace(gR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const gR=/\{\$([^}]+)}/g;function yR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ha(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],h=e[o];if(Z_(u)&&Z_(h)){if(!ha(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Su(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function vR(s,e){const n=new _R(s,e);return n.subscribe.bind(n)}class _R{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ER(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Sm(){}function Qt(s){return s&&s._delegate?s._delegate:s}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(s){return s===ua?void 0:s}function bR(s){return s.instantiationMode==="EAGER"}class wR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const AR={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},RR=Fe.INFO,CR={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},NR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=CR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=NR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const IR=(s,e)=>e.some(n=>s instanceof n);let eE,tE;function DR(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,jm=new WeakMap,r0=new WeakMap,bm=new WeakMap,bp=new WeakMap;function OR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{n(pr(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,s)}).catch(()=>{}),bp.set(e,s),e}function MR(s){if(jm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});jm.set(s,e)}let Lm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return jm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||r0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kR(s){Lm=s(Lm)}function VR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(wm(this),e,...n);return r0.set(r,e.sort?e.sort():[e]),pr(r)}:xR().includes(s)?function(...e){return s.apply(wm(this),e),pr(s0.get(this))}:function(...e){return pr(s.apply(wm(this),e))}}function jR(s){return typeof s=="function"?VR(s):(s instanceof IDBTransaction&&MR(s),IR(s,DR())?new Proxy(s,Lm):s)}function pr(s){if(s instanceof IDBRequest)return OR(s);if(bm.has(s))return bm.get(s);const e=jR(s);return e!==s&&(bm.set(s,e),bp.set(e,s)),e}const wm=s=>bp.get(s);function LR(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,e),p=pr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(pr(h.result),g.oldVersion,g.newVersion,pr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const PR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],Am=new Map;function nE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=UR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),o&&g.done]))[0]};return Am.set(e,u),u}kR(s=>({...s,get:(e,n,r)=>nE(e,n)||s.get(e,n,r),has:(e,n)=>!!nE(e,n)||s.has(e,n)}));class zR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BR(s){return s.getComponent()?.type==="VERSION"}const Pm="@firebase/app",iE="0.14.7";const ws=new Sp("@firebase/app"),qR="@firebase/app-compat",HR="@firebase/analytics-compat",FR="@firebase/analytics",GR="@firebase/app-check-compat",$R="@firebase/app-check",YR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",XR="@firebase/data-connect",WR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",rC="@firebase/performance-compat",aC="@firebase/remote-config",oC="@firebase/remote-config-compat",lC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",hC="@firebase/ai",dC="@firebase/firestore-compat",fC="firebase",mC="12.8.0";const Um="[DEFAULT]",pC={[Pm]:"fire-core",[qR]:"fire-core-compat",[FR]:"fire-analytics",[HR]:"fire-analytics-compat",[$R]:"fire-app-check",[GR]:"fire-app-check-compat",[YR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[XR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[rC]:"fire-perf-compat",[aC]:"fire-rc",[oC]:"fire-rc-compat",[lC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[dC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};const Nh=new Map,gC=new Map,zm=new Map;function sE(s,e){try{s.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ro(s){const e=s.name;if(zm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,s);for(const n of Nh.values())sE(n,s);for(const n of gC.values())sE(n,s);return!0}function wp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ii(s){return s==null?!1:s.settings!==void 0}const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Tu("app","Firebase",yC);class vC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Lo=mC;function Ap(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Um,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(n||(n=e0()),!n)throw gr.create("no-options");const u=Nh.get(o);if(u){if(ha(n,u.options)&&ha(r,u.config))return u;throw gr.create("duplicate-app",{appName:o})}const h=new wR(o);for(const g of zm.values())h.addComponent(g);const p=new vC(n,r,h);return Nh.set(o,p),p}function a0(s=Um){const e=Nh.get(s);if(!e&&s===Um&&e0())return Ap();if(!e)throw gr.create("no-app",{appName:s});return e}function yr(s,e,n){let r=pC[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(h.join(" "));return}Ro(new da(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _C="firebase-heartbeat-database",EC=1,ou="firebase-heartbeat-store";let Rm=null;function o0(){return Rm||(Rm=LR(_C,EC,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Rm}async function TC(s){try{const n=(await o0()).transaction(ou),r=await n.objectStore(ou).get(l0(s));return await n.done,r}catch(e){if(e instanceof Is)ws.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});ws.warn(n.message)}}}async function rE(s,e){try{const r=(await o0()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,l0(s)),await r.done}catch(n){if(n instanceof Is)ws.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n?.message});ws.warn(r.message)}}}function l0(s){return`${s.name}!${s.options.appId}`}const SC=1024,bC=30;class wC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bC){const o=CC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:r}=AC(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ws.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function AC(s,e=SC){const n=[];let r=s.slice();for(const o of s){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),oE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dR()?fR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(s){return Ch(JSON.stringify({version:2,heartbeats:s})).length}function CC(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function NC(s){Ro(new da("platform-logger",e=>new zR(e),"PRIVATE")),Ro(new da("heartbeat",e=>new wC(e),"PRIVATE")),yr(Pm,iE,s),yr(Pm,iE,"esm2020"),yr("fire-js","")}NC("");function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IC=u0,c0=new Tu("auth","Firebase",u0());const Ih=new Sp("@firebase/auth");function DC(s,...e){Ih.logLevel<=Fe.WARN&&Ih.warn(`Auth (${Lo}): ${s}`,...e)}function gh(s,...e){Ih.logLevel<=Fe.ERROR&&Ih.error(`Auth (${Lo}): ${s}`,...e)}function bi(s,...e){throw Rp(s,...e)}function Yi(s,...e){return Rp(s,...e)}function h0(s,e,n){const r={...IC(),[e]:n};return new Tu("auth","Firebase",r).create(e,{appName:s.name})}function Ss(s){return h0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return c0.create(s,...e)}function Re(s,e,...n){if(!s)throw Rp(e,...n)}function _s(s){const e="INTERNAL ASSERTION FAILED: "+s;throw gh(e),new Error(e)}function As(s,e){s||_s(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function xC(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}function OC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||lR()||"connection"in navigator)?navigator.onLine:!0}function MC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,As(n>e,"Short delay should be less than long delay!"),this.isMobile=rR()||uR()}get(){return OC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(s,e){As(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class d0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jC=new bu(3e4,6e4);function Dr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xr(s,e,n,r,o={}){return f0(s,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const p=Su({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:g,...u};return oR()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&jo(s.emulatorConfig.host)&&(v.credentials="include"),d0.fetch()(await m0(s,s.config.apiHost,n,p),v)})}async function f0(s,e,n){s._canInitEmulator=!1;const r={...kC,...e};try{const o=new PC(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,v]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ah(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw ah(s,"user-disabled",h);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw h0(s,T,v);bi(s,T)}}catch(o){if(o instanceof Is)throw o;bi(s,"network-request-failed",{message:String(o)})}}async function wu(s,e,n,r,o={}){const u=await xr(s,e,n,r,o);return"mfaPendingCredential"in u&&bi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function m0(s,e,n,r){const o=`${e}${n}?${r}`,u=s,h=u.config.emulator?Cp(s.config,o):`${s.config.apiScheme}://${o}`;return VC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function LC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),jC.get())})}}function ah(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Yi(s,e,r);return o.customData._tokenResponse=n,o}function uE(s){return s!==void 0&&s.enterprise!==void 0}class UC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zC(s,e){return xr(s,"GET","/v2/recaptchaConfig",Dr(s,e))}async function BC(s,e){return xr(s,"POST","/v1/accounts:delete",e)}async function Dh(s,e){return xr(s,"POST","/v1/accounts:lookup",e)}function tu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(s,e=!1){const n=Qt(s),r=await n.getIdToken(e),o=Np(r);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:tu(Cm(o.auth_time)),issuedAtTime:tu(Cm(o.iat)),expirationTime:tu(Cm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(s){return Number(s)*1e3}function Np(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=JT(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cE(s){const e=Np(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lu(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&HC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function HC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(s){const e=s.auth,n=await s.getIdToken(),r=await lu(s,Dh(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?p0(o.providerUserInfo):[],h=$C(s.providerData,u),p=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,v=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function GC(s){const e=Qt(s);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function p0(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function YC(s,e){const n=await f0(s,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await m0(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&jo(s.emulatorConfig.host)&&(g.credentials="include"),d0.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KC(s,e){return xr(s,"POST","/v2/accounts:revokeToken",Dr(s,e))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=cE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await YC(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new _o;return r&&(Re(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return _s("not implemented")}}function or(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await lu(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,v=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:L,stsTokenManager:k}=n;Re(S&&k,e,"internal-error");const z=_o.fromJSON(this.name,k);Re(typeof S=="string",e,"internal-error"),or(r,e.name),or(o,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof P=="boolean",e,"internal-error"),or(u,e.name),or(h,e.name),or(p,e.name),or(g,e.name),or(v,e.name),or(T,e.name);const Z=new _i({uid:S,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:v,lastLoginAt:T});return L&&Array.isArray(L)&&(Z.providerData=L.map(G=>({...G}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,r=!1){const o=new _o;o.updateFromServerResponse(n);const u=new _i({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?p0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new _o;p.updateFromIdToken(r);const g=new _i({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,v),g}}const hE=new Map;function Es(s){As(s instanceof Function,"Expected a class definition");let e=hE.get(s);return e?(As(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,hE.set(s,e),e)}class g0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g0.type="NONE";const dE=g0;function yh(s,e,n){return`firebase:${s}:${e}:${n}`}class Eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Eo(Es(dE),e,r);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Es(dE);const h=yh(r,e.config.apiKey,e.name);let p=null;for(const v of n)try{const T=await v._get(h);if(T){let S;if(typeof T=="string"){const w=await Dh(e,{idToken:T}).catch(()=>{});if(!w)break;S=await _i._fromGetAccountInfoResponse(e,w,T)}else S=_i._fromJSON(e,T);v!==u&&(p=S),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Eo(u,e,r):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Eo(u,e,r))}}function fE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(b0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function y0(s=vn()){return/firefox\//i.test(s)}function v0(s=vn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(s=vn()){return/crios\//i.test(s)}function E0(s=vn()){return/iemobile/i.test(s)}function T0(s=vn()){return/android/i.test(s)}function S0(s=vn()){return/blackberry/i.test(s)}function b0(s=vn()){return/webos/i.test(s)}function Ip(s=vn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function QC(s=vn()){return Ip(s)&&!!window.navigator?.standalone}function XC(){return cR()&&document.documentMode===10}function w0(s=vn()){return Ip(s)||T0(s)||b0(s)||S0(s)||/windows phone/i.test(s)||E0(s)}function A0(s,e=[]){let n;switch(s){case"Browser":n=fE(vn());break;case"Worker":n=`${fE(vn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}class WC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JC(s,e={}){return xr(s,"GET","/v2/passwordPolicy",Dr(s,e))}const ZC=6;class eN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new WC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Ss(this));const n=e?Qt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),n=new eN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Es(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _a(s){return Qt(s)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nN(s){Jh=s}function R0(s){return Jh.loadJS(s)}function iN(){return Jh.recaptchaEnterpriseScript}function sN(){return Jh.gapiScript}function rN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class aN{constructor(){this.enterprise=new oN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lN="recaptcha-enterprise",C0="NO_RECAPTCHA";class uN{constructor(e){this.type=lN,this.auth=_a(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{zC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new UC(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;uE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(C0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(p=>{if(!n&&uE(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iN();g.length!==0&&(g+=p),R0(g).then(()=>{o(p,u,h)}).catch(v=>{h(v)})}}).catch(p=>{h(p)})})}}async function pE(s,e,n,r=!1,o=!1){const u=new uN(s);let h;if(o)h=C0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hm(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await pE(s,e,n,n==="getOobCode");return r(s,h)}else return Promise.reject(u)})}function cN(s,e){const n=wp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ha(u,e??{}))return o;bi(o,"already-initialized")}return n.initialize({options:e})}function hN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Es);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function dN(s,e,n){const r=_a(s);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=N0(e),{host:h,port:p}=fN(e),g=p===null?"":`:${p}`,v={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(ha(v,r.config.emulator)&&ha(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,jo(h)?(n0(`${u}//${h}${g}`),i0("Auth",!0)):mN()}function N0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function fN(s){const e=N0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:gE(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:gE(h)}}}function gE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mN(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function pN(s,e){return xr(s,"POST","/v1/accounts:signUp",e)}async function gN(s,e){return wu(s,"POST","/v1/accounts:signInWithPassword",Dr(s,e))}async function yN(s,e){return wu(s,"POST","/v1/accounts:signInWithEmailLink",Dr(s,e))}async function vN(s,e){return wu(s,"POST","/v1/accounts:signInWithEmailLink",Dr(s,e))}class uu extends Dp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",gN);case"emailLink":return yN(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,r,"signUpPassword",pN);case"emailLink":return vN(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(s,e){return wu(s,"POST","/v1/accounts:signInWithIdp",Dr(s,e))}const _N="http://localhost";class fa extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new fa(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:_N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}function EN(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TN(s){const e=Ql(Xl(s)).link,n=e?Ql(Xl(e)).deep_link_id:null,r=Ql(Xl(s)).deep_link_id;return(r?Ql(Xl(r)).link:null)||r||n||e||s}class xp{constructor(e){const n=Ql(Xl(e)),r=n.apiKey??null,o=n.oobCode??null,u=EN(n.mode??null);Re(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=TN(e);try{return new xp(n)}catch{return null}}}class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xp.parseLink(n);return Re(r,"argument-error"),uu._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class I0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Au extends I0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends Au{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class dr extends Au{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class fr extends Au{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";async function SN(s,e){return wu(s,"POST","/v1/accounts:signUp",Dr(s,e))}class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await _i._fromIdTokenResponse(e,r,o),h=yE(r);return new ma({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=yE(r);return new ma({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function yE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Oh extends Is{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Oh(e,n,r,o)}}function D0(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(s,u,e,r):u})}async function bN(s,e,n=!1){const r=await lu(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ma._forOperation(s,"link",r)}async function wN(s,e,n=!1){const{auth:r}=s;if(ii(r.app))return Promise.reject(Ss(r));const o="reauthenticate";try{const u=await lu(s,D0(r,o,e,s),n);Re(u.idToken,r,"internal-error");const h=Np(u.idToken);Re(h,r,"internal-error");const{sub:p}=h;return Re(s.uid===p,r,"user-mismatch"),ma._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&bi(r,"user-mismatch"),u}}async function x0(s,e,n=!1){if(ii(s.app))return Promise.reject(Ss(s));const r="signIn",o=await D0(s,r,e),u=await ma._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function AN(s,e){return x0(_a(s),e)}async function O0(s){const e=_a(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RN(s,e,n){if(ii(s.app))return Promise.reject(Ss(s));const r=_a(s),h=await Hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&O0(s),g}),p=await ma._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function CN(s,e,n){return ii(s.app)?Promise.reject(Ss(s)):AN(Qt(s),Po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O0(s),r})}function NN(s,e){return Qt(s).setPersistence(e)}function IN(s,e,n,r){return Qt(s).onIdTokenChanged(e,n,r)}function DN(s,e,n){return Qt(s).beforeAuthStateChanged(e,n)}function xN(s,e,n,r){return Qt(s).onAuthStateChanged(e,n,r)}function M0(s){return Qt(s).signOut()}const Mh="__sak";class k0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ON=1e3,MN=10;class V0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);XC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V0.type="LOCAL";const j0=V0;class L0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L0.type="SESSION";const Op=L0;function kN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async v=>v(n.origin,u)),g=await kN(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];function Mp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class VN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const v=Mp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===v)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ki(){return window}function jN(s){Ki().location.href=s}function P0(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function LN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PN(){return navigator?.serviceWorker?.controller||null}function UN(){return P0()?self:null}const U0="firebaseLocalStorageDb",zN=1,kh="firebaseLocalStorage",z0="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(s,e){return s.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function BN(){const s=indexedDB.deleteDatabase(U0);return new Ru(s).toPromise()}function Fm(){const s=indexedDB.open(U0,zN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(kh,{keyPath:z0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await BN(),e(await Fm()))})})}async function vE(s,e,n){const r=ed(s,!0).put({[z0]:e,value:n});return new Ru(r).toPromise()}async function qN(s,e){const n=ed(s,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function _E(s,e){const n=ed(s,!0).delete(e);return new Ru(n).toPromise()}const HN=800,FN=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(UN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new VN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await vE(e,Mh,"1"),await _E(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ed(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const GN=B0;new bu(3e4,6e4);function $N(s,e){return e?Es(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YN(s){return x0(s.auth,new kp(s),s.bypassAuthState)}function KN(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),wN(n,new kp(s),s.bypassAuthState)}async function QN(s){const{auth:e,user:n}=s;return Re(n,e,"internal-error"),bN(n,new kp(s),s.bypassAuthState)}class q0{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return QN;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:bi(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XN=new bu(2e3,1e4);class yo extends q0{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XN.get())};e()}}yo.currentPopupAction=null;const WN="pendingRedirect",vh=new Map;class JN extends q0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await ZN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZN(s,e){const n=nI(e),r=tI(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function eI(s,e){vh.set(s._key(),e)}function tI(s){return Es(s._redirectPersistence)}function nI(s){return yh(WN,s.config.apiKey,s.name)}async function iI(s,e,n=!1){if(ii(s.app))return Promise.reject(Ss(s));const r=_a(s),o=$N(r,e),h=await new JN(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const sI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!H0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function H0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(s);default:return!1}}async function oI(s,e={}){return xr(s,"GET","/v1/projects",e)}const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function cI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oI(s);for(const n of e)try{if(hI(n))return}catch{}bi(s,"unauthorized-domain")}function hI(s){const e=Bm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!uI.test(n))return!1;if(lI.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const dI=new bu(3e4,6e4);function TE(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fI(s){return new Promise((e,n)=>{function r(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Yi(s,"network-request-failed"))},timeout:dI.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)r();else{const o=rN("iframefcb");return Ki()[o]=()=>{gapi.load?r():n(Yi(s,"network-request-failed"))},R0(`${sN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw _h=null,e})}let _h=null;function mI(s){return _h=_h||fI(s),_h}const pI=new bu(5e3,15e3),gI="__/auth/iframe",yI="emulator/auth/iframe",vI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EI(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Cp(e,yI):`https://${s.config.authDomain}/${gI}`,r={apiKey:e.apiKey,appName:s.name,v:Lo},o=_I.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Su(r).slice(1)}`}async function TI(s){const e=await mI(s),n=Ki().gapi;return Re(n,s,"internal-error"),e.open({where:document.body,url:EI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Yi(s,"network-request-failed"),p=Ki().setTimeout(()=>{u(h)},pI.get());function g(){Ki().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(h)})}))}const SI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bI=500,wI=600,AI="_blank",RI="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CI(s,e,n,r=bI,o=wI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...SI,width:r.toString(),height:o.toString(),top:u,left:h},v=vn().toLowerCase();n&&(p=_0(v)?AI:n),y0(v)&&(e=e||RI,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[P,L])=>`${w}${P}=${L},`,"");if(QC(v)&&p!=="_self")return NI(e||"",p),new SE(null);const S=window.open(e||"",p,T);Re(S,s,"popup-blocked");try{S.focus()}catch{}return new SE(S)}function NI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const II="__/auth/handler",DI="emulator/auth/handler",xI=encodeURIComponent("fac");async function bE(s,e,n,r,o,u){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Lo,eventId:o};if(e instanceof I0){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",yR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(e instanceof Au){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),v=g?`#${xI}=${encodeURIComponent(g)}`:"";return`${OI(s)}?${Su(p).slice(1)}${v}`}function OI({config:s}){return s.emulator?Cp(s,DI):`https://${s.authDomain}/${II}`}const Nm="webStorageSupport";class MI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Op,this._completeRedirectFn=iI,this._overrideRedirectResult=eI}async _openPopup(e,n,r,o){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await bE(e,n,r,Bm(),o);return CI(e,u,Mp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await bE(e,n,r,Bm(),o);return jN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(As(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TI(e),r=new rI(e);return n.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w0()||v0()||Ip()}}const kI=MI;var wE="@firebase/auth",AE="1.12.0";class VI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(s){Ro(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;Re(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(s)},v=new tN(r,o,u,g);return hN(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ro(new da("auth-internal",e=>{const n=_a(e.getProvider("auth").getImmediate());return(r=>new VI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(wE,AE,jI(s)),yr(wE,AE,"esm2020")}const PI=300,UI=t0("authIdTokenMaxAge")||PI;let RE=null;const zI=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UI)return;const o=n?.token;RE!==o&&(RE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function F0(s=a0()){const e=wp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=cN(s,{popupRedirectResolver:kI,persistence:[GN,j0,Op]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=zI(u.toString());DN(n,h,()=>h(n.currentUser)),IN(n,p=>h(p))}}const o=ZT("auth");return o&&dN(n,`http://${o}`),n}function BI(){return document.getElementsByTagName("head")?.[0]??document}nN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Yi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",BI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vr,G0;(function(){var s;function e(N,C){function R(){}R.prototype=C.prototype,N.F=C.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(D,x,M){for(var I=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)I[ye-2]=arguments[ye];return C.prototype[x].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,R){R||(R=0);const D=Array(16);if(typeof C=="string")for(var x=0;x<16;++x)D[x]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(x=0;x<16;++x)D[x]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=N.g[0],R=N.g[1],x=N.g[2];let M=N.g[3],I;I=C+(M^R&(x^M))+D[0]+3614090360&4294967295,C=R+(I<<7&4294967295|I>>>25),I=M+(x^C&(R^x))+D[1]+3905402710&4294967295,M=C+(I<<12&4294967295|I>>>20),I=x+(R^M&(C^R))+D[2]+606105819&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(C^x&(M^C))+D[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=C+(M^R&(x^M))+D[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=M+(x^C&(R^x))+D[5]+1200080426&4294967295,M=C+(I<<12&4294967295|I>>>20),I=x+(R^M&(C^R))+D[6]+2821735955&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(C^x&(M^C))+D[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=C+(M^R&(x^M))+D[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=M+(x^C&(R^x))+D[9]+2336552879&4294967295,M=C+(I<<12&4294967295|I>>>20),I=x+(R^M&(C^R))+D[10]+4294925233&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(C^x&(M^C))+D[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=C+(M^R&(x^M))+D[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=M+(x^C&(R^x))+D[13]+4254626195&4294967295,M=C+(I<<12&4294967295|I>>>20),I=x+(R^M&(C^R))+D[14]+2792965006&4294967295,x=M+(I<<17&4294967295|I>>>15),I=R+(C^x&(M^C))+D[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=C+(x^M&(R^x))+D[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(C^R))+D[6]+3225465664&4294967295,M=C+(I<<9&4294967295|I>>>23),I=x+(C^R&(M^C))+D[11]+643717713&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^C&(x^M))+D[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=C+(x^M&(R^x))+D[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(C^R))+D[10]+38016083&4294967295,M=C+(I<<9&4294967295|I>>>23),I=x+(C^R&(M^C))+D[15]+3634488961&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^C&(x^M))+D[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=C+(x^M&(R^x))+D[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(C^R))+D[14]+3275163606&4294967295,M=C+(I<<9&4294967295|I>>>23),I=x+(C^R&(M^C))+D[3]+4107603335&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^C&(x^M))+D[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=C+(x^M&(R^x))+D[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=M+(R^x&(C^R))+D[2]+4243563512&4294967295,M=C+(I<<9&4294967295|I>>>23),I=x+(C^R&(M^C))+D[7]+1735328473&4294967295,x=M+(I<<14&4294967295|I>>>18),I=R+(M^C&(x^M))+D[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=C+(R^x^M)+D[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=M+(C^R^x)+D[8]+2272392833&4294967295,M=C+(I<<11&4294967295|I>>>21),I=x+(M^C^R)+D[11]+1839030562&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^C)+D[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=C+(R^x^M)+D[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=M+(C^R^x)+D[4]+1272893353&4294967295,M=C+(I<<11&4294967295|I>>>21),I=x+(M^C^R)+D[7]+4139469664&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^C)+D[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=C+(R^x^M)+D[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=M+(C^R^x)+D[0]+3936430074&4294967295,M=C+(I<<11&4294967295|I>>>21),I=x+(M^C^R)+D[3]+3572445317&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^C)+D[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=C+(R^x^M)+D[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=M+(C^R^x)+D[12]+3873151461&4294967295,M=C+(I<<11&4294967295|I>>>21),I=x+(M^C^R)+D[15]+530742520&4294967295,x=M+(I<<16&4294967295|I>>>16),I=R+(x^M^C)+D[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=C+(x^(R|~M))+D[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=M+(R^(C|~x))+D[7]+1126891415&4294967295,M=C+(I<<10&4294967295|I>>>22),I=x+(C^(M|~R))+D[14]+2878612391&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~C))+D[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=C+(x^(R|~M))+D[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=M+(R^(C|~x))+D[3]+2399980690&4294967295,M=C+(I<<10&4294967295|I>>>22),I=x+(C^(M|~R))+D[10]+4293915773&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~C))+D[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=C+(x^(R|~M))+D[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=M+(R^(C|~x))+D[15]+4264355552&4294967295,M=C+(I<<10&4294967295|I>>>22),I=x+(C^(M|~R))+D[6]+2734768916&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~C))+D[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=C+(x^(R|~M))+D[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=M+(R^(C|~x))+D[11]+3174756917&4294967295,M=C+(I<<10&4294967295|I>>>22),I=x+(C^(M|~R))+D[2]+718787259&4294967295,x=M+(I<<15&4294967295|I>>>17),I=R+(M^(x|~C))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+M&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const R=C-this.blockSize,D=this.C;let x=this.h,M=0;for(;M<C;){if(x==0)for(;M<=R;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<C;)if(D[x++]=N.charCodeAt(M++),x==this.blockSize){o(this,D),x=0;break}}else for(;M<C;)if(D[x++]=N[M++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)N[C++]=this.g[R]>>>D&255;return N};function u(N,C){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=C(N)}function h(N,C){this.h=C;const R=[];let D=!0;for(let x=N.length-1;x>=0;x--){const M=N[x]|0;D&&M==C||(R[x]=M,D=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(C){return new h([C|0],C<0?-1:0)}):new h([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return z(v(-N));const C=[];let R=1;for(let D=0;N>=R;D++)C[D]=N/R|0,R*=4294967296;return new h(C,0)}function T(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return z(T(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(C,8));let D=S;for(let M=0;M<N.length;M+=8){var x=Math.min(8,N.length-M);const I=parseInt(N.substring(M,M+x),C);x<8?(x=v(Math.pow(C,x)),D=D.j(x).add(v(I))):(D=D.j(R),D=D.add(v(I)))}return D}var S=g(0),w=g(1),P=g(16777216);s=h.prototype,s.m=function(){if(k(this))return-z(this).m();let N=0,C=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);N+=(D>=0?D:4294967296+D)*C,C*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(k(this))return"-"+z(this).toString(N);const C=v(Math.pow(N,6));var R=this;let D="";for(;;){const x=pe(R,C).g;R=Z(R,x.j(C));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=x,L(R))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function k(N){return N.h==-1}s.l=function(N){return N=Z(this,N),k(N)?-1:L(N)?0:1};function z(N){const C=N.g.length,R=[];for(let D=0;D<C;D++)R[D]=~N.g[D];return new h(R,~N.h).add(w)}s.abs=function(){return k(this)?z(this):this},s.add=function(N){const C=Math.max(this.g.length,N.g.length),R=[];let D=0;for(let x=0;x<=C;x++){let M=D+(this.i(x)&65535)+(N.i(x)&65535),I=(M>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);D=I>>>16,M&=65535,I&=65535,R[x]=I<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Z(N,C){return N.add(z(C))}s.j=function(N){if(L(this)||L(N))return S;if(k(this))return k(N)?z(this).j(z(N)):z(z(this).j(N));if(k(N))return z(this.j(z(N)));if(this.l(P)<0&&N.l(P)<0)return v(this.m()*N.m());const C=this.g.length+N.g.length,R=[];for(var D=0;D<2*C;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let x=0;x<N.g.length;x++){const M=this.i(D)>>>16,I=this.i(D)&65535,ye=N.i(x)>>>16,Pe=N.i(x)&65535;R[2*D+2*x]+=I*Pe,G(R,2*D+2*x),R[2*D+2*x+1]+=M*Pe,G(R,2*D+2*x+1),R[2*D+2*x+1]+=I*ye,G(R,2*D+2*x+1),R[2*D+2*x+2]+=M*ye,G(R,2*D+2*x+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new h(R,0)};function G(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function oe(N,C){this.g=N,this.h=C}function pe(N,C){if(L(C))throw Error("division by zero");if(L(N))return new oe(S,S);if(k(N))return C=pe(z(N),C),new oe(z(C.g),z(C.h));if(k(C))return C=pe(N,z(C)),new oe(z(C.g),C.h);if(N.g.length>30){if(k(N)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var R=w,D=C;D.l(N)<=0;)R=$(R),D=$(D);var x=ee(R,1),M=ee(D,1);for(D=ee(D,2),R=ee(R,2);!L(D);){var I=M.add(D);I.l(N)<=0&&(x=x.add(R),M=I),D=ee(D,1),R=ee(R,1)}return C=Z(N,x.j(C)),new oe(x,C)}for(x=S;N.l(C)>=0;){for(R=Math.max(1,Math.floor(N.m()/C.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=v(R),I=M.j(C);k(I)||I.l(N)>0;)R-=D,M=v(R),I=M.j(C);L(M)&&(M=w),x=x.add(M),N=Z(N,I)}return new oe(x,N)}s.B=function(N){return pe(this,N).h},s.and=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)&N.i(D);return new h(R,this.h&N.h)},s.or=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)|N.i(D);return new h(R,this.h|N.h)},s.xor=function(N){const C=Math.max(this.g.length,N.g.length),R=[];for(let D=0;D<C;D++)R[D]=this.i(D)^N.i(D);return new h(R,this.h^N.h)};function $(N){const C=N.g.length+1,R=[];for(let D=0;D<C;D++)R[D]=N.i(D)<<1|N.i(D-1)>>>31;return new h(R,N.h)}function ee(N,C){const R=C>>5;C%=32;const D=N.g.length-R,x=[];for(let M=0;M<D;M++)x[M]=C>0?N.i(M+R)>>>C|N.i(M+R+1)<<32-C:N.i(M+R);return new h(x,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=T,vr=h}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $0,Wl,Y0,Eh,Gm,K0,Q0,X0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var E=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in E))break e;E=E[q]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},h=this||self;function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function v(c,y,E){return v=g,v.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,q,Q){for(var he=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)he[ke-2]=arguments[ke];return y.prototype[q].apply(A,he)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function L(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const Q=q.length||0;c.length=E+Q;for(let he=0;he<Q;he++)c[E+he]=q[he]}else c.push(q)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){h.setTimeout(()=>{throw c},0)}function Z(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,E){const A=oe.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new k(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let $,ee=!1,N=new G,C=()=>{const c=Promise.resolve(void 0);$=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(E){z(E)}var y=oe;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ee=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ye(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(ye,x),ye.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),W=0;function ue(c,y,E,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++W,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function Oe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function j(c){const y={};for(const E in c)y[E]=c[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(c,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)c[E]=A[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function J(c){this.src=c,this.g={},this.h=0}J.prototype.add=function(c,y,E,A,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const he=fe(c,y,A,q);return he>-1?(y=c[he],E||(y.fa=!1)):(y=new ue(y,this.src,Q,!!A,q),y.fa=E,c.push(y)),y};function ce(c,y){const E=y.type;if(E in c.g){var A=c.g[E],q=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(_e(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function fe(c,y,E,A){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==A)return q}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ae={};function Me(c,y,E,A,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Me(c,y[Q],E,A,q);return null}return E=xn(E),c&&c[Pe]?c.J(y,E,p(A)?!!A.capture:!1,q):gt(c,y,E,!1,A,q)}function gt(c,y,E,A,q,Q){if(!y)throw Error("Invalid event type");const he=p(q)?!!q.capture:!!q;let ke=et(c);if(ke||(c[de]=ke=new J(c)),E=ke.add(y,E,A,he,Q),E.proxy)return E;if(A=be(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)M||(q=he),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(Gt(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function be(){function c(E){return y.call(c.src,c.listener,E)}const y=ri;return c}function Ot(c,y,E,A,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ot(c,y[Q],E,A,q);else A=p(A)?!!A.capture:!!A,E=xn(E),c&&c[Pe]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],E=fe(y,E,A,q),E>-1&&(_e(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=et(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fe(y,E,A,q)),(E=c>-1?y[c]:null)&&Mt(E))}function Mt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pe])ce(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(Gt(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=et(y))?(ce(E,c),E.h==0&&(E.src=null,y[de]=null)):_e(c)}}}function Gt(c){return c in Ae?Ae[c]:Ae[c]="on"+c}function ri(c,y){if(c.da)c=!0;else{y=new ye(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&Mt(c),c=E.call(A,y)}return c}function et(c){return c=c[de],c instanceof J?c:null}var Xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xn(c){return typeof c=="function"?c:(c[Xt]||(c[Xt]=function(y){return c.handleEvent(y)}),c[Xt])}function st(){D.call(this),this.i=new J(this),this.M=this,this.G=null}S(st,D),st.prototype[Pe]=!0,st.prototype.removeEventListener=function(c,y,E,A){Ot(this,c,y,E,A)};function Ye(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var q=y;y=new x(A,c),K(y,q)}q=!0;let Q,he;if(E)for(he=E.length-1;he>=0;he--)Q=y.g=E[he],q=ai(Q,A,!0,y)&&q;if(Q=y.g=c,q=ai(Q,A,!0,y)&&q,q=ai(Q,A,!1,y)&&q,E)for(he=0;he<E.length;he++)Q=y.g=E[he],q=ai(Q,A,!1,y)&&q}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)_e(E[A]);delete c.g[y],c.h--}}this.G=null},st.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},st.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function ai(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const he=y[Q];if(he&&!he.da&&he.capture==E){const ke=he.listener,Nt=he.ha||he.src;he.fa&&ce(c.i,he),q=ke.call(Nt,A)!==!1&&q}}return q&&!A.defaultPrevented}function le(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ke(c){c.g=le(()=>{c.g=null,c.i&&(c.i=!1,Ke(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tt extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(c){D.call(this),this.h=c,this.g={}}S(at,D);var fn=[];function oi(c){Ne(c.g,function(y,E){this.g.hasOwnProperty(E)&&Mt(y)},c),c.g={}}at.prototype.N=function(){at.Z.N.call(this),oi(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=h.JSON.stringify,ba=h.JSON.parse,kr=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function wa(){}function We(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){x.call(this,"d")}S(Rt,x);function Fn(){x.call(this,"c")}S(Fn,x);var Ct={},ku=null;function Aa(){return ku=ku||new st}Ct.Ia="serverreachability";function Vu(c){x.call(this,Ct.Ia,c)}S(Vu,x);function Ai(c){const y=Aa();Ye(y,new Vu(y))}Ct.STAT_EVENT="statevent";function Vr(c,y){x.call(this,Ct.STAT_EVENT,c),this.stat=y}S(Vr,x);function kt(c){const y=Aa();Ye(y,new Vr(y,c))}Ct.Ja="timingevent";function Ri(c,y){x.call(this,Ct.Ja,c),this.size=y}S(Ri,x);function Ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function gd(c,y,E,A,q,Q){c.info(function(){if(c.g)if(Q){var he="",ke=Q.split("&");for(let nt=0;nt<ke.length;nt++){var Nt=ke[nt].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const Kn=_t.split("_");he=Kn.length>=2&&Kn[1]=="type"?he+(_t+"="+Nt+"&"):he+(_t+"=redacted&")}}}else he=null;else he=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+he})}function ju(c,y,E,A,q,Q,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+Q+" "+he})}function Ni(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yd(c,E)+(A?" "+A:"")})}function jr(c,y){c.info(function(){return"TIMEOUT: "+y})}li.prototype.info=function(){};function yd(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let he=1;he<A.length;he++)A[he]=""}}}}return Tn(Q)}catch{return y}}var Lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$o;function Pr(){}S(Pr,wa),Pr.prototype.g=function(){return new XMLHttpRequest},$o=new Pr;function es(c){return encodeURIComponent(String(c))}function Lu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function ui(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new at(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Vt={},Wt={};function Ii(c,y,E){c.M=1,c.A=Ur(Lt(y)),c.u=E,c.R=!0,Ra(c,null)}function Ra(c,y){c.F=Date.now(),Di(c),c.B=Lt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Da(E.i,"t",A),c.C=0,E=c.j.L,c.h=new ci,c.g=Ju(c.j,E?y:null,!c.u),c.P>0&&(c.O=new tt(v(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(fn[0]=q.toString()),q=fn);for(let Q=0;Q<q.length;Q++){const he=Me(E,q[Q],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Ai(),gd(c.i,c.v,c.B,c.l,c.S,c.u)}ui.prototype.ba=function(c){c=c.target;const y=this.O;y&&fi(c)==3?y.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const ke=fi(this.g),Nt=this.g.ya(),nt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||ke!=4||Nt==7||(Nt==8||nt<=0?Ai(3):Ai(2)),xi(this);var y=this.g.ca();this.X=y;var E=vd(this);if(this.o=y==200,ju(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)Ni(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,c);else{this.o=!1,this.m=3,kt(12),On(this),Gn(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<E.length;)if(_t=Uu(this,E),_t==Wt){ke==4&&(this.m=4,kt(14),c=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==Vt){this.m=4,kt(15),Ni(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Ni(this.i,this.l,_t,null),Oi(this,_t);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,kt(16),c=!1),this.o=this.o&&c,!c)Ni(this.i,this.l,E,"[Invalid Chunked Response]"),On(this),Gn(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ol(he),he.P=!0,kt(11))}}else Ni(this.i,this.l,E,null),Oi(this,E);ke==4&&On(this),this.o&&!this.K&&(ke==4?Ku(this.j,this):(this.o=!1,Di(this)))}else ns(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),On(this),Gn(this)}}}catch{}};function vd(c){if(!Pu(c))return c.g.la();const y=sn(c.g);if(y==="")return"";let E="";const A=y.length,q=fi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return On(c),Gn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,E+=c.h.i.decode(y[Q],{stream:!(q&&Q==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Wt:(E=Number(y.substring(E,A)),isNaN(E)?Vt:(A+=1,A+E>y.length?Wt:(y=y.slice(A,A+E),c.C=A+E,y)))}ui.prototype.cancel=function(){this.K=!0,On(this)};function Di(c){c.T=Date.now()+c.H,Ca(c,c.H)}function Ca(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ci(v(c.aa,c),y)}function xi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ui.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(jr(this.i,this.B),this.M!=2&&(Ai(),kt(17)),On(this),this.m=2,Gn(this)):Ca(this,this.T-c)};function Gn(c){c.j.I==0||c.K||Ku(c.j,c)}function On(c){xi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,oi(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Oi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||ki(E.h,c))){if(!c.L&&ki(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Va(E),Ls(E);else break e;$r(E),kt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ci(v(E.Va,E),6e3));Mi(E.h)<=1&&E.ta&&(E.ta=void 0)}else zi(E,11)}else if((c.L||E.g==c)&&Va(E),!I(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let nt=q[y];const _t=nt[0];if(!(_t<=E.K))if(E.K=_t,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const Kn=nt[3];Kn!=null&&(E.ka=Kn,E.j.info("VER="+E.ka));const Bi=nt[4];Bi!=null&&(E.za=Bi,E.j.info("SVER="+E.za));const mi=nt[5];mi!=null&&typeof mi=="number"&&mi>0&&(A=1.5*mi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const pi=c.g;if(pi){const Yr=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var Q=A.h;Q.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Qo(Q,Q.h),Q.h=null))}if(A.G){const ja=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(A.wa=ja,ot(A.J,A.G,ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var he=c;if(A.na=Wu(A,A.L?A.ba:null,A.W),he.L){Xo(A.h,he);var ke=he,Nt=A.O;Nt&&(ke.H=Nt),ke.D&&(xi(ke),Di(ke)),A.g=he}else $u(A);E.i.length>0&&Ui(E)}else nt[0]!="stop"&&nt[0]!="close"||zi(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?zi(E,7):rl(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}Ai(4)}catch{}}var jt=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Mi(c){return c.h?1:c.g?c.g.size:0}function ki(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Qo(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return P(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let q,Q=null;A>=0?(q=c[E].substring(0,A),Q=c[E].substring(A+1)):q=c[E],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Mn?(this.l=c.l,Jt(this,c.j),this.o=c.o,this.g=c.g,Ds(this,c.u),this.h=c.h,Jo(this,Fu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,Jt(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),Ds(this,y[4]),this.h=Vi(y[5]||"",!0),Jo(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}Mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(zr(y,Ia,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(zr(y,Ia,!0),"@"),c.push(es(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(zr(E,E.charAt(0)=="/"?Zo:Bu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",zr(E,qu)),c.join("")},Mn.prototype.resolve=function(c){const y=Lt(this);let E=!!c.j;E?Jt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)Ds(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let he=0;he<q.length;){const ke=q[he++];ke=="."?A&&he==q.length&&Q.push(""):ke==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&he==q.length&&Q.push("")):(Q.push(ke),A=!0)}A=Q.join("/")}else A=q}return E?y.h=A:E=c.i.toString()!=="",E?Jo(y,Fu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Lt(c){return new Mn(c)}function Jt(c,y,E){c.j=E?Vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ds(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Jo(c,y,E){y instanceof Os?(c.i=y,xa(c.i,c.l)):(E||(y=zr(y,xs)),c.i=new Os(y,c.l))}function ot(c,y,E){c.i.set(y,E)}function Ur(c){return ot(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zr(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Sn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,Bu=/[#\?:]/g,Zo=/[#\?]/g,xs=/[#\?@]/g,qu=/#/g;function Os(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=Os.prototype,s.add=function(c,y){bn(this),this.i=null,c=Ms(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Hu(c,y){bn(c),y=Ms(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function el(c,y){return bn(c),y=Ms(c,y),c.g.has(y)}s.forEach=function(c,y){bn(this),this.g.forEach(function(E,A){E.forEach(function(q){c.call(y,q,A,this)},this)},this)};function tl(c,y){bn(c);let E=[];if(typeof y=="string")el(c,y)&&(E=E.concat(c.g.get(Ms(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}s.set=function(c,y){return bn(this),this.i=null,c=Ms(this,c),el(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=tl(this,c),c.length>0?String(c[0]):y):y};function Da(c,y,E){Hu(c,y),E.length>0&&(c.i=null,c.g.set(Ms(c,y),P(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const q=es(E);E=tl(this,E);for(let Q=0;Q<E.length;Q++){let he=q;E[Q]!==""&&(he+="="+es(E[Q])),c.push(he)}}return this.i=c.join("&")};function Fu(c){const y=new Os;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ms(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xa(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Hu(this,A),Da(this,q,E))},c)),c.j=y}function hi(c,y){const E=new li;if(h.Image){const A=new Image;A.onload=T($n,E,"TestLoadImage: loaded",!0,y,A),A.onerror=T($n,E,"TestLoadImage: error",!1,y,A),A.onabort=T($n,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=T($n,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function nl(c,y){const E=new li,A=new AbortController,q=setTimeout(()=>{A.abort(),$n(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?$n(E,"TestPingServer: ok",!0,y):$n(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),$n(E,"TestPingServer: error",!1,y)})}function $n(c,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function ks(){this.g=new kr}function ji(c){this.i=c.Sb||null,this.h=c.ab||!1}S(ji,wa),ji.prototype.g=function(){return new Br(this.i,this.h)};function Br(c,y){st.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Br,st),s=Br.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,di(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Vs(this):di(this),this.readyState==3&&Oa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Vs(this))},s.Na=function(c){this.g&&(this.response=c,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,di(c)}s.setRequestHeader=function(c,y){this.A.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yn(c){let y="";return Ne(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function qr(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Yn(E),typeof c=="string"?E!=null&&es(E):ot(c,y,E))}function ct(c){st.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,st);var Li=/^https?$/i,il=["POST","PUT"];s=ct.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$o.g(),this.g.onreadystatechange=w(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Hr(this,Q);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(il,y,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of E)this.g.setRequestHeader(Q,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Hr(this,Q)}};function Hr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,sl(c),ts(c)}function sl(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ye(this,"complete"),Ye(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Fr(this):this.Xa())},s.Xa=function(){Fr(this)};function Fr(c){if(c.h&&typeof u<"u"){if(c.v&&fi(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ye(c,"readystatechange"),fi(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Q===0){let he=String(c.D).match(zu)[1]||null;!he&&h.self&&h.self.location&&(he=h.self.location.protocol.slice(0,-1)),A=!Li.test(he?he.toLowerCase():"")}E=A}if(E)Ye(c,"complete"),Ye(c,"success");else{c.o=6;try{var q=fi(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",sl(c)}}finally{ts(c)}}}}function ts(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ye(c,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(c){return c.g?c.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ba(y)}};function sn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(c){const y={};c=(c.g&&fi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var E=Lu(c[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[q]||[];y[q]=Q,Q.push(E)}Oe(y,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function js(c){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,c),this.Za=Pi("retryDelaySeedMs",1e4,c),this.Ta=Pi("forwardChannelMaxRetries",2,c),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=js.prototype,s.ka=8,s.I=1,s.connect=function(c,y,E,A){kt(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Wu(this,null,this.W),Ui(this)};function rl(c){if(Ma(c),c.I==3){var y=c.V++,E=Lt(c.J);if(ot(E,"SID",c.M),ot(E,"RID",y),ot(E,"TYPE","terminate"),Gr(c,E),y=new ui(c,c.j,y),y.M=2,y.A=Ur(Lt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ju(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Di(y)}Xu(c)}function Ls(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function Ma(c){Ls(c),c.v&&(h.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ui(c){if(!Ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;$||C(),ee||($(),ee=!0),N.add(y,c),c.D=0}}function ka(c,y){return Mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ci(v(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ui(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=j(Q),K(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Gu(this,q,y),E=Lt(this.J),ot(E,"RID",c),ot(E,"CVER",22),this.G&&ot(E,"X-HTTP-Session-Id",this.G),Gr(this,E),Q&&(this.R?y="headers="+es(Yn(Q))+"&"+y:this.u&&qr(E,this.u,Q)),Qo(this.h,q),this.Ra&&ot(E,"TYPE","init"),this.S?(ot(E,"$req",y),ot(E,"SID","null"),q.U=!0,Ii(q,E,null)):Ii(q,E,y),this.I=2}}else this.I==3&&(c?al(this,c):this.i.length==0||Ko(this.h)||al(this))};function al(c,y){var E;y?E=y.l:E=c.V++;const A=Lt(c.J);ot(A,"SID",c.M),ot(A,"RID",E),ot(A,"AID",c.K),Gr(c,A),c.u&&c.o&&qr(A,c.u,c.o),E=new ui(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Gu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Qo(c.h,E),Ii(E,A,y)}function Gr(c,y){c.H&&Ne(c.H,function(E,A){ot(y,A,E)}),c.l&&Ne({},function(E,A){ot(y,A,E)})}function Gu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?v(c.l.Ka,c.l,c):null;e:{var q=c.i;let ke=-1;for(;;){const Nt=["count="+E];ke==-1?E>0?(ke=q[0].g,Nt.push("ofs="+ke)):ke=0:Nt.push("ofs="+ke);let nt=!0;for(let _t=0;_t<E;_t++){var Q=q[_t].g;const Kn=q[_t].map;if(Q-=ke,Q<0)ke=Math.max(0,q[_t].g-100),nt=!1;else try{Q="req"+Q+"_"||"";try{var he=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Bi,mi]of he){let pi=mi;p(mi)&&(pi=Tn(mi)),Nt.push(Q+Bi+"="+encodeURIComponent(pi))}}catch(Bi){throw Nt.push(Q+"type="+encodeURIComponent("_badmap")),Bi}}catch{A&&A(Kn)}}if(nt){he=Nt.join("&");break e}}he=void 0}return c=c.i.splice(0,E),y.G=c,he}function $u(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;$||C(),ee||($(),ee=!0),N.add(y,c),c.A=0}}function $r(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ci(v(c.Da,c),Qu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ci(v(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ls(this),Yu(this))};function ol(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new ui(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Lt(c.na);ot(y,"RID","rpc"),ot(y,"SID",c.M),ot(y,"AID",c.K),ot(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&ot(y,"TO",c.ia),ot(y,"TYPE","xmlhttp"),Gr(c,y),c.u&&c.o&&qr(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ur(Lt(y)),E.u=null,E.R=!0,Ra(E,c)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),$r(this),kt(19))};function Va(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ku(c,y){var E=null;if(c.g==y){Va(c),ol(c),c.g=null;var A=2}else if(ki(c.h,y))E=y.G,Xo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=Aa(),Ye(A,new Ri(A,E)),Ui(c)}else $u(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&ka(c,y)||A==2&&$r(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function Qu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function zi(c,y){if(c.j.info("Error code "+y),y==2){var E=v(c.bb,c),A=c.Ua;const q=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Jt(A,"https"),Ur(A),q?hi(A.toString(),E):nl(A.toString(),E)}else kt(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Ma(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Wu(c,y,E){var A=E instanceof Mn?Lt(E):new Mn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Ds(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new Mn(null);A&&Jt(Q,A),y&&(Q.g=y),q&&Ds(Q,q),E&&(Q.h=E),A=Q}return E=c.G,y=c.wa,E&&y&&ot(A,E,y),ot(A,"VER",c.ka),Gr(c,A),A}function Ju(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ct(new ji({ab:E})):new ct(c.ma),y.Fa(c.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}s=Zu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(c,y){return new _n(c,y)};function _n(c,y){st.call(this),this.g=new js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new is(this)}S(_n,st),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){rl(this.g)},_n.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Tn(c),c=E);y.i.push(new jt(y.Ya++,c)),y.I==3&&Ui(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,_n.Z.N.call(this)};function ec(c){Rt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(ec,Rt);function tc(){Fn.call(this),this.status=1}S(tc,Fn);function is(c){this.g=c}S(is,Zu),is.prototype.ra=function(){Ye(this.g,"a")},is.prototype.qa=function(c){Ye(this.g,new ec(c))},is.prototype.pa=function(c){Ye(this.g,new tc)},is.prototype.oa=function(){Ye(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,X0=function(){return new Ps},Q0=function(){return Aa()},K0=Ct,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Eh=Lr,Go.COMPLETE="complete",Y0=Go,We.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",st.prototype.listen=st.prototype.J,Wl=We,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,$0=ct}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Uo="12.8.0";function qI(s){Uo=s}const pa=new Sp("@firebase/firestore");function fo(){return pa.logLevel}function ge(s,...e){if(pa.logLevel<=Fe.DEBUG){const n=e.map(Vp);pa.debug(`Firestore (${Uo}): ${s}`,...n)}}function Rs(s,...e){if(pa.logLevel<=Fe.ERROR){const n=e.map(Vp);pa.error(`Firestore (${Uo}): ${s}`,...n)}}function Co(s,...e){if(pa.logLevel<=Fe.WARN){const n=e.map(Vp);pa.warn(`Firestore (${Uo}): ${s}`,...n)}}function Vp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ce(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W0(s,r,n)}function W0(s,e,n){let r=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rs(r),new Error(r)}function rt(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||W0(e,o,r)}function xe(s,e){return s}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class J0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class FI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GI{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new J0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class $I{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $I(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=QI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function $m(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return Im(o)===Im(u)?Ge(o,u):Im(o)?1:-1}return Ge(s.length,e.length)}const XI=55296,WI=57343;function Im(s){const e=s.charCodeAt(0);return e>=XI&&e<=WI}function No(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const IE="__name__";class $i{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=$i.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const r=$i.isNumericId(e),o=$i.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?$i.extractNumericId(e).compare($i.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class pt extends $i{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const JI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends $i{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return JI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new cn([IE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(u(),o++)}if(u(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(pt.fromString(e))}static fromName(e){return new Se(pt.fromString(e).popFirst(5))}static empty(){return new Se(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new pt(e.slice()))}}function Z0(s,e,n){if(!n)throw new me(re.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ZI(s,e,n,r){if(e===!0&&r===!0)throw new me(re.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function DE(s){if(!Se.isDocumentKey(s))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xE(s){if(Se.isDocumentKey(s))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function td(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ce(12329,{type:typeof s})}function ga(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(s);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ft(s,e){const n={typeString:s};return e&&(n.value=e),n}function Cu(s,e){if(!eS(s))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const h=s[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(re.INVALID_ARGUMENT,n);return!0}const OE=-62135596800,ME=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ME);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:Ft("string",Le._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Le(0,0))}static max(){return new Ie(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function eD(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new br(o,Se.empty(),e)}function tD(s){return new br(s.readTime,s.key,cu)}class br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new br(Ie.min(),Se.empty(),cu)}static max(){return new br(Ie.max(),Se.empty(),cu)}}function nD(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(s.documentKey,e.documentKey),n!==0?n:Ge(s.largestBatchId,e.largestBatchId))}const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zo(s){if(s.code!==re.FAILED_PRECONDITION||s.message!==iD)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>r(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((o=>o?ae.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next((T=>{h[v]=T,++p,p===u&&r(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ae(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function rD(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(s){return s.name==="IndexedDbTransactionError"}class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;const Lp=-1;function id(s){return s==null}function Vh(s){return s===0&&1/s==-1/0}function aD(s){return typeof s=="number"&&Number.isInteger(s)&&!Vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tS="";function oD(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=kE(e)),e=lD(s.get(n),e);return kE(e)}function lD(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case tS:n+="";break;default:n+=u}}return n}function kE(s){return s+tS+""}function VE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Or(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new un(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Kt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const n=uD.exec(s);if(rt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?dn.fromBase64String(s):dn.fromUint8Array(s)}const sS="server_timestamp",rS="__type__",aS="__previous_value__",oS="__local_write_time__";function Pp(s){return(s?.mapValue?.fields||{})[rS]?.stringValue===sS}function sd(s){const e=s.mapValue.fields[aS];return Pp(e)?sd(e):e}function hu(s){const e=wr(s.mapValue.fields[oS].timestampValue);return new Le(e.seconds,e.nanos)}class cD{constructor(e,n,r,o,u,h,p,g,v,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const jh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}function hD(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(s.options.projectId,e)}const lS="__type__",dD="__max__",uh={mapValue:{}},uS="__vector__",Lh="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pp(s)?4:mD(s)?9007199254740991:fD(s)?10:11:Ce(28295,{value:s})}function Ji(s,e){if(s===e)return!0;const n=Rr(s);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return hu(s).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=wr(o.timestampValue),p=wr(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Ar(o.bytesValue).isEqual(Ar(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=xt(o.doubleValue),p=xt(u.doubleValue);return h===p?Vh(h)===Vh(p):isNaN(h)&&isNaN(p)}return!1})(s,e);case 9:return No(s.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(VE(h)!==VE(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Ji(h[g],p[g])))return!1;return!0})(s,e);default:return Ce(52216,{left:s})}}function fu(s,e){return(s.values||[]).find((n=>Ji(n,e)))!==void 0}function Io(s,e){if(s===e)return 0;const n=Rr(s),r=Rr(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=xt(u.integerValue||u.doubleValue),g=xt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return LE(s.timestampValue,e.timestampValue);case 4:return LE(hu(s),hu(e));case 5:return $m(s.stringValue,e.stringValue);case 6:return(function(u,h){const p=Ar(u),g=Ar(h);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let v=0;v<p.length&&v<g.length;v++){const T=Ge(p[v],g[v]);if(T!==0)return T}return Ge(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Ge(xt(u.latitude),xt(h.latitude));return p!==0?p:Ge(xt(u.longitude),xt(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return PE(s.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},v=p[Lh]?.arrayValue,T=g[Lh]?.arrayValue,S=Ge(v?.values?.length||0,T?.values?.length||0);return S!==0?S:PE(v,T)})(s.mapValue,e.mapValue);case 11:return(function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=h.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const w=$m(g[S],T[S]);if(w!==0)return w;const P=Io(p[g[S]],v[T[S]]);if(P!==0)return P}return Ge(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function LE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const n=wr(s),r=wr(e),o=Ge(n.seconds,r.seconds);return o!==0?o:Ge(n.nanos,r.nanos)}function PE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Io(n[o],r[o]);if(u)return u}return Ge(n.length,r.length)}function Do(s){return Ym(s)}function Ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=wr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ar(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Se.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Ym(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Ym(n.fields[h])}`;return o+"}"})(s.mapValue):Ce(61005,{value:s})}function Th(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sd(s);return e?16+Th(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Th(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Or(r.fields,((u,h)=>{o+=u.length+Th(h)})),o})(s.mapValue);default:throw Ce(13486,{value:s})}}function UE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Km(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function zE(s){return!!s&&"nullValue"in s}function BE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sh(s){return!!s&&"mapValue"in s}function fD(s){return(s?.mapValue?.fields||{})[lS]?.stringValue===uS}function nu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=nu(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(s.arrayValue.values[n]);return e}return{...s}}function mD(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===dD}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=cn.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=nu(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Or(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Dn(nu(this.value))}}function cS(s){const e=[];return Or(s.fields,((n,r)=>{const o=new cn([n]);if(Sh(r)){const u=cS(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new qn(e)}class yn{constructor(e,n,r,o,u,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new yn(e,0,Ie.min(),Ie.min(),Ie.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,o){return new yn(e,1,n,Ie.min(),r,o,0)}static newNoDocument(e,n){return new yn(e,2,n,Ie.min(),Ie.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ie.min(),Ie.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function qE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],h=s.position[o];if(u.field.isKeyField()?r=Se.comparator(Se.fromName(h.referenceValue),n.key):r=Io(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function HE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ji(s.position[n],e.position[n]))return!1;return!0}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function pD(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class hS{}class Ht extends hS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yD(e,n,r):n==="array-contains"?new ED(e,r):n==="in"?new TD(e,r):n==="not-in"?new SD(e,r):n==="array-contains-any"?new bD(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vD(e,r):new _D(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&Rr(this.value)===Rr(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return dS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dS(s){return s.op==="and"}function fS(s){return gD(s)&&dS(s)}function gD(s){for(const e of s.filters)if(e instanceof wi)return!1;return!0}function Qm(s){if(s instanceof Ht)return s.field.canonicalString()+s.op.toString()+Do(s.value);if(fS(s))return s.filters.map((e=>Qm(e))).join(",");{const e=s.filters.map((n=>Qm(n))).join(",");return`${s.op}(${e})`}}function mS(s,e){return s instanceof Ht?(function(r,o){return o instanceof Ht&&r.op===o.op&&r.field.isEqual(o.field)&&Ji(r.value,o.value)})(s,e):s instanceof wi?(function(r,o){return o instanceof wi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,p)=>u&&mS(h,o.filters[p])),!0):!1})(s,e):void Ce(19439)}function pS(s){return s instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(s):s instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(s):"Filter"}class yD extends Ht{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class vD extends Ht{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _D extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(s,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class ED extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&fu(n.arrayValue,this.value)}}class TD extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class SD extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class bD extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fu(this.value.arrayValue,r)))}}class wD{constructor(e,n=null,r=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function FE(s,e=null,n=[],r=[],o=null,u=null,h=null){return new wD(s,e,n,r,o,u,h)}function zp(s){const e=xe(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Do(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Do(r))).join(",")),e.Te=n}return e.Te}function Bp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!pD(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!mS(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!HE(s.startAt,e.startAt)&&HE(s.endAt,e.endAt)}function Xm(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class qo{constructor(e,n=null,r=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AD(s,e,n,r,o,u,h,p){return new qo(s,e,n,r,o,u,h,p)}function yS(s){return new qo(s)}function GE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RD(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vS(s){return s.collectionGroup!==null}function iu(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Kt(cn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mu(u,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new mu(cn.keyField(),r))}return e.Ie}function Qi(s){const e=xe(s);return e.Ee||(e.Ee=CD(e,iu(s))),e.Ee}function CD(s,e){if(s.limitType==="F")return FE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mu(o.field,u)}));const n=s.endAt?new Ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ph(s.startAt.position,s.startAt.inclusive):null;return FE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Wm(s,e){const n=s.filters.concat([e]);return new qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function ND(s,e){const n=s.explicitOrderBy.concat([e]);return new qo(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Jm(s,e,n){return new qo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function rd(s,e){return Bp(Qi(s),Qi(e))&&s.limitType===e.limitType}function _S(s){return`${zp(Qi(s))}|lt:${s.limitType}`}function mo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>pS(o))).join(", ")}]`),id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${r})`})(Qi(s))}; limitType=${s.limitType})`}function ad(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Se.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of iu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const v=qE(h,p,g);return h.inclusive?v<=0:v<0})(r.startAt,iu(r),o)||r.endAt&&!(function(h,p,g){const v=qE(h,p,g);return h.inclusive?v>=0:v>0})(r.endAt,iu(r),o))})(s,e)}function ID(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ES(s){return(e,n)=>{let r=!1;for(const o of iu(s)){const u=DD(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function DD(s,e,n){const r=s.field.isKeyField()?Se.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),v=p.data.field(u);return g!==null&&v!==null?Io(g,v):Ce(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:s.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const xD=new bt(Se.comparator);function Cs(){return xD}const TS=new bt(Se.comparator);function Jl(...s){let e=TS;for(const n of s)e=e.insert(n.key,n);return e}function SS(s){let e=TS;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ca(){return su()}function bS(){return su()}function su(){return new Ea((s=>s.toString()),((s,e)=>s.isEqual(e)))}const OD=new bt(Se.comparator),MD=new Kt(Se.comparator);function $e(...s){let e=MD;for(const n of s)e=e.add(n);return e}const kD=new Kt(Ge);function VD(){return kD}function qp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function wS(s){return{integerValue:""+s}}function jD(s,e){return aD(e)?wS(e):qp(s,e)}class od{constructor(){this._=void 0}}function LD(s,e,n){return s instanceof Uh?(function(o,u){const h={fields:{[rS]:{stringValue:sS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=sd(u)),u&&(h.fields[aS]=u),{mapValue:h}})(n,e):s instanceof pu?RS(s,e):s instanceof gu?CS(s,e):(function(o,u){const h=AS(o,u),p=$E(h)+$E(o.Ae);return Km(h)&&Km(o.Ae)?wS(p):qp(o.serializer,p)})(s,e)}function PD(s,e,n){return s instanceof pu?RS(s,e):s instanceof gu?CS(s,e):n}function AS(s,e){return s instanceof zh?(function(r){return Km(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Uh extends od{}class pu extends od{constructor(e){super(),this.elements=e}}function RS(s,e){const n=NS(e);for(const r of s.elements)n.some((o=>Ji(o,r)))||n.push(r);return{arrayValue:{values:n}}}class gu extends od{constructor(e){super(),this.elements=e}}function CS(s,e){let n=NS(e);for(const r of s.elements)n=n.filter((o=>!Ji(o,r)));return{arrayValue:{values:n}}}class zh extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $E(s){return xt(s.integerValue||s.doubleValue)}function NS(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UD(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof pu&&o instanceof pu||r instanceof gu&&o instanceof gu?No(r.elements,o.elements,Ji):r instanceof zh&&o instanceof zh?Ji(r.Ae,o.Ae):r instanceof Uh&&o instanceof Uh})(s.transform,e.transform)}class zD{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ld{}function IS(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hp(s.key,Ei.none()):new Nu(s.key,s.data,Ei.none());{const n=s.data,r=Dn.empty();let o=new Kt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Mr(s.key,r,new qn(o.toArray()),Ei.none())}}function BD(s,e,n){s instanceof Nu?(function(o,u,h){const p=o.value.clone(),g=KE(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Mr?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=KE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(DS(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ru(s,e,n,r){return s instanceof Nu?(function(u,h,p,g){if(!bh(u.precondition,h))return p;const v=u.value.clone(),T=QE(u.fieldTransforms,g,h);return v.setAll(T),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(s,e,n,r):s instanceof Mr?(function(u,h,p,g){if(!bh(u.precondition,h))return p;const v=QE(u.fieldTransforms,g,h),T=h.data;return T.setAll(DS(u)),T.setAll(v),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,h,p){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(s,e,n)}function qD(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=AS(r.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,u))}return n||null}function YE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&No(r,o,((u,h)=>UD(u,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Nu extends ld{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends ld{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DS(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function KE(s,e,n){const r=new Map;rt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],h=u.transform,p=e.data.field(u.field);r.set(u.field,PD(h,p,n[o]))}return r}function QE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,h=n.data.field(o.field);r.set(o.field,LD(u,h,e))}return r}class Hp extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FD{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BD(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ru(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=IS(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((n,r)=>YE(n,r)))&&No(this.baseMutations,e.baseMutations,((n,r)=>YE(n,r)))}}class Fp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return OD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Fp(e,n,r,o)}}class GD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $D{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Xe;function YD(s){switch(s){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:s})}}function xS(s){if(s===void 0)return Rs("GRPC error has no .code"),re.UNKNOWN;switch(s){case qt.OK:return re.OK;case qt.CANCELLED:return re.CANCELLED;case qt.UNKNOWN:return re.UNKNOWN;case qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case qt.INTERNAL:return re.INTERNAL;case qt.UNAVAILABLE:return re.UNAVAILABLE;case qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case qt.NOT_FOUND:return re.NOT_FOUND;case qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case qt.ABORTED:return re.ABORTED;case qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case qt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:s})}}(Xe=qt||(qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function KD(){return new TextEncoder}const QD=new vr([4294967295,4294967295],0);function XE(s){const e=KD().encode(s),n=new G0;return n.update(e),new Uint8Array(n.digest())}function WE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vr([n,r],0),new vr([o,u],0)]}class Gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(vr.fromNumber(r)));return o.compare(QD)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gp(u,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=XE(e),[r,o]=WE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ud{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(Ie.min(),o,new bt(Ge),Cs(),$e())}}class Iu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,$e(),$e(),$e())}}class wh{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class OS{constructor(e,n){this.targetId=e,this.Ce=n}}class MS{constructor(e,n,r=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ce(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ZE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class XD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.He=ch(),this.Je=ch(),this.Ze=new bt(Ge)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xm(u))if(r===0){const h=new Se(u.path);this.et(n,h,yn.newNoDocument(h,Ie.min()))}else rt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Ar(r).toUint8Array()}catch(g){if(g instanceof iS)return Co("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gp(h,o,u)}catch(g){return Co(g instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Xm(p.target)){const g=new Se(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,yn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let r=$e();this.Je.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new ud(e,n,this.Ze,this.je,r);return this.je=Cs(),this.He=ch(),this.Je=ch(),this.Ze=new bt(Ge),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new JE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt(Ge),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt(Ge),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new bt(Se.comparator)}function ZE(){return new bt(Se.comparator)}const WD={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZD={and:"AND",or:"OR"};class ex{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(s,e){return s.useProto3Json||id(e)?e:{value:e}}function Bh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tx(s,e){return Bh(s,e.toTimestamp())}function Xi(s){return rt(!!s,49232),Ie.fromTimestamp((function(n){const r=wr(n);return new Le(r.seconds,r.nanos)})(s))}function $p(s,e){return ep(s,e).canonicalString()}function ep(s,e){const n=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function VS(s){const e=pt.fromString(s);return rt(zS(e),10190,{key:e.toString()}),e}function tp(s,e){return $p(s.databaseId,e.path)}function Dm(s,e){const n=VS(e);if(n.get(1)!==s.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Se(LS(n))}function jS(s,e){return $p(s.databaseId,e)}function nx(s){const e=VS(s);return e.length===4?pt.emptyPath():LS(e)}function np(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function LS(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function eT(s,e,n){return{name:tp(s,e),fields:n.value.mapValue.fields}}function ix(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ce(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(rt(T===void 0||typeof T=="string",58123),dn.fromBase64String(T||"")):(rt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),dn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(v){const T=v.code===void 0?re.UNKNOWN:xS(v.code);return new me(T,v.message||"")})(h);n=new MS(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Dm(s,r.document.name),u=Xi(r.document.updateTime),h=r.document.createTime?Xi(r.document.createTime):Ie.min(),p=new Dn({mapValue:{fields:r.document.fields}}),g=yn.newFoundDocument(o,u,h,p),v=r.targetIds||[],T=r.removedTargetIds||[];n=new wh(v,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Dm(s,r.document),u=r.readTime?Xi(r.readTime):Ie.min(),h=yn.newNoDocument(o,u),p=r.removedTargetIds||[];n=new wh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Dm(s,r.document),u=r.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new $D(o,u),p=r.targetId;n=new OS(p,h)}}return n}function sx(s,e){let n;if(e instanceof Nu)n={update:eT(s,e.key,e.value)};else if(e instanceof Hp)n={delete:tp(s,e.key)};else if(e instanceof Mr)n={update:eT(s,e.key,e.data),updateMask:fx(e.fieldMask)};else{if(!(e instanceof HD))return Ce(16599,{dt:e.type});n={verify:tp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const p=h.transform;if(p instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ce(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(s,e.precondition)),n}function rx(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((n=>(function(o,u){let h=o.updateTime?Xi(o.updateTime):Xi(u);return h.isEqual(Ie.min())&&(h=Xi(u)),new zD(h,o.transformResults||[])})(n,e)))):[]}function ax(s,e){return{documents:[jS(s,e.path)]}}function ox(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(s,o);const u=(function(v){if(v.length!==0)return US(wi.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((T=>(function(w){return{field:po(w.field),direction:cx(w.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Zm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function lx(s){let e=nx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){rt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const w=PS(S);return w instanceof wi&&fS(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((w=>(function(L){return new mu(go(L.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,id(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,P=S.values||[];return new Ph(P,w)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const w=!S.before,P=S.values||[];return new Ph(P,w)})(n.endAt)),AD(e,o,h,u,p,"F",g,v)}function ux(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(n.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ht.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>PS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(s):Ce(30097,{filter:s})}function cx(s){return WD[s]}function hx(s){return JD[s]}function dx(s){return ZD[s]}function po(s){return{fieldPath:s.canonicalString()}}function go(s){return cn.fromServerFormat(s.fieldPath)}function US(s){return s instanceof Ht?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:hx(n.op),value:n.value}}})(s):s instanceof wi?(function(n){const r=n.getFilters().map((o=>US(o)));return r.length===1?r[0]:{compositeFilter:{op:dx(n.op),filters:r}}})(s):Ce(54877,{filter:s})}function fx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function BS(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class mr{constructor(e,n,r,o,u=Ie.min(),h=Ie.min(),p=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mx{constructor(e){this.yt=e}}function px(s){const e=lx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Jm(e,e.limit,"L"):e}class gx{constructor(){this.Sn=new yx}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(br.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class yx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Kt(pt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(pt.comparator)).toArray()}}const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qS=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(qS,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class xo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xo(0)}static ar(){return new xo(-1)}}const nT="LruGarbageCollector",vx=1048576;function iT([s,e],[n,r]){const o=Ge(s,n);return o===0?Ge(e,r):o}class _x{constructor(e){this.Pr=e,this.buffer=new Kt(iT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(nT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?ge(nT,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Ar(3e5)}))}}class Tx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(nd.ce);const r=new _x(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(tT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,h,p,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),fo()<=Fe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function Sx(s,e){return new Tx(s,e)}class bx{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ax{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ru(r.mutation,o,qn.empty(),Le.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=$e()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Jl();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ca();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,$e())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let u=Cs();const h=su(),p=(function(){return su()})();return n.forEach(((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Mr)?u=u.insert(v.key,v):T!==void 0?(h.set(v.key,T.mutation.getFieldMask()),ru(T.mutation,v,T.mutation.getFieldMask(),Le.now())):h.set(v.key,qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,T)=>h.set(v,T))),n.forEach(((v,T)=>p.set(v,new wx(T,h.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=su();let o=new bt(((h,p)=>h-p)),u=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const v=n.get(g);if(v===null)return;let T=r.get(g)||qn.empty();T=p.applyToLocalView(v,T),r.set(g,T);const S=(o.get(p.batchId)||$e()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,T=g.value,S=bS();T.forEach((w=>{if(!u.has(w)){const P=IS(n.get(w),r.get(w));P!==null&&S.set(w,P),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ae.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return RD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ae.resolve(ca());let p=cu,g=u;return h.next((v=>ae.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?ae.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,$e()))).next((T=>({batchId:p,changes:SS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next((p=>ae.forEach(p,(g=>{const v=(function(S,w){return new qo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((T=>{T.forEach(((S,w)=>{h=h.insert(S,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((g,v)=>{const T=v.getKey();h.get(T)===null&&(h=h.insert(T,yn.newInvalidDocument(T)))}));let p=Jl();return h.forEach(((g,v)=>{const T=u.get(g);T!==void 0&&ru(T.mutation,v,qn.empty(),Le.now()),ad(n,v)&&(p=p.insert(g,v))})),p}))}}class Rx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:px(o.bundledQuery),readTime:Xi(o.readTime)}})(n)),ae.resolve()}}class Cx{constructor(){this.overlays=new bt(Se.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ca();return ae.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const o=ca(),u=n.length+1,h=new Se(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new bt(((v,T)=>v-T));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let T=u.get(v.largestBatchId);T===null&&(T=ca(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=ca(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=o)););return ae.resolve(p)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new GD(n,r));let u=this.Lr.get(n);u===void 0&&(u=$e(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class Nx{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Yp{constructor(){this.kr=new Kt(en.Kr),this.qr=new Kt(en.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new en(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new en(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Se(new pt([])),r=new en(n,e),o=new en(n,e+1),u=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Se(new pt([])),r=new en(n,e),o=new en(n,e+1);let u=$e();return this.qr.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new en(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Se.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}class Ix{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(en.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new FD(u,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new en(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Lp:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new en(n,0),o=new en(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(h=>{const p=this.Zr(h.Hr);u.push(p)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Ge);return n.forEach((o=>{const u=new en(o,0),h=new en(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(p=>{r=r.add(p.Hr)}))})),ae.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Se.isDocumentKey(u)||(u=u.child(""));const h=new en(new Se(u),0);let p=new Kt(Ge);return this.Jr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(p=p.add(g.Hr)),!0)}),h),ae.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){rt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ae.forEach(n.mutations,(o=>{const u=new en(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new en(n,0),o=this.Jr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Dx{constructor(e){this.ti=e,this.docs=(function(){return new bt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Cs();const h=n.path,p=new Se(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||nD(tD(T),r)<=0||(o.has(T.key)||ad(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ce(9500)}ni(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xx(this)}getSize(e){return ae.resolve(this.size)}}class xx extends bx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Ox{constructor(e){this.persistence=e,this.ri=new Ea((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=xo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class HS{constructor(e,n){this._i={},this.overlays={},this.ai=new nd(0),this.ui=!1,this.ui=!0,this.ci=new Nx,this.referenceDelegate=e(this),this.li=new Ox(this),this.indexManager=new gx,this.remoteDocumentCache=(function(o){return new Dx(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new mx(n),this.Pi=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new Ix(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new Mx(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ae.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Mx extends sD{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(r=>{const o=Se.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.fi=new Ea((r=>oD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Sx(this,n)}static Vi(e,n){return new qh(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?ae.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(r++,u.removeEntry(h,Ie.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}wr(e,n,r){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=$e(),o=$e();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(e,n.fromCache,r,o)}}class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hR()?8:rD(vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new kx;return this.ys(e,n,h).next((p=>{if(u.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(fo()<=Fe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(fo()<=Fe.DEBUG&&ge("QueryEngine","Query:",mo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(fo()<=Fe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ae.resolve())}gs(e,n){if(GE(n))return ae.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=$e(...u);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.bs(n,p);return this.Ss(n,v,h,g.readTime)?this.gs(e,Jm(n,null,"F")):this.Ds(e,v,n,g)}))))})))))}ps(e,n,r,o){return GE(n)||o.isEqual(Ie.min())?ae.resolve(null):this.fs.getDocuments(e,r).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,r,o)?ae.resolve(null):(fo()<=Fe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.Ds(e,h,n,eD(o,cu)).next((p=>p)))}))}bs(e,n){let r=new Kt(ES(e));return n.forEach(((o,u)=>{ad(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return fo()<=Fe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",mo(n)),this.fs.getDocumentsMatchingQuery(e,n,br.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Xp="LocalStore",jx=3e8;class Lx{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new bt(Ge),this.Fs=new Ea((u=>zp(u)),Bp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ax(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Px(s,e,n,r){return new Lx(s,e,n,r)}async function FS(s,e){const n=xe(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],p=[];let g=$e();for(const v of o){h.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of u){p.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:p})))}))}))}function Ux(s,e){const n=xe(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,T){const S=v.batch,w=S.keys();let P=ae.resolve();return w.forEach((L=>{P=P.next((()=>T.getEntry(g,L))).next((k=>{const z=v.docVersions.get(L);rt(z!==null,48541),k.version.compareTo(z)<0&&(S.applyToRemoteDocument(k,v),k.isValidDocument()&&(k.setReadTime(v.commitVersion),T.addEntry(k)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=$e();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function GS(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function zx(s,e){const n=xe(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const w=o.get(S);if(!w)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(dn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),o=o.insert(S,P),(function(k,z,Z){return k.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=jx?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,P,T)&&p.push(n.li.updateTargetData(u,P))}));let g=Cs(),v=$e();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(Bx(u,h,e.documentUpdates).next((T=>{g=T.Bs,v=T.Ls}))),!r.isEqual(Ie.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return ae.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(n.vs=o,u)))}function Bx(s,e,n){let r=$e(),o=$e();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let h=Cs();return n.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ge(Xp,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function qx(s,e){const n=xe(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hx(s,e){const n=xe(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,ae.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new mr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function ip(s,e,n){const r=xe(s),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Bo(h))throw h;ge(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function sT(s,e,n){const r=xe(s);let o=Ie.min(),u=$e();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,T){const S=xe(g),w=S.Fs.get(T);return w!==void 0?ae.resolve(S.vs.get(w)):S.li.getTargetData(v,T)})(r,h,Qi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:Ie.min(),n?u:$e()))).next((p=>(Fx(r,ID(e),p),{documents:p,ks:u})))))}function Fx(s,e,n){let r=s.Ms.get(e)||Ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class rT{constructor(){this.activeTargetIds=VD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gx{constructor(){this.vo=new rT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $x{Mo(e){}shutdown(){}}const aT="ConnectivityMonitor";class oT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(aT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function sp(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const xm="RestConnection",Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const h=sp(),p=this.Qo(e,n.toUriEncodedString());ge(xm,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:v}=new URL(p),T=jo(v);return this.zo(e,p,g,r,T).then((S=>(ge(xm,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw Co(xm,`RPC '${e}' ${h} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,n,r,o,u,h){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=Yx[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Qx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const pn="WebChannelConnection",Yl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class So extends Kx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!So.c_){const e=Q0();Yl(e,K0.STAT_EVENT,(n=>{n.stat===Gm.PROXY?ge(pn,"STAT_EVENT: detected buffering proxy"):n.stat===Gm.NOPROXY&&ge(pn,"STAT_EVENT: detected no buffering proxy")})),So.c_=!0}}zo(e,n,r,o,u){const h=sp();return new Promise(((p,g)=>{const v=new $0;v.setWithCredentials(!0),v.listenOnce(Y0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Eh.NO_ERROR:const S=v.getResponseJson();ge(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),p(S);break;case Eh.TIMEOUT:ge(pn,`RPC '${e}' ${h} timed out`),g(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const w=v.getStatus();if(ge(pn,`RPC '${e}' ${h} failed with status:`,w,"response text:",v.getResponseText()),w>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const L=P?.error;if(L&&L.status&&L.message){const k=(function(Z){const G=Z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(G)>=0?G:re.UNKNOWN})(L.status);g(new me(k,L.message))}else g(new me(re.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new me(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ge(pn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ge(pn,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=sp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ge(pn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.I_(T);let S=!1,w=!1;const P=new Qx({Ho:L=>{w?ge(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ge(pn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ge(pn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Jo:()=>T.close()});return Yl(T,Wl.EventType.OPEN,(()=>{w||(ge(pn,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),Yl(T,Wl.EventType.CLOSE,(()=>{w||(w=!0,ge(pn,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(T))})),Yl(T,Wl.EventType.ERROR,(L=>{w||(w=!0,Co(pn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),P.o_(new me(re.UNAVAILABLE,"The operation could not be completed")))})),Yl(T,Wl.EventType.MESSAGE,(L=>{if(!w){const k=L.data[0];rt(!!k,16349);const z=k,Z=z?.error||z[0]?.error;if(Z){ge(pn,`RPC '${e}' stream ${o} received error:`,Z);const G=Z.status;let oe=(function(ee){const N=qt[ee];if(N!==void 0)return xS(N)})(G),pe=Z.message;oe===void 0&&(oe=re.INTERNAL,pe="Unknown error status: "+G+" with message "+Z.message),w=!0,P.o_(new me(oe,pe)),T.close()}else ge(pn,`RPC '${e}' stream ${o} received:`,k),P.__(k)}})),So.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return X0()}}function Xx(s){return new So(s)}function Om(){return typeof document<"u"?document:null}function cd(s){return new ex(s,!0)}So.c_=!1;class $S{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const lT="PersistentStream";class YS{constructor(e,n,r,o,u,h,p,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $S(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ge(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wx extends YS{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ix(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Xi(h.readTime):Ie.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=np(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=Xm(g)?{documents:ax(u,g)}:{query:ox(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=kS(u,h.resumeToken);const v=Zm(u,h.expectedCount);v!==null&&(p.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Bh(u,h.snapshotVersion.toTimestamp());const v=Zm(u,h.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=ux(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.K_(n)}}class Jx extends YS{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rx(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=np(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sx(this.serializer,r)))};this.K_(n)}}class Zx{}class e2 extends Zx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,ep(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,ep(n,r),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function t2(s,e,n,r){return new e2(s,e,n,r)}class n2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class i2{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{Ta(this)&&(ge(ya,"Restarting streams for network reachability change."),await(async function(g){const v=xe(g);v.Ea.add(4),await Du(v),v.Va.set("Unknown"),v.Ea.delete(4),await hd(v)})(this))}))})),this.Va=new n2(r,o)}}async function hd(s){if(Ta(s))for(const e of s.Ra)await e(!0)}async function Du(s){for(const e of s.Ra)await e(!1)}function KS(s,e){const n=xe(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):Ho(n).O_()&&Jp(n,e))}function Wp(s,e){const n=xe(s),r=Ho(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ta(n)&&n.Va.set("Unknown"))}function Jp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(s).Z_(e)}function QS(s,e){s.da.$e(e),Ho(s).X_(e)}function Zp(s){s.da=new XD({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ho(s).start(),s.Va.ua()}function eg(s){return Ta(s)&&!Ho(s).x_()&&s.Ia.size>0}function Ta(s){return xe(s).Ea.size===0}function XS(s){s.da=void 0}async function s2(s){s.Va.set("Online")}async function r2(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function a2(s,e){XS(s),eg(s)?(s.Va.ha(e),Zp(s)):s.Va.set("Unknown")}async function o2(s,e,n){if(s.Va.set("Online"),e instanceof MS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(r){ge(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(s,r)}else if(e instanceof wh?s.da.Xe(e):e instanceof OS?s.da.st(e):s.da.tt(e),!n.isEqual(Ie.min()))try{const r=await GS(s.localStore);n.compareTo(r)>=0&&await(function(u,h){const p=u.da.Tt(h);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,v)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(dn.EMPTY_BYTE_STRING,T.snapshotVersion)),QS(u,g);const S=new mr(T.target,g,v,T.sequenceNumber);Jp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ge(ya,"Failed to raise snapshot:",r),await Hh(s,r)}}async function Hh(s,e,n){if(!Bo(e))throw e;s.Ea.add(1),await Du(s),s.Va.set("Offline"),n||(n=()=>GS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(ya,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await hd(s)}))}function WS(s,e){return e().catch((n=>Hh(s,n,e)))}async function dd(s){const e=xe(s),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;l2(e);)try{const o=await qx(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,u2(e,o)}catch(o){await Hh(e,o)}JS(e)&&ZS(e)}function l2(s){return Ta(s)&&s.Ta.length<10}function u2(s,e){s.Ta.push(e);const n=Cr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function JS(s){return Ta(s)&&!Cr(s).x_()&&s.Ta.length>0}function ZS(s){Cr(s).start()}async function c2(s){Cr(s).ra()}async function h2(s){const e=Cr(s);for(const n of s.Ta)e.ea(n.mutations)}async function d2(s,e,n){const r=s.Ta.shift(),o=Fp.from(r,e,n);await WS(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await dd(s)}async function f2(s,e){e&&Cr(s).Y_&&await(async function(r,o){if((function(h){return YD(h)&&h!==re.ABORTED})(o.code)){const u=r.Ta.shift();Cr(r).B_(),await WS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await dd(r)}})(s,e),JS(s)&&ZS(s)}async function uT(s,e){const n=xe(s);n.asyncQueue.verifyOperationInProgress(),ge(ya,"RemoteStore received new credentials");const r=Ta(n);n.Ea.add(3),await Du(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hd(n)}async function m2(s,e){const n=xe(s);e?(n.Ea.delete(2),await hd(n)):e||(n.Ea.add(2),await Du(n),n.Va.set("Unknown"))}function Ho(s){return s.ma||(s.ma=(function(n,r,o){const u=xe(n);return u.sa(),new Wx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:s2.bind(null,s),Yo:r2.bind(null,s),t_:a2.bind(null,s),J_:o2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),eg(s)?Zp(s):s.Va.set("Unknown")):(await s.ma.stop(),XS(s))}))),s.ma}function Cr(s){return s.fa||(s.fa=(function(n,r,o){const u=xe(n);return u.sa(),new Jx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:c2.bind(null,s),t_:f2.bind(null,s),ta:h2.bind(null,s),na:d2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await dd(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(ya,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,p=new tg(e,n,h,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,e){if(Rs("AsyncQueue",`${e}: ${s}`),Bo(s))return new me(re.UNAVAILABLE,`${e}: ${s}`);throw s}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cT{constructor(){this.ga=new bt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Oo{constructor(e,n,r,o,u,h,p,g,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Oo(e,n,bo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class p2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class g2{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=xe(n),u=o.queries;o.queries=hT(),u.forEach(((h,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new me(re.ABORTED,"Firestore shutting down"))}}function hT(){return new Ea((s=>_S(s)),rd)}async function y2(s,e){const n=xe(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new p2,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=ng(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ig(n)}async function v2(s,e){const n=xe(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _2(s,e){const n=xe(s);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.ba)p.Fa(o)&&(r=!0);h.wa=o}}r&&ig(n)}function E2(s,e,n){const r=xe(s),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function ig(s){s.Ca.forEach((e=>{e.next()}))}var rp,dT;(dT=rp||(rp={})).Ma="default",dT.Cache="cache";class T2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rp.Cache}}class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class S2{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=ES(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const w=o.get(T),P=ad(this.query,S)?S:null,L=!!w&&this.mutatedKeys.has(w.key),k=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let z=!1;w&&P?w.data.isEqual(P.data)?L!==k&&(r.track({type:3,doc:P}),z=!0):this.su(w,P)||(r.track({type:2,doc:P}),z=!0,(g&&this.eu(P,g)>0||v&&this.eu(P,v)<0)&&(p=!0)):!w&&P?(r.track({type:0,doc:P}),z=!0):w&&!P&&(r.track({type:1,doc:w}),z=!0,(g||v)&&(p=!0)),z&&(P?(h=h.add(P),u=k?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:h,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,S)=>(function(P,L){const k=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:z})}};return k(P)-k(L)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Xa;return this.Xa=g,h.length!==0||v?{snapshot:new Oo(this.query,e.tu,u,h,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new tb(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new eb(r))})),n}cu(e){this.Za=e.ks,this.Ya=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class b2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w2{constructor(e){this.key=e,this.hu=!1}}class A2{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((p=>_S(p)),rd),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(Se.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=xo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(s,e,n=!0){const r=ob(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nb(r,e,n,!0),o}async function C2(s,e){const n=ob(s);await nb(n,e,!0,!1)}async function nb(s,e,n,r){const o=await Hx(s.localStore,Qi(e)),u=o.targetId,h=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await N2(s,e,u,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&KS(s.remoteStore,o),p}async function N2(s,e,n,r,o){s.pu=(S,w,P)=>(async function(k,z,Z,G){let oe=z.view.ru(Z);oe.Ss&&(oe=await sT(k.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,oe))));const pe=G&&G.targetChanges.get(z.targetId),$=G&&G.targetMismatches.get(z.targetId)!=null,ee=z.view.applyChanges(oe,k.isPrimaryClient,pe,$);return mT(k,z.targetId,ee.au),ee.snapshot})(s,S,w,P);const u=await sT(s.localStore,e,!0),h=new S2(e,u.ks),p=h.ru(u.documents),g=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),v=h.applyChanges(p,s.isPrimaryClient,g);mT(s,n,v.au);const T=new b2(e,n,h);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),v.snapshot}async function I2(s,e,n){const r=xe(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!rd(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Wp(r.remoteStore,o.targetId),ap(r,o.targetId)})).catch(zo)):(ap(r,o.targetId),await ip(r.localStore,o.targetId,!0))}async function D2(s,e){const n=xe(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wp(n.remoteStore,r.targetId))}async function x2(s,e,n){const r=P2(s);try{const o=await(function(h,p){const g=xe(h),v=Le.now(),T=p.reduce(((P,L)=>P.add(L.key)),$e());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let L=Cs(),k=$e();return g.xs.getEntries(P,T).next((z=>{L=z,L.forEach(((Z,G)=>{G.isValidDocument()||(k=k.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,L))).next((z=>{S=z;const Z=[];for(const G of p){const oe=qD(G,S.get(G.key).overlayedDocument);oe!=null&&Z.push(new Mr(G.key,oe,cS(oe.value.mapValue),Ei.exists(!0)))}return g.mutationQueue.addMutationBatch(P,v,Z,p)})).next((z=>{w=z;const Z=z.applyToLocalDocumentSet(S,k);return g.documentOverlayCache.saveOverlays(P,z.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:SS(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let v=h.du[h.currentUser.toKey()];v||(v=new bt(Ge)),v=v.insert(p,g),h.du[h.currentUser.toKey()]=v})(r,o.batchId,n),await xu(r,o.changes),await dd(r.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function ib(s,e){const n=xe(s);try{const r=await zx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?rt(h.hu,14607):o.removedDocuments.size>0&&(rt(h.hu,42227),h.hu=!1))})),await xu(n,r,e)}catch(r){await zo(r)}}function fT(s,e,n){const r=xe(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=xe(h);g.onlineState=p;let v=!1;g.queries.forEach(((T,S)=>{for(const w of S.ba)w.va(p)&&(v=!0)})),v&&ig(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O2(s,e,n){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new bt(Se.comparator);h=h.insert(u,yn.newNoDocument(u,Ie.min()));const p=$e().add(u),g=new ud(Ie.min(),new Map,new bt(Ge),h,p);await ib(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),rg(r)}else await ip(r.localStore,e,!1).then((()=>ap(r,e,n))).catch(zo)}async function M2(s,e){const n=xe(s),r=e.batch.batchId;try{const o=await Ux(n.localStore,e);rb(n,r,null),sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,o)}catch(o){await zo(o)}}async function k2(s,e,n){const r=xe(s);try{const o=await(function(h,p){const g=xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(rt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>g.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);rb(r,e,n),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,o)}catch(o){await zo(o)}}function sb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rb(s,e,n){const r=xe(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function ap(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||ab(s,r)}))}function ab(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Wp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),rg(s))}function mT(s,e,n){for(const r of n)r instanceof eb?(s.Vu.addReference(r.key,e),V2(s,r)):r instanceof tb?(ge(sg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||ab(s,r.key)):Ce(19791,{wu:r})}function V2(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ge(sg,"New document in limbo: "+n),s.Eu.add(r),rg(s))}function rg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Se(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new w2(n)),s.Ru=s.Ru.insert(n,r),KS(s.remoteStore,new mr(Qi(yS(n.path)),r,"TargetPurposeLimboResolution",nd.ce))}}async function xu(s,e,n){const r=xe(s),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const T=v?!v.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Qp.Es(g.targetId,v);u.push(T)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(g,v){const T=xe(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ae.forEach(v,(w=>ae.forEach(w.Ts,(P=>T.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>ae.forEach(w.Is,(P=>T.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!Bo(S))throw S;ge(Xp,"Failed to update sequence numbers: "+S)}for(const S of v){const w=S.targetId;if(!S.fromCache){const P=T.vs.get(w),L=P.snapshotVersion,k=P.withLastLimboFreeSnapshotVersion(L);T.vs=T.vs.insert(w,k)}}})(r.localStore,u))}async function j2(s,e){const n=xe(s);if(!n.currentUser.isEqual(e)){ge(sg,"User change. New user:",e.toKey());const r=await FS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new me(re.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.Ns)}}function L2(s,e){const n=xe(s),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let o=$e();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function ob(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O2.bind(null,e),e.Pu.J_=_2.bind(null,e.eventManager),e.Pu.yu=E2.bind(null,e.eventManager),e}function P2(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k2.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Px(this.persistence,new Vx,e.initialUser,this.serializer)}Cu(e){return new HS(Kp.Vi,this.serializer)}Du(e){return new Gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class U2 extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ex(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new HS((r=>qh.Vi(r,n)),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=Xx(e.databaseInfo);return t2(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,p){return new i2(r,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return oT.v()?new oT:new $x})())}createSyncEngine(e,n){return(function(o,u,h,p,g,v,T){const S=new A2(o,u,h,p,g,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=xe(n);ge(ya,"RemoteStore shutting down."),r.Ea.add(5),await Du(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}op.provider={build:()=>new op};class z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Nr="FirestoreClient";class B2{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ge(Nr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ge(Nr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Nr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await FS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await q2(s);ge(Nr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>uT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>uT(e.remoteStore,o))),s._onlineComponents=e}async function q2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Nr,"Using user provided OfflineComponentProvider");try{await Mm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Mm(s,new Fh)}}else ge(Nr,"Using default OfflineComponentProvider"),await Mm(s,new U2(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Nr,"Using user provided OnlineComponentProvider"),await pT(s,s._uninitializedComponentsProvider._online)):(ge(Nr,"Using default OnlineComponentProvider"),await pT(s,new op))),s._onlineComponents}function H2(s){return lb(s).then((e=>e.syncEngine))}async function F2(s){const e=await lb(s),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=I2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D2.bind(null,e.syncEngine),n}function G2(s,e,n={}){const r=new _r;return s.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,v){const T=new z2({next:w=>{T.Nu(),h.enqueueAndForget((()=>v2(u,S))),w.fromCache&&g.source==="server"?v.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:w=>v.reject(w)}),S=new T2(p,T,{includeMetadataChanges:!0,Ka:!0});return y2(u,S)})(await F2(s),s.asyncQueue,e,n,r))),r.promise}function $2(s,e){const n=new _r;return s.asyncQueue.enqueueAndForget((async()=>x2(await H2(s),e,n))),n.promise}function ub(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Y2="ComponentProvider",gT=new Map;function K2(s,e,n,r,o){return new cD(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ub(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const cb="firestore.googleapis.com",yT=!0;class vT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=yT}else this.host=e.host,this.ssl=e.ssl??yT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vx)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HI;switch(r.type){case"firstParty":return new YI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gT.get(n);r&&(ge(Y2,"Removing Datastore"),gT.delete(n),r.terminate())})(this),Promise.resolve()}}function Q2(s,e,n,r={}){s=ga(s,fd);const o=jo(e),u=s._getSettings(),h={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;o&&(n0(`https://${p}`),i0("Firestore",!0)),u.host!==cb&&u.host!==p&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:r};if(!ha(g,h)&&(s._setSettings(g),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=gn.MOCK_USER;else{v=nR(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new gn(S)}s._authCredentials=new FI(new J0(v,T))}}class Sa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cu(n,Yt._jsonSchema))return new Yt(e,r||null,new Se(pt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Ft("string",Yt._jsonSchemaVersion),referencePath:Ft("string")};class Er extends Sa{constructor(e,n,r){super(e,n,yS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Se(e))}withConverter(e){return new Er(this.firestore,e,this._path)}}function Tt(s,e,...n){if(s=Qt(s),Z0("collection","path",e),s instanceof fd){const r=pt.fromString(e,...n);return xE(r),new Er(s,null,r)}{if(!(s instanceof Yt||s instanceof Er))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return xE(r),new Er(s.firestore,null,r)}}function hn(s,e,...n){if(s=Qt(s),arguments.length===1&&(e=jp.newId()),Z0("doc","path",e),s instanceof fd){const r=pt.fromString(e,...n);return DE(r),new Yt(s,null,new Se(r))}{if(!(s instanceof Yt||s instanceof Er))throw new me(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...n));return DE(r),new Yt(s.firestore,s instanceof Er?s.converter:null,new Se(r))}}const _T="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $S(this,"async_queue_retry"),this._c=()=>{const r=Om();r&&ge(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ge(_T,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ou extends fd{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function X2(s,e){const n=typeof s=="object"?s:a0(),r=typeof s=="string"?s:jh,o=wp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=eR("firestore");u&&Q2(o,...u)}return o}function hb(s){if(s._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||W2(s),s._firestoreClient}function W2(s){const e=s._freezeSettings(),n=K2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new B2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(dn.fromBase64String(e))}catch(n){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Ft("string",si._jsonSchemaVersion),bytes:Ft("string")};class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Ft("string",Wi._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ti(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Ft("string",Ti._jsonSchemaVersion),vectorValues:Ft("object")};const J2=/^__.*__$/;class Z2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class db{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{dataSource:s})}}class lg{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fb(this.dataSource)&&J2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}createContext(e,n,r,o=!1){return new lg({dataSource:e,methodName:n,targetDoc:r,path:cn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(s){const e=s._freezeSettings(),n=cd(s._databaseId);return new eO(s._databaseId,!!e.ignoreUndefinedProperties,n)}function tO(s,e,n,r,o,u={}){const h=s.createContext(u.merge||u.mergeFields?2:0,e,n,o);cg("Data must be an object, but it was:",h,r);const p=mb(r,h);let g,v;if(u.merge)g=new qn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const w=va(e,S,n);if(!h.contains(w))throw new me(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yb(T,w)||T.push(w)}g=new qn(T),v=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=h.fieldTransforms;return new Z2(new Dn(p),g,v)}class md extends og{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function nO(s,e,n,r){const o=s.createContext(1,e,n);cg("Data must be an object, but it was:",o,r);const u=[],h=Dn.empty();Or(r,((g,v)=>{const T=gb(e,g,n);v=Qt(v);const S=o.childContextForFieldPath(T);if(v instanceof md)u.push(T);else{const w=Mu(v,S);w!=null&&(u.push(T),h.set(T,w))}}));const p=new qn(u);return new db(h,p,o.fieldTransforms)}function iO(s,e,n,r,o,u){const h=s.createContext(1,e,n),p=[va(e,r,n)],g=[o];if(u.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(va(e,u[w])),g.push(u[w+1]);const v=[],T=Dn.empty();for(let w=p.length-1;w>=0;--w)if(!yb(v,p[w])){const P=p[w];let L=g[w];L=Qt(L);const k=h.childContextForFieldPath(P);if(L instanceof md)v.push(P);else{const z=Mu(L,k);z!=null&&(v.push(P),T.set(P,z))}}const S=new qn(v);return new db(T,S,h.fieldTransforms)}function sO(s,e,n,r=!1){return Mu(n,s.createContext(r?4:3,e))}function Mu(s,e){if(pb(s=Qt(s)))return cg("Unsupported field value:",e,s),mb(s,e);if(s instanceof og)return(function(r,o){if(!fb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const p of r){let g=Mu(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Le.fromDate(r);return{timestampValue:Bh(o.serializer,u)}}if(r instanceof Le){const u=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(r instanceof Wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:kS(o.serializer,r._byteString)};if(r instanceof Yt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ti)return(function(h,p){const g=h instanceof Ti?h.toArray():h;return{mapValue:{fields:{[lS]:{stringValue:uS},[Lh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return qp(p.serializer,T)}))}}}}}})(r,o);if(BS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${td(r)}`)})(s,e)}function mb(s,e){const n={};return nS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,((r,o)=>{const u=Mu(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Le||s instanceof Wi||s instanceof si||s instanceof Yt||s instanceof og||s instanceof Ti||BS(s))}function cg(s,e,n){if(!pb(n)||!eS(n)){const r=td(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function va(s,e,n){if((e=Qt(e))instanceof ag)return e._internalPath;if(typeof e=="string")return gb(s,e);throw Gh("Field path arguments must be of type string or ",s,!1,void 0,n)}const rO=new RegExp("[~\\*/\\[\\]]");function gb(s,e,n){if(e.search(rO)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Gh(s,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new me(re.INVALID_ARGUMENT,p+s+g)}function yb(s,e){return s.some((n=>n.isEqual(e)))}class aO{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Or(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new Ti(n)}convertGeoPoint(e){return new Wi(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=wr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);rt(zS(r),9688,{name:e});const o=new du(r.get(1),r.get(3)),u=new Se(r.popFirst(5));return o.isEqual(n)||Rs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class oO extends aO{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}const ST="@firebase/firestore",bT="4.10.0";class vb{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(va("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lO extends vb{data(){return super.data()}}function uO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class _b extends hg{}function yu(s,e,...n){let r=[];e instanceof hg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((g=>g instanceof dg)).length,p=u.filter((g=>g instanceof pd)).length;if(h>1||h>0&&p>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class pd extends _b{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pd(e,n,r)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new Sa(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(u,h,p,g,v,T,S){let w;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){AT(S,T);const L=[];for(const k of S)L.push(wT(g,u,k));w={arrayValue:{values:L}}}else w=wT(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||AT(S,T),w=sO(p,h,S,T==="in"||T==="not-in");return Ht.create(v,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $h(s,e,n){const r=e,o=va("where",s);return pd._create(o,r,n)}class dg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)Eb(h,g),h=Wm(h,g)})(e._query,n),new Sa(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fg extends _b{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(u,h)})(e._query,this._field,this._direction);return new Sa(e.firestore,e.converter,ND(e._query,n))}}function cO(s,e="asc"){const n=e,r=va("orderBy",s);return fg._create(r,n)}function wT(s,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!Se.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UE(s,new Se(r))}if(n instanceof Yt)return UE(s,n._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function AT(s,e){if(!Array.isArray(s)||s.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(s,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function hO(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends vb{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(va("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:Ft("string",wo._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Ah extends wo{data(e={}){return super.data(e)}}class Ao{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new dh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new dh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new dh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return p.type!==0&&(v=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),T=h.indexOf(p.doc.key)),{type:dO(p.type),doc:g,oldIndex:v,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:s})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Ft("string",Ao._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function tn(s){s=ga(s,Sa);const e=ga(s.firestore,Ou),n=hb(e),r=new oO(e);return uO(s._query),G2(n,s._query).then((o=>new Ao(e,r,s,o)))}function Tr(s,e,n,...r){s=ga(s,Yt);const o=ga(s.firestore,Ou),u=ug(o);let h;return h=typeof(e=Qt(e))=="string"||e instanceof ag?iO(u,"updateDoc",s._key,e,n,r):nO(u,"updateDoc",s._key,e),mg(o,[h.toMutation(s._key,Ei.exists(!0))])}function Sr(s){return mg(ga(s.firestore,Ou),[new Hp(s._key,Ei.none())])}function vo(s,e){const n=ga(s.firestore,Ou),r=hn(s),o=hO(s.converter,e),u=ug(s.firestore);return mg(n,[tO(u,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then((()=>r))}function mg(s,e){const n=hb(s);return $2(n,e)}(function(e,n=!0){qI(Lo),Ro(new da("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),p=new Ou(new GI(r.getProvider("auth-internal")),new KI(h,r.getProvider("app-check-internal")),hD(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),yr(ST,bT,e),yr(ST,bT,"esm2020")})();var fO="firebase",mO="12.8.0";yr(fO,mO,"app");const Tb={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},Sb=Ap(Tb),fh=F0(Sb),Ue=X2(Sb),pO=Ap(Tb,"secondary"),RT=F0(pO),gO="EYdciKDOi3UYBLk1u8hHams5tmO2",bb=V.createContext();function Fo(){return V.useContext(bb)}function yO({children:s}){const[e,n]=V.useState(null),[r,o]=V.useState(!1),[u,h]=V.useState(!1),[p,g]=V.useState(null),[v,T]=V.useState(!0);V.useEffect(()=>xN(fh,async k=>{if(n(k),k)if(k.uid===gO)o(!0),h(!1),g(null);else{o(!1);try{const z=yu(Tt(Ue,"clients"),$h("uid","==",k.uid)),Z=await tn(z);if(Z.empty)h(!1),g(null);else{const G=Z.docs[0];h(!0),g({id:G.id,...G.data()})}}catch(z){console.error("Error fetching client data:",z),h(!1),g(null)}}else o(!1),h(!1),g(null);T(!1)}),[]);const P={currentUser:e,isAdmin:r,isClient:u,clientData:p,login:async(L,k,z=!0)=>(await NN(fh,z?j0:Op),await CN(fh,L,k)),logout:()=>M0(fh),loading:v};return m.jsx(bb.Provider,{value:P,children:s})}function vO(){const[s,e]=V.useState(""),[n,r]=V.useState(""),[o,u]=V.useState(!0),[h,p]=V.useState(""),[g,v]=V.useState(!1),{login:T,currentUser:S,isAdmin:w,isClient:P,loading:L}=Fo(),k=Ns();if(V.useEffect(()=>{!L&&S&&(w?k("/dashboard"):P&&k("/client"))},[L,S,w,P,k]),L)return m.jsx("div",{className:"login-container",children:m.jsx("div",{className:"login-loading",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"loading-logo"})})});const z=async Z=>{Z.preventDefault(),p(""),v(!0);try{await T(s,n,o)}catch(G){p(G.message||"Failed to log in"),v(!1)}};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"login-logo"}),m.jsx("p",{children:"Client Portal"})]}),h&&m.jsx("div",{className:"error-message",children:h}),m.jsxs("form",{onSubmit:z,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:s,onChange:Z=>e(Z.target.value),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Password"}),m.jsx("input",{type:"password",id:"password",value:n,onChange:Z=>r(Z.target.value),required:!0})]}),m.jsx("div",{className:"remember-me",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",checked:o,onChange:Z=>u(Z.target.checked)}),m.jsx("span",{children:"Remember me"})]})}),m.jsx("button",{type:"submit",className:"login-btn",disabled:g,children:g?"Logging in...":"Log In"})]}),m.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function _O(){const[s,e]=V.useState([]),[n,r]=V.useState([]),[o,u]=V.useState(!0),[h,p]=V.useState(null),[g,v]=V.useState({});V.useEffect(()=>{T()},[]);const T=async()=>{try{const[$,ee]=await Promise.all([tn(yu(Tt(Ue,"clients"),cO("createdAt","desc"))),tn(Tt(Ue,"sessions"))]),N=$.docs.map(R=>({id:R.id,...R.data()})),C=ee.docs.map(R=>({id:R.id,...R.data()}));e(N),r(C)}catch($){console.error("Error fetching data:",$)}u(!1)},S=$=>{const ee=new Date,N=ee.getFullYear(),C=(ee.getMonth()+1).toString().padStart(2,"0"),R=ee.getDate().toString().padStart(2,"0"),D=`${N}-${C}-${R}`,x=`${ee.getHours().toString().padStart(2,"0")}:${ee.getMinutes().toString().padStart(2,"0")}`;return n.filter(M=>M.clientId!==$?!1:M.date<D||M.date===D&&M.time<x).length},w=$=>{const ee=S($.id);return($.totalSessions||0)-ee},P=$=>{const ee=new Date,N=ee.getFullYear(),C=(ee.getMonth()+1).toString().padStart(2,"0"),R=ee.getDate().toString().padStart(2,"0"),D=`${N}-${C}-${R}`,x=`${ee.getHours().toString().padStart(2,"0")}:${ee.getMinutes().toString().padStart(2,"0")}`;return n.filter(M=>M.clientId!==$?!1:M.date>D||M.date===D&&M.time>=x).length},L=$=>$?($.toDate?$.toDate():new Date($)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",k=async($,ee)=>{if(window.confirm(`Are you sure you want to delete ${ee}? This will also delete all their booked sessions.`))try{const C=n.filter(R=>R.clientId===$).map(R=>Sr(hn(Ue,"sessions",R.id)));await Promise.all(C),await Sr(hn(Ue,"clients",$)),e(s.filter(R=>R.id!==$)),r(n.filter(R=>R.clientId!==$))}catch(N){console.error("Error deleting client:",N),alert("Failed to delete client")}},z=$=>{if(!$)return"";const ee=$.toDate?$.toDate():new Date($),N=ee.getFullYear(),C=(ee.getMonth()+1).toString().padStart(2,"0"),R=ee.getDate().toString().padStart(2,"0");return`${N}-${C}-${R}`},Z=$=>{p($.id),v({name:$.name,email:$.email,password:"",weeksInBlock:$.weeksInBlock,totalSessions:$.totalSessions,sessionsRemaining:$.sessionsRemaining,sessionDuration:$.sessionDuration||45,startDate:z($.startDate),endDate:z($.endDate),status:$.status,hasPortalAccess:!!$.uid})},G=$=>{const{name:ee,value:N}=$.target;if(v(C=>({...C,[ee]:N})),ee==="startDate"||ee==="weeksInBlock"){const C=ee==="startDate"?N:g.startDate,R=parseInt(ee==="weeksInBlock"?N:g.weeksInBlock);if(C&&R>0){const D=new Date(C),x=new Date(D);x.setDate(x.getDate()+R*7);const M=x.getFullYear(),I=(x.getMonth()+1).toString().padStart(2,"0"),ye=x.getDate().toString().padStart(2,"0");v(Pe=>({...Pe,[ee]:N,endDate:`${M}-${I}-${ye}`}))}}},oe=async $=>{try{const ee=s.find(R=>R.id===$);let N=ee?.uid;if(g.password&&g.password.length>=6&&!ee?.uid)try{const R=await RN(RT,g.email.trim().toLowerCase(),g.password);await M0(RT),N=R.user.uid}catch(R){if(console.error("Error creating auth account:",R),R.code==="auth/email-already-in-use")alert("This email already has a portal account. Password not changed.");else if(R.code==="auth/weak-password"){alert("Password must be at least 6 characters.");return}else{alert("Failed to create portal account: "+R.message);return}}const C={name:g.name.trim(),email:g.email.trim().toLowerCase(),weeksInBlock:parseInt(g.weeksInBlock),totalSessions:parseInt(g.totalSessions),sessionDuration:parseInt(g.sessionDuration),startDate:Le.fromDate(new Date(g.startDate)),endDate:Le.fromDate(new Date(g.endDate)),status:g.status};N&&!ee?.uid&&(C.uid=N),await Tr(hn(Ue,"clients",$),C),e(s.map(R=>R.id===$?{...R,...g,uid:N||R.uid,weeksInBlock:parseInt(g.weeksInBlock),totalSessions:parseInt(g.totalSessions),sessionDuration:parseInt(g.sessionDuration),startDate:Le.fromDate(new Date(g.startDate)),endDate:Le.fromDate(new Date(g.endDate))}:R)),p(null),N&&!ee?.uid&&alert("Portal access created! Client can now log in.")}catch(ee){console.error("Error updating client:",ee),alert("Failed to update client")}},pe=async $=>{try{const ee=s.find(N=>N.id===$)?.status==="archived"?"active":"archived";await Tr(hn(Ue,"clients",$),{status:ee}),e(s.map(N=>N.id===$?{...N,status:ee}:N))}catch(ee){console.error("Error archiving client:",ee),alert("Failed to update client status")}};return o?m.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):s.length===0?m.jsxs("div",{className:"client-list-empty",children:[m.jsx("p",{children:"No clients yet"}),m.jsx("span",{children:"Add your first client to get started"})]}):m.jsx("div",{className:"client-list",children:s.map($=>m.jsx("div",{className:`client-card ${$.status==="archived"?"archived":""}`,children:h===$.id?m.jsxs("div",{className:"edit-form",children:[m.jsxs("div",{className:"edit-row",children:[m.jsx("input",{type:"text",name:"name",value:g.name,onChange:G,placeholder:"Name"}),m.jsx("input",{type:"email",name:"email",value:g.email,onChange:G,placeholder:"Email"})]}),m.jsxs("div",{className:"edit-row",children:[m.jsx("input",{type:"number",name:"weeksInBlock",value:g.weeksInBlock,onChange:G,placeholder:"Weeks",min:"1"}),m.jsx("input",{type:"number",name:"totalSessions",value:g.totalSessions,onChange:G,placeholder:"Total Sessions",min:"1"}),m.jsxs("select",{name:"sessionDuration",value:g.sessionDuration,onChange:G,children:[m.jsx("option",{value:"30",children:"30 min"}),m.jsx("option",{value:"45",children:"45 min"})]})]}),m.jsxs("div",{className:"edit-row",children:[m.jsx("input",{type:"date",name:"startDate",value:g.startDate,onChange:G}),m.jsx("input",{type:"date",name:"endDate",value:g.endDate,onChange:G})]}),m.jsx("div",{className:"edit-row password-row",children:g.hasPortalAccess?m.jsx("div",{className:"portal-status has-access",children:" Has portal access"}):m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"text",name:"password",value:g.password,onChange:G,placeholder:"Set portal password (min 6 chars)"}),m.jsx("span",{className:"password-hint",children:"Set password to enable client portal"})]})}),m.jsxs("div",{className:"edit-actions",children:[m.jsx("button",{className:"save-edit-btn",onClick:()=>oe($.id),children:"Save"}),m.jsx("button",{className:"cancel-edit-btn",onClick:()=>p(null),children:"Cancel"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"client-header",children:[m.jsxs("div",{className:"client-info",children:[m.jsx("h3",{children:$.name}),m.jsx("span",{className:"client-email",children:$.email})]}),m.jsx("div",{className:"client-status",children:m.jsx("span",{className:`status-badge ${$.status}`,children:$.status})})]}),m.jsxs("div",{className:"client-details",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Block"}),m.jsxs("span",{className:"detail-value",children:[$.weeksInBlock," weeks"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Sessions"}),m.jsxs("span",{className:"detail-value",children:[w($)," / ",$.totalSessions," remaining"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Booked"}),m.jsxs("span",{className:"detail-value",children:[P($.id)," sessions"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Duration"}),m.jsxs("span",{className:"detail-value",children:[$.sessionDuration||45," min"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"Start"}),m.jsx("span",{className:"detail-value",children:L($.startDate)})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("span",{className:"detail-label",children:"End"}),m.jsx("span",{className:"detail-value",children:L($.endDate)})]})]}),m.jsxs("div",{className:"client-actions",children:[m.jsx("button",{className:"action-btn edit",onClick:()=>Z($),children:"Edit"}),m.jsx("button",{className:"action-btn archive",onClick:()=>pe($.id),children:$.status==="archived"?"Reactivate":"Archive"}),m.jsx("button",{className:"action-btn delete",onClick:()=>k($.id,$.name),children:"Delete"})]})]})},$.id))})}const wb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},lp=["monday","tuesday","wednesday","thursday","friday"],EO=["Monday","Tuesday","Wednesday","Thursday","Friday"],TO=["Mon","Tue","Wed","Thu","Fri"],CT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},SO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),lp.map((o,u)=>{const h=new Date(e);return h.setDate(e.getDate()+u),h})},Bn=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},up=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},Yh=(s,e)=>{const n=up(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},bO=s=>{const e=wb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=Yh(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=Yh(r,15)}return n};function wO(){const[s,e]=V.useState(new Date),[n,r]=V.useState([]),[o,u]=V.useState([]),[h,p]=V.useState([]),[g,v]=V.useState([]),[T,S]=V.useState([]),[w,P]=V.useState(null),[L,k]=V.useState(null),[z,Z]=V.useState(!1),[G,oe]=V.useState(!0);V.useEffect(()=>{r(SO(s))},[s]),V.useEffect(()=>{C()},[]);const pe=K=>{if(P(K),Z(!1),K.startDate){const J=K.startDate.toDate?K.startDate.toDate():new Date(K.startDate);e(J)}k(null)},$=K=>{const J=new Date,ce=Bn(J),fe=`${J.getHours().toString().padStart(2,"0")}:${J.getMinutes().toString().padStart(2,"0")}`;return h.filter(de=>de.clientId!==K?!1:de.date<ce||de.date===ce&&de.time<fe).length},ee=K=>{const J=$(K.id);return(K.totalSessions||0)-J},N=K=>{const J=new Date,ce=J.getFullYear(),fe=(J.getMonth()+1).toString().padStart(2,"0"),de=J.getDate().toString().padStart(2,"0"),Ae=`${ce}-${fe}-${de}`,Me=`${J.getHours().toString().padStart(2,"0")}:${J.getMinutes().toString().padStart(2,"0")}`;return h.filter(gt=>gt.clientId!==K?!1:gt.date>Ae||gt.date===Ae&&gt.time>=Me).length},C=async()=>{try{const J=(await tn(Tt(Ue,"clients"))).docs.map(be=>({id:be.id,...be.data()})).filter(be=>be.status==="active");u(J);const fe=(await tn(Tt(Ue,"sessions"))).docs.map(be=>({id:be.id,...be.data()}));p(fe);const Ae=(await tn(Tt(Ue,"holidays"))).docs.map(be=>({id:be.id,...be.data()}));v(Ae);const gt=(await tn(Tt(Ue,"blockedTimes"))).docs.map(be=>({id:be.id,...be.data()}));S(gt)}catch(K){console.error("Error fetching data:",K)}oe(!1)},R=K=>{const J=new Date(s);J.setDate(J.getDate()+K*7),e(J),k(null)},D=()=>{e(new Date),k(null)},x=K=>{const J=Bn(K);return g.some(ce=>ce.date===J)},M=(K,J)=>{const ce=Bn(K);return T.some(fe=>fe.date===ce&&fe.time===J)},I=async(K,J)=>{const ce=Bn(K),fe=T.find(de=>de.date===ce&&de.time===J);try{if(fe)await Sr(hn(Ue,"blockedTimes",fe.id)),S(T.filter(de=>de.id!==fe.id));else{const de=await vo(Tt(Ue,"blockedTimes"),{date:ce,time:J,createdAt:Le.now()});S([...T,{id:de.id,date:ce,time:J}])}}catch(de){console.error("Error toggling blocked time:",de),alert("Failed to update time slot")}},ye=K=>{const J=Bn(K);return h.filter(ce=>ce.date===J)},Pe=(K,J)=>{const ce=Bn(K);return h.find(fe=>fe.date===ce&&fe.time===J)},W=(K,J,ce)=>{const fe=lp[K.getDay()-1];if(!fe||x(K))return!1;const de=Math.ceil(ce/15);for(let et=0;et<de;et++){const Xt=Yh(J,et*15);if(M(K,Xt))return!1}const Ae=Bn(K);if(h.find(et=>et.date===Ae&&et.time===J))return!1;const gt=Yh(J,ce),be=wb[fe],Ot=be.morning&&gt<=be.morning.end,Mt=be.afternoon&&gt<=be.afternoon.end,Gt=be.morning&&J>=be.morning.start&&J<be.morning.end,ri=be.afternoon&&J>=be.afternoon.start&&J<be.afternoon.end;if(Gt&&!Ot||ri&&!Mt)return!1;for(const et of h){if(et.date!==Ae)continue;const Xt=up(et.time),xn=Xt+(et.duration||45),st=up(J),Ye=st+ce;if(st<xn&&Ye>Xt)return!1}return!0},ue=async(K,J)=>{const ce=Pe(K,J);if(ce){if(window.confirm(`Cancel ${ce.clientName}'s session at ${CT(J)}?`))try{await Sr(hn(Ue,"sessions",ce.id)),p(h.filter(de=>de.id!==ce.id))}catch(de){console.error("Error cancelling session:",de),alert("Failed to cancel session")}return}if(!w){alert("Please select a client first");return}if(!W(K,J,w.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(h.filter(de=>de.clientId===w.id).length>=w.totalSessions){alert(`${w.name} has already booked all ${w.totalSessions} sessions`);return}try{const de=Bn(K),Ae={clientId:w.id,clientName:w.name,date:de,time:J,duration:w.sessionDuration||45,createdAt:Le.now()},Me=await vo(Tt(Ue,"sessions"),Ae);p([...h,{id:Me.id,...Ae}])}catch(de){console.error("Error booking session:",de),alert("Failed to book session")}},_e=async()=>{if(!w)return;const K=w.startDate?.toDate?w.startDate.toDate():new Date(w.startDate),J=w.endDate?.toDate?w.endDate.toDate():new Date(w.endDate),ce=h.filter(be=>be.clientId!==w.id?!1:n.some(Ot=>Bn(Ot)===be.date));if(ce.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const fe=w.weeksInBlock||Math.ceil((J-K)/(10080*60*1e3)),de=ce.map(be=>({dayOfWeek:new Date(be.date).getDay(),time:be.time}));let Ae=[];const Me=h.filter(be=>be.clientId===w.id).length;for(let be=0;be<fe;be++){const Ot=new Date(K);Ot.setDate(Ot.getDate()+be*7);const Mt=new Date(Ot),Gt=Mt.getDay(),ri=Mt.getDate()-Gt+(Gt===0?-6:1);Mt.setDate(ri);for(const et of de){const Xt=new Date(Mt),xn=et.dayOfWeek===0?6:et.dayOfWeek-1;Xt.setDate(Mt.getDate()+xn);const st=Bn(Xt);h.some(Ye=>Ye.clientId===w.id&&Ye.date===st&&Ye.time===et.time)||Xt<K||Xt>J||g.some(Ye=>Ye.date===st)||Ae.push({dateKey:st,time:et.time,sessionDate:Xt})}}const gt=Me+Ae.length;if(gt>w.totalSessions){alert(`This would create ${Ae.length} new sessions (${gt} total), but client only has ${w.totalSessions} sessions in their package.

You can still book ${w.totalSessions-Me} more sessions.`);return}if(Ae.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${Ae.length} new sessions across the block.

(${Me} existing + ${Ae.length} new = ${gt} total)

Continue?`))try{const be=[];for(const Ot of Ae){const Mt={clientId:w.id,clientName:w.name,date:Ot.dateKey,time:Ot.time,duration:w.sessionDuration||45,createdAt:Le.now()},Gt=await vo(Tt(Ue,"sessions"),Mt);be.push({id:Gt.id,...Mt})}p([...h,...be]),alert(`Created ${be.length} new sessions!`)}catch(be){console.error("Error repeating weekly:",be),alert("Failed to repeat sessions")}},Ne=async K=>{const J=Bn(K),ce=g.find(fe=>fe.date===J);try{if(ce)await Sr(hn(Ue,"holidays",ce.id)),v(g.filter(fe=>fe.id!==ce.id));else{const fe=await vo(Tt(Ue,"holidays"),{date:J,createdAt:Le.now()});v([...g,{id:fe.id,date:J}])}}catch(fe){console.error("Error toggling day availability:",fe),alert("Failed to update day availability")}};if(G)return m.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const Oe=n[0],j=n[4],ne=Oe&&j?`${Oe.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${j.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return m.jsxs("div",{className:"calendar",children:[m.jsxs("div",{className:"calendar-header",children:[m.jsxs("div",{className:"calendar-nav",children:[m.jsx("button",{onClick:()=>R(-1),children:""}),m.jsx("button",{onClick:D,children:"Today"}),m.jsx("button",{onClick:()=>R(1),children:""})]}),m.jsx("h3",{children:ne})]}),m.jsxs("div",{className:"client-selector",children:[m.jsx("span",{className:"selector-label",children:"Booking for:"}),w?m.jsxs("div",{className:"selected-client",children:[m.jsxs("div",{className:"selected-info",children:[m.jsx("strong",{children:w.name}),m.jsxs("span",{children:[w.sessionDuration||45,"min  ",ee(w),"/",w.totalSessions," remaining"]}),m.jsxs("span",{className:"booked-info",children:[N(w.id)," booked"]})]}),m.jsx("button",{onClick:()=>P(null),children:"Change"})]}):m.jsx("button",{className:"select-client-btn",onClick:()=>Z(!0),children:"Select Client"})]}),w&&m.jsxs("div",{className:"repeat-weekly-section",children:[m.jsx("button",{className:"repeat-weekly-btn",onClick:_e,children:"Repeat This Week's Schedule For All Weeks"}),m.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),m.jsx("div",{className:"day-cards",children:n.map((K,J)=>{const ce=ye(K),fe=Bn(K)===Bn(new Date),de=x(K);return m.jsxs("div",{className:`day-card ${L===J?"selected":""} ${fe?"today":""} ${de?"holiday":""}`,onClick:()=>k(L===J?null:J),children:[m.jsxs("div",{className:"day-card-header",children:[m.jsx("span",{className:"day-name",children:TO[J]}),m.jsx("span",{className:"day-date",children:K.getDate()})]}),de?m.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):m.jsxs("div",{className:"day-card-status",children:[ce.length," session",ce.length!==1?"s":""]})]},J)})}),L!==null&&n[L]&&m.jsxs("div",{className:"time-panel",children:[m.jsxs("div",{className:"time-panel-header",children:[m.jsxs("h4",{children:[EO[L]," ",n[L].getDate()]}),m.jsx("button",{className:"close-panel",onClick:()=>k(null),children:""})]}),m.jsx("div",{className:"availability-toggle",children:m.jsx("button",{className:`toggle-availability-btn ${x(n[L])?"unavailable":"available"}`,onClick:()=>Ne(n[L]),children:x(n[L])?"Mark Day Available":"Mark Day Unavailable"})}),x(n[L])?m.jsxs("div",{className:"day-unavailable-message",children:[m.jsx("p",{children:"This day is marked as unavailable"}),m.jsx("span",{children:"Tap the button above to make it available again"})]}):m.jsx("div",{className:"time-slots",children:bO(lp[L]).map(({time:K,period:J},ce,fe)=>{const de=Pe(n[L],K),Ae=M(n[L],K),Me=w&&W(n[L],K,w.sessionDuration||45),gt=ce===0||fe[ce-1]?.period!==J;return m.jsxs("div",{children:[gt&&m.jsx("div",{className:"period-label",children:J==="morning"?"Morning":"Afternoon"}),m.jsxs("div",{className:"time-slot-row",children:[m.jsxs("button",{className:`time-slot ${de?"booked":""} ${Ae?"blocked":""} ${Me?"available":""} ${!de&&!Ae&&!Me&&w?"unavailable":""}`,onClick:()=>!Ae&&ue(n[L],K),disabled:Ae,children:[m.jsx("span",{className:"slot-time",children:CT(K)}),de?m.jsxs("span",{className:"slot-client",children:[de.clientName," (",de.duration,"m)"]}):Ae?m.jsx("span",{className:"slot-blocked",children:"Blocked"}):Me?m.jsx("span",{className:"slot-available",children:"Available"}):w?m.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):m.jsx("span",{className:"slot-empty",children:"Select client to book"})]}),m.jsx("button",{className:`block-toggle-btn ${Ae?"is-blocked":""}`,onClick:()=>I(n[L],K),disabled:!!de,title:Ae?"Unblock this time":"Block this time",children:Ae?"":""})]})]},K)})})]}),z&&m.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:m.jsxs("div",{className:"modal-content",onClick:K=>K.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Select Client"}),m.jsx("button",{className:"close-btn",onClick:()=>Z(!1),children:""})]}),m.jsx("div",{className:"client-list-picker",children:o.length===0?m.jsx("p",{className:"no-items",children:"No active clients"}):o.map(K=>{const J=K.startDate?.toDate?K.startDate.toDate():new Date(K.startDate),ce=K.endDate?.toDate?K.endDate.toDate():new Date(K.endDate),fe=ee(K),de=N(K.id);return m.jsxs("button",{className:"client-option",onClick:()=>pe(K),children:[m.jsx("strong",{children:K.name}),m.jsxs("span",{children:[K.sessionDuration||45,"min  ",fe,"/",K.totalSessions," remaining  ",de," booked"]}),m.jsxs("span",{className:"client-dates",children:[J.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",ce.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},K.id)})})]})})]})}const NT=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},vu=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},Ab=s=>s===vu(new Date),AO=s=>{const e=new Date;return e.setDate(e.getDate()+1),s===vu(e)},IT=s=>Ab(s)?"Today":AO(s)?"Tomorrow":new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),DT=s=>{const e=new Date,n=vu(e),r=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(s.date<n)return!0;if(s.date===n){const o=xT(s.time)+(s.duration||45);return xT(r)>=o}return!1},xT=s=>{const[e,n]=s.split(":").map(Number);return e*60+n};function RO(){const[s,e]=V.useState([]),[n,r]=V.useState(!0),[o,u]=V.useState(new Date);V.useEffect(()=>{h();const L=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(L)},[]);const h=async()=>{try{const k=(await tn(Tt(Ue,"sessions"))).docs.map(G=>({id:G.id,...G.data()})),z=vu(new Date),Z=k.filter(G=>G.date>=z).sort((G,oe)=>G.date!==oe.date?G.date.localeCompare(oe.date):G.time.localeCompare(oe.time));e(Z)}catch(L){console.error("Error fetching sessions:",L)}r(!1)},p=async L=>{if(window.confirm(`Cancel ${L.clientName}'s session at ${NT(L.time)} on ${IT(L.date)}?`))try{await Sr(hn(Ue,"sessions",L.id)),e(s.filter(k=>k.id!==L.id))}catch(k){console.error("Error cancelling session:",k),alert("Failed to cancel session")}};if(n)return m.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const g=s.reduce((L,k)=>{const z=k.date;return L[z]||(L[z]=[]),L[z].push(k),L},{}),v=Object.keys(g).sort(),T=vu(new Date),S=g[T]||[],w=S.filter(L=>DT(L)).length,P=S.length-w;return m.jsxs("div",{className:"schedule",children:[m.jsxs("div",{className:"today-summary",children:[m.jsx("h3",{children:"Today's Sessions"}),m.jsx("div",{className:"today-count",children:S.length===0?m.jsx("span",{className:"no-sessions",children:"No sessions today"}):m.jsxs("div",{className:"today-stats",children:[m.jsxs("span",{className:"completed-count",children:[w," completed"]}),m.jsxs("span",{className:"remaining-count",children:[P," remaining"]})]})})]}),v.length===0?m.jsx("div",{className:"no-upcoming",children:m.jsx("p",{children:"No upcoming sessions booked"})}):m.jsx("div",{className:"sessions-list",children:v.map(L=>m.jsxs("div",{className:`date-group ${Ab(L)?"today":""}`,children:[m.jsxs("div",{className:"date-header",children:[m.jsx("span",{className:"date-label",children:IT(L)}),m.jsxs("span",{className:"date-count",children:[g[L].length," session",g[L].length!==1?"s":""]})]}),m.jsx("div",{className:"date-sessions",children:g[L].map(k=>{const z=DT(k);return m.jsxs("div",{className:`session-card ${z?"completed":""}`,children:[m.jsx("div",{className:"session-time",children:NT(k.time)}),m.jsxs("div",{className:"session-details",children:[m.jsx("strong",{children:k.clientName}),m.jsxs("span",{children:[k.duration,"min session"]})]}),z?m.jsx("div",{className:"completed-badge",children:""}):m.jsx("button",{className:"cancel-session-btn",onClick:()=>p(k),children:"Cancel"})]},k.id)})})]},L))})]})}const Rb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},cp=["monday","tuesday","wednesday","thursday","friday"],CO=["Monday","Tuesday","Wednesday","Thursday","Friday"],NO=s=>{const[e,n]=s.split(":"),r=parseInt(e),o=r>=12?"pm":"am";return`${r>12?r-12:r===0?12:r}:${n}${o}`},Kl=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},IO=s=>{const e=new Date(s),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return e.setDate(r),cp.map((o,u)=>{const h=new Date(e);return h.setDate(e.getDate()+u),h})},hp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},dp=(s,e)=>{const n=hp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},DO=s=>{const e=Rb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=dp(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=dp(r,15)}return n};function xO(){const[s,e]=V.useState(new Date),[n,r]=V.useState([]),[o,u]=V.useState([]),[h,p]=V.useState([]),[g,v]=V.useState(!0),[T,S]=V.useState(45);V.useEffect(()=>{r(IO(s))},[s]),V.useEffect(()=>{w()},[]);const w=async()=>{try{const ee=(await tn(Tt(Ue,"sessions"))).docs.map(R=>({id:R.id,...R.data()}));u(ee);const C=(await tn(Tt(Ue,"holidays"))).docs.map(R=>({id:R.id,...R.data()}));p(C)}catch($){console.error("Error fetching data:",$)}v(!1)},P=$=>{const ee=new Date(s);ee.setDate(ee.getDate()+$*7),e(ee)},L=()=>{e(new Date)},k=$=>{const ee=Kl($);return h.some(N=>N.date===ee)},z=($,ee)=>{const N=cp[$.getDay()-1];if(!N||k($))return!1;const C=Kl($),R=new Date,D=Kl(R);if(C<D)return!1;if(C===D){const ue=`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`;if(ee<ue)return!1}const x=dp(ee,T),M=Rb[N],I=M.morning&&ee>=M.morning.start&&ee<M.morning.end,ye=M.afternoon&&ee>=M.afternoon.start&&ee<M.afternoon.end,Pe=M.morning&&x<=M.morning.end,W=M.afternoon&&x<=M.afternoon.end;if(I&&!Pe||ye&&!W)return!1;for(const ue of o){if(ue.date!==C)continue;const _e=hp(ue.time),Ne=_e+(ue.duration||45),Oe=hp(ee),j=Oe+T;if(Oe<Ne&&j>_e)return!1}return!0},Z=($,ee)=>{const N=cp[ee];return DO(N).filter(R=>z($,R.time))};if(g)return m.jsx("div",{className:"availability-loading",children:"Loading availability..."});const G=n[0],oe=n[4],pe=G&&oe?`${G.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${oe.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return m.jsxs("div",{className:"availability",children:[m.jsxs("div",{className:"availability-header",children:[m.jsxs("div",{className:"availability-nav",children:[m.jsx("button",{onClick:()=>P(-1),children:""}),m.jsx("button",{onClick:L,children:"Today"}),m.jsx("button",{onClick:()=>P(1),children:""})]}),m.jsx("h3",{children:pe}),m.jsxs("div",{className:"duration-selector",children:[m.jsx("label",{children:"Session:"}),m.jsxs("select",{value:T,onChange:$=>S(Number($.target.value)),children:[m.jsx("option",{value:30,children:"30 min"}),m.jsx("option",{value:45,children:"45 min"}),m.jsx("option",{value:60,children:"60 min"})]})]})]}),m.jsx("div",{className:"availability-grid",children:n.map(($,ee)=>{const N=k($),C=N?[]:Z($,ee),R=Kl($)===Kl(new Date),D=$<new Date&&!R;return m.jsxs("div",{className:`day-column ${R?"today":""} ${D?"past":""}`,children:[m.jsxs("div",{className:"day-header",children:[m.jsx("span",{className:"day-name",children:CO[ee]}),m.jsxs("span",{className:"day-date",children:[$.getDate(),"/",$.getMonth()+1]}),N&&m.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),m.jsx("div",{className:"slots-container",children:N?m.jsx("div",{className:"no-slots",children:"Unavailable"}):C.length===0?m.jsx("div",{className:"no-slots",children:"Fully booked"}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"slots-count",children:[C.length," slots"]}),m.jsx("div",{className:"slots-list",children:C.map(x=>m.jsx("div",{className:`slot ${x.period}`,children:NO(x.time)},x.time))})]})})]},ee)})})]})}function OO(){const[s,e]=V.useState("schedule"),[n,r]=V.useState(0),[o,u]=V.useState(!1),[h,p]=V.useState([]),[g,v]=V.useState(null),{currentUser:T,logout:S,isAdmin:w,loading:P}=Fo(),L=Ns(),k=V.useRef(0),z=V.useRef(!1);V.useRef(null),V.useEffect(()=>{!P&&(!T||!w)&&L("/")},[T,w,P,L]),V.useEffect(()=>{T&&w&&Z()},[T,w]);const Z=async()=>{try{const D=yu(Tt(Ue,"rescheduleRequests"),$h("status","==","pending")),M=(await tn(D)).docs.map(I=>({id:I.id,...I.data()}));M.sort((I,ye)=>{const Pe=I.createdAt?.toDate?I.createdAt.toDate():new Date(0);return(ye.createdAt?.toDate?ye.createdAt.toDate():new Date(0))-Pe}),p(M)}catch(D){console.error("Error fetching reschedule requests:",D)}};V.useEffect(()=>{(async()=>{if(!(!T||!w))try{const[x,M]=await Promise.all([tn(Tt(Ue,"clients")),tn(Tt(Ue,"sessions"))]),I=new Set(x.docs.map(Pe=>Pe.id)),ye=M.docs.filter(Pe=>!I.has(Pe.data().clientId));if(ye.length>0){console.log(`Cleaning up ${ye.length} orphaned sessions...`);const Pe=ye.map(W=>Sr(hn(Ue,"sessions",W.id)));await Promise.all(Pe),console.log("Orphaned sessions cleaned up successfully")}}catch(x){console.error("Error cleaning up orphaned sessions:",x)}})()},[T,w]),V.useEffect(()=>{const D=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=ye=>{D()<=0&&(k.current=ye.touches[0].clientY,z.current=!0)},M=ye=>{if(!z.current)return;const W=ye.touches[0].clientY-k.current;W>0&&D()<=0&&r(Math.min(W*.5,80))},I=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):r(0),z.current=!1};return document.addEventListener("touchstart",x,{passive:!0}),document.addEventListener("touchmove",M,{passive:!0}),document.addEventListener("touchend",I),()=>{document.removeEventListener("touchstart",x),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",I)}},[n]);const G=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},oe=async()=>{try{await S(),L("/")}catch(D){console.error("Failed to log out:",D)}},pe=()=>{L("/add-client")},$=D=>new Date(D).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),ee=D=>{const[x,M]=D.split(":"),I=parseInt(x),ye=I>=12?"pm":"am";return`${I>12?I-12:I===0?12:I}:${M}${ye}`},N=async D=>{if(window.confirm(`Approve reschedule for ${D.clientName}?

From: ${$(D.originalDate)} at ${ee(D.originalTime)}
To: ${$(D.requestedDate)} at ${ee(D.requestedTime)}`)){v(D.id);try{await Tr(hn(Ue,"sessions",D.sessionId),{date:D.requestedDate,time:D.requestedTime}),await Tr(hn(Ue,"rescheduleRequests",D.id),{status:"approved",respondedAt:Le.now()}),p(h.filter(x=>x.id!==D.id))}catch(x){console.error("Error approving request:",x),alert("Failed to approve request. Please try again.")}v(null)}},C=async D=>{if(window.confirm(`Reject reschedule request from ${D.clientName}?`)){v(D.id);try{await Tr(hn(Ue,"rescheduleRequests",D.id),{status:"rejected",respondedAt:Le.now()}),p(h.filter(x=>x.id!==D.id))}catch(x){console.error("Error rejecting request:",x),alert("Failed to reject request. Please try again.")}v(null)}};if(P)return m.jsx("div",{className:"loading",children:"Loading..."});if(!T||!w)return null;const R=h.length;return m.jsxs("div",{className:"dashboard",children:[n>0&&m.jsxs("div",{className:"pull-indicator",style:{height:n},children:[m.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),m.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),m.jsxs("header",{className:"dashboard-header",children:[m.jsxs("div",{className:"header-left",children:[m.jsx("h1",{children:"Mind Core Fitness"}),m.jsx("span",{className:"admin-badge",children:"Admin"})]}),m.jsxs("nav",{className:"header-nav",children:[m.jsx("button",{className:`nav-btn ${s==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),m.jsx("button",{className:`nav-btn ${s==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),m.jsx("button",{className:`nav-btn ${s==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),m.jsxs("button",{className:`nav-btn ${s==="requests"?"active":""} ${R>0?"has-badge":""}`,onClick:()=>e("requests"),children:["Requests",R>0&&m.jsx("span",{className:"nav-badge",children:R})]}),m.jsx("button",{className:`nav-btn ${s==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),m.jsxs("div",{className:"header-actions",children:[m.jsx("button",{className:"refresh-btn",onClick:G,disabled:o,children:o?"":""}),m.jsx("button",{className:"logout-btn",onClick:oe,children:"Log Out"})]})]}),m.jsxs("main",{className:"dashboard-main",children:[s==="schedule"&&m.jsxs("div",{className:"schedule-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Schedule"})}),m.jsx(RO,{})]}),s==="clients"&&m.jsxs("div",{className:"clients-view",children:[m.jsxs("div",{className:"view-header",children:[m.jsx("h2",{children:"Clients"}),m.jsx("button",{className:"add-btn",onClick:pe,children:"+ Add Client"})]}),m.jsx(_O,{})]}),s==="calendar"&&m.jsxs("div",{className:"calendar-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Calendar"})}),m.jsx(wO,{})]}),s==="requests"&&m.jsxs("div",{className:"requests-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Reschedule Requests"})}),h.length===0?m.jsxs("div",{className:"no-requests",children:[m.jsx("p",{children:"No pending requests"}),m.jsx("span",{children:"When clients request to reschedule, they will appear here"})]}):m.jsx("div",{className:"requests-list",children:h.map(D=>m.jsxs("div",{className:"request-card",children:[m.jsxs("div",{className:"request-header",children:[m.jsx("span",{className:"client-name",children:D.clientName}),m.jsx("span",{className:"request-time",children:D.createdAt?.toDate?D.createdAt.toDate().toLocaleDateString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):""})]}),m.jsx("div",{className:"request-details",children:m.jsxs("div",{className:"request-change",children:[m.jsxs("div",{className:"from-session",children:[m.jsx("span",{className:"label",children:"From:"}),m.jsxs("span",{className:"value",children:[$(D.originalDate)," at ",ee(D.originalTime)]})]}),m.jsx("div",{className:"arrow",children:""}),m.jsxs("div",{className:"to-session",children:[m.jsx("span",{className:"label",children:"To:"}),m.jsxs("span",{className:"value",children:[$(D.requestedDate)," at ",ee(D.requestedTime)]})]})]})}),m.jsxs("div",{className:"request-actions",children:[m.jsx("button",{className:"approve-btn",onClick:()=>N(D),disabled:g===D.id,children:g===D.id?"Processing...":"Approve"}),m.jsx("button",{className:"reject-btn",onClick:()=>C(D),disabled:g===D.id,children:"Reject"})]})]},D.id))})]}),s==="availability"&&m.jsxs("div",{className:"availability-view",children:[m.jsx("div",{className:"view-header",children:m.jsx("h2",{children:"Available Slots"})}),m.jsx(xO,{})]})]})]})}function MO(){const[s,e]=V.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,r]=V.useState(!1),[o,u]=V.useState(""),{currentUser:h,isAdmin:p,loading:g}=Fo(),v=Ns();V.useEffect(()=>{!g&&(!h||!p)&&v("/")},[h,p,g,v]),V.useEffect(()=>{if(s.startDate&&s.weeksInBlock){const P=new Date(s.startDate),L=parseInt(s.weeksInBlock);if(!isNaN(L)&&L>0){const k=new Date(P);k.setDate(k.getDate()+L*7),e(z=>({...z,endDate:k.toISOString().split("T")[0]}))}}},[s.startDate,s.weeksInBlock]);const T=P=>{const{name:L,value:k}=P.target;e(z=>({...z,[L]:k}))},S=async P=>{P.preventDefault(),u(""),r(!0);try{const L={name:s.name.trim(),email:s.email.trim().toLowerCase(),weeksInBlock:parseInt(s.weeksInBlock),totalSessions:parseInt(s.numberOfSessions),sessionsRemaining:parseInt(s.numberOfSessions),sessionDuration:parseInt(s.sessionDuration),startDate:Le.fromDate(new Date(s.startDate)),endDate:Le.fromDate(new Date(s.endDate)),status:"active",createdAt:Le.now()};await vo(Tt(Ue,"clients"),L),v("/dashboard")}catch(L){console.error("Error adding client:",L),u("Failed to add client. Please try again."),r(!1)}},w=()=>{v("/dashboard")};return g?m.jsx("div",{className:"loading",children:"Loading..."}):!h||!p?null:m.jsxs("div",{className:"add-client-page",children:[m.jsxs("header",{className:"page-header",children:[m.jsx("button",{className:"back-btn",onClick:w,children:" Back"}),m.jsx("h1",{children:"Add New Client"})]}),m.jsxs("main",{className:"page-content",children:[o&&m.jsx("div",{className:"form-error",children:o}),m.jsxs("form",{onSubmit:S,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"name",children:"Client Name"}),m.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:T,placeholder:"John Smith",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Client Email"}),m.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:T,placeholder:"john@example.com",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),m.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:s.weeksInBlock,onChange:T,placeholder:"8",min:"1",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),m.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:s.numberOfSessions,onChange:T,placeholder:"16",min:"1",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),m.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:s.sessionDuration,onChange:T,required:!0,children:[m.jsx("option",{value:"30",children:"30 minutes"}),m.jsx("option",{value:"45",children:"45 minutes"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"startDate",children:"Start Date"}),m.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:T,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),m.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:T,required:!0}),m.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{type:"button",className:"cancel-btn",onClick:w,children:"Cancel"}),m.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}const Cb={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},kO=["monday","tuesday","wednesday","thursday","friday"],ur=s=>{const e=s.getFullYear(),n=(s.getMonth()+1).toString().padStart(2,"0"),r=s.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},fp=s=>{const[e,n]=s.split(":").map(Number);return e*60+n},Kh=(s,e)=>{const n=fp(s)+e,r=Math.floor(n/60),o=n%60;return`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},VO=s=>{const e=Cb[s];if(!e)return[];const n=[];if(e.morning){let r=e.morning.start;for(;r<e.morning.end;)n.push({time:r,period:"morning"}),r=Kh(r,15)}if(e.afternoon){let r=e.afternoon.start;for(;r<e.afternoon.end;)n.push({time:r,period:"afternoon"}),r=Kh(r,15)}return n},jO=s=>{const e=s.getDay();return e>=1&&e<=5},Nb=s=>{const e=s.getDay();return e===0||e===6?null:kO[e-1]},LO=(s,e,n,r,o,u=null,h=[])=>{const p=Nb(s);if(!p)return!1;const g=ur(s);if(o.some(G=>G.date===g))return!1;const v=Math.ceil(n/15);for(let G=0;G<v;G++){const oe=Kh(e,G*15);if(h.some(pe=>pe.date===g&&pe.time===oe))return!1}const T=new Date,S=ur(T);if(g<S)return!1;if(g===S){const G=`${T.getHours().toString().padStart(2,"0")}:${T.getMinutes().toString().padStart(2,"0")}`;if(e<G)return!1}const w=Kh(e,n),P=Cb[p],L=P.morning&&e>=P.morning.start&&e<P.morning.end,k=P.afternoon&&e>=P.afternoon.start&&e<P.afternoon.end,z=P.morning&&w<=P.morning.end,Z=P.afternoon&&w<=P.afternoon.end;if(L&&!z||k&&!Z||!L&&!k)return!1;for(const G of r){if(u&&G.id===u||G.date!==g)continue;const oe=fp(G.time),pe=oe+(G.duration||45),$=fp(e),ee=$+n;if($<pe&&ee>oe)return!1}return!0},PO=(s,e,n,r,o=null,u=[])=>{const h=Nb(s);return h?VO(h).filter(g=>LO(s,g.time,e,n,r,o,u)):[]};function UO(){const[s,e]=V.useState([]),[n,r]=V.useState([]),[o,u]=V.useState([]),[h,p]=V.useState([]),[g,v]=V.useState([]),[T,S]=V.useState(!0),[w,P]=V.useState(null),[L,k]=V.useState(!1),[z,Z]=V.useState(null),[G,oe]=V.useState(null),[pe,$]=V.useState(null),[ee,N]=V.useState([]),[C,R]=V.useState(!1),[D,x]=V.useState([]),{currentUser:M,isClient:I,clientData:ye,logout:Pe,loading:W}=Fo(),ue=Ns();V.useEffect(()=>{!W&&(!M||!I)&&ue("/")},[M,I,W,ue]),V.useEffect(()=>{ye&&_e()},[ye]);const _e=async()=>{try{const le=yu(Tt(Ue,"sessions"),$h("clientId","==",ye.id)),tt=(await tn(le)).docs.map(We=>({id:We.id,...We.data()}));tt.sort((We,nn)=>We.date!==nn.date?We.date.localeCompare(nn.date):We.time.localeCompare(nn.time)),e(tt);const at=await tn(Tt(Ue,"sessions"));r(at.docs.map(We=>({id:We.id,...We.data()})));const fn=await tn(Tt(Ue,"holidays"));u(fn.docs.map(We=>({id:We.id,...We.data()})));const oi=await tn(Tt(Ue,"blockedTimes"));p(oi.docs.map(We=>({id:We.id,...We.data()})));const Tn=yu(Tt(Ue,"rescheduleRequests"),$h("clientId","==",ye.id)),kr=(await tn(Tn)).docs.map(We=>({id:We.id,...We.data()}));x(kr.filter(We=>We.status==="pending"));const wa=kr.filter(We=>{if(We.status==="pending"||!We.respondedAt)return!1;const nn=We.respondedAt.toDate?We.respondedAt.toDate():new Date(We.respondedAt),Rt=new Date;return Rt.setDate(Rt.getDate()-7),nn>Rt&&!We.dismissed});v(wa)}catch(le){console.error("Error fetching data:",le)}S(!1)},Ne=le=>new Date(le).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),Oe=le=>{const[Ke,tt]=le.split(":"),at=parseInt(Ke),fn=at>=12?"pm":"am";return`${at>12?at-12:at===0?12:at}:${tt}${fn}`},j=le=>le?(le.toDate?le.toDate():new Date(le)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",ne=le=>{const Ke=new Date,tt=ur(Ke),at=`${Ke.getHours().toString().padStart(2,"0")}:${Ke.getMinutes().toString().padStart(2,"0")}`;return le.date<tt||le.date===tt&&le.time<at},K=()=>s.filter(le=>ne(le)).length,J=()=>s.filter(le=>!ne(le)),ce=async le=>{if(window.confirm(`Cancel your session on ${Ne(le.date)} at ${Oe(le.time)}?

This cannot be undone.`)){P(le.id);try{await Sr(hn(Ue,"sessions",le.id)),e(s.filter(Ke=>Ke.id!==le.id))}catch(Ke){console.error("Error cancelling session:",Ke),alert("Failed to cancel session. Please try again.")}P(null)}},fe=async()=>{try{await Pe(),ue("/")}catch(le){console.error("Failed to log out:",le)}},de=le=>D.some(Ke=>Ke.sessionId===le),Ae=le=>{Z(le),oe(null),$(null),N([]),k(!0)},Me=()=>{k(!1),Z(null),oe(null),$(null),N([])},gt=()=>ye.endDate?ye.endDate.toDate?ye.endDate.toDate():new Date(ye.endDate):new Date,be=()=>{const le=[],Ke=new Date,tt=gt(),at=new Date(Ke);for(at.setDate(at.getDate()+1);at<=tt;){if(jO(at)){const fn=ur(at);o.some(Tn=>Tn.date===fn)||le.push(new Date(at))}at.setDate(at.getDate()+1)}return le},Ot=le=>{oe(le),$(null);const Ke=z?.duration||ye.sessionDuration||45;let tt=PO(le,Ke,n,o,z?.id,h);z&&ur(le)===z.date&&(tt=tt.filter(at=>at.time!==z.time)),N(tt)},Mt=async()=>{if(!(!G||!pe||!z)){R(!0);try{await vo(Tt(Ue,"rescheduleRequests"),{sessionId:z.id,clientId:ye.id,clientName:ye.name,originalDate:z.date,originalTime:z.time,requestedDate:ur(G),requestedTime:pe,duration:z.duration,status:"pending",createdAt:Le.now(),respondedAt:null,dismissed:!1}),alert("Reschedule request submitted! You will be notified when your trainer responds."),Me(),_e()}catch(le){console.error("Error submitting reschedule request:",le),alert("Failed to submit request. Please try again.")}R(!1)}},Gt=async le=>{try{await Tr(hn(Ue,"rescheduleRequests",le),{dismissed:!0}),v(g.filter(Ke=>Ke.id!==le))}catch(Ke){console.error("Error dismissing notification:",Ke)}},ri=()=>{const le=J();if(le.length===0)return null;const Ke=le[0],tt=new Date,fn=new Date(Ke.date+"T"+Ke.time)-tt;if(fn<=0)return null;const oi=Math.floor(fn/(1e3*60*60*24)),Tn=Math.floor(fn%(1e3*60*60*24)/(1e3*60*60)),ba=Math.floor(fn%(1e3*60*60)/(1e3*60));return{days:oi,hours:Tn,minutes:ba,session:Ke}};if(W||T)return m.jsxs("div",{className:"client-dashboard",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("div",{className:"skeleton skeleton-logo"})})}),m.jsxs("main",{className:"client-main",children:[m.jsxs("div",{className:"skeleton-welcome",children:[m.jsx("div",{className:"skeleton skeleton-title"}),m.jsx("div",{className:"skeleton skeleton-btn-small"})]}),m.jsxs("div",{className:"skeleton-actions",children:[m.jsx("div",{className:"skeleton skeleton-btn"}),m.jsx("div",{className:"skeleton skeleton-btn"})]}),m.jsx("div",{className:"skeleton skeleton-card-large"}),m.jsx("div",{className:"skeleton skeleton-card-medium"}),m.jsx("div",{className:"skeleton skeleton-card-medium"})]})]});if(!M||!I||!ye)return null;const et=K(),Xt=ye.totalSessions-et,xn=J(),st=L?be():[],Ye=ri(),ai=ye.totalSessions>0?et/ye.totalSessions*100:0;return m.jsxs("div",{className:"client-dashboard",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),m.jsxs("main",{className:"client-main",children:[m.jsxs("div",{className:"welcome-section",children:[m.jsxs("h2",{children:["Welcome, ",ye.name.split(" ")[0]]}),m.jsx("button",{className:"logout-btn",onClick:fe,children:"Log Out"})]}),g.length>0&&m.jsx("div",{className:"notifications-section",children:g.map(le=>m.jsxs("div",{className:`notification ${le.status}`,children:[m.jsxs("div",{className:"notification-content",children:[m.jsx("span",{className:"notification-icon",children:le.status==="approved"?"":""}),m.jsxs("div",{className:"notification-text",children:[m.jsx("strong",{children:le.status==="approved"?"Reschedule Approved!":"Reschedule Declined"}),m.jsx("p",{children:le.status==="approved"?`Your session has been moved to ${Ne(le.requestedDate)} at ${Oe(le.requestedTime)}`:`Your request to reschedule from ${Ne(le.originalDate)} was declined. Please contact your trainer.`})]})]}),m.jsx("button",{className:"dismiss-btn",onClick:()=>Gt(le.id),children:""})]},le.id))}),m.jsxs("div",{className:"quick-actions",children:[m.jsx("button",{className:"forms-btn",onClick:()=>ue("/client/forms"),children:"Forms & Questionnaires"}),m.jsx("button",{className:"tools-btn",onClick:()=>ue("/client/tools"),children:"Tools & Calculators"})]}),Ye&&m.jsxs("div",{className:"countdown-card",children:[m.jsxs("div",{className:"countdown-header",children:[m.jsx("span",{className:"countdown-label",children:"Next Session"}),m.jsx("span",{className:"countdown-date",children:Ne(Ye.session.date)})]}),m.jsxs("div",{className:"countdown-timer",children:[Ye.days>0&&m.jsxs("div",{className:"countdown-unit",children:[m.jsx("span",{className:"countdown-value",children:Ye.days}),m.jsx("span",{className:"countdown-text",children:"days"})]}),m.jsxs("div",{className:"countdown-unit",children:[m.jsx("span",{className:"countdown-value",children:Ye.hours}),m.jsx("span",{className:"countdown-text",children:"hrs"})]}),m.jsxs("div",{className:"countdown-unit",children:[m.jsx("span",{className:"countdown-value",children:Ye.minutes}),m.jsx("span",{className:"countdown-text",children:"min"})]})]}),m.jsxs("div",{className:"countdown-time",children:["at ",Oe(Ye.session.time)]})]}),m.jsxs("div",{className:"block-info-card",children:[m.jsx("div",{className:"block-header-row",children:m.jsx("h3",{children:"Your Training Block"})}),m.jsxs("div",{className:"progress-section",children:[m.jsxs("div",{className:"progress-ring-container",children:[m.jsxs("svg",{className:"progress-ring",viewBox:"0 0 100 100",children:[m.jsx("circle",{className:"progress-ring-bg",cx:"50",cy:"50",r:"42",fill:"none",strokeWidth:"8"}),m.jsx("circle",{className:"progress-ring-fill",cx:"50",cy:"50",r:"42",fill:"none",strokeWidth:"8",strokeDasharray:`${2*Math.PI*42}`,strokeDashoffset:`${2*Math.PI*42*(1-ai/100)}`,strokeLinecap:"round"})]}),m.jsxs("div",{className:"progress-ring-text",children:[m.jsxs("span",{className:"progress-percent",children:[Math.round(ai),"%"]}),m.jsx("span",{className:"progress-label",children:"complete"})]})]}),m.jsxs("div",{className:"progress-stats",children:[m.jsxs("div",{className:"progress-stat",children:[m.jsx("span",{className:"progress-stat-value",children:et}),m.jsx("span",{className:"progress-stat-label",children:"Completed"})]}),m.jsxs("div",{className:"progress-stat",children:[m.jsx("span",{className:"progress-stat-value",children:Xt}),m.jsx("span",{className:"progress-stat-label",children:"Remaining"})]}),m.jsxs("div",{className:"progress-stat",children:[m.jsx("span",{className:"progress-stat-value",children:ye.totalSessions}),m.jsx("span",{className:"progress-stat-label",children:"Total"})]})]})]}),m.jsxs("div",{className:"block-dates",children:[m.jsxs("div",{className:"date-item",children:[m.jsx("span",{className:"date-label",children:"Start Date"}),m.jsx("span",{className:"date-value",children:j(ye.startDate)})]}),m.jsxs("div",{className:"date-item",children:[m.jsx("span",{className:"date-label",children:"End Date"}),m.jsx("span",{className:"date-value",children:j(ye.endDate)})]}),m.jsxs("div",{className:"date-item",children:[m.jsx("span",{className:"date-label",children:"Session Duration"}),m.jsxs("span",{className:"date-value",children:[ye.sessionDuration," minutes"]})]})]})]}),m.jsxs("div",{className:"sessions-section",children:[m.jsxs("h3",{children:["Upcoming Sessions (",xn.length,")"]}),xn.length===0?m.jsxs("div",{className:"no-sessions",children:[m.jsx("p",{children:"No upcoming sessions scheduled"}),m.jsx("span",{children:"Contact your trainer to book sessions"})]}):m.jsx("div",{className:"sessions-list",children:xn.map(le=>m.jsxs("div",{className:"session-card",children:[m.jsxs("div",{className:"session-info",children:[m.jsx("div",{className:"session-date",children:Ne(le.date)}),m.jsxs("div",{className:"session-time",children:[Oe(le.time)," (",le.duration," min)"]}),de(le.id)&&m.jsx("div",{className:"pending-badge",children:"Reschedule pending"})]}),m.jsxs("div",{className:"session-actions",children:[m.jsx("button",{className:"reschedule-btn",onClick:()=>Ae(le),disabled:de(le.id),children:"Reschedule"}),m.jsx("button",{className:"cancel-btn",onClick:()=>ce(le),disabled:w===le.id,children:w===le.id?"Cancelling...":"Cancel"})]})]},le.id))})]}),m.jsxs("div",{className:"completed-section",children:[m.jsxs("h3",{children:["Completed Sessions (",et,")"]}),et===0?m.jsx("div",{className:"no-sessions",children:m.jsx("p",{children:"No completed sessions yet"})}):m.jsxs("div",{className:"sessions-list completed",children:[s.filter(le=>ne(le)).slice(-5).reverse().map(le=>m.jsxs("div",{className:"session-card completed",children:[m.jsxs("div",{className:"session-info",children:[m.jsx("div",{className:"session-date",children:Ne(le.date)}),m.jsx("div",{className:"session-time",children:Oe(le.time)})]}),m.jsx("span",{className:"completed-badge",children:"Completed"})]},le.id)),et>5&&m.jsxs("div",{className:"more-sessions",children:["And ",et-5," more completed sessions"]})]})]})]}),L&&z&&m.jsx("div",{className:"modal-overlay",onClick:Me,children:m.jsxs("div",{className:"reschedule-modal",onClick:le=>le.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h3",{children:"Reschedule Session"}),m.jsx("button",{className:"close-modal-btn",onClick:Me,children:""})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("div",{className:"current-session-info",children:m.jsxs("p",{children:["Current: ",m.jsx("strong",{children:Ne(z.date)})," at ",m.jsx("strong",{children:Oe(z.time)})]})}),m.jsxs("div",{className:"date-selection",children:[m.jsx("h4",{children:"Select New Date"}),st.length===0?m.jsx("p",{className:"no-dates",children:"No available dates within your training block"}):m.jsx("div",{className:"dates-grid",children:st.map((le,Ke)=>m.jsxs("button",{className:`date-btn ${G&&ur(G)===ur(le)?"selected":""}`,onClick:()=>Ot(le),children:[m.jsx("span",{className:"date-day",children:le.toLocaleDateString("en-GB",{weekday:"short"})}),m.jsx("span",{className:"date-num",children:le.getDate()}),m.jsx("span",{className:"date-month",children:le.toLocaleDateString("en-GB",{month:"short"})})]},Ke))})]}),G&&m.jsxs("div",{className:"time-selection",children:[m.jsx("h4",{children:"Select Time"}),ee.length===0?m.jsx("p",{className:"no-slots",children:"No available slots on this date"}):m.jsx("div",{className:"times-grid",children:ee.map((le,Ke)=>m.jsx("button",{className:`time-btn ${pe===le.time?"selected":""} ${le.period}`,onClick:()=>$(le.time),children:Oe(le.time)},Ke))})]})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{className:"cancel-modal-btn",onClick:Me,children:"Cancel"}),m.jsx("button",{className:"submit-reschedule-btn",onClick:Mt,disabled:!G||!pe||C,children:C?"Submitting...":"Request Reschedule"})]})]})})]})}function zO(){const[s,e]=V.useState(null),[n,r]=V.useState(!1),{currentUser:o,isClient:u,clientData:h,logout:p,loading:g}=Fo(),v=Ns(),[T,S]=V.useState({fitnessGoals:"",currentActivityLevel:"",exerciseHistory:"",injuries:"",medicalConditions:"",sleepHours:"",stressLevel:"",dietaryInfo:"",availability:"",additionalInfo:""}),[w,P]=V.useState({q1HeartCondition:!1,q2ChestPain:!1,q3ChestPainLastMonth:!1,q4Balance:!1,q5BoneJoint:!1,q6BloodPressure:!1,q7OtherReason:!1,additionalDetails:"",declaration:!1});V.useEffect(()=>{!g&&(!o||!u)&&v("/")},[o,u,g,v]),V.useEffect(()=>{h?.welcomeForm&&S(h.welcomeForm),h?.parqForm&&P(h.parqForm)},[h]);const L=pe=>{const{name:$,value:ee}=pe.target;S(N=>({...N,[$]:ee}))},k=pe=>{const{name:$,type:ee,checked:N,value:C}=pe.target;P(R=>({...R,[$]:ee==="checkbox"?N:C}))},z=async()=>{r(!0);try{await Tr(hn(Ue,"clients",h.id),{welcomeForm:{...T,completedAt:Le.now()}}),alert("Welcome form saved successfully!"),e(null)}catch(pe){console.error("Error saving welcome form:",pe),alert("Failed to save form. Please try again.")}r(!1)},Z=async()=>{if(!w.declaration){alert("Please confirm the declaration to submit the form.");return}r(!0);try{await Tr(hn(Ue,"clients",h.id),{parqForm:{...w,completedAt:Le.now()}}),alert("PAR-Q form saved successfully!"),e(null)}catch(pe){console.error("Error saving PAR-Q form:",pe),alert("Failed to save form. Please try again.")}r(!1)};if(g)return m.jsx("div",{className:"client-loading",children:"Loading..."});if(!o||!u||!h)return null;const G=!!h?.welcomeForm?.completedAt,oe=!!h?.parqForm?.completedAt;return m.jsxs("div",{className:"client-forms-page",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),m.jsxs("main",{className:"forms-main",children:[m.jsx("button",{className:"back-btn",onClick:()=>v("/client"),children:" Back"}),s?s==="welcome"?m.jsxs("div",{className:"form-container",children:[m.jsxs("div",{className:"form-header",children:[m.jsx("h2",{children:"Welcome Questionnaire"}),m.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),m.jsxs("div",{className:"form-body",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"What are your main fitness goals?"}),m.jsx("textarea",{name:"fitnessGoals",value:T.fitnessGoals,onChange:L,placeholder:"e.g., Lose weight, build muscle, improve endurance, increase flexibility...",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"How would you describe your current activity level?"}),m.jsxs("select",{name:"currentActivityLevel",value:T.currentActivityLevel,onChange:L,children:[m.jsx("option",{value:"",children:"Select..."}),m.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),m.jsx("option",{value:"light",children:"Lightly Active (1-2 days/week)"}),m.jsx("option",{value:"moderate",children:"Moderately Active (3-4 days/week)"}),m.jsx("option",{value:"active",children:"Very Active (5+ days/week)"}),m.jsx("option",{value:"athlete",children:"Athlete/Highly Active"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"What is your exercise history?"}),m.jsx("textarea",{name:"exerciseHistory",value:T.exerciseHistory,onChange:L,placeholder:"Describe your previous experience with exercise, sports, or training...",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Do you have any current or past injuries?"}),m.jsx("textarea",{name:"injuries",value:T.injuries,onChange:L,placeholder:"List any injuries that may affect your training...",rows:"2"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Do you have any medical conditions we should know about?"}),m.jsx("textarea",{name:"medicalConditions",value:T.medicalConditions,onChange:L,placeholder:"e.g., Diabetes, asthma, heart conditions...",rows:"2"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"How many hours of sleep do you typically get?"}),m.jsxs("select",{name:"sleepHours",value:T.sleepHours,onChange:L,children:[m.jsx("option",{value:"",children:"Select..."}),m.jsx("option",{value:"less-5",children:"Less than 5 hours"}),m.jsx("option",{value:"5-6",children:"5-6 hours"}),m.jsx("option",{value:"7-8",children:"7-8 hours"}),m.jsx("option",{value:"more-8",children:"More than 8 hours"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"How would you rate your current stress level?"}),m.jsxs("select",{name:"stressLevel",value:T.stressLevel,onChange:L,children:[m.jsx("option",{value:"",children:"Select..."}),m.jsx("option",{value:"low",children:"Low"}),m.jsx("option",{value:"moderate",children:"Moderate"}),m.jsx("option",{value:"high",children:"High"}),m.jsx("option",{value:"very-high",children:"Very High"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tell us about your diet/nutrition"}),m.jsx("textarea",{name:"dietaryInfo",value:T.dietaryInfo,onChange:L,placeholder:"Any dietary restrictions, typical eating habits, nutrition goals...",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"What is your preferred training schedule/availability?"}),m.jsx("textarea",{name:"availability",value:T.availability,onChange:L,placeholder:"Days and times that work best for you...",rows:"2"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Anything else you'd like us to know?"}),m.jsx("textarea",{name:"additionalInfo",value:T.additionalInfo,onChange:L,placeholder:"Any other information that might be helpful...",rows:"3"})]}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),m.jsx("button",{className:"save-btn",onClick:z,disabled:n,children:n?"Saving...":"Save"})]})]})]}):m.jsxs("div",{className:"form-container",children:[m.jsxs("div",{className:"form-header",children:[m.jsx("h2",{children:"PAR-Q Health Screening"}),m.jsx("button",{className:"close-form",onClick:()=>e(null),children:""})]}),m.jsxs("div",{className:"form-body",children:[m.jsx("div",{className:"parq-intro",children:m.jsx("p",{children:"The Physical Activity Readiness Questionnaire (PAR-Q) is designed to identify those who should check with a doctor before starting an exercise program."})}),m.jsxs("div",{className:"parq-questions",children:[m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q1HeartCondition",checked:w.q1HeartCondition,onChange:k}),m.jsx("span",{children:"Has your doctor ever said that you have a heart condition and that you should only do physical activity recommended by a doctor?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q2ChestPain",checked:w.q2ChestPain,onChange:k}),m.jsx("span",{children:"Do you feel pain in your chest when you do physical activity?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q3ChestPainLastMonth",checked:w.q3ChestPainLastMonth,onChange:k}),m.jsx("span",{children:"In the past month, have you had chest pain when you were not doing physical activity?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q4Balance",checked:w.q4Balance,onChange:k}),m.jsx("span",{children:"Do you lose your balance because of dizziness or do you ever lose consciousness?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q5BoneJoint",checked:w.q5BoneJoint,onChange:k}),m.jsx("span",{children:"Do you have a bone or joint problem that could be made worse by a change in your physical activity?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q6BloodPressure",checked:w.q6BloodPressure,onChange:k}),m.jsx("span",{children:"Is your doctor currently prescribing drugs for your blood pressure or heart condition?"})]})}),m.jsx("div",{className:"parq-question",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"q7OtherReason",checked:w.q7OtherReason,onChange:k}),m.jsx("span",{children:"Do you know of any other reason why you should not do physical activity?"})]})})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"If you answered YES to any questions, please provide details:"}),m.jsx("textarea",{name:"additionalDetails",value:w.additionalDetails,onChange:k,placeholder:"Please explain any conditions or concerns...",rows:"4"})]}),m.jsx("div",{className:"parq-declaration",children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",name:"declaration",checked:w.declaration,onChange:k}),m.jsx("span",{children:"I have read, understood and completed this questionnaire. Any questions I had were answered to my full satisfaction. I confirm that the information provided is accurate to the best of my knowledge."})]})}),m.jsxs("div",{className:"form-actions",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>e(null),children:"Cancel"}),m.jsx("button",{className:"save-btn",onClick:Z,disabled:n,children:n?"Saving...":"Submit"})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"forms-intro",children:[m.jsx("h2",{children:"Forms"}),m.jsx("p",{children:"Please complete these forms to help us better understand your fitness journey and ensure your safety."})]}),m.jsxs("div",{className:"forms-list",children:[m.jsxs("div",{className:`form-card ${G?"completed":""}`,children:[m.jsxs("div",{className:"form-card-info",children:[m.jsx("h3",{children:"Welcome Questionnaire"}),m.jsx("p",{children:"Tell us about your fitness goals, experience, and lifestyle."}),G&&m.jsx("span",{className:"completed-badge",children:"Completed"})]}),m.jsx("button",{onClick:()=>e("welcome"),children:G?"View / Edit":"Start"})]}),m.jsxs("div",{className:`form-card ${oe?"completed":""}`,children:[m.jsxs("div",{className:"form-card-info",children:[m.jsx("h3",{children:"PAR-Q Health Screening"}),m.jsx("p",{children:"Physical Activity Readiness Questionnaire for your safety."}),oe&&m.jsx("span",{className:"completed-badge",children:"Completed"})]}),m.jsx("button",{onClick:()=>e("parq"),children:oe?"View / Edit":"Start"})]})]})]})]})]})}function BO(){const{currentUser:s,isClient:e,clientData:n,loading:r}=Fo(),o=Ns(),[u,h]=V.useState({gender:"male",age:"",weight:"",weightUnit:"kg",height:"",heightUnit:"cm",heightFeet:"",heightInches:"",activityLevel:"moderate",goal:"maintain",deficitLevel:"moderate"}),[p,g]=V.useState(null),[v,T]=V.useState(!1);V.useEffect(()=>{!r&&(!s||!e)&&o("/")},[s,e,r,o]);const S=k=>{const{name:z,value:Z}=k.target;h(G=>({...G,[z]:Z})),T(!1)},w=()=>{let k=parseFloat(u.weight);u.weightUnit==="lbs"&&(k=k*.453592);let z;if(u.heightUnit==="cm")z=parseFloat(u.height);else{const ye=parseFloat(u.heightFeet)||0,Pe=parseFloat(u.heightInches)||0;z=ye*30.48+Pe*2.54}const Z=parseInt(u.age);let G;u.gender==="male"?G=10*k+6.25*z-5*Z+5:G=10*k+6.25*z-5*Z-161;const pe=G*{sedentary:1.2,light:1.375,moderate:1.55,active:1.725,veryActive:1.9}[u.activityLevel];let $=pe,ee;switch(u.goal){case"lose":$=pe-{light:250,moderate:500,harsh:750}[u.deficitLevel],ee=2;break;case"build":$=pe+300,ee=2;break;default:ee=1.8;break}const N=u.gender==="male"?1500:1200;$=Math.max($,N);const C=Math.round(k*ee),R=C*4,D=$*.25,x=Math.round(D/9),M=$-R-D,I=Math.round(M/4);g({bmr:Math.round(G),tdee:Math.round(pe),targetCalories:Math.round($),protein:C,carbs:I,fats:x,proteinCalories:Math.round(R),carbCalories:Math.round(M),fatCalories:Math.round(D)}),T(!0)},P=()=>{const k=u.weight&&parseFloat(u.weight)>0,z=u.age&&parseInt(u.age)>0;let Z;return u.heightUnit==="cm"?Z=u.height&&parseFloat(u.height)>0:Z=u.heightFeet&&parseFloat(u.heightFeet)>0||u.heightInches&&parseFloat(u.heightInches)>0,k&&z&&Z},L=()=>{switch(u.goal){case"lose":return"Weight Loss";case"build":return"Muscle Building";default:return"Maintenance"}};return r?m.jsx("div",{className:"client-loading",children:"Loading..."}):!s||!e||!n?null:m.jsxs("div",{className:"client-tools-page",children:[m.jsx("header",{className:"client-header",children:m.jsx("div",{className:"header-content",children:m.jsx("img",{src:"/Logo.PNG",alt:"Mind Core Fitness",className:"header-logo"})})}),m.jsxs("main",{className:"tools-main",children:[m.jsx("button",{className:"back-btn",onClick:()=>o("/client"),children:" Back"}),m.jsxs("div",{className:"tools-intro",children:[m.jsx("h2",{children:"Tools"}),m.jsx("p",{children:"Use these tools to help plan your nutrition and track your progress."})]}),m.jsxs("div",{className:"tool-card",children:[m.jsxs("div",{className:"tool-header",children:[m.jsx("h3",{children:"Macro Calculator"}),m.jsx("p",{children:"Calculate your daily calorie and macro targets based on your goals."})]}),m.jsxs("div",{className:"calculator-form",children:[m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gender"}),m.jsxs("div",{className:"toggle-group",children:[m.jsx("button",{type:"button",className:u.gender==="male"?"active":"",onClick:()=>{h(k=>({...k,gender:"male"})),T(!1)},children:"Male"}),m.jsx("button",{type:"button",className:u.gender==="female"?"active":"",onClick:()=>{h(k=>({...k,gender:"female"})),T(!1)},children:"Female"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Age"}),m.jsx("input",{type:"number",name:"age",value:u.age,onChange:S,placeholder:"Years",min:"15",max:"100"})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Weight"}),m.jsxs("div",{className:"input-with-unit",children:[m.jsx("input",{type:"number",name:"weight",value:u.weight,onChange:S,placeholder:u.weightUnit==="kg"?"kg":"lbs",min:"30",max:"300"}),m.jsxs("div",{className:"unit-toggle",children:[m.jsx("button",{type:"button",className:u.weightUnit==="kg"?"active":"",onClick:()=>{h(k=>({...k,weightUnit:"kg"})),T(!1)},children:"kg"}),m.jsx("button",{type:"button",className:u.weightUnit==="lbs"?"active":"",onClick:()=>{h(k=>({...k,weightUnit:"lbs"})),T(!1)},children:"lbs"})]})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Height"}),m.jsxs("div",{className:"input-with-unit",children:[u.heightUnit==="cm"?m.jsx("input",{type:"number",name:"height",value:u.height,onChange:S,placeholder:"cm",min:"100",max:"250"}):m.jsxs("div",{className:"height-imperial",children:[m.jsx("input",{type:"number",name:"heightFeet",value:u.heightFeet,onChange:S,placeholder:"ft",min:"4",max:"7"}),m.jsx("input",{type:"number",name:"heightInches",value:u.heightInches,onChange:S,placeholder:"in",min:"0",max:"11"})]}),m.jsxs("div",{className:"unit-toggle",children:[m.jsx("button",{type:"button",className:u.heightUnit==="cm"?"active":"",onClick:()=>{h(k=>({...k,heightUnit:"cm"})),T(!1)},children:"cm"}),m.jsx("button",{type:"button",className:u.heightUnit==="ft"?"active":"",onClick:()=>{h(k=>({...k,heightUnit:"ft"})),T(!1)},children:"ft/in"})]})]})]})]}),m.jsxs("div",{className:"form-group full-width",children:[m.jsx("label",{children:"Activity Level"}),m.jsxs("select",{name:"activityLevel",value:u.activityLevel,onChange:S,children:[m.jsx("option",{value:"sedentary",children:"Sedentary (little to no exercise)"}),m.jsx("option",{value:"light",children:"Lightly Active (1-3 days/week)"}),m.jsx("option",{value:"moderate",children:"Moderately Active (3-5 days/week)"}),m.jsx("option",{value:"active",children:"Very Active (6-7 days/week)"}),m.jsx("option",{value:"veryActive",children:"Extra Active (athlete/physical job)"})]})]}),m.jsxs("div",{className:"form-group full-width",children:[m.jsx("label",{children:"Fitness Goal"}),m.jsxs("div",{className:"goal-options",children:[m.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="lose"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"lose"})),T(!1)},children:[m.jsx("span",{className:"goal-icon",children:"-"}),m.jsx("span",{children:"Lose Weight"})]}),m.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="maintain"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"maintain"})),T(!1)},children:[m.jsx("span",{className:"goal-icon",children:"="}),m.jsx("span",{children:"Maintain"})]}),m.jsxs("button",{type:"button",className:`goal-btn ${u.goal==="build"?"active":""}`,onClick:()=>{h(k=>({...k,goal:"build"})),T(!1)},children:[m.jsx("span",{className:"goal-icon",children:"+"}),m.jsx("span",{children:"Build Muscle"})]})]})]}),u.goal==="lose"&&m.jsxs("div",{className:"form-group full-width deficit-section",children:[m.jsx("label",{children:"Calorie Deficit Level"}),m.jsxs("div",{className:"deficit-options",children:[m.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="light"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"light"})),T(!1)},children:[m.jsx("span",{className:"deficit-name",children:"Light"}),m.jsx("span",{className:"deficit-desc",children:"-250 cal/day"}),m.jsx("span",{className:"deficit-rate",children:"~0.5 lb/week"})]}),m.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="moderate"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"moderate"})),T(!1)},children:[m.jsx("span",{className:"deficit-name",children:"Moderate"}),m.jsx("span",{className:"deficit-desc",children:"-500 cal/day"}),m.jsx("span",{className:"deficit-rate",children:"~1 lb/week"})]}),m.jsxs("button",{type:"button",className:`deficit-btn ${u.deficitLevel==="harsh"?"active":""}`,onClick:()=>{h(k=>({...k,deficitLevel:"harsh"})),T(!1)},children:[m.jsx("span",{className:"deficit-name",children:"Aggressive"}),m.jsx("span",{className:"deficit-desc",children:"-750 cal/day"}),m.jsx("span",{className:"deficit-rate",children:"~1.5 lb/week"})]})]})]}),m.jsx("button",{className:"calculate-btn",onClick:w,disabled:!P(),children:"Calculate Macros"})]}),v&&p&&m.jsxs("div",{className:"results-section",children:[m.jsxs("div",{className:"results-header",children:[m.jsx("h4",{children:"Your Daily Targets"}),m.jsx("span",{className:"goal-badge",children:L()})]}),m.jsxs("div",{className:"calories-display",children:[m.jsx("span",{className:"calories-value",children:p.targetCalories}),m.jsx("span",{className:"calories-label",children:"calories/day"})]}),m.jsxs("div",{className:"macros-grid",children:[m.jsxs("div",{className:"macro-card protein",children:[m.jsxs("div",{className:"macro-value",children:[p.protein,"g"]}),m.jsx("div",{className:"macro-label",children:"Protein"}),m.jsxs("div",{className:"macro-calories",children:[p.proteinCalories," cal"]})]}),m.jsxs("div",{className:"macro-card carbs",children:[m.jsxs("div",{className:"macro-value",children:[p.carbs,"g"]}),m.jsx("div",{className:"macro-label",children:"Carbs"}),m.jsxs("div",{className:"macro-calories",children:[p.carbCalories," cal"]})]}),m.jsxs("div",{className:"macro-card fats",children:[m.jsxs("div",{className:"macro-value",children:[p.fats,"g"]}),m.jsx("div",{className:"macro-label",children:"Fats"}),m.jsxs("div",{className:"macro-calories",children:[p.fatCalories," cal"]})]})]}),m.jsxs("div",{className:"results-info",children:[m.jsxs("div",{className:"info-row",children:[m.jsx("span",{children:"Basal Metabolic Rate (BMR)"}),m.jsxs("span",{children:[p.bmr," cal"]})]}),m.jsxs("div",{className:"info-row",children:[m.jsx("span",{children:"Total Daily Energy Expenditure (TDEE)"}),m.jsxs("span",{children:[p.tdee," cal"]})]})]}),m.jsx("div",{className:"results-note",children:m.jsx("p",{children:"These are estimated values. Individual results may vary based on metabolism, body composition, and other factors. Consult with your trainer for personalized guidance."})})]})]})]})]})}function qO(){const s=Ns();return V.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";s(n,{replace:!0})}},[s]),null}function HO(){return m.jsx(yO,{children:m.jsxs(j1,{basename:"/login",children:[m.jsx(qO,{}),m.jsxs(d1,{children:[m.jsx(lr,{path:"/",element:m.jsx(vO,{})}),m.jsx(lr,{path:"/dashboard",element:m.jsx(OO,{})}),m.jsx(lr,{path:"/add-client",element:m.jsx(MO,{})}),m.jsx(lr,{path:"/client",element:m.jsx(UO,{})}),m.jsx(lr,{path:"/client/forms",element:m.jsx(zO,{})}),m.jsx(lr,{path:"/client/tools",element:m.jsx(BO,{})}),m.jsx(lr,{path:"*",element:m.jsx(c1,{to:"/",replace:!0})})]})]})})}mA.createRoot(document.getElementById("root")).render(m.jsx(V.StrictMode,{children:m.jsx(HO,{})}));
