const w={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"12:00",end:"17:00"},defaultBlocked:!0}},C=["monday","tuesday","wednesday","thursday","friday"],N=["Monday","Tuesday","Wednesday","Thursday","Friday"],b=n=>{const[t,o]=n.split(":"),e=parseInt(t),i=e>=12?"pm":"am";return`${e>12?e-12:e===0?12:e}:${o}${i}`},p=n=>{const t=n.getFullYear(),o=(n.getMonth()+1).toString().padStart(2,"0"),e=n.getDate().toString().padStart(2,"0");return`${t}-${o}-${e}`},m=n=>{const[t,o]=n.split(":").map(Number);return t*60+o},l=(n,t)=>{const o=m(n)+t,e=Math.floor(o/60),i=o%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},F=n=>{const t=w[n];if(!t)return[];const o=[];if(t.morning){let e=t.morning.start;for(;e<t.morning.end;)o.push({time:e,period:"morning"}),e=l(e,15)}if(t.afternoon){let e=t.afternoon.start;for(;e<t.afternoon.end;)o.push({time:e,period:"afternoon"}),e=l(e,15)}return o},B=n=>{const t=n.getDay();return t>=1&&t<=5},E=n=>{const t=n.getDay();return t===0||t===6?null:C[t-1]},I=(n,t,o,e,i,u=null,y=[],g=[])=>{const S=E(n);if(!S)return!1;const d=p(n),s=w[S];if(i.some(r=>r.date===d))return!1;if(s.defaultBlocked){const r=Math.ceil(o/15);for(let a=0;a<r;a++){const f=l(t,a*15);if(!g.some(c=>c.date===d&&c.time===f))return!1}}else{const r=Math.ceil(o/15);for(let a=0;a<r;a++){const f=l(t,a*15);if(y.some(c=>c.date===d&&c.time===f))return!1}}const h=new Date,T=p(h);if(d<T)return!1;if(d===T){const r=`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}`;if(t<r)return!1}const M=l(t,o),$=s.morning&&t>=s.morning.start&&t<s.morning.end,D=s.afternoon&&t>=s.afternoon.start&&t<s.afternoon.end,k=s.morning&&M<=s.morning.end,A=s.afternoon&&M<=s.afternoon.end;if($&&!k||D&&!A||!$&&!D)return!1;for(const r of e){if(u&&r.id===u||r.date!==d)continue;const a=m(r.time),f=a+(r.duration||45),c=m(t),H=c+o;if(c<f&&H>a)return!1}return!0},L=(n,t,o,e,i=null,u=[],y=[])=>{const g=E(n);return g?F(g).filter(d=>I(n,d.time,t,o,e,i,u,y)):[]},Y=n=>{const t=new Date,o=p(t),e=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;if(n.date<o)return!0;if(n.date===o){const i=m(n.time)+(n.duration||45);return m(e)>=i}return!1};export{N as D,w as S,b as a,C as b,l as c,L as d,B as e,p as f,F as g,Y as i,m as t};
