(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var sm={exports:{}},Vl={};var Rv;function $b(){if(Rv)return Vl;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Cv;function Qb(){return Cv||(Cv=1,sm.exports=$b()),sm.exports}var b=Qb(),am={exports:{}},Ce={};var Iv;function Xb(){if(Iv)return Ce;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function L(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function se(V,Z,ce){this.props=V,this.context=Z,this.refs=G,this.updater=ce||z}se.prototype.isReactComponent={},se.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},se.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=se.prototype;function ae(V,Z,ce){this.props=V,this.context=Z,this.refs=G,this.updater=ce||z}var ve=ae.prototype=new J;ve.constructor=ae,F(ve,se.prototype),ve.isPureReactComponent=!0;var $=Array.isArray;function ne(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(V,Z,ce){var fe=ce.ref;return{$$typeof:r,type:V,key:Z,ref:fe!==void 0?fe:null,props:ce}}function x(V,Z){return I(V.type,Z,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return Z[ce]})}var D=/\/+/g;function Ze(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):Z.toString(36)}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ne,ne):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,Z,ce,fe,Te){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case E:return Le=V._init,Q(Le(V._payload),Z,ce,fe,Te)}}if(Le)return Te=Te(V),Le=fe===""?"."+Ze(V,0):fe,$(Te)?(ce="",Le!=null&&(ce=Le.replace(D,"$&/")+"/"),Q(Te,Z,ce,"",function(De){return De})):Te!=null&&(O(Te)&&(Te=x(Te,ce+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Le)),Z.push(Te)),1;Le=0;var re=fe===""?".":fe+":";if($(V))for(var oe=0;oe<V.length;oe++)fe=V[oe],Re=re+Ze(fe,oe),Le+=Q(fe,Z,ce,Re,Te);else if(oe=L(V),typeof oe=="function")for(V=oe.call(V),oe=0;!(fe=V.next()).done;)fe=fe.value,Re=re+Ze(fe,oe++),Le+=Q(fe,Z,ce,Re,Te);else if(Re==="object"){if(typeof V.then=="function")return Q(ft(V),Z,ce,fe,Te);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function le(V,Z,ce){if(V==null)return V;var fe=[],Te=0;return Q(V,fe,"","",function(Re){return Z.call(ce,Re,Te++)}),fe}function ge(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qe={map:le,forEach:function(V,Z,ce){le(V,function(){Z.apply(this,arguments)},ce)},count:function(V){var Z=0;return le(V,function(){Z++}),Z},toArray:function(V){return le(V,function(Z){return Z})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ce.Activity=T,Ce.Children=qe,Ce.Component=se,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ae,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(V,Z,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=F({},V.props),Te=V.key;if(Z!=null)for(Re in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(fe[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)fe.children=ce;else if(1<Re){for(var Le=Array(Re),re=0;re<Re;re++)Le[re]=arguments[re+2];fe.children=Le}return I(V.type,Te,fe)},Ce.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ce.createElement=function(V,Z,ce){var fe,Te={},Re=null;if(Z!=null)for(fe in Z.key!==void 0&&(Re=""+Z.key),Z)R.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=Z[fe]);var Le=arguments.length-2;if(Le===1)Te.children=ce;else if(1<Le){for(var re=Array(Le),oe=0;oe<Le;oe++)re[oe]=arguments[oe+2];Te.children=re}if(V&&V.defaultProps)for(fe in Le=V.defaultProps,Le)Te[fe]===void 0&&(Te[fe]=Le[fe]);return I(V,Re,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:m,render:V}},Ce.isValidElement=O,Ce.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Ce.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},Ce.startTransition=function(V){var Z=C.T,ce={};C.T=ce;try{var fe=V(),Te=C.S;Te!==null&&Te(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ne,Me)}catch(Re){Me(Re)}finally{Z!==null&&ce.types!==null&&(Z.types=ce.types),C.T=Z}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(V){return C.H.use(V)},Ce.useActionState=function(V,Z,ce){return C.H.useActionState(V,Z,ce)},Ce.useCallback=function(V,Z){return C.H.useCallback(V,Z)},Ce.useContext=function(V){return C.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,Z){return C.H.useDeferredValue(V,Z)},Ce.useEffect=function(V,Z){return C.H.useEffect(V,Z)},Ce.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(V,Z,ce){return C.H.useImperativeHandle(V,Z,ce)},Ce.useInsertionEffect=function(V,Z){return C.H.useInsertionEffect(V,Z)},Ce.useLayoutEffect=function(V,Z){return C.H.useLayoutEffect(V,Z)},Ce.useMemo=function(V,Z){return C.H.useMemo(V,Z)},Ce.useOptimistic=function(V,Z){return C.H.useOptimistic(V,Z)},Ce.useReducer=function(V,Z,ce){return C.H.useReducer(V,Z,ce)},Ce.useRef=function(V){return C.H.useRef(V)},Ce.useState=function(V){return C.H.useState(V)},Ce.useSyncExternalStore=function(V,Z,ce){return C.H.useSyncExternalStore(V,Z,ce)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.4",Ce}var Dv;function sp(){return Dv||(Dv=1,am.exports=Xb()),am.exports}var U=sp(),om={exports:{}},kl={},lm={exports:{}},um={};var Nv;function Jb(){return Nv||(Nv=1,(function(r){function e(Q,le){var ge=Q.length;Q.push(le);e:for(;0<ge;){var Me=ge-1>>>1,qe=Q[Me];if(0<o(qe,le))Q[Me]=le,Q[ge]=qe,ge=Me;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],ge=Q.pop();if(ge!==le){Q[0]=ge;e:for(var Me=0,qe=Q.length,V=qe>>>1;Me<V;){var Z=2*(Me+1)-1,ce=Q[Z],fe=Z+1,Te=Q[fe];if(0>o(ce,ge))fe<qe&&0>o(Te,ce)?(Q[Me]=Te,Q[fe]=ge,Me=fe):(Q[Me]=ce,Q[Z]=ge,Me=Z);else if(fe<qe&&0>o(Te,ge))Q[Me]=Te,Q[fe]=ge,Me=fe;else break e}}return le}function o(Q,le){var ge=Q.sortIndex-le.sortIndex;return ge!==0?ge:Q.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,L=!1,z=!1,F=!1,G=!1,se=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ve(Q){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=Q)s(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function $(Q){if(F=!1,ve(Q),!z)if(n(p)!==null)z=!0,ne||(ne=!0,k());else{var le=n(y);le!==null&&ft($,le.startTime-Q)}}var ne=!1,C=-1,R=5,I=-1;function x(){return G?!0:!(r.unstable_now()-I<R)}function O(){if(G=!1,ne){var Q=r.unstable_now();I=Q;var le=!0;try{e:{z=!1,F&&(F=!1,J(C),C=-1),L=!0;var ge=w;try{t:{for(ve(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&x());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,w=T.priorityLevel;var qe=Me(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof qe=="function"){T.callback=qe,ve(Q),le=!0;break t}T===n(p)&&s(p),ve(Q)}else s(p);T=n(p)}if(T!==null)le=!0;else{var V=n(y);V!==null&&ft($,V.startTime-Q),le=!1}}break e}finally{T=null,w=ge,L=!1}le=void 0}}finally{le?k():ne=!1}}}var k;if(typeof ae=="function")k=function(){ae(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ze=D.port2;D.port1.onmessage=O,k=function(){Ze.postMessage(null)}}else k=function(){se(O,0)};function ft(Q,le){C=se(function(){Q(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var ge=w;w=le;try{return Q()}finally{w=ge}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=w;w=Q;try{return le()}finally{w=ge}},r.unstable_scheduleCallback=function(Q,le,ge){var Me=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Me+ge:Me):ge=Me,Q){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ge+qe,Q={id:E++,callback:le,priorityLevel:Q,startTime:ge,expirationTime:qe,sortIndex:-1},ge>Me?(Q.sortIndex=ge,e(y,Q),n(p)===null&&Q===n(y)&&(F?(J(C),C=-1):F=!0,ft($,ge-Me))):(Q.sortIndex=qe,e(p,Q),z||L||(z=!0,ne||(ne=!0,k()))),Q},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Q){var le=w;return function(){var ge=w;w=le;try{return Q.apply(this,arguments)}finally{w=ge}}}})(um)),um}var Ov;function Wb(){return Ov||(Ov=1,lm.exports=Jb()),lm.exports}var cm={exports:{}},ln={};var xv;function Zb(){if(xv)return ln;xv=1;var r=sp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},ln.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},ln.requestFormReset=function(p){s.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var Mv;function ew(){if(Mv)return cm.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=Zb(),cm.exports}var Vv;function tw(){if(Vv)return kl;Vv=1;var r=Wb(),e=sp(),n=ew();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case se:return"Profiler";case G:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ae:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ze(t(i))}catch{}}return null}var ft=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Me=[],qe=-1;function V(t){return{current:t}}function Z(t){0>qe||(t.current=Me[qe],Me[qe]=null,qe--)}function ce(t,i){qe++,Me[qe]=t.current,t.current=i}var fe=V(null),Te=V(null),Re=V(null),Le=V(null);function re(t,i){switch(ce(Re,i),ce(Te,t),ce(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Q_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(fe),ce(fe,t)}function oe(){Z(fe),Z(Te),Z(Re)}function De(t){t.memoizedState!==null&&ce(Le,t);var i=fe.current,a=X_(i,t.type);i!==a&&(ce(Te,t),ce(fe,a))}function Ye(t){Te.current===t&&(Z(fe),Z(Te)),Le.current===t&&(Z(Le),Nl._currentValue=ge)}var be,Xe;function Ge(t){if(be===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);be=i&&i[1]||"",Xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+t+Xe}var mt=!1;function ut(t,i){if(!t||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var q=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){q=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){q=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),H=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ge(a):""}function Qt(t,i){switch(t.tag){case 26:case 27:case 5:return Ge(t.type);case 16:return Ge("Lazy");case 13:return t.child!==i&&i!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return ut(t.type,!1);case 11:return ut(t.type.render,!1);case 1:return ut(t.type,!0);case 31:return Ge("Activity");default:return""}}function Xt(t){try{var i="",a=null;do i+=Qt(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ct=Object.prototype.hasOwnProperty,rt=r.unstable_scheduleCallback,on=r.unstable_cancelCallback,Jn=r.unstable_shouldYield,Yi=r.unstable_requestPaint,At=r.unstable_now,bn=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,Sr=r.unstable_NormalPriority,lf=r.unstable_LowPriority,bu=r.unstable_IdlePriority,wu=r.log,Ru=r.unstable_setDisableYieldValue,Wn=null,Jt=null;function Pn(t){if(typeof wu=="function"&&Ru(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Wn,t)}catch{}}var bt=Math.clz32?Math.clz32:Iu,Cu=Math.log,ha=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/ha|0)|0}var _i=256,bs=262144,Dt=4194304;function vi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ei(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=vi(l):(_&=S,_!==0?h=vi(_):a||(a=S&~t,a!==0&&(h=vi(a))))):(S=l&~d,S!==0?h=vi(S):_!==0?h=vi(_):a||(a=l&~t,a!==0&&(h=vi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function Ti(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-bt(a),ee=1<<X;S[X]=0,N[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var Y=q[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Rs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Rs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-bt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-bt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:Cs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function ei(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var ti=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ti,Ft="__reactProps$"+ti,Si="__reactContainer$"+ti,fa="__reactEvents$"+ti,hf="__reactListeners$"+ti,Ou="__reactHandles$"+ti,xu="__reactResources$"+ti,Ai="__reactMarker$"+ti;function da(t){delete t[Nt],delete t[Ft],delete t[fa],delete t[hf],delete t[Ou]}function bi(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Si]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[Nt])return a;t=iv(t)}return i}t=a,a=t.parentNode}return null}function Un(t){if(t=t[Nt]||t[Si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function wi(t){var i=t[xu];return i||(i=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(t){t[Ai]=!0}var Po=new Set,Uo={};function Ri(t,i){Ci(t,i),Ci(t+"Capture",i)}function Ci(t,i){for(Uo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Mu(t){return ct.call(Bo,t)?!0:ct.call(zo,t)?!1:jo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ma(t,i,a){if(Mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Rn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function tt(t){if(!t._valueTracker){var i=Ar(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Is(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function pn(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Gt(i)):t.value!==""+Gt(i)&&(t.value=""+Gt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Gt(i)):a!=null?qo(t,_,Gt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Gt(S):t.removeAttribute("name")}function Vu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){tt(t);return}a=a!=null?""+Gt(a):"",i=i!=null?""+Gt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),tt(t)}function qo(t,i,a){i==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ku(t,i,a){if(i!=null&&(i=""+Gt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Gt(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Gt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),tt(t)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Lu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var Ko=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Di=null;function Ns(t){var i=Un(t);if(i&&(t=i.stateNode)){var a=t[Ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ft]||null;if(!h)throw Error(s(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Is(l)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&br(t,!!a.multiple,i,!1)}}}var _a=!1;function Ir(t,i,a){if(_a)return t(i,a);_a=!0;try{var l=t(i);return l}finally{if(_a=!1,(Cr!==null||Di!==null)&&(Nc(),Cr&&(i=Cr,t=Di,Di=Cr=null,Ns(i),t)))for(i=0;i<t.length;i++)Ns(t[i])}}function ii(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(zn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Os=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Os=!1}var Ni=null,Yo=null,xs=null;function $o(){if(xs)return xs;var t,i=Yo,a=i.length,l,h="value"in Ni?Ni.value:Ni.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return xs=h.slice(t,1<l?1-l:void 0)}function Ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ri(){return!1}function Wt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ri,this.isPropagationStopped=ri,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Wt(Xi),Dr=T({},Xi,{view:0,detail:0}),Qo=Wt(Dr),Nr,va,xi,Ea=T({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Nr=t.screenX-xi.screenX,va=t.screenY-xi.screenY):va=Nr=0,xi=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Xo=Wt(Ea),Vs=T({},Ea,{dataTransfer:0}),Uu=Wt(Vs),ju=T({},Dr,{relatedTarget:0}),ks=Wt(ju),Jo=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Wt(Jo),Ta=T({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=Wt(Ta),Hu=T({},Xi,{data:0}),Mi=Wt(Hu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Or(){return Ku}var dn=T({},Dr,{key:function(t){if(t.key){var i=qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yu=Wt(dn),$u=T({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Wt($u),c=T({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),g=Wt(c),v=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(v),j=T({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Wt(j),ue=T({},Xi,{newState:0,oldState:0}),Ne=Wt(ue),wt=[9,13,27,32],Je=zn&&"CompositionEvent"in window,yt=null;zn&&"documentMode"in document&&(yt=document.documentMode);var Bn=zn&&"TextEvent"in window&&!yt,Vi=zn&&(!Je||yt&&8<yt&&11>=yt),si=" ",ai=!1;function Ls(t,i){switch(t){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function _A(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(ai=!0,si);case"textInput":return t=i.data,t===si&&ai?null:t;default:return null}}function vA(t,i){if(Aa)return t==="compositionend"||!Je&&Ls(t,i)?(t=$o(),xs=Yo=Ni=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var EA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!EA[t.type]:i==="textarea"}function og(t,i,a,l){Cr?Di?Di.push(l):Di=[l]:Cr=l,i=Pc(i,"onChange"),0<i.length&&(a=new Oi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Zo=null;function TA(t){q_(t,0)}function Qu(t){var i=wn(t);if(Is(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(zn){var ff;if(zn){var df="oninput"in document;if(!df){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),df=typeof cg.oninput=="function"}ff=df}else ff=!1;ug=ff&&(!document.documentMode||9<document.documentMode)}function hg(){Wo&&(Wo.detachEvent("onpropertychange",fg),Zo=Wo=null)}function fg(t){if(t.propertyName==="value"&&Qu(Zo)){var i=[];og(i,Zo,t,jn(t)),Ir(TA,i)}}function SA(t,i,a){t==="focusin"?(hg(),Wo=i,Zo=a,Wo.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function AA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(Zo)}function bA(t,i){if(t==="click")return Qu(i)}function wA(t,i){if(t==="input"||t==="change")return Qu(i)}function RA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:RA;function el(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ct.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ii(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ii(t.document)}return i}function mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var CA=zn&&"documentMode"in document&&11>=document.documentMode,ba=null,pf=null,tl=null,gf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||ba==null||ba!==Ii(l)||(l=ba,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Pc(pf,"onSelect"),0<l.length&&(i=new Oi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var wa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},yf={},_g={};zn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Us(t){if(yf[t])return yf[t];if(!wa[t])return t;var i=wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return yf[t]=i[a];return t}var vg=Us("animationend"),Eg=Us("animationiteration"),Tg=Us("animationstart"),IA=Us("transitionrun"),DA=Us("transitionstart"),NA=Us("transitioncancel"),Sg=Us("transitionend"),Ag=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function oi(t,i){Ag.set(t,i),Ri(i,[t])}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ra=0,vf=0;function Ju(){for(var t=Ra,i=vf=Ra=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var h=Hn[i];Hn[i++]=null;var d=Hn[i];if(Hn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Wu(t,i,a,l){Hn[Ra++]=t,Hn[Ra++]=i,Hn[Ra++]=a,Hn[Ra++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,i,a,l){return Wu(t,i,a,l),Zu(t)}function js(t,i){return Wu(t,null,null,i),Zu(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-bt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(t){if(50<Al)throw Al=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function OA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new OA(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Tf(t)&&(_=1);else if(typeof t=="string")_=Lb(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=In(31,a,i,h),t.elementType=I,t.lanes=d,t;case F:return zs(a.children,h,d,i);case G:_=8,h|=24;break;case se:return t=In(12,a,i,h|2),t.elementType=se,t.lanes=d,t;case $:return t=In(13,a,i,h),t.elementType=$,t.lanes=d,t;case ne:return t=In(19,a,i,h),t.elementType=ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case J:_=9;break e;case ve:_=11;break e;case C:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=In(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function Sf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function Rg(t){var i=In(18,null,null,0);return i.stateNode=t,i}function Af(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cg=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Xt(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:Xt(i)}}var Ia=[],Da=0,tc=null,nl=0,Fn=[],Gn=0,xr=null,ki=1,Li="";function Zi(t,i){Ia[Da++]=nl,Ia[Da++]=tc,tc=t,nl=i}function Ig(t,i,a){Fn[Gn++]=ki,Fn[Gn++]=Li,Fn[Gn++]=xr,xr=t;var l=ki;t=Li;var h=32-bt(l)-1;l&=~(1<<h),a+=1;var d=32-bt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ki=1<<32-bt(i)+h|a<<h|l,Li=d+t}else ki=1<<d|a<<h|l,Li=t}function bf(t){t.return!==null&&(Zi(t,1),Ig(t,1,0))}function wf(t){for(;t===tc;)tc=Ia[--Da],Ia[Da]=null,nl=Ia[--Da],Ia[Da]=null;for(;t===xr;)xr=Fn[--Gn],Fn[Gn]=null,Li=Fn[--Gn],Fn[Gn]=null,ki=Fn[--Gn],Fn[Gn]=null}function Dg(t,i){Fn[Gn++]=ki,Fn[Gn++]=Li,Fn[Gn++]=xr,ki=i.id,Li=i.overflow,xr=t}var Zt=null,pt=null,Fe=!1,Mr=null,Kn=!1,Rf=Error(s(519));function Vr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(qn(i,t)),Rf}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Ft]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)ke(wl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Y_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=ni),i=!0):i=!1,i||Vr(t,!0)}function Og(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Zt=Zt.return}}function Na(t){if(t!==Zt)return!1;if(!Fe)return Og(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&pt&&Vr(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=nv(t)}else i===27?(i=pt,$r(t.type)?(t=Qd,Qd=null,pt=t):pt=i):pt=Zt?$n(t.stateNode.nextSibling):null;return!0}function Bs(){pt=Zt=null,Fe=!1}function Cf(){var t=Mr;return t!==null&&(En===null?En=t:En.push.apply(En,t),Mr=null),t}function il(t){Mr===null?Mr=[t]:Mr.push(t)}var If=V(null),Hs=null,er=null;function kr(t,i,a){ce(If,i._currentValue),i._currentValue=a}function tr(t){t._currentValue=If.current,Z(If)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Cn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Hs=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return xg(Hs,t)}function ic(t,i){return Hs===null&&qs(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else er=er.next=i;return a}var xA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},MA=r.unstable_scheduleCallback,VA=r.unstable_NormalPriority,Mt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new xA,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&MA(VA,function(){t.controller.abort()})}var sl=null,xf=0,xa=0,Ma=null;function kA(t,i){if(sl===null){var a=sl=[];xf=0,xa=kd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,i.then(Mg,Mg),i}function Mg(){if(--xf===0&&sl!==null){Ma!==null&&(Ma.status="fulfilled");var t=sl;sl=null,xa=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function LA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=Q.S;Q.S=function(t,i){y_=At(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&kA(t,i),Vg!==null&&Vg(t,i)};var Fs=V(null);function Mf(){var t=Fs.current;return t!==null?t:ht.pooledCache}function rc(t,i){i===null?ce(Fs,Fs.current):ce(Fs,i.pool)}function kg(){var t=Mf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Va=Error(s(460)),Vf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ni,ni),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t;default:if(typeof i.status=="string")i.then(ni,ni);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t}throw Ks=i,Va}}function Gs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,Va):a}}var Ks=null;function Ug(){if(Ks===null)throw Error(s(459));var t=Ks;return Ks=null,t}function jg(t){if(t===Va||t===sc)throw Error(s(483))}var ka=null,al=0;function oc(t){var i=al;return al+=1,ka===null&&(ka=[]),Pg(ka,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zg(t){function i(P,M){if(t){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Wi(P,M),P.index=0,P.sibling=null,P}function d(P,M,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,M,B,W){return M===null||M.tag!==6?(M=Sf(B,P.mode,W),M.return=P,M):(M=h(M,B),M.return=P,M)}function N(P,M,B,W){var ye=B.type;return ye===F?X(P,M,B.props.children,W,B.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Gs(ye)===M.type)?(M=h(M,B.props),ol(M,B),M.return=P,M):(M=ec(B.type,B.key,B.props,null,P.mode,W),ol(M,B),M.return=P,M)}function H(P,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Af(B,P.mode,W),M.return=P,M):(M=h(M,B.children||[]),M.return=P,M)}function X(P,M,B,W,ye){return M===null||M.tag!==7?(M=zs(B,P.mode,W,ye),M.return=P,M):(M=h(M,B),M.return=P,M)}function ee(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sf(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return B=ec(M.type,M.key,M.props,null,P.mode,B),ol(B,M),B.return=P,B;case z:return M=Af(M,P.mode,B),M.return=P,M;case R:return M=Gs(M),ee(P,M,B)}if(ft(M)||k(M))return M=zs(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return ee(P,oc(M),B);if(M.$$typeof===ae)return ee(P,ic(P,M),B);lc(P,M)}return null}function q(P,M,B,W){var ye=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:S(P,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===ye?N(P,M,B,W):null;case z:return B.key===ye?H(P,M,B,W):null;case R:return B=Gs(B),q(P,M,B,W)}if(ft(B)||k(B))return ye!==null?null:X(P,M,B,W,null);if(typeof B.then=="function")return q(P,M,oc(B),W);if(B.$$typeof===ae)return q(P,M,ic(P,B),W);lc(P,B)}return null}function Y(P,M,B,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(B)||null,S(M,P,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return P=P.get(W.key===null?B:W.key)||null,N(M,P,W,ye);case z:return P=P.get(W.key===null?B:W.key)||null,H(M,P,W,ye);case R:return W=Gs(W),Y(P,M,B,W,ye)}if(ft(W)||k(W))return P=P.get(B)||null,X(M,P,W,ye,null);if(typeof W.then=="function")return Y(P,M,B,oc(W),ye);if(W.$$typeof===ae)return Y(P,M,B,ic(M,W),ye);lc(M,W)}return null}function me(P,M,B,W){for(var ye=null,$e=null,pe=M,xe=M=0,Ue=null;pe!==null&&xe<B.length;xe++){pe.index>xe?(Ue=pe,pe=null):Ue=pe.sibling;var Qe=q(P,pe,B[xe],W);if(Qe===null){pe===null&&(pe=Ue);break}t&&pe&&Qe.alternate===null&&i(P,pe),M=d(Qe,M,xe),$e===null?ye=Qe:$e.sibling=Qe,$e=Qe,pe=Ue}if(xe===B.length)return a(P,pe),Fe&&Zi(P,xe),ye;if(pe===null){for(;xe<B.length;xe++)pe=ee(P,B[xe],W),pe!==null&&(M=d(pe,M,xe),$e===null?ye=pe:$e.sibling=pe,$e=pe);return Fe&&Zi(P,xe),ye}for(pe=l(pe);xe<B.length;xe++)Ue=Y(pe,P,xe,B[xe],W),Ue!==null&&(t&&Ue.alternate!==null&&pe.delete(Ue.key===null?xe:Ue.key),M=d(Ue,M,xe),$e===null?ye=Ue:$e.sibling=Ue,$e=Ue);return t&&pe.forEach(function(Zr){return i(P,Zr)}),Fe&&Zi(P,xe),ye}function Ee(P,M,B,W){if(B==null)throw Error(s(151));for(var ye=null,$e=null,pe=M,xe=M=0,Ue=null,Qe=B.next();pe!==null&&!Qe.done;xe++,Qe=B.next()){pe.index>xe?(Ue=pe,pe=null):Ue=pe.sibling;var Zr=q(P,pe,Qe.value,W);if(Zr===null){pe===null&&(pe=Ue);break}t&&pe&&Zr.alternate===null&&i(P,pe),M=d(Zr,M,xe),$e===null?ye=Zr:$e.sibling=Zr,$e=Zr,pe=Ue}if(Qe.done)return a(P,pe),Fe&&Zi(P,xe),ye;if(pe===null){for(;!Qe.done;xe++,Qe=B.next())Qe=ee(P,Qe.value,W),Qe!==null&&(M=d(Qe,M,xe),$e===null?ye=Qe:$e.sibling=Qe,$e=Qe);return Fe&&Zi(P,xe),ye}for(pe=l(pe);!Qe.done;xe++,Qe=B.next())Qe=Y(pe,P,xe,Qe.value,W),Qe!==null&&(t&&Qe.alternate!==null&&pe.delete(Qe.key===null?xe:Qe.key),M=d(Qe,M,xe),$e===null?ye=Qe:$e.sibling=Qe,$e=Qe);return t&&pe.forEach(function(Yb){return i(P,Yb)}),Fe&&Zi(P,xe),ye}function lt(P,M,B,W){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var ye=B.key;M!==null;){if(M.key===ye){if(ye=B.type,ye===F){if(M.tag===7){a(P,M.sibling),W=h(M,B.props.children),W.return=P,P=W;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Gs(ye)===M.type){a(P,M.sibling),W=h(M,B.props),ol(W,B),W.return=P,P=W;break e}a(P,M);break}else i(P,M);M=M.sibling}B.type===F?(W=zs(B.props.children,P.mode,W,B.key),W.return=P,P=W):(W=ec(B.type,B.key,B.props,null,P.mode,W),ol(W,B),W.return=P,P=W)}return _(P);case z:e:{for(ye=B.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(P,M.sibling),W=h(M,B.children||[]),W.return=P,P=W;break e}else{a(P,M);break}else i(P,M);M=M.sibling}W=Af(B,P.mode,W),W.return=P,P=W}return _(P);case R:return B=Gs(B),lt(P,M,B,W)}if(ft(B))return me(P,M,B,W);if(k(B)){if(ye=k(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),Ee(P,M,B,W)}if(typeof B.then=="function")return lt(P,M,oc(B),W);if(B.$$typeof===ae)return lt(P,M,ic(P,B),W);lc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(P,M.sibling),W=h(M,B),W.return=P,P=W):(a(P,M),W=Sf(B,P.mode,W),W.return=P,P=W),_(P)):a(P,M)}return function(P,M,B,W){try{al=0;var ye=lt(P,M,B,W);return ka=null,ye}catch(pe){if(pe===Va||pe===sc)throw pe;var $e=In(29,pe,null,P.mode);return $e.lanes=W,$e.return=P,$e}}}var Ys=zg(!0),Bg=zg(!1),Lr=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(t),bg(t,null,a),i}return Wu(t,l,i,a),Zu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function Pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function ul(){if(Uf){var t=Ma;if(t!==null)throw t}}function cl(t,i,a,l){Uf=!1;var h=t.updateQueue;Lr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,X=H=N=null,S=d;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(Pe&q)===q:(l&q)===q){q!==0&&q===xa&&(Uf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=t,Ee=S;q=i;var lt=a;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){ee=me.call(lt,ee,q);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,q=typeof me=="function"?me.call(lt,ee,q):me,q==null)break e;ee=T({},ee,q);break e;case 2:Lr=!0}}q=S.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=Y,N=ee):X=X.next=Y,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=ee}}function Hg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],i)}var La=V(null),uc=V(0);function Fg(t,i){t=cr,ce(uc,t),ce(La,i),cr=t|i.baseLanes}function jf(){ce(uc,cr),ce(La,La.current)}function zf(){cr=uc.current,Z(La),Z(uc)}var Dn=V(null),Yn=null;function jr(t){var i=t.alternate;ce(Rt,Rt.current&1),ce(Dn,t),Yn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Yn=t)}function Bf(t){ce(Rt,Rt.current),ce(Dn,t),Yn===null&&(Yn=t)}function Gg(t){t.tag===22?(ce(Rt,Rt.current),ce(Dn,t),Yn===null&&(Yn=t)):zr()}function zr(){ce(Rt,Rt.current),ce(Dn,Dn.current)}function Nn(t){Z(Dn),Yn===t&&(Yn=null),Z(Rt)}var Rt=V(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||$d(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nr=0,Oe=null,at=null,Vt=null,hc=!1,Pa=!1,$s=!1,fc=0,hl=0,Ua=null,PA=0;function Tt(){throw Error(s(321))}function Hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return nr=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Iy:rd,$s=!1,d=a(l,h),$s=!1,Pa&&(d=Yg(i,a,l,h)),Kg(t),d}function Kg(t){Q.H=ml;var i=at!==null&&at.next!==null;if(nr=0,Vt=at=Oe=null,hc=!1,hl=0,Ua=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&nc(t)&&(kt=!0))}function Yg(t,i,a,l){Oe=t;var h=0;do{if(Pa&&(Ua=null),hl=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Vt=at=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Dy,d=i(a,l)}while(Pa);return d}function UA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Ff(){var t=fc!==0;return fc=0,t}function Gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}nr=0,Vt=at=Oe=null,Pa=!1,hl=fc=0,Ua=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Oe.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Ct(){if(at===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=Vt===null?Oe.memoizedState:Vt.next;if(i!==null)Vt=i,at=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Oe.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Ua===null&&(Ua=[]),t=Pg(Ua,t,i),i=Oe,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Iy:rd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ae)return en(t)}throw Error(s(438,String(t)))}function Yf(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function ir(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Ct();return $f(i,at,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Pe&ee)===ee:(nr&ee)===ee){var q=H.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===xa&&(X=!0);else if((nr&q)===q){H=H.next,q===xa&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Oe.lanes|=q,qr|=q;ee=H.action,$s&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else q={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=q,_=d):N=N.next=q,Oe.lanes|=ee,qr|=ee;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=S,!Cn(d,t.memoizedState)&&(kt=!0,X&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=Ct(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Cn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function $g(t,i,a){var l=Oe,h=Ct(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Cn((at||h).memoizedState,a);if(_&&(h.memoizedState=a,kt=!0),h=h.queue,Wf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},Xg.bind(null,l,h,a,i),null),ht===null)throw Error(s(349));d||(nr&127)!==0||Qg(l,i,a)}return a}function Qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=dc(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xg(t,i,a,l){i.value=a,i.getSnapshot=l,Wg(i)&&Zg(t)}function Jg(t,i,a){return a(function(){Wg(i)&&Zg(t)})}function Wg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function Zg(t){var i=js(t,2);i!==null&&Tn(i,t,2)}function Xf(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),$s){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,$f(t,at,typeof l=="function"?l:ir)}function jA(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var S=a(h,l),N=Q.S;N!==null&&N(_,S),ny(t,i,S)}catch(H){Jf(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(H){Jf(t,i,H)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return Jf(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function Jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ry(i),i=i.next;while(i!==l)}t.action=null}function ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sy(t,i){return i}function ay(t,i){if(Fe){var a=ht.formState;if(a!==null){e:{var l=Oe;if(Fe){if(pt){t:{for(var h=pt,d=Kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=$n(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},a.queue=l,a=wy.bind(null,Oe,l),l.dispatch=a,l=Xf(!1),d=id.bind(null,Oe,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=jA.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=Ct();return ly(i,at,t)}function ly(t,i,a){if(i=$f(t,i,sy)[0],t=pc(ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===Va?sc:_}else l=i;i=Ct();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,ja(9,{destroy:void 0},zA.bind(null,h,a),null)),[l,d,t]}function zA(t,i){t.action=i}function uy(t){var i=Ct(),a=at;if(a!==null)return ly(i,a,t);Ct(),i=i.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=dc(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cy(){return Ct().memoizedState}function gc(t,i,a,l){var h=mn();Oe.flags|=t,h.memoizedState=ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var h=Ct();l=l===void 0?null:l;var d=h.memoizedState.inst;at!==null&&l!==null&&Hf(l,at.memoizedState.deps)?h.memoizedState=ja(i,d,a,l):(Oe.flags|=t,h.memoizedState=ja(1|i,d,a,l))}function hy(t,i){gc(8390656,8,t,i)}function Wf(t,i){yc(2048,8,t,i)}function BA(t){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=dc(),Oe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=Ct().memoizedState;return BA({ref:i,nextImpl:t}),function(){if((We&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return yc(4,2,t,i)}function my(t,i){return yc(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,py.bind(null,i,t),a)}function Zf(){}function yy(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=Ct();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=t(),$s){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function ed(t,i,a){return a===void 0||(nr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v_(),Oe.lanes|=t,qr|=t,a)}function vy(t,i,a,l){return Cn(a,i)?a:La.current!==null?(t=ed(t,a,l),Cn(t,i)||(kt=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(Pe&261930)===0?(kt=!0,t.memoizedState=a):(t=v_(),Oe.lanes|=t,qr|=t,i)}function Ey(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=Q.T,S={};Q.T=S,id(t,!1,i,a);try{var N=h(),H=Q.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=LA(N,l);dl(t,i,X,Mn(t))}else dl(t,i,l,Mn(t))}catch(ee){dl(t,i,{then:function(){},status:"rejected",reason:ee},Mn())}finally{le.p=d,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function HA(){}function td(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ty(t).queue;Ey(t,h,i,ge,a===null?HA:function(){return Sy(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sy(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},Mn())}function nd(){return en(Nl)}function Ay(){return Ct().memoizedState}function by(){return Ct().memoizedState}function qA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();t=Pr(a);var l=Ur(i,t,a);l!==null&&(Tn(l,i,a),ll(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function FA(t,i,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Ry(i,a):(a=Ef(t,i,a,l),a!==null&&(Tn(a,t,l),Cy(a,i,l)))}function wy(t,i,a){var l=Mn();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,_))return Wu(t,i,h,0),ht===null&&Ju(),!1}catch{}if(a=Ef(t,i,h,l),a!==null)return Tn(a,t,l),Cy(a,i,l),!0}return!1}function id(t,i,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Ef(t,a,l,2),i!==null&&Tn(i,t,2)}function _c(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function Ry(t,i){Pa=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var ml={readContext:en,use:mc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};ml.useEffectEvent=Tt;var Iy={readContext:en,use:mc,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:en,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var l=t();if($s){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=mn();if(a!==void 0){var h=a(i);if($s){Pn(!0);try{a(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=FA.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=wy.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=mn();return ed(a,t,i)},useTransition:function(){var t=Xf(!1);return t=Ey.bind(null,Oe,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,h=mn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ht===null)throw Error(s(349));(Pe&127)!==0||Qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,{destroy:void 0},Xg.bind(null,l,d,a,i),null),a},useId:function(){var t=mn(),i=ht.identifierPrefix;if(Fe){var a=Li,l=ki;a=(l&~(1<<32-bt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=PA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:nd,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=id.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yf,useCacheRefresh:function(){return mn().memoizedState=qA.bind(null,Oe)},useEffectEvent:function(t){var i=mn(),a={impl:t};return i.memoizedState=a,function(){if((We&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rd={readContext:en,use:mc,useCallback:yy,useContext:en,useEffect:Wf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:pc,useRef:cy,useState:function(){return pc(ir)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=Ct();return vy(a,at.memoizedState,t,i)},useTransition:function(){var t=pc(ir)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:$g,useId:Ay,useHostTransitionStatus:nd,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=Ct();return ey(a,at,t,i)},useMemoCache:Yf,useCacheRefresh:by};rd.useEffectEvent=fy;var Dy={readContext:en,use:mc,useCallback:yy,useContext:en,useEffect:Wf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Qf,useRef:cy,useState:function(){return Qf(ir)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=Ct();return at===null?ed(a,t,i):vy(a,at.memoizedState,t,i)},useTransition:function(){var t=Qf(ir)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:$g,useId:Ay,useHostTransitionStatus:nd,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=Ct();return at!==null?ey(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:by};Dy.useEffectEvent=fy;function sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Mn(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(Tn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Mn(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(Tn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(Tn(i,t,a),ll(i,t,a))}};function Ny(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Oy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ad.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){Xu(t)}function My(t){console.error(t)}function Vy(t){Xu(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function od(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function Ly(t){return t=Pr(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function GA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?Oc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),Oc(),!1}if(Fe)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),il(qn(t,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),il(qn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,a),h=od(t.stateNode,l,h),Pf(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Sl===null?Sl=[d]:Sl.push(d),St!==4&&(St=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=od(a.stateNode,l,t),Pf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),Py(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var ld=Error(s(461)),kt=!1;function tn(t,i,a,l){i.child=t===null?Bg(i,null,a,l):Ys(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return qs(i),l=qf(t,i,a,_,d,h),S=Ff(),t!==null&&!kt?(Gf(t,i,h),rr(t,i,h)):(Fe&&S&&bf(i),i.flags|=1,tn(t,i,l,h),i.child)}function jy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zy(t,i,d,l,h)):(t=ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!gd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return rr(t,i,h)}return i.flags|=1,t=Wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function zy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,gd(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,rr(t,i,h)}return ud(t,i,a,l,h)}function By(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Hy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):jf(),Gg(i);else return l=i.lanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),Fg(i,d),zr(),i.memoizedState=null):(t!==null&&rc(i,null),jf(),zr());return tn(t,i,h,a),i.child}function pl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,a,l,h){var d=Mf();return d=d===null?null:{parent:Mt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),jf(),Gg(i),t!==null&&Oa(t,i,l,!0),i.childLanes=h,null}function Ec(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return Ys(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function KA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,pl(null,t);if(Bf(i),(t=pt)?(t=tv(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xr!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Zt=i,pt=null)):t=null,t===null)throw Vr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Bf(i),h)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(kt||Oa(t,i,a,!1),h=(a&t.childLanes)!==0,kt||h){if(l=ht,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),Tn(l,t,_),ld;Oc(),i=qy(t,i,a)}else t=d.treeContext,pt=$n(_.nextSibling),Zt=i,Fe=!0,Mr=null,Kn=!1,t!==null&&Dg(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ud(t,i,a,l,h){return qs(i),a=qf(t,i,a,l,void 0,h),l=Ff(),t!==null&&!kt?(Gf(t,i,h),rr(t,i,h)):(Fe&&l&&bf(i),i.flags|=1,tn(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return qs(i),i.updateQueue=null,a=Yg(i,l,a,h),Kg(t),l=Ff(),t!==null&&!kt?(Gf(t,i,d),rr(t,i,d)):(Fe&&l&&bf(i),i.flags|=1,tn(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(qs(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ad.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Qs(a,S);d.props=N;var H=d.context,X=a.contextType;_=Ca,typeof X=="object"&&X!==null&&(_=en(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&Oy(i,d,l,_),Lr=!1;var q=i.memoizedState;d.state=q,cl(i,l,d,h),ul(),H=i.memoizedState,S||q!==H||Lr?(typeof ee=="function"&&(sd(i,a,ee,l),H=i.memoizedState),(N=Lr||Ny(i,a,N,l,q,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),_=i.memoizedProps,X=Qs(a,_),d.props=X,ee=i.pendingProps,q=d.context,H=a.contextType,N=Ca,typeof H=="object"&&H!==null&&(N=en(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||q!==N)&&Oy(i,d,l,N),Lr=!1,q=i.memoizedState,d.state=q,cl(i,l,d,h),ul();var Y=i.memoizedState;_!==ee||q!==Y||Lr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof S=="function"&&(sd(i,a,S,l),Y=i.memoizedState),(X=Lr||Ny(i,a,X,l,q,Y,N)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,h),i.child=Ys(i,null,a,h)):tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=rr(t,i,h),t}function Ky(t,i,a,l){return Bs(),i.flags|=256,tn(t,i,a,l),i.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:kg()}}function fd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?jr(i):zr(),(t=pt)?(t=tv(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xr!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Zt=i,pt=null)):t=null,t===null)throw Vr(i);return $d(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(zr(),h=i.mode,S=Sc({mode:"hidden",children:S},h),l=zs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,pl(null,l)):(jr(i),dd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=md(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),S=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),S=zs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=hd(a),l.childLanes=fd(t,_,a),i.memoizedState=cd,i=pl(null,l));else if(jr(i),$d(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=md(t,i,a)}else if(kt||Oa(t,i,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=ht,_!==null&&(l=Lo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),Tn(_,t,l),ld;Yd(S)||Oc(),i=md(t,i,a)}else Yd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,pt=$n(S.nextSibling),Zt=i,Fe=!0,Mr=null,Kn=!1,t!==null&&Dg(i,t),i=dd(i,l.children),i.flags|=4096);return i}return h?(zr(),S=l.fallback,h=i.mode,N=t.child,H=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=Wi(H,S):(S=zs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,pl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=hd(a):(h=S.cachePool,h!==null?(N=Mt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=kg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=fd(t,_,a),i.memoizedState=cd,pl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function dd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=In(22,t,null,i),t.lanes=0,t}function md(t,i,a){return Ys(i,t.child,null,a),t=dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function $y(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function pd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Rt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ce(Rt,_),tn(t,i,l,a),l=Fe?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,a,i);else if(t.tag===19)$y(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),pd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}pd(i,!0,a,null,d,l);break;case"together":pd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function rr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Wi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function YA(t,i,a){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),kr(i,Mt,t.memoizedState.cache),Bs();break;case 27:case 5:De(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Bf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(jr(i),t=rr(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Rt,Rt.current),l)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:kr(i,Mt,t.memoizedState.cache)}return rr(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!gd(t,a)&&(i.flags&128)===0)return kt=!1,YA(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,Fe&&(i.flags&1048576)!==0&&Ig(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gs(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Qs(t,l),i.tag=1,i=Gy(null,i,t,l,a)):(i.tag=0,i=ud(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ve){i.tag=11,i=Uy(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=jy(null,i,t,l,a);break e}}throw i=Ze(t)||t,Error(s(306,i,""))}}return i;case 0:return ud(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(re(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Lf(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,Mt,l),l!==d.cache&&Nf(i,[Mt],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ky(t,i,l,a);break e}else if(l!==h){h=qn(Error(s(424)),i),il(h),i=Ky(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=$n(t.firstChild),Zt=i,Fe=!0,Mr=null,Kn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bs(),l===h){i=rr(t,i,a);break e}tn(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Uc(Re.current).createElement(a),l[Nt]=i,l[Ft]=t,nn(l,a,t),Ot(l),i.stateNode=l):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return De(i),t===null&&Fe&&(l=i.stateNode=rv(i.type,i.pendingProps,Re.current),Zt=i,Kn=!0,h=pt,$r(i.type)?(Qd=h,pt=$n(l.firstChild)):pt=h),tn(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=pt)&&(l=Ab(l,i.type,i.pendingProps,Kn),l!==null?(i.stateNode=l,Zt=i,pt=$n(l.firstChild),Kn=!1,h=!0):h=!1),h||Vr(i)),De(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:_!==null&&Fd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,UA,null,null,a),Nl._currentValue=h),Tc(t,i),tn(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=pt)&&(a=bb(a,i.pendingProps,Kn),a!==null?(i.stateNode=a,Zt=i,pt=null,t=!0):t=!1),t||Vr(i)),null;case 13:return Yy(t,i,a);case 4:return re(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):tn(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return tn(t,i,i.pendingProps,a),i.child;case 8:return tn(t,i,i.pendingProps.children,a),i.child;case 12:return tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qs(i),h=en(h),l=l(h),i.flags|=1,tn(t,i,l,a),i.child;case 14:return jy(t,i,i.type,i.pendingProps,a);case 15:return zy(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return KA(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return qs(i),l=en(Mt),t===null?(h=Mf(),h===null&&(h=ht,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},kf(i),kr(i,Mt,h)):((t.lanes&a)!==0&&(Lf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,Mt,l)):(l=d.cache,kr(i,Mt,l),l!==h.cache&&Nf(i,[Mt],a,!0))),tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function sr(t){t.flags|=4}function yd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(A_())t.flags|=8192;else throw Ks=ac,Vf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i))if(A_())t.flags|=8192;else throw Ks=ac,Vf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Du():536870912,t.lanes|=i,qa|=i)}function gl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $A(t,i,a){var l=i.pendingProps;switch(wf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),tr(Mt),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?sr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cf())),gt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(sr(i),d!==null?(gt(i),Jy(i,d)):(gt(i),yd(i,h,null,l,a))):d?d!==t.memoizedState?(sr(i),gt(i),Jy(i,d)):(gt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&sr(i),gt(i),yd(i,h,t,l,a)),null;case 27:if(Ye(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}t=fe.current,Na(i)?Ng(i):(t=rv(h,l,a),i.stateNode=t,sr(i))}return gt(i),null;case 5:if(Ye(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(d=fe.current,Na(i))Ng(i);else{var _=Uc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Nt]=i,d[Ft]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(nn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(i)}}return gt(i),yd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,a)),t||Vr(i,!0)}else t=Uc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return gt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Nt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return gt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),gt(i),null);case 4:return oe(),t===null&&jd(i.stateNode.containerInfo),gt(i),null;case 10:return tr(i.type),gt(i),null;case 19:if(Z(Rt),l=i.memoizedState,l===null)return gt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)gl(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,gl(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)wg(a,t),a=a.sibling;return ce(Rt,Rt.current&1|2),Fe&&Zi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&At()>Ic&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return gt(i),null}else 2*At()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,h=!0,gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=At(),t.sibling=null,a=Rt.current,ce(Rt,h?a&1|2:a&1),Fe&&Zi(i,l.treeForkCount),t):(gt(i),null);case 22:case 23:return Nn(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),tr(Mt),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QA(t,i){switch(wf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return tr(Mt),oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ye(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(Rt),null;case 4:return oe(),null;case 10:return tr(i.type),null;case 22:case 23:return Nn(i),zf(),t!==null&&Z(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return tr(Mt),null;case 25:return null;default:return null}}function Wy(t,i){switch(wf(i),i.tag){case 3:tr(Mt),oe();break;case 26:case 27:case 5:Ye(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:Z(Rt);break;case 10:tr(i.type);break;case 22:case 23:Nn(i),zf(),t!==null&&Z(Fs);break;case 24:tr(Mt)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){it(i,i.return,S)}}function Br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,H=S;try{H()}catch(X){it(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){it(i,i.return,X)}}function Zy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){it(t,t.return,l)}}}function e_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function _l(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function Pi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function t_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function _d(t,i,a){try{var l=t.stateNode;yb(l,t.type,a,i),l[Ft]=i}catch(h){it(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ni));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}function i_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nn(i,l,a),i[Nt]=t,i[Ft]=a}catch(d){it(t,t.return,d)}}var ar=!1,Lt=!1,Td=!1,r_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function XA(t,i){if(t=t.containerInfo,Hd=Gc,t=gg(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,H=0,X=0,ee=t,q=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)q=ee,ee=Y;for(;;){if(ee===t)break t;if(q===a&&++H===h&&(S=_),q===d&&++X===l&&(N=_),(Y=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Gc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=Qs(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){it(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function s_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),l&4&&yl(5,a);break;case 1:if(lr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){it(a,a.return,_)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&Zy(a),l&512&&_l(a,a.return);break;case 3:if(lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&l&4&&i_(a);case 26:case 5:lr(t,a),i===null&&l&4&&t_(a),l&512&&_l(a,a.return);break;case 12:lr(t,a);break;case 31:lr(t,a),l&4&&l_(t,a);break;case 13:lr(t,a),l&4&&u_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sb.bind(null,a),wb(t,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){i=i!==null&&i.memoizedState!==null||Lt,h=ar;var d=Lt;ar=l,(Lt=i)&&!d?ur(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),ar=h,Lt=d}break;case 30:break;default:lr(t,a)}}function a_(t){var i=t.alternate;i!==null&&(t.alternate=null,a_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&da(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,yn=!1;function or(t,i,a){for(a=a.child;a!==null;)o_(t,i,a),a=a.sibling}function o_(t,i,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Lt||Pi(a,i),or(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Pi(a,i);var l=_t,h=yn;$r(a.type)&&(_t=a.stateNode,yn=!1),or(t,i,a),Cl(a.stateNode),_t=l,yn=h;break;case 5:Lt||Pi(a,i);case 6:if(l=_t,h=yn,_t=null,or(t,i,a),_t=l,yn=h,_t!==null)if(yn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){it(a,i,d)}else try{_t.removeChild(a.stateNode)}catch(d){it(a,i,d)}break;case 18:_t!==null&&(yn?(t=_t,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):Z_(_t,a.stateNode));break;case 4:l=_t,h=yn,_t=a.stateNode.containerInfo,yn=!0,or(t,i,a),_t=l,yn=h;break;case 0:case 11:case 14:case 15:Br(2,a,i),Lt||Br(4,a,i),or(t,i,a);break;case 1:Lt||(Pi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,i,l)),or(t,i,a);break;case 21:or(t,i,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,or(t,i,a),Lt=l;break;default:or(t,i,a)}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){it(i,i.return,a)}}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){it(i,i.return,a)}}function JA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new r_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new r_),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=JA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ab.bind(null,t,l);l.then(h,h)}})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if($r(S.type)){_t=S.stateNode,yn=!1;break e}break;case 5:_t=S.stateNode,yn=!1;break e;case 3:case 4:_t=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(_t===null)throw Error(s(160));o_(d,_,h),_t=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c_(i,t),i=i.sibling}var li=null;function c_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),vn(t),l&4&&(Br(3,t,t.return),yl(3,t),Br(5,t,t.return));break;case 1:_n(i,t),vn(t),l&512&&(Lt||a===null||Pi(a,a.return)),l&64&&ar&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(_n(i,t),vn(t),l&512&&(Lt||a===null||Pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ai]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,a),d[Nt]=t,Ot(d),l=d;break e;case"link":var _=cv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=cv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,Ot(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&_d(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),vn(t),l&512&&(Lt||a===null||Pi(a,a.return)),a!==null&&l&4&&_d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),vn(t),l&512&&(Lt||a===null||Pi(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(me){it(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,_d(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(_n(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){it(t,t.return,me)}}break;case 3:if(Bc=null,h=li,li=jc(i.containerInfo),_n(i,t),li=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(i.containerInfo)}catch(me){it(t,t.return,me)}Td&&(Td=!1,h_(t));break;case 4:l=li,li=jc(t.stateNode.containerInfo),_n(i,t),vn(t),li=l;break;case 12:_n(i,t),vn(t);break;case 31:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:_n(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=At()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=ar,X=Lt;if(ar=H||h,Lt=X||N,_n(i,t),Lt=X,ar=H,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||ar||Lt||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(me){it(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){it(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;h?ev(Y,!0):ev(N.stateNode,!1)}catch(me){it(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:_n(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:_n(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=vd(t);bc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var S=vd(t);bc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=vd(t);Ed(t,H,N);break;default:throw Error(s(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function lr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s_(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Xs(i);break;case 1:Pi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e_(i,i.return,a),Xs(i);break;case 27:Cl(i.stateNode);case 26:case 5:Pi(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function ur(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ur(h,d,a),yl(4,d);break;case 1:if(ur(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){it(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hg(N[h],S)}catch(H){it(l,l.return,H)}}a&&_&64&&Zy(d),_l(d,d.return);break;case 27:i_(d);case 26:case 5:ur(h,d,a),a&&l===null&&_&4&&t_(d),_l(d,d.return);break;case 12:ur(h,d,a);break;case 31:ur(h,d,a),a&&_&4&&l_(h,d);break;case 13:ur(h,d,a),a&&_&4&&u_(h,d);break;case 22:d.memoizedState===null&&ur(h,d,a),_l(d,d.return);break;case 30:break;default:ur(h,d,a)}i=i.sibling}}function Sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ui(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,l),h&2048&&yl(9,i);break;case 1:ui(t,i,a,l);break;case 3:ui(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){ui(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){it(i,i.return,N)}}else ui(t,i,a,l);break;case 31:ui(t,i,a,l);break;case 13:ui(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ui(t,i,a,l):vl(t,i):d._visibility&2?ui(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Sd(_,i);break;case 24:ui(t,i,a,l),h&2048&&Ad(i.alternate,i);break;default:ui(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:za(d,_,S,N,h),yl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?za(d,_,S,N,h):vl(d,_):(X._visibility|=2,za(d,_,S,N,h)),h&&H&2048&&Sd(_.alternate,_);break;case 24:za(d,_,S,N,h),h&&H&2048&&Ad(_.alternate,_);break;default:za(d,_,S,N,h)}i=i.sibling}}function vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&Sd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Ad(l.alternate,l);break;default:vl(a,l)}i=i.sibling}}var El=8192;function Ba(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)d_(t,i,a),t=t.sibling}function d_(t,i,a){switch(t.tag){case 26:Ba(t,i,a),t.flags&El&&t.memoizedState!==null&&Pb(a,li,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,i,a);break;case 3:case 4:var l=li;li=jc(t.stateNode.containerInfo),Ba(t,i,a),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ba(t,i,a),El=l):Ba(t,i,a));break;default:Ba(t,i,a)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Tl(t);break;default:Tl(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function g_(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(a_(l),l===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var WA={getCacheForType:function(t){var i=en(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return en(Mt).controller.signal}},ZA=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,Ve=null,Pe=0,nt=0,On=null,Hr=!1,Ha=!1,bd=!1,cr=0,St=0,qr=0,Js=0,wd=0,xn=0,qa=0,Sl=null,En=null,Rd=!1,Cc=0,y_=0,Ic=1/0,Dc=null,Fr=null,zt=0,Gr=null,Fa=null,hr=0,Cd=0,Id=null,__=null,Al=0,Dd=null;function Mn(){return(We&2)!==0&&Pe!==0?Pe&-Pe:Q.T!==null?kd():Nu()}function v_(){if(xn===0)if((Pe&536870912)===0||Fe){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),xn=t}else xn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),xn}function Tn(t,i,a){(t===ht&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Kr(t,Pe,xn,!1)),ws(t,a),((We&2)===0||t!==ht)&&(t===ht&&((We&2)===0&&(Js|=a),St===4&&Kr(t,Pe,xn,!1)),Ui(t))}function E_(t,i,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Zn(t,i),h=l?nb(t,i):Od(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!eb(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Sl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ga(S,_).flags|=256),_=Od(S,_,!1),_!==2){if(bd&&!N){S.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,xn,!Hr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-At(),10<h)){if(Kr(l,i,xn,!Hr),Ei(l,0,!0)!==0)break e;hr=i,l.timeoutHandle=J_(T_.bind(null,l,a,En,Dc,Rd,i,xn,Js,qa,Hr,d,"Throttled",-0,0),h);break e}T_(l,a,En,Dc,Rd,i,xn,Js,qa,Hr,d,null,-0,0)}}break}while(!0);Ui(t)}function T_(t,i,a,l,h,d,_,S,N,H,X,ee,q,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},d_(i,d,ee);var me=(d&62914560)===d?Cc-At():(d&4194048)===d?y_-At():0;if(me=Ub(ee,me),me!==null){hr=d,t.cancelPendingCommit=me(D_.bind(null,t,i,d,a,l,h,_,S,N,X,ee,null,q,Y)),Kr(t,d,_,!H);return}}D_(t,i,d,a,l,h,_,S,N)}function eb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~wd,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-bt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Rs(t,a,i)}function Nc(){return(We&6)===0?(bl(0),!1):!0}function Nd(){if(Ve!==null){if(nt===0)var t=Ve.return;else t=Ve,er=Hs=null,Kf(t),ka=null,al=0,t=Ve;for(;t!==null;)Wy(t.alternate,t),t=t.return;Ve=null}}function Ga(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Eb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,Nd(),ht=t,Ve=a=Wi(t.current,null),Pe=i,nt=0,On=null,Hr=!1,Ha=Zn(t,i),bd=!1,qa=xn=wd=Js=qr=St=0,En=Sl=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-bt(l),d=1<<h;i|=t[h],l&=~d}return cr=i,Ju(),a}function S_(t,i){Oe=null,Q.H=ml,i===Va||i===sc?(i=Ug(),nt=3):i===Vf?(i=Ug(),nt=4):nt=i===ld?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Ve===null&&(St=1,vc(t,qn(i,t.current)))}function A_(){var t=Dn.current;return t===null?!0:(Pe&4194048)===Pe?Yn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Yn:!1}function b_(){var t=Q.H;return Q.H=ml,t===null?ml:t}function w_(){var t=Q.A;return Q.A=WA,t}function Oc(){St=4,Hr||(Pe&4194048)!==Pe&&Dn.current!==null||(Ha=!0),(qr&134217727)===0&&(Js&134217727)===0||ht===null||Kr(ht,Pe,xn,!1)}function Od(t,i,a){var l=We;We|=2;var h=b_(),d=w_();(ht!==t||Pe!==i)&&(Dc=null,Ga(t,i)),i=!1;var _=St;e:do try{if(nt!==0&&Ve!==null){var S=Ve,N=On;switch(nt){case 8:Nd(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var H=nt;if(nt=0,On=null,Ka(t,S,N,H),a&&Ha){_=0;break e}break;default:H=nt,nt=0,On=null,Ka(t,S,N,H)}}tb(),_=St;break}catch(X){S_(t,X)}while(!0);return i&&t.shellSuspendCounter++,er=Hs=null,We=l,Q.H=h,Q.A=d,Ve===null&&(ht=null,Pe=0,Ju()),_}function tb(){for(;Ve!==null;)R_(Ve)}function nb(t,i){var a=We;We|=2;var l=b_(),h=w_();ht!==t||Pe!==i?(Dc=null,Ic=At()+500,Ga(t,i)):Ha=Zn(t,i);e:do try{if(nt!==0&&Ve!==null){i=Ve;var d=On;t:switch(nt){case 1:nt=0,On=null,Ka(t,i,d,1);break;case 2:case 9:if(Lg(d)){nt=0,On=null,C_(i);break}i=function(){nt!==2&&nt!==9||ht!==t||(nt=7),Ui(t)},d.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Lg(d)?(nt=0,On=null,C_(i)):(nt=0,On=null,Ka(t,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var S=Ve;if(_?fv(_):S.stateNode.complete){nt=0,On=null;var N=S.sibling;if(N!==null)Ve=N;else{var H=S.return;H!==null?(Ve=H,xc(H)):Ve=null}break t}}nt=0,On=null,Ka(t,i,d,5);break;case 6:nt=0,On=null,Ka(t,i,d,6);break;case 8:Nd(),St=6;break e;default:throw Error(s(462))}}ib();break}catch(X){S_(t,X)}while(!0);return er=Hs=null,Q.H=l,Q.A=h,We=a,Ve!==null?0:(ht=null,Pe=0,Ju(),St)}function ib(){for(;Ve!==null&&!Jn();)R_(Ve)}function R_(t){var i=Xy(t.alternate,t,cr);t.memoizedProps=t.pendingProps,i===null?xc(t):Ve=i}function C_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Kf(i);default:Wy(a,i),i=Ve=wg(i,cr),i=Xy(a,i,cr)}t.memoizedProps=t.pendingProps,i===null?xc(t):Ve=i}function Ka(t,i,a,l){er=Hs=null,Kf(i),ka=null,al=0;var h=i.return;try{if(GA(t,h,i,a,Pe)){St=1,vc(t,qn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;St=1,vc(t,qn(a,t.current)),Ve=null;return}i.flags&32768?(Fe||l===1?t=!0:Ha||(Pe&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){I_(i,Hr);return}t=i.return;var a=$A(i.alternate,i,cr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);St===0&&(St=5)}function I_(t,i){do{var a=QA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);St=6,Ve=null}function D_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Mc();while(zt!==0);if((We&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vf,cf(t,a,d,_,S,N),t===ht&&(Ve=ht=null,Pe=0),Fa=i,Gr=t,hr=a,Cd=d,Id=h,__=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ob(Sr,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=le.p,le.p=2,_=We,We|=4;try{XA(t,i,a)}finally{We=_,le.p=h,Q.T=l}}zt=1,N_(),O_(),x_()}}function N_(){if(zt===1){zt=0;var t=Gr,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=We;We|=4;try{c_(i,t);var d=qd,_=gg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&pg(S.ownerDocument.documentElement,S)){if(N!==null&&mf(S)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var Y=q.getSelection(),me=S.textContent.length,Ee=Math.min(N.start,me),lt=N.end===void 0?Ee:Math.min(N.end,me);!Y.extend&&Ee>lt&&(_=lt,lt=Ee,Ee=_);var P=mg(S,Ee),M=mg(S,lt);if(P&&M&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(P.node,P.offset),Y.removeAllRanges(),Ee>lt?(Y.addRange(B),Y.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Y.addRange(B))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Gc=!!Hd,qd=Hd=null}finally{We=h,le.p=l,Q.T=a}}t.current=i,zt=2}}function O_(){if(zt===2){zt=0;var t=Gr,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=We;We|=4;try{s_(t,i.alternate,i)}finally{We=h,le.p=l,Q.T=a}}zt=3}}function x_(){if(zt===4||zt===3){zt=0,Yi();var t=Gr,i=Fa,a=hr,l=__;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Fa=Gr=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fr=null),$i(a),i=i.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=le.p,le.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,le.p=h}}(hr&3)!==0&&Mc(),Ui(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?Al++:(Al=0,Dd=t):Al=0,bl(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Mc(){return N_(),O_(),x_(),V_()}function V_(){if(zt!==5)return!1;var t=Gr,i=Cd;Cd=0;var a=$i(hr),l=Q.T,h=le.p;try{le.p=32>a?32:a,Q.T=null,a=Id,Id=null;var d=Gr,_=hr;if(zt=0,Fa=Gr=null,hr=0,(We&6)!==0)throw Error(s(331));var S=We;if(We|=4,p_(d.current),f_(d,d.current,_,a),We=S,bl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{le.p=h,Q.T=l,M_(t,i)}}function k_(t,i,a){i=qn(a,i),i=od(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(ws(t,2),Ui(t))}function it(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=qn(a,t),a=Ly(2),l=Ur(i,a,2),l!==null&&(Py(a,l,i,t),ws(l,2),Ui(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ZA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=rb.bind(null,t,i,a),i.then(t,t))}function rb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Pe&a)===a&&(St===4||St===3&&(Pe&62914560)===Pe&&300>At()-Cc?(We&2)===0&&Ga(t,0):wd|=a,qa===Pe&&(qa=0)),Ui(t)}function L_(t,i){i===0&&(i=Du()),t=js(t,i),t!==null&&(ws(t,i),Ui(t))}function sb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),L_(t,a)}function ab(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),L_(t,a)}function ob(t,i){return rt(t,i)}var Vc=null,Ya=null,Md=!1,kc=!1,Vd=!1,Yr=0;function Ui(t){t!==Ya&&t.next===null&&(Ya===null?Vc=Ya=t:Ya=Ya.next=t),kc=!0,Md||(Md=!0,ub())}function bl(t,i){if(!Vd&&kc){Vd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=Pe,d=Ei(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,z_(l,d));l=l.next}while(a);Vd=!1}}function lb(){P_()}function P_(){kc=Md=!1;var t=0;Yr!==0&&vb()&&(t=Yr);for(var i=At(),a=null,l=Vc;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}zt!==0&&zt!==5||bl(t),Yr!==0&&(Yr=0)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-bt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=uf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=ht,a=Pe,a=Ei(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&on(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&on(l),$i(a)){case 2:case 8:a=Vo;break;case 32:a=Sr;break;case 268435456:a=bu;break;default:a=Sr}return l=j_.bind(null,t),a=rt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&on(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=Pe;return l=Ei(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E_(t,l,i),U_(t,At()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function z_(t,i){if(Mc())return null;E_(t,i,!0)}function ub(){Tb(function(){(We&6)!==0?rt(Mo,lb):P_()})}function kd(){if(Yr===0){var t=xa;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Yr=t}return Yr}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function H_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function cb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[Ft]||null).action),_=l.submitter;_&&(i=(i=_[Ft]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Oi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?H_(h,_):new FormData(h);td(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?H_(h,_):new FormData(h),td(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Ld=0;Ld<_f.length;Ld++){var Pd=_f[Ld],hb=Pd.toLowerCase(),fb=Pd[0].toUpperCase()+Pd.slice(1);oi(hb,"on"+fb)}oi(vg,"onAnimationEnd"),oi(Eg,"onAnimationIteration"),oi(Tg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(IA,"onTransitionRun"),oi(DA,"onTransitionStart"),oi(NA,"onTransitionCancel"),oi(Sg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){Xu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){Xu(X)}h.currentTarget=null,d=N}}}}function ke(t,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Lc]){t[Lc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(db.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Ud("selectionchange",!1,i))}}function F_(t,i,a,l){switch(vv(i)){case 2:var h=Bb;break;case 8:h=Hb;break;default:h=em}a=h.bind(null,i,a,t),h=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=bi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Ir(function(){var H=d,X=jn(a),ee=[];e:{var q=Ag.get(t);if(q!==void 0){var Y=Oi,me=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":Y=Yu;break;case"focusin":me="focus",Y=ks;break;case"focusout":me="blur",Y=ks;break;case"beforeblur":case"afterblur":Y=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case vg:case Eg:case Tg:Y=zu;break;case Sg:Y=A;break;case"scroll":case"scrollend":Y=Qo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ji;break;case"toggle":case"beforetoggle":Y=Ne}var Ee=(i&4)!==0,lt=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var M=H,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||P===null||(W=ii(M,P),W!=null&&Ee.push(Rl(M,W,B))),lt)break;M=M.return}0<Ee.length&&(q=new Y(q,me,null,a,X),ee.push({event:q,listeners:Ee}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==Ko&&(me=a.relatedTarget||a.fromElement)&&(bi(me)||me[Si]))break e;if((Y||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(me=a.relatedTarget||a.toElement,Y=H,me=me?bi(me):null,me!==null&&(lt=u(me),Ee=me.tag,me!==lt||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(Y=null,me=H),Y!==me)){if(Ee=Xo,W="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Ji,W="onPointerLeave",P="onPointerEnter",M="pointer"),lt=Y==null?q:wn(Y),B=me==null?q:wn(me),q=new Ee(W,M+"leave",Y,a,X),q.target=lt,q.relatedTarget=B,W=null,bi(X)===H&&(Ee=new Ee(P,M+"enter",me,a,X),Ee.target=B,Ee.relatedTarget=lt,W=Ee),lt=W,Y&&me)t:{for(Ee=mb,P=Y,M=me,B=0,W=P;W;W=Ee(W))B++;W=0;for(var ye=M;ye;ye=Ee(ye))W++;for(;0<B-W;)P=Ee(P),B--;for(;0<W-B;)M=Ee(M),W--;for(;B--;){if(P===M||M!==null&&P===M.alternate){Ee=P;break t}P=Ee(P),M=Ee(M)}Ee=null}else Ee=null;Y!==null&&G_(ee,q,Y,Ee,!1),me!==null&&lt!==null&&G_(ee,lt,me,Ee,!0)}}e:{if(q=H?wn(H):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var $e=lg;else if(ag(q))if(ug)$e=wA;else{$e=AA;var pe=SA}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&ga(H.elementType)&&($e=lg):$e=bA;if($e&&($e=$e(t,H))){og(ee,$e,a,X);break e}pe&&pe(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&qo(q,"number",q.value)}switch(pe=H?wn(H):window,t){case"focusin":(ag(pe)||pe.contentEditable==="true")&&(ba=pe,pf=H,tl=null);break;case"focusout":tl=pf=ba=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,yg(ee,a,X);break;case"selectionchange":if(CA)break;case"keydown":case"keyup":yg(ee,a,X)}var xe;if(Je)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Aa?Ls(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Vi&&a.locale!=="ko"&&(Aa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Aa&&(xe=$o()):(Ni=X,Yo="value"in Ni?Ni.value:Ni.textContent,Aa=!0)),pe=Pc(H,Ue),0<pe.length&&(Ue=new Mi(Ue,t,null,a,X),ee.push({event:Ue,listeners:pe}),xe?Ue.data=xe:(xe=Sa(a),xe!==null&&(Ue.data=xe)))),(xe=Bn?_A(t,a):vA(t,a))&&(Ue=Pc(H,"onBeforeInput"),0<Ue.length&&(pe=new Mi("onBeforeInput","beforeinput",null,a,X),ee.push({event:pe,listeners:Ue}),pe.data=xe)),cb(ee,t,H,a,X)}q_(ee,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ii(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=ii(t,i),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,h?(H=ii(a,d),H!=null&&_.unshift(Rl(a,H,N))):h||(H=ii(a,d),H!=null&&_.push(Rl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(pb,`
`).replace(gb,"")}function Y_(t,i){return i=K_(i),K_(t)===i}function ot(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",h.name,h,null),ot(t,i,"formEncType",h.formEncType,h,null),ot(t,i,"formMethod",h.formMethod,h,null),ot(t,i,"formTarget",h.formTarget,h,null)):(ot(t,i,"encType",h.encType,h,null),ot(t,i,"method",h.method,h,null),ot(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ni);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,ma(t,a,l))}}function Bd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ft]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ma(t,a,l)}}}function nn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,d,_,a,null)}}h&&ot(t,i,"srcSet",a.srcSet,a,null),l&&ot(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=_=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:ot(t,i,l,X,a,null)}}Vu(t,d,S,N,H,_,h,!1);return;case"select":ke("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ot(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?br(t,!!l,i,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ot(t,i,_,S,a,null)}wr(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ot(t,i,N,l,a,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)ke(wl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,H,l,a,null)}return;default:if(ga(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Bd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ot(t,i,S,l,a,null))}function yb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,H=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||ot(t,i,Y,null,l,ee)}}for(var q in l){var Y=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(Y!=null||ee!=null))switch(q){case"type":d=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&ot(t,i,q,Y,l,ee)}}pa(t,_,S,N,H,X,d,h);return;case"select":Y=_=S=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||ot(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&ot(t,i,h,d,l,N)}i=S,a=_,l=Y,q!=null?br(t,!!a,q,!1):!!l!=!!a&&(i!=null?br(t,!!a,i,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ot(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ot(t,i,_,h,l,d)}ku(t,q,Y);return;case"option":for(var me in a)q=a[me],a.hasOwnProperty(me)&&q!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:ot(t,i,me,null,l,q));for(N in l)q=l[N],Y=a[N],l.hasOwnProperty(N)&&q!==Y&&(q!=null||Y!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":ot(t,i,N,q,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&ot(t,i,Ee,null,l,q);for(H in l)if(q=l[H],Y=a[H],l.hasOwnProperty(H)&&q!==Y&&(q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:ot(t,i,H,q,l,Y)}return;default:if(ga(i)){for(var lt in a)q=a[lt],a.hasOwnProperty(lt)&&q!==void 0&&!l.hasOwnProperty(lt)&&Bd(t,i,lt,void 0,l,q);for(X in l)q=l[X],Y=a[X],!l.hasOwnProperty(X)||q===Y||q===void 0&&Y===void 0||Bd(t,i,X,q,l,Y);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&ot(t,i,P,null,l,q);for(ee in l)q=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||q===Y||q==null&&Y==null||ot(t,i,ee,q,l,Y)}function $_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _b(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&$_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>S)break;var X=N.transferSize,ee=N.initiatorType;X&&$_(ee)&&(N=N.responseEnd,_+=X*(N<S?1:(S-H)/(N-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,qd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function Q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function vb(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(Sb)}:J_;function Sb(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function Z_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ai]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(t.ownerDocument.body);a=h}while(a);Ja(i)}function ev(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ab(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function bb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function tv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=$n(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qd=null;function nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return $n(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function rv(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);da(t)}var Qn=new Map,sv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=le.d;le.d={f:Rb,r:Cb,D:Ib,C:Db,L:Nb,m:Ob,X:Mb,S:xb,M:Vb};function Rb(){var t=fr.f(),i=Nc();return t||i}function Cb(t){var i=Un(t);i!==null&&i.tag===5&&i.type==="form"?Sy(i):fr.r(t)}var $a=typeof document>"u"?null:document;function av(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=pn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sv.has(h)||(sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nn(i,"link",t),Ot(i),l.head.appendChild(i)))}}function Ib(t){fr.D(t),av("dns-prefetch",t,null)}function Db(t,i){fr.C(t,i),av("preconnect",t,i)}function Nb(t,i,a){fr.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Xa(t)}Qn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),nn(i,"link",t),Ot(i),l.head.appendChild(i)))}}function Ob(t,i){fr.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Qn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),nn(l,"link",t),Ot(l),a.head.appendChild(l)}}}function xb(t,i,a){fr.S(t,i,a);var l=$a;if(l&&t){var h=wi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Il(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&Xd(t,a);var N=_=l.createElement("link");Ot(N),nn(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Mb(t,i){fr.X(t,i);var a=$a;if(a&&t){var l=wi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=T({src:t,async:!0},i),(i=Qn.get(h))&&Jd(t,i),d=a.createElement("script"),Ot(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Vb(t,i){fr.M(t,i);var a=$a;if(a&&t){var l=wi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Qn.get(h))&&Jd(t,i),d=a.createElement("script"),Ot(d),nn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,i,a,l){var h=(h=Re.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=wi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=wi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||kb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=wi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+pn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function kb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",a),Ot(i),t.head.appendChild(i))}function Xa(t){return'[src="'+pn(t)+'"]'}function Dl(t){return"script[async]"+t}function uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return i.instance=l,Ot(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),nn(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,Ot(d),d;l=lv(a),(h=Qn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),Ot(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),nn(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,Ot(h),h):(l=a,(h=Qn.get(d))&&(l=T({},a),Jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),nn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function cv(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ai]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function hv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Lb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Pb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Il(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ot(d);return}d=i.ownerDocument||i,l=lv(l),(h=Qn.get(h))&&Xd(l,h),d=d.createElement("link"),Ot(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),nn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function Ub(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*_b());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,i.forEach(jb,t),qc=null,Hc.call(t))}function jb(t,i){if(!(i.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function zb(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function dv(t,i,a,l,h,d,_,S,N,H,X,ee){return t=new zb(t,i,a,_,N,H,X,ee,S),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},kf(d),t}function mv(t){return t?(t=Ca,t):Ca}function pv(t,i,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(Tn(a,t,i),ll(a,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function yv(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&Tn(i,t,67108864),Zd(t,67108864)}}function _v(t){if(t.tag===13||t.tag===31){var i=Mn();i=Cs(i);var a=js(t,i);a!==null&&Tn(a,t,i),Zd(t,i)}}var Gc=!0;function Bb(t,i,a,l){var h=Q.T;Q.T=null;var d=le.p;try{le.p=2,em(t,i,a,l)}finally{le.p=d,Q.T=h}}function Hb(t,i,a,l){var h=Q.T;Q.T=null;var d=le.p;try{le.p=8,em(t,i,a,l)}finally{le.p=d,Q.T=h}}function em(t,i,a,l){if(Gc){var h=tm(l);if(h===null)zd(t,i,l,Kc,a),Ev(t,l);else if(Fb(h,t,i,a,l))l.stopPropagation();else if(Ev(t,l),i&4&&-1<qb.indexOf(t)){for(;h!==null;){var d=Un(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=vi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-bt(_);S.entanglements[1]|=N,_&=~N}Ui(d),(We&6)===0&&(Ic=At()+500,bl(0))}}break;case 31:case 13:S=js(d,2),S!==null&&Tn(S,d,2),Nc(),Zd(d,2)}if(d=tm(l),d===null&&zd(t,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,a)}}function tm(t){return t=jn(t),nm(t)}var Kc=null;function nm(t){if(Kc=null,t=bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bn()){case Mo:return 2;case Vo:return 8;case Sr:case lf:return 32;case bu:return 268435456;default:return 32}default:return 32}}var im=!1,Qr=null,Xr=null,Jr=null,Ol=new Map,xl=new Map,Wr=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Un(i),i!==null&&yv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Fb(t,i,a,l,h){switch(i){case"focusin":return Qr=Ml(Qr,t,i,a,l,h),!0;case"dragenter":return Xr=Ml(Xr,t,i,a,l,h),!0;case"mouseover":return Jr=Ml(Jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Ml(xl.get(d)||null,t,i,a,l,h)),!0}return!1}function Tv(t){var i=bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ei(t.priority,function(){_v(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ei(t.priority,function(){_v(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=Un(a),i!==null&&yv(i),t.blockedOn=a,!1;i.shift()}return!0}function Sv(t,i,a){Yc(t)&&a.delete(i)}function Gb(){im=!1,Qr!==null&&Yc(Qr)&&(Qr=null),Xr!==null&&Yc(Xr)&&(Xr=null),Jr!==null&&Yc(Jr)&&(Jr=null),Ol.forEach(Sv),xl.forEach(Sv)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gb)))}var Qc=null;function Av(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=Un(a);d!==null&&(t.splice(i,3),i-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ja(t){function i(N){return $c(N,t)}Qr!==null&&$c(Qr,t),Xr!==null&&$c(Xr,t),Jr!==null&&$c(Jr,t),Ol.forEach(i),xl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ft]||null;if(typeof d=="function")_||Av(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ft]||null)S=_.formAction;else if(nm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Av(a)}}}function bv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rm(t){this._internalRoot=t}Xc.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();pv(a,l,t,i,null,null)},Xc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),Nc(),i[Si]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&Tv(t)}};var wv=e.version;if(wv!=="19.2.4")throw Error(s(527,wv,"19.2.4"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Kb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Wn=Jc.inject(Kb),Jt=Jc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=My,_=Vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=dv(t,1,!1,null,null,a,l,null,h,d,_,bv),t[Si]=i.current,jd(t),new rm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=My,S=Vy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=dv(t,1,!0,i,a??null,l,h,N,d,_,S,bv),i.context=mv(null),a=i.current,l=Mn(),l=Cs(l),h=Pr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,ws(i,a),Ui(i),t[Si]=i.current,jd(t),new Xc(i)},kl.version="19.2.4",kl}var kv;function nw(){if(kv)return om.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=tw(),om.exports}var iw=nw();var Lv="popstate";function rw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Rm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return aw(e,n,null,r)}function vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sw(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Rm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||sw()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Eo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function aw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let G=E(),se=G==null?null:G-y;y=G,p&&p({action:m,location:F.location,delta:se})}function w(G,se){m="PUSH";let J=Rm(F.location,G,se);y=E()+1;let ae=Pv(J,y),ve=F.createHref(J);try{f.pushState(ae,"",ve)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(ve)}u&&p&&p({action:m,location:F.location,delta:1})}function L(G,se){m="REPLACE";let J=Rm(F.location,G,se);y=E();let ae=Pv(J,y),ve=F.createHref(J);f.replaceState(ae,"",ve),u&&p&&p({action:m,location:F.location,delta:0})}function z(G){return ow(G)}let F={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Lv,T),p=G,()=>{o.removeEventListener(Lv,T),p=null}},createHref(G){return e(o,G)},createURL:z,encodeLocation(G){let se=z(G);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:w,replace:L,go(G){return f.go(G)}};return F}function ow(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RT(r,e,n="/"){return lw(r,e,n,!1)}function lw(r,e,n,s){let o=typeof e=="string"?Eo(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let f=CT(r);uw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Ew(u);m=_w(f[p],y,s)}return m}function CT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;vt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=pr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(vt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),CT(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:gw(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of IT(f.path))u(f,m,!0,p)}),e}function IT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=IT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function uw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:yw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cw=/^:[\w-]+$/,hw=3,fw=2,dw=1,mw=10,pw=-2,Uv=r=>r==="*";function gw(r,e){let n=r.split("/"),s=n.length;return n.some(Uv)&&(s+=pw),e&&(s+=fw),n.filter(o=>!Uv(o)).reduce((o,u)=>o+(cw.test(u)?hw:u===""?dw:mw),s)}function yw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function _w(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:pr([u,T.pathname]),pathnameBase:bw(pr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=pr([u,T.pathnameBase]))}return f}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=vw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let z=m[w]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const L=m[w];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function vw(r,e=!1,n=!0){pi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ew(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Sw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=jv(n.substring(1),"/"):u=jv(n,e)):u=e,{pathname:u,search:ww(s),hash:Rw(o)}}function jv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(r){let e=Aw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(r,e,n,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},vt(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=Sw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var pr=r=>r.join("/").replace(/\/\/+/g,"/"),bw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Cw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Iw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Dw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NT(r,e){let n=r;if(typeof n!="string"||!Tw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(DT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=gr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{pi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OT=["POST","PUT","PATCH","DELETE"];new Set(OT);var Nw=["GET",...OT];new Set(Nw);var To=U.createContext(null);To.displayName="DataRouter";var zh=U.createContext(null);zh.displayName="DataRouterState";var Ow=U.createContext(!1),xT=U.createContext({isTransitioning:!1});xT.displayName="ViewTransition";var xw=U.createContext(new Map);xw.displayName="Fetchers";var Mw=U.createContext(null);Mw.displayName="Await";var Ln=U.createContext(null);Ln.displayName="Navigation";var cu=U.createContext(null);cu.displayName="Location";var Ki=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var lp=U.createContext(null);lp.displayName="RouteError";var MT="REACT_ROUTER_ERROR",Vw="REDIRECT",kw="ROUTE_ERROR_RESPONSE";function Lw(r){if(r.startsWith(`${MT}:${Vw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Pw(r){if(r.startsWith(`${MT}:${kw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Cw(e.status,e.statusText,e.data)}catch{}}function Uw(r,{relative:e}={}){vt(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Ln),{hash:o,pathname:u,search:f}=hu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return U.useContext(cu)!=null}function Es(){return vt(So(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(cu).location}var VT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kT(r){U.useContext(Ln).static||U.useLayoutEffect(r)}function Ao(){let{isDataRoute:r}=U.useContext(Ki);return r?Jw():jw()}function jw(){vt(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(To),{basename:e,navigator:n}=U.useContext(Ln),{matches:s}=U.useContext(Ki),{pathname:o}=Es(),u=JSON.stringify(ap(s)),f=U.useRef(!1);return kT(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(pi(f.current,VT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=op(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:pr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}U.createContext(null);function hu(r,{relative:e}={}){let{matches:n}=U.useContext(Ki),{pathname:s}=Es(),o=JSON.stringify(ap(n));return U.useMemo(()=>op(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function zw(r,e){return LT(r,e)}function LT(r,e,n,s,o){vt(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Ln),{matches:f}=U.useContext(Ki),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";UT(y,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=Es(),L;if(e){let J=typeof e=="string"?Eo(e):e;vt(E==="/"||J.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),L=J}else L=w;let z=L.pathname||"/",F=z;if(E!=="/"){let J=E.replace(/^\//,"").split("/");F="/"+z.replace(/^\//,"").split("/").slice(J.length).join("/")}let G=RT(r,{pathname:F});pi(T||G!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),pi(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=Gw(G&&G.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:pr([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:pr([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),f,n,s,o);return e&&se?U.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},se):se}function Bw(){let r=Xw(),e=Iw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var Hw=U.createElement(Bw,null),PT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Pw(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(Ki.Provider,{value:this.props.routeContext},U.createElement(lp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(qw,{error:r},e):e}};PT.contextType=Ow;var fm=new WeakMap;function qw({children:r,error:e}){let{basename:n}=U.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Lw(e.digest);if(s){let o=fm.get(e);if(o)throw o;let u=NT(s.location,n);if(DT&&!fm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw fm.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Fw({routeContext:r,match:e,children:n}){let s=U.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Ki.Provider,{value:r},n)}function Gw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);vt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:L}=n,z=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Dw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let L,z=!1,F=null,G=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,F=T.route.errorElement||Hw,m&&(p<0&&w===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,G=null):p===w&&(z=!0,G=T.route.hydrateFallbackElement||null)));let se=e.concat(u.slice(0,w+1)),J=()=>{let ae;return L?ae=F:z?ae=G:T.route.Component?ae=U.createElement(T.route.Component,null):T.route.element?ae=T.route.element:ae=E,U.createElement(Fw,{match:T,routeContext:{outlet:E,matches:se,isDataRoute:n!=null},children:ae})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?U.createElement(PT,{location:n.location,revalidation:n.revalidation,component:F,error:L,children:J(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:y}):J()},null)}function up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(r){let e=U.useContext(To);return vt(e,up(r)),e}function Yw(r){let e=U.useContext(zh);return vt(e,up(r)),e}function $w(r){let e=U.useContext(Ki);return vt(e,up(r)),e}function cp(r){let e=$w(r),n=e.matches[e.matches.length-1];return vt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Qw(){return cp("useRouteId")}function Xw(){let r=U.useContext(lp),e=Yw("useRouteError"),n=cp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Jw(){let{router:r}=Kw("useNavigate"),e=cp("useNavigate"),n=U.useRef(!1);return kT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{pi(n.current,VT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var zv={};function UT(r,e,n){!e&&!zv[r]&&(zv[r]=!0,pi(!1,n))}U.memo(Ww);function Ww({routes:r,future:e,state:n,onError:s}){return LT(r,void 0,n,s,e)}function Zw({to:r,replace:e,state:n,relative:s}){vt(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Ln);pi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Ki),{pathname:f}=Es(),m=Ao(),p=op(r,ap(u),f,s==="path"),y=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function jl(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){vt(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Eo(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:L="default"}=n,z=U.useMemo(()=>{let F=gr(y,m);return F==null?null:{location:{pathname:F,search:E,hash:T,state:w,key:L},navigationType:s}},[m,y,E,T,w,L,s]);return pi(z!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:U.createElement(Ln.Provider,{value:p},U.createElement(cu.Provider,{children:e,value:z}))}function t1({children:r,location:e}){return zw(Cm(r),e)}function Cm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Cm(s.props.children,u));return}vt(s.type===jl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Bh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function n1(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function i1(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function r1(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function s1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function a1(r,e){return r.button===0&&(!e||e==="_self")&&!s1(r)}var Wc=null;function o1(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var l1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(r){return r!=null&&!l1.has(r)?(pi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function u1(r,e){let n,s,o,u,f;if(i1(r)){let m=r.getAttribute("action");s=m?gr(m,e):null,n=r.getAttribute("method")||oh,o=dm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(n1(r)||r1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?gr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||oh,o=dm(r.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!o1()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function c1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function h1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function d1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await h1(u,n);return f.links?f.links():[]}return[]}));return y1(s.flat(1).filter(f1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function m1(r,e,{includeHydrateFallback:n}={}){return p1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function p1(r){return[...new Set(r)]}function g1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function y1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(g1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jT(){let r=U.useContext(To);return hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _1(){let r=U.useContext(zh);return hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fp=U.createContext(void 0);fp.displayName="FrameworkContext";function zT(){let r=U.useContext(fp);return hp(r,"You must render this element inside a <HydratedRouter> element"),r}function v1(r,e){let n=U.useContext(fp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=se=>{se.forEach(J=>{f(J.isIntersecting)})},G=new IntersectionObserver(F,{threshold:.5});return w.current&&G.observe(w.current),()=>{G.disconnect()}}},[r]),U.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let L=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ll(m,L),onBlur:Ll(p,z),onMouseEnter:Ll(y,L),onMouseLeave:Ll(E,z),onTouchStart:Ll(T,L)}]:[!1,w,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function E1({page:r,...e}){let{router:n}=jT(),s=U.useMemo(()=>RT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(S1,{page:r,matches:s,...e}):null}function T1(r){let{manifest:e,routeModules:n}=zT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return d1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function S1({page:r,matches:e,...n}){let s=Es(),{future:o,manifest:u,routeModules:f}=zT(),{basename:m}=jT(),{loaderData:p,matches:y}=_1(),E=U.useMemo(()=>Bv(r,e,y,u,s,"data"),[r,e,y,u,s]),T=U.useMemo(()=>Bv(r,e,y,u,s,"assets"),[r,e,y,u,s]),w=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,G=!1;if(e.forEach(J=>{let ae=u.routes[J.route.id];!ae||!ae.hasLoader||(!E.some(ve=>ve.route.id===J.route.id)&&J.route.id in p&&f[J.route.id]?.shouldRevalidate||ae.hasClientLoader?G=!0:F.add(J.route.id))}),F.size===0)return[];let se=c1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&F.size>0&&se.searchParams.set("_routes",e.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[se.pathname+se.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),L=U.useMemo(()=>m1(T,u),[T,u]),z=T1(T);return U.createElement(U.Fragment,null,w.map(F=>U.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),L.map(F=>U.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),z.map(({key:F,link:G})=>U.createElement("link",{key:F,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function A1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b1&&(window.__reactRouterVersion="7.13.0")}catch{}function w1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=rw({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(e1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HT=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...L},z){let{basename:F,unstable_useTransitions:G}=U.useContext(Ln),se=typeof y=="string"&&BT.test(y),J=NT(y,F);y=J.to;let ae=Uw(y,{relative:o}),[ve,$,ne]=v1(s,L),C=D1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:G});function R(x){e&&e(x),x.defaultPrevented||C(x)}let I=U.createElement("a",{...L,...ne,href:J.absoluteURL||ae,onClick:J.isExternal||u?e:R,ref:A1(z,$),target:p,"data-discover":!se&&n==="render"?"true":void 0});return ve&&!se?U.createElement(U.Fragment,null,I,U.createElement(E1,{page:ae})):I});HT.displayName="Link";var R1=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=hu(f,{relative:y.relative}),w=Es(),L=U.useContext(zh),{navigator:z,basename:F}=U.useContext(Ln),G=L!=null&&V1(T)&&m===!0,se=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,J=w.pathname,ae=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(J=J.toLowerCase(),ae=ae?ae.toLowerCase():null,se=se.toLowerCase()),ae&&F&&(ae=gr(ae,F)||ae);const ve=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let $=J===se||!o&&J.startsWith(se)&&J.charAt(ve)==="/",ne=ae!=null&&(ae===se||!o&&ae.startsWith(se)&&ae.charAt(se.length)==="/"),C={isActive:$,isPending:ne,isTransitioning:G},R=$?e:void 0,I;typeof s=="function"?I=s(C):I=[s,$?"active":null,ne?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(C):u;return U.createElement(HT,{...y,"aria-current":R,className:I,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(C):p)});R1.displayName="NavLink";var C1=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=oh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...L},z)=>{let{unstable_useTransitions:F}=U.useContext(Ln),G=x1(),se=M1(m,{relative:y}),J=f.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&BT.test(m),ve=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ne=$.nativeEvent.submitter,C=ne?.getAttribute("formmethod")||f,R=()=>G(ne||$.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});F&&n!==!1?U.startTransition(()=>R()):R()};return U.createElement("form",{ref:z,method:J,action:se,onSubmit:s?p:ve,...L,"data-discover":!ae&&r==="render"?"true":void 0})});C1.displayName="Form";function I1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(r){let e=U.useContext(To);return vt(e,I1(r)),e}function D1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=Ao(),E=Es(),T=hu(r,{relative:u});return U.useCallback(w=>{if(a1(w,e)){w.preventDefault();let L=n!==void 0?n:Wl(E)===Wl(T),z=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>z()):z()}},[E,y,T,n,s,e,r,o,u,f,m,p])}var N1=0,O1=()=>`__${String(++N1)}__`;function x1(){let{router:r}=qT("useSubmit"),{basename:e}=U.useContext(Ln),n=Qw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=u1(u,e);if(f.navigate===!1){let w=f.fetcherKey||O1();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function M1(r,{relative:e}={}){let{basename:n}=U.useContext(Ln),s=U.useContext(Ki);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(r||".",{relative:e})},f=Es();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),Wl(u)}function V1(r,{relative:e}={}){let n=U.useContext(xT);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qT("useViewTransitionState"),o=hu(r,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const k1=()=>{};var Hv={};const FT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},L1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(w=64)),s.push(n[E],n[T],n[w],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(FT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):L1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new P1;const w=u<<2|m>>4;if(s.push(w),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const z=y<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class P1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U1=function(r){const e=FT(r);return GT.encodeByteArray(e,!0)},Eh=function(r){return U1(r).replace(/\./g,"")},KT=function(r){try{return GT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const z1=()=>j1().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},H1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KT(r[1]);return e&&JSON.parse(e)},Hh=()=>{try{return k1()||z1()||B1()||H1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YT=r=>Hh()?.emulatorHosts?.[r],q1=r=>{const e=YT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$T=()=>Hh()?.config,QT=r=>Hh()?.[`_${r}`];class F1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function bo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XT(r){return(await fetch(r,{credentials:"include"})).ok}function G1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Kl={};function K1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function Y1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function JT(r,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Kl[r]===e||Kl[r]||qv)return;Kl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=K1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{qv=!0,f()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Y1(s),L=n("text"),z=document.getElementById(L)||document.createElement("span"),F=n("learnmore"),G=document.getElementById(F)||document.createElement("a"),se=n("preprendIcon"),J=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ae=w.element;m(ae),E(G,F);const ve=y();p(J,se),ae.append(J,z,G,ve),document.body.appendChild(ae)}u?(z.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function Q1(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function W1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z1(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eR(){return!Q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const iR="FirebaseError";class Tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iR,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Tr(o,m,s)}}function rR(r,e){return r.replace(sR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sR=/\{\$([^}]+)}/g;function aR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Fv(u)&&Fv(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(r){return r!==null&&typeof r=="object"}function du(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function oR(r,e){const n=new lR(r,e);return n.subscribe.bind(n)}class lR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function mm(){}function $t(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class cR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new F1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(r){return r===Ws?void 0:r}function fR(r){return r.instantiationMode==="EAGER"}class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const mR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},pR=je.INFO,gR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},yR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=gR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=yR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const _R=(r,e)=>e.some(n=>r instanceof n);let Gv,Kv;function vR(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,Im=new WeakMap,ZT=new WeakMap,pm=new WeakMap,mp=new WeakMap;function TR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&WT.set(n,r)}).catch(()=>{}),mp.set(e,r),e}function SR(r){if(Im.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Im.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ZT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function AR(r){Dm=r(Dm)}function bR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(gm(this),e,...n);return ZT.set(s,e.sort?e.sort():[e]),as(s)}:ER().includes(r)?function(...e){return r.apply(gm(this),e),as(WT.get(this))}:function(...e){return as(r.apply(gm(this),e))}}function wR(r){return typeof r=="function"?bR(r):(r instanceof IDBTransaction&&SR(r),_R(r,vR())?new Proxy(r,Dm):r)}function as(r){if(r instanceof IDBRequest)return TR(r);if(pm.has(r))return pm.get(r);const e=wR(r);return e!==r&&(pm.set(r,e),mp.set(e,r)),e}const gm=r=>mp.get(r);function RR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=as(f);return s&&f.addEventListener("upgradeneeded",p=>{s(as(f.result),p.oldVersion,p.newVersion,as(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const CR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],ym=new Map;function Yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=IR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return ym.set(e,u),u}AR(r=>({...r,get:(e,n,s)=>Yv(e,n)||r.get(e,n,s),has:(e,n)=>!!Yv(e,n)||r.has(e,n)}));class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NR(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",$v="0.14.7";const yr=new dp("@firebase/app"),OR="@firebase/app-compat",xR="@firebase/analytics-compat",MR="@firebase/analytics",VR="@firebase/app-check-compat",kR="@firebase/app-check",LR="@firebase/auth",PR="@firebase/auth-compat",UR="@firebase/database",jR="@firebase/data-connect",zR="@firebase/database-compat",BR="@firebase/functions",HR="@firebase/functions-compat",qR="@firebase/installations",FR="@firebase/installations-compat",GR="@firebase/messaging",KR="@firebase/messaging-compat",YR="@firebase/performance",$R="@firebase/performance-compat",QR="@firebase/remote-config",XR="@firebase/remote-config-compat",JR="@firebase/storage",WR="@firebase/storage-compat",ZR="@firebase/firestore",eC="@firebase/ai",tC="@firebase/firestore-compat",nC="firebase",iC="12.8.0";const Om="[DEFAULT]",rC={[Nm]:"fire-core",[OR]:"fire-core-compat",[MR]:"fire-analytics",[xR]:"fire-analytics-compat",[kR]:"fire-app-check",[VR]:"fire-app-check-compat",[LR]:"fire-auth",[PR]:"fire-auth-compat",[UR]:"fire-rtdb",[jR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[BR]:"fire-fn",[HR]:"fire-fn-compat",[qR]:"fire-iid",[FR]:"fire-iid-compat",[GR]:"fire-fcm",[KR]:"fire-fcm-compat",[YR]:"fire-perf",[$R]:"fire-perf-compat",[QR]:"fire-rc",[XR]:"fire-rc-compat",[JR]:"fire-gcs",[WR]:"fire-gcs-compat",[ZR]:"fire-fst",[tC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};const Th=new Map,sC=new Map,xm=new Map;function Qv(r,e){try{r.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const e=r.name;if(xm.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,r);for(const n of Th.values())Qv(n,r);for(const n of sC.values())Qv(n,r);return!0}function pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function hi(r){return r==null?!1:r.settings!==void 0}const aC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new fu("app","Firebase",aC);class oC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const wo=iC;function e0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Om,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=$T()),!n)throw os.create("no-options");const u=Th.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new dR(o);for(const p of xm.values())f.addComponent(p);const m=new oC(n,s,f);return Th.set(o,m),m}function t0(r=Om){const e=Th.get(r);if(!e&&r===Om&&$T())return e0();if(!e)throw os.create("no-app",{appName:r});return e}function ls(r,e,n){let s=rC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(f.join(" "));return}co(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const lC="firebase-heartbeat-database",uC=1,Zl="firebase-heartbeat-store";let _m=null;function n0(){return _m||(_m=RR(lC,uC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),_m}async function cC(r){try{const n=(await n0()).transaction(Zl),s=await n.objectStore(Zl).get(i0(r));return await n.done,s}catch(e){if(e instanceof Tr)yr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function Xv(r,e){try{const s=(await n0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,i0(r)),await s.done}catch(n){if(n instanceof Tr)yr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}const hC=1024,fC=30;class dC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>fC){const o=gC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jv(),{heartbeatsToSend:n,unsentEntries:s}=mC(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function mC(r,e=hC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Wv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Wv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wv(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function gC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function yC(r){co(new na("platform-logger",e=>new DR(e),"PRIVATE")),co(new na("heartbeat",e=>new dC(e),"PRIVATE")),ls(Nm,$v,r),ls(Nm,$v,"esm2020"),ls("fire-js","")}yC("");function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _C=r0,s0=new fu("auth","Firebase",r0());const Sh=new dp("@firebase/auth");function vC(r,...e){Sh.logLevel<=je.WARN&&Sh.warn(`Auth (${wo}): ${r}`,...e)}function uh(r,...e){Sh.logLevel<=je.ERROR&&Sh.error(`Auth (${wo}): ${r}`,...e)}function gi(r,...e){throw gp(r,...e)}function zi(r,...e){return gp(r,...e)}function a0(r,e,n){const s={..._C(),[e]:n};return new fu("auth","Firebase",s).create(e,{appName:r.name})}function us(r){return a0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return s0.create(r,...e)}function Se(r,e,...n){if(!r)throw gp(e,...n)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function _r(r,e){r||dr(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function EC(){return Zv()==="http:"||Zv()==="https:"}function Zv(){return typeof self<"u"&&self.location?.protocol||null}function TC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EC()||J1()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=$1()||W1()}get(){return TC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class o0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wC=new mu(3e4,6e4);function oa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ts(r,e,n,s,o={}){return l0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return X1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&bo(r.emulatorConfig.host)&&(y.credentials="include"),o0.fetch()(await u0(r,r.config.apiHost,n,m),y)})}async function l0(r,e,n){r._canInitEmulator=!1;const s={...AC,...e};try{const o=new CC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw a0(r,E,y);gi(r,E)}}catch(o){if(o instanceof Tr)throw o;gi(r,"network-request-failed",{message:String(o)})}}async function qh(r,e,n,s,o={}){const u=await Ts(r,e,n,s,o);return"mfaPendingCredential"in u&&gi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function u0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?yp(r.config,o):`${r.config.apiScheme}://${o}`;return bC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function RC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zi(this.auth,"network-request-failed")),wC.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zi(r,e,s);return o.customData._tokenResponse=n,o}function eE(r){return r!==void 0&&r.enterprise!==void 0}class IC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DC(r,e){return Ts(r,"GET","/v2/recaptchaConfig",oa(r,e))}async function NC(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OC(r,e=!1){const n=$t(r),s=await n.getIdToken(e),o=_p(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(vm(o.auth_time)),issuedAtTime:Yl(vm(o.iat)),expirationTime:Yl(vm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function vm(r){return Number(r)*1e3}function _p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KT(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tE(r){const e=_p(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Tr&&xC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(r){const e=r.auth,n=await r.getIdToken(),s=await eu(r,Ah(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?c0(o.providerUserInfo):[],f=kC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function VC(r){const e=$t(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function c0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LC(r,e){const n=await l0(r,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await u0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&bo(r.emulatorConfig.host)&&(p.credentials="include"),o0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PC(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",oa(r,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await LC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new io;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return dr("not implemented")}}function es(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new MC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OC(this,e)}reload(){return VC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await eu(this,NC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:L,providerData:z,stsTokenManager:F}=n;Se(T&&F,e,"internal-error");const G=io.fromJSON(this.name,F);Se(typeof T=="string",e,"internal-error"),es(s,e.name),es(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),es(u,e.name),es(f,e.name),es(m,e.name),es(p,e.name),es(y,e.name),es(E,e.name);const se=new fi({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return z&&Array.isArray(z)&&(se.providerData=z.map(J=>({...J}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,s=!1){const o=new io;o.updateFromServerResponse(n);const u=new fi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?c0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(s);const p=new fi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const nE=new Map;function mr(r){_r(r instanceof Function,"Expected a class definition");let e=nE.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nE.set(r,e),e)}class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h0.type="NONE";const iE=h0;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ro(mr(iE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||mr(iE);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Ah(e,{idToken:E}).catch(()=>{});if(!w)break;T=await fi._fromGetAccountInfoResponse(e,w,E)}else T=fi._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ro(u,e,s))}}function rE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y0(e))return"Blackberry";if(_0(e))return"Webos";if(d0(e))return"Safari";if((e.includes("chrome/")||m0(e))&&!e.includes("edge/"))return"Chrome";if(g0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function f0(r=fn()){return/firefox\//i.test(r)}function d0(r=fn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m0(r=fn()){return/crios\//i.test(r)}function p0(r=fn()){return/iemobile/i.test(r)}function g0(r=fn()){return/android/i.test(r)}function y0(r=fn()){return/blackberry/i.test(r)}function _0(r=fn()){return/webos/i.test(r)}function vp(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UC(r=fn()){return vp(r)&&!!window.navigator?.standalone}function jC(){return Z1()&&document.documentMode===10}function v0(r=fn()){return vp(r)||g0(r)||_0(r)||y0(r)||/windows phone/i.test(r)||p0(r)}function E0(r,e=[]){let n;switch(r){case"Browser":n=rE(fn());break;case"Worker":n=`${rE(fn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${s}`}class zC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function BC(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",oa(r,e))}const HC=6;class qC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class FC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new zC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(us(this));const n=e?$t(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BC(this),n=new qC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ro(r){return $t(r)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(r){Fh=r}function T0(r){return Fh.loadJS(r)}function KC(){return Fh.recaptchaEnterpriseScript}function YC(){return Fh.gapiScript}function $C(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new XC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JC="recaptcha-enterprise",S0="NO_RECAPTCHA";class WC{constructor(e){this.type=JC,this.auth=Ro(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{DC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new IC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;eE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(S0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&eE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=KC();p.length!==0&&(p+=m),T0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function aE(r,e,n,s=!1,o=!1){const u=new WC(r);let f;if(o)f=S0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function oE(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await aE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await aE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function ZC(r,e){const n=pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;gi(o,"already-initialized")}return n.initialize({options:e})}function eI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function tI(r,e,n){const s=Ro(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=A0(e),{host:f,port:m}=nI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ta(y,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,bo(f)?(XT(`${u}//${f}${p}`),JT("Auth",!0)):iI()}function A0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nI(r){const e=A0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lE(f)}}}function lE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function rI(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}async function sI(r,e){return qh(r,"POST","/v1/accounts:signInWithPassword",oa(r,e))}async function aI(r,e){return qh(r,"POST","/v1/accounts:signInWithEmailLink",oa(r,e))}async function oI(r,e){return qh(r,"POST","/v1/accounts:signInWithEmailLink",oa(r,e))}class tu extends Ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oE(e,n,"signInWithPassword",sI);case"emailLink":return aI(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oE(e,s,"signUpPassword",rI);case"emailLink":return oI(e,{idToken:n,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function so(r,e){return qh(r,"POST","/v1/accounts:signInWithIdp",oa(r,e))}const lI="http://localhost";class ia extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ia(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,so(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function uI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cI(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class Tp{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=uI(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cI(e);try{return new Tp(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tp.parseLink(n);return Se(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class b0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends b0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends pu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class is extends pu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends pu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await fi._fromIdTokenResponse(e,s,o),f=uE(s);return new ho({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=uE(s);return new ho({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function uE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends Tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function w0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function hI(r,e,n=!1){const s=await eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ho._forOperation(r,"link",s)}async function fI(r,e,n=!1){const{auth:s}=r;if(hi(s.app))return Promise.reject(us(s));const o="reauthenticate";try{const u=await eu(r,w0(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=_p(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),ho._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&gi(s,"user-mismatch"),u}}async function R0(r,e,n=!1){if(hi(r.app))return Promise.reject(us(r));const s="signIn",o=await w0(r,s,e),u=await ho._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function dI(r,e){return R0(Ro(r),e)}async function mI(r){const e=Ro(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function pI(r,e,n){return hi(r.app)?Promise.reject(us(r)):dI($t(r),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mI(r),s})}function gI(r,e,n,s){return $t(r).onIdTokenChanged(e,n,s)}function yI(r,e,n){return $t(r).beforeAuthStateChanged(e,n)}function _I(r,e,n,s){return $t(r).onAuthStateChanged(e,n,s)}function cE(r){return $t(r).signOut()}const Rh="__sak";class C0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vI=1e3,EI=10;class I0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);jC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I0.type="LOCAL";const TI=I0;class D0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D0.type="SESSION";const N0=D0;function SI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await SI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class AI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Bi(){return window}function bI(r){Bi().location.href=r}function O0(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function wI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RI(){return navigator?.serviceWorker?.controller||null}function CI(){return O0()?self:null}const x0="firebaseLocalStorageDb",II=1,Ch="firebaseLocalStorage",M0="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function DI(){const r=indexedDB.deleteDatabase(x0);return new gu(r).toPromise()}function km(){const r=indexedDB.open(x0,II);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:M0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await DI(),e(await km()))})})}async function hE(r,e,n){const s=Kh(r,!0).put({[M0]:e,value:n});return new gu(s).toPromise()}async function NI(r,e){const n=Kh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function fE(r,e){const n=Kh(r,!0).delete(e);return new gu(n).toPromise()}const OI=800,xI=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(CI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wI(),!this.activeServiceWorker)return;this.sender=new AI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await hE(e,Rh,"1"),await fE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const MI=V0;new mu(3e4,6e4);function VI(r,e){return e?mr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kI(r){return R0(r.auth,new Ap(r),r.bypassAuthState)}function LI(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),fI(n,new Ap(r),r.bypassAuthState)}async function PI(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),hI(n,new Ap(r),r.bypassAuthState)}class k0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kI;case"linkViaPopup":case"linkViaRedirect":return PI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:gi(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UI=new mu(2e3,1e4);class no extends k0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UI.get())};e()}}no.currentPopupAction=null;const jI="pendingRedirect",hh=new Map;class zI extends k0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await BI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BI(r,e){const n=FI(e),s=qI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function HI(r,e){hh.set(r._key(),e)}function qI(r){return mr(r._redirectPersistence)}function FI(r){return ch(jI,r.config.apiKey,r.name)}async function GI(r,e,n=!1){if(hi(r.app))return Promise.reject(us(r));const s=Ro(r),o=VI(s,e),f=await new zI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const KI=600*1e3;class YI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$I(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!L0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(zi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KI&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function L0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function $I(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(r);default:return!1}}async function QI(r,e={}){return Ts(r,"GET","/v1/projects",e)}const XI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JI=/^https?/;async function WI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QI(r);for(const n of e)try{if(ZI(n))return}catch{}gi(r,"unauthorized-domain")}function ZI(r){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!JI.test(n))return!1;if(XI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const eD=new mu(3e4,6e4);function mE(){const r=Bi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function tD(r){return new Promise((e,n)=>{function s(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),n(zi(r,"network-request-failed"))},timeout:eD.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)s();else{const o=$C("iframefcb");return Bi()[o]=()=>{gapi.load?s():n(zi(r,"network-request-failed"))},T0(`${YC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function nD(r){return fh=fh||tD(r),fh}const iD=new mu(5e3,15e3),rD="__/auth/iframe",sD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lD(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?yp(e,sD):`https://${r.config.authDomain}/${rD}`,s={apiKey:e.apiKey,appName:r.name,v:wo},o=oD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function uD(r){const e=await nD(r),n=Bi().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:lD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=zi(r,"network-request-failed"),m=Bi().setTimeout(()=>{u(f)},iD.get());function p(){Bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const cD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hD=500,fD=600,dD="_blank",mD="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pD(r,e,n,s=hD,o=fD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...cD,width:s.toString(),height:o.toString(),top:u,left:f},y=fn().toLowerCase();n&&(m=m0(y)?dD:n),f0(y)&&(e=e||mD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[L,z])=>`${w}${L}=${z},`,"");if(UC(y)&&m!=="_self")return gD(e||"",m),new pE(null);const T=window.open(e||"",m,E);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new pE(T)}function gD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const yD="__/auth/handler",_D="emulator/auth/handler",vD=encodeURIComponent("fac");async function gE(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:wo,eventId:o};if(e instanceof b0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",aR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof pu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${vD}=${encodeURIComponent(p)}`:"";return`${ED(r)}?${du(m).slice(1)}${y}`}function ED({config:r}){return r.emulator?yp(r,_D):`https://${r.authDomain}/${yD}`}const Em="webStorageSupport";class TD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N0,this._completeRedirectFn=GI,this._overrideRedirectResult=HI}async _openPopup(e,n,s,o){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gE(e,n,s,Mm(),o);return pD(e,u,Sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await gE(e,n,s,Mm(),o);return bI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uD(e),s=new YI(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},o=>{const u=o?.[0]?.[Em];u!==void 0&&n(!!u),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v0()||d0()||vp()}}const SD=TD;var yE="@firebase/auth",_E="1.12.0";class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wD(r){co(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(r)},y=new FC(s,o,u,p);return eI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),co(new na("auth-internal",e=>{const n=Ro(e.getProvider("auth").getImmediate());return(s=>new AD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(yE,_E,bD(r)),ls(yE,_E,"esm2020")}const RD=300,CD=QT("authIdTokenMaxAge")||RD;let vE=null;const ID=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CD)return;const o=n?.token;vE!==o&&(vE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DD(r=t0()){const e=pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=ZC(r,{popupRedirectResolver:SD,persistence:[MI,TI,N0]}),s=QT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ID(u.toString());yI(n,f,()=>f(n.currentUser)),gI(n,m=>f(m))}}const o=YT("auth");return o&&tI(n,`http://${o}`),n}function ND(){return document.getElementsByTagName("head")?.[0]??document}GC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=zi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ND().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wD("Browser");var OD="firebase",xD="12.8.0";ls(OD,xD,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,P0;(function(){var r;function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,O,k){for(var D=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)D[Ze-2]=arguments[Ze];return R.prototype[O].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,I){I||(I=0);const x=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)x[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],O=C.g[2];let k=C.g[3],D;D=R+(k^I&(O^k))+x[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(O^R&(I^O))+x[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=O+(I^k&(R^I))+x[2]+606105819&4294967295,O=k+(D<<17&4294967295|D>>>15),D=I+(R^O&(k^R))+x[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(k^I&(O^k))+x[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(O^R&(I^O))+x[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=O+(I^k&(R^I))+x[6]+2821735955&4294967295,O=k+(D<<17&4294967295|D>>>15),D=I+(R^O&(k^R))+x[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(k^I&(O^k))+x[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(O^R&(I^O))+x[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=O+(I^k&(R^I))+x[10]+4294925233&4294967295,O=k+(D<<17&4294967295|D>>>15),D=I+(R^O&(k^R))+x[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(k^I&(O^k))+x[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(O^R&(I^O))+x[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=O+(I^k&(R^I))+x[14]+2792965006&4294967295,O=k+(D<<17&4294967295|D>>>15),D=I+(R^O&(k^R))+x[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=R+(O^k&(I^O))+x[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^O&(R^I))+x[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(k^R))+x[11]+643717713&4294967295,O=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(O^k))+x[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(O^k&(I^O))+x[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^O&(R^I))+x[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(k^R))+x[15]+3634488961&4294967295,O=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(O^k))+x[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(O^k&(I^O))+x[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^O&(R^I))+x[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(k^R))+x[3]+4107603335&4294967295,O=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(O^k))+x[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(O^k&(I^O))+x[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^O&(R^I))+x[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=O+(R^I&(k^R))+x[7]+1735328473&4294967295,O=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(O^k))+x[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=R+(I^O^k)+x[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^O)+x[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=O+(k^R^I)+x[11]+1839030562&4294967295,O=k+(D<<16&4294967295|D>>>16),D=I+(O^k^R)+x[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(I^O^k)+x[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^O)+x[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=O+(k^R^I)+x[7]+4139469664&4294967295,O=k+(D<<16&4294967295|D>>>16),D=I+(O^k^R)+x[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(I^O^k)+x[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^O)+x[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=O+(k^R^I)+x[3]+3572445317&4294967295,O=k+(D<<16&4294967295|D>>>16),D=I+(O^k^R)+x[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(I^O^k)+x[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^O)+x[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=O+(k^R^I)+x[15]+530742520&4294967295,O=k+(D<<16&4294967295|D>>>16),D=I+(O^k^R)+x[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=R+(O^(I|~k))+x[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~O))+x[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=O+(R^(k|~I))+x[14]+2878612391&4294967295,O=k+(D<<15&4294967295|D>>>17),D=I+(k^(O|~R))+x[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=R+(O^(I|~k))+x[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~O))+x[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=O+(R^(k|~I))+x[10]+4293915773&4294967295,O=k+(D<<15&4294967295|D>>>17),D=I+(k^(O|~R))+x[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=R+(O^(I|~k))+x[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~O))+x[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=O+(R^(k|~I))+x[6]+2734768916&4294967295,O=k+(D<<15&4294967295|D>>>17),D=I+(k^(O|~R))+x[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=R+(O^(I|~k))+x[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~O))+x[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=O+(R^(k|~I))+x[2]+718787259&4294967295,O=k+(D<<15&4294967295|D>>>17),D=I+(k^(O|~R))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,x=this.C;let O=this.h,k=0;for(;k<R;){if(O==0)for(;k<=I;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<R;)if(x[O++]=C.charCodeAt(k++),O==this.blockSize){o(this,x),O=0;break}}else for(;k<R;)if(x[O++]=C[k++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[R++]=this.g[I]>>>x&255;return C};function u(C,R){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function f(C,R){this.h=R;const I=[];let x=!0;for(let O=C.length-1;O>=0;O--){const k=C[O]|0;x&&k==R||(I[O]=k,x=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new f([R|0],R<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return G(y(-C));const R=[];let I=1;for(let x=0;C>=I;x++)R[x]=C/I|0,I*=4294967296;return new f(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return G(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(R,8));let x=T;for(let k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k);const D=parseInt(C.substring(k,k+O),R);O<8?(O=y(Math.pow(R,O)),x=x.j(O).add(y(D))):(x=x.j(I),x=x.add(y(D)))}return x}var T=p(0),w=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(F(this))return-G(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(z(this))return"0";if(F(this))return"-"+G(this).toString(C);const R=y(Math.pow(C,6));var I=this;let x="";for(;;){const O=ve(I,R).g;I=se(I,O.j(R));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,z(I))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function z(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=se(this,C),F(C)?-1:z(C)?0:1};function G(C){const R=C.g.length,I=[];for(let x=0;x<R;x++)I[x]=~C.g[x];return new f(I,~C.h).add(w)}r.abs=function(){return F(this)?G(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let O=0;O<=R;O++){let k=x+(this.i(O)&65535)+(C.i(O)&65535),D=(k>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);x=D>>>16,k&=65535,D&=65535,I[O]=D<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function se(C,R){return C.add(G(R))}r.j=function(C){if(z(this)||z(C))return T;if(F(this))return F(C)?G(this).j(G(C)):G(G(this).j(C));if(F(C))return G(this.j(G(C)));if(this.l(L)<0&&C.l(L)<0)return y(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var x=0;x<2*R;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<C.g.length;O++){const k=this.i(x)>>>16,D=this.i(x)&65535,Ze=C.i(O)>>>16,ft=C.i(O)&65535;I[2*x+2*O]+=D*ft,J(I,2*x+2*O),I[2*x+2*O+1]+=k*ft,J(I,2*x+2*O+1),I[2*x+2*O+1]+=D*Ze,J(I,2*x+2*O+1),I[2*x+2*O+2]+=k*Ze,J(I,2*x+2*O+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new f(I,0)};function J(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function ae(C,R){this.g=C,this.h=R}function ve(C,R){if(z(R))throw Error("division by zero");if(z(C))return new ae(T,T);if(F(C))return R=ve(G(C),R),new ae(G(R.g),G(R.h));if(F(R))return R=ve(C,G(R)),new ae(G(R.g),R.h);if(C.g.length>30){if(F(C)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,x=R;x.l(C)<=0;)I=$(I),x=$(x);var O=ne(I,1),k=ne(x,1);for(x=ne(x,2),I=ne(I,2);!z(x);){var D=k.add(x);D.l(C)<=0&&(O=O.add(I),k=D),x=ne(x,1),I=ne(I,1)}return R=se(C,O.j(R)),new ae(O,R)}for(O=T;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(I),D=k.j(R);F(D)||D.l(C)>0;)I-=x,k=y(I),D=k.j(R);z(k)&&(k=w),O=O.add(k),C=se(C,D)}return new ae(O,C)}r.B=function(C){return ve(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<R;x++)I[x]=this.i(x)&C.i(x);return new f(I,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<R;x++)I[x]=this.i(x)|C.i(x);return new f(I,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<R;x++)I[x]=this.i(x)^C.i(x);return new f(I,this.h^C.h)};function $(C){const R=C.g.length+1,I=[];for(let x=0;x<R;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new f(I,C.h)}function ne(C,R){const I=R>>5;R%=32;const x=C.g.length-I,O=[];for(let k=0;k<x;k++)O[k]=R>0?C.i(k+I)>>>R|C.i(k+I+1)<<32-R:C.i(k+I);return new f(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,P0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,cs=f}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U0,Hl,j0,dh,Lm,z0,B0,H0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,K){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return g.prototype[j].apply(A,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function z(c,g){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const K=j.length||0;c.length=v+K;for(let ue=0;ue<K;ue++)c[v+ue]=j[ue]}else c.push(j)}}class F{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){f.setTimeout(()=>{throw c},0)}function se(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,v){const A=ae.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new F(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $,ne=!1,C=new J,R=()=>{const c=Promise.resolve(void 0);$=()=>{c.then(I)}};function I(){for(var c;c=se();){try{c.h.call(c.g)}catch(v){G(v)}var g=ae;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ne=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function Ze(c,g){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Ze,O),Ze.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++Q,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function qe(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function V(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let K=0;K<Z.length;K++)v=Z[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,g,v,A,j){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ue=Re(c,g,A,j);return ue>-1?(g=c[ue],v||(g.fa=!1)):(g=new le(g,this.src,K,!!A,j),g.fa=v,c.push(g)),g};function Te(c,g){const v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),K;(K=j>=0)&&Array.prototype.splice.call(A,j,1),K&&(ge(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,g,v,A){for(let j=0;j<c.length;++j){const K=c[j];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==A)return j}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),re={};function oe(c,g,v,A,j){if(Array.isArray(g)){for(let K=0;K<g.length;K++)oe(c,g[K],v,A,j);return null}return v=Xt(v),c&&c[ft]?c.J(g,v,m(A)?!!A.capture:!1,j):De(c,g,v,!1,A,j)}function De(c,g,v,A,j,K){if(!g)throw Error("Invalid event type");const ue=m(j)?!!j.capture:!!j;let Ne=ut(c);if(Ne||(c[Le]=Ne=new fe(c)),v=Ne.add(g,v,A,ue,K),v.proxy)return v;if(A=Ye(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(j=ue),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(Ge(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ye(){function c(v){return g.call(c.src,c.listener,v)}const g=mt;return c}function be(c,g,v,A,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)be(c,g[K],v,A,j);else A=m(A)?!!A.capture:!!A,v=Xt(v),c&&c[ft]?(c=c.i,K=String(g).toString(),K in c.g&&(g=c.g[K],v=Re(g,v,A,j),v>-1&&(ge(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[K],c.h--)))):c&&(c=ut(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,v,A,j)),(v=c>-1?g[c]:null)&&Xe(v))}function Xe(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ft])Te(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Ge(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=ut(g))?(Te(v,c),v.h==0&&(v.src=null,g[Le]=null)):ge(c)}}}function Ge(c){return c in re?re[c]:re[c]="on"+c}function mt(c,g){if(c.da)c=!0;else{g=new Ze(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&Xe(c),c=v.call(A,g)}return c}function ut(c){return c=c[Le],c instanceof fe?c:null}var Qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xt(c){return typeof c=="function"?c:(c[Qt]||(c[Qt]=function(g){return c.handleEvent(g)}),c[Qt])}function ct(){x.call(this),this.i=new fe(this),this.M=this,this.G=null}T(ct,x),ct.prototype[ft]=!0,ct.prototype.removeEventListener=function(c,g,v,A){be(this,c,g,v,A)};function rt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new O(g,c);else if(g instanceof O)g.target=g.target||c;else{var j=g;g=new O(A,c),ce(g,j)}j=!0;let K,ue;if(v)for(ue=v.length-1;ue>=0;ue--)K=g.g=v[ue],j=on(K,A,!0,g)&&j;if(K=g.g=c,j=on(K,A,!0,g)&&j,j=on(K,A,!1,g)&&j,v)for(ue=0;ue<v.length;ue++)K=g.g=v[ue],j=on(K,A,!1,g)&&j}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)ge(v[A]);delete c.g[g],c.h--}}this.G=null},ct.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ct.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function on(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let K=0;K<g.length;++K){const ue=g[K];if(ue&&!ue.da&&ue.capture==v){const Ne=ue.listener,wt=ue.ha||ue.src;ue.fa&&Te(c.i,ue),j=Ne.call(wt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Jn(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Yi(c){c.g=Jn(()=>{c.g=null,c.i&&(c.i=!1,Yi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class At extends x{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Yi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(c){x.call(this),this.h=c,this.g={}}T(bn,x);var Mo=[];function Vo(c){Me(c.g,function(g,v){this.g.hasOwnProperty(v)&&Xe(g)},c),c.g={}}bn.prototype.N=function(){bn.Z.N.call(this),Vo(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=f.JSON.stringify,lf=f.JSON.parse,bu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Ru(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){O.call(this,"d")}T(Jt,O);function Pn(){O.call(this,"c")}T(Pn,O);var bt={},Cu=null;function ha(){return Cu=Cu||new ct}bt.Ia="serverreachability";function Iu(c){O.call(this,bt.Ia,c)}T(Iu,O);function _i(c){const g=ha();rt(g,new Iu(g))}bt.STAT_EVENT="statevent";function bs(c,g){O.call(this,bt.STAT_EVENT,c),this.stat=g}T(bs,O);function Dt(c){const g=ha();rt(g,new bs(g,c))}bt.Ja="timingevent";function vi(c,g){O.call(this,bt.Ja,c),this.size=g}T(vi,O);function Ei(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function uf(c,g,v,A,j,K){c.info(function(){if(c.g)if(K){var ue="",Ne=K.split("&");for(let Je=0;Je<Ne.length;Je++){var wt=Ne[Je].split("=");if(wt.length>1){const yt=wt[0];wt=wt[1];const Bn=yt.split("_");ue=Bn.length>=2&&Bn[1]=="type"?ue+(yt+"="+wt+"&"):ue+(yt+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+ue})}function Du(c,g,v,A,j,K,ue){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+K+" "+ue})}function Ti(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+cf(c,v)+(A?" "+A:"")})}function ws(c,g){c.info(function(){return"TIMEOUT: "+g})}Zn.prototype.info=function(){};function cf(c,g){if(!c.g)return g;if(!g)return null;try{const K=JSON.parse(g);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return Sr(K)}catch{return g}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Cs(){}T(Cs,wu),Cs.prototype.g=function(){return new XMLHttpRequest},Lo=new Cs;function $i(c){return encodeURIComponent(String(c))}function Nu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function ei(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new bn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Nt={},Ft={};function Si(c,g,v){c.M=1,c.A=Is(xt(g)),c.u=v,c.R=!0,fa(c,null)}function fa(c,g){c.F=Date.now(),Ai(c),c.B=xt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ga(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ti,c.g=Gu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new At(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Mo[0]=j.toString()),j=Mo);for(let K=0;K<j.length;K++){const ue=oe(v,j[K],A||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),_i(),uf(c.i,c.v,c.B,c.l,c.S,c.u)}ei.prototype.ba=function(c){c=c.target;const g=this.O;g&&ri(c)==3?g.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ri(this.g),wt=this.g.ya(),Je=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ne!=4||wt==7||(wt==8||Je<=0?_i(3):_i(2)),bi(this);var g=this.g.ca();this.X=g;var v=hf(this);if(this.o=g==200,Du(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var K=A;break t}}K=null}if(c=K)Ti(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,c);else{this.o=!1,this.m=3,Dt(12),wn(this),Un(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=xu(this,v),yt==Ft){Ne==4&&(this.m=4,Dt(14),c=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Nt){this.m=4,Dt(15),Ti(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ti(this.i,this.l,yt,null),wi(this,yt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Dt(16),c=!1),this.o=this.o&&c,!c)Ti(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(ue),ue.P=!0,Dt(11))}}else Ti(this.i,this.l,v,null),wi(this,v);Ne==4&&wn(this),this.o&&!this.K&&(Ne==4?Bu(this.j,this):(this.o=!1,Ai(this)))}else Xi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),wn(this),Un(this)}}}catch{}};function hf(c){if(!Ou(c))return c.g.la();const g=Wt(c.g);if(g==="")return"";let v="";const A=g.length,j=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return wn(c),Un(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(g[K],{stream:!(j&&K==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Ft:(v=Number(g.substring(v,A)),isNaN(v)?Nt:(A+=1,A+v>g.length?Ft:(g=g.slice(A,A+v),c.C=A+v,g)))}ei.prototype.cancel=function(){this.K=!0,wn(this)};function Ai(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ei(y(c.aa,c),g)}function bi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ei.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(_i(),Dt(17)),wn(this),this.m=2,Un(this)):da(this,this.T-c)};function Un(c){c.j.I==0||c.K||Bu(c.j,c)}function wn(c){bi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Vo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function wi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ci(v.h,c))){if(!c.L&&Ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Nr(v);else break e;ks(v),Dt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ei(y(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((c.L||v.g==c)&&Ta(v),!D(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let Je=j[g];const yt=Je[0];if(!(yt<=v.K))if(v.K=yt,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Bn=Je[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Vi=Je[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const si=Je[5];si!=null&&typeof si=="number"&&si>0&&(A=1.5*si,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ai=c.g;if(ai){const Ls=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var K=A.h;K.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(jo(K,K.h),K.h=null))}if(A.G){const Sa=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(A.wa=Sa,tt(A.J,A.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ue=c;if(A.na=Fu(A,A.L?A.ba:null,A.W),ue.L){zo(A.h,ue);var Ne=ue,wt=A.O;wt&&(Ne.H=wt),Ne.D&&(bi(Ne),Ai(Ne)),A.g=ue}else ju(A);v.i.length>0&&xi(v)}else Je[0]!="stop"&&Je[0]!="close"||Mi(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Mi(v,7):Qo(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}_i(4)}catch{}}var Ot=class{constructor(c,g){this.g=c,this.map=g}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ri(c){return c.h?1:c.g?c.g.size:0}function Ci(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function jo(c,g){c.g?c.g.add(g):c.h=g}function zo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,K=null;A>=0?(j=c[v].substring(0,A),K=c[v].substring(A+1)):j=c[v],g(j,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Rn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Rn?(this.l=c.l,Gt(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,Ho(this,Pu(c.i)),this.m=c.m):c&&(g=String(c).match(Mu))?(this.l=!1,Gt(this,g[1]||"",!0),this.o=Ii(g[2]||""),this.g=Ii(g[3]||"",!0),Ar(this,g[4]),this.h=Ii(g[5]||"",!0),Ho(this,g[6]||"",!0),this.m=Ii(g[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}Rn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ds(g,pa,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ds(g,pa,!0),"@"),c.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ds(v,v.charAt(0)=="/"?qo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ds(v,ku)),c.join("")},Rn.prototype.resolve=function(c){const g=xt(this);let v=!!c.j;v?Gt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Ar(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=g.h.lastIndexOf("/");j!=-1&&(A=g.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const K=[];for(let ue=0;ue<j.length;){const Ne=j[ue++];Ne=="."?A&&ue==j.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&ue==j.length&&K.push("")):(K.push(Ne),A=!0)}A=K.join("/")}else A=j}return v?g.h=A:v=c.i.toString()!=="",v?Ho(g,Pu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function xt(c){return new Rn(c)}function Gt(c,g,v){c.j=v?Ii(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Ho(c,g,v){g instanceof wr?(c.i=g,ya(c.i,c.l)):(v||(g=Ds(g,br)),c.i=new wr(g,c.l))}function tt(c,g,v){c.i.set(g,v)}function Is(c){return tt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ii(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,pn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,Vu=/[#\?:]/g,qo=/[#\?]/g,br=/[#\?@]/g,ku=/#/g;function wr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=wr.prototype,r.add=function(c,g){gn(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Lu(c,g){gn(c),g=Rr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Fo(c,g){return gn(c),g=Rr(c,g),c.g.has(g)}r.forEach=function(c,g){gn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)};function Go(c,g){gn(c);let v=[];if(typeof g=="string")Fo(c,g)&&(v=v.concat(c.g.get(Rr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return gn(this),this.i=null,c=Rr(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Go(this,c),c.length>0?String(c[0]):g):g};function ga(c,g,v){Lu(c,g),v.length>0&&(c.i=null,c.g.set(Rr(c,g),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const j=$i(v);v=Go(this,v);for(let K=0;K<v.length;K++){let ue=j;v[K]!==""&&(ue+="="+$i(v[K])),c.push(ue)}}return this.i=c.join("&")};function Pu(c){const g=new wr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Rr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ya(c,g){g&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Lu(this,A),ga(this,j,v))},c)),c.j=g}function ni(c,g){const v=new Zn;if(f.Image){const A=new Image;A.onload=E(jn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(jn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(jn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(jn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Ko(c,g){const v=new Zn,A=new AbortController,j=setTimeout(()=>{A.abort(),jn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?jn(v,"TestPingServer: ok",!0,g):jn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),jn(v,"TestPingServer: error",!1,g)})}function jn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Cr(){this.g=new bu}function Di(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Di,wu),Di.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,g){ct.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,ct),r=Ns.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ir(this):ii(this),this.readyState==3&&_a(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ii(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let g="";return Me(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Os(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=zn(v),typeof c=="string"?v!=null&&$i(v):tt(c,g,v))}function st(c){ct.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(st,ct);var Ni=/^https?$/i,Yo=["POST","PUT"];r=st.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){xs(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,g,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of v)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){xs(this,K)}};function xs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,$o(c),Qi(c)}function $o(c){c.A||(c.A=!0,rt(c,"complete"),rt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,rt(this,"complete"),rt(this,"abort"),Qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(rt(c,"readystatechange"),ri(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=K===0){let ue=String(c.D).match(Mu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),A=!Ni.test(ue?ue.toLowerCase():"")}v=A}if(v)rt(c,"complete"),rt(c,"success");else{c.o=6;try{var j=ri(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",$o(c)}}finally{Qi(c)}}}}function Qi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||rt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),lf(g)}};function Wt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const g={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=Nu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[j]||[];g[j]=K,K.push(v)}qe(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Dr(c){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,c),this.Za=Oi("retryDelaySeedMs",1e4,c),this.Ta=Oi("forwardChannelMaxRetries",2,c),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Dr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Dt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Fu(this,null,this.W),xi(this)};function Qo(c){if(va(c),c.I==3){var g=c.V++,v=xt(c.J);if(tt(v,"SID",c.M),tt(v,"RID",g),tt(v,"TYPE","terminate"),Vs(c,v),g=new ei(c,c.j,g),g.M=2,g.A=Is(xt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Gu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ai(g)}qu(c)}function Nr(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function va(c){Nr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!Uo(c.h)&&!c.m){c.m=!0;var g=c.Ea;$||R(),ne||($(),ne=!0),C.add(g,c),c.D=0}}function Ea(c,g){return Ri(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ei(y(c.Ea,c,g),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new ei(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),ce(K,this.U)):K=this.U),this.u!==null||this.R||(j.J=K,K=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Uu(this,j,g),v=xt(this.J),tt(v,"RID",c),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Vs(this,v),K&&(this.R?g="headers="+$i(zn(K))+"&"+g:this.u&&Os(v,this.u,K)),jo(this.h,j),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",g),tt(v,"SID","null"),j.U=!0,Si(j,v,null)):Si(j,v,g),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Uo(this.h)||Xo(this))};function Xo(c,g){var v;g?v=g.l:v=c.V++;const A=xt(c.J);tt(A,"SID",c.M),tt(A,"RID",v),tt(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Os(A,c.u,c.o),v=new ei(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),Si(v,A,g)}function Vs(c,g){c.H&&Me(c.H,function(v,A){tt(g,A,v)}),c.l&&Me({},function(v,A){tt(g,A,v)})}function Uu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ne=-1;for(;;){const wt=["count="+v];Ne==-1?v>0?(Ne=j[0].g,wt.push("ofs="+Ne)):Ne=0:wt.push("ofs="+Ne);let Je=!0;for(let yt=0;yt<v;yt++){var K=j[yt].g;const Bn=j[yt].map;if(K-=Ne,K<0)Ne=Math.max(0,j[yt].g-100),Je=!1;else try{K="req"+K+"_"||"";try{var ue=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Vi,si]of ue){let ai=si;m(si)&&(ai=Sr(si)),wt.push(K+Vi+"="+encodeURIComponent(ai))}}catch(Vi){throw wt.push(K+"type="+encodeURIComponent("_badmap")),Vi}}catch{A&&A(Bn)}}if(Je){ue=wt.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),g.G=c,ue}function ju(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;$||R(),ne||($(),ne=!0),C.add(g,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ei(y(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ei(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Nr(this),zu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=xt(c.na);tt(g,"RID","rpc"),tt(g,"SID",c.M),tt(g,"AID",c.K),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&tt(g,"TO",c.ia),tt(g,"TYPE","xmlhttp"),Vs(c,g),c.u&&c.o&&Os(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Is(xt(g)),v.u=null,v.R=!0,fa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),ks(this),Dt(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,g){var v=null;if(c.g==g){Ta(c),Jo(c),c.g=null;var A=2}else if(Ci(c.h,g))v=g.G,zo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;A=ha(),rt(A,new vi(A,v)),xi(c)}else ju(c);else if(j=g.m,j==3||j==0&&g.X>0||!(A==1&&Ea(c,g)||A==2&&ks(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Hu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Mi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const j=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gt(A,"https"),Is(A),j?ni(A.toString(),v):Ko(A.toString(),v)}else Dt(2);c.I=0,c.l&&c.l.pa(g),qu(c),va(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const g=Bo(c.h);(g.length!=0||c.i.length!=0)&&(z(c.ja,g),z(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Fu(c,g,v){var A=v instanceof Rn?xt(v):new Rn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Ar(A,A.u);else{var j=f.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const K=new Rn(null);A&&Gt(K,A),g&&(K.g=g),j&&Ar(K,j),v&&(K.h=v),A=K}return v=c.G,g=c.wa,v&&g&&tt(A,v,g),tt(A,"VER",c.ka),Vs(c,A),A}function Gu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new st(new Di({ab:v})):new st(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,g){return new dn(c,g)};function dn(c,g){ct.call(this),this.g=new Dr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ji(this)}T(dn,ct),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Qo(this.g)},dn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sr(c),c=v);g.i.push(new Ot(g.Ya++,c)),g.I==3&&xi(g)},dn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,dn.Z.N.call(this)};function Yu(c){Jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Yu,Jt);function $u(){Pn.call(this),this.status=1}T($u,Pn);function Ji(c){this.g=c}T(Ji,Ku),Ji.prototype.ra=function(){rt(this.g,"a")},Ji.prototype.qa=function(c){rt(this.g,new Yu(c))},Ji.prototype.pa=function(c){rt(this.g,new $u)},Ji.prototype.oa=function(){rt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,H0=function(){return new Or},B0=function(){return ha()},z0=bt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,dh=Rs,ko.COMPLETE="complete",j0=ko,Ru.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Hl=Ru,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,U0=st}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Io="12.8.0";function MD(r){Io=r}const ra=new dp("@firebase/firestore");function Wa(){return ra.logLevel}function de(r,...e){if(ra.logLevel<=je.DEBUG){const n=e.map(bp);ra.debug(`Firestore (${Io}): ${r}`,...n)}}function vr(r,...e){if(ra.logLevel<=je.ERROR){const n=e.map(bp);ra.error(`Firestore (${Io}): ${r}`,...n)}}function fo(r,...e){if(ra.logLevel<=je.WARN){const n=e.map(bp);ra.warn(`Firestore (${Io}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,q0(r,s,n)}function q0(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||q0(e,o,s)}function Ie(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class F0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class kD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LD{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new F0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class PD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new PD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Tm(o)===Tm(u)?ze(o,u):Tm(o)?1:-1}return ze(r.length,e.length)}const BD=55296,HD=57343;function Tm(r){const e=r.charCodeAt(0);return e>=BD&&e<=HD}function mo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const SE="__name__";class ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=ji.isNumericId(e),o=ji.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ji.extractNumericId(e).compare(ji.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class dt extends ji{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const qD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ji{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return qD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new sn([SE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}function G0(r,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function FD(r,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function AE(r){if(!_e.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){if(_e.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function K0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function sa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(r);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function jt(r,e){const n={typeString:r};return e&&(n.value=e),n}function yu(r,e){if(!K0(r))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}const wE=-62135596800,RE=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*RE);return new Be(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wE)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:jt("string",Be._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Be(0,0))}static max(){return new we(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nu=-1;function GD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Be(n+1,0):new Be(n,s));return new ms(o,_e.empty(),e)}function KD(r){return new ms(r.readTime,r.key,nu)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(we.min(),_e.empty(),nu)}static max(){return new ms(we.max(),_e.empty(),nu)}}function YD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const $D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==$D)throw r;de("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function XD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;const Rp=-1;function Qh(r){return r==null}function Ih(r){return r===0&&1/r==-1/0}function JD(r){return typeof r=="number"&&Number.isInteger(r)&&!Ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Y0="";function WD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=CE(e)),e=ZD(r.get(n),e);return CE(e)}function ZD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Y0:n+="";break;default:n+=u}}return n}function CE(r){return r+Y0+""}function IE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ss(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function $0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Et{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new rn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new qt(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Q0("Invalid base64 string: "+u):u}})(e);return new an(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=e2.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gs(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}const X0="server_timestamp",J0="__type__",W0="__previous_value__",Z0="__local_write_time__";function Cp(r){return(r?.mapValue?.fields||{})[J0]?.stringValue===X0}function Xh(r){const e=r.mapValue.fields[W0];return Cp(e)?Xh(e):e}function iu(r){const e=ps(r.mapValue.fields[Z0].timestampValue);return new Be(e.seconds,e.nanos)}class t2{constructor(e,n,s,o,u,f,m,p,y,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=T}}const Dh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}function n2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(r.options.projectId,e)}const eS="__type__",i2="__max__",nh={mapValue:{}},tS="__vector__",Nh="value";function ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cp(r)?4:s2(r)?9007199254740991:r2(r)?10:11:Ae(28295,{value:r})}function Gi(r,e){if(r===e)return!0;const n=ys(r);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return iu(r).isEqual(iu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ps(o.timestampValue),m=ps(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return It(o.geoPointValue.latitude)===It(u.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return It(o.integerValue)===It(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=It(o.doubleValue),m=It(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(IE(f)!==IE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Gi(f[p],m[p])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function su(r,e){return(r.values||[]).find((n=>Gi(n,e)))!==void 0}function po(r,e){if(r===e)return 0;const n=ys(r),s=ys(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=It(u.integerValue||u.doubleValue),p=It(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return NE(r.timestampValue,e.timestampValue);case 4:return NE(iu(r),iu(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=gs(u),p=gs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ze(m[y],p[y]);if(E!==0)return E}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(It(u.latitude),It(f.latitude));return m!==0?m:ze(It(u.longitude),It(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return OE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Nh]?.arrayValue,E=p[Nh]?.arrayValue,T=ze(y?.values?.length||0,E?.values?.length||0);return T!==0?T:OE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Pm(p[T],E[T]);if(w!==0)return w;const L=po(m[p[T]],y[E[T]]);if(L!==0)return L}return ze(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function NE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=ps(r),s=ps(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function OE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function go(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"})(r.mapValue):Ae(61005,{value:r})}function mh(r){switch(ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,f)=>{o+=u.length+mh(f)})),o})(r.mapValue);default:throw Ae(13486,{value:r})}}function xE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function ME(r){return!!r&&"nullValue"in r}function VE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function r2(r){return(r?.mapValue?.fields||{})[eS]?.stringValue===tS}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function s2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===i2}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=sn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ss(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new An($l(this.value))}}function nS(r){const e=[];return Ss(r.fields,((n,s)=>{const o=new sn([n]);if(ph(s)){const u=nS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new kn(e)}class hn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new hn(e,0,we.min(),we.min(),we.min(),An.empty(),0)}static newFoundDocument(e,n,s,o){return new hn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new hn(e,2,n,we.min(),we.min(),An.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,we.min(),we.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function kE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function LE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Gi(r.position[n],e.position[n]))return!1;return!0}class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function a2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class iS{}class Ut extends iS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new l2(e,n,s):n==="array-contains"?new h2(e,s):n==="in"?new f2(e,s):n==="not-in"?new d2(e,s):n==="array-contains-any"?new m2(e,s):new Ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new u2(e,s):new c2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends iS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return rS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rS(r){return r.op==="and"}function sS(r){return o2(r)&&rS(r)}function o2(r){for(const e of r.filters)if(e instanceof yi)return!1;return!0}function zm(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+go(r.value);if(sS(r))return r.filters.map((e=>zm(e))).join(",");{const e=r.filters.map((n=>zm(n))).join(",");return`${r.op}(${e})`}}function aS(r,e){return r instanceof Ut?(function(s,o){return o instanceof Ut&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)})(r,e):r instanceof yi?(function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&aS(f,o.filters[m])),!0):!1})(r,e):void Ae(19439)}function oS(r){return r instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(r):r instanceof yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(oS).join(" ,")+"}"})(r):"Filter"}class l2 extends Ut{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class u2 extends Ut{constructor(e,n){super(e,"in",n),this.keys=lS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class c2 extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=lS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lS(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class h2 extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&su(n.arrayValue,this.value)}}class f2 extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class d2 extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class m2 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>su(this.value.arrayValue,s)))}}class p2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function PE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new p2(r,e,n,s,o,u,f)}function Dp(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>go(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!a2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!LE(r.startAt,e.startAt)&&LE(r.endAt,e.endAt)}function Bm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function g2(r,e,n,s,o,u,f,m){return new Oo(r,e,n,s,o,u,f,m)}function uS(r){return new Oo(r)}function UE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y2(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function cS(r){return r.collectionGroup!==null}function Ql(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new qt(sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new au(u,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new au(sn.keyField(),s))}return e.Ie}function Hi(r){const e=Ie(r);return e.Ee||(e.Ee=_2(e,Ql(r))),e.Ee}function _2(r,e){if(r.limitType==="F")return PE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new au(o.field,u)}));const n=r.endAt?new Oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oh(r.startAt.position,r.startAt.inclusive):null;return PE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hm(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function v2(r,e){const n=r.explicitOrderBy.concat([e]);return new Oo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Jh(r,e){return Np(Hi(r),Hi(e))&&r.limitType===e.limitType}function hS(r){return`${Dp(Hi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>oS(o))).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${s})`})(Hi(r))}; limitType=${r.limitType})`}function Wh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=kE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,m,p){const y=kE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Ql(s),o))})(r,e)}function E2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=T2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function T2(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?po(p,y):Ae(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}const S2=new Et(_e.comparator);function Er(){return S2}const dS=new Et(_e.comparator);function ql(...r){let e=dS;for(const n of r)e=e.insert(n.key,n);return e}function mS(r){let e=dS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Xl()}function pS(){return Xl()}function Xl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const A2=new Et(_e.comparator),b2=new qt(_e.comparator);function He(...r){let e=b2;for(const n of r)e=e.add(n);return e}const w2=new qt(ze);function R2(){return w2}function Op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function gS(r){return{integerValue:""+r}}function C2(r,e){return JD(e)?gS(e):Op(r,e)}class Zh{constructor(){this._=void 0}}function I2(r,e,n){return r instanceof xh?(function(o,u){const f={fields:{[J0]:{stringValue:X0},[Z0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cp(u)&&(u=Xh(u)),u&&(f.fields[W0]=u),{mapValue:f}})(n,e):r instanceof ou?_S(r,e):r instanceof lu?vS(r,e):(function(o,u){const f=yS(o,u),m=jE(f)+jE(o.Ae);return jm(f)&&jm(o.Ae)?gS(m):Op(o.serializer,m)})(r,e)}function D2(r,e,n){return r instanceof ou?_S(r,e):r instanceof lu?vS(r,e):n}function yS(r,e){return r instanceof Mh?(function(s){return jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends Zh{}class ou extends Zh{constructor(e){super(),this.elements=e}}function _S(r,e){const n=ES(e);for(const s of r.elements)n.some((o=>Gi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends Zh{constructor(e){super(),this.elements=e}}function vS(r,e){let n=ES(e);for(const s of r.elements)n=n.filter((o=>!Gi(o,s)));return{arrayValue:{values:n}}}class Mh extends Zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jE(r){return It(r.integerValue||r.doubleValue)}function ES(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function N2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?mo(s.elements,o.elements,Gi):s instanceof Mh&&o instanceof Mh?Gi(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,e.transform)}class O2{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ef{}function TS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xp(r.key,di.none()):new _u(r.key,r.data,di.none());{const n=r.data,s=An.empty();let o=new qt(sn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new As(r.key,s,new kn(o.toArray()),di.none())}}function x2(r,e,n){r instanceof _u?(function(o,u,f){const m=o.value.clone(),p=BE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof As?(function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=BE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(SS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof _u?(function(u,f,m,p){if(!gh(u.precondition,f))return m;const y=u.value.clone(),E=HE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof As?(function(u,f,m,p){if(!gh(u.precondition,f))return m;const y=HE(u.fieldTransforms,p,f),E=f.data;return E.setAll(SS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function M2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=yS(s.transform,o||null);u!=null&&(n===null&&(n=An.empty()),n.set(s.field,u))}return n||null}function zE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((u,f)=>N2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _u extends ef{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends ef{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function BE(r,e,n){const s=new Map;et(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,D2(f,m,n[o]))}return s}function HE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,I2(u,f,e))}return s}class xp extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V2 extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&x2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=TS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>zE(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>zE(n,s)))}}class Mp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return A2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mp(e,n,s,o)}}class L2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class P2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Ke;function U2(r){switch(r){case te.OK:return Ae(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function AS(r){if(r===void 0)return vr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return Ae(39323,{code:r})}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function j2(){return new TextEncoder}const z2=new cs([4294967295,4294967295],0);function qE(r){const e=j2().encode(r),n=new P0;return n.update(e),new Uint8Array(n.digest())}function FE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class Vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(z2)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qE(e),[s,o]=FE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=qE(e),[s,o]=FE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tf(we.min(),o,new Et(ze),Er(),He())}}class vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,He(),He(),He())}}class yh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class bS{constructor(e,n){this.targetId=e,this.Ce=n}}class wS{constructor(e,n,s=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class GE{constructor(){this.ve=0,this.Fe=KE(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=KE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class B2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.He=ih(),this.Je=ih(),this.Ze=new Et(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new _e(u.path);this.et(n,f,hn.newNoDocument(f,we.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=gs(s).toUint8Array()}catch(p){if(p instanceof Q0)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return fo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Bm(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,hn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=He();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new tf(e,n,this.Ze,this.je,s);return this.je=Er(),this.He=ih(),this.Je=ih(),this.Ze=new Et(ze),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new qt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new qt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new Et(_e.comparator)}function KE(){return new Et(_e.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class G2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(r,e){return r.useProto3Json||Qh(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function K2(r,e){return Vh(r,e.toTimestamp())}function qi(r){return et(!!r,49232),we.fromTimestamp((function(n){const s=ps(n);return new Be(s.seconds,s.nanos)})(r))}function kp(r,e){return Gm(r,e).canonicalString()}function Gm(r,e){const n=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function CS(r){const e=dt.fromString(r);return et(xS(e),10190,{key:e.toString()}),e}function Km(r,e){return kp(r.databaseId,e.path)}function Sm(r,e){const n=CS(e);if(n.get(1)!==r.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(DS(n))}function IS(r,e){return kp(r.databaseId,e)}function Y2(r){const e=CS(r);return e.length===4?dt.emptyPath():DS(e)}function Ym(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DS(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function YE(r,e,n){return{name:Km(r,e),fields:n.value.mapValue.fields}}function $2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(et(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?te.UNKNOWN:AS(y.code);return new he(E,y.message||"")})(f);n=new wS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=qi(s.document.updateTime),f=s.document.createTime?qi(s.document.createTime):we.min(),m=new An({mapValue:{fields:s.document.fields}}),p=hn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new yh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?qi(s.readTime):we.min(),f=hn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new P2(o,u),m=s.targetId;n=new bS(m,f)}}return n}function Q2(r,e){let n;if(e instanceof _u)n={update:YE(r,e.key,e.value)};else if(e instanceof xp)n={delete:Km(r,e.key)};else if(e instanceof As)n={update:YE(r,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof V2))return Ae(16599,{dt:e.type});n={verify:Km(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:K2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(r,e.precondition)),n}function X2(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?qi(o.updateTime):qi(u);return f.isEqual(we.min())&&(f=qi(u)),new O2(f,o.transformResults||[])})(n,e)))):[]}function J2(r,e){return{documents:[IS(r,e.path)]}}function W2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IS(r,o);const u=(function(y){if(y.length!==0)return OS(yi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:eo(w.field),direction:tN(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Fm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function Z2(r){let e=Y2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=NS(T);return w instanceof yi&&sS(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(z){return new au(to(z.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Qh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,L=T.values||[];return new Oh(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,L=T.values||[];return new Oh(L,w)})(n.endAt)),g2(e,o,f,u,m,"F",p,y)}function eN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Ut.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ut.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return yi.create(n.compositeFilter.filters.map((s=>NS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(r):Ae(30097,{filter:r})}function tN(r){return H2[r]}function nN(r){return q2[r]}function iN(r){return F2[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return sn.fromServerFormat(r.fieldPath)}function OS(r){return r instanceof Ut?(function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:nN(n.op),value:n.value}}})(r):r instanceof yi?(function(n){const s=n.getFilters().map((o=>OS(o)));return s.length===1?s[0]:{compositeFilter:{op:iN(n.op),filters:s}}})(r):Ae(54877,{filter:r})}function rN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function MS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ss{constructor(e,n,s,o,u=we.min(),f=we.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sN{constructor(e){this.yt=e}}function aN(r){const e=Z2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}class oN{constructor(){this.Sn=new lN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ms.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class lN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new qt(dt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(dt.comparator)).toArray()}}const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(VS,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const QE="LruGarbageCollector",uN=1048576;function XE([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class cN{constructor(e){this.Pr=e,this.buffer=new qt(XE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();XE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(QE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?de(QE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Ar(3e5)}))}}class fN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve($h.ce);const s=new cN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve($E)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Wa()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function dN(r,e){return new fN(r,e)}class mN{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,kn.empty(),Be.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Er();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof As)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Jl(E.mutation,y,E.mutation.getFieldMask(),Be.now())):f.set(y.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new pN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new Et(((f,m)=>f-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||kn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=pS();E.forEach((w=>{if(!u.has(w)){const L=TS(n.get(w),s.get(w));L!==null&&T.set(w,L),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return y2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Zs());let m=nu,p=u;return f.next((y=>ie.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,He()))).next((E=>({batchId:m,changes:mS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const y=(function(T,w){return new Oo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,hn.newInvalidDocument(E)))}));let m=ql();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,y,kn.empty(),Be.now()),Wh(n,y)&&(m=m.insert(p,y))})),m}))}}class yN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:aN(o.bundledQuery),readTime:qi(o.readTime)}})(n)),ie.resolve()}}class _N{constructor(){this.overlays=new Et(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Et(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new L2(n,s));let u=this.Lr.get(n);u===void 0&&(u=He(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class vN{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Lp{constructor(){this.kr=new qt(Yt.Kr),this.qr=new qt(Yt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Yt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Yt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new dt([])),s=new Yt(n,e),o=new Yt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new dt([])),s=new Yt(n,e),o=new Yt(n,e+1);let u=He();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Yt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class EN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Yt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new k2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Yt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Rp:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new qt(ze);return n.forEach((o=>{const u=new Yt(o,0),f=new Yt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Yt(new _e(u),0);let m=new qt(ze);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Yt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Yt(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TN{constructor(e){this.ti=e,this.docs=(function(){return new Et(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Er();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||YD(KD(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new SN(this)}getSize(e){return ie.resolve(this.size)}}class SN extends mN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class AN{constructor(e){this.persistence=e,this.ri=new la((n=>Dp(n)),Np),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Lp,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class kS{constructor(e,n){this._i={},this.overlays={},this.ai=new $h(0),this.ui=!1,this.ui=!0,this.ci=new vN,this.referenceDelegate=e(this),this.li=new AN(this),this.indexManager=new oN,this.remoteDocumentCache=(function(o){return new TN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new sN(n),this.Pi=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _N,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new EN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new bN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class bN extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new Lp,this.Ai=null}static Vi(e){return new Pp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.fi=new la((s=>WD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=dN(this,n)}static Vi(e,n){return new kh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Up{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,s,o)}}class wN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eR()?8:XD(fn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Wa()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Wa()<=je.DEBUG&&de("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Wa()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):ie.resolve())}gs(e,n){if(UE(n))return ie.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=He(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,f,p.readTime)?this.gs(e,qm(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,o){return UE(n)||o.isEqual(we.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ie.resolve(null):(Wa()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.Ds(e,f,n,GD(o,nu)).next((m=>m)))}))}bs(e,n){let s=new qt(fS(e));return n.forEach(((o,u)=>{Wh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Wa()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Za(n)),this.fs.getDocumentsMatchingQuery(e,n,ms.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const jp="LocalStore",CN=3e8;class IN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Et(ze),this.Fs=new la((u=>Dp(u)),Np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function DN(r,e,n,s){return new IN(r,e,n,s)}async function LS(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=He();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function NN(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let L=ie.resolve();return w.forEach((z=>{L=L.next((()=>E.getEntry(p,z))).next((F=>{const G=y.docVersions.get(z);et(G!==null,48541),F.version.compareTo(G)<0&&(T.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=He();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function PS(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ON(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let L=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(an.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(F,G,se){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=CN?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(w,L,E)&&m.push(n.li.updateTargetData(u,L))}));let p=Er(),y=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(xN(u,f,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(we.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function xN(r,e,n){let s=He(),o=He();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Er();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(jp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function MN(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function VN(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function $m(r,e,n){const s=Ie(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;de(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function JE(r,e,n){const s=Ie(r);let o=we.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Ie(p),w=T.Fs.get(E);return w!==void 0?ie.resolve(T.vs.get(w)):T.li.getTargetData(y,E)})(s,f,Hi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:He()))).next((m=>(kN(s,E2(e),m),{documents:m,ks:u})))))}function kN(r,e,n){let s=r.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class WE{constructor(){this.activeTargetIds=R2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LN{constructor(){this.vo=new WE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new WE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PN{Mo(e){}shutdown(){}}const ZE="ConnectivityMonitor";class eT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(ZE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(ZE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Qm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const Am="RestConnection",UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Qm(),m=this.Qo(e,n.toUriEncodedString());de(Am,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=bo(y);return this.zo(e,m,p,s,E).then((T=>(de(Am,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw fo(Am,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=UN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class zN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Pl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ao extends jN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ao.c_){const e=B0();Pl(e,z0.STAT_EVENT,(n=>{n.stat===Lm.PROXY?de(un,"STAT_EVENT: detected buffering proxy"):n.stat===Lm.NOPROXY&&de(un,"STAT_EVENT: detected no buffering proxy")})),ao.c_=!0}}zo(e,n,s,o,u){const f=Qm();return new Promise(((m,p)=>{const y=new U0;y.setWithCredentials(!0),y.listenOnce(j0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case dh.NO_ERROR:const T=y.getResponseJson();de(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case dh.TIMEOUT:de(un,`RPC '${e}' ${f} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const w=y.getStatus();if(de(un,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L?.error;if(z&&z.status&&z.message){const F=(function(se){const J=se.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(J)>=0?J:te.UNKNOWN})(z.status);p(new he(F,z.message))}else p(new he(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(un,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);de(un,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Qm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");de(un,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let T=!1,w=!1;const L=new zN({Ho:z=>{w?de(un,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(T||(de(un,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),de(un,`RPC '${e}' stream ${o} sending:`,z),E.send(z))},Jo:()=>E.close()});return Pl(E,Hl.EventType.OPEN,(()=>{w||(de(un,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Pl(E,Hl.EventType.CLOSE,(()=>{w||(w=!0,de(un,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Pl(E,Hl.EventType.ERROR,(z=>{w||(w=!0,fo(un,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),L.o_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),Pl(E,Hl.EventType.MESSAGE,(z=>{if(!w){const F=z.data[0];et(!!F,16349);const G=F,se=G?.error||G[0]?.error;if(se){de(un,`RPC '${e}' stream ${o} received error:`,se);const J=se.status;let ae=(function(ne){const C=Pt[ne];if(C!==void 0)return AS(C)})(J),ve=se.message;ae===void 0&&(ae=te.INTERNAL,ve="Unknown error status: "+J+" with message "+se.message),w=!0,L.o_(new he(ae,ve)),E.close()}else de(un,`RPC '${e}' stream ${o} received:`,F),L.__(F)}})),ao.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return H0()}}function BN(r){return new ao(r)}function bm(){return typeof document<"u"?document:null}function nf(r){return new G2(r,!0)}ao.c_=!1;class US{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tT="PersistentStream";class jS{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new US(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(tT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HN extends jS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?qi(f.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ym(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Bm(p)?{documents:J2(u,p)}:{query:W2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=RS(u,f.resumeToken);const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const y=Fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=eN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.K_(n)}}class qN extends jS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=X2(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ym(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Q2(this.serializer,s)))};this.K_(n)}}class FN{}class GN extends FN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Gm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Gm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KN(r,e,n,s){return new GN(r,e,n,s)}class YN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class $N{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(de(aa,"Restarting streams for network reachability change."),await(async function(p){const y=Ie(p);y.Ea.add(4),await Eu(y),y.Va.set("Unknown"),y.Ea.delete(4),await rf(y)})(this))}))})),this.Va=new YN(s,o)}}async function rf(r){if(ua(r))for(const e of r.Ra)await e(!0)}async function Eu(r){for(const e of r.Ra)await e(!1)}function zS(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Hp(n):xo(n).O_()&&Bp(n,e))}function zp(r,e){const n=Ie(r),s=xo(n);n.Ia.delete(e),s.O_()&&BS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Va.set("Unknown"))}function Bp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).Z_(e)}function BS(r,e){r.da.$e(e),xo(r).X_(e)}function Hp(r){r.da=new B2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Va.ua()}function qp(r){return ua(r)&&!xo(r).x_()&&r.Ia.size>0}function ua(r){return Ie(r).Ea.size===0}function HS(r){r.da=void 0}async function QN(r){r.Va.set("Online")}async function XN(r){r.Ia.forEach(((e,n)=>{Bp(r,e)}))}async function JN(r,e){HS(r),qp(r)?(r.Va.ha(e),Hp(r)):r.Va.set("Unknown")}async function WN(r,e,n){if(r.Va.set("Online"),e instanceof wS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof yh?r.da.Xe(e):e instanceof bS?r.da.st(e):r.da.tt(e),!n.isEqual(we.min()))try{const s=await PS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),BS(u,p);const T=new ss(E.target,p,y,E.sequenceNumber);Bp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(aa,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await Eu(r),r.Va.set("Offline"),n||(n=()=>PS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await rf(r)}))}function qS(r,e){return e().catch((n=>Lh(r,n,e)))}async function sf(r){const e=Ie(r),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;ZN(e);)try{const o=await MN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,eO(e,o)}catch(o){await Lh(e,o)}FS(e)&&GS(e)}function ZN(r){return ua(r)&&r.Ta.length<10}function eO(r,e){r.Ta.push(e);const n=_s(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function FS(r){return ua(r)&&!_s(r).x_()&&r.Ta.length>0}function GS(r){_s(r).start()}async function tO(r){_s(r).ra()}async function nO(r){const e=_s(r);for(const n of r.Ta)e.ea(n.mutations)}async function iO(r,e,n){const s=r.Ta.shift(),o=Mp.from(s,e,n);await qS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await sf(r)}async function rO(r,e){e&&_s(r).Y_&&await(async function(s,o){if((function(f){return U2(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await qS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await sf(s)}})(r,e),FS(r)&&GS(r)}async function nT(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),de(aa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await Eu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rf(n)}async function sO(r,e){const n=Ie(r);e?(n.Ea.delete(2),await rf(n)):e||(n.Ea.add(2),await Eu(n),n.Va.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ie(n);return u.sa(),new HN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:QN.bind(null,r),Yo:XN.bind(null,r),t_:JN.bind(null,r),J_:WN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),qp(r)?Hp(r):r.Va.set("Unknown")):(await r.ma.stop(),HS(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(n,s,o){const u=Ie(n);return u.sa(),new qN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tO.bind(null,r),t_:rO.bind(null,r),ta:nO.bind(null,r),na:iO.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await sf(r)):(await r.fa.stop(),r.Ta.length>0&&(de(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Fp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(vr("AsyncQueue",`${e}: ${r}`),No(r))return new he(te.UNAVAILABLE,`${e}: ${r}`);throw r}class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class iT{constructor(){this.ga=new Et(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class aO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oO{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=rT(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function rT(){return new la((r=>hS(r)),Jh)}async function lO(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new aO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Kp(n)}async function uO(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cO(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Kp(n)}function hO(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Kp(r){r.Ca.forEach((e=>{e.next()}))}var Xm,sT;(sT=Xm||(Xm={})).Ma="default",sT.Cache="cache";class fO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}class KS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class dO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=fS(e),this.tu=new oo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new iT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),L=Wh(this.query,T)?T:null,z=!!w&&this.mutatedKeys.has(w.key),F=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let G=!1;w&&L?w.data.isEqual(L.data)?z!==F&&(s.track({type:3,doc:L}),G=!0):this.su(w,L)||(s.track({type:2,doc:L}),G=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),G=!0):w&&!L&&(s.track({type:1,doc:w}),G=!0,(p||y)&&(m=!0)),G&&(L?(f=f.add(L),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(L,z){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:G})}};return F(L)-F(z)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,f.length!==0||y?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new YS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new KS(s))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Yp="SyncEngine";class mO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pO{constructor(e){this.key=e,this.hu=!1}}class gO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>hS(m)),Jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(_e.comparator),this.Au=new Map,this.Vu=new Lp,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yO(r,e,n=!0){const s=ZS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $S(s,e,n,!0),o}async function _O(r,e){const n=ZS(r);await $S(n,e,!0,!1)}async function $S(r,e,n,s){const o=await VN(r.localStore,Hi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&zS(r.remoteStore,o),m}async function vO(r,e,n,s,o){r.pu=(T,w,L)=>(async function(F,G,se,J){let ae=G.view.ru(se);ae.Ss&&(ae=await JE(F.localStore,G.query,!1).then((({documents:C})=>G.view.ru(C,ae))));const ve=J&&J.targetChanges.get(G.targetId),$=J&&J.targetMismatches.get(G.targetId)!=null,ne=G.view.applyChanges(ae,F.isPrimaryClient,ve,$);return oT(F,G.targetId,ne.au),ne.snapshot})(r,T,w,L);const u=await JE(r.localStore,e,!0),f=new dO(e,u.ks),m=f.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);oT(r,n,y.au);const E=new mO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function EO(r,e,n){const s=Ie(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),Jm(s,o.targetId)})).catch(Do)):(Jm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function TO(r,e){const n=Ie(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function SO(r,e,n){const s=DO(r);try{const o=await(function(f,m){const p=Ie(f),y=Be.now(),E=m.reduce(((L,z)=>L.add(z.key)),He());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let z=Er(),F=He();return p.xs.getEntries(L,E).next((G=>{z=G,z.forEach(((se,J)=>{J.isValidDocument()||(F=F.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,z))).next((G=>{T=G;const se=[];for(const J of m){const ae=M2(J,T.get(J.key).overlayedDocument);ae!=null&&se.push(new As(J.key,ae,nS(ae.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,se,m)})).next((G=>{w=G;const se=G.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(L,G.batchId,se)}))})).then((()=>({batchId:w.batchId,changes:mS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.du[f.currentUser.toKey()];y||(y=new Et(ze)),y=y.insert(m,p),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await Tu(s,o.changes),await sf(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function QS(r,e){const n=Ie(r);try{const s=await ON(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await Tu(n,s,e)}catch(s){await Do(s)}}function aT(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ie(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.ba)w.va(m)&&(y=!0)})),y&&Kp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AO(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new Et(_e.comparator);f=f.insert(u,hn.newNoDocument(u,we.min()));const m=He().add(u),p=new tf(we.min(),new Map,new Et(ze),f,m);await QS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),$p(s)}else await $m(s.localStore,e,!1).then((()=>Jm(s,e,n))).catch(Do)}async function bO(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await NN(n.localStore,e);JS(n,s,null),XS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await Do(o)}}async function wO(r,e,n){const s=Ie(r);try{const o=await(function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(et(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);JS(s,e,n),XS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await Do(o)}}function XS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function JS(r,e,n){const s=Ie(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Jm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||WS(r,s)}))}function WS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(zp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),$p(r))}function oT(r,e,n){for(const s of n)s instanceof KS?(r.Vu.addReference(s.key,e),RO(r,s)):s instanceof YS?(de(Yp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||WS(r,s.key)):Ae(19791,{wu:s})}function RO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(Yp,"New document in limbo: "+n),r.Eu.add(s),$p(r))}function $p(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(dt.fromString(e)),s=r.fu.next();r.Au.set(s,new pO(n)),r.Ru=r.Ru.insert(n,s),zS(r.remoteStore,new ss(Hi(uS(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function Tu(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Up.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,y){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(y,(w=>ie.forEach(w.Ts,(L=>E.persistence.referenceDelegate.addReference(T,w.targetId,L))).next((()=>ie.forEach(w.Is,(L=>E.persistence.referenceDelegate.removeReference(T,w.targetId,L)))))))))}catch(T){if(!No(T))throw T;de(jp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const L=E.vs.get(w),z=L.snapshotVersion,F=L.withLastLimboFreeSnapshotVersion(z);E.vs=E.vs.insert(w,F)}}})(s.localStore,u))}async function CO(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){de(Yp,"User change. New user:",e.toKey());const s=await LS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ns)}}function IO(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function ZS(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AO.bind(null,e),e.Pu.J_=cO.bind(null,e.eventManager),e.Pu.yu=hO.bind(null,e.eventManager),e}function DO(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DN(this.persistence,new RN,e.initialUser,this.serializer)}Cu(e){return new kS(Pp.Vi,this.serializer)}Du(e){return new LN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class NO extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new kS((s=>kh.Vi(s,n)),this.serializer)}}class Wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CO.bind(null,this.syncEngine),await sO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oO})()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),s=BN(e.databaseInfo);return KN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new $N(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aT(this.syncEngine,n,0)),(function(){return eT.v()?new eT:new PN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new gO(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);de(aa,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class OO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class xO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{de(vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(de(vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wm(r,e){r.asyncQueue.verifyOperationInProgress(),de(vs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await LS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function lT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await MO(r);de(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>nT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>nT(e.remoteStore,o))),r._onlineComponents=e}async function MO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(vs,"Using user provided OfflineComponentProvider");try{await wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await wm(r,new Ph)}}else de(vs,"Using default OfflineComponentProvider"),await wm(r,new NO(void 0));return r._offlineComponents}async function eA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(vs,"Using user provided OnlineComponentProvider"),await lT(r,r._uninitializedComponentsProvider._online)):(de(vs,"Using default OnlineComponentProvider"),await lT(r,new Wm))),r._onlineComponents}function VO(r){return eA(r).then((e=>e.syncEngine))}async function kO(r){const e=await eA(r),n=e.eventManager;return n.onListen=yO.bind(null,e.syncEngine),n.onUnlisten=EO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_O.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TO.bind(null,e.syncEngine),n}function LO(r,e,n={}){const s=new hs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new OO({next:w=>{E.Nu(),f.enqueueAndForget((()=>uO(u,T))),w.fromCache&&p.source==="server"?y.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new fO(m,E,{includeMetadataChanges:!0,Ka:!0});return lO(u,T)})(await kO(r),r.asyncQueue,e,n,s))),s.promise}function PO(r,e){const n=new hs;return r.asyncQueue.enqueueAndForget((async()=>SO(await VO(r),e,n))),n.promise}function tA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const UO="ComponentProvider",uT=new Map;function jO(r,e,n,s,o){return new t2(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,tA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const nA="firestore.googleapis.com",cT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nA,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uN)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VD;switch(s.type){case"firstParty":return new UD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=uT.get(n);s&&(de(UO,"Removing Datastore"),uT.delete(n),s.terminate())})(this),Promise.resolve()}}function zO(r,e,n,s={}){r=sa(r,af);const o=bo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(XT(`https://${m}`),JT("Firestore",!0)),u.host!==nA&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=cn.MOCK_USER;else{y=G1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(T)}r._authCredentials=new kD(new F0(y,E))}}class ca{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,Ht._jsonSchema))return new Ht(e,s||null,new _e(dt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:jt("string",Ht._jsonSchemaVersion),referencePath:jt("string")};class fs extends ca{constructor(e,n,s){super(e,n,uS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new _e(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function Vn(r,e,...n){if(r=$t(r),G0("collection","path",e),r instanceof af){const s=dt.fromString(e,...n);return bE(s),new fs(r,null,s)}{if(!(r instanceof Ht||r instanceof fs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return bE(s),new fs(r.firestore,null,s)}}function ea(r,e,...n){if(r=$t(r),arguments.length===1&&(e=wp.newId()),G0("doc","path",e),r instanceof af){const s=dt.fromString(e,...n);return AE(s),new Ht(r,null,new _e(s))}{if(!(r instanceof Ht||r instanceof fs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return AE(s),new Ht(r.firestore,r instanceof fs?r.converter:null,new _e(s))}}const fT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new US(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&de(fT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;de(fT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",mT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:mT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Su extends af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new dT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function BO(r,e){const n=typeof r=="object"?r:t0(),s=typeof r=="string"?r:Dh,o=pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=q1("firestore");u&&zO(o,...u)}return o}function iA(r){if(r._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HO(r),r._firestoreClient}function HO(r){const e=r._freezeSettings(),n=jO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(an.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:jt("string",Xn._jsonSchemaVersion),bytes:jt("string")};class Qp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._methodName=e}}class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:jt("string",Fi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mi(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:jt("string",mi._jsonSchemaVersion),vectorValues:jt("object")};const qO=/^__.*__$/;class FO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class rA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:r})}}class Jp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(sA(this.dataSource)&&qO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class GO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nf(e)}createContext(e,n,s,o=!1){return new Jp({dataSource:e,methodName:n,targetDoc:s,path:sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(r){const e=r._freezeSettings(),n=nf(r._databaseId);return new GO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function KO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,s);const m=aA(s,f);let p,y;if(u.merge)p=new kn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=vo(e,T,n);if(!f.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);uA(E,w)||E.push(w)}p=new kn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new FO(new An(m),p,y)}class of extends Xp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function YO(r,e,n,s){const o=r.createContext(1,e,n);Zp("Data must be an object, but it was:",o,s);const u=[],f=An.empty();Ss(s,((p,y)=>{const E=lA(e,p,n);y=$t(y);const T=o.childContextForFieldPath(E);if(y instanceof of)u.push(E);else{const w=Au(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new kn(u);return new rA(f,m,o.fieldTransforms)}function $O(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[vo(e,s,n)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(vo(e,u[w])),p.push(u[w+1]);const y=[],E=An.empty();for(let w=m.length-1;w>=0;--w)if(!uA(y,m[w])){const L=m[w];let z=p[w];z=$t(z);const F=f.childContextForFieldPath(L);if(z instanceof of)y.push(L);else{const G=Au(z,F);G!=null&&(y.push(L),E.set(L,G))}}const T=new kn(y);return new rA(E,T,f.fieldTransforms)}function QO(r,e,n,s=!1){return Au(n,r.createContext(s?4:3,e))}function Au(r,e){if(oA(r=$t(r)))return Zp("Unsupported field value:",e,r),aA(r,e);if(r instanceof Xp)return(function(s,o){if(!sA(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Au(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=$t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return C2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Be.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Be){const u=new Be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:RS(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mi)return(function(f,m){const p=f instanceof mi?f.toArray():f;return{mapValue:{fields:{[eS]:{stringValue:tS},[Nh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Op(m.serializer,E)}))}}}}}})(s,o);if(MS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Yh(s)}`)})(r,e)}function aA(r,e){const n={};return $0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,((s,o)=>{const u=Au(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function oA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof Fi||r instanceof Xn||r instanceof Ht||r instanceof Xp||r instanceof mi||MS(r))}function Zp(r,e,n){if(!oA(n)||!K0(n)){const s=Yh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function vo(r,e,n){if((e=$t(e))instanceof Qp)return e._internalPath;if(typeof e=="string")return lA(r,e);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const XO=new RegExp("[~\\*/\\[\\]]");function lA(r,e,n){if(e.search(XO)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qp(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+r+p)}function uA(r,e){return r.some((n=>n.isEqual(e)))}class JO{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ss(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((s=>It(s.doubleValue)));return new mi(n)}convertGeoPoint(e){return new Fi(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=ps(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=dt.fromString(e);et(xS(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class WO extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}const pT="@firebase/firestore",gT="4.10.0";class cA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(vo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZO extends cA{data(){return super.data()}}function ex(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class hA extends eg{}function tx(r,e,...n){let s=[];e instanceof eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ng)).length,m=u.filter((p=>p instanceof tg)).length;if(f>1||f>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class tg extends hA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tg(e,n,s)}_apply(e){const n=this._parse(e);return fA(e._query,n),new ca(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Wp(e.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_T(T,E);const z=[];for(const F of T)z.push(yT(p,u,F));w={arrayValue:{values:z}}}else w=yT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_T(T,E),w=QO(m,f,T,E==="in"||E==="not-in");return Ut.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)fA(f,p),f=Hm(f,p)})(e._query,n),new ca(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends hA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(u,f)})(e._query,this._field,this._direction);return new ca(e.firestore,e.converter,v2(e._query,n))}}function nx(r,e="asc"){const n=e,s=vo("orderBy",r);return ig._create(s,n)}function yT(r,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cS(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(dt.fromString(n));if(!_e.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xE(r,new _e(s))}if(n instanceof Ht)return xE(r,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function _T(r,e){if(!Array.isArray(r)||r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ix(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends cA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:jt("string",lo._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class _h extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new _h(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new sh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:rx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:jt("string",uo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};function ds(r){r=sa(r,ca);const e=sa(r.firestore,Su),n=iA(e),s=new WO(e);return ex(r._query),LO(n,r._query).then((o=>new uo(e,s,r,o)))}function vT(r,e,n,...s){r=sa(r,Ht);const o=sa(r.firestore,Su),u=Wp(o);let f;return f=typeof(e=$t(e))=="string"||e instanceof Qp?$O(u,"updateDoc",r._key,e,n,s):YO(u,"updateDoc",r._key,e),rg(o,[f.toMutation(r._key,di.exists(!0))])}function jh(r){return rg(sa(r.firestore,Su),[new xp(r._key,di.none())])}function Gl(r,e){const n=sa(r.firestore,Su),s=ea(r),o=ix(r.converter,e),u=Wp(r.firestore);return rg(n,[KO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then((()=>s))}function rg(r,e){const n=iA(r);return PO(n,e)}(function(e,n=!0){MD(wo),co(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Su(new LD(s.getProvider("auth-internal")),new jD(f,s.getProvider("app-check-internal")),n2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ls(pT,gT,e),ls(pT,gT,"esm2020")})();const sx={apiKey:"AIzaSyBCIgMJd3By7qkWH27YiW9VooIBGE3bFLs",authDomain:"mind-core-fitness-client.firebaseapp.com",projectId:"mind-core-fitness-client",storageBucket:"mind-core-fitness-client.firebasestorage.app",messagingSenderId:"669343392406",appId:"1:669343392406:web:f5a35ee062387e7d6f58b7"},dA=e0(sx),ah=DD(dA),Bt=BO(dA),ET="EYdciKDOi3UYBLk1u8hHams5tmO2",mA=U.createContext();function sg(){return U.useContext(mA)}function ax({children:r}){const[e,n]=U.useState(null),[s,o]=U.useState(!1),[u,f]=U.useState(!0);U.useEffect(()=>_I(ah,T=>{n(T),o(T?.uid===ET),f(!1)}),[]);const y={currentUser:e,isAdmin:s,login:async(E,T)=>{const w=await pI(ah,E,T);if(w.user.uid!==ET)throw await cE(ah),new Error("Access denied. Admin only.");return w},logout:()=>cE(ah),loading:u};return b.jsx(mA.Provider,{value:y,children:r})}function ox(){const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),{login:p}=sg(),y=Ao(),E=async T=>{T.preventDefault(),u(""),m(!0);try{await p(r,n),y("/dashboard")}catch(w){u(w.message||"Failed to log in")}m(!1)};return b.jsx("div",{className:"login-container",children:b.jsxs("div",{className:"login-card",children:[b.jsxs("div",{className:"login-header",children:[b.jsx("h1",{children:"Mind Core Fitness"}),b.jsx("p",{children:"Admin Portal"})]}),o&&b.jsx("div",{className:"error-message",children:o}),b.jsxs("form",{onSubmit:E,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"email",children:"Email"}),b.jsx("input",{type:"email",id:"email",value:r,onChange:T=>e(T.target.value),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{type:"password",id:"password",value:n,onChange:T=>s(T.target.value),required:!0})]}),b.jsx("button",{type:"submit",className:"login-btn",disabled:f,children:f?"Logging in...":"Log In"})]}),b.jsx("a",{href:"/",className:"back-link",children:"Back to website"})]})})}function lx(){const[r,e]=U.useState([]),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(null),[p,y]=U.useState({});U.useEffect(()=>{E()},[]);const E=async()=>{try{const[$,ne]=await Promise.all([ds(tx(Vn(Bt,"clients"),nx("createdAt","desc"))),ds(Vn(Bt,"sessions"))]),C=$.docs.map(I=>({id:I.id,...I.data()})),R=ne.docs.map(I=>({id:I.id,...I.data()}));e(C),s(R)}catch($){console.error("Error fetching data:",$)}u(!1)},T=$=>{const ne=new Date,C=ne.getFullYear(),R=(ne.getMonth()+1).toString().padStart(2,"0"),I=ne.getDate().toString().padStart(2,"0"),x=`${C}-${R}-${I}`,O=`${ne.getHours().toString().padStart(2,"0")}:${ne.getMinutes().toString().padStart(2,"0")}`;return n.filter(k=>k.clientId!==$?!1:k.date<x||k.date===x&&k.time<O).length},w=$=>{const ne=T($.id);return($.totalSessions||0)-ne},L=$=>{const ne=new Date,C=ne.getFullYear(),R=(ne.getMonth()+1).toString().padStart(2,"0"),I=ne.getDate().toString().padStart(2,"0"),x=`${C}-${R}-${I}`,O=`${ne.getHours().toString().padStart(2,"0")}:${ne.getMinutes().toString().padStart(2,"0")}`;return n.filter(k=>k.clientId!==$?!1:k.date>x||k.date===x&&k.time>=O).length},z=$=>$?($.toDate?$.toDate():new Date($)).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"-",F=async($,ne)=>{if(window.confirm(`Are you sure you want to delete ${ne}?`))try{await jh(ea(Bt,"clients",$)),e(r.filter(C=>C.id!==$))}catch(C){console.error("Error deleting client:",C),alert("Failed to delete client")}},G=$=>{if(!$)return"";const ne=$.toDate?$.toDate():new Date($),C=ne.getFullYear(),R=(ne.getMonth()+1).toString().padStart(2,"0"),I=ne.getDate().toString().padStart(2,"0");return`${C}-${R}-${I}`},se=$=>{m($.id),y({name:$.name,email:$.email,weeksInBlock:$.weeksInBlock,totalSessions:$.totalSessions,sessionsRemaining:$.sessionsRemaining,sessionDuration:$.sessionDuration||45,startDate:G($.startDate),endDate:G($.endDate),status:$.status})},J=$=>{const{name:ne,value:C}=$.target;if(y(R=>({...R,[ne]:C})),ne==="startDate"||ne==="weeksInBlock"){const R=ne==="startDate"?C:p.startDate,I=parseInt(ne==="weeksInBlock"?C:p.weeksInBlock);if(R&&I>0){const x=new Date(R),O=new Date(x);O.setDate(O.getDate()+I*7);const k=O.getFullYear(),D=(O.getMonth()+1).toString().padStart(2,"0"),Ze=O.getDate().toString().padStart(2,"0");y(ft=>({...ft,[ne]:C,endDate:`${k}-${D}-${Ze}`}))}}},ae=async $=>{try{await vT(ea(Bt,"clients",$),{name:p.name.trim(),email:p.email.trim().toLowerCase(),weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate)),status:p.status}),e(r.map(ne=>ne.id===$?{...ne,...p,weeksInBlock:parseInt(p.weeksInBlock),totalSessions:parseInt(p.totalSessions),sessionDuration:parseInt(p.sessionDuration),startDate:Be.fromDate(new Date(p.startDate)),endDate:Be.fromDate(new Date(p.endDate))}:ne)),m(null)}catch(ne){console.error("Error updating client:",ne),alert("Failed to update client")}},ve=async $=>{try{const ne=r.find(C=>C.id===$)?.status==="archived"?"active":"archived";await vT(ea(Bt,"clients",$),{status:ne}),e(r.map(C=>C.id===$?{...C,status:ne}:C))}catch(ne){console.error("Error archiving client:",ne),alert("Failed to update client status")}};return o?b.jsx("div",{className:"client-list-loading",children:"Loading clients..."}):r.length===0?b.jsxs("div",{className:"client-list-empty",children:[b.jsx("p",{children:"No clients yet"}),b.jsx("span",{children:"Add your first client to get started"})]}):b.jsx("div",{className:"client-list",children:r.map($=>b.jsx("div",{className:`client-card ${$.status==="archived"?"archived":""}`,children:f===$.id?b.jsxs("div",{className:"edit-form",children:[b.jsxs("div",{className:"edit-row",children:[b.jsx("input",{type:"text",name:"name",value:p.name,onChange:J,placeholder:"Name"}),b.jsx("input",{type:"email",name:"email",value:p.email,onChange:J,placeholder:"Email"})]}),b.jsxs("div",{className:"edit-row",children:[b.jsx("input",{type:"number",name:"weeksInBlock",value:p.weeksInBlock,onChange:J,placeholder:"Weeks",min:"1"}),b.jsx("input",{type:"number",name:"totalSessions",value:p.totalSessions,onChange:J,placeholder:"Total Sessions",min:"1"}),b.jsxs("select",{name:"sessionDuration",value:p.sessionDuration,onChange:J,children:[b.jsx("option",{value:"30",children:"30 min"}),b.jsx("option",{value:"45",children:"45 min"})]})]}),b.jsxs("div",{className:"edit-row",children:[b.jsx("input",{type:"date",name:"startDate",value:p.startDate,onChange:J}),b.jsx("input",{type:"date",name:"endDate",value:p.endDate,onChange:J})]}),b.jsxs("div",{className:"edit-actions",children:[b.jsx("button",{className:"save-edit-btn",onClick:()=>ae($.id),children:"Save"}),b.jsx("button",{className:"cancel-edit-btn",onClick:()=>m(null),children:"Cancel"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"client-header",children:[b.jsxs("div",{className:"client-info",children:[b.jsx("h3",{children:$.name}),b.jsx("span",{className:"client-email",children:$.email})]}),b.jsx("div",{className:"client-status",children:b.jsx("span",{className:`status-badge ${$.status}`,children:$.status})})]}),b.jsxs("div",{className:"client-details",children:[b.jsxs("div",{className:"detail-item",children:[b.jsx("span",{className:"detail-label",children:"Block"}),b.jsxs("span",{className:"detail-value",children:[$.weeksInBlock," weeks"]})]}),b.jsxs("div",{className:"detail-item",children:[b.jsx("span",{className:"detail-label",children:"Sessions"}),b.jsxs("span",{className:"detail-value",children:[w($)," / ",$.totalSessions," remaining"]})]}),b.jsxs("div",{className:"detail-item",children:[b.jsx("span",{className:"detail-label",children:"Booked"}),b.jsxs("span",{className:"detail-value",children:[L($.id)," sessions"]})]}),b.jsxs("div",{className:"detail-item",children:[b.jsx("span",{className:"detail-label",children:"Duration"}),b.jsxs("span",{className:"detail-value",children:[$.sessionDuration||45," min"]})]}),b.jsxs("div",{className:"detail-item",children:[b.jsx("span",{className:"detail-label",children:"Start"}),b.jsx("span",{className:"detail-value",children:z($.startDate)})]}),b.jsxs("div",{className:"detail-item",children:[b.jsx("span",{className:"detail-label",children:"End"}),b.jsx("span",{className:"detail-value",children:z($.endDate)})]})]}),b.jsxs("div",{className:"client-actions",children:[b.jsx("button",{className:"action-btn edit",onClick:()=>se($),children:"Edit"}),b.jsx("button",{className:"action-btn archive",onClick:()=>ve($.id),children:$.status==="archived"?"Reactivate":"Archive"}),b.jsx("button",{className:"action-btn delete",onClick:()=>F($.id,$.name),children:"Delete"})]})]})},$.id))})}const pA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},Zm=["monday","tuesday","wednesday","thursday","friday"],ux=["Monday","Tuesday","Wednesday","Thursday","Friday"],cx=["Mon","Tue","Wed","Thu","Fri"],TT=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},hx=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),Zm.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},ci=r=>{const e=r.getFullYear(),n=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`},ep=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},tp=(r,e)=>{const n=ep(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},fx=r=>{const e=pA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=tp(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=tp(s,15)}return n};function dx(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState([]),[E,T]=U.useState(null),[w,L]=U.useState(null),[z,F]=U.useState(!1),[G,se]=U.useState(!1),[J,ae]=U.useState(""),[ve,$]=U.useState(""),[ne,C]=U.useState("single"),[R,I]=U.useState(!0);U.useEffect(()=>{s(hx(r))},[r]),U.useEffect(()=>{Ze()},[]);const x=re=>{if(T(re),F(!1),re.startDate){const oe=re.startDate.toDate?re.startDate.toDate():new Date(re.startDate);e(oe)}L(null)},O=re=>{const oe=new Date,De=ci(oe),Ye=`${oe.getHours().toString().padStart(2,"0")}:${oe.getMinutes().toString().padStart(2,"0")}`;return f.filter(be=>be.clientId!==re?!1:be.date<De||be.date===De&&be.time<Ye).length},k=re=>{const oe=O(re.id);return(re.totalSessions||0)-oe},D=re=>{const oe=new Date,De=oe.getFullYear(),Ye=(oe.getMonth()+1).toString().padStart(2,"0"),be=oe.getDate().toString().padStart(2,"0"),Xe=`${De}-${Ye}-${be}`,Ge=`${oe.getHours().toString().padStart(2,"0")}:${oe.getMinutes().toString().padStart(2,"0")}`;return f.filter(mt=>mt.clientId!==re?!1:mt.date>Xe||mt.date===Xe&&mt.time>=Ge).length},Ze=async()=>{try{const oe=(await ds(Vn(Bt,"clients"))).docs.map(Ge=>({id:Ge.id,...Ge.data()})).filter(Ge=>Ge.status==="active");u(oe);const Ye=(await ds(Vn(Bt,"sessions"))).docs.map(Ge=>({id:Ge.id,...Ge.data()}));m(Ye);const Xe=(await ds(Vn(Bt,"holidays"))).docs.map(Ge=>({id:Ge.id,...Ge.data()}));y(Xe)}catch(re){console.error("Error fetching data:",re)}I(!1)},ft=re=>{const oe=new Date(r);oe.setDate(oe.getDate()+re*7),e(oe),L(null)},Q=()=>{e(new Date),L(null)},le=re=>{const oe=ci(re);return p.some(De=>De.date===oe)},ge=re=>{const oe=ci(re);return f.filter(De=>De.date===oe)},Me=(re,oe)=>{const De=ci(re);return f.find(Ye=>Ye.date===De&&Ye.time===oe)},qe=(re,oe,De)=>{const Ye=Zm[re.getDay()-1];if(!Ye||le(re))return!1;const be=ci(re);if(f.find(rt=>rt.date===be&&rt.time===oe))return!1;const Ge=tp(oe,De),mt=pA[Ye],ut=mt.morning&&Ge<=mt.morning.end,Qt=mt.afternoon&&Ge<=mt.afternoon.end,Xt=mt.morning&&oe>=mt.morning.start&&oe<mt.morning.end,ct=mt.afternoon&&oe>=mt.afternoon.start&&oe<mt.afternoon.end;if(Xt&&!ut||ct&&!Qt)return!1;for(const rt of f){if(rt.date!==be)continue;const on=ep(rt.time),Jn=on+(rt.duration||45),Yi=ep(oe),At=Yi+De;if(Yi<Jn&&At>on)return!1}return!0},V=async(re,oe)=>{const De=Me(re,oe);if(De){if(window.confirm(`Cancel ${De.clientName}'s session at ${TT(oe)}?`))try{await jh(ea(Bt,"sessions",De.id)),m(f.filter(be=>be.id!==De.id))}catch(be){console.error("Error cancelling session:",be),alert("Failed to cancel session")}return}if(!E){alert("Please select a client first");return}if(!qe(re,oe,E.sessionDuration||45)){alert("This slot is not available for this client's session duration");return}if(f.filter(be=>be.clientId===E.id).length>=E.totalSessions){alert(`${E.name} has already booked all ${E.totalSessions} sessions`);return}try{const be=ci(re),Xe={clientId:E.id,clientName:E.name,date:be,time:oe,duration:E.sessionDuration||45,createdAt:Be.now()},Ge=await Gl(Vn(Bt,"sessions"),Xe);m([...f,{id:Ge.id,...Xe}])}catch(be){console.error("Error booking session:",be),alert("Failed to book session")}},Z=async()=>{if(!E)return;const re=E.startDate?.toDate?E.startDate.toDate():new Date(E.startDate),oe=E.endDate?.toDate?E.endDate.toDate():new Date(E.endDate),De=f.filter(ut=>ut.clientId!==E.id?!1:n.some(Qt=>ci(Qt)===ut.date));if(De.length===0){alert("No sessions in current week to repeat. Book some sessions first, then use this button.");return}const Ye=E.weeksInBlock||Math.ceil((oe-re)/(10080*60*1e3)),be=De.map(ut=>({dayOfWeek:new Date(ut.date).getDay(),time:ut.time}));let Xe=[];const Ge=f.filter(ut=>ut.clientId===E.id).length;for(let ut=0;ut<Ye;ut++){const Qt=new Date(re);Qt.setDate(Qt.getDate()+ut*7);const Xt=new Date(Qt),ct=Xt.getDay(),rt=Xt.getDate()-ct+(ct===0?-6:1);Xt.setDate(rt);for(const on of be){const Jn=new Date(Xt),Yi=on.dayOfWeek===0?6:on.dayOfWeek-1;Jn.setDate(Xt.getDate()+Yi);const At=ci(Jn);f.some(bn=>bn.clientId===E.id&&bn.date===At&&bn.time===on.time)||Jn<re||Jn>oe||p.some(bn=>bn.date===At)||Xe.push({dateKey:At,time:on.time,sessionDate:Jn})}}const mt=Ge+Xe.length;if(mt>E.totalSessions){alert(`This would create ${Xe.length} new sessions (${mt} total), but client only has ${E.totalSessions} sessions in their package.

You can still book ${E.totalSessions-Ge} more sessions.`);return}if(Xe.length===0){alert("All weeks already have sessions booked for this pattern.");return}if(window.confirm(`This will create ${Xe.length} new sessions across the block.

(${Ge} existing + ${Xe.length} new = ${mt} total)

Continue?`))try{const ut=[];for(const Qt of Xe){const Xt={clientId:E.id,clientName:E.name,date:Qt.dateKey,time:Qt.time,duration:E.sessionDuration||45,createdAt:Be.now()},ct=await Gl(Vn(Bt,"sessions"),Xt);ut.push({id:ct.id,...Xt})}m([...f,...ut]),alert(`Created ${ut.length} new sessions!`)}catch(ut){console.error("Error repeating weekly:",ut),alert("Failed to repeat sessions")}},ce=async()=>{if(J)try{const re=[];if(ne==="range"&&ve){const oe=new Date(J),De=new Date(ve);if(De<oe){alert("End date must be after start date");return}const Ye=new Date(oe);for(;Ye<=De;){const be=ci(Ye);if(!p.some(Xe=>Xe.date===be)){const Xe=await Gl(Vn(Bt,"holidays"),{date:be,createdAt:Be.now()});re.push({id:Xe.id,date:be})}Ye.setDate(Ye.getDate()+1)}y([...p,...re]),alert(`Added ${re.length} holiday(s)`)}else{if(p.some(De=>De.date===J)){alert("This date is already marked as a holiday");return}const oe=await Gl(Vn(Bt,"holidays"),{date:J,createdAt:Be.now()});y([...p,{id:oe.id,date:J}])}ae(""),$("")}catch(re){console.error("Error adding holiday:",re),alert("Failed to add holiday")}},fe=async re=>{try{await jh(ea(Bt,"holidays",re)),y(p.filter(oe=>oe.id!==re))}catch(oe){console.error("Error removing holiday:",oe)}};if(R)return b.jsx("div",{className:"calendar-loading",children:"Loading calendar..."});const Te=n[0],Re=n[4],Le=Te&&Re?`${Te.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${Re.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return b.jsxs("div",{className:"calendar",children:[b.jsxs("div",{className:"calendar-header",children:[b.jsxs("div",{className:"calendar-nav",children:[b.jsx("button",{onClick:()=>ft(-1),children:""}),b.jsx("button",{onClick:Q,children:"Today"}),b.jsx("button",{onClick:()=>ft(1),children:""})]}),b.jsx("h3",{children:Le}),b.jsx("button",{className:"holiday-btn",onClick:()=>se(!0),children:"Holidays"})]}),b.jsxs("div",{className:"client-selector",children:[b.jsx("span",{className:"selector-label",children:"Booking for:"}),E?b.jsxs("div",{className:"selected-client",children:[b.jsxs("div",{className:"selected-info",children:[b.jsx("strong",{children:E.name}),b.jsxs("span",{children:[E.sessionDuration||45,"min  ",k(E),"/",E.totalSessions," remaining"]}),b.jsxs("span",{className:"booked-info",children:[D(E.id)," booked"]})]}),b.jsx("button",{onClick:()=>T(null),children:"Change"})]}):b.jsx("button",{className:"select-client-btn",onClick:()=>F(!0),children:"Select Client"})]}),E&&b.jsxs("div",{className:"repeat-weekly-section",children:[b.jsx("button",{className:"repeat-weekly-btn",onClick:Z,children:"Repeat This Week's Schedule For All Weeks"}),b.jsx("span",{className:"repeat-hint",children:"Copies current week's sessions to all weeks in block"})]}),b.jsx("div",{className:"day-cards",children:n.map((re,oe)=>{const De=ge(re),Ye=ci(re)===ci(new Date),be=le(re);return b.jsxs("div",{className:`day-card ${w===oe?"selected":""} ${Ye?"today":""} ${be?"holiday":""}`,onClick:()=>!be&&L(w===oe?null:oe),children:[b.jsxs("div",{className:"day-card-header",children:[b.jsx("span",{className:"day-name",children:cx[oe]}),b.jsx("span",{className:"day-date",children:re.getDate()})]}),be?b.jsx("div",{className:"day-card-status holiday",children:"Unavailable"}):b.jsxs("div",{className:"day-card-status",children:[De.length," session",De.length!==1?"s":""]})]},oe)})}),w!==null&&n[w]&&!le(n[w])&&b.jsxs("div",{className:"time-panel",children:[b.jsxs("div",{className:"time-panel-header",children:[b.jsxs("h4",{children:[ux[w]," ",n[w].getDate()]}),b.jsx("button",{className:"close-panel",onClick:()=>L(null),children:""})]}),b.jsx("div",{className:"time-slots",children:fx(Zm[w]).map(({time:re,period:oe},De,Ye)=>{const be=Me(n[w],re),Xe=E&&qe(n[w],re,E.sessionDuration||45),Ge=De===0||Ye[De-1]?.period!==oe;return b.jsxs("div",{children:[Ge&&b.jsx("div",{className:"period-label",children:oe==="morning"?"Morning":"Afternoon"}),b.jsxs("button",{className:`time-slot ${be?"booked":""} ${Xe?"available":""} ${!be&&!Xe&&E?"unavailable":""}`,onClick:()=>V(n[w],re),children:[b.jsx("span",{className:"slot-time",children:TT(re)}),be?b.jsxs("span",{className:"slot-client",children:[be.clientName," (",be.duration,"m)"]}):Xe?b.jsx("span",{className:"slot-available",children:"Available"}):E?b.jsx("span",{className:"slot-unavailable",children:"Unavailable"}):b.jsx("span",{className:"slot-empty",children:"Select client to book"})]})]},re)})})]}),z&&b.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:b.jsxs("div",{className:"modal-content",onClick:re=>re.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{children:"Select Client"}),b.jsx("button",{className:"close-btn",onClick:()=>F(!1),children:""})]}),b.jsx("div",{className:"client-list-picker",children:o.length===0?b.jsx("p",{className:"no-items",children:"No active clients"}):o.map(re=>{const oe=re.startDate?.toDate?re.startDate.toDate():new Date(re.startDate),De=re.endDate?.toDate?re.endDate.toDate():new Date(re.endDate),Ye=k(re),be=D(re.id);return b.jsxs("button",{className:"client-option",onClick:()=>x(re),children:[b.jsx("strong",{children:re.name}),b.jsxs("span",{children:[re.sessionDuration||45,"min  ",Ye,"/",re.totalSessions," remaining  ",be," booked"]}),b.jsxs("span",{className:"client-dates",children:[oe.toLocaleDateString("en-GB",{day:"numeric",month:"short"})," - ",De.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]},re.id)})})]})}),G&&b.jsx("div",{className:"modal-overlay",onClick:()=>se(!1),children:b.jsxs("div",{className:"modal-content holiday-modal",onClick:re=>re.stopPropagation(),children:[b.jsxs("div",{className:"modal-header",children:[b.jsx("h3",{children:"Manage Holidays"}),b.jsx("button",{className:"close-btn",onClick:()=>se(!1),children:""})]}),b.jsxs("div",{className:"holiday-mode-toggle",children:[b.jsx("button",{className:`mode-btn ${ne==="single"?"active":""}`,onClick:()=>C("single"),children:"Single Day"}),b.jsx("button",{className:`mode-btn ${ne==="range"?"active":""}`,onClick:()=>C("range"),children:"Date Range"})]}),b.jsxs("div",{className:"holiday-form",children:[b.jsxs("div",{className:"date-inputs",children:[b.jsxs("div",{className:"date-field",children:[b.jsx("label",{children:ne==="range"?"Start Date":"Date"}),b.jsx("input",{type:"date",value:J,onChange:re=>ae(re.target.value)})]}),ne==="range"&&b.jsxs("div",{className:"date-field",children:[b.jsx("label",{children:"End Date"}),b.jsx("input",{type:"date",value:ve,onChange:re=>$(re.target.value),min:J})]})]}),b.jsx("button",{className:"add-holiday-btn",onClick:ce,children:ne==="range"?"Add Range":"Add Day"})]}),b.jsxs("div",{className:"holiday-list",children:[b.jsx("div",{className:"holiday-list-header",children:b.jsxs("span",{children:["Scheduled Holidays (",p.length,")"]})}),p.length===0?b.jsx("p",{className:"no-items",children:"No holidays set"}):[...p].sort((re,oe)=>re.date.localeCompare(oe.date)).map(re=>b.jsxs("div",{className:"holiday-item",children:[b.jsx("span",{children:new Date(re.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),b.jsx("button",{onClick:()=>fe(re.id),children:"Remove"})]},re.id))]})]})})]})}const ST=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},uu=r=>{const e=r.getFullYear(),n=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`},gA=r=>r===uu(new Date),mx=r=>{const e=new Date;return e.setDate(e.getDate()+1),r===uu(e)},AT=r=>gA(r)?"Today":mx(r)?"Tomorrow":new Date(r).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),bT=r=>{const e=new Date,n=uu(e),s=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;if(r.date<n)return!0;if(r.date===n){const o=wT(r.time)+(r.duration||45);return wT(s)>=o}return!1},wT=r=>{const[e,n]=r.split(":").map(Number);return e*60+n};function px(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(new Date);U.useEffect(()=>{f();const z=setInterval(()=>{u(new Date)},6e4);return()=>clearInterval(z)},[]);const f=async()=>{try{const F=(await ds(Vn(Bt,"sessions"))).docs.map(J=>({id:J.id,...J.data()})),G=uu(new Date),se=F.filter(J=>J.date>=G).sort((J,ae)=>J.date!==ae.date?J.date.localeCompare(ae.date):J.time.localeCompare(ae.time));e(se)}catch(z){console.error("Error fetching sessions:",z)}s(!1)},m=async z=>{if(window.confirm(`Cancel ${z.clientName}'s session at ${ST(z.time)} on ${AT(z.date)}?`))try{await jh(ea(Bt,"sessions",z.id)),e(r.filter(F=>F.id!==z.id))}catch(F){console.error("Error cancelling session:",F),alert("Failed to cancel session")}};if(n)return b.jsx("div",{className:"schedule-loading",children:"Loading schedule..."});const p=r.reduce((z,F)=>{const G=F.date;return z[G]||(z[G]=[]),z[G].push(F),z},{}),y=Object.keys(p).sort(),E=uu(new Date),T=p[E]||[],w=T.filter(z=>bT(z)).length,L=T.length-w;return b.jsxs("div",{className:"schedule",children:[b.jsxs("div",{className:"today-summary",children:[b.jsx("h3",{children:"Today's Sessions"}),b.jsx("div",{className:"today-count",children:T.length===0?b.jsx("span",{className:"no-sessions",children:"No sessions today"}):b.jsxs("div",{className:"today-stats",children:[b.jsxs("span",{className:"completed-count",children:[w," completed"]}),b.jsxs("span",{className:"remaining-count",children:[L," remaining"]})]})})]}),y.length===0?b.jsx("div",{className:"no-upcoming",children:b.jsx("p",{children:"No upcoming sessions booked"})}):b.jsx("div",{className:"sessions-list",children:y.map(z=>b.jsxs("div",{className:`date-group ${gA(z)?"today":""}`,children:[b.jsxs("div",{className:"date-header",children:[b.jsx("span",{className:"date-label",children:AT(z)}),b.jsxs("span",{className:"date-count",children:[p[z].length," session",p[z].length!==1?"s":""]})]}),b.jsx("div",{className:"date-sessions",children:p[z].map(F=>{const G=bT(F);return b.jsxs("div",{className:`session-card ${G?"completed":""}`,children:[b.jsx("div",{className:"session-time",children:ST(F.time)}),b.jsxs("div",{className:"session-details",children:[b.jsx("strong",{children:F.clientName}),b.jsxs("span",{children:[F.duration,"min session"]})]}),G?b.jsx("div",{className:"completed-badge",children:""}):b.jsx("button",{className:"cancel-session-btn",onClick:()=>m(F),children:"Cancel"})]},F.id)})})]},z))})]})}const yA={monday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},tuesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},wednesday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},thursday:{morning:{start:"06:15",end:"12:00"},afternoon:{start:"15:00",end:"20:00"}},friday:{morning:{start:"08:00",end:"10:00"},afternoon:null}},np=["monday","tuesday","wednesday","thursday","friday"],gx=["Monday","Tuesday","Wednesday","Thursday","Friday"],yx=r=>{const[e,n]=r.split(":"),s=parseInt(e),o=s>=12?"pm":"am";return`${s>12?s-12:s===0?12:s}:${n}${o}`},Ul=r=>{const e=r.getFullYear(),n=(r.getMonth()+1).toString().padStart(2,"0"),s=r.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`},_x=r=>{const e=new Date(r),n=e.getDay(),s=e.getDate()-n+(n===0?-6:1);return e.setDate(s),np.map((o,u)=>{const f=new Date(e);return f.setDate(e.getDate()+u),f})},ip=r=>{const[e,n]=r.split(":").map(Number);return e*60+n},rp=(r,e)=>{const n=ip(r)+e,s=Math.floor(n/60),o=n%60;return`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},vx=r=>{const e=yA[r];if(!e)return[];const n=[];if(e.morning){let s=e.morning.start;for(;s<e.morning.end;)n.push({time:s,period:"morning"}),s=rp(s,15)}if(e.afternoon){let s=e.afternoon.start;for(;s<e.afternoon.end;)n.push({time:s,period:"afternoon"}),s=rp(s,15)}return n};function Ex(){const[r,e]=U.useState(new Date),[n,s]=U.useState([]),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState(!0),[E,T]=U.useState(45);U.useEffect(()=>{s(_x(r))},[r]),U.useEffect(()=>{w()},[]);const w=async()=>{try{const ne=(await ds(Vn(Bt,"sessions"))).docs.map(I=>({id:I.id,...I.data()}));u(ne);const R=(await ds(Vn(Bt,"holidays"))).docs.map(I=>({id:I.id,...I.data()}));m(R)}catch($){console.error("Error fetching data:",$)}y(!1)},L=$=>{const ne=new Date(r);ne.setDate(ne.getDate()+$*7),e(ne)},z=()=>{e(new Date)},F=$=>{const ne=Ul($);return f.some(C=>C.date===ne)},G=($,ne)=>{const C=np[$.getDay()-1];if(!C||F($))return!1;const R=Ul($),I=new Date,x=Ul(I);if(R<x)return!1;if(R===x){const le=`${I.getHours().toString().padStart(2,"0")}:${I.getMinutes().toString().padStart(2,"0")}`;if(ne<le)return!1}const O=rp(ne,E),k=yA[C],D=k.morning&&ne>=k.morning.start&&ne<k.morning.end,Ze=k.afternoon&&ne>=k.afternoon.start&&ne<k.afternoon.end,ft=k.morning&&O<=k.morning.end,Q=k.afternoon&&O<=k.afternoon.end;if(D&&!ft||Ze&&!Q)return!1;for(const le of o){if(le.date!==R)continue;const ge=ip(le.time),Me=ge+(le.duration||45),qe=ip(ne),V=qe+E;if(qe<Me&&V>ge)return!1}return!0},se=($,ne)=>{const C=np[ne];return vx(C).filter(I=>G($,I.time))};if(p)return b.jsx("div",{className:"availability-loading",children:"Loading availability..."});const J=n[0],ae=n[4],ve=J&&ae?`${J.toLocaleDateString("en-GB",{day:"numeric",month:"short"})} - ${ae.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"";return b.jsxs("div",{className:"availability",children:[b.jsxs("div",{className:"availability-header",children:[b.jsxs("div",{className:"availability-nav",children:[b.jsx("button",{onClick:()=>L(-1),children:""}),b.jsx("button",{onClick:z,children:"Today"}),b.jsx("button",{onClick:()=>L(1),children:""})]}),b.jsx("h3",{children:ve}),b.jsxs("div",{className:"duration-selector",children:[b.jsx("label",{children:"Session:"}),b.jsxs("select",{value:E,onChange:$=>T(Number($.target.value)),children:[b.jsx("option",{value:30,children:"30 min"}),b.jsx("option",{value:45,children:"45 min"}),b.jsx("option",{value:60,children:"60 min"})]})]})]}),b.jsx("div",{className:"availability-grid",children:n.map(($,ne)=>{const C=F($),R=C?[]:se($,ne),I=Ul($)===Ul(new Date),x=$<new Date&&!I;return b.jsxs("div",{className:`day-column ${I?"today":""} ${x?"past":""}`,children:[b.jsxs("div",{className:"day-header",children:[b.jsx("span",{className:"day-name",children:gx[ne]}),b.jsxs("span",{className:"day-date",children:[$.getDate(),"/",$.getMonth()+1]}),C&&b.jsx("span",{className:"holiday-badge",children:"Holiday"})]}),b.jsx("div",{className:"slots-container",children:C?b.jsx("div",{className:"no-slots",children:"Unavailable"}):R.length===0?b.jsx("div",{className:"no-slots",children:"Fully booked"}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"slots-count",children:[R.length," slots"]}),b.jsx("div",{className:"slots-list",children:R.map(O=>b.jsx("div",{className:`slot ${O.period}`,children:yx(O.time)},O.time))})]})})]},ne)})})]})}function Tx(){const[r,e]=U.useState("schedule"),[n,s]=U.useState(0),[o,u]=U.useState(!1),{currentUser:f,logout:m,isAdmin:p,loading:y}=sg(),E=Ao(),T=U.useRef(0),w=U.useRef(!1);U.useRef(null),U.useEffect(()=>{!y&&(!f||!p)&&E("/")},[f,p,y,E]),U.useEffect(()=>{const G=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,se=ve=>{G()<=0&&(T.current=ve.touches[0].clientY,w.current=!0)},J=ve=>{if(!w.current)return;const ne=ve.touches[0].clientY-T.current;ne>0&&G()<=0&&s(Math.min(ne*.5,80))},ae=()=>{n>60?(u(!0),setTimeout(()=>{window.location.reload()},300)):s(0),w.current=!1};return document.addEventListener("touchstart",se,{passive:!0}),document.addEventListener("touchmove",J,{passive:!0}),document.addEventListener("touchend",ae),()=>{document.removeEventListener("touchstart",se),document.removeEventListener("touchmove",J),document.removeEventListener("touchend",ae)}},[n]);const L=()=>{u(!0),setTimeout(()=>{window.location.reload()},300)},z=async()=>{try{await m(),E("/")}catch(G){console.error("Failed to log out:",G)}},F=()=>{E("/add-client")};return y?b.jsx("div",{className:"loading",children:"Loading..."}):!f||!p?null:b.jsxs("div",{className:"dashboard",children:[n>0&&b.jsxs("div",{className:"pull-indicator",style:{height:n},children:[b.jsx("div",{className:`pull-spinner ${o?"spinning":""}`,children:o?"":""}),b.jsx("span",{children:o?"Refreshing...":n>60?"Release to refresh":"Pull to refresh"})]}),b.jsxs("header",{className:"dashboard-header",children:[b.jsxs("div",{className:"header-left",children:[b.jsx("h1",{children:"Mind Core Fitness"}),b.jsx("span",{className:"admin-badge",children:"Admin"})]}),b.jsxs("nav",{className:"header-nav",children:[b.jsx("button",{className:`nav-btn ${r==="schedule"?"active":""}`,onClick:()=>e("schedule"),children:"Today"}),b.jsx("button",{className:`nav-btn ${r==="clients"?"active":""}`,onClick:()=>e("clients"),children:"Clients"}),b.jsx("button",{className:`nav-btn ${r==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar"}),b.jsx("button",{className:`nav-btn ${r==="availability"?"active":""}`,onClick:()=>e("availability"),children:"Slots"})]}),b.jsxs("div",{className:"header-actions",children:[b.jsx("button",{className:"refresh-btn",onClick:L,disabled:o,children:o?"":""}),b.jsx("button",{className:"logout-btn",onClick:z,children:"Log Out"})]})]}),b.jsxs("main",{className:"dashboard-main",children:[r==="schedule"&&b.jsxs("div",{className:"schedule-view",children:[b.jsx("div",{className:"view-header",children:b.jsx("h2",{children:"Schedule"})}),b.jsx(px,{})]}),r==="clients"&&b.jsxs("div",{className:"clients-view",children:[b.jsxs("div",{className:"view-header",children:[b.jsx("h2",{children:"Clients"}),b.jsx("button",{className:"add-btn",onClick:F,children:"+ Add Client"})]}),b.jsx(lx,{})]}),r==="calendar"&&b.jsxs("div",{className:"calendar-view",children:[b.jsx("div",{className:"view-header",children:b.jsx("h2",{children:"Calendar"})}),b.jsx(dx,{})]}),r==="availability"&&b.jsxs("div",{className:"availability-view",children:[b.jsx("div",{className:"view-header",children:b.jsx("h2",{children:"Available Slots"})}),b.jsx(Ex,{})]})]})]})}function Sx(){const[r,e]=U.useState({name:"",email:"",weeksInBlock:"",numberOfSessions:"",sessionDuration:"45",startDate:"",endDate:""}),[n,s]=U.useState(!1),[o,u]=U.useState(""),{currentUser:f,isAdmin:m,loading:p}=sg(),y=Ao();U.useEffect(()=>{!p&&(!f||!m)&&y("/")},[f,m,p,y]),U.useEffect(()=>{if(r.startDate&&r.weeksInBlock){const L=new Date(r.startDate),z=parseInt(r.weeksInBlock);if(!isNaN(z)&&z>0){const F=new Date(L);F.setDate(F.getDate()+z*7),e(G=>({...G,endDate:F.toISOString().split("T")[0]}))}}},[r.startDate,r.weeksInBlock]);const E=L=>{const{name:z,value:F}=L.target;e(G=>({...G,[z]:F}))},T=async L=>{L.preventDefault(),u(""),s(!0);try{const z={name:r.name.trim(),email:r.email.trim().toLowerCase(),weeksInBlock:parseInt(r.weeksInBlock),totalSessions:parseInt(r.numberOfSessions),sessionsRemaining:parseInt(r.numberOfSessions),sessionDuration:parseInt(r.sessionDuration),startDate:Be.fromDate(new Date(r.startDate)),endDate:Be.fromDate(new Date(r.endDate)),status:"active",createdAt:Be.now()};await Gl(Vn(Bt,"clients"),z),y("/dashboard")}catch(z){console.error("Error adding client:",z),u("Failed to add client. Please try again."),s(!1)}},w=()=>{y("/dashboard")};return p?b.jsx("div",{className:"loading",children:"Loading..."}):!f||!m?null:b.jsxs("div",{className:"add-client-page",children:[b.jsxs("header",{className:"page-header",children:[b.jsx("button",{className:"back-btn",onClick:w,children:" Back"}),b.jsx("h1",{children:"Add New Client"})]}),b.jsxs("main",{className:"page-content",children:[o&&b.jsx("div",{className:"form-error",children:o}),b.jsxs("form",{onSubmit:T,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"name",children:"Client Name"}),b.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:E,placeholder:"John Smith",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"email",children:"Client Email"}),b.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,placeholder:"john@example.com",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"weeksInBlock",children:"Weeks in Block"}),b.jsx("input",{type:"number",id:"weeksInBlock",name:"weeksInBlock",value:r.weeksInBlock,onChange:E,placeholder:"8",min:"1",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"numberOfSessions",children:"Number of Sessions"}),b.jsx("input",{type:"number",id:"numberOfSessions",name:"numberOfSessions",value:r.numberOfSessions,onChange:E,placeholder:"16",min:"1",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"sessionDuration",children:"Session Duration"}),b.jsxs("select",{id:"sessionDuration",name:"sessionDuration",value:r.sessionDuration,onChange:E,required:!0,children:[b.jsx("option",{value:"30",children:"30 minutes"}),b.jsx("option",{value:"45",children:"45 minutes"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"startDate",children:"Start Date"}),b.jsx("input",{type:"date",id:"startDate",name:"startDate",value:r.startDate,onChange:E,required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"endDate",children:"End Date (auto-calculated)"}),b.jsx("input",{type:"date",id:"endDate",name:"endDate",value:r.endDate,onChange:E,required:!0}),b.jsx("span",{className:"helper-text",children:"Calculated from start date + weeks"})]}),b.jsxs("div",{className:"form-actions",children:[b.jsx("button",{type:"button",className:"cancel-btn",onClick:w,children:"Cancel"}),b.jsx("button",{type:"submit",className:"submit-btn",disabled:n,children:n?"Saving...":"Save Client"})]})]})]})]})}function Ax(){const r=Ao();return U.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace("/login","")||"/";r(n,{replace:!0})}},[r]),null}function bx(){return b.jsx(ax,{children:b.jsxs(w1,{basename:"/login",children:[b.jsx(Ax,{}),b.jsxs(t1,{children:[b.jsx(jl,{path:"/",element:b.jsx(ox,{})}),b.jsx(jl,{path:"/dashboard",element:b.jsx(Tx,{})}),b.jsx(jl,{path:"/add-client",element:b.jsx(Sx,{})}),b.jsx(jl,{path:"*",element:b.jsx(Zw,{to:"/",replace:!0})})]})]})})}iw.createRoot(document.getElementById("root")).render(b.jsx(U.StrictMode,{children:b.jsx(bx,{})}));
